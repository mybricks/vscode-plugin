!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("antd"),require("icons")):"function"==typeof define&&define.amd?define(["react","react-dom","antd","icons"],t):"object"==typeof exports?exports.mybricks=t(require("react"),require("react-dom"),require("antd"),require("icons")):e.mybricks=t(e.React,e.ReactDOM,e.antd,e.icons)}(self,((__WEBPACK_EXTERNAL_MODULE__64012__,__WEBPACK_EXTERNAL_MODULE__76033__,__WEBPACK_EXTERNAL_MODULE__72059__,__WEBPACK_EXTERNAL_MODULE__4818__)=>(()=>{var __webpack_modules__={93042:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},73225:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},88425:e=>{"use strict";e.exports=function(e){return e[1]}},57616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;const i=n(52711),o=n(2220),r=i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return(new Date).getTime()};class s{constructor(e,t){this.id=s.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,n=t.length;for(let i=0;i<n;i++)if(t[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=s.animations,t=e.length;for(let n=0;n<t;n++)if(e[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),s._addAnimation(this),this}stop(){return s._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,n=this.animations,i=n.length;for(let e=0;e<i;e++)if(n[e].id===t){this.animations.splice(e,1);break}}static _runFrames(){const e={},t=this.animations;for(let n=0;n<t.length;n++){const i=t[n],o=i.layers,s=i.func;i._updateFrameObject(r());const a=o.length;let l;if(l=!s||!1!==s.call(i,i.frame),l)for(let t=0;t<a;t++){const n=o[t];void 0!==n._id&&(e[n._id]=n)}}for(const t in e)e.hasOwnProperty(t)&&e[t].batchDraw()}static _animationLoop(){const e=s;e.animations.length?(e._runFrames(),o.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,o.Util.requestAnimFrame(this._animationLoop))}}t.Animation=s,s.animations=[],s.animIdCounter=0,s.animRunning=!1},73394:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];t.getCubicArcLength=(e,i,o)=>{let r,s;const a=o/2;r=0;for(let o=0;o<20;o++)s=a*t.tValues[20][o]+a,r+=t.cValues[20][o]*n(e,i,s);return a*r};function n(e,t,n){const o=i(1,n,e),r=i(1,n,t),s=o*o+r*r;return Math.sqrt(s)}t.getQuadraticArcLength=(e,t,n)=>{void 0===n&&(n=1);const i=e[0]-2*e[1]+e[2],o=t[0]-2*t[1]+t[2],r=2*e[1]-2*e[0],s=2*t[1]-2*t[0],a=4*(i*i+o*o),l=4*(i*r+o*s),c=r*r+s*s;if(0===a)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const d=l/(2*a),u=n+d,p=c/a-d*d,f=u*u+p>0?Math.sqrt(u*u+p):0,h=d*d+p>0?Math.sqrt(d*d+p):0,m=d+Math.sqrt(d*d+p)!==0?p*Math.log(Math.abs((u+f)/(d+h))):0;return Math.sqrt(a)/2*(u*f-d*h+m)};const i=(e,n,o)=>{const r=o.length-1;let s,a;if(0===r)return 0;if(0===e){a=0;for(let e=0;e<=r;e++)a+=t.binomialCoefficients[r][e]*Math.pow(1-n,r-e)*Math.pow(n,e)*o[e];return a}s=new Array(r);for(let e=0;e<r;e++)s[e]=r*(o[e+1]-o[e]);return i(e-1,n,s)};t.t2length=(e,t,n)=>{let i=1,o=e/t,r=(e-n(o))/t,s=0;for(;i>.001;){const a=n(o+r),l=Math.abs(e-a)/t;if(l<i)i=l,o+=r;else{const s=n(o-r),a=Math.abs(e-s)/t;a<i?(i=a,o-=r):r/=2}if(s++,s>500)break}return o}},924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitCanvas=t.SceneCanvas=t.Canvas=void 0;const i=n(2220),o=n(89357),r=n(52711),s=n(5852),a=n(87067);let l;class c{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const t=(e||{}).pixelRatio||r.Konva.pixelRatio||function(){if(l)return l;const e=i.Util.createCanvasElement(),t=e.getContext("2d");return l=(r.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),i.Util.releaseCanvas(e),l}();this.pixelRatio=t,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return i.Util.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}t.Canvas=c,s.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,a.getNumberValidator)());t.SceneCanvas=class extends c{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new o.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};t.HitCanvas=class extends c{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new o.HitContext(this),this.setSize(e.width,e.height)}}},46265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const i=n(5852),o=n(84344),r=n(87067);class s extends o.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[],n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(...e){if(0===e.length)return this;if(e.length>1){for(let t=0;t<e.length;t++)this.add(e[t]);return this}const t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const n=[];return this._descendants((i=>{const o=i._isMatch(e);return o&&n.push(i),!(!o||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const i of n){if(t=e(i),t)return!0;if(i.hasChildren()&&(t=i._descendants(e),t))return!0}return!1}toObject(){const e=o.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=o.Node.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach((n=>{n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t,n){const i=this.getLayer(),o=e||i&&i.getCanvas(),r=o&&o.getContext(),s=this._getCanvasCache(),a=s&&s.scene,l=o&&o.isCache;if(!this.isVisible()&&!l)return this;if(a){r.save();const e=this.getAbsoluteTransform(t).getMatrix();r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",o,t,n);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const n=this.getLayer(),i=e||n&&n.hitCanvas,o=i&&i.getContext(),r=this._getCanvasCache();if(r&&r.hit){o.save();const e=this.getAbsoluteTransform(t).getMatrix();o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,t);return this}_drawChildren(e,t,n,i){var o;const r=t&&t.getContext(),s=this.clipWidth(),a=this.clipHeight(),l=this.clipFunc(),c="number"==typeof s&&"number"==typeof a||l,d=n===this;if(c){r.save();const e=this.getAbsoluteTransform(n);let t,i=e.getMatrix();if(r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.beginPath(),l)t=l.call(this,r,this);else{const e=this.clipX(),t=this.clipY();r.rect(e||0,t||0,s,a)}r.clip.apply(r,t),i=e.copy().invert().getMatrix(),r.transform(i[0],i[1],i[2],i[3],i[4],i[5])}const u=!d&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;u&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(o=this.children)||void 0===o||o.forEach((function(o){o[e](t,n,i)})),u&&r.restore(),c&&r.restore()}getClientRect(e={}){var t;const n=e.skipTransform,i=e.relativeTo;let o,r,s,a,l={x:1/0,y:1/0,width:0,height:0};const c=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(!t.visible())return;const n=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===n.width&&0===n.height||(void 0===o?(o=n.x,r=n.y,s=n.x+n.width,a=n.y+n.height):(o=Math.min(o,n.x),r=Math.min(r,n.y),s=Math.max(s,n.x+n.width),a=Math.max(a,n.y+n.height)))}));const d=this.find("Shape");let u=!1;for(let e=0;e<d.length;e++){if(d[e]._isVisible(this)){u=!0;break}}return l=u&&void 0!==o?{x:o,y:r,width:s-o,height:a-r}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,i)}}t.Container=s,i.Factory.addComponentsGetterSetter(s,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(s,"clipX",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipY",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipWidth",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipHeight",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipFunc")},89357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitContext=t.SceneContext=t.Context=void 0;const i=n(2220),o=n(52711);const r=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class s{constructor(e){this.canvas=e,o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let n,o,r,s,a=this.traceArr,l=a.length,c="";for(n=0;n<l;n++)o=a[n],r=o.method,r?(s=o.args,c+=r,e?c+="()":i.Util._isArray(s[0])?c+="(["+s.join(",")+"])":(t&&(s=s.map((e=>"number"==typeof e?Math.floor(e):e))),c+="("+s.join(",")+")")):(c+=o.property,e||(c+="="+o.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(e){let t,n=this.traceArr;n.push(e),t=n.length,t>=100&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,i,o,r){this._context.arc(e,t,n,i,o,r)}arcTo(e,t,n,i,o){this._context.arcTo(e,t,n,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,i,o,r){this._context.bezierCurveTo(e,t,n,i,o,r)}clearRect(e,t,n,i){this._context.clearRect(e,t,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){const n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,i){return this._context.createLinearGradient(e,t,n,i)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,i,o,r){return this._context.createRadialGradient(e,t,n,i,o,r)}drawImage(e,t,n,i,o,r,s,a,l){const c=arguments,d=this._context;3===c.length?d.drawImage(e,t,n):5===c.length?d.drawImage(e,t,n,i,o):9===c.length&&d.drawImage(e,t,n,i,o,r,s,a,l)}ellipse(e,t,n,i,o,r,s,a){this._context.ellipse(e,t,n,i,o,r,s,a)}isPointInPath(e,t,n,i){return n?this._context.isPointInPath(n,e,t,i):this._context.isPointInPath(e,t,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,n,i){this._context.fillRect(e,t,n,i)}strokeRect(e,t,n,i){this._context.strokeRect(e,t,n,i)}fillText(e,t,n,i){i?this._context.fillText(e,t,n,i):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,i){return this._context.getImageData(e,t,n,i)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,i){this._context.rect(e,t,n,i)}roundRect(e,t,n,i,o){this._context.roundRect(e,t,n,i,o)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,i){this._context.quadraticCurveTo(e,t,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,i,o,r){this._context.setTransform(e,t,n,i,o,r)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,i){this._context.strokeText(e,t,n,i)}transform(e,t,n,i,o,r){this._context.transform(e,t,n,i,o,r)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e,t,n=this,o=r.length,s=this.setAttr;const a=function(e){let o,r=n[e];n[e]=function(){return t=function(e){const t=[],n=e.length,o=i.Util;for(let i=0;i<n;i++){let n=e[i];o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),t.push(n)}return t}(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:e,args:t}),o}};for(e=0;e<o;e++)a(r[e]);n.setAttr=function(){s.apply(n,arguments);const e=arguments[0];let t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}t.Context=s,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(s.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));t.SceneContext=class extends s{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const i=e.getFillPatternImage();if(i&&"pattern"===n)return void this._fillPattern(e);const o=e.getFillLinearGradientColorStops();if(o&&"linear-gradient"===n)return void this._fillLinearGradient(e);const r=e.getFillRadialGradientColorStops();r&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):r&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,n.x,n.y);if(i){for(let e=0;e<i.length;e+=2)o.addColorStop(i[e],i[e+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,i;const o=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",r=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,s=null!==(i=e.getShadowOffset())&&void 0!==i?i:{x:0,y:0},a=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=a.x*l,d=a.y*l;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(d))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*d)}};t.HitContext=class extends s{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),i="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}},32935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var i=n(16840);Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return i.Konva}});const o=n(16840);e.exports=o.Konva},3524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const i=n(52711),o=n(2220);t.DD={get isDragging(){let e=!1;return t.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){let e;return t.DD._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const n=[];t.DD._dragElements.forEach(((t,i)=>{const{node:r}=t,s=r.getStage();s.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=o.Util._getFirstPointerId(e));const a=s._changedPointerPositions.find((e=>e.id===t.pointerId));if(a){if("dragging"!==t.dragStatus){const n=r.dragDistance();if(Math.max(Math.abs(a.x-t.startPointerPos.x),Math.abs(a.y-t.startPointerPos.y))<n)return;if(r.startDrag({evt:e}),!r.isDragging())return}r._setDragPosition(e,t),n.push(r)}})),n.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){const n=[];t.DD._dragElements.forEach((o=>{const{node:r}=o,s=r.getStage();e&&s.setPointersPositions(e);if(!s._changedPointerPositions.find((e=>e.id===o.pointerId)))return;"dragging"!==o.dragStatus&&"stopped"!==o.dragStatus||(t.DD.justDragged=!0,i.Konva._mouseListenClick=!1,i.Konva._touchListenClick=!1,i.Konva._pointerListenClick=!1,o.dragStatus="stopped");const a=o.node.getLayer()||o.node instanceof i.Konva.Stage&&o.node;a&&-1===n.indexOf(a)&&n.push(a)})),n.forEach((e=>{e.draw()}))},_endDragAfter(e){t.DD._dragElements.forEach(((n,i)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:e},!0),"dragging"!==n.dragStatus&&t.DD._dragElements.delete(i)}))}},i.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))},5852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const i=n(2220),o=n(87067),r="get",s="set";t.Factory={addGetterSetter(e,n,i,o,r){t.Factory.addGetter(e,n,i),t.Factory.addSetter(e,n,o,r),t.Factory.addOverloadedGetterSetter(e,n)},addGetter(e,t,n){var o=r+i.Util._capitalize(t);e.prototype[o]=e.prototype[o]||function(){const e=this.attrs[t];return void 0===e?n:e}},addSetter(e,n,o,r){var a=s+i.Util._capitalize(n);e.prototype[a]||t.Factory.overWriteSetter(e,n,o,r)},overWriteSetter(e,t,n,o){var r=s+i.Util._capitalize(t);e.prototype[r]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),o&&o.call(this),this}},addComponentsGetterSetter(e,n,a,l,c){const d=a.length,u=i.Util._capitalize,p=r+u(n),f=s+u(n);e.prototype[p]=function(){const e={};for(let t=0;t<d;t++){const i=a[t];e[i]=this.getAttr(n+u(i))}return e};const h=(0,o.getComponentValidator)(a);e.prototype[f]=function(e){const t=this.attrs[n];l&&(e=l.call(this,e,n)),h&&h.call(this,e,n);for(const t in e)e.hasOwnProperty(t)&&this._setAttr(n+u(t),e[t]);return e||a.forEach((e=>{this._setAttr(n+u(e),void 0)})),this._fireChangeEvent(n,t,e),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(e,n)},addOverloadedGetterSetter(e,t){var n=i.Util._capitalize(t),o=s+n,a=r+n;e.prototype[t]=function(){return arguments.length?(this[o](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(e,n,o,s){i.Util.error("Adding deprecated "+n);const a=r+i.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[a]=function(){i.Util.error(l);const e=this.attrs[n];return void 0===e?o:e},t.Factory.addSetter(e,n,s,(function(){i.Util.error(l)})),t.Factory.addOverloadedGetterSetter(e,n)},backCompat(e,t){i.Util.each(t,(function(t,n){const o=e.prototype[n],a=r+i.Util._capitalize(t),l=s+i.Util._capitalize(t);function c(){o.apply(this,arguments),i.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=c,e.prototype[a]=c,e.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},48017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastLayer=void 0;const i=n(2220),o=n(98235),r=n(52711);class s extends o.Layer{constructor(e){super(e),this.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}t.FastLayer=s,s.prototype.nodeType="FastLayer",(0,r._registerNode)(s)},52711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const i=Math.PI/180;t.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},t.Konva={_global:t.glob,version:"9.3.18",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>t.Konva.angleDeg?e*i:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>t.Konva.DD.isDragging,isTransforming(){var e;return null===(e=t.Konva.Transformer)||void 0===e?void 0:e.isTransforming()},isDragReady:()=>!!t.Konva.DD.node,releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(e){t.glob.Konva=e}};t._registerNode=e=>{t.Konva[e.prototype.getClassName()]=e},t.Konva._injectGlobal(t.Konva)},6637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;const i=n(2220),o=n(46265),r=n(52711);class s extends o.Container{_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&i.Util.throw("You may only add groups and shapes to groups.")}}t.Group=s,s.prototype.nodeType="Group",(0,r._registerNode)(s)},98235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;const i=n(2220),o=n(46265),r=n(84344),s=n(5852),a=n(924),l=n(87067),c=n(63315),d=n(52711),u=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=u.length;class f extends o.Container{constructor(e){super(e),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),e&&e.parentNode&&i.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&i.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,n=!1;for(;;){for(let i=0;i<p;i++){const o=u[i],r=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),s=r.shape;if(s)return s;if(n=!!r.antialiased,!r.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,o=n[3];if(255===o){const e=i.Util._rgbToHex(n[0],n[1],n[2]),t=c.shapes["#"+e];return t?{shape:t}:{antialiased:!0}}return o>0?{antialiased:!0}:{}}drawScene(e,t){const n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),o.Container.prototype.drawScene.call(this,i,t),this._fire("draw",{node:this}),this}drawHit(e,t){const n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),o.Container.prototype.drawHit.call(this,i,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return i.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}t.Layer=f,f.prototype.nodeType="Layer",(0,d._registerNode)(f),s.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(f,"clearBeforeDraw",!0),s.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},84344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;const i=n(2220),o=n(5852),r=n(924),s=n(52711),a=n(3524),l=n(87067),c="absoluteOpacity",d="allEventListeners",u="absoluteTransform",p="absoluteScale",f="canvas",h="listening",m="mouseenter",g="mouseleave",y="Shape",b=" ",v="stage",x="transform",A="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let E=1;class C{constructor(e){this._id=E++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==x&&e!==u||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){let n=this._cache.get(e);return(void 0===n||(e===x||e===u)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(b);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===u&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:e,filter:t,hit:n}=this._cache.get(f);i.Util.releaseCanvas(e,t,n),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let o=Math.ceil(t.width||n.width),s=Math.ceil(t.height||n.height),a=t.pixelRatio,l=void 0===t.x?Math.floor(n.x):t.x,d=void 0===t.y?Math.floor(n.y):t.y,u=t.offset||0,h=t.drawBorder||!1,m=t.hitCanvasPixelRatio||1;if(!o||!s)return void i.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");o+=2*u+(Math.abs(Math.round(n.x)-l)>.5?1:0),s+=2*u+(Math.abs(Math.round(n.y)-d)>.5?1:0),l-=u,d-=u;const g=new r.SceneCanvas({pixelRatio:a,width:o,height:s}),y=new r.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),b=new r.HitCanvas({pixelRatio:m,width:o,height:s}),v=g.getContext(),x=b.getContext();return b.isCache=!0,g.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),v.save(),x.save(),v.translate(-l,-d),x.translate(-l,-d),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this.drawScene(g,this),this.drawHit(b,this),this._isUnderCache=!1,v.restore(),x.restore(),h&&(v.save(),v.beginPath(),v.rect(0,0,o,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(f,{scene:g,filter:y,hit:b,x:l,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,o=1/0,r=-1/0,s=-1/0;const a=this.getAbsoluteTransform(t);return n.forEach((function(e){const t=a.point(e);void 0===i&&(i=r=t.x,o=s=t.y),i=Math.min(i,t.x),o=Math.min(o,t.y),r=Math.max(r,t.x),s=Math.max(s,t.y)})),{x:i,y:o,width:r-i,height:s-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e,t,n,o,r=this.filters(),s=this._getCanvasCache(),a=s.scene,l=s.filter,c=l.getContext();if(r){if(!this._filterUpToDate){const s=a.pixelRatio;l.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=r.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/s,a.getHeight()/s),t=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<e;n++)o=r[n],"function"==typeof o?(o.call(this,t),c.putImageData(t,0,0)):i.Util.error("Filter should be type of function, but got "+typeof o+" instead. Please check correct filters")}catch(e){i.Util.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return a}on(e,t){if(this._cache&&this._cache.delete(d),3===arguments.length)return this._delegate.apply(this,arguments);let n,i,o,r,s,a=e.split(b),l=a.length;for(n=0;n<l;n++)i=a[n],o=i.split("."),r=o[0],s=o[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:s,handler:t});return this}off(e,t){let n,i,o,r,s,a,l=(e||"").split(b),c=l.length;if(this._cache&&this._cache.delete(d),!e)for(i in this.eventListeners)this._off(i);for(n=0;n<c;n++)if(o=l[n],r=o.split("."),s=r[0],a=r[1],s)this.eventListeners[s]&&this._off(s,a,t);else for(i in this.eventListeners)this._off(i,a,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){const o=this;this.on(e,(function(e){const r=e.target.findAncestors(t,!0,o);for(let t=0;t<r.length;t++)(e=i.Util.cloneObject(e)).currentTarget=r[t],n.call(r[t],e)}))}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(A),this._clearSelfAndDescendantCache(h)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+i.Util._capitalize(e);return i.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{let t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+i.Util._capitalize(t),i.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(h,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(A,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let i=!1;a.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(i=!0)}));const o=!t&&!s.Konva.hitOnDragEnabled&&(i||s.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e,t,n,i,o=this.getDepth(),r=this,s=0;const a=this.getStage();return"Stage"!==r.nodeType&&a&&function a(l){for(e=[],t=l.length,n=0;n<t;n++)i=l[n],s++,i.nodeType!==y&&(e=e.concat(i.getChildren().slice())),i._id===r._id&&(n=t);e.length>0&&e[0].getDepth()<=o&&a(e)}(a.getChildren()),s}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(x),this._clearSelfAndDescendantCache(u)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);const o=this.getAbsoluteTransform(e).getMatrix(),r=new i.Transform,s=this.offset();return r.m=o.slice(),r.translate(s.x,s.y),r.getTranslation()}setAbsolutePosition(e){const{x:t,y:n,...i}=this._clearTransform();this.attrs.x=t,this.attrs.y=n,this._clearCache(x);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(x),this._clearSelfAndDescendantCache(u),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,n=e.y,i=this.x(),o=this.y();return void 0!==t&&(i+=t),void 0!==n&&(o+=n),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,t){let n,i,o=[],r=this.getParent();if(!t||t._id!==this._id){for(o.unshift(this);r&&(!t||r._id!==t._id);)o.unshift(r),r=r.parent;for(n=o.length,i=0;i<n;i++)e(o[i])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return i.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return i.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return i.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return i.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return i.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&i.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e,t,n,o,r,s=this.getAttrs();const a={attrs:{},className:this.getClassName()};for(e in s)t=s[e],r=i.Util.isObject(t)&&!i.Util._isPlainObject(t)&&!i.Util._isArray(t),r||(n="function"==typeof this[e]&&this[e],delete s[e],o=n?n.call(this):null,s[e]=t,o!==t&&(a.attrs[e]=t));return i.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){const i=[];t&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===n)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);let t,n,o=e.replace(/ /g,"").split(","),r=o.length;for(t=0;t<r;t++)if(n=o[t],i.Util.isValidSelector(n)||(i.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),i.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),i.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,t={},n){return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(u,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new i.Transform,this._eachAncestorReverse((function(e){const n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;{t=this._cache.get(u)||new i.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const e=this.transformsEnabled();if("all"===e)t.multiply(this.getTransform());else if("position"===e){const e=this.attrs.x||0,n=this.attrs.y||0,i=this.attrs.offsetX||0,o=this.attrs.offsetY||0;t.translate(e-i,n-o)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(x,this._getTransform)}_getTransform(){var e,t;const n=this._cache.get(x)||new i.Transform;n.reset();const o=this.x(),r=this.y(),a=s.Konva.getAngle(this.rotation()),l=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,c=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,d=this.attrs.skewX||0,u=this.attrs.skewY||0,p=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===o&&0===r||n.translate(o,r),0!==a&&n.rotate(a),0===d&&0===u||n.skew(d,u),1===l&&1===c||n.scale(l,c),0===p&&0===f||n.translate(-1*p,-1*f),n.dirty=!1,n}clone(e){let t,n,o,r,s,a=i.Util.cloneObject(this.attrs);for(t in e)a[t]=e[t];const l=new this.constructor(a);for(t in this.eventListeners)for(n=this.eventListeners[t],o=n.length,r=0;r<o;r++)s=n[r],s.name.indexOf("konva")<0&&(l.eventListeners[t]||(l.eventListeners[t]=[]),l.eventListeners[t].push(s));return l}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),n=this.getStage(),i=void 0!==e.x?e.x:Math.floor(t.x),o=void 0!==e.y?e.y:Math.floor(t.y),s=e.pixelRatio||1,a=new r.SceneCanvas({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext(),c=new r.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return!1===e.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){const t=(e=e||{}).mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise(((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,i.Util._urlToImage(this.toDataURL(e),(function(e){t(e),null==n||n(e)}))}catch(e){n(e)}}))}toBlob(e){return new Promise(((t,n)=>{try{const n=null==e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob((e=>{t(e),null==n||n(e)}),null==e?void 0:e.mimeType,null==e?void 0:e.quality)}catch(e){n(e)}}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance}_off(e,t,n){let i,o,r,s=this.eventListeners[e];for(i=0;i<s.length;i++)if(o=s[i].name,r=s[i].handler,!("konva"===o&&"konva"!==t||t&&o!==t||n&&n!==r)){if(s.splice(i,1),0===s.length){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){const t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;return-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){const t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){const n=this["set"+i.Util._capitalize(e)];return i.Util._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(s.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){const n=this.attrs[e];(n!==t||i.Util.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){let i;void 0!==n&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,t,n){t&&this.nodeType===y&&(t.target=this);if(!((e===m||e===g)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);const i=(e===m||e===g)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,i;const o=null!==(t=this._cache.get(d))&&void 0!==t?t:{};let r=null==o?void 0:o[e];if(void 0===r){r=[];let t=Object.getPrototypeOf(this);for(;t;){const o=null!==(i=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==i?i:[];r.push(...o),t=Object.getPrototypeOf(t)}o[e]=r,this._cache.set(d,o)}return r}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,t);const o=this.eventListeners[e];if(o)for(i=0;i<o.length;i++)o[i].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(!n)return;const o=n._getPointerById(t)||n._changedPointerPositions[0]||i;a.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){a.DD._dragElements.has(this._id)||this._createDragElement(e);a.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(!n)return;let o={x:n.x-t.offset.x,y:n.y-t.offset.y};const r=this.dragBoundFunc();if(void 0!==r){const t=r.call(this,o,e);t?o=t:i.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===o.x&&this._lastPos.y===o.y||(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}stopDrag(e){const t=a.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),a.DD._endDragBefore(e),a.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=a.DD._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if(!(!(void 0!==e.evt.button)||s.Konva.dragButtons.indexOf(e.evt.button)>=0))return;if(this.isDragging())return;let t=!1;a.DD._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();if(!this.getStage())return;const e=a.DD._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return i.Util.haveIntersection(n,this.getClientRect())}static create(e,t){return i.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let n,o,r,a=C.prototype.getClassName.call(e),l=e.children;t&&(e.attrs.container=t),s.Konva[a]||(i.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(n=new(0,s.Konva[a])(e.attrs),l)for(o=l.length,r=0;r<o;r++)n.add(C._createNode(l[r]));return n}}t.Node=C,C.prototype.nodeType="Node",C.prototype._attrsAffectingSize=[],C.prototype.eventListeners={},C.prototype.on.call(C.prototype,w,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(x),this._clearSelfAndDescendantCache(u))})),C.prototype.on.call(C.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(A)})),C.prototype.on.call(C.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(h)})),C.prototype.on.call(C.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));const _=o.Factory.addGetterSetter;_(C,"zIndex"),_(C,"absolutePosition"),_(C,"position"),_(C,"x",0,(0,l.getNumberValidator)()),_(C,"y",0,(0,l.getNumberValidator)()),_(C,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),_(C,"opacity",1,(0,l.getNumberValidator)()),_(C,"name","",(0,l.getStringValidator)()),_(C,"id","",(0,l.getStringValidator)()),_(C,"rotation",0,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(C,"scale",["x","y"]),_(C,"scaleX",1,(0,l.getNumberValidator)()),_(C,"scaleY",1,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(C,"skew",["x","y"]),_(C,"skewX",0,(0,l.getNumberValidator)()),_(C,"skewY",0,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(C,"offset",["x","y"]),_(C,"offsetX",0,(0,l.getNumberValidator)()),_(C,"offsetY",0,(0,l.getNumberValidator)()),_(C,"dragDistance",void 0,(0,l.getNumberValidator)()),_(C,"width",0,(0,l.getNumberValidator)()),_(C,"height",0,(0,l.getNumberValidator)()),_(C,"listening",!0,(0,l.getBooleanValidator)()),_(C,"preventDefault",!0,(0,l.getBooleanValidator)()),_(C,"filters",void 0,(function(e){return this._filterUpToDate=!1,e})),_(C,"visible",!0,(0,l.getBooleanValidator)()),_(C,"transformsEnabled","all",(0,l.getStringValidator)()),_(C,"size"),_(C,"dragBoundFunc"),_(C,"draggable",!1,(0,l.getBooleanValidator)()),o.Factory.backCompat(C,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},4850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapturedShape=function(e){return o.get(e)},t.createEvent=s,t.hasPointerCapture=function(e,t){return o.get(e)===t},t.setPointerCapture=function(e,t){a(e);if(!t.getStage())return;o.set(e,t),r&&t._fire("gotpointercapture",s(new PointerEvent("gotpointercapture")))},t.releaseCapture=a;const i=n(52711),o=new Map,r=void 0!==i.Konva._global.PointerEvent;function s(e){return{evt:e,pointerId:e.pointerId}}function a(e,t){const n=o.get(e);if(!n)return;const i=n.getStage();i&&i.content,o.delete(e),r&&n._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}},63315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const i=n(52711),o=n(2220),r=n(5852),s=n(84344),a=n(87067),l=n(52711),c=n(4850),d="hasShadow",u="shadowRGBA",p="patternImage",f="linearGradient",h="radialGradient";let m;function g(){return m||(m=o.Util.createCanvasElement().getContext("2d"),m)}t.shapes={};class y extends s.Node{constructor(e){let n;for(super(e);n=o.Util.getRandomColor(),!n||n in t.shapes;);this.colorKey=n,t.shapes[n]=this}getContext(){return o.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return o.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(p,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new o.Transform;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(i.Konva.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(r)}return e}}_getLinearGradient(){return this._getCache(f,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=g(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(n.x,n.y,i.x,i.y);for(let t=0;t<e.length;t+=2)o.addColorStop(e[t],e[t+1]);return o}}_getRadialGradient(){return this._getCache(h,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=g(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let t=0;t<e.length;t+=2)o.addColorStop(e[t],e[t+1]);return o}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=o.Util.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const n=t.bufferHitCanvas;n.getContext().clear(),this.drawHit(n,void 0,!0);return n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const n=e||this.hasFill(),i=this.hasStroke(),o=1!==this.getAbsoluteOpacity();if(n&&i&&o)return!0;const r=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(n&&i&&r&&s)}setStrokeHitEnabled(e){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,n=this.getParent();for(;n;){if(n.isCached()){t=!0;break}n=n.getParent()}const i=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,r=this.getSelfRect(),s=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=r.width+s,l=r.height+s,c=!e.skipShadow&&this.hasShadow(),d=c?this.shadowOffsetX():0,u=c?this.shadowOffsetY():0,p=a+Math.abs(d),f=l+Math.abs(u),h=c&&this.shadowBlur()||0,m={width:p+2*h,height:f+2*h,x:-(s/2+h)+Math.min(d,0)+r.x,y:-(s/2+h)+Math.min(u,0)+r.y};return i?m:this._transformedRect(m,o)}drawScene(e,t,n){const i=this.getLayer();let o,r,s=e||i.getCanvas(),a=s.getContext(),l=this._getCanvasCache(),c=this.getSceneFunc(),d=this.hasShadow();const u=s.isCache,p=t===this;if(!this.isVisible()&&!p)return this;if(l){a.save();const e=this.getAbsoluteTransform(t).getMatrix();return a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!c)return this;if(a.save(),this._useBufferCanvas()&&!u){o=this.getStage();const e=n||o.bufferCanvas;r=e.getContext(),r.clear(),r.save(),r._applyLineJoin(this);var f=this.getAbsoluteTransform(t).getMatrix();r.transform(f[0],f[1],f[2],f[3],f[4],f[5]),c.call(this,r,this),r.restore();const i=e.pixelRatio;d&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(e._canvas,0,0,e.width/i,e.height/i)}else{if(a._applyLineJoin(this),!p){f=this.getAbsoluteTransform(t).getMatrix();a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}d&&a._applyShadow(this),c.call(this,a,this)}return a.restore(),this}drawHit(e,t,n=!1){if(!this.shouldDrawHit(t,n))return this;const i=this.getLayer(),r=e||i.hitCanvas,s=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();const e=this.getAbsoluteTransform(t).getMatrix();return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;s.save(),s._applyLineJoin(this);if(!(this===t)){const e=this.getAbsoluteTransform(t).getMatrix();s.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){const t=this._getCanvasCache(),n=this._getCachedSceneCanvas(),i=t.hit,r=i.getContext(),s=i.getWidth(),a=i.getHeight();r.clear(),r.drawImage(n._canvas,0,0,s,a);try{const t=r.getImageData(0,0,s,a),n=t.data,i=n.length,l=o.Util._hexToRgb(this.colorKey);for(let t=0;t<i;t+=4){n[t+3]>e?(n[t]=l.r,n[t+1]=l.g,n[t+2]=l.b,n[t+3]=255):n[t+3]=0}r.putImageData(t,0,0)}catch(e){o.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return c.hasPointerCapture(e,this)}setPointerCapture(e){c.setPointerCapture(e,this)}releaseCapture(e){c.releaseCapture(e,this)}}t.Shape=y,y.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},y.prototype._strokeFunc=function(e){e.stroke()},y.prototype._fillFuncHit=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},y.prototype._strokeFuncHit=function(e){e.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",(0,l._registerNode)(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(p)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(f)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(h)})),r.Factory.addGetterSetter(y,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(y,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(y,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(y,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"lineJoin"),r.Factory.addGetterSetter(y,"lineCap"),r.Factory.addGetterSetter(y,"sceneFunc"),r.Factory.addGetterSetter(y,"hitFunc"),r.Factory.addGetterSetter(y,"dash"),r.Factory.addGetterSetter(y,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(y,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(y,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternImage"),r.Factory.addGetterSetter(y,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(y,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(y,"fillEnabled",!0),r.Factory.addGetterSetter(y,"strokeEnabled",!0),r.Factory.addGetterSetter(y,"shadowEnabled",!0),r.Factory.addGetterSetter(y,"dashEnabled",!0),r.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(y,"fillPriority","color"),r.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(y,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(y,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(y,"fillPatternRotation",0),r.Factory.addGetterSetter(y,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},70940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const i=n(2220),o=n(5852),r=n(46265),s=n(52711),a=n(924),l=n(3524),c=n(52711),d=n(4850),u="mouseleave",p="mouseover",f="mouseenter",h="mousemove",m="mousedown",g="mouseup",y="pointermove",b="pointerdown",v="pointerup",x="pointercancel",A="pointerout",w="pointerleave",E="pointerover",C="pointerenter",_="contextmenu",M="touchstart",I="touchend",k="touchmove",P="touchcancel",F="wheel",S=[[f,"_pointerenter"],[m,"_pointerdown"],[h,"_pointermove"],[g,"_pointerup"],[u,"_pointerleave"],[M,"_pointerdown"],[k,"_pointermove"],[I,"_pointerup"],[P,"_pointercancel"],[p,"_pointerover"],[F,"_wheel"],[_,"_contextmenu"],[b,"_pointerdown"],[y,"_pointermove"],[v,"_pointerup"],[x,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],T={mouse:{[A]:"mouseout",[w]:u,[E]:p,[C]:f,[y]:h,[b]:m,[v]:g,[x]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[A]:"touchout",[w]:"touchleave",[E]:"touchover",[C]:"touchenter",[y]:k,[b]:M,[v]:I,[x]:P,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[A]:A,[w]:w,[E]:E,[C]:C,[y]:y,[b]:b,[v]:v,[x]:x,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},O=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",D=e=>{const t=O(e);return"pointer"===t?s.Konva.pointerEventsEnabled&&T.pointer:"touch"===t?T.touch:"mouse"===t?T.mouse:void 0};function N(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}t.stages=[];class j extends r.Container{constructor(e){super(N(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{N(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||i.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){if("."===e.charAt(0)){const t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var t;t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t)}if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),r.Container.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&i.Util._isInDocument(e)&&this.container().removeChild(e);const n=t.stages.indexOf(this);return n>-1&&t.stages.splice(n,1),i.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(i.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new a.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,i=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),i.forEach((function(t){if(!t.isVisible())return;const i=t._toKonvaCanvas(e);n.drawImage(i._canvas,e.x,e.y,i.getWidth()/i.getPixelRatio(),i.getHeight()/i.getPixelRatio())})),t}getIntersection(e){if(!e)return null;const t=this.children;for(let n=t.length-1;n>=0;n--){const i=t[n].getIntersection(e);if(i)return i}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e,...t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}super.add(e);const n=this.children.length;return n>5&&i.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),s.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return d.hasPointerCapture(e,this)}setPointerCapture(e){d.setPointerCapture(e,this)}releaseCapture(e){d.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&S.forEach((([e,t])=>{this.content.addEventListener(e,(e=>{this[t](e)}),{passive:!1})}))}_pointerenter(e){this.setPointersPositions(e);const t=D(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=D(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=D(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);const i=this._getTargetShape(n),o=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(t.pointerout,{evt:e}),i._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=D(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach((o=>{const r=this.getIntersection(o);if(l.DD.justDragged=!1,s.Konva["_"+n+"ListenClick"]=!0,!r||!r.isListening())return void(this[n+"ClickStartShape"]=void 0);s.Konva.capturePointerEventsEnabled&&r.setPointerCapture(o.id),this[n+"ClickStartShape"]=r,r._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),i=!0;const a=e.type.indexOf("touch")>=0;r.preventDefault()&&e.cancelable&&a&&e.preventDefault()})),i||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=D(e.type),n=O(e.type);if(!t)return;s.Konva.isDragging()&&l.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);if(!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled))return;const i={};let o=!1;const r=this._getTargetShape(n);this._changedPointerPositions.forEach((s=>{const a=d.getCapturedShape(s.id)||this.getIntersection(s),l=s.id,c={evt:e,pointerId:l},u=r!==a;if(u&&r&&(r._fireAndBubble(t.pointerout,{...c},a),r._fireAndBubble(t.pointerleave,{...c},a)),a){if(i[a._id])return;i[a._id]=!0}a&&a.isListening()?(o=!0,u&&(a._fireAndBubble(t.pointerover,{...c},r),a._fireAndBubble(t.pointerenter,{...c},r),this[n+"targetShape"]=a),a._fireAndBubble(t.pointermove,{...c})):r&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),o||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=D(e.type),n=O(e.type);if(!t)return;this.setPointersPositions(e);const i=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"],r={};let a=!1;this._changedPointerPositions.forEach((c=>{const u=d.getCapturedShape(c.id)||this.getIntersection(c);if(u){if(u.releaseCapture(c.id),r[u._id])return;r[u._id]=!0}const p=c.id,f={evt:e,pointerId:p};let h=!1;s.Konva["_"+n+"InDblClickWindow"]?(h=!0,clearTimeout(this[n+"DblTimeout"])):l.DD.justDragged||(s.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){s.Konva["_"+n+"InDblClickWindow"]=!1}),s.Konva.dblClickWindow),u&&u.isListening()?(a=!0,this[n+"ClickEndShape"]=u,u._fireAndBubble(t.pointerup,{...f}),s.Konva["_"+n+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(t.pointerclick,{...f}),h&&o&&o===u&&u._fireAndBubble(t.pointerdblclick,{...f}))):(this[n+"ClickEndShape"]=null,s.Konva["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:p}),h&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:p}))})),a||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&"pointer"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(_,{evt:e}):this._fire(_,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(F,{evt:e}):this._fire(F,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=d.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(v,d.createEvent(e)),d.releaseCapture(e.pointerId)}_lostpointercapture(e){d.releaseCapture(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let n=null,o=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,o=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:o},this._pointerPositions=[{x:n,y:o,id:i.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:o,id:i.Util._getFirstPointerId(e)}])}_setPointerPosition(e){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}t.Stage=j,j.prototype.nodeType="Stage",(0,c._registerNode)(j),o.Factory.addGetterSetter(j,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",(()=>{t.stages.forEach((e=>{e.batchDraw()}))}))},5017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const i=n(2220),o=n(57616),r=n(84344),s=n(52711),a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=["fill","stroke","shadowColor"];let c=0;class d{constructor(e,t,n,i,o,r,s){this.prop=e,this.propFunc=t,this.begin=i,this._pos=i,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class u{constructor(e){const n=this,r=e.node,l=r._id,p=e.easing||t.Easings.Linear,f=!!e.yoyo;let h,m;h=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=r,this._id=c++;const g=r.getLayer()||(r instanceof s.Konva.Stage?r.getLayers():null);for(m in g||i.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new o.Animation((function(){n.tween.onEnterFrame()}),g),this.tween=new d(m,(function(e){n._tweenFunc(e)}),p,0,1,1e3*h,f),this._addListeners(),u.attrs[l]||(u.attrs[l]={}),u.attrs[l][this._id]||(u.attrs[l][this._id]={}),u.tweens[l]||(u.tweens[l]={}),e)void 0===a[m]&&this._addAttr(m,e[m]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const n=this.node,o=n._id;let r,s,a,c,d;const p=u.tweens[o][e];p&&delete u.attrs[o][p][e];let f=n.getAttr(e);if(i.Util._isArray(t))if(r=[],s=Math.max(t.length,f.length),"points"===e&&t.length!==f.length&&(t.length>f.length?(c=f,f=i.Util._prepareArrayForTween(f,t,n.closed())):(a=t,t=i.Util._prepareArrayForTween(t,f,n.closed()))),0===e.indexOf("fill"))for(let e=0;e<s;e++)if(e%2==0)r.push(t[e]-f[e]);else{const n=i.Util.colorToRGBA(f[e]);d=i.Util.colorToRGBA(t[e]),f[e]=n,r.push({r:d.r-n.r,g:d.g-n.g,b:d.b-n.b,a:d.a-n.a})}else for(let e=0;e<s;e++)r.push(t[e]-f[e]);else-1!==l.indexOf(e)?(f=i.Util.colorToRGBA(f),d=i.Util.colorToRGBA(t),r={r:d.r-f.r,g:d.g-f.g,b:d.b-f.b,a:d.a-f.a}):r=t-f;u.attrs[o][this._id][e]={start:f,diff:r,end:t,trueEnd:a,trueStart:c},u.tweens[o][e]=this._id}_tweenFunc(e){const t=this.node,n=u.attrs[t._id][this._id];let o,r,s,a,c,d,p,f;for(o in n){if(r=n[o],s=r.start,a=r.diff,f=r.end,i.Util._isArray(s))if(c=[],p=Math.max(s.length,f.length),0===o.indexOf("fill"))for(d=0;d<p;d++)d%2==0?c.push((s[d]||0)+a[d]*e):c.push("rgba("+Math.round(s[d].r+a[d].r*e)+","+Math.round(s[d].g+a[d].g*e)+","+Math.round(s[d].b+a[d].b*e)+","+(s[d].a+a[d].a*e)+")");else for(d=0;d<p;d++)c.push((s[d]||0)+a[d]*e);else c=-1!==l.indexOf(o)?"rgba("+Math.round(s.r+a.r*e)+","+Math.round(s.g+a.g*e)+","+Math.round(s.b+a.b*e)+","+(s.a+a.a*e)+")":s+a*e;t.setAttr(o,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=u.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=u.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,n=u.tweens[e];this.pause();for(const t in n)delete u.tweens[e][t];delete u.attrs[e][t]}}t.Tween=u,u.attrs={},u.tweens={},r.Node.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()};new u(e).play()},t.Easings={BackEaseIn(e,t,n,i){const o=1.70158;return n*(e/=i)*e*((o+1)*e-o)+t},BackEaseOut(e,t,n,i){const o=1.70158;return n*((e=e/i-1)*e*((o+1)*e+o)+1)+t},BackEaseInOut(e,t,n,i){let o=1.70158;return(e/=i/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},ElasticEaseIn(e,t,n,i,o,r){let s=0;return 0===e?t:1==(e/=i)?t+n:(r||(r=.3*i),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)+t)},ElasticEaseOut(e,t,n,i,o,r){let s=0;return 0===e?t:1==(e/=i)?t+n:(r||(r=.3*i),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*i-s)*(2*Math.PI)/r)+n+t)},ElasticEaseInOut(e,t,n,i,o,r){let s=0;return 0===e?t:2==(e/=i/2)?t+n:(r||(r=i*(.3*1.5)),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)*.5+n+t)},BounceEaseOut:(e,t,n,i)=>(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,n,i,o)=>i-t.Easings.BounceEaseOut(o-e,0,i,o)+n,BounceEaseInOut:(e,n,i,o)=>e<o/2?.5*t.Easings.BounceEaseIn(2*e,0,i,o)+n:.5*t.Easings.BounceEaseOut(2*e-o,0,i,o)+.5*i+n,EaseIn:(e,t,n,i)=>n*(e/=i)*e+t,EaseOut:(e,t,n,i)=>-n*(e/=i)*(e-2)+t,EaseInOut:(e,t,n,i)=>(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,i)=>n*(e/=i)*e*e*e*e+t,StrongEaseOut:(e,t,n,i)=>n*((e=e/i-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,i)=>(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,i)=>n*e/i+t}},2220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const i=n(52711);class o{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new o(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.m[0]*t+this.m[2]*n,o=this.m[1]*t+this.m[3]*n,r=this.m[0]*-n+this.m[2]*t,s=this.m[1]*-n+this.m[3]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=r,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const n=this.m[0]+this.m[2]*t,i=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,r=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=o,this.m[3]=r,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],r=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],s=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=r,this.m[5]=s,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,o=this.m[0]*e,r=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=r,this.m[5]=s,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],i=this.m[2],o=this.m[3],r=e*o-n*i,s={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){const t=Math.sqrt(e*e+n*n);s.rotation=n>0?Math.acos(e/t):-Math.acos(e/t),s.scaleX=t,s.scaleY=r/t,s.skewX=(e*i+n*o)/r,s.skewY=0}else if(0!=i||0!=o){const t=Math.sqrt(i*i+o*o);s.rotation=Math.PI/2-(o>0?Math.acos(-i/t):-Math.acos(i/t)),s.scaleX=r/t,s.scaleY=t,s.skewX=0,s.skewY=(e*i+n*o)/r}return s.rotation=t.Util._getRotation(s.rotation),s}}t.Transform=o;const r=Math.PI/180,s=180/Math.PI,a="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let d=[];const u="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)};t.Util={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;const t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){d.push(e),1===d.length&&u((function(){const e=d;d=[],e.forEach((function(e){e()}))}))},createCanvasElement(){const e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,n){const i=t.Util.createImageElement();i.onload=function(){n(i)},i.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){let e=(16777215*Math.random()|0).toString(16);for(;e.length<6;)e="0"+e;return"#"+e},getRGB(e){let t;return e in l?(t=l[e],{r:t[0],g:t[1],b:t[2]}):"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=c.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex4ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._hex8ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)),_namedColorToRBA(e){const t=l[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){const t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){const t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),i=Number(n[0])/360,o=Number(n[1])/100,r=Number(n[2])/100;let s,a,l;if(0===o)return l=255*r,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s=r<.5?r*(1+o):r+o-r*o;const c=2*r-s,d=[0,0,0];for(let e=0;e<3;e++)a=i+1/3*-(e-1),a<0&&a++,a>1&&a--,l=6*a<1?c+6*(s-c)*a:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c,d[e]=255*l;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*r,radToDeg:e=>e*s,_degToRad:e=>(t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(e)),_radToDeg:e=>(t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(e)),_getRotation:e=>i.Konva.angleDeg?t.Util.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(a+e)},error(e){console.error(a+e)},warn(e){i.Konva.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,i,o,r){let s,a,l;const c=(e-n)*(e-n)+(t-i)*(t-i);if(0==c)s=e,a=t,l=(o-n)*(o-n)+(r-i)*(r-i);else{const d=((o-e)*(n-e)+(r-t)*(i-t))/c;d<0?(s=e,a=t,l=(e-o)*(e-o)+(t-r)*(t-r)):d>1?(s=n,a=i,l=(n-o)*(n-o)+(i-r)*(i-r)):(s=e+d*(n-e),a=t+d*(i-t),l=(s-o)*(s-o)+(a-r)*(a-r))}return[s,a,l]},_getProjectionToLine(e,n,i){const o=t.Util.cloneObject(e);let r=Number.MAX_VALUE;return n.forEach((function(s,a){if(!i&&a===n.length-1)return;const l=n[(a+1)%n.length],c=t.Util._getProjectionToSegment(s.x,s.y,l.x,l.y,e.x,e.y),d=c[0],u=c[1],p=c[2];p<r&&(o.x=d,o.y=u,r=p)})),o},_prepareArrayForTween(e,n,i){const o=[],r=[];if(e.length>n.length){const t=n;n=e,e=t}for(let t=0;t<e.length;t+=2)o.push({x:e[t],y:e[t+1]});for(let e=0;e<n.length;e+=2)r.push({x:n[e],y:n[e+1]});const s=[];return r.forEach((function(e){const n=t.Util._getProjectionToLine(e,o,i);s.push(n.x),s.push(n.y)})),s},_prepareToStringify(e){let n;e.visitedByCircularReferenceRemoval=!0;for(const i in e)if(e.hasOwnProperty(i)&&e[i]&&"object"==typeof e[i])if(n=Object.getOwnPropertyDescriptor(e,i),e[i].visitedByCircularReferenceRemoval||t.Util._isElement(e[i])){if(!n.configurable)return null;delete e[i]}else if(null===t.Util._prepareToStringify(e[i])){if(!n.configurable)return null;delete e[i]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(...e){i.Konva.releaseCanvasOnDestroy&&e.forEach((e=>{e.width=0,e.height=0}))},drawRoundedRectPath(e,t,n,i){let o=0,r=0,s=0,a=0;"number"==typeof i?o=r=s=a=Math.min(i,t/2,n/2):(o=Math.min(i[0]||0,t/2,n/2),r=Math.min(i[1]||0,t/2,n/2),a=Math.min(i[2]||0,t/2,n/2),s=Math.min(i[3]||0,t/2,n/2)),e.moveTo(o,0),e.lineTo(t-r,0),e.arc(t-r,r,r,3*Math.PI/2,0,!1),e.lineTo(t,n-a),e.arc(t-a,n-a,a,0,Math.PI/2,!1),e.lineTo(s,n),e.arc(s,n-s,s,Math.PI/2,Math.PI,!1),e.lineTo(0,o),e.arc(o,o,o,Math.PI,3*Math.PI/2,!1)}}},87067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBComponent=function(e){if(e>255)return 255;if(e<0)return 0;return Math.round(e)},t.alphaComponent=function(e){if(e>1)return 1;if(e<1e-4)return 1e-4;return e},t.getNumberValidator=function(){if(i.Konva.isUnminified)return function(e,t){return o.Util._isNumber(e)||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},t.getNumberOrArrayOfNumbersValidator=function(e){if(i.Konva.isUnminified)return function(t,n){let i=o.Util._isNumber(t),s=o.Util._isArray(t)&&t.length==e;return i||s||o.Util.warn(r(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}},t.getNumberOrAutoValidator=function(){if(i.Konva.isUnminified)return function(e,t){return o.Util._isNumber(e)||"auto"===e||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},t.getStringValidator=function(){if(i.Konva.isUnminified)return function(e,t){return o.Util._isString(e)||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},t.getStringOrGradientValidator=function(){if(i.Konva.isUnminified)return function(e,t){const n=o.Util._isString(e),i="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||i||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}},t.getFunctionValidator=function(){if(i.Konva.isUnminified)return function(e,t){return o.Util._isFunction(e)||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},t.getNumberArrayValidator=function(){if(i.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(o.Util._isArray(e)?e.forEach((function(e){o.Util._isNumber(e)||o.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}},t.getBooleanValidator=function(){if(i.Konva.isUnminified)return function(e,t){return!0===e||!1===e||o.Util.warn(r(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},t.getComponentValidator=function(e){if(i.Konva.isUnminified)return function(t,n){return null==t||o.Util.isObject(t)||o.Util.warn(r(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}};const i=n(52711),o=n(2220);function r(e){return o.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||o.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}},16840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const i=n(52711),o=n(2220),r=n(84344),s=n(46265),a=n(70940),l=n(98235),c=n(48017),d=n(6637),u=n(3524),p=n(63315),f=n(57616),h=n(5017),m=n(89357),g=n(924);t.Konva=o.Util._assign(i.Konva,{Util:o.Util,Transform:o.Transform,Node:r.Node,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:d.Group,DD:u.DD,Shape:p.Shape,shapes:p.shapes,Animation:f.Animation,Tween:h.Tween,Easings:h.Easings,Context:m.Context,Canvas:g.Canvas}),t.default=t.Konva},67422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const i=n(16840),o=n(46549),r=n(90032),s=n(51009),a=n(44731),l=n(16344),c=n(36123),d=n(7603),u=n(13486),p=n(89411),f=n(39371),h=n(46603),m=n(49980),g=n(44241),y=n(56182),b=n(99737),v=n(45730),x=n(45889),A=n(32789),w=n(17491),E=n(17594),C=n(71527),_=n(39432),M=n(17737),I=n(57797),k=n(31867),P=n(96660),F=n(62433),S=n(53712),T=n(92600),O=n(93772),D=n(67355),N=n(40905),j=n(89542),L=n(94992),R=n(13973),B=n(62741);t.Konva=i.Konva.Util._assign(i.Konva,{Arc:o.Arc,Arrow:r.Arrow,Circle:s.Circle,Ellipse:a.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:d.Line,Path:u.Path,Rect:p.Rect,RegularPolygon:f.RegularPolygon,Ring:h.Ring,Sprite:m.Sprite,Star:g.Star,Text:y.Text,TextPath:b.TextPath,Transformer:v.Transformer,Wedge:x.Wedge,Filters:{Blur:A.Blur,Brighten:w.Brighten,Contrast:E.Contrast,Emboss:C.Emboss,Enhance:_.Enhance,Grayscale:M.Grayscale,HSL:I.HSL,HSV:k.HSV,Invert:P.Invert,Kaleidoscope:F.Kaleidoscope,Mask:S.Mask,Noise:T.Noise,Pixelate:O.Pixelate,Posterize:D.Posterize,RGB:N.RGB,RGBA:j.RGBA,Sepia:L.Sepia,Solarize:R.Solarize,Threshold:B.Threshold}})},32789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Blur=void 0;const i=n(5852),o=n(84344),r=n(87067);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.Blur=function(e){const t=Math.round(this.blurRadius());t>0&&function(e,t){const n=e.data,i=e.width,o=e.height;let r,c,d,u,p,f,h,m,g,y,b,v,x,A,w,E,C,_,M,I,k,P,F,S;const T=t+t+1,O=i-1,D=o-1,N=t+1,j=N*(N+1)/2,L=new s,R=a[t],B=l[t];let $=null,z=L,W=null,U=null;for(d=1;d<T;d++)z=z.next=new s,d===N&&($=z);for(z.next=L,h=f=0,c=0;c<o;c++){for(E=C=_=M=m=g=y=b=0,v=N*(I=n[f]),x=N*(k=n[f+1]),A=N*(P=n[f+2]),w=N*(F=n[f+3]),m+=j*I,g+=j*k,y+=j*P,b+=j*F,z=L,d=0;d<N;d++)z.r=I,z.g=k,z.b=P,z.a=F,z=z.next;for(d=1;d<N;d++)u=f+((O<d?O:d)<<2),m+=(z.r=I=n[u])*(S=N-d),g+=(z.g=k=n[u+1])*S,y+=(z.b=P=n[u+2])*S,b+=(z.a=F=n[u+3])*S,E+=I,C+=k,_+=P,M+=F,z=z.next;for(W=L,U=$,r=0;r<i;r++)n[f+3]=F=b*R>>B,0!==F?(F=255/F,n[f]=(m*R>>B)*F,n[f+1]=(g*R>>B)*F,n[f+2]=(y*R>>B)*F):n[f]=n[f+1]=n[f+2]=0,m-=v,g-=x,y-=A,b-=w,v-=W.r,x-=W.g,A-=W.b,w-=W.a,u=h+((u=r+t+1)<O?u:O)<<2,E+=W.r=n[u],C+=W.g=n[u+1],_+=W.b=n[u+2],M+=W.a=n[u+3],m+=E,g+=C,y+=_,b+=M,W=W.next,v+=I=U.r,x+=k=U.g,A+=P=U.b,w+=F=U.a,E-=I,C-=k,_-=P,M-=F,U=U.next,f+=4;h+=i}for(r=0;r<i;r++){for(C=_=M=E=g=y=b=m=0,f=r<<2,v=N*(I=n[f]),x=N*(k=n[f+1]),A=N*(P=n[f+2]),w=N*(F=n[f+3]),m+=j*I,g+=j*k,y+=j*P,b+=j*F,z=L,d=0;d<N;d++)z.r=I,z.g=k,z.b=P,z.a=F,z=z.next;for(p=i,d=1;d<=t;d++)f=p+r<<2,m+=(z.r=I=n[f])*(S=N-d),g+=(z.g=k=n[f+1])*S,y+=(z.b=P=n[f+2])*S,b+=(z.a=F=n[f+3])*S,E+=I,C+=k,_+=P,M+=F,z=z.next,d<D&&(p+=i);for(f=r,W=L,U=$,c=0;c<o;c++)u=f<<2,n[u+3]=F=b*R>>B,F>0?(F=255/F,n[u]=(m*R>>B)*F,n[u+1]=(g*R>>B)*F,n[u+2]=(y*R>>B)*F):n[u]=n[u+1]=n[u+2]=0,m-=v,g-=x,y-=A,b-=w,v-=W.r,x-=W.g,A-=W.b,w-=W.a,u=r+((u=c+N)<D?u:D)*i<<2,m+=E+=W.r=n[u],g+=C+=W.g=n[u+1],y+=_+=W.b=n[u+2],b+=M+=W.a=n[u+3],W=W.next,v+=I=U.r,x+=k=U.g,A+=P=U.b,w+=F=U.a,E-=I,C-=k,_-=P,M-=F,U=U.next,f+=i}}(e,t)},i.Factory.addGetterSetter(o.Node,"blurRadius",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},17491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brighten=void 0;const i=n(5852),o=n(84344),r=n(87067);t.Brighten=function(e){const t=255*this.brightness(),n=e.data,i=n.length;for(let e=0;e<i;e+=4)n[e]+=t,n[e+1]+=t,n[e+2]+=t},i.Factory.addGetterSetter(o.Node,"brightness",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},17594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contrast=void 0;const i=n(5852),o=n(84344),r=n(87067);t.Contrast=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,i=n.length;let o=150,r=150,s=150;for(let e=0;e<i;e+=4)o=n[e],r=n[e+1],s=n[e+2],o/=255,o-=.5,o*=t,o+=.5,o*=255,r/=255,r-=.5,r*=t,r+=.5,r*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,o=o<0?0:o>255?255:o,r=r<0?0:r>255?255:r,s=s<0?0:s>255?255:s,n[e]=o,n[e+1]=r,n[e+2]=s},i.Factory.addGetterSetter(o.Node,"contrast",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},71527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emboss=void 0;const i=n(5852),o=n(84344),r=n(2220),s=n(87067);t.Emboss=function(e){const t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),o=this.embossBlend(),s=e.data,a=e.width,l=e.height,c=4*a;let d=0,u=0,p=l;switch(i){case"top-left":d=-1,u=-1;break;case"top":d=-1,u=0;break;case"top-right":d=-1,u=1;break;case"right":d=0,u=1;break;case"bottom-right":d=1,u=1;break;case"bottom":d=1,u=0;break;case"bottom-left":d=1,u=-1;break;case"left":d=0,u=-1;break;default:r.Util.error("Unknown emboss direction: "+i)}do{const e=(p-1)*c;let i=d;p+i<1&&(i=0),p+i>l&&(i=0);const r=(p-1+i)*a*4;let f=a;do{const i=e+4*(f-1);let l=u;f+l<1&&(l=0),f+l>a&&(l=0);const c=r+4*(f-1+l),d=s[i]-s[c],p=s[i+1]-s[c+1],h=s[i+2]-s[c+2];let m=d;const g=m>0?m:-m;if((p>0?p:-p)>g&&(m=p),(h>0?h:-h)>g&&(m=h),m*=t,o){const e=s[i]+m,t=s[i+1]+m,n=s[i+2]+m;s[i]=e>255?255:e<0?0:e,s[i+1]=t>255?255:t<0?0:t,s[i+2]=n>255?255:n<0?0:n}else{let e=n-m;e<0?e=0:e>255&&(e=255),s[i]=s[i+1]=s[i+2]=e}}while(--f)}while(--p)},i.Factory.addGetterSetter(o.Node,"embossStrength",.5,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossDirection","top-left",void 0,i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossBlend",!1,void 0,i.Factory.afterSetFilter)},39432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enhance=void 0;const i=n(5852),o=n(84344),r=n(87067);function s(e,t,n,i,o){const r=n-t,s=o-i;if(0===r)return i+s/2;if(0===s)return i;let a=(e-t)/r;return a=s*a+i,a}t.Enhance=function(e){const t=e.data,n=t.length;let i,o,r,a=t[0],l=a,c=t[1],d=c,u=t[2],p=u;const f=this.enhance();if(0===f)return;for(let e=0;e<n;e+=4)i=t[e+0],i<a?a=i:i>l&&(l=i),o=t[e+1],o<c?c=o:o>d&&(d=o),r=t[e+2],r<u?u=r:r>p&&(p=r);let h,m,g,y,b,v,x,A,w;l===a&&(l=255,a=0),d===c&&(d=255,c=0),p===u&&(p=255,u=0),f>0?(m=l+f*(255-l),g=a-f*(a-0),b=d+f*(255-d),v=c-f*(c-0),A=p+f*(255-p),w=u-f*(u-0)):(h=.5*(l+a),m=l+f*(l-h),g=a+f*(a-h),y=.5*(d+c),b=d+f*(d-y),v=c+f*(c-y),x=.5*(p+u),A=p+f*(p-x),w=u+f*(u-x));for(let e=0;e<n;e+=4)t[e+0]=s(t[e+0],a,l,g,m),t[e+1]=s(t[e+1],c,d,v,b),t[e+2]=s(t[e+2],u,p,w,A)},i.Factory.addGetterSetter(o.Node,"enhance",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},17737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grayscale=void 0;t.Grayscale=function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=.34*t[e]+.5*t[e+1]+.16*t[e+2];t[e]=n,t[e+1]=n,t[e+2]=n}}},57797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSL=void 0;const i=n(5852),o=n(84344),r=n(87067);i.Factory.addGetterSetter(o.Node,"hue",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"saturation",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"luminance",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter);t.HSL=function(e){const t=e.data,n=t.length,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,r=127*this.luminance(),s=1*i*Math.cos(o*Math.PI/180),a=1*i*Math.sin(o*Math.PI/180),l=.299+.701*s+.167*a,c=.587-.587*s+.33*a,d=.114-.114*s-.497*a,u=.299-.299*s-.328*a,p=.587+.413*s+.035*a,f=.114-.114*s+.293*a,h=.299-.3*s+1.25*a,m=.587-.586*s-1.05*a,g=.114+.886*s-.2*a;let y,b,v,x;for(let e=0;e<n;e+=4)y=t[e+0],b=t[e+1],v=t[e+2],x=t[e+3],t[e+0]=l*y+c*b+d*v+r,t[e+1]=u*y+p*b+f*v+r,t[e+2]=h*y+m*b+g*v+r,t[e+3]=x}},31867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSV=void 0;const i=n(5852),o=n(84344),r=n(87067);t.HSV=function(e){const t=e.data,n=t.length,i=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),r=Math.abs(this.hue()+360)%360,s=i*o*Math.cos(r*Math.PI/180),a=i*o*Math.sin(r*Math.PI/180),l=.299*i+.701*s+.167*a,c=.587*i-.587*s+.33*a,d=.114*i-.114*s-.497*a,u=.299*i-.299*s-.328*a,p=.587*i+.413*s+.035*a,f=.114*i-.114*s+.293*a,h=.299*i-.3*s+1.25*a,m=.587*i-.586*s-1.05*a,g=.114*i+.886*s-.2*a;let y,b,v,x;for(let e=0;e<n;e+=4)y=t[e+0],b=t[e+1],v=t[e+2],x=t[e+3],t[e+0]=l*y+c*b+d*v,t[e+1]=u*y+p*b+f*v,t[e+2]=h*y+m*b+g*v,t[e+3]=x},i.Factory.addGetterSetter(o.Node,"hue",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"saturation",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"value",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},96660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Invert=void 0;t.Invert=function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4)t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]}},62433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kaleidoscope=void 0;const i=n(5852),o=n(84344),r=n(2220),s=n(87067);t.Kaleidoscope=function(e){const t=e.width,n=e.height;let i,o,s,a,l,c,d,u,p,f,h=Math.round(this.kaleidoscopePower());const m=Math.round(this.kaleidoscopeAngle()),g=Math.floor(t*(m%360)/360);if(h<1)return;const y=r.Util.createCanvasElement();y.width=t,y.height=n;const b=y.getContext("2d").getImageData(0,0,t,n);r.Util.releaseCanvas(y),function(e,t,n){const i=e.data,o=t.data,r=e.width,s=e.height,a=n.polarCenterX||r/2,l=n.polarCenterY||s/2;let c=Math.sqrt(a*a+l*l),d=r-a,u=s-l;const p=Math.sqrt(d*d+u*u);c=p>c?p:c;const f=s,h=r,m=360/h*Math.PI/180;for(let e=0;e<h;e+=1){const t=Math.sin(e*m),n=Math.cos(e*m);for(let s=0;s<f;s+=1){d=Math.floor(a+c*s/f*n),u=Math.floor(l+c*s/f*t);let p=4*(u*r+d);const h=i[p+0],m=i[p+1],g=i[p+2],y=i[p+3];p=4*(e+s*r),o[p+0]=h,o[p+1]=m,o[p+2]=g,o[p+3]=y}}}(e,b,{polarCenterX:t/2,polarCenterY:n/2});let v=t/Math.pow(2,h);for(;v<=8;)v*=2,h-=1;v=Math.ceil(v);let x=v,A=0,w=x,E=1;for(g+v>t&&(A=x,w=0,E=-1),o=0;o<n;o+=1)for(i=A;i!==w;i+=E)s=Math.round(i+g)%t,p=4*(t*o+s),l=b.data[p+0],c=b.data[p+1],d=b.data[p+2],u=b.data[p+3],f=4*(t*o+i),b.data[f+0]=l,b.data[f+1]=c,b.data[f+2]=d,b.data[f+3]=u;for(o=0;o<n;o+=1)for(x=Math.floor(v),a=0;a<h;a+=1){for(i=0;i<x+1;i+=1)p=4*(t*o+i),l=b.data[p+0],c=b.data[p+1],d=b.data[p+2],u=b.data[p+3],f=4*(t*o+2*x-i-1),b.data[f+0]=l,b.data[f+1]=c,b.data[f+2]=d,b.data[f+3]=u;x*=2}!function(e,t,n){const i=e.data,o=t.data,r=e.width,s=e.height,a=n.polarCenterX||r/2,l=n.polarCenterY||s/2;let c=Math.sqrt(a*a+l*l),d=r-a,u=s-l;const p=Math.sqrt(d*d+u*u);c=p>c?p:c;const f=s,h=r,m=n.polarRotation||0;let g,y;for(d=0;d<r;d+=1)for(u=0;u<s;u+=1){const e=d-a,t=u-l,n=Math.sqrt(e*e+t*t)*f/c;let s=(180*Math.atan2(t,e)/Math.PI+360+m)%360;s=s*h/360,g=Math.floor(s),y=Math.floor(n);let p=4*(y*r+g);const b=i[p+0],v=i[p+1],x=i[p+2],A=i[p+3];p=4*(u*r+d),o[p+0]=b,o[p+1]=v,o[p+2]=x,o[p+3]=A}}(b,e,{polarRotation:0})},i.Factory.addGetterSetter(o.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),i.Factory.afterSetFilter)},53712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mask=void 0;const i=n(5852),o=n(84344),r=n(87067);function s(e,t,n){let i=4*(n*e.width+t);const o=[];return o.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),o}function a(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}t.Mask=function(e){let t=function(e,t){const n=s(e,0,0),i=s(e,e.width-1,0),o=s(e,0,e.height-1),r=s(e,e.width-1,e.height-1),l=t||10;if(a(n,i)<l&&a(i,r)<l&&a(r,o)<l&&a(o,n)<l){const t=function(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([i,n,r,o]),s=[];for(let n=0;n<e.width*e.height;n++){const i=a(t,[e.data[4*n],e.data[4*n+1],e.data[4*n+2]]);s[n]=i<l?0:255}return s}}(e,this.threshold());return t&&(t=function(e,t,n){const i=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let d=0;for(let s=0;s<o;s++)for(let c=0;c<o;c++){const u=a+s-r,p=l+c-r;if(u>=0&&u<n&&p>=0&&p<t){const n=i[s*o+c];d+=e[u*t+p]*n}}s[c]=2040===d?255:0}return s}(t,e.width,e.height),t=function(e,t,n){const i=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let d=0;for(let s=0;s<o;s++)for(let c=0;c<o;c++){const u=a+s-r,p=l+c-r;if(u>=0&&u<n&&p>=0&&p<t){const n=i[s*o+c];d+=e[u*t+p]*n}}s[c]=d>=1020?255:0}return s}(t,e.width,e.height),t=function(e,t,n){const i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[];for(let a=0;a<n;a++)for(let l=0;l<t;l++){const c=a*t+l;let d=0;for(let s=0;s<o;s++)for(let c=0;c<o;c++){const u=a+s-r,p=l+c-r;if(u>=0&&u<n&&p>=0&&p<t){const n=i[s*o+c];d+=e[u*t+p]*n}}s[c]=d}return s}(t,e.width,e.height),function(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},i.Factory.addGetterSetter(o.Node,"threshold",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},92600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const i=n(5852),o=n(84344),r=n(87067);t.Noise=function(e){const t=255*this.noise(),n=e.data,i=n.length,o=t/2;for(let e=0;e<i;e+=4)n[e+0]+=o-2*o*Math.random(),n[e+1]+=o-2*o*Math.random(),n[e+2]+=o-2*o*Math.random()},i.Factory.addGetterSetter(o.Node,"noise",.2,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},93772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pixelate=void 0;const i=n(5852),o=n(2220),r=n(84344),s=n(87067);t.Pixelate=function(e){let t,n,i,r,s,a,l,c,d,u,p,f,h,m,g=Math.ceil(this.pixelSize()),y=e.width,b=e.height,v=Math.ceil(y/g),x=Math.ceil(b/g),A=e.data;if(g<=0)o.Util.error("pixelSize value can not be <= 0");else for(f=0;f<v;f+=1)for(h=0;h<x;h+=1){for(r=0,s=0,a=0,l=0,c=f*g,d=c+g,u=h*g,p=u+g,m=0,t=c;t<d;t+=1)if(!(t>=y))for(n=u;n<p;n+=1)n>=b||(i=4*(y*n+t),r+=A[i+0],s+=A[i+1],a+=A[i+2],l+=A[i+3],m+=1);for(r/=m,s/=m,a/=m,l/=m,t=c;t<d;t+=1)if(!(t>=y))for(n=u;n<p;n+=1)n>=b||(i=4*(y*n+t),A[i+0]=r,A[i+1]=s,A[i+2]=a,A[i+3]=l)}},i.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,s.getNumberValidator)(),i.Factory.afterSetFilter)},67355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Posterize=void 0;const i=n(5852),o=n(84344),r=n(87067);t.Posterize=function(e){const t=Math.round(254*this.levels())+1,n=e.data,i=n.length,o=255/t;for(let e=0;e<i;e+=1)n[e]=Math.floor(n[e]/o)*o},i.Factory.addGetterSetter(o.Node,"levels",.5,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},40905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;const i=n(5852),o=n(84344),r=n(87067);t.RGB=function(e){const t=e.data,n=t.length,i=this.red(),o=this.green(),r=this.blue();for(let e=0;e<n;e+=4){const n=(.34*t[e]+.5*t[e+1]+.16*t[e+2])/255;t[e]=n*i,t[e+1]=n*o,t[e+2]=n*r,t[e+3]=t[e+3]}},i.Factory.addGetterSetter(o.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),i.Factory.addGetterSetter(o.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),i.Factory.addGetterSetter(o.Node,"blue",0,r.RGBComponent,i.Factory.afterSetFilter)},89542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBA=void 0;const i=n(5852),o=n(84344),r=n(87067);t.RGBA=function(e){const t=e.data,n=t.length,i=this.red(),o=this.green(),r=this.blue(),s=this.alpha();for(let e=0;e<n;e+=4){const n=1-s;t[e]=i*s+t[e]*n,t[e+1]=o*s+t[e+1]*n,t[e+2]=r*s+t[e+2]*n}},i.Factory.addGetterSetter(o.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),i.Factory.addGetterSetter(o.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),i.Factory.addGetterSetter(o.Node,"blue",0,r.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}))},94992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sepia=void 0;t.Sepia=function(e){const t=e.data,n=t.length;for(let e=0;e<n;e+=4){const n=t[e+0],i=t[e+1],o=t[e+2];t[e+0]=Math.min(255,.393*n+.769*i+.189*o),t[e+1]=Math.min(255,.349*n+.686*i+.168*o),t[e+2]=Math.min(255,.272*n+.534*i+.131*o)}}},13973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solarize=void 0;t.Solarize=function(e){const t=e.data,n=e.width,i=4*n;let o=e.height;do{const e=(o-1)*i;let r=n;do{const n=e+4*(r-1);let i=t[n],o=t[n+1],s=t[n+2];i>127&&(i=255-i),o>127&&(o=255-o),s>127&&(s=255-s),t[n]=i,t[n+1]=o,t[n+2]=s}while(--r)}while(--o)}},62741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threshold=void 0;const i=n(5852),o=n(84344),r=n(87067);t.Threshold=function(e){const t=255*this.threshold(),n=e.data,i=n.length;for(let e=0;e<i;e+=1)n[e]=n[e]<t?0:255},i.Factory.addGetterSetter(o.Node,"threshold",.5,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},20034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(67422);e.exports=i.Konva},46549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arc=void 0;const i=n(5852),o=n(63315),r=n(52711),s=n(87067),a=n(52711);class l extends o.Shape{_sceneFunc(e){const t=r.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),i=r.Konva.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),a=Math.sin(Math.min(i,Math.PI/2)),l=o*(o>0?e:t),c=s*(s>0?e:t),d=a*(a>0?t:e);return{x:l,y:n?-1*d:c,width:1*t-l,height:d-c}}}t.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"innerRadius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"outerRadius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"clockwise",!1,(0,s.getBooleanValidator)())},90032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=void 0;const i=n(5852),o=n(7603),r=n(87067),s=n(52711),a=n(13486);class l extends o.Line{_sceneFunc(e){super._sceneFunc(e);const t=2*Math.PI,n=this.points();let i=n;const o=0!==this.tension()&&n.length>4;o&&(i=this.getTensionPoints());const r=this.pointerLength(),s=n.length;let l,c;if(o){const e=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[s-2],n[s-1]],t=a.Path.calcLength(i[i.length-4],i[i.length-3],"C",e),o=a.Path.getPointOnQuadraticBezier(Math.min(1,1-r/t),e[0],e[1],e[2],e[3],e[4],e[5]);l=n[s-2]-o.x,c=n[s-1]-o.y}else l=n[s-2]-n[s-4],c=n[s-1]-n[s-3];const d=(Math.atan2(c,l)+t)%t,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[s-2],n[s-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-r,u/2),e.lineTo(-r,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),o?(l=(i[0]+i[2])/2-n[0],c=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-r,u/2),e.lineTo(-r,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}}}t.Arrow=l,l.prototype.className="Arrow",(0,s._registerNode)(l),i.Factory.addGetterSetter(l,"pointerLength",10,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"pointerWidth",10,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"pointerAtBeginning",!1),i.Factory.addGetterSetter(l,"pointerAtEnding",!0)},51009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;const i=n(5852),o=n(63315),r=n(87067),s=n(52711);class a extends o.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}t.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)())},44731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;const i=n(5852),o=n(63315),r=n(87067),s=n(52711);class a extends o.Shape{_sceneFunc(e){const t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}t.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(a),i.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),i.Factory.addGetterSetter(a,"radiusX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"radiusY",0,(0,r.getNumberValidator)())},16344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const i=n(2220),o=n(5852),r=n(63315),s=n(52711),a=n(87067);class l extends r.Shape{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),o=this.cornerRadius(),r=this.attrs.image;let s;if(r){const e=this.attrs.cropWidth,i=this.attrs.cropHeight;s=e&&i?[r,this.cropX(),this.cropY(),e,i,0,0,t,n]:[r,0,0,t,n]}(this.hasFill()||this.hasStroke()||o)&&(e.beginPath(),o?i.Util.drawRoundedRectPath(e,t,n,o):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),r&&(o&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const t=this.width(),n=this.height(),o=this.cornerRadius();e.beginPath(),o?i.Util.drawRoundedRectPath(e,t,n,o):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t,n=null){const o=i.Util.createImageElement();o.onload=function(){const e=new l({image:o});t(e)},o.onerror=n,o.crossOrigin="Anonymous",o.src=e}}t.Image=l,l.prototype.className="Image",(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),o.Factory.addGetterSetter(l,"image"),o.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),o.Factory.addGetterSetter(l,"cropX",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropY",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropWidth",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropHeight",0,(0,a.getNumberValidator)())},36123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.Label=void 0;const i=n(5852),o=n(63315),r=n(6637),s=n(87067),a=n(52711),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",d="right",u="down",p="left",f=l.length;class h extends r.Group{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t,n=this;const i=function(){n._sync()};for(t=0;t<f;t++)e.on(l[t]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e,t,n,i,o,r,s,a=this.getText(),l=this.getTag();if(a&&l){switch(e=a.width(),t=a.height(),n=l.pointerDirection(),i=l.pointerWidth(),s=l.pointerHeight(),o=0,r=0,n){case c:o=e/2,r=-1*s;break;case d:o=e+i,r=t/2;break;case u:o=e/2,r=t+s;break;case p:o=-1*i,r=t/2}l.setAttrs({x:-1*o,y:-1*r,width:e,height:t}),a.setAttrs({x:-1*o,y:-1*r})}}}t.Label=h,h.prototype.className="Label",(0,a._registerNode)(h);class m extends o.Shape{_sceneFunc(e){const t=this.width(),n=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),r=this.pointerHeight(),s=this.cornerRadius();let a=0,l=0,f=0,h=0;"number"==typeof s?a=l=f=h=Math.min(s,t/2,n/2):(a=Math.min(s[0]||0,t/2,n/2),l=Math.min(s[1]||0,t/2,n/2),h=Math.min(s[2]||0,t/2,n/2),f=Math.min(s[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(a,0),i===c&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*r),e.lineTo((t+o)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),i===d&&(e.lineTo(t,(n-r)/2),e.lineTo(t+o,n/2),e.lineTo(t,(n+r)/2)),e.lineTo(t,n-h),e.arc(t-h,n-h,h,0,Math.PI/2,!1),i===u&&(e.lineTo((t+o)/2,n),e.lineTo(t/2,n+r),e.lineTo((t-o)/2,n)),e.lineTo(f,n),e.arc(f,n-f,f,Math.PI/2,Math.PI,!1),i===p&&(e.lineTo(0,(n+r)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-r)/2)),e.lineTo(0,a),e.arc(a,a,a,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,n=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),r=this.width(),s=this.height();return o===c?(t-=i,s+=i):o===u?s+=i:o===p?(e-=1.5*n,r+=n):o===d&&(r+=1.5*n),{x:e,y:t,width:r,height:s}}}t.Tag=m,m.prototype.className="Tag",(0,a._registerNode)(m),i.Factory.addGetterSetter(m,"pointerDirection","none"),i.Factory.addGetterSetter(m,"pointerWidth",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(m,"pointerHeight",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(m,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},7603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Line=void 0;const i=n(5852),o=n(52711),r=n(63315),s=n(87067);function a(e,t,n,i,o,r,s){const a=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)),l=Math.sqrt(Math.pow(o-n,2)+Math.pow(r-i,2)),c=s*a/(a+l),d=s*l/(a+l);return[n-c*(o-e),i-c*(r-t),n+d*(o-e),i+d*(r-t)]}function l(e,t){const n=e.length,i=[];for(let o=2;o<n-2;o+=2){const n=a(e[o-2],e[o-1],e[o],e[o+1],e[o+2],e[o+3],t);isNaN(n[0])||(i.push(n[0]),i.push(n[1]),i.push(e[o]),i.push(e[o+1]),i.push(n[2]),i.push(n[3]))}return i}class c extends r.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){let t,n,i,o=this.points(),r=o.length,s=this.tension(),a=this.closed(),l=this.bezier();if(r){if(e.beginPath(),e.moveTo(o[0],o[1]),0!==s&&r>4){for(t=this.getTensionPoints(),n=t.length,i=a?0:4,a||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);i<n-2;)e.bezierCurveTo(t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);a||e.quadraticCurveTo(t[n-2],t[n-1],o[r-2],o[r-1])}else if(l)for(i=2;i<r;)e.bezierCurveTo(o[i++],o[i++],o[i++],o[i++],o[i++],o[i++]);else for(i=2;i<r;i+=2)e.lineTo(o[i],o[i+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,n=this.tension(),i=a(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),o=a(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),r=l(e,n);return[i[2],i[3]].concat(r).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points();let t,n,i=e[0],o=e[0],r=e[1],s=e[1];for(let a=0;a<e.length/2;a++)t=e[2*a],n=e[2*a+1],i=Math.min(i,t),o=Math.max(o,t),r=Math.min(r,n),s=Math.max(s,n);return{x:i,y:r,width:o-i,height:s-r}}}t.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,o._registerNode)(c),i.Factory.addGetterSetter(c,"closed",!1),i.Factory.addGetterSetter(c,"bezier",!1),i.Factory.addGetterSetter(c,"tension",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(c,"points",[],(0,s.getNumberArrayValidator)())},13486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const i=n(5852),o=n(63315),r=n(52711),s=n(73394);class a extends o.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=a.parsePathData(this.data()),this.pathLength=a.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let n=!1;for(let h=0;h<t.length;h++){const m=t[h].command,g=t[h].points;switch(m){case"L":e.lineTo(g[0],g[1]);break;case"M":e.moveTo(g[0],g[1]);break;case"C":e.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":e.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":var i=g[0],o=g[1],r=g[2],s=g[3],a=g[4],l=g[5],c=g[6],d=g[7],u=r>s?r:s,p=r>s?1:r/s,f=r>s?s/r:1;e.translate(i,o),e.rotate(c),e.scale(p,f),e.arc(0,0,u,a,a+l,1-d),e.scale(1/p,1/f),e.rotate(-c),e.translate(-i,-o);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach((function(t){if("A"===t.command){const n=t.points[4],i=t.points[5],o=t.points[4]+i;let r=Math.PI/180;if(Math.abs(n-o)<r&&(r=Math.abs(n-o)),i<0)for(let i=n-r;i>o;i-=r){const n=a.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);e.push(n.x,n.y)}else for(let i=n+r;i<o;i+=r){const n=a.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],i,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const i=a.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(i.x,i.y)}else e=e.concat(t.points)}));let t,n,i=e[0],o=e[0],r=e[1],s=e[1];for(let a=0;a<e.length/2;a++)t=e[2*a],n=e[2*a+1],isNaN(t)||(i=Math.min(i,t),o=Math.max(o,t)),isNaN(n)||(r=Math.min(r,n),s=Math.max(s,n));return{x:i,y:r,width:o-i,height:s-r}}getLength(){return this.pathLength}getPointAtLength(e){return a.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}static getPathLength(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let n,i=0,o=t.length;if(!o)return null;for(;i<o&&e>t[i].pathLength;)e-=t[i].pathLength,++i;if(i===o)return n=t[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=t[i].points.slice(0,2),{x:n[0],y:n[1]};const r=t[i],l=r.points;switch(r.command){case"L":return a.getPointOnLine(e,r.start.x,r.start.y,l[0],l[1]);case"C":return a.getPointOnCubicBezier((0,s.t2length)(e,a.getPathLength(t),(e=>(0,s.getCubicArcLength)([r.start.x,l[0],l[2],l[4]],[r.start.y,l[1],l[3],l[5]],e))),r.start.x,r.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return a.getPointOnQuadraticBezier((0,s.t2length)(e,a.getPathLength(t),(e=>(0,s.getQuadraticArcLength)([r.start.x,l[0],l[2]],[r.start.y,l[1],l[3]],e))),r.start.x,r.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],d=l[1],u=l[2],p=l[3],f=l[4],h=l[5],m=l[6];return f+=h*e/r.pathLength,a.getPointOnEllipticalArc(c,d,u,p,f,m)}return null}static getPointOnLine(e,t,n,i,o,r,s){r=null!=r?r:t,s=null!=s?s:n;const a=this.getLineLength(t,n,i,o);if(a<1e-10)return{x:t,y:n};if(i===t)return{x:r,y:s+(o>n?e:-e)};const l=(o-n)/(i-t),c=Math.sqrt(e*e/(1+l*l))*(i<t?-1:1),d=l*c;if(Math.abs(s-n-l*(r-t))<1e-10)return{x:r+c,y:s+d};const u=((r-t)*(i-t)+(s-n)*(o-n))/(a*a),p=t+u*(i-t),f=n+u*(o-n),h=this.getLineLength(r,s,p,f),m=Math.sqrt(e*e-h*h),g=Math.sqrt(m*m/(1+l*l))*(i<t?-1:1);return{x:p+g,y:f+l*g}}static getPointOnCubicBezier(e,t,n,i,o,r,s,a,l){function c(e){return e*e*e}function d(e){return 3*e*e*(1-e)}function u(e){return 3*e*(1-e)*(1-e)}function p(e){return(1-e)*(1-e)*(1-e)}return{x:a*c(e)+r*d(e)+i*u(e)+t*p(e),y:l*c(e)+s*d(e)+o*u(e)+n*p(e)}}static getPointOnQuadraticBezier(e,t,n,i,o,r,s){function a(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:r*a(e)+i*l(e)+t*c(e),y:s*a(e)+o*l(e)+n*c(e)}}static getPointOnEllipticalArc(e,t,n,i,o,r){const s=Math.cos(r),a=Math.sin(r),l=n*Math.cos(o),c=i*Math.sin(o);return{x:e+(l*s-c*a),y:t+(l*a+c*s)}}static parsePathData(e){if(!e)return[];let t=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)t=t.replace(new RegExp(n[i],"g"),"|"+n[i]);const o=t.split("|"),r=[],s=[];let a=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(i=1;i<o.length;i++){let e=o[i],t=e.charAt(0);for(e=e.slice(1),s.length=0;d=c.exec(e);)s.push(d[0]);const n=[];for(let e=0,t=s.length;e<t;e++){if("00"===s[e]){n.push(0,0);continue}const t=parseFloat(s[e]);isNaN(t)?n.push(0):n.push(t)}for(;n.length>0&&!isNaN(n[0]);){let e="",i=[];const o=a,s=l;var u,p,f,h,m,g,y,b,v,x;switch(t){case"l":a+=n.shift(),l+=n.shift(),e="L",i.push(a,l);break;case"L":a=n.shift(),l=n.shift(),i.push(a,l);break;case"m":var A=n.shift(),w=n.shift();if(a+=A,l+=w,e="M",r.length>2&&"z"===r[r.length-1].command)for(let e=r.length-2;e>=0;e--)if("M"===r[e].command){a=r[e].points[0]+A,l=r[e].points[1]+w;break}i.push(a,l),t="l";break;case"M":a=n.shift(),l=n.shift(),e="M",i.push(a,l),t="L";break;case"h":a+=n.shift(),e="L",i.push(a,l);break;case"H":a=n.shift(),e="L",i.push(a,l);break;case"v":l+=n.shift(),e="L",i.push(a,l);break;case"V":l=n.shift(),e="L",i.push(a,l);break;case"C":i.push(n.shift(),n.shift(),n.shift(),n.shift()),a=n.shift(),l=n.shift(),i.push(a,l);break;case"c":i.push(a+n.shift(),l+n.shift(),a+n.shift(),l+n.shift()),a+=n.shift(),l+=n.shift(),e="C",i.push(a,l);break;case"S":p=a,f=l,"C"===(u=r[r.length-1]).command&&(p=a+(a-u.points[2]),f=l+(l-u.points[3])),i.push(p,f,n.shift(),n.shift()),a=n.shift(),l=n.shift(),e="C",i.push(a,l);break;case"s":p=a,f=l,"C"===(u=r[r.length-1]).command&&(p=a+(a-u.points[2]),f=l+(l-u.points[3])),i.push(p,f,a+n.shift(),l+n.shift()),a+=n.shift(),l+=n.shift(),e="C",i.push(a,l);break;case"Q":i.push(n.shift(),n.shift()),a=n.shift(),l=n.shift(),i.push(a,l);break;case"q":i.push(a+n.shift(),l+n.shift()),a+=n.shift(),l+=n.shift(),e="Q",i.push(a,l);break;case"T":p=a,f=l,"Q"===(u=r[r.length-1]).command&&(p=a+(a-u.points[0]),f=l+(l-u.points[1])),a=n.shift(),l=n.shift(),e="Q",i.push(p,f,a,l);break;case"t":p=a,f=l,"Q"===(u=r[r.length-1]).command&&(p=a+(a-u.points[0]),f=l+(l-u.points[1])),a+=n.shift(),l+=n.shift(),e="Q",i.push(p,f,a,l);break;case"A":h=n.shift(),m=n.shift(),g=n.shift(),y=n.shift(),b=n.shift(),v=a,x=l,a=n.shift(),l=n.shift(),e="A",i=this.convertEndpointToCenterParameterization(v,x,a,l,y,b,h,m,g);break;case"a":h=n.shift(),m=n.shift(),g=n.shift(),y=n.shift(),b=n.shift(),v=a,x=l,a+=n.shift(),l+=n.shift(),e="A",i=this.convertEndpointToCenterParameterization(v,x,a,l,y,b,h,m,g)}r.push({command:e||t,points:i,start:{x:o,y:s},pathLength:this.calcLength(o,s,e||t,i)})}"z"!==t&&"Z"!==t||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r}static calcLength(e,t,n,i){let o,r,l,c;const d=a;switch(n){case"L":return d.getLineLength(e,t,i[0],i[1]);case"C":return(0,s.getCubicArcLength)([e,i[0],i[2],i[4]],[t,i[1],i[3],i[5]],1);case"Q":return(0,s.getQuadraticArcLength)([e,i[0],i[2]],[t,i[1],i[3]],1);case"A":o=0;var u=i[4],p=i[5],f=i[4]+p,h=Math.PI/180;if(Math.abs(u-f)<h&&(h=Math.abs(u-f)),r=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),p<0)for(c=u-h;c>f;c-=h)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=d.getLineLength(r.x,r.y,l.x,l.y),r=l;else for(c=u+h;c<f;c+=h)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=d.getLineLength(r.x,r.y,l.x,l.y),r=l;return l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=d.getLineLength(r.x,r.y,l.x,l.y),o}return 0}static convertEndpointToCenterParameterization(e,t,n,i,o,r,s,a,l){const c=l*(Math.PI/180),d=Math.cos(c)*(e-n)/2+Math.sin(c)*(t-i)/2,u=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(t-i)/2,p=d*d/(s*s)+u*u/(a*a);p>1&&(s*=Math.sqrt(p),a*=Math.sqrt(p));let f=Math.sqrt((s*s*(a*a)-s*s*(u*u)-a*a*(d*d))/(s*s*(u*u)+a*a*(d*d)));o===r&&(f*=-1),isNaN(f)&&(f=0);const h=f*s*u/a,m=f*-a*d/s,g=(e+n)/2+Math.cos(c)*h-Math.sin(c)*m,y=(t+i)/2+Math.sin(c)*h+Math.cos(c)*m,b=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},v=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(v(e,t))},A=x([1,0],[(d-h)/s,(u-m)/a]),w=[(d-h)/s,(u-m)/a],E=[(-1*d-h)/s,(-1*u-m)/a];let C=x(w,E);return v(w,E)<=-1&&(C=Math.PI),v(w,E)>=1&&(C=0),0===r&&C>0&&(C-=2*Math.PI),1===r&&C<0&&(C+=2*Math.PI),[g,y,s,a,A,C,c,r]}}t.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(a),i.Factory.addGetterSetter(a,"data")},89411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;const i=n(5852),o=n(63315),r=n(52711),s=n(2220),a=n(87067);class l extends o.Shape{_sceneFunc(e){const t=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),t?s.Util.drawRoundedRectPath(e,n,i,t):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}}t.Rect=l,l.prototype.className="Rect",(0,r._registerNode)(l),i.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4))},39371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegularPolygon=void 0;const i=n(5852),o=n(63315),r=n(87067),s=n(52711);class a extends o.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(let i=0;i<e;i++)n.push({x:t*Math.sin(2*i*Math.PI/e),y:-1*t*Math.cos(2*i*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let t=e[0].x,n=e[0].y,i=e[0].x,o=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)})),{x:t,y:i,width:n-t,height:o-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"sides",0,(0,r.getNumberValidator)())},46603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ring=void 0;const i=n(5852),o=n(63315),r=n(87067),s=n(52711),a=2*Math.PI;class l extends o.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,a,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),a,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),i.Factory.addGetterSetter(l,"innerRadius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"outerRadius",0,(0,r.getNumberValidator)())},49980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;const i=n(5852),o=n(63315),r=n(57616),s=n(87067),a=n(52711);class l extends o.Shape{constructor(e){super(e),this._updated=!0,this.anim=new r.Animation((()=>{const e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){const t=this.animation(),n=this.frameIndex(),i=4*n,o=this.animations()[t],r=this.frameOffsets(),s=o[i+0],a=o[i+1],l=o[i+2],c=o[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,c),e.closePath(),e.fillStrokeShape(this)),d)if(r){const i=r[t],o=2*n;e.drawImage(d,s,a,l,c,i[o+0],i[o+1],l,c)}else e.drawImage(d,s,a,l,c,0,0,l,c)}_hitFunc(e){const t=this.animation(),n=this.frameIndex(),i=4*n,o=this.animations()[t],r=this.frameOffsets(),s=o[i+2],a=o[i+3];if(e.beginPath(),r){const i=r[t],o=2*n;e.rect(i[o+0],i[o+1],s,a)}else e.rect(0,0,s,a);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}t.Sprite=l,l.prototype.className="Sprite",(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"animation"),i.Factory.addGetterSetter(l,"animations"),i.Factory.addGetterSetter(l,"frameOffsets"),i.Factory.addGetterSetter(l,"image"),i.Factory.addGetterSetter(l,"frameIndex",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"frameRate",17,(0,s.getNumberValidator)()),i.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},44241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Star=void 0;const i=n(5852),o=n(63315),r=n(87067),s=n(52711);class a extends o.Shape{_sceneFunc(e){const t=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let o=1;o<2*i;o++){const r=o%2==0?n:t,s=r*Math.sin(o*Math.PI/i),a=-1*r*Math.cos(o*Math.PI/i);e.lineTo(s,a)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"numPoints",5,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)())},56182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,t.stringToArray=c;const i=n(2220),o=n(5852),r=n(63315),s=n(52711),a=n(87067),l=n(52711);function c(e){return[...e].reduce(((e,t,n,i)=>{if(/\p{Emoji}/u.test(t)){const o=i[n+1];o&&/\p{Emoji_Modifier}|\u200D/u.test(o)?(e.push(t+o),i[n+1]=""):e.push(t)}else/\p{Regional_Indicator}{2}/u.test(t+(i[n+1]||""))?e.push(t+i[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(t)?e[e.length-1]+=t:t&&e.push(t);return e}),[])}const d="auto",u="inherit",p="justify",f="left",h="middle",m="normal",g=" ",y="none",b=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],v=b.length;let x;function A(){return x||(x=i.Util.createCanvasElement().getContext("2d"),x)}class w extends r.Shape{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(let e=0;e<v;e++)this.on(b[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){const t=this.textArr,n=t.length;if(!this.text())return;let i,o=this.padding(),r=this.fontSize(),a=this.lineHeight()*r,l=this.verticalAlign(),d=this.direction(),m=0,g=this.align(),y=this.getWidth(),b=this.letterSpacing(),v=this.fill(),x=this.textDecoration(),A=-1!==x.indexOf("underline"),w=-1!==x.indexOf("line-through");d=d===u?e.direction:d;let E=a/2,C=h;if(s.Konva._fixTextRendering){const e=this.measureSize("M");C="alphabetic",E=(e.fontBoundingBoxAscent-e.fontBoundingBoxDescent)/2+a/2}var _=0,M=0;for("rtl"===d&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",C),e.setAttr("textAlign",f),l===h?m=(this.getHeight()-n*a-2*o)/2:"bottom"===l&&(m=this.getHeight()-n*a-2*o),e.translate(o,m+o),i=0;i<n;i++){_=0,M=0;var I,k,P=t[i],F=P.text,S=P.width,T=P.lastInParagraph;if(e.save(),"right"===g?_+=y-S-2*o:"center"===g&&(_+=(y-S-2*o)/2),A){e.save(),e.beginPath();const t=_,n=E+M+(s.Konva._fixTextRendering?Math.round(r/4):Math.round(r/2));e.moveTo(t,n),0===(I=F.split(" ").length-1),k=g!==p||T?S:y-2*o,e.lineTo(t+Math.round(k),n),e.lineWidth=r/15;const i=this._getLinearGradient();e.strokeStyle=i||v,e.stroke(),e.restore()}if(w){e.save(),e.beginPath();const t=s.Konva._fixTextRendering?-Math.round(r/4):0;e.moveTo(_,E+M+t),0===(I=F.split(" ").length-1),k=g!==p||T?S:y-2*o,e.lineTo(_+Math.round(k),E+M+t),e.lineWidth=r/15;const n=this._getLinearGradient();e.strokeStyle=n||v,e.stroke(),e.restore()}if("rtl"===d||0===b&&g!==p)0!==b&&e.setAttr("letterSpacing",`${b}px`),this._partialTextX=_,this._partialTextY=E+M,this._partialText=F,e.fillStrokeShape(this);else{I=F.split(" ").length-1;const t=c(F);for(let n=0;n<t.length;n++){const i=t[n];" "!==i||T||g!==p||(_+=(y-2*o-S)/I),this._partialTextX=_,this._partialTextY=E+M,this._partialText=i,e.fillStrokeShape(this),_+=this.measureSize(i).width+b}}e.restore(),n>1&&(E+=a)}}_hitFunc(e){const t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=i.Util._isString(e)?e:null==e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===d||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===d||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n,i,o,r,s,a,l,c,d,u;let p,f=A(),h=this.fontSize();f.save(),f.font=this._getContextFont(),p=f.measureText(e),f.restore();const m=h/100;return{actualBoundingBoxAscent:null!==(t=p.actualBoundingBoxAscent)&&void 0!==t?t:71.58203125*m,actualBoundingBoxDescent:null!==(n=p.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(i=p.actualBoundingBoxLeft)&&void 0!==i?i:-7.421875*m,actualBoundingBoxRight:null!==(o=p.actualBoundingBoxRight)&&void 0!==o?o:75.732421875*m,alphabeticBaseline:null!==(r=p.alphabeticBaseline)&&void 0!==r?r:0,emHeightAscent:null!==(s=p.emHeightAscent)&&void 0!==s?s:100*m,emHeightDescent:null!==(a=p.emHeightDescent)&&void 0!==a?a:-20*m,fontBoundingBoxAscent:null!==(l=p.fontBoundingBoxAscent)&&void 0!==l?l:91*m,fontBoundingBoxDescent:null!==(c=p.fontBoundingBoxDescent)&&void 0!==c?c:21*m,hangingBaseline:null!==(d=p.hangingBaseline)&&void 0!==d?d:72.80000305175781*m,ideographicBaseline:null!==(u=p.ideographicBaseline)&&void 0!==u?u:-21*m,width:p.width,height:h}}_getContextFont(){return this.fontStyle()+g+this.fontVariant()+g+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e=`"${e}"`),e})).join(", ")}_addTextLine(e){this.align()===p&&(e=e.trim());const t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),n=e.length;return A().measureText(e).width+t*n}_setTextData(){let e=this.text().split("\n"),t=+this.fontSize(),n=0,i=this.lineHeight()*t,o=this.attrs.width,r=this.attrs.height,s=o!==d&&void 0!==o,a=r!==d&&void 0!==r,l=this.padding(),u=o-2*l,p=r-2*l,f=0,h=this.wrap(),m="char"!==h&&h!==y,b=this.ellipsis();this.textArr=[],A().font=this._getContextFont();const v=b?this._getTextWidth("…"):0;for(let t=0,o=e.length;t<o;++t){let r=e[t],l=this._getTextWidth(r);if(s&&l>u)for(;r.length>0;){let e=0,t=c(r).length,o="",s=0;for(;e<t;){const n=e+t>>>1,i=c(r).slice(0,n+1).join(""),a=this._getTextWidth(i)+v;a<=u?(e=n+1,o=i,s=a):t=n}if(!o)break;if(m){const t=c(r),n=c(o),i=t[n.length];let a;if((i===g||"-"===i)&&s<=u)a=n.length;else{const e=n.lastIndexOf(g),t=n.lastIndexOf("-");a=Math.max(e,t)+1}a>0&&(e=a,o=t.slice(0,e).join(""),s=this._getTextWidth(o))}o=o.trimRight(),this._addTextLine(o),n=Math.max(n,s),f+=i;if(this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(r=c(r).slice(e).join("").trimLeft(),r.length>0&&(l=this._getTextWidth(r),l<=u)){this._addTextLine(r),f+=i,n=Math.max(n,l);break}}else this._addTextLine(r),f+=i,n=Math.max(n,l),this._shouldHandleEllipsis(f)&&t<o-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),a&&f+i>p)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){const t=+this.fontSize(),n=this.lineHeight()*t,i=this.attrs.height,o=i!==d&&void 0!==i,r=i-2*this.padding();return!(this.wrap()!==y)||o&&e+n>r}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==d&&void 0!==e,n=e-2*this.padding(),i=this.ellipsis(),o=this.textArr[this.textArr.length-1];if(o&&i){if(t){this._getTextWidth(o.text+"…")<n||(o.text=o.text.slice(0,o.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+"…")}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}t.Text=w,w.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},w.prototype.className="Text",w.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,l._registerNode)(w),o.Factory.overWriteSetter(w,"width",(0,a.getNumberOrAutoValidator)()),o.Factory.overWriteSetter(w,"height",(0,a.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(w,"direction",u),o.Factory.addGetterSetter(w,"fontFamily","Arial"),o.Factory.addGetterSetter(w,"fontSize",12,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(w,"fontStyle",m),o.Factory.addGetterSetter(w,"fontVariant",m),o.Factory.addGetterSetter(w,"padding",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(w,"align",f),o.Factory.addGetterSetter(w,"verticalAlign","top"),o.Factory.addGetterSetter(w,"lineHeight",1,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(w,"wrap","word"),o.Factory.addGetterSetter(w,"ellipsis",!1,(0,a.getBooleanValidator)()),o.Factory.addGetterSetter(w,"letterSpacing",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(w,"text","",(0,a.getStringValidator)()),o.Factory.addGetterSetter(w,"textDecoration","")},99737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPath=void 0;const i=n(2220),o=n(5852),r=n(63315),s=n(13486),a=n(56182),l=n(87067),c=n(52711),d="normal";function u(e){e.fillText(this.partialText,0,0)}function p(e){e.strokeText(this.partialText,0,0)}class f extends r.Shape{constructor(e){super(e),this.dummyCanvas=i.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;return e-1>this.pathLength?null:s.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),n=this.fill(),i=this.fontSize(),o=this.glyphInfo;"underline"===t&&e.beginPath();for(let n=0;n<o.length;n++){e.save();const r=o[n].p0;e.translate(r.x,r.y),e.rotate(o[n].rotation),this.partialText=o[n].text,e.fillStrokeShape(this),"underline"===t&&(0===n&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const n=t[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<t.length;n++){const i=t[n].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return a.Text.prototype.setText.call(this,e)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(e){const t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();const n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===i&&(l=Math.max(0,this.pathLength/2-r/2)),"right"===i&&(l=Math.max(0,this.pathLength-r));const c=(0,a.stringToArray)(this.text());let d=l;for(let e=0;e<c.length;e++){const t=this._getPointAtLength(d);if(!t)return;let a=this._getTextSize(c[e]).width+n;if(" "===c[e]&&"justify"===i){const e=this.text().split(" ").length-1;a+=(this.pathLength-r)/e}const l=this._getPointAtLength(d+a);if(!l)return;const u=s.Path.getLineLength(t.x,t.y,l.x,l.y);let p=0;if(o)try{p=o(c[e-1],c[e])*this.fontSize()}catch(e){p=0}t.x+=p,l.x+=p,this.textWidth+=p;const f=s.Path.getPointOnLine(p+u/2,t.x,t.y,l.x,l.y),h=Math.atan2(l.y-t.y,l.x-t.x);this.glyphInfo.push({transposeX:f.x,transposeY:f.y,text:c[e],rotation:h,p0:t,p1:l}),d+=a}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));let t,n,i=e[0]||0,o=e[0]||0,r=e[1]||0,s=e[1]||0;for(let a=0;a<e.length/2;a++)t=e[2*a],n=e[2*a+1],i=Math.min(i,t),o=Math.max(o,t),r=Math.min(r,n),s=Math.max(s,n);const a=this.fontSize();return{x:i-a/2,y:r-a/2,width:o-i+a,height:s-r+a}}destroy(){return i.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}t.TextPath=f,f.prototype._fillFunc=u,f.prototype._strokeFunc=p,f.prototype._fillFuncHit=u,f.prototype._strokeFuncHit=p,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(f),o.Factory.addGetterSetter(f,"data"),o.Factory.addGetterSetter(f,"fontFamily","Arial"),o.Factory.addGetterSetter(f,"fontSize",12,(0,l.getNumberValidator)()),o.Factory.addGetterSetter(f,"fontStyle",d),o.Factory.addGetterSetter(f,"align","left"),o.Factory.addGetterSetter(f,"letterSpacing",0,(0,l.getNumberValidator)()),o.Factory.addGetterSetter(f,"textBaseline","middle"),o.Factory.addGetterSetter(f,"fontVariant",d),o.Factory.addGetterSetter(f,"text",""),o.Factory.addGetterSetter(f,"textDecoration",""),o.Factory.addGetterSetter(f,"kerningFunc",void 0)},45730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const i=n(2220),o=n(5852),r=n(84344),s=n(63315),a=n(89411),l=n(6637),c=n(52711),d=n(87067),u=n(52711),p="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((e=>e+`.${p}`)).join(" "),h="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},y="ontouchstart"in c.Konva._global;const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function v(e,t,n){const i=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),o=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:i,y:o}}function x(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return v(e,t,n)}let A=0;class w extends l.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter((e=>!e.isAncestorOf(this)||(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=e._attrsAffectingSize.map((e=>e+"Change."+this._getEventNamespace())).join(" ");e.on(n,t),e.on(m.map((e=>e+`.${this._getEventNamespace()}`)).join(" "),t),e.on(`absoluteTransformChange.${this._getEventNamespace()}`,t),this._proxyDrag(e)})),this._resetTransformCache();return!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,(n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)})),e.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!t)return;const i=e.getAbsolutePosition(),o=i.x-t.x,r=i.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const i=t.getAbsolutePosition();t.setAbsolutePosition({x:i.x+o,y:i.y+r}),t.startDrag(n)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),n){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(n),r=e.getAbsolutePosition(n),s=i.x*o.x-e.offsetX()*o.x,a=i.y*o.y-e.offsetY()*o.y,l=(c.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return v({x:r.x+s*Math.cos(l)+a*Math.sin(-l),y:r.y+a*Math.cos(l)+s*Math.sin(l),width:i.width*o.x,height:i.height*o.y,rotation:l},-c.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],o=t.getAbsoluteTransform();i.forEach((function(t){const n=o.point(t);e.push(n)}))}));const t=new i.Transform;t.rotate(-c.Konva.getAngle(this.rotation()));let n=1/0,o=1/0,r=-1/0,s=-1/0;e.forEach((function(e){const i=t.point(e);void 0===n&&(n=r=i.x,o=s=i.y),n=Math.min(n,i.x),o=Math.min(o,i.y),r=Math.max(r,i.x),s=Math.max(s,i.y)})),t.invert();const a=t.point({x:n,y:o});return{x:a.x,y:a.y,width:r-n,height:s-o,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach((e=>{this._createAnchor(e)})),this._createAnchor("rotater")}_createAnchor(e){const t=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:y?10:"auto"}),n=this;t.on("mousedown touchstart",(function(e){n._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{const n=c.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),r=function(e,t,n){if("rotater"===e)return n;t+=i.Util.degToRad(g[e]||0);const o=(i.Util.radToDeg(t)%360+360)%360;return i.Util._inRange(o,337.5,360)||i.Util._inRange(o,0,22.5)?"ns-resize":i.Util._inRange(o,22.5,67.5)?"nesw-resize":i.Util._inRange(o,67.5,112.5)?"ew-resize":i.Util._inRange(o,112.5,157.5)?"nwse-resize":i.Util._inRange(o,157.5,202.5)?"ns-resize":i.Util._inRange(o,202.5,247.5)?"nesw-resize":i.Util._inRange(o,247.5,292.5)?"ew-resize":i.Util._inRange(o,292.5,337.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+o),"pointer")}(e,n,o);t.getStage().content&&(t.getStage().content.style.cursor=r),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){const e=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e,t){const n=t.getParent(),o=n.padding();e.beginPath(),e.rect(-o,-o,t.width()+2*o,t.height()+2*o),e.moveTo(t.width()/2,-o),n.rotateEnabled()&&n.rotateLineVisible()&&e.lineTo(t.width()/2,-n.rotateAnchorOffset()*i.Util._sign(t.height())-o),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),n=t.width,i=t.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(n/o),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const r=e.target.getAbsolutePosition(),s=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-r.x,y:s.y-r.y},A++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e.evt,target:t})}))}_handleMouseMove(e){let t,n,i;const o=this.findOne("."+this._movingAnchorName),r=o.getStage();r.setPointersPositions(e);const s=r.getPointerPosition();let a={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const l=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(a=this.anchorDragBoundFunc()(l,a,e)),o.setAbsolutePosition(a);const d=o.getAbsolutePosition();if(l.x===d.x&&l.y===d.y)return;if("rotater"===this._movingAnchorName){const i=this._getNodeRect();t=o.x()-i.width/2,n=-o.y()+i.height/2;let r=Math.atan2(-n,t)+Math.PI/2;i.height<0&&(r-=Math.PI);const s=c.Konva.getAngle(this.rotation())+r,a=c.Konva.getAngle(this.rotationSnapTolerance()),l=function(e,t,n){let i=t;for(let o=0;o<e.length;o++){const r=c.Konva.getAngle(e[o]),s=Math.abs(r-t)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(i=r)}return i}(this.rotationSnaps(),s,a),d=x(i,l-i.rotation);return void this._fitNodesInto(d,e)}const u=this.shiftBehavior();let p;p="inverted"===u?this.keepRatio()&&!e.shiftKey:"none"===u?this.keepRatio():this.keepRatio()||e.shiftKey;var f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(p){var h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(h.x-o.x(),2)+Math.pow(h.y-o.y(),2));var m=this.findOne(".top-left").x()>h.x?-1:1,g=this.findOne(".top-left").y()>h.y?-1:1;t=i*this.cos*m,n=i*this.sin*g,this.findOne(".top-left").x(h.x-t),this.findOne(".top-left").y(h.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(o.y());else if("top-right"===this._movingAnchorName){if(p){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-h.x,2)+Math.pow(h.y-o.y(),2));m=this.findOne(".top-right").x()<h.x?-1:1,g=this.findOne(".top-right").y()>h.y?-1:1;t=i*this.cos*m,n=i*this.sin*g,this.findOne(".top-right").x(h.x+t),this.findOne(".top-right").y(h.y-n)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(o.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(o.x());else if("bottom-left"===this._movingAnchorName){if(p){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(h.x-o.x(),2)+Math.pow(o.y()-h.y,2));m=h.x<o.x()?-1:1,g=o.y()<h.y?-1:1;t=i*this.cos*m,n=i*this.sin*g,o.x(h.x-t),o.y(h.y+n)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(o.y());else if("bottom-right"===this._movingAnchorName){if(p){h=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-h.x,2)+Math.pow(o.y()-h.y,2));m=this.findOne(".bottom-right").x()<h.x?-1:1,g=this.findOne(".bottom-right").y()<h.y?-1:1;t=i*this.cos*m,n=i*this.sin*g,this.findOne(".bottom-right").x(h.x+t),this.findOne(".bottom-right").y(h.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey){const e=this.findOne(".top-left"),t=this.findOne(".bottom-right"),n=e.x(),i=e.y(),o=this.getWidth()-t.x(),r=this.getHeight()-t.y();t.move({x:-n,y:-i}),e.move({x:o,y:r})}const b=this.findOne(".top-left").getAbsolutePosition();t=b.x,n=b.y;const v=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:v,height:A,rotation:c.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();A--,this._fire("transformend",{evt:e,target:n}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),n&&this._nodes.forEach((t=>{var n;t._fire("transformend",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(e,t){const n=this._getNodeRect();if(i.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(i.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();const o=new i.Transform;if(o.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=o.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=o.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=o.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=o.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const r=1e7,s=new i.Transform;s.translate(n.x,n.y),s.rotate(n.rotation),s.scale(n.width/r,n.height/r);const a=new i.Transform,l=e.width/r,d=e.height/r;!1===this.flipEnabled()?(a.translate(e.x,e.y),a.rotate(e.rotation),a.translate(e.width<0?e.width:0,e.height<0?e.height:0),a.scale(Math.abs(l),Math.abs(d))):(a.translate(e.x,e.y),a.rotate(e.rotation),a.scale(l,d));const u=a.multiply(s.invert());this._nodes.forEach((e=>{var t;const n=e.getParent().getAbsoluteTransform(),o=e.getTransform().copy();o.translate(e.offsetX(),e.offsetY());const r=new i.Transform;r.multiply(n.copy().invert()).multiply(u).multiply(n).multiply(o);const s=r.decompose();e.setAttrs(s),null===(t=e.getLayer())||void 0===t||t.batchDraw()})),this.rotation(i.Util._getRotation(e.rotation)),this._nodes.forEach((e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(i.Util._getRotation(t.rotation));const n=t.width,o=t.height,r=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach((e=>{e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:o/2,offsetX:l/2+a,visible:s&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:o/2,offsetX:l/2-a,visible:s&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:o,offsetX:l/2+a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:o,offsetY:l/2-a,visible:s&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:o,offsetX:l/2-a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*i.Util._sign(o)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&c.forEach((e=>{d(e)})),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(e){return r.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}t.Transformer=w,w.isTransforming=()=>A>0,w.prototype.className="Transformer",(0,u._registerNode)(w),o.Factory.addGetterSetter(w,"enabledAnchors",b,(function(e){return e instanceof Array||i.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===b.indexOf(e)&&i.Util.warn("Unknown anchor name: "+e+". Available names are: "+b.join(", "))})),e||[]})),o.Factory.addGetterSetter(w,"flipEnabled",!0,(0,d.getBooleanValidator)()),o.Factory.addGetterSetter(w,"resizeEnabled",!0),o.Factory.addGetterSetter(w,"anchorSize",10,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"rotateEnabled",!0),o.Factory.addGetterSetter(w,"rotateLineVisible",!0),o.Factory.addGetterSetter(w,"rotationSnaps",[]),o.Factory.addGetterSetter(w,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"rotateAnchorCursor","crosshair"),o.Factory.addGetterSetter(w,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"borderEnabled",!0),o.Factory.addGetterSetter(w,"anchorStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(w,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"anchorFill","white"),o.Factory.addGetterSetter(w,"anchorCornerRadius",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"borderStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(w,"borderStrokeWidth",1,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"borderDash"),o.Factory.addGetterSetter(w,"keepRatio",!0),o.Factory.addGetterSetter(w,"shiftBehavior","default"),o.Factory.addGetterSetter(w,"centeredScaling",!1),o.Factory.addGetterSetter(w,"ignoreStroke",!1),o.Factory.addGetterSetter(w,"padding",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(w,"nodes"),o.Factory.addGetterSetter(w,"node"),o.Factory.addGetterSetter(w,"boundBoxFunc"),o.Factory.addGetterSetter(w,"anchorDragBoundFunc"),o.Factory.addGetterSetter(w,"anchorStyleFunc"),o.Factory.addGetterSetter(w,"shouldOverdrawWholeArea",!1),o.Factory.addGetterSetter(w,"useSingleNodeRotation",!0),o.Factory.backCompat(w,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},45889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wedge=void 0;const i=n(5852),o=n(63315),r=n(52711),s=n(87067),a=n(52711);class l extends o.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"radius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"clockwise",!1),i.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},42743:(e,t,n)=>{
/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
e.exports=function(e){var t={},i=n(64012),o=n(38686),r=Object.assign;function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function E(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return E(e(t))}catch(e){}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function _(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function M(e){if(_(e)!==e)throw Error(s(188))}function I(e){var t=e.alternate;if(!t){if(null===(t=_(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return M(o),e;if(r===i)return M(o),t;r=r.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=r;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function k(e){return null!==(e=I(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function F(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=F(e);if(null!==t)return t}e=e.sibling}return null}var S,T=Array.isArray,O=e.getPublicInstance,D=e.getRootHostContext,N=e.getChildHostContext,j=e.prepareForCommit,L=e.resetAfterCommit,R=e.createInstance,B=e.appendInitialChild,$=e.finalizeInitialChildren,z=e.prepareUpdate,W=e.shouldSetTextContent,U=e.createTextInstance,V=e.scheduleTimeout,H=e.cancelTimeout,G=e.noTimeout,J=e.isPrimaryRenderer,K=e.supportsMutation,q=e.supportsPersistence,Y=e.supportsHydration,X=e.getInstanceFromNode,Z=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,ie=e.supportsTestSelectors,oe=e.findFiberRoot,re=e.getBoundingRect,se=e.getTextContent,ae=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,de=e.setupIntersectionObserver,ue=e.appendChild,pe=e.appendChildToContainer,fe=e.commitTextUpdate,he=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ye=e.insertInContainerBefore,be=e.removeChild,ve=e.removeChildFromContainer,xe=e.resetTextContent,Ae=e.hideInstance,we=e.hideTextInstance,Ee=e.unhideInstance,Ce=e.unhideTextInstance,_e=e.clearContainer,Me=e.cloneInstance,Ie=e.createContainerChildSet,ke=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,Fe=e.replaceContainerChildren,Se=e.cloneHiddenInstance,Te=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,De=e.canHydrateTextInstance,Ne=e.canHydrateSuspenseInstance,je=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,Re=e.getSuspenseInstanceFallbackErrorDetails,Be=e.registerSuspenseInstanceRetry,$e=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,We=e.getFirstHydratableChildWithinContainer,Ue=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,He=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,Je=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,qe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===S)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return"\n"+S+e}var nt=!1;function it(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),r=i.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var ot=Object.prototype.hasOwnProperty,rt=[],st=-1;function at(e){return{current:e}}function lt(e){0>st||(e.current=rt[st],rt[st]=null,st--)}function ct(e,t){st++,rt[st]=e.current,e.current=t}var dt={},ut=at(dt),pt=at(!1),ft=dt;function ht(e,t){var n=e.type.contextTypes;if(!n)return dt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function mt(e){return null!=(e=e.childContextTypes)}function gt(){lt(pt),lt(ut)}function yt(e,t,n){if(ut.current!==dt)throw Error(s(168));ct(ut,t),ct(pt,n)}function bt(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(s(108,C(e)||"Unknown",o));return r({},n,i)}function vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dt,ft=ut.current,ct(ut,e),ct(pt,pt.current),!0}function xt(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=bt(e,t,ft),i.__reactInternalMemoizedMergedChildContext=e,lt(pt),lt(ut),ct(ut,e)):lt(pt),ct(pt,n)}var At=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/Et|0)|0},wt=Math.log,Et=Math.LN2;var Ct=64,_t=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function It(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?i=Mt(a):0!==(r&=s)&&(i=Mt(r))}else 0!==(s=n&~o)?i=Mt(s):0!==r&&(i=Mt(r));if(0===i)return 0;if(0!==t&&t!==i&&!(t&o)&&((o=i&-i)>=(r=t&-t)||16===o&&4194240&r))return t;if(4&i&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-At(t)),i|=e[n],t&=~o;return i}function kt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(){var e=Ct;return!(4194240&(Ct<<=1))&&(Ct=64),e}function St(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-At(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-At(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Dt=0;function Nt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var jt=o.unstable_scheduleCallback,Lt=o.unstable_cancelCallback,Rt=o.unstable_shouldYield,Bt=o.unstable_requestPaint,$t=o.unstable_now,zt=o.unstable_ImmediatePriority,Wt=o.unstable_UserBlockingPriority,Ut=o.unstable_NormalPriority,Vt=o.unstable_IdlePriority,Ht=null,Gt=null;var Jt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kt=null,qt=!1,Yt=!1;function Xt(e){null===Kt?Kt=[e]:Kt.push(e)}function Zt(){if(!Yt&&null!==Kt){Yt=!0;var e=0,t=Dt;try{var n=Kt;for(Dt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Kt=null,qt=!1}catch(t){throw null!==Kt&&(Kt=Kt.slice(e+1)),jt(zt,Zt),t}finally{Dt=t,Yt=!1}}return null}var Qt=[],en=0,tn=null,nn=0,on=[],rn=0,sn=null,an=1,ln="";function cn(e,t){Qt[en++]=nn,Qt[en++]=tn,tn=e,nn=t}function dn(e,t,n){on[rn++]=an,on[rn++]=ln,on[rn++]=sn,sn=e;var i=an;e=ln;var o=32-At(i)-1;i&=~(1<<o),n+=1;var r=32-At(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,an=1<<32-At(t)+o|n<<o|i,ln=r+e}else an=1<<r|n<<o|i,ln=e}function un(e){null!==e.return&&(cn(e,1),dn(e,1,0))}function pn(e){for(;e===tn;)tn=Qt[--en],Qt[en]=null,nn=Qt[--en],Qt[en]=null;for(;e===sn;)sn=on[--rn],on[rn]=null,ln=on[--rn],on[rn]=null,an=on[--rn],on[rn]=null}var fn=null,hn=null,mn=!1,gn=!1,yn=null;function bn(e,t){var n=sa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,fn=e,hn=ze(t),!0);case 6:return null!==(t=De(t,e.pendingProps))&&(e.stateNode=t,fn=e,hn=null,!0);case 13:if(null!==(t=Ne(t))){var n=null!==sn?{id:an,overflow:ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=sa(18,null,null,0)).stateNode=t,n.return=e,e.child=n,fn=e,hn=null,!0}return!1;default:return!1}}function xn(e){return!(!(1&e.mode)||128&e.flags)}function An(e){if(mn){var t=hn;if(t){var n=t;if(!vn(e,t)){if(xn(e))throw Error(s(418));t=$e(n);var i=fn;t&&vn(e,t)?bn(i,n):(e.flags=-4097&e.flags|2,mn=!1,fn=e)}}else{if(xn(e))throw Error(s(418));e.flags=-4097&e.flags|2,mn=!1,fn=e}}}function wn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fn=e}function En(e){if(!Y||e!==fn)return!1;if(!mn)return wn(e),mn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!W(e.type,e.memoizedProps))){var t=hn;if(t){if(xn(e))throw Cn(),Error(s(418));for(;t;)bn(e,t),t=$e(t)}}if(wn(e),13===e.tag){if(!Y)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));hn=Je(e)}else hn=fn?$e(e.stateNode):null;return!0}function Cn(){for(var e=hn;e;)e=$e(e)}function _n(){Y&&(hn=fn=null,gn=mn=!1)}function Mn(e){null===yn?yn=[e]:yn.push(e)}var In=a.ReactCurrentBatchConfig;function kn(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ot.call(t,o)||!Jt(e[o],t[o]))return!1}return!0}function Pn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=it(e.type,!1);case 11:return e=it(e.type.render,!1);case 1:return e=it(e.type,!0);default:return""}}function Fn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var o=i,r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=o.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Sn(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tn(e){return(0,e._init)(e._payload)}function On(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=la(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=pa(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n,i){var r=n.type;return r===d?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===v&&Tn(r)===t.type)?((i=o(t,n.props)).ref=Fn(e,t,n),i.return=e,i):((i=ca(n.type,n.key,n.props,null,e.mode,i)).ref=Fn(e,t,n),i.return=e,i)}function f(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=fa(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,i,r){return null===t||7!==t.tag?((t=da(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=pa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ca(t.type,t.key,t.props,null,e.mode,n)).ref=Fn(e,null,t),n.return=e,n;case c:return(t=fa(t,e.mode,n)).return=e,t;case v:return m(e,(0,t._init)(t._payload),n)}if(T(t)||w(t))return(t=da(t,e.mode,n,null)).return=e,t;Sn(e,t)}return null}function g(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:u(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===o?p(e,t,n,i):null;case c:return n.key===o?f(e,t,n,i):null;case v:return g(e,t,(o=n._init)(n._payload),i)}if(T(n)||w(n))return null!==o?null:h(e,t,n,i,null);Sn(e,n)}return null}function y(e,t,n,i,o){if("string"==typeof i&&""!==i||"number"==typeof i)return u(t,e=e.get(n)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return p(t,e=e.get(null===i.key?n:i.key)||null,i,o);case c:return f(t,e=e.get(null===i.key?n:i.key)||null,i,o);case v:return y(e,t,n,(0,i._init)(i._payload),o)}if(T(i)||w(i))return h(t,e=e.get(n)||null,i,o,null);Sn(t,i)}return null}function b(o,s,a,l){for(var c=null,d=null,u=s,p=s=0,f=null;null!==u&&p<a.length;p++){u.index>p?(f=u,u=null):f=u.sibling;var h=g(o,u,a[p],l);if(null===h){null===u&&(u=f);break}e&&u&&null===h.alternate&&t(o,u),s=r(h,s,p),null===d?c=h:d.sibling=h,d=h,u=f}if(p===a.length)return n(o,u),mn&&cn(o,p),c;if(null===u){for(;p<a.length;p++)null!==(u=m(o,a[p],l))&&(s=r(u,s,p),null===d?c=u:d.sibling=u,d=u);return mn&&cn(o,p),c}for(u=i(o,u);p<a.length;p++)null!==(f=y(u,o,p,a[p],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?p:f.key),s=r(f,s,p),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(o,e)})),mn&&cn(o,p),c}function x(o,a,l,c){var d=w(l);if("function"!=typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=a,f=a=0,h=null,b=l.next();null!==p&&!b.done;f++,b=l.next()){p.index>f?(h=p,p=null):h=p.sibling;var v=g(o,p,b.value,c);if(null===v){null===p&&(p=h);break}e&&p&&null===v.alternate&&t(o,p),a=r(v,a,f),null===u?d=v:u.sibling=v,u=v,p=h}if(b.done)return n(o,p),mn&&cn(o,f),d;if(null===p){for(;!b.done;f++,b=l.next())null!==(b=m(o,b.value,c))&&(a=r(b,a,f),null===u?d=b:u.sibling=b,u=b);return mn&&cn(o,f),d}for(p=i(o,p);!b.done;f++,b=l.next())null!==(b=y(p,o,f,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?f:b.key),a=r(b,a,f),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach((function(e){return t(o,e)})),mn&&cn(o,f),d}return function e(i,r,s,u){if("object"==typeof s&&null!==s&&s.type===d&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case l:e:{for(var p=s.key,f=r;null!==f;){if(f.key===p){if((p=s.type)===d){if(7===f.tag){n(i,f.sibling),(r=o(f,s.props.children)).return=i,i=r;break e}}else if(f.elementType===p||"object"==typeof p&&null!==p&&p.$$typeof===v&&Tn(p)===f.type){n(i,f.sibling),(r=o(f,s.props)).ref=Fn(i,f,s),r.return=i,i=r;break e}n(i,f);break}t(i,f),f=f.sibling}s.type===d?((r=da(s.props.children,i.mode,u,s.key)).return=i,i=r):((u=ca(s.type,s.key,s.props,null,i.mode,u)).ref=Fn(i,r,s),u.return=i,i=u)}return a(i);case c:e:{for(f=s.key;null!==r;){if(r.key===f){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(i,r.sibling),(r=o(r,s.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=fa(s,i.mode,u)).return=i,i=r}return a(i);case v:return e(i,r,(f=s._init)(s._payload),u)}if(T(s))return b(i,r,s,u);if(w(s))return x(i,r,s,u);Sn(i,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==r&&6===r.tag?(n(i,r.sibling),(r=o(r,s)).return=i,i=r):(n(i,r),(r=pa(s,i.mode,u)).return=i,i=r),a(i)):n(i,r)}}var Dn=On(!0),Nn=On(!1),jn=at(null),Ln=null,Rn=null,Bn=null;function $n(){Bn=Rn=Ln=null}function zn(e,t,n){J?(ct(jn,t._currentValue),t._currentValue=n):(ct(jn,t._currentValue2),t._currentValue2=n)}function Wn(e){var t=jn.current;lt(jn),J?e._currentValue=t:e._currentValue2=t}function Un(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Vn(e,t){Ln=e,Bn=Rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Do=!0),e.firstContext=null)}function Hn(e){var t=J?e._currentValue:e._currentValue2;if(Bn!==e)if(e={context:e,memoizedValue:t,next:null},null===Rn){if(null===Ln)throw Error(s(308));Rn=e,Ln.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var Gn=null;function Jn(e){null===Gn?Gn=[e]:Gn.push(e)}function Kn(e,t,n,i){var o=t.interleaved;return null===o?(n.next=n,Jn(t)):(n.next=o.next,o.next=n),t.interleaved=n,qn(e,i)}function qn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Yn=!1;function Xn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&ns){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,qn(e,n)}return null===(o=i.interleaved)?(t.next=t,Jn(i)):(t.next=o.next,o.next=t),i.interleaved=t,qn(e,n)}function ti(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function ni(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ii(e,t,n,i){var o=e.updateQueue;Yn=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,d=c.next;c.next=null,null===a?s=d:a.next=d,a=c;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===l?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(null!==s){var p=o.baseState;for(a=0,u=d=c=null,l=s;;){var f=l.lane,h=l.eventTime;if((i&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,h=n,g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(h,p,f);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(h,p,f):m))break e;p=r({},p,f);break e;case 2:Yn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(d=u=h,c=p):u=u.next=h,a|=f;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(f=l).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(c=p),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===s&&(o.shared.lanes=0);ds|=a,e.lanes=a,e.memoizedState=p}}function oi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!=typeof o)throw Error(s(191,o));o.call(i)}}}var ri={},si=at(ri),ai=at(ri),li=at(ri);function ci(e){if(e===ri)throw Error(s(174));return e}function di(e,t){ct(li,t),ct(ai,e),ct(si,ri),e=D(t),lt(si),ct(si,e)}function ui(){lt(si),lt(ai),lt(li)}function pi(e){var t=ci(li.current),n=ci(si.current);n!==(t=N(n,e.type,t))&&(ct(ai,e),ct(si,t))}function fi(e){ai.current===e&&(lt(si),lt(ai))}var hi=at(0);function mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||je(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gi=[];function yi(){for(var e=0;e<gi.length;e++){var t=gi[e];J?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}gi.length=0}var bi=a.ReactCurrentDispatcher,vi=a.ReactCurrentBatchConfig,xi=0,Ai=null,wi=null,Ei=null,Ci=!1,_i=!1,Mi=0,Ii=0;function ki(){throw Error(s(321))}function Pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Fi(e,t,n,i,o,r){if(xi=r,Ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bi.current=null===e||null===e.memoizedState?ho:mo,e=n(i,o),_i){r=0;do{if(_i=!1,Mi=0,25<=r)throw Error(s(301));r+=1,Ei=wi=null,t.updateQueue=null,bi.current=go,e=n(i,o)}while(_i)}if(bi.current=fo,t=null!==wi&&null!==wi.next,xi=0,Ei=wi=Ai=null,Ci=!1,t)throw Error(s(300));return e}function Si(){var e=0!==Mi;return Mi=0,e}function Ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ei?Ai.memoizedState=Ei=e:Ei=Ei.next=e,Ei}function Oi(){if(null===wi){var e=Ai.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===Ei?Ai.memoizedState:Ei.next;if(null!==t)Ei=t,wi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===Ei?Ai.memoizedState=Ei=e:Ei=Ei.next=e}return Ei}function Di(e,t){return"function"==typeof t?t(e):t}function Ni(e){var t=Oi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=wi,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var a=o.next;o.next=r.next,r.next=a}i.baseQueue=o=r,n.pending=null}if(null!==o){r=o.next,i=i.baseState;var l=a=null,c=null,d=r;do{var u=d.lane;if((xi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,a=i):c=c.next=p,Ai.lanes|=u,ds|=u}d=d.next}while(null!==d&&d!==r);null===c?a=i:c.next=l,Jt(i,t.memoizedState)||(Do=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do{r=o.lane,Ai.lanes|=r,ds|=r,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=Oi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{r=e(r,a.action),a=a.next}while(a!==o);Jt(r,t.memoizedState)||(Do=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Li(){}function Ri(e,t){var n=Ai,i=Oi(),o=t(),r=!Jt(i.memoizedState,o);if(r&&(i.memoizedState=o,Do=!0),i=i.queue,Yi(zi.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||null!==Ei&&1&Ei.memoizedState.tag){if(n.flags|=2048,Hi(9,$i.bind(null,n,i,o,t),void 0,null),null===is)throw Error(s(349));30&xi||Bi(n,t,o)}return o}function Bi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ai.updateQueue)?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $i(e,t,n,i){t.value=n,t.getSnapshot=i,Wi(t)&&Ui(e)}function zi(e,t,n){return n((function(){Wi(t)&&Ui(e)}))}function Wi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch(e){return!0}}function Ui(e){var t=qn(e,1);null!==t&&Ts(t,e,1,-1)}function Vi(e){var t=Ti();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=lo.bind(null,Ai,e),[t.memoizedState,e]}function Hi(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Ai.updateQueue)?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Gi(){return Oi().memoizedState}function Ji(e,t,n,i){var o=Ti();Ai.flags|=e,o.memoizedState=Hi(1|t,n,void 0,void 0===i?null:i)}function Ki(e,t,n,i){var o=Oi();i=void 0===i?null:i;var r=void 0;if(null!==wi){var s=wi.memoizedState;if(r=s.destroy,null!==i&&Pi(i,s.deps))return void(o.memoizedState=Hi(t,n,r,i))}Ai.flags|=e,o.memoizedState=Hi(1|t,n,r,i)}function qi(e,t){return Ji(8390656,8,e,t)}function Yi(e,t){return Ki(2048,8,e,t)}function Xi(e,t){return Ki(4,2,e,t)}function Zi(e,t){return Ki(4,4,e,t)}function Qi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(e,t,n){return n=null!=n?n.concat([e]):null,Ki(4,4,Qi.bind(null,t,e),n)}function to(){}function no(e,t){var n=Oi();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Pi(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function io(e,t){var n=Oi();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Pi(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function oo(e,t,n){return 21&xi?(Jt(n,t)||(n=Ft(),Ai.lanes|=n,ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Do=!0),e.memoizedState=n)}function ro(e,t){var n=Dt;Dt=0!==n&&4>n?n:4,e(!0);var i=vi.transition;vi.transition={};try{e(!1),t()}finally{Dt=n,vi.transition=i}}function so(){return Oi().memoizedState}function ao(e,t,n){var i=Ss(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},co(e))uo(t,n);else if(null!==(n=Kn(e,t,n,i))){Ts(n,e,i,Fs()),po(n,t,i)}}function lo(e,t,n){var i=Ss(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(co(e))uo(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,Jt(a,s)){var l=t.interleaved;return null===l?(o.next=o,Jn(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Kn(e,t,o,i))&&(Ts(n,e,i,o=Fs()),po(n,t,i))}}function co(e){var t=e.alternate;return e===Ai||null!==t&&t===Ai}function uo(e,t){_i=Ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(4194240&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var fo={readContext:Hn,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ho={readContext:Hn,useCallback:function(e,t){return Ti().memoizedState=[e,void 0===t?null:t],e},useContext:Hn,useEffect:qi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ji(4194308,4,Qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=Ti();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ti();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ao.bind(null,Ai,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ti().memoizedState=e},useState:Vi,useDebugValue:to,useDeferredValue:function(e){return Ti().memoizedState=e},useTransition:function(){var e=Vi(!1),t=e[0];return e=ro.bind(null,e[1]),Ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ai,o=Ti();if(mn){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===is)throw Error(s(349));30&xi||Bi(i,t,n)}o.memoizedState=n;var r={value:n,getSnapshot:t};return o.queue=r,qi(zi.bind(null,i,r,e),[e]),i.flags|=2048,Hi(9,$i.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=Ti(),t=is.identifierPrefix;if(mn){var n=ln;t=":"+t+"R"+(n=(an&~(1<<32-At(an)-1)).toString(32)+n),0<(n=Mi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ii++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mo={readContext:Hn,useCallback:no,useContext:Hn,useEffect:Yi,useImperativeHandle:eo,useInsertionEffect:Xi,useLayoutEffect:Zi,useMemo:io,useReducer:Ni,useRef:Gi,useState:function(){return Ni(Di)},useDebugValue:to,useDeferredValue:function(e){return oo(Oi(),wi.memoizedState,e)},useTransition:function(){return[Ni(Di)[0],Oi().memoizedState]},useMutableSource:Li,useSyncExternalStore:Ri,useId:so,unstable_isNewReconciler:!1},go={readContext:Hn,useCallback:no,useContext:Hn,useEffect:Yi,useImperativeHandle:eo,useInsertionEffect:Xi,useLayoutEffect:Zi,useMemo:io,useReducer:ji,useRef:Gi,useState:function(){return ji(Di)},useDebugValue:to,useDeferredValue:function(e){var t=Oi();return null===wi?t.memoizedState=e:oo(t,wi.memoizedState,e)},useTransition:function(){return[ji(Di)[0],Oi().memoizedState]},useMutableSource:Li,useSyncExternalStore:Ri,useId:so,unstable_isNewReconciler:!1};function yo(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function bo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&_(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Fs(),o=Ss(e),r=Qn(i,o);r.payload=t,null!=n&&(r.callback=n),null!==(t=ei(e,r,o))&&(Ts(t,e,o,i),ti(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Fs(),o=Ss(e),r=Qn(i,o);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ei(e,r,o))&&(Ts(t,e,o,i),ti(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fs(),i=Ss(e),o=Qn(n,i);o.tag=2,null!=t&&(o.callback=t),null!==(t=ei(e,o,i))&&(Ts(t,e,i,n),ti(t,e,i))}};function xo(e,t,n,i,o,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!kn(n,i)||!kn(o,r))}function Ao(e,t,n){var i=!1,o=dt,r=t.contextType;return"object"==typeof r&&null!==r?r=Hn(r):(o=mt(t)?ft:ut.current,r=(i=null!=(i=t.contextTypes))?ht(e,o):dt),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function wo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Xn(e);var r=t.contextType;"object"==typeof r&&null!==r?o.context=Hn(r):(r=mt(t)?ft:ut.current,o.context=ht(e,r)),o.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(bo(e,t,r,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&vo.enqueueReplaceState(o,o.state,null),ii(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Co(e,t){try{var n="",i=t;do{n+=Pn(i),i=i.return}while(i);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Mo(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Io="function"==typeof WeakMap?WeakMap:Map;function ko(e,t,n){(n=Qn(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){xs||(xs=!0,As=i),Mo(0,t)},n}function Po(e,t,n){(n=Qn(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){Mo(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){Mo(0,t),"function"!=typeof i&&(null===ws?ws=new Set([this]):ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Fo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new Io;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=ea.bind(null,e,t,n),t.then(e,e))}function So(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function To(e,t,n,i,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qn(-1,1)).tag=2,ei(n,t,1))),n.lanes|=1),e)}var Oo=a.ReactCurrentOwner,Do=!1;function No(e,t,n,i){t.child=null===e?Nn(t,null,n,i):Dn(t,e.child,n,i)}function jo(e,t,n,i,o){n=n.render;var r=t.ref;return Vn(t,o),i=Fi(e,t,n,i,r,o),n=Si(),null===e||Do?(mn&&n&&un(t),t.flags|=1,No(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rr(e,t,o))}function Lo(e,t,n,i,o){if(null===e){var r=n.type;return"function"!=typeof r||aa(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ca(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ro(e,t,r,i,o))}if(r=e.child,!(e.lanes&o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:kn)(s,i)&&e.ref===t.ref)return rr(e,t,o)}return t.flags|=1,(e=la(r,i)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if(kn(r,i)&&e.ref===t.ref){if(Do=!1,t.pendingProps=i=r,!(e.lanes&o))return t.lanes=e.lanes,rr(e,t,o);131072&e.flags&&(Do=!0)}}return zo(e,t,n,i,o)}function Bo(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(as,ss),ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,ct(as,ss),ss|=i}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(as,ss),ss|=n;else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,ct(as,ss),ss|=i;return No(e,t,o,n),t.child}function $o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zo(e,t,n,i,o){var r=mt(n)?ft:ut.current;return r=ht(t,r),Vn(t,o),n=Fi(e,t,n,i,r,o),i=Si(),null===e||Do?(mn&&i&&un(t),t.flags|=1,No(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rr(e,t,o))}function Wo(e,t,n,i,o){if(mt(n)){var r=!0;vt(t)}else r=!1;if(Vn(t,o),null===t.stateNode)or(e,t),Ao(t,n,i),Eo(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Hn(c):c=ht(t,c=mt(n)?ft:ut.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&wo(t,s,i,c),Yn=!1;var p=t.memoizedState;s.state=p,ii(t,i,s,o),l=t.memoizedState,a!==i||p!==l||pt.current||Yn?("function"==typeof d&&(bo(t,n,d,i),l=t.memoizedState),(a=Yn||xo(t,n,a,i,p,l,c))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Zn(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,u=t.pendingProps,p=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Hn(l):l=ht(t,l=mt(n)?ft:ut.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==u||p!==l)&&wo(t,s,i,l),Yn=!1,p=t.memoizedState,s.state=p,ii(t,i,s,o);var h=t.memoizedState;a!==u||p!==h||pt.current||Yn?("function"==typeof f&&(bo(t,n,f,i),h=t.memoizedState),(c=Yn||xo(t,n,c,i,p,h,l)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return Uo(e,t,n,i,r,o)}function Uo(e,t,n,i,o,r){$o(e,t);var s=!!(128&t.flags);if(!i&&!s)return o&&xt(t,n,!1),rr(e,t,r);i=t.stateNode,Oo.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Dn(t,e.child,null,r),t.child=Dn(t,null,a,r)):No(e,t,a,r),t.memoizedState=i.state,o&&xt(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?yt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yt(0,t.context,!1),di(e,t.containerInfo)}function Ho(e,t,n,i,o){return _n(),Mn(o),t.flags|=256,No(e,t,n,i),t.child}var Go,Jo,Ko,qo,Yo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zo(e,t,n){var i,o=t.pendingProps,r=hi.current,a=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&r)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),ct(hi,1&r),null===e)return An(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Le(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},1&o||null===a?a=ua(l,o,0,null):(a.childLanes=0,a.pendingProps=l),e=da(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xo(n),t.memoizedState=Yo,e):Qo(t,l));if(null!==(r=e.memoizedState)&&null!==(i=r.dehydrated))return function(e,t,n,i,o,r,a){if(n)return 256&t.flags?(t.flags&=-257,er(e,t,a,i=_o(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=i.fallback,o=t.mode,i=ua({mode:"visible",children:i.children},o,0,null),(r=da(r,o,a,null)).flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,1&t.mode&&Dn(t,e.child,null,a),t.child.memoizedState=Xo(a),t.memoizedState=Yo,r);if(!(1&t.mode))return er(e,t,a,null);if(Le(o))return i=Re(o).digest,r=Error(s(419)),i=_o(r,i,void 0),er(e,t,a,i);if(n=!!(a&e.childLanes),Do||n){if(null!==(i=is)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(i.suspendedLanes|a)?0:o)&&o!==r.retryLane&&(r.retryLane=o,qn(e,o),Ts(i,e,o,-1))}return Vs(),er(e,t,a,i=_o(Error(s(421))))}return je(o)?(t.flags|=128,t.child=e.child,t=na.bind(null,e),Be(o,t),null):(e=r.treeContext,Y&&(hn=Ue(o),fn=t,mn=!0,yn=null,gn=!1,null!==e&&(on[rn++]=an,on[rn++]=ln,on[rn++]=sn,an=e.id,ln=e.overflow,sn=t)),t=Qo(t,i.children),t.flags|=4096,t)}(e,t,l,o,i,r,n);if(a){a=o.fallback,l=t.mode,i=(r=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===r?(o=la(r,c)).subtreeFlags=14680064&r.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==i?a=la(i,a):(a=da(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Xo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Yo,o}return e=(a=e.child).sibling,o=la(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Qo(e,t){return(t=ua({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function er(e,t,n,i){return null!==i&&Mn(i),Dn(t,e.child,null,n),(e=Qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tr(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Un(e.return,t,n)}function nr(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function ir(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(No(e,t,i.children,n),2&(i=hi.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tr(e,n,t);else if(19===e.tag)tr(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ct(hi,i),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===mi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nr(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===mi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nr(t,!0,n,null,r);break;case"together":nr(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function or(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ds|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=la(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=la(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sr(e){e.flags|=4}function ar(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(K)Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Jo=function(){},Ko=function(e,t,n,i,o){if((e=e.memoizedProps)!==i){var r=t.stateNode,s=ci(si.current);n=z(r,n,e,i,o,s),(t.updateQueue=n)&&sr(t)}},qo=function(e,t,n,i){n!==i&&sr(t)};else if(q){Go=function(e,t,n,i){for(var o=t.child;null!==o;){if(5===o.tag){var r=o.stateNode;n&&i&&(r=Se(r,o.type,o.memoizedProps,o)),B(e,r)}else if(6===o.tag)r=o.stateNode,n&&i&&(r=Te(r,o.memoizedProps,o)),B(e,r);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(r=o.child)&&(r.return=o),Go(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var lr=function(e,t,n,i){for(var o=t.child;null!==o;){if(5===o.tag){var r=o.stateNode;n&&i&&(r=Se(r,o.type,o.memoizedProps,o)),ke(e,r)}else if(6===o.tag)r=o.stateNode,n&&i&&(r=Te(r,o.memoizedProps,o)),ke(e,r);else if(4!==o.tag)if(22===o.tag&&null!==o.memoizedState)null!==(r=o.child)&&(r.return=o),lr(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Jo=function(e,t){var n=t.stateNode;if(!ar(e,t)){e=n.containerInfo;var i=Ie(e);lr(i,t,!1,!1),n.pendingChildren=i,sr(t),Pe(e,i)}},Ko=function(e,t,n,i,o){var r=e.stateNode,s=e.memoizedProps;if((e=ar(e,t))&&s===i)t.stateNode=r;else{var a=t.stateNode,l=ci(si.current),c=null;s!==i&&(c=z(a,n,s,i,o,l)),e&&null===c?t.stateNode=r:(r=Me(r,c,n,s,i,t,e,a),$(r,n,i,o,l)&&sr(t),t.stateNode=r,e?sr(t):Go(r,t,!1,!1))}},qo=function(e,t,n,i){n!==i?(e=ci(li.current),n=ci(si.current),t.stateNode=U(i,e,n,t),sr(t)):t.stateNode=e.stateNode}}else Jo=function(){},Ko=function(){},qo=function(){};function cr(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function dr(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ur(e,t,n){var i=t.pendingProps;switch(pn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:case 17:return mt(t.type)&&gt(),dr(t),null;case 3:return n=t.stateNode,ui(),lt(pt),lt(ut),yi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(En(t)?sr(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==yn&&(js(yn),yn=null))),Jo(e,t),dr(t),null;case 5:fi(t),n=ci(li.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ko(e,t,o,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return dr(t),null}if(e=ci(si.current),En(t)){if(!Y)throw Error(s(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!gn),t.updateQueue=e,null!==e&&sr(t)}else{var r=R(o,i,n,e,t);Go(r,t,!1,!1),t.stateNode=r,$(r,o,i,n,e)&&sr(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(s(166));if(e=ci(li.current),n=ci(si.current),En(t)){if(!Y)throw Error(s(176));if(e=t.stateNode,n=t.memoizedProps,(i=He(e,n,t,!gn))&&null!==(o=fn))switch(o.tag){case 3:Qe(o.stateNode.containerInfo,e,n,!!(1&o.mode));break;case 5:et(o.type,o.memoizedProps,o.stateNode,e,n,!!(1&o.mode))}i&&sr(t)}else t.stateNode=U(i,e,n,t)}return dr(t),null;case 13:if(lt(hi),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mn&&null!==hn&&1&t.mode&&!(128&t.flags))Cn(),_n(),t.flags|=98560,o=!1;else if(o=En(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!Y)throw Error(s(344));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));Ge(o,t)}else _n(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dr(t),o=!1}else null!==yn&&(js(yn),yn=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((n=null!==i)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&hi.current?0===ls&&(ls=3):Vs())),null!==t.updateQueue&&(t.flags|=4),dr(t),null);case 4:return ui(),Jo(e,t),null===e&&Z(t.stateNode.containerInfo),dr(t),null;case 10:return Wn(t.type._context),dr(t),null;case 19:if(lt(hi),null===(o=t.memoizedState))return dr(t),null;if(i=!!(128&t.flags),null===(r=o.rendering))if(i)cr(o,!1);else{if(0!==ls||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(r=mi(e))){for(t.flags|=128,cr(o,!1),null!==(e=r.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)o=e,(i=n).flags&=14680066,null===(r=i.alternate)?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,i.type=r.type,o=r.dependencies,i.dependencies=null===o?null:{lanes:o.lanes,firstContext:o.firstContext}),n=n.sibling;return ct(hi,1&hi.current|2),t.child}e=e.sibling}null!==o.tail&&$t()>gs&&(t.flags|=128,i=!0,cr(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=mi(r))){if(t.flags|=128,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),cr(o,!0),null===o.tail&&"hidden"===o.tailMode&&!r.alternate&&!mn)return dr(t),null}else 2*$t()-o.renderingStartTime>gs&&1073741824!==n&&(t.flags|=128,i=!0,cr(o,!1),t.lanes=4194304);o.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=o.last)?e.sibling=r:t.child=r,o.last=r)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,e=hi.current,ct(hi,i?1&e|2:1&e),t):(dr(t),null);case 22:case 23:return $s(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&ss)&&(dr(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):dr(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function pr(e,t){switch(pn(t),t.tag){case 1:return mt(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ui(),lt(pt),lt(ut),yi(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return fi(t),null;case 13:if(lt(hi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(hi),null;case 4:return ui(),null;case 10:return Wn(t.type._context),null;case 22:case 23:return $s(),null;default:return null}}var fr=!1,hr=!1,mr="function"==typeof WeakSet?WeakSet:Set,gr=null;function yr(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Qs(e,t,n)}else n.current=null}function br(e,t,n){try{n()}catch(n){Qs(e,t,n)}}var vr=!1;function xr(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&br(t,n,r)}o=o.next}while(o!==i)}}function Ar(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function wr(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"==typeof t?t(e):t.current=e}}function Er(e){var t=e.alternate;null!==t&&(e.alternate=null,Er(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cr(e){return 5===e.tag||3===e.tag||4===e.tag}function _r(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cr(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Mr(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?ye(n,e,t):pe(n,e);else if(4!==i&&null!==(e=e.child))for(Mr(e,t,n),e=e.sibling;null!==e;)Mr(e,t,n),e=e.sibling}function Ir(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?ge(n,e,t):ue(n,e);else if(4!==i&&null!==(e=e.child))for(Ir(e,t,n),e=e.sibling;null!==e;)Ir(e,t,n),e=e.sibling}var kr=null,Pr=!1;function Fr(e,t,n){for(n=n.child;null!==n;)Sr(e,t,n),n=n.sibling}function Sr(e,t,n){if(Gt&&"function"==typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Ht,n)}catch(e){}switch(n.tag){case 5:hr||yr(n,t);case 6:if(K){var i=kr,o=Pr;kr=null,Fr(e,t,n),Pr=o,null!==(kr=i)&&(Pr?ve(kr,n.stateNode):be(kr,n.stateNode))}else Fr(e,t,n);break;case 18:K&&null!==kr&&(Pr?Xe(kr,n.stateNode):Ye(kr,n.stateNode));break;case 4:K?(i=kr,o=Pr,kr=n.stateNode.containerInfo,Pr=!0,Fr(e,t,n),kr=i,Pr=o):(q&&(i=n.stateNode.containerInfo,o=Ie(i),Fe(i,o)),Fr(e,t,n));break;case 0:case 11:case 14:case 15:if(!hr&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){o=i=i.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(2&r||4&r)&&br(n,t,s),o=o.next}while(o!==i)}Fr(e,t,n);break;case 1:if(!hr&&(yr(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){Qs(n,t,e)}Fr(e,t,n);break;case 21:Fr(e,t,n);break;case 22:1&n.mode?(hr=(i=hr)||null!==n.memoizedState,Fr(e,t,n),hr=i):Fr(e,t,n);break;default:Fr(e,t,n)}}function Tr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new mr),t.forEach((function(t){var i=ia.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Or(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var r=e,a=t;if(K){var l=a;e:for(;null!==l;){switch(l.tag){case 5:kr=l.stateNode,Pr=!1;break e;case 3:case 4:kr=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(null===kr)throw Error(s(160));Sr(r,a,o),kr=null,Pr=!1}else Sr(r,a,o);var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Qs(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Dr(t,e),t=t.sibling}function Dr(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),Nr(e),4&i){try{xr(3,e,e.return),Ar(3,e)}catch(t){Qs(e,e.return,t)}try{xr(5,e,e.return)}catch(t){Qs(e,e.return,t)}}break;case 1:Or(t,e),Nr(e),512&i&&null!==n&&yr(n,n.return);break;case 5:if(Or(t,e),Nr(e),512&i&&null!==n&&yr(n,n.return),K){if(32&e.flags){var o=e.stateNode;try{xe(o)}catch(t){Qs(e,e.return,t)}}if(4&i&&null!=(o=e.stateNode)){var r=e.memoizedProps;if(n=null!==n?n.memoizedProps:r,i=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{me(o,t,i,n,r,e)}catch(t){Qs(e,e.return,t)}}}break;case 6:if(Or(t,e),Nr(e),4&i&&K){if(null===e.stateNode)throw Error(s(162));o=e.stateNode,r=e.memoizedProps,n=null!==n?n.memoizedProps:r;try{fe(o,n,r)}catch(t){Qs(e,e.return,t)}}break;case 3:if(Or(t,e),Nr(e),4&i){if(K&&Y&&null!==n&&n.memoizedState.isDehydrated)try{Ke(t.containerInfo)}catch(t){Qs(e,e.return,t)}if(q){o=t.containerInfo,r=t.pendingChildren;try{Fe(o,r)}catch(t){Qs(e,e.return,t)}}}break;case 4:if(Or(t,e),Nr(e),4&i&&q){o=(r=e.stateNode).containerInfo,r=r.pendingChildren;try{Fe(o,r)}catch(t){Qs(e,e.return,t)}}break;case 13:Or(t,e),Nr(e),8192&(o=e.child).flags&&(r=null!==o.memoizedState,o.stateNode.isHidden=r,!r||null!==o.alternate&&null!==o.alternate.memoizedState||(ms=$t())),4&i&&Tr(e);break;case 22:var a=null!==n&&null!==n.memoizedState;if(1&e.mode?(hr=(n=hr)||a,Or(t,e),hr=n):Or(t,e),Nr(e),8192&i){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!a&&1&e.mode)for(gr=e,i=e.child;null!==i;){for(t=gr=i;null!==gr;){var l=(a=gr).child;switch(a.tag){case 0:case 11:case 14:case 15:xr(4,a,a.return);break;case 1:yr(a,a.return);var c=a.stateNode;if("function"==typeof c.componentWillUnmount){var d=a,u=a.return;try{var p=d;c.props=p.memoizedProps,c.state=p.memoizedState,c.componentWillUnmount()}catch(e){Qs(d,u,e)}}break;case 5:yr(a,a.return);break;case 22:if(null!==a.memoizedState){Br(t);continue}}null!==l?(l.return=a,gr=l):Br(t)}i=i.sibling}if(K)e:if(i=null,K)for(t=e;;){if(5===t.tag){if(null===i){i=t;try{o=t.stateNode,n?Ae(o):Ee(t.stateNode,t.memoizedProps)}catch(t){Qs(e,e.return,t)}}}else if(6===t.tag){if(null===i)try{r=t.stateNode,n?we(r):Ce(r,t.memoizedProps)}catch(t){Qs(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Or(t,e),Nr(e),4&i&&Tr(e);break;case 21:break;default:Or(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(2&t){try{if(K){e:{for(var n=e.return;null!==n;){if(Cr(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(xe(o),i.flags&=-33),Ir(e,_r(e),o);break;case 3:case 4:var r=i.stateNode.containerInfo;Mr(e,_r(e),r);break;default:throw Error(s(161))}}}catch(t){Qs(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jr(e,t,n){gr=e,Lr(e,t,n)}function Lr(e,t,n){for(var i=!!(1&e.mode);null!==gr;){var o=gr,r=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||fr;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||hr;a=fr;var c=hr;if(fr=s,(hr=l)&&!c)for(gr=o;null!==gr;)l=(s=gr).child,22===s.tag&&null!==s.memoizedState?$r(o):null!==l?(l.return=s,gr=l):$r(o);for(;null!==r;)gr=r,Lr(r,t,n),r=r.sibling;gr=o,fr=a,hr=c}Rr(e)}else 8772&o.subtreeFlags&&null!==r?(r.return=o,gr=r):Rr(e)}}function Rr(e){for(;null!==gr;){var t=gr;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:hr||Ar(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!hr)if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&oi(t,r,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}oi(t,a,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&he(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Y&&null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&qe(u)}}}break;default:throw Error(s(163))}hr||512&t.flags&&wr(t)}catch(e){Qs(t,t.return,e)}}if(t===e){gr=null;break}if(null!==(n=t.sibling)){n.return=t.return,gr=n;break}gr=t.return}}function Br(e){for(;null!==gr;){var t=gr;if(t===e){gr=null;break}var n=t.sibling;if(null!==n){n.return=t.return,gr=n;break}gr=t.return}}function $r(e){for(;null!==gr;){var t=gr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ar(4,t)}catch(e){Qs(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(e){Qs(t,o,e)}}var r=t.return;try{wr(t)}catch(e){Qs(t,r,e)}break;case 5:var s=t.return;try{wr(t)}catch(e){Qs(t,s,e)}}}catch(e){Qs(t,t.return,e)}if(t===e){gr=null;break}var a=t.sibling;if(null!==a){a.return=t.return,gr=a;break}gr=t.return}}var zr=0,Wr=1,Ur=2,Vr=3,Hr=4;if("function"==typeof Symbol&&Symbol.for){var Gr=Symbol.for;zr=Gr("selector.component"),Wr=Gr("selector.has_pseudo_class"),Ur=Gr("selector.role"),Vr=Gr("selector.test_id"),Hr=Gr("selector.text")}function Jr(e){var t=X(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=oe(e)))throw Error(s(362));return e.stateNode.current}function Kr(e,t){switch(t.$$typeof){case zr:if(e.type===t.value)return!0;break;case Wr:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var i=e[n++],o=e[n++],r=t[o];if(5!==i.tag||!ae(i)){for(;null!=r&&Kr(i,r);)r=t[++o];if(o===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}t=!1}return t;case Ur:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Hr:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case Vr:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function qr(e){switch(e.$$typeof){case zr:return"<"+(E(e.value)||"Unknown")+">";case Wr:return":has("+(qr(e)||"")+")";case Ur:return'[role="'+e.value+'"]';case Hr:return'"'+e.value+'"';case Vr:return'[data-testname="'+e.value+'"]';default:throw Error(s(365))}}function Yr(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var o=e[i++],r=e[i++],s=t[r];if(5!==o.tag||!ae(o)){for(;null!=s&&Kr(o,s);)s=t[++r];if(r===t.length)n.push(o);else for(o=o.child;null!==o;)e.push(o,r),o=o.sibling}}return n}function Xr(e,t){if(!ie)throw Error(s(363));e=Yr(e=Jr(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++];if(5===i.tag)ae(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}var Zr=Math.ceil,Qr=a.ReactCurrentDispatcher,es=a.ReactCurrentOwner,ts=a.ReactCurrentBatchConfig,ns=0,is=null,os=null,rs=0,ss=0,as=at(0),ls=0,cs=null,ds=0,us=0,ps=0,fs=null,hs=null,ms=0,gs=1/0,ys=null;function bs(){gs=$t()+500}var vs,xs=!1,As=null,ws=null,Es=!1,Cs=null,_s=0,Ms=0,Is=null,ks=-1,Ps=0;function Fs(){return 6&ns?$t():-1!==ks?ks:ks=$t()}function Ss(e){return 1&e.mode?2&ns&&0!==rs?rs&-rs:null!==In.transition?(0===Ps&&(Ps=Ft()),Ps):0!==(e=Dt)?e:Q():1}function Ts(e,t,n,i){if(50<Ms)throw Ms=0,Is=null,Error(s(185));Tt(e,n,i),2&ns&&e===is||(e===is&&(!(2&ns)&&(us|=n),4===ls&&Ls(e,rs)),Os(e,i),1===n&&0===ns&&!(1&t.mode)&&(bs(),qt&&Zt()))}function Os(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-At(r),a=1<<s,l=o[s];-1===l?a&n&&!(a&i)||(o[s]=kt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var i=It(e,e===is?rs:0);if(0===i)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){qt=!0,Xt(e)}(Rs.bind(null,e)):Xt(Rs.bind(null,e)),te?ne((function(){!(6&ns)&&Zt()})):jt(zt,Zt),n=null;else{switch(Nt(i)){case 1:n=zt;break;case 4:n=Wt;break;case 16:default:n=Ut;break;case 536870912:n=Vt}n=oa(n,Ds.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ds(e,t){if(ks=-1,Ps=0,6&ns)throw Error(s(327));var n=e.callbackNode;if(Xs()&&e.callbackNode!==n)return null;var i=It(e,e===is?rs:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=Hs(e,i);else{t=i;var o=ns;ns|=2;var r=Us();for(is===e&&rs===t||(ys=null,bs(),zs(e,t));;)try{Js();break}catch(t){Ws(e,t)}$n(),Qr.current=r,ns=o,null!==os?t=0:(is=null,rs=0,t=ls)}if(0!==t){if(2===t&&(0!==(o=Pt(e))&&(i=o,t=Ns(e,o))),1===t)throw n=cs,zs(e,0),Ls(e,i),Os(e,$t()),n;if(6===t)Ls(e,i);else{if(o=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!Jt(r(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=Hs(e,i),2===t&&(r=Pt(e),0!==r&&(i=r,t=Ns(e,r))),1!==t)))throw n=cs,zs(e,0),Ls(e,i),Os(e,$t()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ys(e,hs,ys);break;case 3:if(Ls(e,i),(130023424&i)===i&&10<(t=ms+500-$t())){if(0!==It(e,0))break;if(((o=e.suspendedLanes)&i)!==i){Fs(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=V(Ys.bind(null,e,hs,ys),t);break}Ys(e,hs,ys);break;case 4:if(Ls(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-At(i);r=1<<a,(a=t[a])>o&&(o=a),i&=~r}if(i=o,10<(i=(120>(i=$t()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Zr(i/1960))-i)){e.timeoutHandle=V(Ys.bind(null,e,hs,ys),i);break}Ys(e,hs,ys);break;default:throw Error(s(329))}}}return Os(e,$t()),e.callbackNode===n?Ds.bind(null,e):null}function Ns(e,t){var n=fs;return e.current.memoizedState.isDehydrated&&(zs(e,t).flags|=256),2!==(e=Hs(e,t))&&(t=hs,hs=n,null!==t&&js(t)),e}function js(e){null===hs?hs=e:hs.push.apply(hs,e)}function Ls(e,t){for(t&=~ps,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),i=1<<n;e[n]=-1,t&=~i}}function Rs(e){if(6&ns)throw Error(s(327));Xs();var t=It(e,0);if(!(1&t))return Os(e,$t()),null;var n=Hs(e,t);if(0!==e.tag&&2===n){var i=Pt(e);0!==i&&(t=i,n=Ns(e,i))}if(1===n)throw n=cs,zs(e,0),Ls(e,t),Os(e,$t()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,hs,ys),Os(e,$t()),null}function Bs(e){null!==Cs&&0===Cs.tag&&!(6&ns)&&Xs();var t=ns;ns|=1;var n=ts.transition,i=Dt;try{if(ts.transition=null,Dt=1,e)return e()}finally{Dt=i,ts.transition=n,!(6&(ns=t))&&Zt()}}function $s(){ss=as.current,lt(as)}function zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,H(n)),null!==os)for(n=os.return;null!==n;){var i=n;switch(pn(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&gt();break;case 3:ui(),lt(pt),lt(ut),yi();break;case 5:fi(i);break;case 4:ui();break;case 13:case 19:lt(hi);break;case 10:Wn(i.type._context);break;case 22:case 23:$s()}n=n.return}if(is=e,os=e=la(e.current,null),rs=ss=t,ls=0,cs=null,ps=us=ds=0,hs=fs=null,null!==Gn){for(t=0;t<Gn.length;t++)if(null!==(i=(n=Gn[t]).interleaved)){n.interleaved=null;var o=i.next,r=n.pending;if(null!==r){var s=r.next;r.next=o,i.next=s}n.pending=i}Gn=null}return e}function Ws(e,t){for(;;){var n=os;try{if($n(),bi.current=fo,Ci){for(var i=Ai.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}Ci=!1}if(xi=0,Ei=wi=Ai=null,_i=!1,Mi=0,es.current=null,null===n||null===n.return){ls=1,cs=t,os=null;break}e:{var r=e,a=n.return,l=n,c=t;if(t=rs,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=So(a);if(null!==h){h.flags&=-257,To(h,a,l,0,t),1&h.mode&&Fo(r,d,t),c=d;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){Fo(r,d,t),Vs();break e}c=Error(s(426))}else if(mn&&1&l.mode){var y=So(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),To(y,a,l,0,t),Mn(Co(c,l));break e}}r=c=Co(c,l),4!==ls&&(ls=2),null===fs?fs=[r]:fs.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,ni(r,ko(0,c,t));break e;case 1:l=c;var b=r.type,v=r.stateNode;if(!(128&r.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==ws&&ws.has(v)))){r.flags|=65536,t&=-t,r.lanes|=t,ni(r,Po(r,l,t));break e}}r=r.return}while(null!==r)}qs(n)}catch(e){t=e,os===n&&null!==n&&(os=n=n.return);continue}break}}function Us(){var e=Qr.current;return Qr.current=fo,null===e?fo:e}function Vs(){0!==ls&&3!==ls&&2!==ls||(ls=4),null===is||!(268435455&ds)&&!(268435455&us)||Ls(is,rs)}function Hs(e,t){var n=ns;ns|=2;var i=Us();for(is===e&&rs===t||(ys=null,zs(e,t));;)try{Gs();break}catch(t){Ws(e,t)}if($n(),ns=n,Qr.current=i,null!==os)throw Error(s(261));return is=null,rs=0,ls}function Gs(){for(;null!==os;)Ks(os)}function Js(){for(;null!==os&&!Rt();)Ks(os)}function Ks(e){var t=vs(e.alternate,e,ss);e.memoizedProps=e.pendingProps,null===t?qs(e):os=t,es.current=null}function qs(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=pr(n,t)))return n.flags&=32767,void(os=n);if(null===e)return ls=6,void(os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=ur(n,t,ss)))return void(os=n);if(null!==(t=t.sibling))return void(os=t);os=t=e}while(null!==t);0===ls&&(ls=5)}function Ys(e,t,n){var i=Dt,o=ts.transition;try{ts.transition=null,Dt=1,function(e,t,n,i){do{Xs()}while(null!==Cs);if(6&ns)throw Error(s(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-At(n),r=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~r}}(e,r),e===is&&(os=is=null,rs=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Es||(Es=!0,oa(Ut,(function(){return Xs(),null}))),r=!!(15990&n.flags),!!(15990&n.subtreeFlags)||r){r=ts.transition,ts.transition=null;var a=Dt;Dt=1;var l=ns;ns|=4,es.current=null,function(e,t){for(j(e.containerInfo),gr=t;null!==gr;)if(t=(e=gr).child,1028&e.subtreeFlags&&null!==t)t.return=e,gr=t;else for(;null!==gr;){e=gr;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var i=n.memoizedProps,o=n.memoizedState,r=e.stateNode,a=r.getSnapshotBeforeUpdate(e.elementType===e.type?i:yo(e.type,i),o);r.__reactInternalSnapshotBeforeUpdate=a}break;case 3:K&&_e(e.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(t){Qs(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,gr=t;break}gr=e.return}n=vr,vr=!1}(e,n),Dr(n,e),L(e.containerInfo),e.current=n,jr(n,e,o),Bt(),ns=l,Dt=a,ts.transition=r}else e.current=n;if(Es&&(Es=!1,Cs=e,_s=o),r=e.pendingLanes,0===r&&(ws=null),function(e){if(Gt&&"function"==typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Ht,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),Os(e,$t()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(xs)throw xs=!1,e=As,As=null,e;!!(1&_s)&&0!==e.tag&&Xs(),r=e.pendingLanes,1&r?e===Is?Ms++:(Ms=0,Is=e):Ms=0,Zt()}(e,t,n,i)}finally{ts.transition=o,Dt=i}return null}function Xs(){if(null!==Cs){var e=Nt(_s),t=ts.transition,n=Dt;try{if(ts.transition=null,Dt=16>e?16:e,null===Cs)var i=!1;else{if(e=Cs,Cs=null,_s=0,6&ns)throw Error(s(331));var o=ns;for(ns|=4,gr=e.current;null!==gr;){var r=gr,a=r.child;if(16&gr.flags){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(gr=d;null!==gr;){var u=gr;switch(u.tag){case 0:case 11:case 15:xr(8,u,r)}var p=u.child;if(null!==p)p.return=u,gr=p;else for(;null!==gr;){var f=(u=gr).sibling,h=u.return;if(Er(u),u===d){gr=null;break}if(null!==f){f.return=h,gr=f;break}gr=h}}}var m=r.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}gr=r}}if(2064&r.subtreeFlags&&null!==a)a.return=r,gr=a;else e:for(;null!==gr;){if(2048&(r=gr).flags)switch(r.tag){case 0:case 11:case 15:xr(9,r,r.return)}var b=r.sibling;if(null!==b){b.return=r.return,gr=b;break e}gr=r.return}}var v=e.current;for(gr=v;null!==gr;){var x=(a=gr).child;if(2064&a.subtreeFlags&&null!==x)x.return=a,gr=x;else e:for(a=v;null!==gr;){if(2048&(l=gr).flags)try{switch(l.tag){case 0:case 11:case 15:Ar(9,l)}}catch(e){Qs(l,l.return,e)}if(l===a){gr=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,gr=A;break e}gr=l.return}}if(ns=o,Zt(),Gt&&"function"==typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Ht,e)}catch(e){}i=!0}return i}finally{Dt=n,ts.transition=t}}return!1}function Zs(e,t,n){e=ei(e,t=ko(0,t=Co(n,t),1),1),t=Fs(),null!==e&&(Tt(e,1,t),Os(e,t))}function Qs(e,t,n){if(3===e.tag)Zs(e,e,n);else for(;null!==t;){if(3===t.tag){Zs(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===ws||!ws.has(i))){t=ei(t,e=Po(t,e=Co(n,e),1),1),e=Fs(),null!==t&&(Tt(t,1,e),Os(t,e));break}}t=t.return}}function ea(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Fs(),e.pingedLanes|=e.suspendedLanes&n,is===e&&(rs&n)===n&&(4===ls||3===ls&&(130023424&rs)===rs&&500>$t()-ms?zs(e,0):ps|=n),Os(e,t)}function ta(e,t){0===t&&(1&e.mode?(t=_t,!(130023424&(_t<<=1))&&(_t=4194304)):t=1);var n=Fs();null!==(e=qn(e,t))&&(Tt(e,t,n),Os(e,n))}function na(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ta(e,n)}function ia(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),ta(e,n)}function oa(e,t){return jt(e,t)}function ra(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,n,i){return new ra(e,t,n,i)}function aa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function la(e,t){var n=e.alternate;return null===n?((n=sa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ca(e,t,n,i,o,r){var a=2;if(i=e,"function"==typeof e)aa(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case d:return da(n.children,o,r,t);case u:a=8,o|=8;break;case p:return(e=sa(12,n,t,2|o)).elementType=p,e.lanes=r,e;case g:return(e=sa(13,n,t,o)).elementType=g,e.lanes=r,e;case y:return(e=sa(19,n,t,o)).elementType=y,e.lanes=r,e;case x:return ua(n,o,r,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f:a=10;break e;case h:a=9;break e;case m:a=11;break e;case b:a=14;break e;case v:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=sa(a,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function da(e,t,n,i){return(e=sa(7,e,i,t)).lanes=n,e}function ua(e,t,n,i){return(e=sa(22,e,i,t)).elementType=x,e.lanes=n,e.stateNode={isHidden:!1},e}function pa(e,t,n){return(e=sa(6,e,null,t)).lanes=n,e}function fa(e,t,n){return(t=sa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ha(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=i,this.onRecoverableError=o,Y&&(this.mutableSourceEagerHydrationData=null)}function ma(e,t,n,i,o,r,s,a,l){return e=new ha(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=sa(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xn(r),e}function ga(e){if(!e)return dt;e:{if(_(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(mt(n))return bt(e,n,t)}return t}function ya(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=k(t))?null:e.stateNode}function ba(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function va(e,t){ba(e,t),(e=e.alternate)&&ba(e,t)}function xa(e){return null===(e=k(e))?null:e.stateNode}function Aa(){return null}return vs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||pt.current)Do=!0;else{if(!(e.lanes&n||128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:Vo(t),_n();break;case 5:pi(t);break;case 1:mt(t.type)&&vt(t);break;case 4:di(t,t.stateNode.containerInfo);break;case 10:zn(0,t.type._context,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(ct(hi,1&hi.current),t.flags|=128,null):n&t.child.childLanes?Zo(e,t,n):(ct(hi,1&hi.current),null!==(e=rr(e,t,n))?e.sibling:null);ct(hi,1&hi.current);break;case 19:if(i=!!(n&t.childLanes),128&e.flags){if(i)return ir(e,t,n);t.flags|=128}var o=t.memoizedState;if(null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),ct(hi,hi.current),i)break;return null;case 22:case 23:return t.lanes=0,Bo(e,t,n)}return rr(e,t,n)}(e,t,n);Do=!!(131072&e.flags)}else Do=!1,mn&&1048576&t.flags&&dn(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;or(e,t),e=t.pendingProps;var o=ht(t,ut.current);Vn(t,n),o=Fi(null,t,i,e,o,n);var r=Si();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(i)?(r=!0,vt(t)):r=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Xn(t),o.updater=vo,t.stateNode=o,o._reactInternals=t,Eo(t,i,e,n),t=Uo(null,t,i,!0,r,n)):(t.tag=0,mn&&r&&un(t),No(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(or(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return aa(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===b)return 14}return 2}(i),e=yo(i,e),o){case 0:t=zo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Lo(null,t,i,yo(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,zo(e,t,i,o=t.elementType===i?o:yo(i,o),n);case 1:return i=t.type,o=t.pendingProps,Wo(e,t,i,o=t.elementType===i?o:yo(i,o),n);case 3:e:{if(Vo(t),null===e)throw Error(s(387));i=t.pendingProps,o=(r=t.memoizedState).element,Zn(e,t),ii(t,i,null,n);var a=t.memoizedState;if(i=a.element,Y&&r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ho(e,t,i,n,o=Co(Error(s(423)),t));break e}if(i!==o){t=Ho(e,t,i,n,o=Co(Error(s(424)),t));break e}for(Y&&(hn=We(t.stateNode.containerInfo),fn=t,mn=!0,yn=null,gn=!1),n=Nn(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_n(),i===o){t=rr(e,t,n);break e}No(e,t,i,n)}t=t.child}return t;case 5:return pi(t),null===e&&An(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,a=o.children,W(i,o)?a=null:null!==r&&W(i,r)&&(t.flags|=32),$o(e,t),No(e,t,a,n),t.child;case 6:return null===e&&An(t),null;case 13:return Zo(e,t,n);case 4:return di(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Dn(t,null,i,n):No(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,jo(e,t,i,o=t.elementType===i?o:yo(i,o),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,r=t.memoizedProps,zn(0,i,a=o.value),null!==r)if(Jt(r.value,a)){if(r.children===o.children&&!pt.current){t=rr(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){a=r.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===r.tag){(c=Qn(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Un(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)a=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Un(a,n,t),a=r.sibling}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===t){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}No(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Vn(t,n),i=i(o=Hn(o)),t.flags|=1,No(e,t,i,n),t.child;case 14:return o=yo(i=t.type,t.pendingProps),Lo(e,t,i,o=yo(i.type,o),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:yo(i,o),or(e,t),t.tag=1,mt(i)?(e=!0,vt(t)):e=!1,Vn(t,n),Ao(t,i,o),Eo(t,i,o,n),Uo(null,t,i,!0,e,n);case 19:return ir(e,t,n);case 22:return Bo(e,t,n)}throw Error(s(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=qn(e,134217728);if(null!==t)Ts(t,e,134217728,Fs());va(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=qn(e,1);if(null!==t)Ts(t,e,1,Fs());va(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ss(e),n=qn(e,t);if(null!==n)Ts(n,e,t,Fs());va(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);0!==n&&(Ot(t,1|n),Os(t,$t()),!(6&ns)&&(bs(),Zt()))}break;case 13:Bs((function(){var t=qn(e,1);if(null!==t){var n=Fs();Ts(t,e,1,n)}})),va(e,1)}},t.batchedUpdates=function(e,t){var n=ns;ns|=1;try{return e(t)}finally{0===(ns=n)&&(bs(),qt&&Zt())}},t.createComponentSelector=function(e){return{$$typeof:zr,value:e}},t.createContainer=function(e,t,n,i,o,r,s){return ma(e,t,!1,null,0,i,0,r,s)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Wr,value:e}},t.createHydrationContainer=function(e,t,n,i,o,r,s,a,l){return(e=ma(n,i,!0,e,0,r,0,a,l)).context=ga(null),n=e.current,(r=Qn(i=Fs(),o=Ss(n))).callback=null!=t?t:null,ei(n,r,o),e.current.lanes=o,Tt(e,o,i),Os(e,i),e},t.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ur,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Vr,value:e}},t.createTextSelector=function(e){return{$$typeof:Hr,value:e}},t.deferredUpdates=function(e){var t=Dt,n=ts.transition;try{return ts.transition=null,Dt=16,e()}finally{Dt=t,ts.transition=n}},t.discreteUpdates=function(e,t,n,i,o){var r=Dt,s=ts.transition;try{return ts.transition=null,Dt=1,e(t,n,i,o)}finally{Dt=r,ts.transition=s,0===ns&&bs()}},t.findAllNodes=Xr,t.findBoundingRects=function(e,t){if(!ie)throw Error(s(363));t=Xr(e,t),e=[];for(var n=0;n<t.length;n++)e.push(re(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,o=i+n.width,r=n.y,a=r+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],d=c.x,u=d+c.width,p=c.y,f=p+c.height;if(i>=d&&r>=p&&o<=u&&a<=f){e.splice(t,1);break}if(!(i!==d||n.width!==c.width||f<r||p>a)){p>r&&(c.height+=p-r,c.y=r),f<a&&(c.height=a-p),e.splice(t,1);break}if(!(r!==p||n.height!==c.height||u<i||d>o)){d>i&&(c.width+=d-i,c.x=i),u<o&&(c.width=o-d),e.splice(t,1);break}}return e},t.findHostInstance=ya,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=I(e))?F(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ya(e)},t.flushControlled=function(e){var t=ns;ns|=1;var n=ts.transition,i=Dt;try{ts.transition=null,Dt=1,e()}finally{Dt=i,ts.transition=n,0===(ns=t)&&(bs(),Zt())}},t.flushPassiveEffects=Xs,t.flushSync=Bs,t.focusWithin=function(e,t){if(!ie)throw Error(s(363));for(t=Yr(e=Jr(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ae(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(s(363));var n=0,i=[];e=[Jr(e),0];for(var o=0;o<e.length;){var r=e[o++],a=e[o++],l=t[a];if((5!==r.tag||!ae(r))&&(Kr(r,l)&&(i.push(qr(l)),++a>n&&(n=a)),a<t.length))for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(qr(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:xa,findFiberByHostInstance:e.findFiberByHostInstance||Aa,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Gt=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,i){if(!ie)throw Error(s(363));e=Xr(e,t);var o=de(e,n,i).disconnect;return{disconnect:function(){o()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Dt;try{return Dt=e,t()}finally{Dt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,i){var o=t.current,r=Fs(),s=Ss(o);return n=ga(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qn(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=ei(o,t,s))&&(Ts(e,o,s,r),ti(e,o,s)),s},t}},53351:(e,t)=>{"use strict";
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,d=e[c];if(0>r(l,n))c<o&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<o&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,p=null,f=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function A(e){if(g=!1,x(e),!m)if(null!==i(c))m=!0,O(w);else{var t=i(d);null!==t&&D(A,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(M),M=-1),h=!0;var r=f;try{for(x(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!P());){var s=p.callback;if("function"==typeof s){p.callback=null,f=p.priorityLevel;var a=s(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?p.callback=a:p===i(c)&&o(c),x(n)}else o(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&D(A,u.startTime-n),l=!1}return l}finally{p=null,f=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,_=null,M=-1,I=5,k=-1;function P(){return!(t.unstable_now()-k<I)}function F(){if(null!==_){var e=t.unstable_now();k=e;var n=!0;try{n=_(!0,e)}finally{n?E():(C=!1,_=null)}}else C=!1}if("function"==typeof v)E=function(){v(F)};else if("undefined"!=typeof MessageChannel){var S=new MessageChannel,T=S.port2;S.port1.onmessage=F,E=function(){T.postMessage(null)}}else E=function(){y(F,0)};function O(e){_=e,C||(C=!0,E())}function D(e,n){M=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(g?(b(M),M=-1):g=!0,D(A,r-s))):(e.sortIndex=a,n(c,e),m||h||(m=!0,O(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},38686:(e,t,n)=>{"use strict";e.exports=n(53351)},68917:(e,t,n)=>{"use strict";var i=n(76033);t.H=i.createRoot,i.hydrateRoot},46714:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-eb764 input,\n.reset-eb764 select,\n.reset-eb764 textarea,\n.reset-eb764 button,\n.reset-eb764 optgroup,\n.reset-eb764 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-eb764 ul,\n.reset-eb764 ol {\n  list-style: none;\n}\n.reset-eb764 p {\n  margin-bottom: 0px;\n}\n.reset-eb764 :focus {\n  outline: 0;\n}\n.loading-e9f58 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.errorCfg-cd49c {\n  padding: 30px;\n  color: red;\n  font-style: italic;\n}\n/**\n  MyBricks 主题\n */\n:root {\n  --mybricks-color-primary: #fa6400;\n}\n.designerUI-f1915 {\n  overscroll-behavior-x: none;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n  margin: 0;\n  font-size: 12px;\n  user-select: none;\n}\n.designerUI-f1915:focus {\n  outline: none;\n}\n.designerUI-f1915 .lyMain-ae66e {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n.designerUI-f1915 .lyMain-ae66e .separatorH-c76f8 {\n  height: 8px;\n  cursor: row-resize;\n}\n.designerUI-f1915 .lyMain-ae66e .popBg-f1b8b {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 1000;\n}\n.designerUI-f1915 .lyMain-ae66e .popBg-f1b8b .lyPop-a0f64 {\n  position: absolute;\n  right: 0;\n  height: 100%;\n  width: 700px;\n  display: flex;\n  background: #FFF;\n}\n.designerUI-f1915 .lyMain-ae66e .popBg-f1b8b .lyPopR-fd897 {\n  border-left: 1px solid #BBB;\n}\n.designerUI-f1915 .lyMain-ae66e .popBg-f1b8b .lyPopEdit-a9e49 {\n  border-right: 1px solid #DDD;\n  box-shadow: -3px 3px 7px #ddd;\n}\n.designerUI-f1915 .lyMain-ae66e .lyMax-e3bb2 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.designerUI-f1915 .lyMain-ae66e .lyDocker-a5700 {\n  z-index: 0;\n  width: 50px;\n}\n.designerUI-f1915 .lyMain-ae66e .lyStage-bcb68 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.designerUI-f1915 .lyMain-ae66e .lyEdt-fbac6 {\n  z-index: 0;\n  width: 280px;\n  background: #F7F7F7;\n  overflow-y: hidden;\n  flex-shrink: 0;\n}\n.designerUI-f1915 .itemMover-a58a3 {\n  position: fixed;\n  z-index: 99999;\n}\n.designerUI-f1915 .componentMast-fb202 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.designerUI-f1915 .component-ed4fe {\n  position: absolute;\n  top: 40px;\n  left: 50%;\n  min-width: 1800px;\n  max-width: 1800px;\n  background-color: #ffffff;\n  border: 1px solid #aedcd5;\n  transform: scale(0.5) translate(-50%, 0%);\n  transform-origin: 0 0 0;\n  overflow: hidden;\n  height: 160%;\n  width: 120%;\n  z-index: 1100;\n}\nbody ::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\nbody ::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  background: #BBB;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\nbody ::-webkit-scrollbar-thumb:hover {\n  background: #777;\n  border-radius: 7px;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\nbody ::-webkit-scrollbar-button {\n  display: none;\n}\nbody ::-webkit-scrollbar-corner {\n  display: none;\n}\nblockquote {\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: antialiased;\n  touch-action: none;\n}\nblockquote input,\nblockquote select,\nblockquote textarea,\nblockquote button,\nblockquote optgroup,\nblockquote option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\nblockquote ul,\nblockquote ol {\n  list-style: none;\n}\nblockquote p {\n  margin-bottom: 0px;\n}\nblockquote :focus {\n  outline: 0;\n}\nblockquote div,\nblockquote h1,\nblockquote h2,\nblockquote h3,\nblockquote h4,\nblockquote h5,\nblockquote h6,\nblockquote hr,\nblockquote p,\nblockquote blockquote,\nblockquote dl,\nblockquote dt,\nblockquote dd,\nblockquote ul,\nblockquote ol,\nblockquote li,\nblockquote pre,\nblockquote fieldset,\nblockquote legend,\nblockquote button,\nblockquote input,\nblockquote textarea,\nblockquote th,\nblockquote td,\nblockquote a {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\nblockquote div:after,\nblockquote h1:after,\nblockquote h2:after,\nblockquote h3:after,\nblockquote h4:after,\nblockquote h5:after,\nblockquote h6:after,\nblockquote hr:after,\nblockquote p:after,\nblockquote blockquote:after,\nblockquote dl:after,\nblockquote dt:after,\nblockquote dd:after,\nblockquote ul:after,\nblockquote ol:after,\nblockquote li:after,\nblockquote pre:after,\nblockquote fieldset:after,\nblockquote legend:after,\nblockquote button:after,\nblockquote input:after,\nblockquote textarea:after,\nblockquote th:after,\nblockquote td:after,\nblockquote a:after {\n  box-sizing: border-box;\n}\nblockquote button,\nblockquote input,\nblockquote select,\nblockquote legend,\nblockquote textarea {\n  font: 14px/1.5 system-ui, -apple-system, BlinkMacSystemFont, 'PingFang SC', miui, Roboto, Helvetica Neue, Helvetica, sans-serif;\n}\nblockquote button,\nblockquote input,\nblockquote optgroup,\nblockquote option,\nblockquote select,\nblockquote textarea {\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  font: inherit;\n  background: 0 0;\n  border: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  appearance: none;\n}\nblockquote a {\n  text-decoration: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n}\nblockquote ul,\nblockquote ol {\n  list-style: none;\n}\n.workspace-ee12f {\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n}\n.workspace-ee12f .services-e0bd9 {\n  height: 100%;\n}\n.workspace-ee12f .pages-f0554 {\n  height: 100%;\n}\n.fullScreen-eb0c4 {\n  position: absolute !important;\n  z-index: 1000;\n}\n.hideNavView-be662 .lyNav-e37cd {\n  display: none !important;\n}\n.hideEditView-de8f0 .lyEdt-fbac6 {\n  display: none;\n}\n",""]),s.locals={reset:"reset-eb764",loading:"loading-e9f58",errorCfg:"errorCfg-cd49c",designerUI:"designerUI-f1915",lyMain:"lyMain-ae66e",separatorH:"separatorH-c76f8",popBg:"popBg-f1b8b",lyPop:"lyPop-a0f64",lyPopR:"lyPopR-fd897",lyPopEdit:"lyPopEdit-a9e49",lyMax:"lyMax-e3bb2",lyDocker:"lyDocker-a5700",lyStage:"lyStage-bcb68",lyEdt:"lyEdt-fbac6",itemMover:"itemMover-a58a3",componentMast:"componentMast-fb202",component:"component-ed4fe",workspace:"workspace-ee12f",services:"services-e0bd9",pages:"pages-f0554",fullScreen:"fullScreen-eb0c4",hideNavView:"hideNavView-be662",lyNav:"lyNav-e37cd",hideEditView:"hideEditView-de8f0"};const a=s},4961:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".view-eb688 {\n  background: #F7F7F7;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  position: relative;\n}\n.resizer-c319c {\n  z-index: 1000;\n  height: 100%;\n  width: 5px;\n  margin-right: -2px;\n  margin-left: -2px;\n  cursor: ew-resize;\n  background: transparent;\n}\n.resizer-c319c > div {\n  border-left: 1px solid #AAA;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n.resizer-c319c:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.resizer-c319c:hover > div {\n  border-left-color: #616C81;\n}\n",""]),s.locals={view:"view-eb688",resizer:"resizer-c319c"};const a=s},54386:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".bg-a907c {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  z-index: 10000;\n}\n.bg-a907c .menu-a1044 {\n  position: absolute;\n  width: 220px;\n  background-color: #fff;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.25);\n  padding: 3px 0;\n}\n.bg-a907c .menu-a1044 .sper-a24dd {\n  height: 1px;\n  background-color: #e5e5e5;\n  margin: 3px 0;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829 {\n  height: 32px;\n  padding: 0 10px 0 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829 span {\n  color: #AAA;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829:hover {\n  background-color: #f5f5f5;\n}\n",""]),s.locals={bg:"bg-a907c",menu:"menu-a1044",sper:"sper-a24dd",menuItem:"menuItem-d1829"};const a=s},10740:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".popup-ea099 {\n  position: fixed;\n  z-index: 10000;\n}\n",""]),s.locals={popup:"popup-ea099"};const a=s},3428:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".tooltip-d794c {\n  pointer-events: none;\n  box-sizing: border-box;\n  padding: 0 0 4px 0;\n  color: #434343;\n  font-size: 12px;\n  font-variant: tabular-nums;\n  line-height: 1.5715;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  position: absolute;\n  z-index: 100000;\n  max-width: 250px;\n}\n.tooltip-d794c .arrow-c763f {\n  left: 50%;\n  bottom: -5px;\n  transform: translateX(-50%);\n  position: absolute;\n  width: 13px;\n  height: 13px;\n  overflow: hidden;\n  background: transparent;\n  pointer-events: none;\n}\n.tooltip-d794c .arrow-c763f .content-dfe7d {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  width: 5px;\n  height: 5px;\n  margin: auto;\n  background-color: #616C81;\n  content: '';\n  transform: translateY(-2.5px) rotate(45deg);\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n.tooltip-d794c .inner-c3ba6 {\n  min-height: 24px;\n  padding: 3px 10px;\n  color: #fff;\n  text-align: left;\n  text-decoration: none;\n  background-color: #616C81;\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.left-fc9a4 .arrow-c763f {\n  left: 100%;\n  bottom: 8px;\n}\n.right-fd961 .arrow-c763f {\n  left: 0;\n  bottom: 8px;\n}\n.bottom-d2026 .arrow-c763f {\n  left: 50%;\n  top: -4px;\n  transform: translateX(-50%);\n}\n",""]),s.locals={tooltip:"tooltip-d794c",arrow:"arrow-c763f",content:"content-dfe7d",inner:"inner-c3ba6",left:"left-fc9a4",right:"right-fd961",bottom:"bottom-d2026"};const a=s},48313:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.sperH-ef5e0 {\n  height: 5px;\n  width: 100%;\n  cursor: ns-resize;\n  margin-bottom: -3px;\n  margin-top: -2px;\n  z-index: 1;\n}\n.sperH-ef5e0:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperH-ef5e0:hover > div {\n  border-bottom-color: #616C81;\n}\n.sperH-ef5e0 > div {\n  margin-top: 2px;\n  border-bottom: 1px solid #C3C3C3;\n}\n.sperH-ef5e0:is(:first-child) {\n  display: none;\n}\n.pop-eb13c .title-c3d5c {\n  width: 100%;\n  height: 33px !important;\n  justify-content: flex-start !important;\n  border-top: 0 !important;\n  border-bottom: 0 !important;\n  position: absolute;\n  z-index: 1000;\n  padding-left: 12px;\n  background-color: transparent !important;\n  pointer-events: none;\n}\n.pop-eb13c .title-c3d5c > * {\n  pointer-events: auto;\n}\n.pop-eb13c .title-c3d5c > span {\n  font-weight: bold;\n}\n.max-e824a .title-c3d5c {\n  border-top: 0px !important;\n}\n.freeze-cdb33:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0);\n}\n.view-c5f9e {\n  position: relative;\n  width: 100%;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n}\n.view-c5f9e .title-c3d5c {\n  height: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #F7F7F7;\n}\n.view-c5f9e .title-c3d5c:hover .icon-f5814 {\n  opacity: 1 !important;\n  transition: all 0.3s;\n}\n.view-c5f9e .title-c3d5c .tt-baabd {\n  font-size: 14px;\n  font-weight: 666;\n  color: #333;\n  height: 100%;\n  /* line-height: 200%; */\n  display: flex;\n  align-items: center;\n  padding: 0 10px 0 25px;\n  margin-bottom: -1px;\n}\n.view-c5f9e .title-c3d5c .ext-fe0cc {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-right: 5px;\n}\n.view-c5f9e .title-c3d5c .ext-fe0cc > * {\n  margin-top: 2px;\n  color: #BBB;\n  font-style: italic;\n}\n.view-c5f9e .title-c3d5c .icon-f5814 {\n  margin-right: 15px;\n  opacity: 0.2;\n  cursor: pointer;\n  display: flex;\n}\n.view-c5f9e .title-c3d5c .icon-f5814 > * {\n  width: 12px;\n  height: 12px;\n}\n.view-c5f9e .title-c3d5c .iconRecover-f56cd {\n  opacity: 1 !important;\n}\n.view-c5f9e .title-c3d5c .clearIcon-c33b5 {\n  width: 14px;\n  height: 14px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.view-c5f9e .title-c3d5c .closeIcon-a0ea6 {\n  margin-top: 5px;\n  width: 18px;\n  height: 18px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.view-c5f9e .content-dfb61 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n.view-c5f9e .content-dfb61 .dialogContainer-b8230 {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n',""]),s.locals={sperH:"sperH-ef5e0",pop:"pop-eb13c",title:"title-c3d5c",max:"max-e824a",freeze:"freeze-cdb33",view:"view-c5f9e",icon:"icon-f5814",tt:"tt-baabd",ext:"ext-fe0cc",iconRecover:"iconRecover-f56cd",clearIcon:"clearIcon-c33b5",closeIcon:"closeIcon-a0ea6",content:"content-dfb61",dialogContainer:"dialogContainer-b8230"};const a=s},98912:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-c6c5d input,\n.reset-c6c5d select,\n.reset-c6c5d textarea,\n.reset-c6c5d button,\n.reset-c6c5d optgroup,\n.reset-c6c5d option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c6c5d ul,\n.reset-c6c5d ol {\n  list-style: none;\n}\n.reset-c6c5d p {\n  margin-bottom: 0px;\n}\n.reset-c6c5d :focus {\n  outline: 0;\n}\n.loading-ee06d {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.type-b6d6b {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n}\n.type-b6d6b .select-d8901 {\n  height: 26px;\n  flex: 1;\n  padding-right: 5px;\n  background: #FFF;\n  display: flex;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  align-items: center;\n}\n.type-b6d6b select {\n  width: 100%;\n  color: #555;\n  height: 26px;\n  flex: 1;\n  padding: 0 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.type-b6d6b button {\n  cursor: pointer;\n  display: block;\n  width: 110px;\n  margin-left: 10px;\n  padding: 0 5px;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 6px;\n  background-color: #fdf7e3;\n  box-shadow: 0 1px 3px 0 #bbb;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.type-b6d6b button span {\n  margin-left: 3px;\n  color: #AAA;\n  font-size: 10px;\n}\n.type-b6d6b .clear-d8b43 {\n  width: 50px;\n}\n.type-b6d6b .show-a9fbb {\n  background-color: #eef7f3;\n}\n.type-b6d6b .arrow-cd6b5 {\n  position: absolute;\n  right: 10px;\n  width: 7px;\n  height: 7px;\n  border-top: 1px solid #BBB;\n  border-right: 1px solid #BBB;\n  transform: rotate(135deg);\n  pointer-events: none;\n}\n.edtItem-fab9f {\n  flex: 1;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n.edtItem-fab9f label {\n  white-space: nowrap;\n  padding: 0 5px;\n}\n.edtItem-fab9f input,\n.edtItem-fab9f textarea {\n  width: 100%;\n  margin-left: 5px;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 6px;\n  border: 1px solid #EEE;\n  background-color: #FFF;\n  padding: 0 5px;\n}\n.edtItem-fab9f textarea {\n  min-height: 70px;\n}\n.errInfo-c9e53 {\n  padding: 5px;\n  color: red;\n  font-style: italic;\n}\n.exist-f8e4e {\n  background-color: #eef7f3;\n}\n.error-ea571 {\n  background-color: #f8e9e2 !important;\n  color: red;\n  font-style: italic;\n}\n",""]),s.locals={reset:"reset-c6c5d",loading:"loading-ee06d",type:"type-b6d6b",select:"select-d8901",clear:"clear-d8b43",show:"show-a9fbb",arrow:"arrow-cd6b5",edtItem:"edtItem-fab9f",errInfo:"errInfo-c9e53",exist:"exist-f8e4e",error:"error-ea571"};const a=s},74404:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-c522d input,\n.reset-c522d select,\n.reset-c522d textarea,\n.reset-c522d button,\n.reset-c522d optgroup,\n.reset-c522d option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c522d ul,\n.reset-c522d ol {\n  list-style: none;\n}\n.reset-c522d p {\n  margin-bottom: 0px;\n}\n.reset-c522d :focus {\n  outline: 0;\n}\n.loading-f8f99 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.editor-d71d8 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.editor-d71d8 .toolbar-c3740 {\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-bottom: 1px solid #F7F7F7;\n  padding-right: 10px;\n}\n.editor-d71d8 .toolbar-c3740 button {\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 6px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  cursor: pointer;\n}\n.editor-d71d8 .textCard-f7e08 {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0;\n  padding: 5px 10px 5px 15px;\n  border-left: 2px solid #616C81;\n  background: #FFF;\n}\n.editor-d71d8 .textCard-f7e08:hover {\n  background-color: #FAFAFA;\n}\n.editor-d71d8 .textCard-f7e08 > span {\n  height: 19px;\n  margin-right: 5px;\n}\n.editor-d71d8 .textCard-f7e08 > span svg {\n  max-width: 16px;\n}\n.editor-d71d8 .textCard-f7e08 .content-a55d7 {\n  display: flex;\n}\n.editor-d71d8 .textCard-f7e08 .content-a55d7 span {\n  color: #AAA;\n  font-style: italic;\n  margin-left: 5px;\n}\n.editor-d71d8 .searchView-e37c8 {\n  flex: 1;\n  background-color: #FAFAFA;\n  padding: 10px 10px 10px 20px;\n  border-top: 1px solid #EEE;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 label {\n  color: #AAA;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd {\n  margin-right: 10px;\n  background-color: #FFF;\n  height: 26px;\n  border-radius: 4px;\n  border: 1px solid #DDD;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 3px;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd input {\n  padding: 1px 5px;\n  flex: 1;\n  appearance: auto;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span {\n  width: 20px;\n  height: 16px;\n  cursor: pointer;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span svg {\n  max-width: 12px;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span svg path {\n  fill: #999;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd .precise-b7648 svg path {\n  fill: var(--mybricks-color-primary, #FA6400) !important;\n}\n.editor-d71d8 .searchView-e37c8 .items-c7ed4 {\n  border-top: 1px dashed #EEE;\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 10px 5px 0;\n  flex: 1;\n  overflow: auto;\n}\n.editor-d71d8 .searchView-e37c8 .items-c7ed4 .empty-db009 {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.editor-d71d8 .searchView-e37c8 .items-c7ed4 .empty-db009 label {\n  font-style: italic;\n  color: #AAA;\n}\n.editor-d71d8 .nowItem-bc79d,\n.editor-d71d8 .edtItem-ade41 {\n  position: relative;\n}\n.editor-d71d8 .nowItem-bc79d > label,\n.editor-d71d8 .edtItem-ade41 > label {\n  color: #AAA;\n  display: flex;\n  justify-content: space-between;\n  padding-right: 16px;\n}\n.editor-d71d8 .nowItem-bc79d > label .del-e90d4,\n.editor-d71d8 .edtItem-ade41 > label .del-e90d4 {\n  cursor: pointer;\n  height: 12px;\n}\n.editor-d71d8 .nowItem-bc79d > label .del-e90d4 svg,\n.editor-d71d8 .edtItem-ade41 > label .del-e90d4 svg {\n  max-width: 14px;\n}\n.editor-d71d8 .nowItem-bc79d button,\n.editor-d71d8 .edtItem-ade41 button {\n  border: 1px solid #DDD;\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 5px;\n}\n.editor-d71d8 .nowItem-bc79d button:disabled,\n.editor-d71d8 .edtItem-ade41 button:disabled {\n  border: 1px solid #EEE;\n  background-color: #F7F7F7;\n  color: #DDD;\n}\n.editor-d71d8 .nowItem-bc79d {\n  padding: 20px 20px 20px 20px;\n}\n.editor-d71d8 .nowItem-bc79d .textCard-f7e08 {\n  background-color: #fdf6f2;\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.editor-d71d8 .nowItem-bc79d .textCard-f7e08 > span svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.editor-d71d8 .nowItem-bc79d .empty-db009 {\n  display: flex;\n  align-items: center;\n  padding: 20px 0 20px 20px;\n}\n.editor-d71d8 .nowItem-bc79d .empty-db009 label {\n  font-style: italic;\n  color: #AAA;\n  margin-right: 10px;\n}\n.editor-d71d8 .edtItem-ade41 {\n  margin: 20px;\n}\n.editor-d71d8 .edtItem-ade41 > label {\n  padding-right: 5px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  margin: 10px 10px 15px 20px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 label {\n  margin-right: 5px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 input {\n  flex: 1;\n  height: 20px;\n  border-radius: 3px;\n  border: 1px solid #DDD;\n  padding: 1px 5px;\n  appearance: auto;\n  background-color: #FFF;\n}\n",""]),s.locals={reset:"reset-c522d",loading:"loading-f8f99",editor:"editor-d71d8",toolbar:"toolbar-c3740",textCard:"textCard-f7e08",content:"content-a55d7",searchView:"searchView-e37c8",tb:"tb-b99e5",search:"search-e87dd",precise:"precise-b7648",items:"items-c7ed4",empty:"empty-db009",nowItem:"nowItem-bc79d",edtItem:"edtItem-ade41",del:"del-e90d4",item:"item-c7302"};const a=s},6083:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-c39dd input,\n.reset-c39dd select,\n.reset-c39dd textarea,\n.reset-c39dd button,\n.reset-c39dd optgroup,\n.reset-c39dd option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c39dd ul,\n.reset-c39dd ol {\n  list-style: none;\n}\n.reset-c39dd p {\n  margin-bottom: 0px;\n}\n.reset-c39dd :focus {\n  outline: 0;\n}\n.loading-fc379 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.editor-c32a1 .toolbar-c7e77 {\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-bottom: 1px solid #F7F7F7;\n  padding-right: 10px;\n}\n.editor-c32a1 .toolbar-c7e77 button {\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 6px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n}\n.editor-c32a1 .item-c77cd {\n  display: flex;\n  flex-direction: row;\n  margin: 10px 10px 15px 20px;\n}\n.editor-c32a1 .item-c77cd input {\n  width: 14px;\n  margin-right: 5px;\n  appearance: auto;\n}\n.editor-c32a1 .register-e6c4f {\n  margin-top: -10px;\n  display: flex;\n  flex-direction: column;\n  padding-left: 20px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd {\n  margin: 5px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd label {\n  color: #555;\n  width: 70px;\n  text-align: right;\n  margin-right: 8px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd input,\n.editor-c32a1 .register-e6c4f .item-c77cd select,\n.editor-c32a1 .register-e6c4f .item-c77cd textarea {\n  width: 200px;\n  border-radius: 6px;\n  border: 1px solid #DDD;\n  padding: 1px 5px;\n  appearance: auto;\n  background-color: #FFF;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd textarea {\n  height: 100px;\n}\n.editor-c32a1 .register-e6c4f .required-cde39 {\n  position: relative;\n}\n.editor-c32a1 .register-e6c4f .required-cde39:before {\n  content: '*';\n  color: red;\n  position: absolute;\n  left: 12px;\n  top: 2px;\n}\n",""]),s.locals={reset:"reset-c39dd",loading:"loading-fc379",editor:"editor-c32a1",toolbar:"toolbar-c7e77",item:"item-c77cd",register:"register-e6c4f",required:"required-cde39"};const a=s},91895:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".titleBar-c009d {\n  height: 42px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n  position: relative;\n}\n.titleBar-c009d label {\n  font-size: 14px;\n  font-weight: 666;\n  color: #333;\n  margin: 3px 10px 5px 15px;\n}\n.titleBar-c009d input {\n  background: #FFF;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  padding: 0 10px;\n  height: 24px;\n  margin-right: 10px;\n  outline: none;\n  font-size: 12px;\n  color: #666;\n  flex: 1;\n}\n.titleBar-c009d span {\n  position: absolute;\n  right: 18px;\n  top: 5px;\n  cursor: pointer;\n  height: 32px;\n  display: flex;\n  align-items: center;\n}\n.titleBar-c009d span svg {\n  width: 14px;\n}\n",""]),s.locals={titleBar:"titleBar-c009d"};const a=s},7804:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".titleBar-f09e6 {\n  height: 42px;\n  display: flex;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n  position: relative;\n}\n.titleBar-f09e6 label {\n  font-size: 14px;\n  color: #AAA;\n  margin: 3px 15px 5px 15px;\n}\n.titleBar-f09e6 span {\n  font-weight: bold;\n}\n.titleBar-f09e6 .iconClose-b275b {\n  color: #777;\n  font-size: 16px;\n  font-weight: normal;\n  /* margin-left: auto; */\n  margin: 0 10px 2px 15px;\n  cursor: pointer;\n}\n.results-d46ab {\n  padding: 0 20px;\n}\n",""]),s.locals={titleBar:"titleBar-f09e6",iconClose:"iconClose-b275b",results:"results-d46ab"};const a=s},4057:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".view-ab32c {\n  width: 400px;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.results-d5145 {\n  padding: 0 20px;\n  overflow: auto;\n}\n.results-d5145:empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n}\n.results-d5145:empty:after {\n  content: '输入关键字进行搜索';\n  font-style: italic;\n  color: #AAA;\n}\n.catalog-da8d0 {\n  padding: 10px 0;\n}\n.catalog-da8d0 .ttt-b9cef {\n  font-style: italic;\n  color: #AAA;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 {\n  display: flex;\n  flex-direction: column;\n  margin: 10px 0;\n  padding: 0 0 0 10px;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .tt-cfa25 {\n  font-weight: bold;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a {\n  position: relative;\n  cursor: pointer;\n  padding: 8px 30px 8px 15px;\n  margin: 5px 2px;\n  border-radius: 3px;\n  border: 1px solid #EEE;\n  background: #FFF;\n  display: flex;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a:after {\n  position: absolute;\n  content: '';\n  font-size: 10px;\n  right: 0;\n  top: 0;\n  background: #616C81;\n  border-bottom-left-radius: 5px;\n  padding: 0 3px 0 5px;\n  height: 14px;\n  color: #FFF;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a:hover {\n  background-color: #EEE;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a .itemTitle-c1c5d {\n  white-space: nowrap;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a .desc-c6c8b {\n  margin-left: 10px;\n  color: #AAA;\n  font-style: italic;\n  font-size: 12px;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .subItem-bcb36 {\n  margin-top: -2px;\n  margin-left: 20px;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .diagramItem-ae1bb:after {\n  background: #ddb00a;\n  content: '流程卡片';\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .comItem-e33b2:after {\n  background: #616C81;\n  content: '组件';\n}\n",""]),s.locals={view:"view-ab32c",results:"results-d5145",catalog:"catalog-da8d0",ttt:"ttt-b9cef",scenes:"scenes-ce6fb",scene:"scene-db704",tt:"tt-cfa25",item:"item-b0a8a",itemTitle:"itemTitle-c1c5d",desc:"desc-c6c8b",subItem:"subItem-bcb36",diagramItem:"diagramItem-ae1bb",comItem:"comItem-e33b2"};const a=s},43192:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-cf59a input,\n.reset-cf59a select,\n.reset-cf59a textarea,\n.reset-cf59a button,\n.reset-cf59a optgroup,\n.reset-cf59a option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-cf59a ul,\n.reset-cf59a ol {\n  list-style: none;\n}\n.reset-cf59a p {\n  margin-bottom: 0px;\n}\n.reset-cf59a :focus {\n  outline: 0;\n}\n.loading-c670d {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.view-bc1a7 {\n  width: 400px;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.view-bc1a7 button {\n  cursor: pointer;\n  width: 100%;\n  color: #FFF;\n  font-weight: bold;\n  height: 26px;\n  border-radius: 5px;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.titleBar-b6c92 {\n  height: 42px;\n  display: flex;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n  position: relative;\n  justify-content: space-between;\n}\n.titleBar-b6c92 label {\n  font-size: 14px;\n  color: #AAA;\n  margin-left: 10px;\n}\n.titleBar-b6c92 label:not(:first-child ) {\n  margin: 3px 15px 5px 15px;\n  color: #333;\n  font-weight: bold;\n  flex: 1;\n}\n.titleBar-b6c92 .iconClose-f465c {\n  color: #777;\n  font-size: 16px;\n  font-weight: normal;\n  /* margin-left: auto; */\n  margin: 0 10px 2px 15px;\n  cursor: pointer;\n}\n.fixed-fbb7c {\n  padding: 10px;\n}\n.fixed-fbb7c button {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.waiting-d0d06 {\n  pointer-events: none;\n  padding: 10px;\n}\n.waiting-d0d06 button {\n  background: #AAA;\n}\n.msgs-fad25 {\n  padding: 0 20px;\n  overflow: auto;\n}\n.msgs-fad25:empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n}\n.msgs-fad25:empty:after {\n  content: '异常信息为空';\n  font-style: italic;\n  color: #AAA;\n}\n.msgs-fad25 .msg-b7874 {\n  padding: 3px 0;\n  font-size: 12px;\n  color: #FF0000;\n}\n",""]),s.locals={reset:"reset-cf59a",loading:"loading-c670d",view:"view-bc1a7",titleBar:"titleBar-b6c92",iconClose:"iconClose-f465c",fixed:"fixed-fbb7c",waiting:"waiting-d0d06",msgs:"msgs-fad25",msg:"msg-b7874"};const a=s},96576:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-deab8 input,\n.reset-deab8 select,\n.reset-deab8 textarea,\n.reset-deab8 button,\n.reset-deab8 optgroup,\n.reset-deab8 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-deab8 ul,\n.reset-deab8 ol {\n  list-style: none;\n}\n.reset-deab8 p {\n  margin-bottom: 0px;\n}\n.reset-deab8 :focus {\n  outline: 0;\n}\n.loading-a71b4 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.view-c2188 {\n  width: 42px;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background-color: #DEE1E6;\n}\n.view-c2188 .plugins-c5116 {\n  display: flex;\n  flex-direction: column;\n}\n.view-c2188 .sper-c30cc {\n  border-right: 1px solid #CCC;\n}\n.sperItem-c62e4 {\n  height: 10px;\n  position: relative;\n  border-right: 1px solid #BBB;\n  flex: 1;\n}\n.sperItem-c62e4:before {\n  position: absolute;\n  top: 5px;\n  content: '';\n  width: 100%;\n}\n.sperFlex-fdd91 {\n  position: relative;\n  flex: 1;\n  border-right: 1px solid #BBB;\n}\n.item-be192 {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  border-right: 1px solid #BBB;\n  position: relative;\n}\n.item-be192 > svg {\n  max-width: 20px;\n}\n.item-be192 > svg path {\n  fill: #AAA;\n}\n.item-be192 img {\n  opacity: 0.3;\n}\n.item-be192:first-child {\n  margin-top: -1px;\n}\n.item-be192 .msg-ba295 {\n  position: absolute;\n  right: 3px;\n  top: 7px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  border-radius: 12px;\n  /* width: 16px; */\n  padding: 0 4px;\n  letter-spacing: -1px;\n  height: 16px;\n  /* text-align: center; */\n  z-index: 1000;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.hasMsg-c2945 > svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.activeTab-d36b7 {\n  position: relative;\n  background: #F7F7F7;\n  margin: 10px 5px;\n  border-radius: 5px;\n  height: 30px;\n}\n.activeTab-d36b7:before {\n  content: ' ';\n  position: absolute;\n  height: 60px;\n  right: -6px;\n  border-right: 1px solid #BBB;\n}\n.activeTab-d36b7 > svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.runningItem-aa7d4 {\n  position: absolute;\n  left: 12px;\n  top: 30px;\n  width: 18px;\n  height: 8px;\n  background: var(--mybricks-color-primary, #FA6400);\n  border: 1px solid #FFFFFF;\n  border-radius: 33px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n.runningItem-aa7d4:after {\n  content: ' ';\n  position: absolute;\n  width: 5px;\n  height: 2px;\n  background: #FFFFFF;\n  border-radius: 26px;\n  animation: infiniteLock-c6deb 2.2s linear infinite;\n}\n@keyframes infiniteLock-c6deb {\n  0% {\n    transform: translateX(-180%);\n  }\n  50% {\n    transform: translateX(0);\n  }\n  100% {\n    transform: translateX(180%);\n  }\n}\n.activeItem-feded {\n  border-right: 0;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  background: #F7F7F7;\n  color: #FFF;\n  font-weight: bold;\n}\n.activeItem-feded > svg path {\n  fill: #000;\n}\n.activeItem-feded img {\n  opacity: 1;\n}\n.disabledItem-e82fc .item-be192 svg {\n  opacity: 0.2;\n}\n.disabledItem-e82fc .item-be192 img {\n  opacity: 0.05;\n}\n.disabledItem-e82fc .item-be192 .msg-ba295 {\n  opacity: 0.2;\n}\n.pluginBg-a11b9 {\n  position: absolute;\n  z-index: 1000;\n  top: 0;\n  left: 42px;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  background: rgba(255, 255, 255, 0.5);\n}\n.pluginBg-a11b9 .plugin-c599b {\n  width: fit-content;\n  height: 100%;\n  /* height: 100%; */\n  background: #F7F7F7;\n  border-right: 1px solid #BBB;\n  box-shadow: 0 0 10px 3px #ddd;\n}\n.pluginBg-a11b9 .errPlugin-f39f4 {\n  width: 200px;\n}\n.tabContent-f7b6b {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n",""]),s.locals={reset:"reset-deab8",loading:"loading-a71b4",view:"view-c2188",plugins:"plugins-c5116",sper:"sper-c30cc",sperItem:"sperItem-c62e4",sperFlex:"sperFlex-fdd91",item:"item-be192",msg:"msg-ba295",hasMsg:"hasMsg-c2945",activeTab:"activeTab-d36b7",runningItem:"runningItem-aa7d4",infiniteLock:"infiniteLock-c6deb",activeItem:"activeItem-feded",disabledItem:"disabledItem-e82fc",pluginBg:"pluginBg-a11b9",plugin:"plugin-c599b",errPlugin:"errPlugin-f39f4",tabContent:"tabContent-f7b6b"};const a=s},42816:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.reset-d4847 input,\n.reset-d4847 select,\n.reset-d4847 textarea,\n.reset-d4847 button,\n.reset-d4847 optgroup,\n.reset-d4847 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-d4847 ul,\n.reset-d4847 ol {\n  list-style: none;\n}\n.reset-d4847 p {\n  margin-bottom: 0px;\n}\n.reset-d4847 :focus {\n  outline: 0;\n}\n.loading-c0f03 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.statusBar-f508f {\n  border-top: 1px solid #bbb;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  padding: 0 0 0 20px;\n  justify-content: space-between;\n  background: #EBECEE;\n}\n.statusBar-f508f .statistics-fc19a {\n  display: flex;\n  align-items: center;\n  color: #555;\n  white-space: nowrap;\n  height: 100%;\n}\n.statusBar-f508f .statistics-fc19a * {\n  box-sizing: border-box !important;\n  line-height: 16px;\n}\n.statusBar-f508f .statistics-fc19a label {\n  color: #AAA;\n  margin: 0 5px 0 10px;\n  display: inline-flex;\n  align-items: center;\n}\n.statusBar-f508f .statistics-fc19a label svg {\n  max-width: 12px;\n}\n.statusBar-f508f .statistics-fc19a span {\n  color: #AAA;\n  display: inline-flex;\n  align-items: center;\n}\n.statusBar-f508f .statistics-fc19a span span {\n  padding: 0 3px;\n}\n.statusBar-f508f .statistics-fc19a .level-d9bc9 {\n  margin-left: 10px;\n}\n.statusBar-f508f .statistics-fc19a .level-d9bc9 label,\n.statusBar-f508f .statistics-fc19a .level-d9bc9 span {\n  color: var(--mybricks-color-primary, #FA6400) !important;\n  font-weight: bold;\n}\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 {\n  border-left: 1px solid #EEE;\n  height: 100%;\n  display: inline-flex;\n}\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 label,\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 span {\n  color: #777;\n}\n.statusBar-f508f .lyRight-ee451 {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  margin-left: 50px;\n}\n.statusBar-f508f .lastLog-f3ce5 {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100%;\n  overflow: hidden;\n  padding: 0 15px 0 15px;\n  margin-right: 10px;\n  border-right: 1px solid #DDD;\n}\n.statusBar-f508f .lastLog-f3ce5 .icon-e9a33 {\n  display: inline-flex;\n  align-items: center;\n  padding-right: 3px;\n}\n.statusBar-f508f .lastLog-f3ce5 .icon-e9a33 > svg {\n  max-width: 14px;\n}\n.statusBar-f508f .lastLog-f3ce5 p {\n  color: #555;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  margin: 0 !important;\n}\n.statusBar-f508f .btns-d2886 {\n  margin-left: auto;\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n.statusBar-f508f .btns-d2886 span {\n  width: 28px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.statusBar-f508f .btns-d2886 span:hover {\n  background-color: #DDD;\n}\n.statusBar-f508f .btns-d2886 span svg {\n  max-width: 14px;\n}\n.warn-cbbb7 {\n  background: #FFFAE3;\n}\n.error-af829 {\n  color: #FE181B;\n  background: #FFEEEE;\n}\n",""]),s.locals={reset:"reset-d4847",loading:"loading-c0f03",statusBar:"statusBar-f508f",statistics:"statistics-fc19a",level:"level-d9bc9",costTime:"costTime-e19b5",lyRight:"lyRight-ee451",lastLog:"lastLog-f3ce5",icon:"icon-e9a33",btns:"btns-d2886",warn:"warn-cbbb7",error:"error-af829"};const a=s},29850:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.catelog-a9328 {\n  font-size: inherit;\n  height: calc(100% - 42px);\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  background-color: #F7F7F7;\n  padding-top: -5px;\n  justify-content: space-between;\n  flex: 1;\n}\n.catelog-a9328 .scroll-b3d55 {\n  flex: 1;\n}\n.catelog-a9328 .container-cf1e9 {\n  padding: 15px;\n  border-bottom: 1px solid #DDD;\n}\n.catelog-a9328 .container-cf1e9:last-child {\n  border-bottom: none;\n}\n.catelog-a9328 .fixed-abaa0 {\n  z-index: 1;\n  background-color: #FAFAFA;\n  border-top: 1px solid #ddd;\n  position: relative;\n}\n.catelog-a9328 .fixed-abaa0:empty {\n  display: none;\n}\n.catelog-a9328 .fixedFold-ee441 {\n  height: 30px;\n  overflow: hidden;\n}\n.catelog-a9328 .fixedFold-ee441:after {\n  width: 100%;\n  height: 100%;\n  background-color: #FFF;\n  position: absolute;\n  top: 0;\n  left: 0;\n  content: '...';\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.catelog-a9328 .folded-d6158 {\n  /* height: 48px; */\n  padding: 15px 15px 5px 15px !important;\n  border-bottom: 0 !important;\n}\n.catelog-a9328 .fixedAtBottom-e4762 {\n  flex: 1;\n  align-items: flex-end;\n}\n.catelog-a9328 .descriptionTitle-c735f {\n  font-size: 12px;\n}\n.group-b5139 {\n  padding: 15px;\n}\n.group-b5139:last-child {\n  border-bottom: none;\n}\n.group-b5139 .fixedAtBottom-e4762 {\n  flex: 1;\n  align-items: flex-end;\n}\n.group-b5139 .group-b5139 {\n  padding: 15px;\n  margin: 0px -15px;\n  border-top: solid 1px #ddd;\n  border-bottom: solid 1px #ddd;\n}\n.group-b5139 .group-b5139:first-child {\n  border-top: none;\n  margin-top: -15px !important;\n}\n.group-b5139 .group-b5139:last-child:not(:first-child) {\n  margin-bottom: -15px;\n}\n.group-b5139 .group-b5139:last-child {\n  border-bottom: none !important;\n}\n.group-b5139 .group-b5139 + .sperator-b3519 {\n  display: none;\n}\n.group-b5139 .group-b5139 ~ .group-b5139 {\n  margin-top: 0;\n  border-top: none;\n}\n.group-b5139 .groupTitle-b4c39 {\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n}\n.group-b5139 .groupTitle-b4c39 .text-a983c {\n  color: #415058;\n  font-weight: 800;\n  word-break: keep-all;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n}\n.group-b5139 .groupTitle-b4c39 .action-eff0e {\n  cursor: pointer;\n  color: #969698;\n  width: 50px;\n  text-align: right;\n}\n.group-b5139 .groupTitle-b4c39 .action-eff0e > * {\n  width: 12px;\n  opacity: 0.8;\n}\n.sperator-b3519 {\n  margin: 15px -15px 0px -15px;\n  border-top: 1px solid #DDD;\n}\n.withCheck-d6d1c {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #E5E5E5;\n  border-radius: 6px;\n  padding: 10px;\n  margin: 0px -5px;\n}\n.withCheck-d6d1c:not(:first-child) {\n  margin-top: 15px;\n}\n.withCheck-d6d1c .check-b5b7b {\n  /* width: 20px; */\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  /* padding-top: 4px; */\n  margin-top: -21px;\n}\n.withCheck-d6d1c .check-b5b7b input[type=checkbox] {\n  appearance: auto;\n}\n.withCheck-d6d1c .check-b5b7b span {\n  padding-left: 3px;\n  background: #F7F7F7;\n  padding-top: 2px;\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.withCheck-d6d1c .check-b5b7b .selected-c420d {\n  color: #333;\n}\n.withCheck-d6d1c .item-b2ecb {\n  flex: 1;\n  padding: 0 1px;\n  margin-top: 0 !important;\n}\n.item-b2ecb {\n  position: relative;\n}\n.item-b2ecb:empty {\n  margin-top: 0 !important;\n  margin-bottom: -20px !important;\n}\n.item-b2ecb:not(:first-child) {\n  margin-top: 20px;\n}\n.item-b2ecb:not(:last-child) {\n  margin-bottom: 15px;\n}\n.item-b2ecb .itemTitle-e214d {\n  color: #555;\n  display: flex;\n  position: relative;\n  align-items: center;\n  padding-bottom: 3px;\n}\n.item-b2ecb .itemTitle-e214d .tt-ed795 {\n  padding-top: 3px;\n}\n.item-b2ecb .itemTitle-e214d .atVar-cc007 {\n  margin-left: auto;\n  position: relative;\n  color: #8b7db1;\n  background: #ebe8f3;\n  padding: 0 5px;\n  border-radius: 6px;\n  font-size: 10px;\n  font-style: italic;\n  cursor: pointer;\n}\n.item-b2ecb .itemTitle-e214d .atVar-cc007:before {\n  content: '{ / }';\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4 {\n  color: #FFF;\n  font-weight: bold;\n  background: #aa97e0 !important;\n  padding: 2px 8px;\n  border-radius: 6px;\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4:before {\n  content: '@';\n  font-weight: bold;\n  padding-right: 2px;\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4:after {\n  content: '';\n}\n.item-b2ecb .description-fc819 {\n  margin-left: 3px;\n  margin-bottom: -5px;\n  opacity: 0.4;\n  font-size: 12px;\n}\n.item-b2ecb .description-fc819 svg {\n  width: 12px;\n}\n.item-b2ecb .notFound-fefc0 {\n  color: #cf8c8c;\n  font-style: italic;\n  padding: 5px;\n  border: 1px dashed #ebe6e6;\n}\n.catelogGroup-f3d00 {\n  margin-top: 38px;\n  margin-bottom: 20px;\n}\n.catelogGroup-f3d00:first-child {\n  margin-top: 0 !important;\n}\n.catelogGroup-f3d00 .containerBorder-aa9e8 {\n  margin-right: -5px;\n  padding: 3px 8px 8px 8px;\n  position: relative;\n  border: 1px solid #E9E9E9;\n  border-radius: 6px;\n  margin-top: 16px;\n  width: calc(100% + 18px);\n  margin-left: -8px;\n}\n.catelogGroup-f3d00 .containerBorder-aa9e8 .containerBorder-aa9e8 {\n  width: calc(100% + 4px) !important;\n  margin-left: -2px !important;\n}\n.catelogGroup-f3d00 .containerBorder-aa9e8 .containerCatelog-afcd0 {\n  top: -36px;\n  left: 50%;\n  width: 100%;\n  position: absolute;\n  display: flex;\n  transform: translate(-50%, 100%);\n  justify-content: center;\n}\n.catelogGroup-f3d00 .itemTitle-e214d {\n  color: #555;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 {\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE 10+ */\n  display: flex;\n  overflow: hidden;\n  overflow-x: auto;\n  flex-direction: row;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 .btn-f2a3e {\n  height: 24px;\n  display: flex;\n  cursor: pointer;\n  padding: 1px 10px 0 10px;\n  font-size: 12px;\n  margin-right: -1px;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  border: 1px solid #CCC;\n  border-right: 1px solid #CCC;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 .btn-f2a3e div {\n  white-space: nowrap;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 .btn-f2a3e:first-child {\n  border-bottom-left-radius: 5px;\n  border-top-left-radius: 5px;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 .btn-f2a3e:last-child {\n  margin-right: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5 .activeBtn-b9d52 {\n  color: #fff;\n  z-index: 1;\n  border-color: #616C81;\n  background-color: #616C81;\n}\n.catelogGroup-f3d00 .btnGroup-ccef5::-webkit-scrollbar {\n  display: none;\n  /* Chrome Safari */\n}\n",""]),s.locals={catelog:"catelog-a9328",scroll:"scroll-b3d55",container:"container-cf1e9",fixed:"fixed-abaa0",fixedFold:"fixedFold-ee441",folded:"folded-d6158",fixedAtBottom:"fixedAtBottom-e4762",descriptionTitle:"descriptionTitle-c735f",group:"group-b5139",sperator:"sperator-b3519",groupTitle:"groupTitle-b4c39",text:"text-a983c",action:"action-eff0e",withCheck:"withCheck-d6d1c",check:"check-b5b7b",selected:"selected-c420d",item:"item-b2ecb",itemTitle:"itemTitle-e214d",tt:"tt-ed795",atVar:"atVar-cc007",atVarBinded:"atVarBinded-c5cf4",description:"description-fc819",notFound:"notFound-fefc0",catelogGroup:"catelogGroup-f3d00",containerBorder:"containerBorder-aa9e8",containerCatelog:"containerCatelog-afcd0",btnGroup:"btnGroup-ccef5",btn:"btn-f2a3e",activeBtn:"activeBtn-b9d52"};const a=s},69833:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editTabs-b5d47 {\n  font-size: 14px;\n  width: 100%;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #D8D8D8;\n  position: relative;\n  background: #EBECEE;\n}\n.editTabs-b5d47::-webkit-scrollbar {\n  width: 0 !important;\n  height: 0 !important;\n  background-color: transparent;\n}\n.editTab-f4d2e {\n  /* display: flex; */\n  /* justify-content: center; */\n  /* align-items: center; */\n  cursor: pointer;\n  color: #9B9B9B;\n  text-align: center;\n  border-right: 1px solid #D8D8D8;\n  padding: 0 12px;\n  height: calc(100% + 2px);\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  background: #EBECEE;\n  border-bottom: 1px solid #D8D8D8;\n}\n.editTab-f4d2e:hover .icon-c9aea {\n  visibility: visible;\n}\n.editTab-f4d2e .title-b7a87 {\n  min-width: 50px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.editTab-f4d2e .editor-cfac1 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  text-align: center;\n  font-weight: normal;\n}\n.editTab-f4d2e .icon-c9aea {\n  position: absolute;\n  right: 2px;\n  top: 5px;\n  visibility: hidden;\n  max-height: 12px;\n  margin-left: 5px;\n  margin-top: -3px;\n}\n.editTab-f4d2e .icon-c9aea svg {\n  max-width: 14px;\n}\n.editTab-f4d2e .icon-c9aea svg path {\n  fill: #AAA;\n}\n.editTabActived-cdf24 {\n  color: #333333;\n  font-weight: 700;\n  background-color: #F7F7F7;\n  border-bottom-width: 0 !important;\n}\n.coopTab-b1689 {\n  border-right: none;\n}\n.coopTab-b1689 span {\n  min-width: auto !important;\n  width: 40px;\n}\n.coopTab-b1689 span svg {\n  max-width: 18px;\n  margin-top: 7px;\n}\n.coopTab-b1689 span svg path {\n  fill: #AAA;\n}\n.coopTabActived-caf58 {\n  cursor: inherit;\n  background-color: #F7F7F7;\n  border-bottom-width: 0 !important;\n  border-right: 1px solid #D8D8D8;\n}\n.coopTabActived-caf58 span svg path {\n  fill: #333 !important;\n}\n",""]),s.locals={editTabs:"editTabs-b5d47",editTab:"editTab-f4d2e",icon:"icon-c9aea",title:"title-b7a87",editor:"editor-cfac1",editTabActived:"editTabActived-cdf24",coopTab:"coopTab-b1689",coopTabActived:"coopTabActived-caf58"};const a=s},25230:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.coop-fb072 {\n  padding: 10px;\n}\n.coop-fb072 .scroll-aeecd {\n  flex: 1;\n}\n.coop-fb072 .container-b5289 {\n  padding: 15px;\n  border-bottom: 1px solid #DDD;\n}\n.coop-fb072 .container-b5289:last-child {\n  border-bottom: none;\n}\n",""]),s.locals={coop:"coop-fb072",scroll:"scroll-aeecd",container:"container-b5289"};const a=s},91044:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.view-e4218 {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n  padding-right: 5px;\n  height: 25px;\n}\n.view-e4218:hover .del-f8c4d {\n  display: block;\n}\n.view-e4218 .del-f8c4d {\n  cursor: pointer;\n  display: none;\n  margin-top: 3px;\n}\n.view-e4218 .del-f8c4d svg {\n  max-width: 12px;\n}\n.view-e4218 .tt-c2dce {\n  margin-right: 7px;\n  color: #999;\n  padding-top: 3px;\n}\n.view-e4218 .pop-c6f61 {\n  position: absolute;\n  left: 30px;\n  top: 28px;\n  background-color: #FFF;\n  padding: 5px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 6px;\n  box-shadow: 2px 5px 5px rgba(0, 0, 0, 0.3);\n}\n.view-e4218 .pop-c6f61 > div {\n  border-radius: 10px;\n  padding: 1px 10px;\n  margin: 1px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n.view-e4218 .pop-c6f61 > div:hover {\n  background-color: #EEE;\n}\n.view-e4218 .labels-fff4b {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  position: relative;\n}\n.view-e4218 .labels-fff4b span {\n  display: inline-flex;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  margin-left: 3px;\n}\n.view-e4218 .labels-fff4b .todo-f9538 {\n  background: #FA6400;\n}\n.view-e4218 .labels-fff4b .todo-f9538 svg path {\n  fill: #FA6400;\n}\n.view-e4218 .labels-fff4b .doing-d3835 {\n  background: #039afd;\n}\n.view-e4218 .labels-fff4b .doing-d3835 svg path {\n  fill: #039afd;\n}\n.view-e4218 .labels-fff4b .done-b7fd8 {\n  background: #5bbd0b;\n}\n.view-e4218 .labels-fff4b .done-b7fd8 svg path {\n  fill: #5bbd0b;\n}\n.view-e4218 .labels-fff4b .labelTitle-e8968 {\n  color: #FFF;\n  font-style: italic;\n  font-size: 10px;\n  margin-left: 3px;\n  margin-top: 2px;\n  border-radius: 10px;\n  padding: 1px 10px;\n}\n.view-e4218 .adder-df8cd {\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: #EEE;\n  margin-right: 10px;\n  font-weight: 300;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n}\n",""]),s.locals={view:"view-e4218",del:"del-f8c4d",tt:"tt-c2dce",pop:"pop-c6f61",labels:"labels-fff4b",todo:"todo-f9538",doing:"doing-d3835",done:"done-b7fd8",labelTitle:"labelTitle-e8968",adder:"adder-df8cd"};const a=s},36377:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-c02b5 {\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n}\n.editor-c02b5 .tt-caf21 {\n  display: flex;\n  justify-content: space-between;\n  padding-right: 5px;\n  height: 25px;\n  align-items: center;\n}\n.editor-c02b5 .tt-caf21:hover span {\n  display: block;\n}\n.editor-c02b5 .tt-caf21 label {\n  color: #999;\n}\n.editor-c02b5 .tt-caf21 span {\n  cursor: pointer;\n  display: none;\n}\n.editor-c02b5 .tt-caf21 span svg {\n  max-width: 12px;\n}\n.editor-c02b5 textarea {\n  border: 1px solid #EEE;\n  border-radius: 6px;\n  background-color: #FFF;\n  min-height: 100px;\n  padding: 5px 10px;\n}\n",""]),s.locals={editor:"editor-c02b5",tt:"tt-caf21"};const a=s},81131:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".executor-e7a67 {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 80px;\n  background: #FFF;\n}\n.executor-e7a67 span {\n  max-width: 14px;\n  margin-right: 5px;\n  position: absolute;\n  top: -3px;\n  left: 4px;\n}\n.executor-e7a67 svg {\n  position: absolute;\n  top: 6px;\n  left: 5px;\n  height: 12px;\n  width: 12px;\n}\n.executor-e7a67 svg path {\n  fill: #fa2800;\n}\n.executor-e7a67 textarea {\n  flex: 1;\n  padding: 3px 5px 5px 23px;\n  height: 100%;\n  resize: none;\n  margin: 0 !important;\n  box-sizing: border-box;\n}\n.executor-e7a67 textarea::selection {\n  background: #000;\n}\n",""]),s.locals={executor:"executor-e7a67"};const a=s},15432:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.view-d3262 {\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  overflow: hidden;\n}\n.content-eb1fb {\n  flex: 1;\n  padding: 5px 5px;\n  max-height: 300px;\n  overflow: auto;\n  background-color: #FBFBFB;\n}\n.content-eb1fb:empty {\n  padding: 0 !important;\n  margin-top: -1px;\n}\n.content-eb1fb .request-a7e56 {\n  padding: 10px 5px 0 5px;\n  position: relative;\n  user-select: text;\n  word-break: break-all;\n}\n.content-eb1fb .request-a7e56:before {\n  content: '我：';\n  color: #999;\n  font-size: 12px;\n  font-style: italic;\n}\n.content-eb1fb .request-a7e56:first-child {\n  padding-top: 0;\n}\n.content-eb1fb .request-a7e56 label {\n  color: #777;\n  margin-right: 3px;\n  font-size: 10px;\n}\n.content-eb1fb .request-a7e56 span {\n  color: #333;\n}\n.content-eb1fb .response-aaa24 {\n  padding: 0 5px 5px 5px;\n  position: relative;\n  user-select: text;\n  text-align: right;\n  margin-bottom: 10px;\n  border-bottom: 1px dashed #DDD;\n}\n.content-eb1fb .response-aaa24:last-of-type {\n  border-bottom: none !important;\n  margin-bottom: 0 !important;\n}\n.content-eb1fb .response-aaa24:after {\n  content: ':AI';\n  color: #999;\n  font-style: italic;\n  margin-left: 3px;\n}\n.content-eb1fb .loading-e1fe1 {\n  color: #FF0000;\n  font-size: 10px;\n  font-style: italic;\n  margin-left: 3px;\n}\n.content-eb1fb .done-ff50e,\n.content-eb1fb .apiDone-eb677 {\n  padding-top: 5px;\n  color: #0a7c05;\n  font-size: 12px;\n  margin-left: 3px;\n  line-height: 18px;\n  user-select: text;\n}\n.content-eb1fb .done-ff50e:before,\n.content-eb1fb .apiDone-eb677:before {\n  content: 'AI：';\n  color: #999;\n  font-size: 12px;\n  font-style: italic;\n}\n.content-eb1fb .error-c0284 {\n  color: #d36c2c;\n  font-size: 10px;\n  font-style: italic;\n  margin-left: 3px;\n}\n.content-eb1fb .resDone-d5164 {\n  color: #0a7c05;\n}\n.content-eb1fb .resError-f037c {\n  color: red;\n}\n",""]),s.locals={view:"view-d3262",content:"content-eb1fb",request:"request-a7e56",response:"response-aaa24",loading:"loading-e1fe1",done:"done-ff50e",apiDone:"apiDone-eb677",error:"error-c0284",resDone:"resDone-d5164",resError:"resError-f037c"};const a=s},84561:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-f76a3 {\n  background-color: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 26px;\n  padding: 0 0 0 8px;\n  border: 1px solid #DDD;\n}\n.editor-f76a3 span {\n  display: inline-block;\n}\n.editor-f76a3 span:first-child {\n  width: 40px;\n  margin-right: 5px;\n}\n.editor-f76a3 .tt-cdcac {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  flex: 1;\n  line-height: 12px;\n}\n.editor-f76a3 .type-de40d {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-f76a3 .type-de40d svg {\n  max-width: 16px;\n}\n.editor-f76a3 .del-d2d8b {\n  cursor: pointer;\n  margin-left: auto;\n  color: #AAA;\n  font-style: italic;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-f76a3 .del-d2d8b svg {\n  max-width: 12px;\n}\n.editor-f76a3 .del-d2d8b svg path {\n  fill: #999;\n}\n.editor-f76a3 .btns-c865a .disable-d442d {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .normal-f4eb4 {\n  background-color: #AAA;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .passed-c0af6 {\n  background-color: green;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .failed-de8ba {\n  background-color: red;\n}\n.conList-bbd4e {\n  padding: 10px;\n  margin-top: 25px;\n  height: 100%;\n  overflow: auto;\n}\n.conList-bbd4e .con-e50b6 {\n  cursor: pointer;\n  padding: 8px 5px 8px 12px;\n  margin: 3px 0;\n  display: flex;\n  justify-content: space-between;\n  border: 1px solid #EEE;\n  border-radius: 6px;\n  background-color: #FAFAFA;\n}\n.conList-bbd4e .con-e50b6:hover {\n  background-color: #F5F5F5;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 .title-a5821 {\n  font-weight: bold;\n  word-wrap: break-word;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 .time-f235b {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-bbd4e .con-e50b6 .typeIcon-a8014 {\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.conList-bbd4e .con-e50b6 .typeIcon-a8014 svg {\n  max-width: 22px;\n}\n.conList-bbd4e .focus-e8f94 {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-f76a3",tt:"tt-cdcac",type:"type-de40d",del:"del-d2d8b",btns:"btns-c865a",disable:"disable-d442d",test:"test-bdc82",normal:"normal-f4eb4",passed:"passed-c0af6",failed:"failed-de8ba",conList:"conList-bbd4e",con:"con-e50b6",desc:"desc-da090",title:"title-a5821",time:"time-f235b",typeIcon:"typeIcon-a8014",focus:"focus-e8f94"};const a=s},90399:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-fae89 {\n  background-color: #FFF;\n}\n.editor-fae89 .btns-d0deb {\n  padding: 5px 2px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 {\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span {\n  display: inline-block;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span:first-child {\n  width: 40px;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span:last-child {\n  flex: 1;\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  line-height: 14px;\n}\n.editor-fae89 .btns-d0deb .disable-c0274 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .normal-c2f73 {\n  background-color: #AAA;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .passed-c262e {\n  background-color: green;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .failed-c0ea8 {\n  background-color: red;\n}\n.conList-ef612 {\n  padding: 10px;\n}\n.conList-ef612 .con-a6019 {\n  cursor: pointer;\n  padding: 5px 5px 5px 10px;\n}\n.conList-ef612 .con-a6019:hover {\n  background-color: #F5F5F5;\n}\n.conList-ef612 .con-a6019 .time-c409c {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-ef612 .focus-f1690 {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-fae89",btns:"btns-d0deb",selected:"selected-ee583",disable:"disable-c0274",test:"test-ee4e7",normal:"normal-c2f73",passed:"passed-c262e",failed:"failed-c0ea8",conList:"conList-ef612",con:"con-a6019",time:"time-c409c",focus:"focus-f1690"};const a=s},57651:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e0335 {\n  background-color: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-e0335 span {\n  display: inline-block;\n}\n.editor-e0335 span:first-child {\n  width: 40px;\n}\n.editor-e0335 .tt-a0a46 {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-e0335 .type-c7897 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-e0335 .type-c7897 svg {\n  max-width: 16px;\n}\n.editor-e0335 .btns-d464a .disable-a5b64 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .normal-b797c {\n  background-color: #AAA;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .passed-e5cba {\n  background-color: green;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .failed-a81e4 {\n  background-color: red;\n}\n.conList-f3450 {\n  padding: 10px;\n  margin-top: 25px;\n  height: 100%;\n  overflow: auto;\n}\n.conList-f3450 .con-d47ff {\n  cursor: pointer;\n  padding: 8px 5px 8px 12px;\n  margin: 3px 0;\n  display: flex;\n  justify-content: space-between;\n  border: 1px solid #EEE;\n  border-radius: 6px;\n  background-color: #FAFAFA;\n}\n.conList-f3450 .con-d47ff:hover {\n  background-color: #F5F5F5;\n}\n.conList-f3450 .con-d47ff .desc-d9797 {\n  display: flex;\n  flex-direction: column;\n}\n.conList-f3450 .con-d47ff .desc-d9797 .title-d5322 {\n  font-weight: bold;\n}\n.conList-f3450 .con-d47ff .desc-d9797 .time-f847f {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-f3450 .con-d47ff .typeIcon-e8021 {\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.conList-f3450 .con-d47ff .typeIcon-e8021 svg {\n  max-width: 22px;\n}\n.conList-f3450 .focus-eb67d {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-e0335",tt:"tt-a0a46",type:"type-c7897",btns:"btns-d464a",disable:"disable-a5b64",test:"test-dc9e4",normal:"normal-b797c",passed:"passed-e5cba",failed:"failed-a81e4",conList:"conList-f3450",con:"con-d47ff",desc:"desc-d9797",title:"title-d5322",time:"time-f847f",typeIcon:"typeIcon-e8021",focus:"focus-eb67d"};const a=s},4140:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-bddd5 {\n  background-color: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-bddd5 span {\n  display: inline-block;\n}\n.editor-bddd5 span:first-child {\n  width: 40px;\n}\n.editor-bddd5 .tt-d319d {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-bddd5 .type-b4bb8 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-bddd5 .type-b4bb8 svg {\n  max-width: 16px;\n}\n.editor-bddd5 .btns-e97a1 .disable-caabb {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .normal-b9c52 {\n  background-color: #AAA;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .passed-da78b {\n  background-color: green;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .failed-d546b {\n  background-color: red;\n}\n.pageList-f8083 {\n  padding: 10px;\n}\n.pageList-f8083 .page-ce24b {\n  cursor: pointer;\n  padding: 3px 5px 3px 0px;\n  border-radius: 6px;\n  margin: 3px 0;\n  display: flex;\n}\n.pageList-f8083 .page-ce24b:hover {\n  background-color: #F5F5F5;\n}\n.pageList-f8083 .page-ce24b .icon-d47f8 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-f8083 .page-ce24b .icon-d47f8 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-f8083 .page-ce24b .title-cbcc8 {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-f8083 .page-ce24b .title-cbcc8 .time-df0eb {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-f8083 .focus-a0df0 {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-bddd5",tt:"tt-d319d",type:"type-b4bb8",btns:"btns-e97a1",disable:"disable-caabb",test:"test-d9b87",normal:"normal-b9c52",passed:"passed-da78b",failed:"failed-d546b",pageList:"pageList-f8083",page:"page-ce24b",icon:"icon-d47f8",title:"title-cbcc8",time:"time-df0eb",focus:"focus-a0df0"};const a=s},2549:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-a9af9 {\n  background-color: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-a9af9 span {\n  display: inline-block;\n}\n.editor-a9af9 span:first-child {\n  width: 40px;\n}\n.editor-a9af9 .tt-b765a {\n  overflow: hidden;\n  color: #c6ad18;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  flex: 1;\n  line-height: 12px;\n}\n.editor-a9af9 .tt-b765a:empty:before {\n  color: #AAA;\n  content: '（空）';\n}\n.editor-a9af9 .type-fd5fd {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-a9af9 .type-fd5fd svg {\n  max-width: 16px;\n}\n.editor-a9af9 .btns-f62c8 .disable-fb356 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .normal-fabd5 {\n  background-color: #AAA;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .passed-bfd36 {\n  background-color: green;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .failed-cfe5f {\n  background-color: red;\n}\n",""]),s.locals={editor:"editor-a9af9",tt:"tt-b765a",type:"type-fd5fd",btns:"btns-f62c8",disable:"disable-fb356",test:"test-a7663",normal:"normal-fabd5",passed:"passed-bfd36",failed:"failed-cfe5f"};const a=s},4383:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-c7b92 {\n  background-color: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-c7b92 span {\n  display: inline-block;\n}\n.editor-c7b92 span:first-child {\n  width: 40px;\n}\n.editor-c7b92 .tt-fe4ef {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-c7b92 .type-c24f1 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-c7b92 .type-c24f1 svg {\n  max-width: 16px;\n}\n.editor-c7b92 .btns-f8185 .disable-b1a7e {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .normal-aa50b {\n  background-color: #AAA;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .passed-b5215 {\n  background-color: green;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .failed-f63ff {\n  background-color: red;\n}\n.pageList-a7407 {\n  padding: 10px;\n  padding-top: 45px;\n}\n.pageList-a7407 .page-c5124 {\n  cursor: pointer;\n  padding: 12px 5px 12px 0px;\n  border-radius: 6px;\n  margin: 3px 0;\n  display: flex;\n  background-color: #FAFAFA;\n}\n.pageList-a7407 .page-c5124:hover {\n  background-color: #F5F5F5;\n}\n.pageList-a7407 .page-c5124 .icon-fc6c8 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-a7407 .page-c5124 .icon-fc6c8 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-a7407 .page-c5124 .title-dd67d {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-a7407 .page-c5124 .title-dd67d .time-bb839 {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-a7407 .focus-d2eb3 {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-c7b92",tt:"tt-fe4ef",type:"type-c24f1",btns:"btns-f8185",disable:"disable-b1a7e",test:"test-a7958",normal:"normal-aa50b",passed:"passed-b5215",failed:"failed-f63ff",pageList:"pageList-a7407",page:"page-c5124",icon:"icon-fc6c8",title:"title-dd67d",time:"time-bb839",focus:"focus-d2eb3"};const a=s},10530:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e902e {\n  cursor: pointer;\n  padding: 5px 0;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n}\n.editor-e902e:hover {\n  background-color: #EEE;\n}\n.editor-e902e .preview-d02b1 {\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #AAA;\n  font-style: italic;\n}\n.editor-e902e .preview-d02b1 img {\n  max-height: 40px;\n  max-width: 260px;\n}\n.editor-e902e .title-f6385 {\n  margin-top: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #AAA;\n  flex: 1;\n  display: none;\n}\n.notFound-afaa5 .title-f6385 {\n  font-style: italic;\n  color: #f8bbbb !important;\n}\n.themes-e8a9b {\n  padding: 10px;\n  padding-top: 45px;\n}\n.themes-e8a9b .theme-a52a8 {\n  height: 80px;\n  cursor: pointer;\n  padding: 5px 10px;\n  border-radius: 6px;\n  margin: 3px 0;\n  display: flex;\n  flex-direction: column;\n  background-color: #FAFAFA;\n}\n.themes-e8a9b .theme-a52a8:hover {\n  background-color: #F5F5F5;\n}\n.themes-e8a9b .theme-a52a8 .preview-d02b1 {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.themes-e8a9b .theme-a52a8 .preview-d02b1 img {\n  max-height: 50px;\n  max-width: 300px;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 {\n  display: flex;\n  flex-direction: column;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 .title-f6385 {\n  color: #AAA;\n  font-style: italic;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 .time-bb5eb {\n  color: #AAA;\n  margin-top: 5px;\n}\n.themes-e8a9b .focus-e1b49 {\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-e902e",preview:"preview-d02b1",title:"title-f6385",notFound:"notFound-afaa5",themes:"themes-e8a9b",theme:"theme-a52a8",time:"time-bb5eb",focus:"focus-e1b49"};const a=s},24957:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.button-a70be {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  border: none;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 6px;\n  background-color: #FFF;\n  box-shadow: 0 1px 3px 0 #bbb;\n}\n.danger-ab4d6 {\n  border: 1px solid #F55753;\n  color: #F55753;\n  box-shadow: none;\n}\n",""]),s.locals={button:"button-a70be",danger:"danger-ab4d6"};const a=s},25755:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-fab78 {\n  display: flex;\n  flex-direction: column;\n}\n.editor-fab78 .item-b0a57 {\n  display: flex;\n  align-items: center;\n}\n.editor-fab78 .item-b0a57:not(:first-child) {\n  margin-top: 5px;\n}\n.editor-fab78 .item-b0a57 .label-e8d29 {\n  width: 80px;\n  text-align: right;\n  padding-right: 5px;\n}\n.editor-fab78 .item-b0a57 input {\n  flex: 1;\n  background: #FFF;\n  padding: 5px 10px;\n  border-radius: 6px;\n  border: 1px solid #EEE;\n}\n",""]),s.locals={editor:"editor-fab78",item:"item-b0a57",label:"label-e8d29"};const a=s},69277:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".editor-b7164 table td {\n  border: 1px solid #DDD;\n}\n.editor-b7164 table input {\n  width: 80px;\n  border: 0px;\n}\n",""]),s.locals={editor:"editor-b7164"};const a=s},85398:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e83b5 {\n  position: relative;\n}\n.editor-e83b5 > p {\n  color: #555;\n}\n.editor-e83b5 .input-eadbf {\n  width: 100%;\n  height: 26px;\n  display: block;\n  padding: 3px 8px;\n  border-radius: 6px;\n  border: 1px solid #DDD;\n  background-color: #FFF;\n  box-sizing: border-box;\n}\n.editor-e83b5 .input-eadbf::placeholder {\n  color: #BBB;\n  font-style: italic;\n}\n.editor-e83b5 .input-eadbf:hover {\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.editor-e83b5 .input-eadbf:focus {\n  border-color: #fa6400;\n  -webkit-box-shadow: 0 0 0 2px #fa640033;\n  box-shadow: 0 0 0 2px #fa640033;\n}\n.editor-e83b5 .disabled-cf756 {\n  cursor: text;\n  background-color: transparent;\n  color: rgba(0, 0, 0, 0.85);\n  border: none;\n}\n.editor-e83b5 > span {\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  cursor: pointer;\n}\n.editor-e83b5 > span svg {\n  max-width: 16px;\n}\n.editor-e83b5 .useLocale-d8881 svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-e83b5",input:"input-eadbf",disabled:"disabled-cf756",useLocale:"useLocale-d8881"};const a=s},51113:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editView-fd054 {\n  height: 100%;\n  flex: 1;\n  background: #F7F7F7;\n  overflow-y: auto;\n  overflow-x: hidden;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n}\n.editView-fd054 .empty-fa2d4 {\n  color: #AAA;\n  font-style: italic;\n  text-align: center;\n}\n",""]),s.locals={editView:"editView-fd054",empty:"empty-fa2d4"};const a=s},11490:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-bd4f7 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-fa1ac {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-d32c2 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-a5529 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-b0055 {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-c7809 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-af75e {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-ed1f8 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-fccfd {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-d8021 {\n  align-items: flex-end;\n}\n.mover-b0a94 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.slotHover-bf7cb:after {\n  content: ' ';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.loading-dfe01 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 100000;\n  background: #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #AAA;\n}\n.wrapper-f11d9 {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n}\n.navs-c3f4d {\n  background: #F7F7F7;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.navs-c3f4d .titleBar-ee313 {\n  height: 32px;\n  display: flex;\n  background-color: #EBECEE;\n  border-bottom: 1px solid #D8D8D8;\n}\n.navs-c3f4d .titleBar-ee313 .tt-b52c6 {\n  font-size: 14px;\n  height: 100%;\n  min-width: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  margin-bottom: -1px;\n  border-right: 1px solid #D8D8D8;\n}\n.navs-c3f4d .titleBar-ee313 .focus-aead4 {\n  color: #333;\n  font-weight: 700;\n  background-color: #F7F7F7;\n  height: calc(100% + 2px);\n}\n.navs-c3f4d .panel-c0f48 {\n  flex: 1;\n  overflow: hidden;\n}\n.navFloat-c294c {\n  height: auto !important;\n  position: absolute;\n  top: 12px;\n  bottom: 10px;\n  right: 55px;\n  z-index: 100000;\n  border: 1px solid #CCC;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.navHide-ae3c0 {\n  width: 0 !important;\n  visibility: hidden;\n}\n.sperV-ca2f8 {\n  width: 5px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px !important;\n  margin-left: -2px !important;\n  z-index: 1000;\n}\n.sperV-ca2f8:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperV-ca2f8:hover > div {\n  border-left-width: 0;\n}\n.sperV-ca2f8 > div {\n  border-left: 1px solid #ddd;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),s.locals={lyFlexColumn:"lyFlexColumn-bd4f7",lyFlexRow:"lyFlexRow-fa1ac",justifyContentFlexStart:"justifyContentFlexStart-d32c2",justifyContentFlexCenter:"justifyContentFlexCenter-a5529",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-b0055",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-c7809",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-af75e",alignItemsFlexStart:"alignItemsFlexStart-ed1f8",alignItemsFlexCenter:"alignItemsFlexCenter-fccfd",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-d8021",mover:"mover-b0a94",slotHover:"slotHover-bf7cb",loading:"loading-dfe01",wrapper:"wrapper-f11d9",navs:"navs-c3f4d",titleBar:"titleBar-ee313",tt:"tt-b52c6",focus:"focus-aead4",panel:"panel-c0f48",navFloat:"navFloat-c294c",navHide:"navHide-ae3c0",sperV:"sperV-ca2f8"};const a=s},51922:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r),a=n(73225),l=n.n(a),c=new URL(n(22275),n.b),d=new URL(n(32568),n.b),u=new URL(n(44912),n.b),p=s()(o()),f=l()(c),h=l()(d),m=l()(u);p.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-f1554 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-f6378 {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-f8827 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-a5a83 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-cb139 {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-aadd0 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-ffd55 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-cb579 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-e8aef {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ff76a {\n  align-items: flex-end;\n}\n.mover-b95f7 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.slotHover-ed325:after {\n  content: ' ';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.viewWrap-ffa50 {\n  cursor: url("+f+") 16 16, default;\n  flex: 1;\n  overflow: hidden;\n  background-image: url("+h+");\n  position: relative;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd {\n  width: 100%;\n  height: 100%;\n  /* margin: -20px; */\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  background: #BBB;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-thumb:hover {\n  background: #777;\n  border-radius: 7px;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-button {\n  display: none;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-corner {\n  display: none;\n}\n.viewWrap-ffa50 .noteAdding-a03ba {\n  cursor: url("+m+") 16 16, crosshair;\n}\n.viewWrap-ffa50 .empty-bea14 {\n  pointer-events: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.viewWrap-ffa50 .empty-bea14:before {\n  content: '点击 # 添加内容';\n  text-wrap: nowrap;\n  color: #AAA;\n  font-style: italic;\n}\n.editing-f5648 .editCover-b040e {\n  pointer-events: none !important;\n  z-index: 10000;\n  cursor: crosshair !important;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: transparent;\n}\n.movable-dc289 {\n  cursor: grab !important;\n}\n.moveCom-dfefa {\n  cursor: crosshair !important;\n}\n.disabled-cd1f7:after {\n  content: '';\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  background-color: transparent;\n}\n.canvas-f2d48 {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n.canvasView-d9158 {\n  align-items: center;\n  display: flex;\n  height: 100%;\n  margin: auto;\n}\n.canvasTrans-a6775 {\n  position: relative;\n  padding: 0;\n  min-width: 100%;\n  min-height: 100%;\n}\n.forPopup-caad4 {\n  pointer-events: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  transform: translateZ(0px);\n}\n.forPopup-caad4 * {\n  pointer-events: auto;\n}\n",""]),p.locals={lyFlexColumn:"lyFlexColumn-f1554",lyFlexRow:"lyFlexRow-f6378",justifyContentFlexStart:"justifyContentFlexStart-f8827",justifyContentFlexCenter:"justifyContentFlexCenter-a5a83",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-cb139",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-aadd0",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-ffd55",alignItemsFlexStart:"alignItemsFlexStart-cb579",alignItemsFlexCenter:"alignItemsFlexCenter-e8aef",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ff76a",mover:"mover-b95f7",slotHover:"slotHover-ed325",viewWrap:"viewWrap-ffa50",canvasWrap:"canvasWrap-d66cd",noteAdding:"noteAdding-a03ba",empty:"empty-bea14",editing:"editing-f5648",editCover:"editCover-b040e",movable:"movable-dc289",moveCom:"moveCom-dfefa",disabled:"disabled-cd1f7",canvas:"canvas-f2d48",canvasView:"canvasView-d9158",canvasTrans:"canvasTrans-a6775",forPopup:"forPopup-caad4"};const g=p},26334:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.hoverSlot-edfd9 {\n  visibility: hidden;\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  background-color: rgba(250, 100, 0, 0.06);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n}\n.layoutFlexRow-cc67a {\n  background: repeating-linear-gradient(0deg, #F9F9F9, #F9F9F9 15px, #FDFDFD 0, #FDFDFD 30px) !important;\n}\n.layoutFlexColumn-abbe8 {\n  background: repeating-linear-gradient(90deg, rgba(250, 100, 0, 0.06), rgba(250, 100, 0, 0.06) 15px, rgba(100, 100, 100, 0.01) 0, rgba(100, 100, 100, 0.01) 30px) !important;\n}\n.layoutSmart-f3b19 {\n  background: radial-gradient(circle at 1px 1px, rgba(250, 100, 0, 0.45) 1px, transparent 0);\n  background-size: 15px 15px;\n}\n",""]),s.locals={hoverSlot:"hoverSlot-edfd9",layoutFlexRow:"layoutFlexRow-cc67a",layoutFlexColumn:"layoutFlexColumn-abbe8",layoutSmart:"layoutSmart-f3b19"};const a=s},94949:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.placeholder-bbc3d {\n  z-index: 10000;\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n}\n.placeholderH-b7744 {\n  transform: translateY(-5px);\n}\n.placeholderH-b7744 > div {\n  border-top: 5px solid var(--mybricks-color-primary, #FA6400);\n  margin-top: 3px;\n}\n.placeholderV-f57cb {\n  transform: translateX(-5px);\n}\n.placeholderV-f57cb > div {\n  height: 100%;\n  border-left: 5px solid var(--mybricks-color-primary, #FA6400);\n  margin-left: 3px;\n}\n",""]),s.locals={placeholder:"placeholder-bbc3d",placeholderH:"placeholderH-b7744",placeholderV:"placeholderV-f57cb"};const a=s},27927:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.tipSpan-b16ad {\n  position: absolute;\n  white-space: nowrap;\n  color: #FFF;\n  border-radius: 5px;\n  padding: 0 4px;\n  background-color: #04bdc5;\n  font-size: 10px;\n  font-weight: bold;\n}\n.mover-eba0b {\n  z-index: 100000;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.mover-eba0b .tipY-c7ee0 {\n  position: absolute;\n  border-left: 2px solid #04bdc5;\n  z-index: 10;\n}\n.mover-eba0b .tipY-c7ee0 span {\n  left: 1px;\n  top: 50%;\n  transform: translateY(-50%);\n  position: absolute;\n  white-space: nowrap;\n  color: #FFF;\n  border-radius: 5px;\n  padding: 0 4px;\n  background-color: #04bdc5;\n  font-size: 10px;\n  font-weight: bold;\n}\n.mover-eba0b .tipYNormal-bf5cc {\n  border-left: 2px solid var(--mybricks-color-primary, #FA6400);\n}\n.mover-eba0b .tipV-b63bb {\n  position: absolute;\n  border-left: 2px solid var(--mybricks-color-primary, #FA6400);\n}\n.mover-eba0b .disV-fc82b {\n  position: absolute;\n  width: 2px;\n  background-color: #de9a04;\n}\n.mover-eba0b .disV-fc82b span {\n  position: absolute;\n  left: 3px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 5px;\n  padding: 0 4px;\n  background-color: #de9a04;\n  color: #FFF;\n  font-size: 10px;\n  font-weight: bold;\n  white-space: nowrap;\n}\n.mover-eba0b .disH-b7bfa {\n  position: absolute;\n  height: 2px;\n  background-color: #de9a04;\n}\n.mover-eba0b .disH-b7bfa span {\n  position: absolute;\n  top: 3px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 5px;\n  padding: 0 4px;\n  background-color: #de9a04;\n  color: #FFF;\n  font-size: 10px;\n  font-weight: bold;\n  white-space: nowrap;\n}\n.mover-eba0b .tipX-d03d4 {\n  position: absolute;\n  border-top: 2px solid #04bdc5;\n  z-index: 10;\n}\n.mover-eba0b .tipX-d03d4 span {\n  bottom: 2px;\n  left: 50%;\n  transform: translateX(-50%);\n  position: absolute;\n  white-space: nowrap;\n  color: #FFF;\n  border-radius: 5px;\n  padding: 0 4px;\n  background-color: #04bdc5;\n  font-size: 10px;\n  font-weight: bold;\n}\n.mover-eba0b .tipXNormal-ebcc6 {\n  border-top: 2px solid var(--mybricks-color-primary, #FA6400);\n}\n.mover-eba0b .tipH-caec4 {\n  position: absolute;\n  border-top: 2px solid var(--mybricks-color-primary, #FA6400);\n}\n.mover-eba0b .po-c3a1c {\n  background: var(--mybricks-color-primary, #FA6400);\n  position: absolute;\n  text-align: center;\n  color: #FFF;\n  font-weight: bold;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n  transform: translate(0px, -20px);\n  border-radius: 5px;\n  padding: 1px 5px;\n}\n.mover-eba0b .poX-fed61 span,\n.mover-eba0b .poY-e2298 span,\n.mover-eba0b .poRX-ff940 span,\n.mover-eba0b .poBY-be491 span {\n  position: absolute;\n  padding: 1px 5px;\n  text-align: center;\n  background-color: #616C81;\n  color: #FFF;\n  font-weight: bold;\n  border-radius: 5px;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.mover-eba0b .poX-fed61 span label,\n.mover-eba0b .poY-e2298 span label,\n.mover-eba0b .poRX-ff940 span label,\n.mover-eba0b .poBY-be491 span label {\n  margin-right: 2px;\n  color: rgba(255, 255, 255, 0.5);\n}\n.mover-eba0b .poX-fed61 {\n  position: absolute;\n  height: 50px;\n  border-top: 1px dashed #DDD;\n}\n.mover-eba0b .poX-fed61 span {\n  right: 100%;\n  transform: translateY(-50%);\n}\n.mover-eba0b .poY-e2298 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px dashed #DDD;\n}\n.mover-eba0b .poY-e2298 span {\n  bottom: 100%;\n  transform: translateX(-50%);\n}\n.mover-eba0b .poRX-ff940 {\n  position: absolute;\n  top: calc(50% - 6px);\n  height: 50px;\n  border-top: 1px dashed #DDD;\n}\n.mover-eba0b .poRX-ff940 span {\n  left: 100%;\n  transform: translateY(-50%);\n}\n.mover-eba0b .poBY-be491 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px dashed #DDD;\n}\n.mover-eba0b .poBY-be491 span {\n  top: 100%;\n  transform: translateX(-50%);\n}\n",""]),s.locals={tipSpan:"tipSpan-b16ad",mover:"mover-eba0b",tipY:"tipY-c7ee0",tipYNormal:"tipYNormal-bf5cc",tipV:"tipV-b63bb",disV:"disV-fc82b",disH:"disH-b7bfa",tipX:"tipX-d03d4",tipXNormal:"tipXNormal-ebcc6",tipH:"tipH-caec4",po:"po-c3a1c",poX:"poX-fed61",poY:"poY-e2298",poRX:"poRX-ff940",poBY:"poBY-be491"};const a=s},67667:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.margin-a6260 {\n  position: absolute;\n  background: rgba(161, 107, 177, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.1), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.nMargin-e89c2 {\n  position: absolute;\n  background: rgba(227, 170, 46, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.marginTop-a5744,\n.marginBottom-b1b51 {\n  left: 0;\n  width: 100%;\n}\n.marginRight-e35be,\n.marginLeft-f9dff {\n  top: 0;\n  height: 100%;\n}\n.poX-e3497 span,\n.poY-f8d90 span {\n  position: absolute;\n  padding: 1px 3px;\n  text-align: center;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  border-radius: 6px;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.poX-e3497 {\n  position: absolute;\n  top: 50%;\n  height: 50px;\n  border-top: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n.poX-e3497 span {\n  left: calc(50% - 12px);\n}\n.poY-f8d90 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n.poY-f8d90 span {\n  top: calc(50% - 12px);\n}\n.passive-f8876 {\n  background: transparent !important;\n}\n@keyframes linearGradientMove-fd904 {\n  100% {\n    background-position: 8px 0, -8px 100%, 0 -8px, 100% 8px;\n  }\n}\n.opened-d3a10 .borders-f4e94 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  outline: 2px solid #02def3;\n  outline-offset: -1px;\n  background: none !important;\n}\n.opened-d3a10 .titleBar-bda65 {\n  border-bottom-color: #02def3 !important;\n}\n.focus-c14c3,\n.focusBG-d4039 {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 10000;\n  user-select: none;\n  pointer-events: none;\n}\n.multi-d918c {\n  pointer-events: auto !important;\n}\n.silent-c2a24 .titleBar-bda65,\n.silent-c2a24 .borders-f4e94 {\n  display: none !important;\n}\n.focus-c14c3 .borders-f4e94 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, var(--mybricks-color-primary, #FA6400) 50%, #fff 50%) repeat-x, linear-gradient(90deg, var(--mybricks-color-primary, #FA6400) 50%, #fff 50%) repeat-x, linear-gradient(0deg, var(--mybricks-color-primary, #FA6400) 50%, #fff 50%) repeat-y, linear-gradient(0deg, var(--mybricks-color-primary, #FA6400) 50%, #fff 50%) repeat-y;\n  background-size: 8px 1px, 8px 1px, 1px 8px, 1px 8px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n  animation: linearGradientMove-fd904 0.5s infinite linear;\n}\n.focus-c14c3 .opened-d3a10 {\n  background-color: #02e8fd !important;\n  padding: 1px 7px 0 7px;\n  margin-top: 7px;\n  margin-left: 2px;\n  margin-right: 3px;\n  font-size: 10px;\n  border-radius: 3px 3px 0 0;\n  border-bottom-color: #02e8fd;\n}\n.focus-c14c3 .diagrams-f4aae {\n  width: max-content;\n}\n.focus-c14c3 .diagrams-f4aae .event-e7271 {\n  padding: 0 5px;\n  margin-left: 2px;\n  width: fit-content;\n  border: 1px solid #bbb;\n  font-style: italic;\n  background-color: #fff4ce;\n  color: #666;\n  font-weight: normal;\n  cursor: pointer;\n  display: inline-flex;\n}\n.focus-c14c3 .shortcuts-f6007 {\n  padding: 1px 5px 0 5px !important;\n  border-radius: 0 3px 0 0;\n  margin: 0px 0px 2px 1px;\n  cursor: pointer;\n}\n.focus-c14c3 .shortcuts-f6007 > * {\n  pointer-events: none;\n  font-size: 10px;\n}\n.titleBar-bda65 {\n  pointer-events: auto;\n  width: max-content;\n  font-weight: 700;\n  position: absolute;\n  bottom: calc(100% + 10px);\n  left: 0;\n  z-index: 10001;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 36px;\n  padding: 0 20px 0 10px;\n  background: linear-gradient(#FFF, #F7F7F7);\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  box-shadow: rgba(31, 35, 41, 0.1) 0 8px 12px 0;\n}\n.titleBar-bda65 .parentBar-c7961 {\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  padding: 0 10px 0 0;\n  cursor: pointer;\n}\n.titleBar-bda65 .parentBar-c7961 svg {\n  width: 12px;\n}\n.titleBar-bda65 .parentBar-c7961 svg path {\n  fill: #AAA;\n}\n.titleBar-bda65 .hidden-a6e88 {\n  cursor: pointer;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  padding: 1px 8px 0 5px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n}\n.titleBar-bda65 .hidden-a6e88 svg {\n  max-width: 14px;\n}\n.titleBar-bda65 .hidden-a6e88 svg path {\n  fill: #FFF;\n}\n.titleBar-bda65 .comBar-f5819 {\n  display: flex;\n  align-items: center;\n}\n.titleBar-bda65 .comBar-f5819 .move-c70c2 {\n  cursor: move;\n  height: 14px;\n  margin-right: 8px;\n}\n.titleBar-bda65 .comBar-f5819 .move-c70c2 svg {\n  width: 14px;\n}\n.titleBar-bda65 .comBar-f5819 .move-c70c2 svg path {\n  fill: #AAA;\n}\n.titleBar-bda65 .comBar-f5819 .title-a2ccc {\n  cursor: text;\n  margin-right: 10px;\n}\n.titleBar-bda65 .comBar-f5819 > label {\n  opacity: 0.5;\n  font-style: italic;\n}\n.titleBar-bda65 .comBar-f5819 .menu-eaabb {\n  writing-mode: vertical-lr;\n  opacity: 1;\n  margin-right: -8px;\n  cursor: pointer;\n}\n.titleBar-bda65 .disabled-db67d {\n  pointer-events: none;\n  opacity: 0.3;\n}\n.titleBar-bda65 .poInfo-e8724 {\n  position: absolute;\n  top: -34px;\n  left: 0;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 0 12px;\n  border-radius: 6px;\n  border: 1px solid #DDD;\n  box-shadow: rgba(31, 35, 41, 0.12) 0 0 12px 0;\n  background: #FFF;\n  font-weight: normal;\n}\n.titleBar-bda65 .poInfo-e8724 .comIcon-c70f8 {\n  max-width: 14px;\n  max-height: 14px;\n  margin-right: -3px;\n}\n.titleBar-bda65 .poInfo-e8724 .comIcon-c70f8 svg {\n  max-height: 14px;\n}\n.titleBar-bda65 .poInfo-e8724 label:first-of-type {\n  color: #AAA;\n}\n.titleBar-bda65 .poInfo-e8724 > label,\n.titleBar-bda65 .poInfo-e8724 > div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-style: italic;\n  font-size: 11px;\n  height: 18px;\n  line-height: 16px;\n  white-space: nowrap;\n}\n.titleBar-bda65 .poInfo-e8724 > div {\n  width: 20px;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.titleBar-bda65 .poInfo-e8724 > div:hover {\n  background: #E3E3E3;\n}\n.titleBar-bda65 .poInfo-e8724 .iconActive-ac57b {\n  background: var(--mybricks-color-primary, #FA6400) !important;\n}\n.titleBar-bda65 .poInfo-e8724 .iconActive-ac57b svg path {\n  fill: #FFF;\n}\n.titleBar-bda65 .poInfo-e8724 svg {\n  width: 14px;\n}\n.titleBar-bda65 .poInfo-e8724 svg path {\n  fill: #555;\n}\n.titleBar-bda65 .evtInfo-ccc6e {\n  position: absolute;\n  top: -67px;\n  left: 0;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 0 12px;\n  border-radius: 4px;\n  border: 1px solid #DDD;\n  box-shadow: rgba(31, 35, 41, 0.12) 0 0 12px 0;\n  background: #FFF;\n}\n.titleBar-bda65 .eventDef-decd9 {\n  color: #de9b28;\n  font-style: italic;\n  white-space: nowrap;\n  font-size: 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.titleBar-bda65 .eventDef-decd9 i {\n  height: 12px;\n  margin-top: -3px;\n}\n.titleBar-bda65 .eventDef-decd9 i svg {\n  max-width: 12px;\n}\n.titleBar-bda65 .eventDef-decd9 i svg path {\n  fill: #de9b28;\n}\n.aiBarDis-f031e {\n  width: 150px;\n  height: 50px;\n  position: absolute;\n}\n.aiBar-c4d90 {\n  position: absolute;\n  z-index: 1000;\n  width: 50px;\n  height: 32px;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  background: #FFF;\n  overflow: hidden;\n  box-sizing: border-box;\n  box-shadow: rgba(31, 35, 41, 0.1) 0 8px 12px 0;\n  cursor: pointer;\n}\n.aiBar-c4d90:before {\n  position: absolute;\n  top: 6px;\n  left: 10px;\n  color: #000;\n  content: '@';\n}\n.aiBar-c4d90:after {\n  position: absolute;\n  top: 6px;\n  left: 23px;\n  color: #000;\n  content: 'AI';\n}\n.aiActived-cbf9c {\n  border-color: var(--mybricks-color-primary, #FA6400);\n  background: #FFF;\n  width: 130px;\n  height: 80px;\n  transform: translateX(-80px);\n}\n.aiActived-cbf9c:before,\n.aiActived-cbf9c:after {\n  display: none;\n}\n.aiActived-cbf9c .commit-f3550 {\n  display: block;\n}\n.aiActived-cbf9c textarea {\n  resize: none;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  padding: 5px 8px;\n  box-sizing: border-box;\n}\n.aiActived-cbf9c textarea::placeholder {\n  color: #999;\n  font-size: 11px;\n  font-style: italic;\n  padding-top: 2px;\n}\n.aiActived-cbf9c .commit-f3550 {\n  position: absolute;\n  right: 3px;\n  bottom: 5px;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  display: none;\n}\n.aiActived-cbf9c .commit-f3550 svg {\n  max-width: 12px;\n}\n.aiActived-cbf9c .commit-f3550 svg path {\n  fill: #CCC;\n}\n.aiWaiting-dc4f8:after {\n  background: #F7F7F7;\n  content: '(已提交）';\n  font-style: italic;\n  color: #AAA;\n  font-size: 11px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.aiRunning-d30e5:after {\n  background: #F7F7F7;\n  content: '处理中..';\n  font-style: italic;\n  color: #AAA;\n  font-size: 11px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.titleEditor-e2578 {\n  position: absolute;\n  background: #FFF;\n  z-index: 1000;\n}\n.titleEditor-e2578 input {\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  padding: 2px 5px;\n  font-weight: normal;\n}\n.infoPo-d03e0 {\n  color: #AAA;\n}\n.infoPo-d03e0 svg {\n  max-width: 12px;\n  margin-right: 8px;\n}\n.infoPo-d03e0 svg path {\n  fill: #999 !important;\n}\n.infoLeft-e83e9,\n.infoRight-c51f0 {\n  position: absolute;\n  top: 0;\n  height: 1px;\n  border-top: 1px dashed var(--mybricks-color-primary, #FA6400);\n  pointer-events: none;\n}\n.infoTop-ab5ed,\n.infoBottom-de91f {\n  position: absolute;\n  top: 0;\n  width: 1px;\n  border-left: 1px dashed var(--mybricks-color-primary, #FA6400);\n  pointer-events: none;\n}\n.focusBG-d4039 {\n  z-index: 9999;\n}\n.geoComMaskMulti-aa26d {\n  user-select: auto !important;\n  pointer-events: auto !important;\n}\n",""]),s.locals={margin:"margin-a6260",nMargin:"nMargin-e89c2",marginTop:"marginTop-a5744",marginBottom:"marginBottom-b1b51",marginRight:"marginRight-e35be",marginLeft:"marginLeft-f9dff",poX:"poX-e3497",poY:"poY-f8d90",passive:"passive-f8876",opened:"opened-d3a10",borders:"borders-f4e94",titleBar:"titleBar-bda65",focus:"focus-c14c3",focusBG:"focusBG-d4039",multi:"multi-d918c",silent:"silent-c2a24",linearGradientMove:"linearGradientMove-fd904",diagrams:"diagrams-f4aae",event:"event-e7271",shortcuts:"shortcuts-f6007",parentBar:"parentBar-c7961",hidden:"hidden-a6e88",comBar:"comBar-f5819",move:"move-c70c2",title:"title-a2ccc",menu:"menu-eaabb",disabled:"disabled-db67d",poInfo:"poInfo-e8724",comIcon:"comIcon-c70f8",iconActive:"iconActive-ac57b",evtInfo:"evtInfo-ccc6e",eventDef:"eventDef-decd9",aiBarDis:"aiBarDis-f031e",aiBar:"aiBar-c4d90",aiActived:"aiActived-cbf9c",commit:"commit-f3550",aiWaiting:"aiWaiting-dc4f8",aiRunning:"aiRunning-d30e5",titleEditor:"titleEditor-e2578",infoPo:"infoPo-d03e0",infoLeft:"infoLeft-e83e9",infoRight:"infoRight-c51f0",infoTop:"infoTop-ab5ed",infoBottom:"infoBottom-de91f",geoComMaskMulti:"geoComMaskMulti-aa26d"};const a=s},65791:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.margin-a6abe {\n  position: absolute;\n  background: rgba(161, 107, 177, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.1), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.nMargin-eb720 {\n  position: absolute;\n  background: rgba(227, 170, 46, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.marginTop-d7441,\n.marginBottom-f4c5f {\n  left: 0;\n  width: 100%;\n}\n.marginRight-a27db,\n.marginLeft-e1fc4 {\n  top: 0;\n  height: 100%;\n}\n.poX-f3e91,\n.poY-f1a34 {\n  z-index: 9999;\n}\n.poX-f3e91 span,\n.poY-f1a34 span {\n  position: absolute;\n  padding: 1px 3px;\n  text-align: center;\n  background-color: red;\n  color: #FFF;\n  border-radius: 6px;\n  border: 1px solid #FFF;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.poX-f3e91 {\n  position: absolute;\n  top: 50%;\n  height: 50px;\n  border-top: 1px solid red;\n}\n.poX-f3e91 span {\n  left: calc(50% - 12px);\n}\n.poY-f1a34 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px solid red;\n}\n.poY-f1a34 span {\n  top: calc(50% - 12px);\n}\n.shell-de39c {\n  box-sizing: content-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 100000;\n  user-select: none;\n  pointer-events: none;\n}\n.itemTitle-ea920 {\n  width: max-content;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: 700;\n  position: absolute;\n  padding: 3px 10px 2px 10px;\n  bottom: calc(100% - 0px);\n  left: 0;\n  border-radius: 5px 5px 0 0;\n  outline: 1px solid rgba(255, 255, 255, 0.5);\n}\n.itemTitle-ea920 span {\n  display: inline-block;\n  pointer-events: visible;\n  line-height: 20px;\n}\n.itemTitle-ea920 span:not(:first-child):before {\n  content: '>';\n  padding: 0px 10px;\n}\n.itemTitle-ea920 span:not(:last-child) {\n  cursor: pointer;\n}\n.itemTitle-ea920 label {\n  margin-left: 5px;\n  opacity: 0.5;\n  font-style: italic;\n}\n.hover-f9d2b {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n  background: rgba(250, 100, 0, 0.05);\n}\n.hover-f9d2b .diagrams-fa8ed {\n  width: max-content;\n}\n.hover-f9d2b .diagrams-fa8ed .event-ad232 {\n  padding: 2px 5px;\n  width: fit-content;\n  border: 1px solid #CCC;\n  font-style: italic;\n  background-color: #fff4ce;\n}\n.hover-f9d2b .diagrams-fa8ed .event-ad232 span {\n  font-size: 16px !important;\n}\n.refX-fc85b,\n.refY-ce546,\n.refX_-d7262,\n.refY_-b19af {\n  position: absolute;\n  z-index: 100000;\n  pointer-events: none;\n}\n.refX-fc85b {\n  border-top: 1px solid #04bdc5;\n}\n.refX-fc85b label {\n  background: #04bdc5;\n  color: #FFF;\n  font-weight: bold;\n  font-size: 10px;\n  white-space: nowrap;\n  border-radius: 5px;\n  padding: 0px 4px;\n  transform: translateX(-50%);\n  left: 50%;\n  top: 2px;\n  position: absolute;\n}\n.refX_-d7262 {\n  border-top: 1px dashed #04bdc5;\n}\n.refY_-b19af {\n  border-left: 1px dashed #04bdc5;\n}\n.refY-ce546 {\n  border-left: 1px solid #04bdc5;\n  text-align: center;\n}\n.refY-ce546 label {\n  background: #04bdc5;\n  color: #FFF;\n  font-weight: bold;\n  font-size: 10px;\n  white-space: nowrap;\n  border-radius: 5px;\n  padding: 0px 4px;\n  transform: translateY(-50%);\n  top: 50%;\n  left: 2px;\n  position: absolute;\n}\n",""]),s.locals={margin:"margin-a6abe",nMargin:"nMargin-eb720",marginTop:"marginTop-d7441",marginBottom:"marginBottom-f4c5f",marginRight:"marginRight-a27db",marginLeft:"marginLeft-e1fc4",poX:"poX-f3e91",poY:"poY-f1a34",shell:"shell-de39c",itemTitle:"itemTitle-ea920",hover:"hover-f9d2b",diagrams:"diagrams-fa8ed",event:"event-ad232",refX:"refX-fc85b",refY:"refY-ce546",refX_:"refX_-d7262",refY_:"refY_-b19af"};const a=s},3008:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.note-c806f {\n  z-index: 1001;\n  position: absolute;\n  pointer-events: auto;\n  width: fit-content;\n}\n.note-c806f .tip-f4c4d {\n  width: 26px;\n  height: 26px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  background: #FFF;\n  filter: drop-shadow(rgba(0, 0, 0, 0.5) 0px 1px 3px);\n  padding: 3px 0 0 3px;\n  cursor: pointer;\n}\n.note-c806f .tip-f4c4d label {\n  cursor: pointer;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #FFF;\n  font-weight: bold;\n}\n.note-c806f .tip-f4c4d label:empty {\n  visibility: hidden;\n}\n.note-c806f .tipRef-f20ad {\n  width: 24px;\n  height: 24px;\n  border-radius: 5px;\n  padding: 2px 0 0 2px;\n}\n.note-c806f .tipRef-f20ad label {\n  color: var(--mybricks-color-primary, #FA6400);\n  background: #FFF;\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n}\n.note-c806f .title-b6aed {\n  width: 300px;\n  background: #fbe9ba;\n  position: relative;\n  padding: 5px 7px 6px 7px;\n  font-size: 12px;\n  display: flex;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  align-items: center;\n  justify-content: space-between;\n}\n.note-c806f .title-b6aed .label-d3eac {\n  font-size: 10px;\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.note-c806f .title-b6aed .tt-f56d8 {\n  height: 16px;\n  padding-left: 5px;\n}\n.note-c806f .title-b6aed .pin-dde10 {\n  height: 16px;\n  cursor: pointer;\n}\n.note-c806f .title-b6aed .pin-dde10 svg {\n  width: 12px;\n  height: 12px;\n}\n.note-c806f .title-b6aed .pin-dde10 svg path {\n  fill: #AAA;\n}\n.note-c806f .title-b6aed .handler-ff81d {\n  display: none;\n  position: absolute;\n}\n.note-c806f .title-b6aed .handler-ff81d:after {\n  cursor: move;\n  content: ' ';\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n  position: absolute;\n  left: -13px;\n  top: -1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n}\n.note-c806f .title-b6aed input {\n  background: #FFF;\n  border-radius: 3px;\n  padding: 1px 5px;\n  width: 100%;\n  outline: none !important;\n  border: 1px solid #AAA;\n}\n.note-c806f .items-b5ddb {\n  border: 1px solid transparent;\n  background: #FFF;\n  font-size: 12px;\n  padding: 5px 5px;\n  min-height: 50px;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px dashed #ccc;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b .author-f0f59 {\n  color: #AAA;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b .date-d090d {\n  color: #bbb;\n}\n.note-c806f .items-b5ddb .item-b169a .content-eda06 {\n  padding-top: 5px;\n}\n.note-c806f .items-b5ddb .editor-a34ba textarea {\n  background: #FFF;\n  width: 100%;\n  min-height: 50px;\n  resize: none;\n  border: 0px;\n}\n.note-c806f .items-b5ddb .editor-a34ba button {\n  padding: 5px 11px;\n  margin-right: 5px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.note-c806f .sper-d40d0 {\n  visibility: hidden;\n  cursor: nwse-resize;\n  position: absolute;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background: #FFF;\n  border-radius: 3px;\n  right: -3px;\n  bottom: -3px;\n  width: 9px;\n  height: 9px;\n}\n.notePinUp-fc438 {\n  animation: none !important;\n}\n.notePinUp-fc438 .tip-f4c4d {\n  display: none;\n}\n.notePinUp-fc438 .title-b6aed .handler-ff81d {\n  display: block;\n}\n.notePinUp-fc438 .pin-dde10 svg path {\n  fill: var(--mybricks-color-primary, #FA6400) !important;\n}\n.noteFocus-a3de4 {\n  border: none;\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  box-shadow: rgba(0, 0, 0, 0.3) 0 3px 10px;\n  border-radius: 4px;\n  z-index: 10000;\n  animation: popOut-c825a 0.1s ease forwards;\n  /* 应用弹出动画 */\n  transform-origin: center top;\n}\n.noteFocus-a3de4 .tip-f4c4d {\n  display: none;\n}\n.noteFocus-a3de4 .title-b6aed .handler-ff81d {\n  display: block;\n}\n.noteFocus-a3de4 .sper-d40d0 {\n  visibility: visible;\n}\n@keyframes popOut-c825a {\n  0% {\n    transform: translateX(-50%) scale(0.5);\n    /* 初始缩小 */\n    opacity: 0;\n    /* 初始不透明 */\n  }\n  100% {\n    transform: translateX(-50%) scale(1);\n    /* 最终正常尺寸 */\n    opacity: 1;\n    /* 最终完全可见 */\n  }\n}\n@keyframes popIn-dcff9 {\n  0% {\n    transform: translateX(-50%) scale(1);\n    /* 初始正常尺寸 */\n    opacity: 1;\n    /* 初始完全可见 */\n  }\n  100% {\n    transform: translateX(-50%) scale(0.5);\n    /* 最终缩小 */\n    opacity: 0;\n    /* 最终不透明 */\n  }\n}\n.conToRef-ce552 {\n  z-index: 1000;\n  position: absolute;\n  pointer-events: none;\n}\n.conToRef-ce552 circle {\n  fill: var(--mybricks-color-primary, #FA6400);\n  stroke: #FFF;\n  stroke-width: 1px;\n}\n.conToRef-ce552 polyline {\n  shape-rendering: crispEdges;\n  stroke: var(--mybricks-color-primary, #FA6400);\n  stroke-width: 1px;\n}\n",""]),s.locals={note:"note-c806f",tip:"tip-f4c4d",tipRef:"tipRef-f20ad",title:"title-b6aed",label:"label-d3eac",tt:"tt-f56d8",pin:"pin-dde10",handler:"handler-ff81d",items:"items-b5ddb",item:"item-b169a",toolbar:"toolbar-e315b",author:"author-f0f59",date:"date-d090d",content:"content-eda06",editor:"editor-a34ba",sper:"sper-d40d0",notePinUp:"notePinUp-fc438",noteFocus:"noteFocus-a3de4",popOut:"popOut-c825a",conToRef:"conToRef-ce552",popIn:"popIn-dcff9"};const a=s},74004:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".item-dce24 {\n  margin-bottom: 10px;\n}\n.item-dce24 .tt-d7a85 {\n  margin-bottom: 10px;\n}\n.item-dce24 textarea {\n  width: 100%;\n  min-height: 100px;\n  background: #FFF;\n  padding: 5px;\n  border: 1px solid #DDD;\n}\n.btn-edffe {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  border: none;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #f9f9f9;\n  box-shadow: 0 1px 4px -1px #777;\n  border: 1px solid #F55753;\n  color: #F55753;\n  box-shadow: none;\n}\n",""]),s.locals={item:"item-dce24",tt:"tt-d7a85",btn:"btn-edffe"};const a=s},36674:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".noteView-e005f {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 1000px;\n}\n",""]),s.locals={noteView:"noteView-e005f"};const a=s},64095:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".pluginView-bc1f7 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 10000;\n}\n",""]),s.locals={pluginView:"pluginView-bc1f7"};const a=s},70992:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.ruleH-a26ad {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 3000px;\n  height: 9px;\n  background: #EEE;\n  z-index: 10000;\n  border-bottom: 1px solid #CCC;\n}\n.ruleH-a26ad:hover div {\n  outline: 1px solid #EEE;\n}\n.ruleH-a26ad div {\n  position: absolute;\n  left: -1px;\n  height: 100%;\n}\n.ruleH-a26ad div label {\n  border-right: 1px solid #BBB;\n  height: 12px;\n  position: absolute;\n  right: 0;\n  padding-right: 2px;\n  top: 8px;\n  font-size: 9px;\n  color: #AAA;\n}\n.ruleH-a26ad div:hover {\n  background: #616C81;\n  z-index: 100;\n}\n.ruleH-a26ad div:hover label {\n  border-right: 1px solid #616C81;\n  font-weight: bold;\n  color: #616C81;\n}\n.ruleH-a26ad .now-e45d2 {\n  background: #FFF;\n  background-image: repeating-linear-gradient(90deg, transparent 0 0px, #DDD 0 2.5px, transparent 0 50px), repeating-linear-gradient(90deg, transparent 0 1px, #CCC 0 1.5px, transparent 0 100px);\n}\n.ruleH-a26ad ._414-da636 {\n  width: 414px;\n}\n.ruleH-a26ad ._768-c9047 {\n  width: 768px;\n}\n.ruleH-a26ad ._1024-a9777 {\n  width: 1024px;\n}\n.ruleH-a26ad ._1280-df685 {\n  width: 1280px;\n}\n.ruleH-a26ad ._1440-bbce8 {\n  width: 1440px;\n}\n.ruleH-a26ad ._full-f40e2 {\n  width: 100%;\n}\n.ruleV-fd26d {\n  height: 100%;\n  width: 8px;\n  z-index: 10000;\n  border-right: 1px solid #CCC;\n  /* position: relative; */\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: #EEE;\n}\n.ruleV-fd26d .now-e45d2 {\n  width: 100%;\n  transform-origin: 0 0;\n  background: #FFF;\n  background-image: repeating-linear-gradient(0deg, transparent 0 1.5px, #EEE 0 2.5px, transparent 0 50px), repeating-linear-gradient(0deg, transparent 0 1px, #DDD 0 3px, transparent 0 100px);\n}\n.ruleV-fd26d .now-e45d2 > label {\n  position: absolute;\n  left: 10px;\n  top: 8px;\n  width: 50px;\n  display: none;\n  font-size: 10px;\n  color: #333;\n}\n.ruleV-fd26d .now-e45d2:hover {\n  background: #616C81;\n  z-index: 100;\n}\n.ruleV-fd26d .now-e45d2:hover > label {\n  display: block;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5 {\n  position: absolute;\n  left: 9px;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5:after {\n  position: absolute;\n  content: '首屏';\n  color: #777;\n  font-size: 12px;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5 .line-ae4c0 {\n  width: 25px;\n  border-top: 1px dashed #777;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9 {\n  position: absolute;\n  bottom: -200px;\n  height: 200px;\n  width: 100%;\n  background: #EEE;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9 label {\n  display: none;\n  font-size: 10px;\n  color: #333;\n  position: absolute;\n  top: 5px;\n  left: 10px;\n  width: 100px;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9:hover {\n  background: #616C81;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9:hover label {\n  display: block;\n}\n.blueprintBG-b9a21 {\n  background-color: #fdf8e6 !important;\n}\n",""]),s.locals={ruleH:"ruleH-a26ad",now:"now-e45d2",_414:"_414-da636",_768:"_768-c9047",_1024:"_1024-a9777",_1280:"_1280-df685",_1440:"_1440-bbce8",_full:"_full-f40e2",ruleV:"ruleV-fd26d",firstScreen:"firstScreen-d45f5",line:"line-ae4c0",append:"append-d94e9",blueprintBG:"blueprintBG-b9a21"};const a=s},25207:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".scroll-c01db {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n}\n.scroll-c01db .dragging-c7f2b > div {\n  background-color: #777 !important;\n}\n.scroll-c01db .scrollX-a7517,\n.scroll-c01db .scrollY-f5da5 {\n  cursor: pointer;\n  pointer-events: auto;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.scroll-c01db .scrollX-a7517:hover > div,\n.scroll-c01db .scrollY-f5da5:hover > div {\n  background-color: #777;\n}\n.scroll-c01db .scrollX-a7517 > div,\n.scroll-c01db .scrollY-f5da5 > div {\n  background-color: #BBB;\n  border-radius: 5px;\n}\n.scroll-c01db .scrollX-a7517 {\n  width: 100px;\n  height: 17px;\n  left: 0;\n  bottom: 0;\n}\n.scroll-c01db .scrollX-a7517 > div {\n  height: 6px;\n  width: 100%;\n  margin-bottom: -7px;\n}\n.scroll-c01db .scrollY-f5da5 {\n  height: 100px;\n  width: 17px;\n  right: 0;\n  top: 0;\n}\n.scroll-c01db .scrollY-f5da5 > div {\n  width: 6px;\n  height: 100%;\n  margin-right: -7px;\n}\n",""]),s.locals={scroll:"scroll-c01db",dragging:"dragging-c7f2b",scrollX:"scrollX-a7517",scrollY:"scrollY-f5da5"};const a=s},55737:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.zone-ae948 {\n  pointer-events: none;\n  position: absolute;\n  border: 1px dashed var(--mybricks-color-primary, #FA6400);\n  background-color: rgba(245, 206, 206, 0.3);\n}\n",""]),s.locals={zone:"zone-ae948"};const a=s},97511:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".editor-a4713 {\n  position: absolute;\n  z-index: 10000;\n  background: #FFF;\n}\n",""]),s.locals={editor:"editor-a4713"};const a=s},36599:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.thumbs-aff9a {\n  position: absolute;\n  top: 100px;\n  z-index: 10000;\n  display: flex;\n  flex-direction: row;\n  pointer-events: none;\n}\n.thumbs-aff9a .thumb-bb3c5 {\n  width: 70px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background: #FFF;\n  margin: 5px;\n  padding: 5px;\n  line-height: 14px;\n  box-shadow: 0 1px 3px #aaa;\n}\n.thumbs-aff9a .cur-afdbf {\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n}\n.thumbs-aff9a .placeholder-dd4c6 {\n  position: absolute;\n  top: -5px;\n  width: 5px;\n  height: 120px;\n  background-color: var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={thumbs:"thumbs-aff9a",thumb:"thumb-bb3c5",cur:"cur-afdbf",placeholder:"placeholder-dd4c6"};const a=s},24573:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".buttonEvtNew-e26f3 {\n  cursor: pointer;\n  display: block;\n  width: 110px;\n  margin-left: 10px;\n  padding: 0 5px;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #fdf7e3;\n  box-shadow: 0 1px 3px 0px #bbb;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.buttonEvtGo-eca76 {\n  cursor: pointer;\n  display: block;\n  width: 110px;\n  margin-left: 10px;\n  padding: 0 5px;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #fdf7e3;\n  box-shadow: 0 1px 3px 0px #bbb;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  background-color: #eef7f3;\n}\n.edt-f8d24 .tt-d267b {\n  color: #777;\n  white-space: nowrap;\n  margin-bottom: 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.edt-f8d24 .tt-d267b span {\n  width: 22px;\n  height: 22px;\n  border-radius: 4px;\n  font-size: 22px;\n  font-weight: 200;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.edt-f8d24 .tt-d267b span:hover {\n  background: #EEE;\n}\n.edt-f8d24 .item-ffbcc {\n  display: flex;\n  flex-direction: row;\n  margin: 5px 0;\n}\n.edt-f8d24 .item-ffbcc input {\n  flex: 1;\n  margin-right: 10px;\n  background: #FFF;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  height: 24px;\n  padding: 0 5px;\n  overflow: hidden;\n}\n.edt-f8d24 .item-ffbcc .disabled-d6157 {\n  opacity: 0.6;\n}\n",""]),s.locals={buttonEvtNew:"buttonEvtNew-e26f3",buttonEvtGo:"buttonEvtGo-eca76",edt:"edt-f8d24",tt:"tt-d267b",item:"item-ffbcc",disabled:"disabled-d6157"};const a=s},35997:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.edt-ec602 {\n  position: relative;\n}\n.item-e282f {\n  display: flex;\n  flex-direction: row;\n  height: 30px;\n  align-items: center;\n  padding-left: 2px;\n}\n.item-e282f .tt-e94b3 {\n  font-size: 12px;\n  margin-right: 5px;\n  color: #888;\n}\n.item-e282f input {\n  width: 110px;\n  padding: 0 5PX;\n  background-color: #FFF;\n  border: 1px solid #DDD;\n  height: 21px;\n  border-radius: 6px;\n}\n.item-e282f input:disabled {\n  background-color: #EEE;\n}\n.item-e282f .icons-dca2b {\n  margin-left: 2px;\n  display: flex;\n}\n.item-e282f .icons-dca2b span {\n  width: 24px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 3px;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.item-e282f .icons-dca2b span:hover {\n  background-color: #DDD;\n}\n.item-e282f .icons-dca2b span svg {\n  max-width: 14px;\n}\n.item-e282f .icons-dca2b .active-c9dbf {\n  background-color: var(--mybricks-color-primary, #FA6400) !important;\n}\n.item-e282f .icons-dca2b .active-c9dbf svg path {\n  fill: #FFF;\n}\n.item-e282f .icons-dca2b .disabled-df495 {\n  cursor: default !important;\n  background-color: #DDD;\n}\n.item-e282f .icons-dca2b .disabled-df495 svg path {\n  fill: #FFF;\n}\n",""]),s.locals={edt:"edt-ec602",item:"item-e282f",tt:"tt-e94b3",icons:"icons-dca2b",active:"active-c9dbf",disabled:"disabled-df495"};const a=s},20176:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.empty-a5eab {\n  padding: 10px;\n  color: #999;\n  font-style: italic;\n}\n.info-ba534 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: -5px 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.info-ba534 .tt-fcd60 {\n  color: #b45708;\n  font-weight: bold;\n  padding: 3px 0 3px 0;\n}\n.info-ba534 p {\n  text-align: left;\n  max-height: 70px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #555;\n}\n.info-ba534 p label {\n  color: #AAA;\n  font-style: italic;\n}\n.info-ba534 button {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n  margin-top: 10px;\n}\n",""]),s.locals={empty:"empty-a5eab",info:"info-ba534",tt:"tt-fcd60"};const a=s},52980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.devices-dc4a1 {\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border-radius: 3px;\n  overflow: hidden;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  background: #FFF;\n}\n.devices-dc4a1 .tab-fe42e {\n  width: 32px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  position: relative;\n}\n.devices-dc4a1 .tab-fe42e svg path {\n  fill: #777;\n}\n.devices-dc4a1 .active-dbad2 {\n  background: #616C81 !important;\n  font-weight: bold;\n}\n.devices-dc4a1 .active-dbad2 svg path {\n  fill: #fff;\n}\n.devices-dc4a1 svg {\n  max-width: 14px;\n}\n.anchor-ef18c {\n  position: absolute;\n  top: -6px;\n  left: -8px;\n  z-index: 10000;\n  width: 29px;\n  height: 23px;\n  cursor: pointer;\n  padding: 6px 0 0 11px !important;\n  background: #EEE;\n  border-radius: 21px;\n  box-shadow: 1px 2px 1px 0 rgba(39, 54, 78, 0.08);\n}\n.anchor-ef18c:hover svg path {\n  fill: #333;\n}\n.anchor-ef18c svg {\n  position: absolute;\n  max-width: 12px;\n}\n.anchor-ef18c svg path {\n  fill: #aaa;\n  stroke: #FFF !important;\n}\n.btnGroup-eac4a {\n  width: 36px;\n  background: #FFF;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  z-index: 10000;\n  margin-bottom: 10px;\n}\n.btnGroup-eac4a button {\n  padding: 0;\n  cursor: pointer;\n  font-size: 14px;\n  overflow: hidden;\n}\n.role-e1cc6 {\n  width: 36px;\n  height: 16px;\n  top: 12px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  cursor: pointer;\n  background: #FFF;\n  border-radius: 6px;\n}\n.role-e1cc6 span {\n  width: 100%;\n  height: 16px;\n  color: #FFF;\n  text-align: center;\n  line-height: 14px;\n  font-size: 10px;\n  font-weight: 500;\n  font-family: ui-monospace;\n  background: #FFF;\n  border-radius: 4px;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.roleDisabled-adc3f {\n  pointer-events: none;\n}\n.roleDisabled-adc3f > * {\n  opacity: 0.5;\n}\n.role-dev-switch-cbd62 span {\n  background: #FFF;\n  color: #777;\n}\n.role-proto-switch-c5793 span {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.role-dev-b9fc9 {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.role-dev-b9fc9 svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.role-proto-c736b {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.role-proto-c736b svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.viewMode-cc1e7 {\n  cursor: pointer;\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  z-index: 10000;\n  width: 32px;\n  height: 26px;\n  display: flex;\n  align-items: center;\n}\n.viewMode-cc1e7 > div {\n  z-index: -1;\n  left: 0;\n  top: 8px;\n  position: absolute;\n  height: 10px;\n  width: 30px;\n  border-radius: 12px;\n  background: #AAA;\n}\n.viewMode-cc1e7 span {\n  min-width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 16px;\n  background: #FFF;\n  font-size: 9px;\n  font-weight: bold;\n  color: #999;\n  letter-spacing: -1px;\n  padding-right: 1px;\n  border: 1px solid #AAA;\n}\n.viewMode-cc1e7 svg {\n  max-width: 9px;\n}\n.viewMode-cc1e7 svg path {\n  fill: #BBB;\n}\n.viewTypeModule-ca4d1 {\n  justify-content: flex-end;\n}\n.viewTypeModule-ca4d1 > div {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.viewTypeModule-ca4d1 span {\n  background: #FFF;\n  color: var(--mybricks-color-primary, #FA6400);\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.viewTypeModule-ca4d1 span svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.toolbar-e48bd {\n  position: absolute;\n  z-index: 1;\n  top: 12px;\n  right: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.toolbar-e48bd .icon-df77c {\n  cursor: pointer;\n  position: relative;\n  height: 32px;\n}\n.toolbar-e48bd .icon-df77c span {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-e48bd .icon-df77c svg {\n  max-width: 18px;\n}\n.toolbar-e48bd .icon-df77c svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n  stroke: #FFF !important;\n}\n.toolbar-e48bd .debug-da1cd {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  position: relative;\n  border-radius: 6px;\n}\n.toolbar-e48bd .debug-da1cd svg path {\n  fill: #FFF !important;\n}\n.toolbar-e48bd .debug-da1cd span:first-child {\n  top: 12px;\n  left: 14px;\n  width: 8px;\n  height: 9px;\n  overflow: hidden;\n}\n.toolbar-e48bd .debug-da1cd span:first-child svg {\n  max-width: 20px;\n  position: absolute;\n  left: -6px;\n  top: -12px;\n}\n.toolbar-e48bd .debug-da1cd span:last-child {\n  animation: rot-cbc22 2s linear infinite;\n}\n.toolbar-e48bd .debug-da1cd span:last-child svg {\n  max-width: 22px;\n}\n.toolbar-e48bd .role-dev-debug-eeaef {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.toolbar-e48bd .tab-fe42e {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-e48bd .tab-fe42e span {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-e48bd .tab-fe42e svg {\n  max-width: 18px;\n}\n.toolbar-e48bd .tab-fe42e svg path {\n  fill: #777;\n}\n.toolbar-e48bd .comment-fb380 {\n  height: 32px;\n}\n.toolbar-e48bd .comment-fb380 svg {\n  max-width: 16px;\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d button:first-child {\n  padding-top: 3px;\n  height: 20px;\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d button:first-child svg {\n  transform: rotate(180deg);\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d button {\n  height: 23px;\n  color: #AAA;\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d button svg {\n  max-width: 15px;\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d button svg path {\n  fill: #777;\n}\n.toolbar-e48bd .normalbar-e4959 .zoom-a2d3d .zoomInfo-aa709 {\n  font-size: 9px;\n  text-align: center;\n  border-top: 1px solid #EEE;\n  border-bottom: 1px solid #EEE;\n  padding: 5px 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  white-space: nowrap;\n}\n@keyframes rot-cbc22 {\n  0% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(90deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  75% {\n    transform: rotate(270deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),s.locals={devices:"devices-dc4a1",tab:"tab-fe42e",active:"active-dbad2",anchor:"anchor-ef18c",btnGroup:"btnGroup-eac4a",role:"role-e1cc6",roleDisabled:"roleDisabled-adc3f","role-dev-switch":"role-dev-switch-cbd62","role-proto-switch":"role-proto-switch-c5793","role-dev":"role-dev-b9fc9","role-proto":"role-proto-c736b",viewMode:"viewMode-cc1e7",viewTypeModule:"viewTypeModule-ca4d1",toolbar:"toolbar-e48bd",icon:"icon-df77c",debug:"debug-da1cd",rot:"rot-cbc22","role-dev-debug":"role-dev-debug-eeaef",comment:"comment-fb380",normalbar:"normalbar-e4959",zoom:"zoom-a2d3d",zoomInfo:"zoomInfo-aa709"};const a=s},88109:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.popMenu-f642e {\n  width: 180px;\n  background: #FFF;\n  box-shadow: 1px 4px 14px -2px #999;\n}\n.popMenu-f642e > div {\n  height: 36px;\n  line-height: 36px;\n  padding: 0 15px;\n  cursor: pointer;\n}\n.popMenu-f642e > div:hover {\n  background: #EEE;\n}\n.popMenu-f642e .sper-a5165 {\n  border-bottom: 1px solid #EEE;\n  height: 1px;\n}\n.button-f4cc0 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 32px;\n  background: #FFF;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  flex-direction: column;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  z-index: 10000;\n  margin-bottom: 10px;\n  font-size: 14px;\n}\n.button-f4cc0 svg {\n  pointer-events: none;\n  max-width: 18px;\n  max-height: 18px;\n}\n.button-f4cc0 svg path {\n  fill: #777 !important;\n}\n.button-f4cc0 span {\n  position: absolute;\n  background: var(--mybricks-color-primary, #FA6400);\n  left: 27px;\n  top: -4px;\n  color: #FFF;\n  font-weight: bold;\n  padding: 0 3px;\n  min-width: 15px;\n  height: 16px;\n  border-radius: 16px;\n  border: 1px solid #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n}\n.btnNoBroder-f8902 {\n  border: none !important;\n  box-shadow: none !important;\n  margin-bottom: 0;\n  user-select: none;\n}\n.btnNoBroder-f8902 svg path {\n  fill: #666 !important;\n}\n.btnNoBroder-f8902 img {\n  max-width: 18px;\n  pointer-events: none;\n  opacity: 0.65;\n  user-select: none;\n}\n.btnNoBroder-f8902:first-of-type:not(:last-of-type) {\n  border-radius: 6px 6px 0 0;\n}\n.leftBtns-f2be8 {\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  z-index: 1;\n}\n.btnDisabled-e4169 {\n  pointer-events: none;\n}\n.btnDisabled-e4169 span {\n  background: #EEE;\n  color: #999;\n}\n.btnDisabled-e4169 svg {\n  opacity: 0.3;\n}\n.btnDisabled-e4169 img {\n  opacity: 0.2;\n}\n.btnActive-d4fa7 {\n  background: var(--mybricks-color-primary, #FA6400) !important;\n  font-weight: bold;\n  color: #FFF;\n}\n.btnActive-d4fa7 svg path {\n  fill: #fff !important;\n}\n.anchorForMPA-a6d46 {\n  height: 26px;\n}\n.anchorForMPA-a6d46 svg {\n  max-width: 14px;\n}\n.addModule-bb256 {\n  height: 26px !important;\n}\n.pageAdder-df039 svg {\n  max-width: 13px;\n}\n.hidden-a9b68 {\n  display: none;\n}\n",""]),s.locals={popMenu:"popMenu-f642e",sper:"sper-a5165",button:"button-f4cc0",btnNoBroder:"btnNoBroder-f8902",leftBtns:"leftBtns-f2be8",btnDisabled:"btnDisabled-e4169",btnActive:"btnActive-d4fa7",anchorForMPA:"anchorForMPA-a6d46",addModule:"addModule-bb256",pageAdder:"pageAdder-df039",hidden:"hidden-a9b68"};const a=s},77759:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.navBar-cf2c7 {\n  margin: 0;\n  position: absolute;\n  top: 14px;\n  left: 73px;\n  margin-right: 60px;\n  pointer-events: none;\n  z-index: 1;\n}\n.navBar-cf2c7 .rootItem-ad685 {\n  pointer-events: auto;\n  display: inline-flex;\n  position: relative;\n  height: 26px;\n  width: 30px;\n  margin-top: -1px;\n  margin-left: -9px;\n  margin-right: 5px;\n  border-right: 1px solid #CCC;\n  /* align-items: center; */\n  justify-content: center;\n  /* text-align: center; */\n  background: #FFF;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  border-top: 1px solid #CCC;\n  border-bottom: 1px solid #CCC;\n  /* margin-left: -9px; */\n  cursor: pointer;\n  color: #555;\n  font-weight: bold;\n  white-space: nowrap;\n  z-index: 1;\n}\n.navBar-cf2c7 li {\n  pointer-events: auto;\n  display: inline-flex;\n  position: relative;\n  height: 26px;\n  margin-left: -10px;\n  margin-top: -1px;\n  cursor: pointer;\n  color: #555;\n  white-space: nowrap;\n}\n.navBar-cf2c7 li label {\n  display: inline-flex;\n  align-items: center;\n  border-top: 1px solid #CCC;\n  border-bottom: 1px solid #CCC;\n  margin: 0 9px 0 0;\n  padding: 0 9px 0 14px;\n  background: #FFF;\n  line-height: 100%;\n}\n.navBar-cf2c7 li .outline-f4478 {\n  visibility: hidden;\n  background: transparent;\n  position: absolute;\n  width: 15px;\n  height: 26px;\n  top: 1px;\n  right: 1px;\n  border-left: 1px solid #DDD;\n  z-index: 1;\n}\n.navBar-cf2c7 li span {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n}\n.navBar-cf2c7 li span i {\n  visibility: hidden;\n  width: 11px;\n  height: 26px;\n  background: #616C81 !important;\n  display: inline-flex;\n  border-left: 1px solid #BBB;\n}\n.navBar-cf2c7 li span svg path {\n  pointer-events: fill;\n  fill: #FFF;\n  stroke: #CCC;\n  stroke-width: 1px;\n}\n.navBar-cf2c7 li:hover[data-handlable] {\n  background: #616C81;\n}\n.navBar-cf2c7 li:hover[data-handlable] > label {\n  background: #616C81 !important;\n  color: #FFF;\n  border-top: none;\n  border-bottom: none;\n}\n.navBar-cf2c7 li:hover[data-handlable] span {\n  right: -8px !important;\n}\n.navBar-cf2c7 li:hover[data-handlable] span i {\n  visibility: visible;\n}\n.navBar-cf2c7 li:hover[data-handlable] span svg path {\n  fill: #616C81 !important;\n}\n.navBar-cf2c7 li:hover[data-handlable] .outline-f4478 {\n  visibility: visible;\n}\n.navBar-cf2c7 li:first-child {\n  color: #555 !important;\n  font-weight: normal !important;\n  background: transparent !important;\n}\n.navBar-cf2c7 li:first-child label {\n  padding-left: 12px;\n  background-color: #FFF !important;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  border-left: 1px solid #CCC;\n}\n.navBar-cf2c7 li:first-child svg path {\n  stroke: #CCC !important;\n  stroke-width: 1px !important;\n  fill: #FFF !important;\n}\n.navBar-cf2c7 li:first-child:last-child {\n  color: #FFF !important;\n  font-weight: bold !important;\n}\n.navBar-cf2c7 li:first-child:last-child label {\n  padding-left: 12px;\n  padding-right: 12px;\n  border: none !important;\n  background-color: var(--mybricks-color-primary, #FA6400) !important;\n}\n.navBar-cf2c7 li:first-child:last-child .outline-f4478 {\n  right: 3px;\n}\n.navBar-cf2c7 li:first-child:last-child:hover span {\n  right: -12px !important;\n}\n.navBar-cf2c7 li:first-child:last-child:hover span i {\n  background: var(--mybricks-color-primary, #FA6400) !important;\n}\n.navBar-cf2c7 li:first-child:last-child:hover span svg path {\n  fill: var(--mybricks-color-primary, #FA6400) !important;\n}\n.navBar-cf2c7 li:first-child:last-child span {\n  right: 0 !important;\n}\n.navBar-cf2c7 li:first-child:last-child span svg path {\n  stroke-width: 0;\n  fill: var(--mybricks-color-primary, #FA6400) !important;\n}\n.navBar-cf2c7 li:nth-last-child(1) {\n  color: #FFF;\n  font-weight: bold;\n  background-color: var(--mybricks-color-primary, #FA6400);\n}\n.navBar-cf2c7 li:nth-last-child(1) label {\n  padding: 0 3px 0 15px;\n  border: none !important;\n  background-color: var(--mybricks-color-primary, #FA6400);\n}\n.navBar-cf2c7 li:nth-last-child(1) .outline-f4478 {\n  right: -7px;\n}\n.navBar-cf2c7 li:nth-last-child(1):hover[data-handlable]:not(:first-child) span {\n  right: -15px !important;\n}\n.navBar-cf2c7 li:nth-last-child(1):hover[data-handlable]:not(:first-child) label {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.navBar-cf2c7 li:nth-last-child(1):hover[data-handlable]:not(:first-child) svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.navBar-cf2c7 li:nth-last-child(1) span {\n  right: -10px;\n}\n.navBar-cf2c7 li:nth-last-child(1) span svg path {\n  stroke-width: 0;\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.navBar-cf2c7 li:nth-last-child(1).opened-da55a {\n  background: #02def3 !important;\n}\n.navBar-cf2c7 li:nth-last-child(1).opened-da55a span {\n  right: -10px;\n}\n.navBar-cf2c7 li:nth-last-child(1).opened-da55a span svg path {\n  stroke-width: 0;\n  fill: #02def3 !important;\n}\n.navBar-cf2c7 .hovered-cdab9 {\n  background: #616C81;\n}\n.navBar-cf2c7 .hovered-cdab9 > label {\n  background: #616C81 !important;\n  color: #FFF;\n}\n.navBar-cf2c7 .hovered-cdab9 svg path {\n  fill: #616C81 !important;\n}\n.navBar-cf2c7 .hovered-cdab9:first-child {\n  color: #555 !important;\n}\n.navBar-cf2c7 .hovered-cdab9:first-child > label {\n  background: #616C81 !important;\n  color: #FFF;\n}\n.navBar-cf2c7 .hovered-cdab9:first-child svg path {\n  fill: #616C81 !important;\n}\n.navBar-cf2c7 .hovered-cdab9:nth-last-child(1) {\n  background: #616C81 !important;\n}\n.navBar-cf2c7 .hovered-cdab9:nth-last-child(1):first-child {\n  background: transparent !important;\n}\n.goHome-e40f7 {\n  pointer-events: auto;\n  width: 35px;\n  display: inline-flex;\n  position: relative;\n  height: 26px;\n  margin-top: -11px;\n}\n.goHome-e40f7 > div {\n  cursor: pointer;\n  height: 24px;\n  width: 26px;\n  background: #FFF;\n  position: absolute;\n  left: 0;\n  top: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.goHome-e40f7 span svg {\n  max-width: 14px;\n}\n.goHome-e40f7 span svg path {\n  fill: #777;\n}\n.opened-da55a label {\n  background-color: #02def3 !important;\n  color: #FFF;\n  font-weight: bold;\n}\n.opened-da55a svg path {\n  fill: #02def3 !important;\n}\n.zone-ad510 {\n  background-color: #f3b413 !important;\n}\n.zone-ad510 label {\n  background-color: #f3b413 !important;\n}\n.zone-ad510 svg path {\n  fill: #f3b413 !important;\n}\n.zone-ad510:hover {\n  background: #616C81 !important;\n}\n.zone-ad510:hover label {\n  background: #f3b413 !important;\n}\n.zone-ad510:hover svg path {\n  fill: #f3b413 !important;\n}\n.cur-cd52a {\n  color: #FFF;\n  font-weight: bold;\n  background-color: #5b6b73;\n}\n.cur-cd52a span {\n  right: -10px;\n}\n.cur-cd52a span svg path {\n  stroke-width: 0;\n  fill: #5b6b73;\n}\n",""]),s.locals={navBar:"navBar-cf2c7",rootItem:"rootItem-ad685",outline:"outline-f4478",opened:"opened-da55a",hovered:"hovered-cdab9",goHome:"goHome-e40f7",zone:"zone-ad510",cur:"cur-cd52a"};const a=s},36357:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.pageNavForTemp-ad588 {\n  width: fit-content !important;\n  max-width: 330px;\n  padding-right: 15px;\n  max-height: calc(100% - 50px);\n  background: #FFF !important;\n  box-shadow: 1px 3px 5px -2px #999 !important;\n  border: 1px solid #CCC;\n  border-radius: 5px;\n  position: absolute;\n  left: 20px;\n  top: 45px;\n  z-index: 10000;\n  bottom: auto !important;\n  padding-bottom: 12px;\n  overflow: auto;\n}\n.pageNavForTemp-ad588 .outline-db0e7 {\n  background: #FFF;\n  width: fit-content;\n  overflow: visible !important;\n  padding: 3px 0 0 5px !important;\n}\n.pageNav-c86c8 {\n  width: 330px;\n  background: #F7F7F7;\n  box-shadow: 1px 4px 14px -2px #999;\n  border: 1px solid #CCC;\n  position: absolute;\n  left: 20px;\n  top: 45px;\n  z-index: 10000;\n  bottom: 5px;\n  display: flex;\n  flex-direction: column;\n}\n.pageNav-c86c8 .titleBar-d3841 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  padding: 0 7px 0 15px;\n}\n.pageNav-c86c8 .titleBar-d3841 span {\n  color: #999;\n  font-weight: bold;\n  line-height: 12px;\n}\n.pageNav-c86c8 .titleBar-d3841 span input {\n  width: 267px;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  padding: 2px 5px;\n  color: #333;\n  background-color: #FFF;\n}\n.pageNav-c86c8 .titleBar-d3841 .btns-c110e {\n  color: #333;\n  font-size: 20px;\n  font-weight: 200;\n  margin-top: -3px;\n  margin-left: 5px;\n}\n.pageNav-c86c8 .titleBar-d3841 .btns-c110e button {\n  width: 30px;\n  cursor: pointer;\n  font-size: 22px;\n  line-height: 22px;\n}\n.pageNav-c86c8 .titleBar-d3841 .btns-c110e button:hover {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.pageNav-c86c8 .titleBar-d3841 .btnsActive-c804d {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.pageNav-c86c8 .coms-e31d5 {\n  padding: 5px 5px 5px 5px;\n  border-bottom: 1px solid #EEE;\n}\n.pageNav-c86c8 .pages-f921f {\n  overflow-y: auto;\n  max-height: 300px;\n  border-bottom: 1px solid #EEE;\n  padding: 0 0 10px 0;\n  margin-top: -10px;\n}\n.pageNav-c86c8 .page-a96e4 {\n  height: 30px;\n  padding: 0 20px 0 5px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 3px;\n  margin: 2px 0;\n  cursor: pointer;\n  overflow: hidden;\n}\n.pageNav-c86c8 .page-a96e4:hover {\n  background: #DDD;\n}\n.pageNav-c86c8 .page-a96e4:hover .handlers-d900d .closePage-f25a6 {\n  opacity: 1;\n}\n.pageNav-c86c8 .page-a96e4 .checked-c5255 {\n  margin-left: 7px;\n  width: 17px;\n}\n.pageNav-c86c8 .page-a96e4 .checked-c5255 svg {\n  max-width: 12px;\n}\n.pageNav-c86c8 .page-a96e4 .icon-b6a1f {\n  height: 16px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 5px;\n}\n.pageNav-c86c8 .page-a96e4 .icon-b6a1f svg {\n  max-width: 12px;\n}\n.pageNav-c86c8 .page-a96e4 .title-f6bb5 {\n  flex: 1;\n}\n.pageNav-c86c8 .page-a96e4 .handlers-d900d {\n  display: flex;\n}\n.pageNav-c86c8 .page-a96e4 .handlers-d900d span {\n  height: 16px;\n}\n.pageNav-c86c8 .page-a96e4 .handlers-d900d span svg {\n  max-width: 14px;\n  max-height: 14px;\n}\n.pageNav-c86c8 .page-a96e4 .handlers-d900d span svg path {\n  fill: #777;\n}\n.pageNav-c86c8 .page-a96e4 .handlers-d900d .closePage-f25a6 {\n  opacity: 0;\n}\n.pageNav-c86c8 .com-c13f2 {\n  width: 75px;\n  height: 70px;\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  margin: 2px;\n}\n.pageNav-c86c8 .com-c13f2:hover {\n  background: #EEE;\n}\n.pageNav-c86c8 .com-c13f2 .icon-b6a1f {\n  height: 38px;\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageNav-c86c8 .com-c13f2 .title-f6bb5 {\n  padding: 0 3px;\n  line-height: 13px;\n  pointer-events: none;\n  text-align: center;\n  overflow: hidden;\n  height: 26px;\n}\n.pageNav-c86c8 .inVisible-fef32 {\n  opacity: 0.5;\n}\n.pageNav-c86c8 .focused-ec7c0 {\n  background: #DDD;\n}\n.pageNav-c86c8 .curTitle-a3075 {\n  color: #AAA;\n  padding: 5px 0 0 20px;\n  font-style: italic;\n}\n.pageNav-c86c8 .outline-db0e7 {\n  flex: 1;\n  padding: 7px 0 0 12px;\n  overflow: hidden;\n}\n.pageNav-c86c8 .sper-fc91d {\n  border-bottom: 1px solid #EEE;\n  height: 1px;\n}\n.hidden-f5829 {\n  display: none;\n}\n",""]),s.locals={pageNavForTemp:"pageNavForTemp-ad588",outline:"outline-db0e7",pageNav:"pageNav-c86c8",titleBar:"titleBar-d3841",btns:"btns-c110e",btnsActive:"btnsActive-c804d",coms:"coms-e31d5",pages:"pages-f921f",page:"page-a96e4",handlers:"handlers-d900d",closePage:"closePage-f25a6",checked:"checked-c5255",icon:"icon-b6a1f",title:"title-f6bb5",com:"com-c13f2",inVisible:"inVisible-fef32",focused:"focused-ec7c0",curTitle:"curTitle-a3075",sper:"sper-fc91d",hidden:"hidden-f5829"};const a=s},7989:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".view-c6535 {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.view-c6535 .toolbar-b9306 {\n  height: 45px;\n  border-bottom: 1px solid #EEE;\n}\n.view-c6535 .content-a4937 {\n  flex: 1;\n  padding: 10px;\n  overflow-y: auto;\n}\n.view-c6535 .content-a4937 .catelog-ba0c4 {\n  padding: 5px;\n}\n.view-c6535 .content-a4937 .empty-cf0f9 {\n  padding: 2px 10px;\n  font-style: italic;\n  color: #AAA;\n  text-align: center;\n}\n.view-c6535 .content-a4937 .var-d3e44 {\n  font-size: 12px;\n  margin: 5px 0 5px 20px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n.view-c6535 .content-a4937 .var-d3e44:hover .name-ac406 {\n  background-color: #aa97e0;\n  color: #FFF;\n}\n.view-c6535 .content-a4937 .var-d3e44 label {\n  color: #AAA;\n  margin-right: 5px;\n}\n.view-c6535 .content-a4937 .var-d3e44 .name-ac406 {\n  position: relative;\n  color: #645493;\n  width: fit-content;\n  line-height: 14px;\n  min-width: 120px;\n  max-width: 100%;\n  border-radius: 5px;\n  padding: 5px 10px 5px 10px;\n  background-color: #ede9f9;\n  white-space: nowrap;\n}\n.view-c6535 .content-a4937 .var-d3e44 .icon-f4f31 {\n  margin-left: auto;\n}\n.view-c6535 .content-a4937 .var-d3e44 .icon-f4f31 svg {\n  max-width: 14px;\n}\n.view-c6535 .content-a4937 .curVar-f252a .name-ac406:after {\n  color: #d9990f;\n  content: '（已选择）';\n  position: absolute;\n  left: 100%;\n  top: 2px;\n}\n",""]),s.locals={view:"view-c6535",toolbar:"toolbar-b9306",content:"content-a4937",catelog:"catelog-ba0c4",empty:"empty-cf0f9",var:"var-d3e44",name:"name-ac406",icon:"icon-f4f31",curVar:"curVar-f252a"};const a=s},3176:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comInfo-a1c73 {\n  margin-bottom: -5px;\n  margin-top: -5px;\n  user-select: text;\n}\n.comInfo-a1c73 .items-d8d1d:first-child {\n  padding-bottom: 5px;\n}\n.comInfo-a1c73 .info-d9784 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.comInfo-a1c73 .info-d9784 .version-fa665 {\n  flex: 1;\n  margin-left: 5px;\n  color: #999;\n  font-style: italic;\n}\n.comInfo-a1c73 .info-d9784 .docs-e5936 {\n  display: flex;\n  color: #777;\n  cursor: pointer;\n}\n.comInfo-a1c73 .info-d9784 .docs-e5936 svg {\n  max-width: 12px;\n  margin-right: 2px;\n}\n.comInfo-a1c73 .desc-f0d3e {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #CCC;\n  font-style: italic;\n}\n.comInfo-a1c73 .desc-f0d3e .id-e9d6d {\n  user-select: text;\n}\n.comInfo-a1c73 .upgrade-f1eb2 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: 5px 0 0 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.comInfo-a1c73 .upgrade-f1eb2 > div {\n  display: flex;\n  align-items: center;\n}\n.comInfo-a1c73 .upgrade-f1eb2 svg {\n  margin-right: 5px;\n}\n.comInfo-a1c73 .upgrade-f1eb2 span {\n  color: #b45708;\n  font-weight: bold;\n}\n.comInfo-a1c73 .upgrade-f1eb2 button {\n  cursor: pointer;\n  padding: 2px 8px;\n  border-radius: 3px;\n  margin: 7px 10px 0 0;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n}\n",""]),s.locals={comInfo:"comInfo-a1c73",items:"items-d8d1d",info:"info-d9784",version:"version-fa665",docs:"docs-e5936",desc:"desc-f0d3e",id:"id-e9d6d",upgrade:"upgrade-f1eb2"};const a=s},16770:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.disable-e1fc3 {\n  pointer-events: none !important;\n}\n.disable-e1fc3:after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #FAFAFA;\n  opacity: 0.6;\n  height: 100%;\n}\n.edt-efbc1 {\n  position: relative;\n  margin-top: 10px;\n}\n.edt-efbc1 select,\n.edt-efbc1 input[type=text] {\n  height: 22px;\n  border: 1px solid #D9D9D9;\n  border-radius: 6px;\n  padding: 0 6px;\n  background: #FFF;\n}\n.edt-efbc1 .tt-c1495 {\n  font-size: 12px;\n  color: #777;\n}\n.edt-efbc1 .content-df9fa {\n  padding-top: 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.edt-efbc1 .content-df9fa .po-e2700 {\n  width: 40px;\n}\n.edt-efbc1 .content-df9fa .po-e2700 label {\n  padding-left: 5px;\n  color: #AAA;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675,\n.edt-efbc1 .content-df9fa .options-a03c4 .yToolbar-b6ebb {\n  position: absolute;\n  background: #FFF;\n  top: -21px;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  display: flex;\n  z-index: 100;\n  /* height: 25px; */\n  padding: 1px 3px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675 > span,\n.edt-efbc1 .content-df9fa .options-a03c4 .yToolbar-b6ebb > span {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 2px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675 > span:hover,\n.edt-efbc1 .content-df9fa .options-a03c4 .yToolbar-b6ebb > span:hover {\n  background: #EEE;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675 > span svg,\n.edt-efbc1 .content-df9fa .options-a03c4 .yToolbar-b6ebb > span svg {\n  max-width: 12px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675 > span svg path,\n.edt-efbc1 .content-df9fa .options-a03c4 .yToolbar-b6ebb > span svg path {\n  fill: #333;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .xToolbar-a3675 {\n  left: -27px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 label {\n  margin: 0 3px 0 5px;\n  color: #777;\n  width: 16px;\n  text-align: center;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 input {\n  width: 50px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .handler-b02b7 {\n  cursor: pointer;\n  color: #333 !important;\n  position: relative;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .handler-b02b7 > svg {\n  max-width: 10px;\n  max-height: 10px;\n  position: absolute;\n  top: -10px;\n  left: 2px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .attention-caa85 {\n  color: #cc9e02 !important;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .attention-caa85 > svg path {\n  fill: #cc9e02 !important;\n}\n.edt-efbc1 .aligns-f5de9 {\n  padding: 8px 0px 0px 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.edt-efbc1 .aligns-f5de9 span {\n  cursor: pointer;\n  margin: 0 12px;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 0 3px;\n}\n.edt-efbc1 .aligns-f5de9 span svg {\n  opacity: 0.5;\n}\n.edt-efbc1 .aligns-f5de9 span:hover {\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n',""]),s.locals={disable:"disable-e1fc3",edt:"edt-efbc1",tt:"tt-c1495",content:"content-df9fa",po:"po-e2700",options:"options-a03c4",xToolbar:"xToolbar-a3675",yToolbar:"yToolbar-b6ebb",handler:"handler-b02b7",attention:"attention-caa85",aligns:"aligns-f5de9"};const a=s},45708:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.disable-d271c {\n  pointer-events: none !important;\n}\n.disable-d271c:after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #FAFAFA;\n  opacity: 0.6;\n  height: 100%;\n}\n.edt-f7a39 {\n  position: relative;\n}\n.item-fe00e {\n  display: flex;\n  flex-direction: row;\n  height: 28px;\n  align-items: center;\n  padding-left: 2px;\n}\n.item-fe00e .tt-e29f8 {\n  font-size: 12px;\n  margin-right: 5px;\n  color: #888;\n}\n.item-fe00e input {\n  width: 110px;\n  padding: 0 5PX;\n  background-color: #FFF;\n  border: 1px solid #DDD;\n  height: 21px;\n  border-radius: 6px;\n}\n.item-fe00e input:disabled {\n  background-color: #EEE;\n}\n.item-fe00e .icons-b9f37 {\n  margin-left: 2px;\n  display: flex;\n}\n.item-fe00e .icons-b9f37 span {\n  width: 24px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 3px;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.item-fe00e .icons-b9f37 span:hover {\n  background-color: #DDD;\n}\n.item-fe00e .icons-b9f37 span svg {\n  max-width: 14px;\n}\n.item-fe00e .icons-b9f37 .active-fb3f5 {\n  background-color: var(--mybricks-color-primary, #FA6400) !important;\n}\n.item-fe00e .icons-b9f37 .active-fb3f5 svg path {\n  fill: #FFF;\n}\n.item-fe00e .icons-b9f37 .disabled-cc304 {\n  cursor: default !important;\n  background-color: #DDD;\n}\n.item-fe00e .icons-b9f37 .disabled-cc304 svg path {\n  fill: #FFF;\n}\n',""]),s.locals={disable:"disable-d271c",edt:"edt-f7a39",item:"item-fe00e",tt:"tt-e29f8",icons:"icons-b9f37",active:"active-fb3f5",disabled:"disabled-cc304"};const a=s},60986:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.shell-dbdd5 {\n  position: absolute;\n  z-index: 10000;\n  pointer-events: none;\n}\n.opened-f7cc2 {\n  border-color: #03c2d4 !important;\n}\n.opened-f7cc2:after,\n.opened-f7cc2:before {\n  border-color: #03c2d4 !important;\n}\n.opened-f7cc2 svg path {\n  fill: #03c2d4 !important;\n}\n.handlerX-b1cda,\n.handlerXOnly-d2120,\n.handlerY-c945f,\n.handlerH-cf9ea,\n.handlerV-df2aa,\n.rotate-e9364,\n.tip-b1914 {\n  pointer-events: auto;\n}\n.handlerX-b1cda:after,\n.handlerXOnly-d2120:after,\n.handlerY-c945f:after,\n.handlerH-cf9ea:after,\n.handlerV-df2aa:after,\n.rotate-e9364:after,\n.tip-b1914:after {\n  box-sizing: border-box;\n}\n.handlerX-b1cda {\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  cursor: col-resize;\n  background: transparent;\n}\n.handlerX-b1cda[data-show-hander=false]:after {\n  content: '';\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  min-height: 7px;\n  max-height: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: -1px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.handlerX-b1cda:not([data-show-hander=false]):after {\n  content: '';\n  position: absolute;\n  width: 5px;\n  height: 25px;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 3px;\n}\n.asLine-a6b86 {\n  width: 9px !important;\n  height: 9px !important;\n  border-radius: 9px;\n  max-height: none !important;\n}\n.handlerXOnly-d2120 {\n  position: absolute;\n  cursor: col-resize;\n  width: 7px;\n  height: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n}\n.handlerX0-cb14a:after {\n  left: -1px;\n}\n.handlerX1-ec36f:after {\n  left: 1px;\n}\n.handlerY-c945f {\n  position: absolute;\n  height: 10px;\n  width: 100%;\n  cursor: row-resize;\n  background: transparent;\n}\n.handlerY-c945f[data-show-hander=false]:after {\n  content: '';\n  position: absolute;\n  height: 7px;\n  width: 7px;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 50%;\n  transform: translateX(-50%);\n  top: -1px;\n}\n.handlerY-c945f:not([data-show-hander=false]):after {\n  content: '';\n  position: absolute;\n  height: 5px;\n  width: 25px;\n  max-width: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 50%;\n  transform: translateX(-50%);\n  top: 0;\n  border-radius: 3px;\n}\n.handlerH-cf9ea {\n  width: 7px;\n  height: 7px;\n  border-radius: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n  position: absolute;\n  cursor: col-resize;\n}\n.handlerV-df2aa {\n  width: 7px;\n  height: 7px;\n  border-radius: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n  position: absolute;\n  cursor: row-resize;\n}\n.rotate-e9364 {\n  position: absolute;\n  cursor: pointer;\n  background: #FFF;\n  height: 16px;\n  width: 16px;\n  padding: 1px;\n  /* display: flex; */\n  /* align-items: center; */\n  border-radius: 100%;\n}\n.rotate-e9364 svg path {\n  max-width: 12px;\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.tip-b1914 {\n  position: absolute;\n  padding: 1px 5px;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  white-space: nowrap;\n  transform: translate(-50%, 50%);\n  font-size: 10px;\n  border-radius: 5px;\n}\n.tip-b1914 span:first-of-type {\n  padding-right: 3px;\n}\n.tip-b1914 span:last-of-type {\n  padding-left: 3px;\n}\n",""]),s.locals={shell:"shell-dbdd5",opened:"opened-f7cc2",handlerX:"handlerX-b1cda",handlerXOnly:"handlerXOnly-d2120",handlerY:"handlerY-c945f",handlerH:"handlerH-cf9ea",handlerV:"handlerV-df2aa",rotate:"rotate-e9364",tip:"tip-b1914",asLine:"asLine-a6b86",handlerX0:"handlerX0-cb14a",handlerX1:"handlerX1-ec36f"};const a=s},38126:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.shell-a6136 {\n  position: absolute;\n  z-index: 100000;\n  pointer-events: none;\n}\n.moveable-c267e {\n  cursor: move;\n}\n.opened-ce3a7 {\n  border-color: #03c2d4 !important;\n}\n.opened-ce3a7:after,\n.opened-ce3a7:before {\n  border-color: #03c2d4 !important;\n}\n.opened-ce3a7 svg path {\n  fill: #03c2d4 !important;\n}\n.inArea-c8d31 {\n  position: absolute;\n  background: rgba(246, 165, 165, 0.2);\n  outline: 1px dashed var(--mybricks-color-primary, #FA6400);\n  z-index: 10000;\n}\n.placeholder-eb052 {\n  position: absolute;\n  background: var(--mybricks-color-primary, #FA6400);\n  z-index: 10000;\n}\n.absolute-b7879 {\n  background: transparent !important;\n  width: 0;\n  height: 0;\n  border-top: 10px solid var(--mybricks-color-primary, #FA6400);\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n}\n.absoluteLeftTop-a2156 {\n  background: transparent !important;\n  width: 0;\n  height: 0;\n  border-top: 10px solid var(--mybricks-color-primary, #FA6400);\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  transform: rotate(135deg);\n}\n.absoluteTopRight-f9934 {\n  background: transparent !important;\n  width: 0;\n  height: 0;\n  border-top: 10px solid var(--mybricks-color-primary, #FA6400);\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  transform: rotate(-135deg);\n}\n.absoluteRightBottom-add13 {\n  background: transparent !important;\n  width: 0;\n  height: 0;\n  border-top: 10px solid var(--mybricks-color-primary, #FA6400);\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  transform: rotate(-45deg);\n}\n.absoluteLeftBottom-b29b8 {\n  background: transparent !important;\n  width: 0;\n  height: 0;\n  border-top: 10px solid var(--mybricks-color-primary, #FA6400);\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  transform: rotate(45deg);\n}\n.areaHolder-d61d7 {\n  position: absolute;\n  background: rgba(241, 167, 153, 0.2);\n  z-index: 10000;\n}\n.handlerTop-fa4ec,\n.handlerRight-e05ed,\n.handlerBottom-f3e17,\n.handlerLeft-aa3db,\n.handlerTopE-a3804,\n.handlerRightE-f7b40,\n.handlerBottomE-d5978,\n.handlerLeftE-bd8bc,\n.handlerTopM-bc0c8,\n.handlerRightM-a4653,\n.handlerBottomM-fd387,\n.handlerLeftM-ed00d {\n  position: absolute;\n  pointer-events: none;\n}\n.handlerTop-fa4ec:before,\n.handlerRight-e05ed:before,\n.handlerBottom-f3e17:before,\n.handlerLeft-aa3db:before,\n.handlerTopE-a3804:before,\n.handlerRightE-f7b40:before,\n.handlerBottomE-d5978:before,\n.handlerLeftE-bd8bc:before,\n.handlerTopM-bc0c8:before,\n.handlerRightM-a4653:before,\n.handlerBottomM-fd387:before,\n.handlerLeftM-ed00d:before {\n  pointer-events: auto;\n  border-right: 1px solid #FFF;\n  border-bottom: 1px solid #FFF;\n}\n.handlerTop-fa4ec:before,\n.handlerRight-e05ed:before,\n.handlerBottom-f3e17:before,\n.handlerLeft-aa3db:before,\n.handlerTopE-a3804:before,\n.handlerRightE-f7b40:before,\n.handlerBottomE-d5978:before,\n.handlerLeftE-bd8bc:before,\n.handlerTopM-bc0c8:before,\n.handlerRightM-a4653:before,\n.handlerBottomM-fd387:before,\n.handlerLeftM-ed00d:before {\n  content: ' ';\n  position: absolute;\n}\n.handlerTop-fa4ec,\n.handlerTopE-a3804,\n.handlerTopM-bc0c8 {\n  width: 100%;\n}\n.handlerTop-fa4ec:before,\n.handlerTopE-a3804:before,\n.handlerTopM-bc0c8:before {\n  left: 50%;\n  transform: translateX(-50%);\n  width: 15px;\n  height: 3px;\n  cursor: row-resize;\n}\n.handlerTop-fa4ec:before {\n  bottom: 8px;\n}\n.handlerTopE-a3804 {\n  width: 100%;\n}\n.handlerTopE-a3804:before {\n  bottom: 8px;\n}\n.handlerTopM-bc0c8 {\n  width: 100%;\n}\n.handlerTopM-bc0c8:before {\n  top: -10px;\n}\n.handlerBottom-f3e17,\n.handlerBottomE-d5978,\n.handlerBottomM-fd387 {\n  width: 100%;\n}\n.handlerBottom-f3e17:before,\n.handlerBottomE-d5978:before,\n.handlerBottomM-fd387:before {\n  left: 50%;\n  transform: translateX(-50%);\n  width: 15px;\n  height: 3px;\n  cursor: row-resize;\n}\n.handlerBottom-f3e17:before {\n  top: 8px;\n}\n.handlerBottomE-d5978:before {\n  top: 8px;\n}\n.handlerBottomM-fd387 {\n  width: 100%;\n}\n.handlerBottomM-fd387:before {\n  bottom: 8px;\n}\n.handlerLeft-aa3db,\n.handlerLeftE-bd8bc,\n.handlerLeftM-ed00d {\n  height: 100%;\n}\n.handlerLeft-aa3db:before,\n.handlerLeftE-bd8bc:before,\n.handlerLeftM-ed00d:before {\n  top: 50%;\n  transform: translateY(-50%);\n  height: 15px;\n  width: 3px;\n  cursor: col-resize;\n}\n.handlerLeft-aa3db:before {\n  right: 8px;\n}\n.handlerLeftE-bd8bc:before {\n  right: 8px;\n}\n.handlerLeftM-ed00d:before {\n  left: -10px;\n}\n.handlerRight-e05ed,\n.handlerRightE-f7b40,\n.handlerRightM-a4653 {\n  height: 100%;\n}\n.handlerRight-e05ed:before,\n.handlerRightE-f7b40:before,\n.handlerRightM-a4653:before {\n  top: 50%;\n  transform: translateY(-50%);\n  height: 15px;\n  width: 3px;\n  cursor: col-resize;\n}\n.handlerRight-e05ed:before {\n  left: 8px;\n}\n.handlerRightE-f7b40:before {\n  left: 8px;\n}\n.handlerRightM-a4653:before {\n  right: -10px;\n}\n.handlerTop-fa4ec,\n.handlerBottom-f3e17,\n.handlerLeft-aa3db,\n.handlerRight-e05ed {\n  width: 100%;\n}\n.handlerTop-fa4ec:hover,\n.handlerBottom-f3e17:hover,\n.handlerLeft-aa3db:hover,\n.handlerRight-e05ed:hover {\n  background: rgba(161, 107, 177, 0.2);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.1), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.handlerTop-fa4ec:before,\n.handlerBottom-f3e17:before,\n.handlerLeft-aa3db:before,\n.handlerRight-e05ed:before {\n  background: #a16bb1;\n}\n.handlerTopE-a3804,\n.handlerBottomE-d5978,\n.handlerLeftE-bd8bc,\n.handlerRightE-f7b40 {\n  width: 100%;\n}\n.handlerTopE-a3804:before,\n.handlerBottomE-d5978:before,\n.handlerLeftE-bd8bc:before,\n.handlerRightE-f7b40:before {\n  background: #a16bb1;\n}\n.handlerTopM-bc0c8,\n.handlerBottomM-fd387,\n.handlerLeftM-ed00d,\n.handlerRightM-a4653 {\n  width: 100%;\n}\n.handlerTopM-bc0c8:hover,\n.handlerBottomM-fd387:hover,\n.handlerLeftM-ed00d:hover,\n.handlerRightM-a4653:hover {\n  background: rgba(227, 170, 46, 0.2);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.handlerTopM-bc0c8:before,\n.handlerBottomM-fd387:before,\n.handlerLeftM-ed00d:before,\n.handlerRightM-a4653:before {\n  background: #d59305;\n}\n.handlerX-d49dd {\n  position: absolute;\n  width: 10px;\n  height: 100%;\n  cursor: col-resize;\n  background: transparent;\n  pointer-events: auto;\n}\n.handlerX-d49dd[data-show-hander=false]:after {\n  content: '';\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  min-height: 7px;\n  max-height: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: -1px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.handlerX-d49dd:not([data-show-hander=false]):after {\n  content: '';\n  position: absolute;\n  width: 5px;\n  height: 25px;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 3px;\n}\n.asLine-c788d {\n  width: 9px !important;\n  height: 9px !important;\n  border-radius: 9px;\n  max-height: none !important;\n}\n.handlerXOnly-f198e {\n  position: absolute;\n  cursor: col-resize;\n  width: 7px;\n  height: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n}\n.handlerX0-dd269:after {\n  left: -1px;\n}\n.handlerX1-cb255:after {\n  left: 1px;\n}\n.handlerY-cdd8c {\n  position: absolute;\n  height: 10px;\n  width: 100%;\n  cursor: row-resize;\n  background: transparent;\n  pointer-events: auto;\n}\n.handlerY-cdd8c[data-show-hander=false]:after {\n  content: '';\n  position: absolute;\n  height: 7px;\n  width: 7px;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 50%;\n  transform: translateX(-50%);\n  top: -1px;\n}\n.handlerY-cdd8c:not([data-show-hander=false]):after {\n  content: '';\n  position: absolute;\n  height: 5px;\n  width: 25px;\n  max-width: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 50%;\n  transform: translateX(-50%);\n  top: 0;\n  border-radius: 3px;\n}\n.handlerH-aaad4 {\n  width: 7px;\n  height: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n  position: absolute;\n  cursor: col-resize;\n}\n.handlerV-d6455 {\n  width: 7px;\n  height: 7px;\n  border-radius: 7px;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n  position: absolute;\n  cursor: row-resize;\n  pointer-events: auto;\n}\n.handerMove-b995e {\n  position: absolute;\n  left: -12px;\n  width: 9px;\n  height: 17px;\n  cursor: move;\n  background: #FFF;\n  pointer-events: auto;\n  background: var(--mybricks-color-primary, #FA6400);\n  border-radius: 3px;\n}\n.handerMove-b995e:after {\n  content: '...';\n  rotate: 90deg;\n  position: absolute;\n  left: 7px;\n  top: 6px;\n  height: 5px;\n  color: #FFF;\n  font-size: 10px;\n  font-weight: bold;\n}\n.rotate-e831b {\n  position: absolute;\n  cursor: pointer;\n  background: #FFF;\n  height: 16px;\n  width: 16px;\n  padding: 1px;\n  /* display: flex; */\n  /* align-items: center; */\n  border-radius: 100%;\n}\n.rotate-e831b svg path {\n  max-width: 12px;\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.tip-c4887 {\n  position: absolute;\n  padding: 1px 5px;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  white-space: nowrap;\n  transform: translate(-50%, 50%);\n  display: flex;\n  gap: 5px;\n  font-size: 10px;\n  border-radius: 5px;\n}\n",""]),s.locals={shell:"shell-a6136",moveable:"moveable-c267e",opened:"opened-ce3a7",inArea:"inArea-c8d31",placeholder:"placeholder-eb052",absolute:"absolute-b7879",absoluteLeftTop:"absoluteLeftTop-a2156",absoluteTopRight:"absoluteTopRight-f9934",absoluteRightBottom:"absoluteRightBottom-add13",absoluteLeftBottom:"absoluteLeftBottom-b29b8",areaHolder:"areaHolder-d61d7",handlerTop:"handlerTop-fa4ec",handlerRight:"handlerRight-e05ed",handlerBottom:"handlerBottom-f3e17",handlerLeft:"handlerLeft-aa3db",handlerTopE:"handlerTopE-a3804",handlerRightE:"handlerRightE-f7b40",handlerBottomE:"handlerBottomE-d5978",handlerLeftE:"handlerLeftE-bd8bc",handlerTopM:"handlerTopM-bc0c8",handlerRightM:"handlerRightM-a4653",handlerBottomM:"handlerBottomM-fd387",handlerLeftM:"handlerLeftM-ed00d",handlerX:"handlerX-d49dd",asLine:"asLine-c788d",handlerXOnly:"handlerXOnly-f198e",handlerX0:"handlerX0-dd269",handlerX1:"handlerX1-cb255",handlerY:"handlerY-cdd8c",handlerH:"handlerH-aaad4",handlerV:"handlerV-d6455",handerMove:"handerMove-b995e",rotate:"rotate-e831b",tip:"tip-c4887"};const a=s},296:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".bottom-cbc0e {\n  padding-bottom: 5px;\n}\n.bottom-cbc0e .btn-ffa11 {\n  height: 26px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px 20px;\n  border-radius: 5px;\n  color: #333;\n  background-color: #FFF;\n  box-shadow: 0 0 6px -1px #777;\n}\n.bottom-cbc0e .btn-ffa11 span {\n  font-size: 20px;\n  font-weight: 200;\n  margin-right: 5px;\n  margin-top: -5px;\n}\n",""]),s.locals={bottom:"bottom-cbc0e",btn:"btn-ffa11"};const a=s},96558:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.panel-ffcd3 {\n  position: relative;\n  right: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.panel-ffcd3 .comlibs-d201b {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 5px 0;\n}\n.disabled-a6124 {\n  pointer-events: none;\n}\n.triangle-d9ca1 {\n  background: linear-gradient(-45deg, #333 50%, transparent 50%);\n  border-bottom-right-radius: 2px;\n  width: 8px;\n  height: 8px;\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  cursor: pointer;\n}\n.hoverComGroup-d1847 .comItem-a6548 {\n  background: #e1e4e7 !important;\n  border-color: #616c81 !important;\n}\n",""]),s.locals={panel:"panel-ffcd3",comlibs:"comlibs-d201b",disabled:"disabled-a6124",triangle:"triangle-d9ca1",hoverComGroup:"hoverComGroup-d1847",comItem:"comItem-a6548"};const a=s},32642:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".modules-fa4df {\n  padding: 5px 5px 0 15px;\n  border-bottom: 1px solid #E3E3E3;\n  margin-bottom: 10px;\n}\n.modules-fa4df .tt-c8a88 {\n  padding: 5px 0 0 15px;\n  /* font-weight: 600; */\n  color: #AAA;\n}\n.modules-fa4df .body-fb590 {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 10px;\n}\n.modules-fa4df .body-fb590:empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #BBB;\n  font-style: italic;\n  height: 30px;\n}\n.modules-fa4df .body-fb590:empty:after {\n  content: '内容为空';\n}\n.modules-fa4df .body-fb590 .module-f5ad0 {\n  width: 140px;\n  height: 110px;\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  margin: 2px;\n  border: 1px transparent solid;\n  cursor: pointer;\n}\n.modules-fa4df .body-fb590 .module-f5ad0:hover {\n  background: rgba(225, 228, 231, 0.5);\n  border-color: #616C81;\n}\n.modules-fa4df .body-fb590 .module-f5ad0:hover .hover-dd495 {\n  display: flex;\n}\n.modules-fa4df .body-fb590 .module-f5ad0 .preview-cc5ef {\n  pointer-events: none;\n  height: 85px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.modules-fa4df .body-fb590 .module-f5ad0 .preview-cc5ef img {\n  max-width: 120px;\n  max-height: 70px;\n}\n.modules-fa4df .body-fb590 .module-f5ad0 .title-feb36 {\n  padding: 0 3px;\n  line-height: 13px;\n  pointer-events: none;\n  text-align: center;\n  overflow: hidden;\n}\n.modules-fa4df .body-fb590 .com-fb1b1 {\n  width: 85px;\n  height: 72px;\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  margin: 0 4px;\n  border: 1px transparent solid;\n  cursor: pointer;\n}\n.modules-fa4df .body-fb590 .com-fb1b1:hover {\n  background: rgba(225, 228, 231, 0.5);\n  border-color: #616C81;\n}\n.modules-fa4df .body-fb590 .com-fb1b1:hover .hover-dd495 {\n  display: flex;\n}\n.modules-fa4df .body-fb590 .com-fb1b1 .preview-cc5ef img {\n  max-width: 82px;\n}\n.modules-fa4df .body-fb590 .com-fb1b1 .icon-d7fa3 {\n  height: 38px;\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.modules-fa4df .body-fb590 .com-fb1b1 .title-feb36 {\n  padding: 0 3px;\n  line-height: 13px;\n  pointer-events: none;\n  text-align: center;\n  overflow: hidden;\n  height: 26px;\n}\n.modules-fa4df .body-fb590 .adder-a3d71 {\n  cursor: pointer;\n  font-size: 20px;\n  font-weight: 200;\n  width: 30px;\n  height: 30px;\n  margin: 15px 27.5px 20px 27.5px;\n  padding-bottom: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #ccc;\n  border-radius: 5px;\n}\n",""]),s.locals={modules:"modules-fa4df",tt:"tt-c8a88",body:"body-fb590",module:"module-f5ad0",hover:"hover-dd495",preview:"preview-cc5ef",title:"title-feb36",com:"com-fb1b1",icon:"icon-d7fa3",adder:"adder-a3d71"};const a=s},81952:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.toolbar-f026d {\n  margin: 12px 5px 0 0;\n  height: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px 0 15px;\n  overflow: hidden;\n}\n.toolbar-f026d .search-b5531 {\n  border-radius: 6px;\n  border: 1px solid #EEE;\n  height: 27px;\n  flex: 1;\n  padding: 0 5px 0 11px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #FFF;\n}\n.toolbar-f026d .search-b5531 input {\n  flex: 1;\n  height: 100%;\n  padding: 5px;\n  width: 100px;\n}\n.toolbar-f026d .search-b5531 svg {\n  width: 13px;\n}\n.toolbar-f026d .search-b5531 svg path {\n  stroke: #AAA;\n}\n.toolbar-f026d .addLib-aa2d7 {\n  cursor: pointer;\n  color: #999;\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-f026d .addLib-aa2d7:hover {\n  background-color: #DDD;\n}\n.toolbar-f026d .addLib-aa2d7 span {\n  font-size: 18px;\n  padding-bottom: 2px;\n  margin-right: 2px;\n}\n",""]),s.locals={toolbar:"toolbar-f026d",search:"search-b5531",addLib:"addLib-aa2d7"};const a=s},40629:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.withPreview-b7a12 {\n  width: 184px !important;\n  height: 160px !important;\n}\n.withPreview-b7a12 .previewImg-d250c {\n  height: 120px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n}\n.withPreview-b7a12 .previewImg-d250c > img {\n  max-width: 170px;\n  max-height: 110px;\n}\n.withPreview-b7a12 .title-c313b {\n  margin-top: 5px;\n}\n.mover-ea78e {\n  position: absolute !important;\n  z-index: 10000 !important;\n  opacity: 0 !important;\n  background-color: #e1e4e7 !important;\n  border: 1px solid #616C81 !important;\n  /* pointer-events: none !important; */\n  cursor: crosshair;\n}\n.comItem-a8483 {\n  width: 88px;\n  height: 80px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 4px;\n  color: #5b6b73;\n  border-radius: 4px;\n  border: 1px transparent solid;\n  position: relative;\n  cursor: pointer;\n}\n.comItem-a8483:hover {\n  background: rgba(225, 228, 231, 0.5);\n  border-color: #616C81;\n}\n.comItem-a8483:hover .hover-c47be {\n  display: flex;\n}\n.comItem-a8483:hover .moreBtns-e0ba3 {\n  visibility: visible;\n}\n.comItem-a8483 * {\n  pointer-events: none;\n}\n.comItem-a8483 .comIcon-b32d2 {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n}\n.comItem-a8483 .comIcon-b32d2 .comIconFallback-e7e33 {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #eee;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #777;\n}\n.comItem-a8483 .comIcon-b32d2 .img-c32fe,\n.comItem-a8483 .comIcon-b32d2 svg {\n  width: 22px;\n  height: 22px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 100%;\n}\n.comItem-a8483 .title-c313b {\n  width: 100%;\n  font-size: 12px;\n  line-height: 13px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #333;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.comItem-a8483 .management-a049e {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.comItem-a8483 .management-a049e > span {\n  pointer-events: auto;\n  cursor: pointer;\n  display: flex;\n  border-radius: 3px;\n  justify-content: center;\n  align-items: center;\n  padding: 1px 10px 0px 10px;\n  background: #FFF;\n  width: 45px;\n  margin: 7px;\n}\n.comItem-a8483 .moreBtns-e0ba3 {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n  border-radius: 3px;\n  position: absolute;\n  right: 3px;\n  top: 5px;\n  pointer-events: auto;\n}\n.comItem-a8483 .moreBtns-e0ba3:hover {\n  background: #CCC;\n}\n.comItem-a8483 .moreBtns-e0ba3 * {\n  pointer-events: auto;\n}\n.comItem-a8483 .moreBtns-e0ba3 svg {\n  height: 13px;\n}\n.comItem-a8483 .moreBtns-e0ba3 svg path {\n  fill: #777;\n}\n.comItem-a8483 .comMenu-c189d {\n  position: absolute;\n  z-index: 10000;\n  pointer-events: visible;\n  background: #FFF;\n  top: -1px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  cursor: default;\n}\n.comItem-a8483 .comMenu-c189d * {\n  pointer-events: visible;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e {\n  position: relative;\n  border: 1px solid #616C81;\n  border-radius: 5px;\n  padding: 3px;\n  top: 11px;\n  left: 8px;\n  flex-direction: column;\n  width: 70px;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > * {\n  cursor: pointer;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > span {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background: #F55753;\n  border-radius: 100%;\n  height: 16px;\n  width: 16px;\n  box-sizing: border-box;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > span svg {\n  height: 10px;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > span svg path {\n  fill: #FFF;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > div {\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  cursor: pointer;\n  background: #FFF;\n  text-wrap: nowrap;\n  color: #333;\n}\n.comItem-a8483 .comMenu-c189d .menuContent-bc61e > div:hover {\n  background: #EEE;\n}\n",""]),s.locals={withPreview:"withPreview-b7a12",previewImg:"previewImg-d250c",title:"title-c313b",mover:"mover-ea78e",comItem:"comItem-a8483",hover:"hover-c47be",moreBtns:"moreBtns-e0ba3",comIcon:"comIcon-b32d2",comIconFallback:"comIconFallback-e7e33",img:"img-c32fe",management:"management-a049e",comMenu:"comMenu-c189d",menuContent:"menuContent-bc61e"};const a=s},21615:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comlib-dfc72 {\n  margin-bottom: 10px;\n}\n.comlib-dfc72 .header-d9552 {\n  height: 32px;\n  padding-left: 20px;\n  padding-right: 5px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin-bottom: -5px;\n}\n.comlib-dfc72 .header-d9552 .arrowIcon-a6217 {\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  margin-right: 4px;\n  font-size: 12px;\n  line-height: 12px;\n  text-align: center;\n  color: #8d9ea7;\n}\n.comlib-dfc72 .header-d9552 .expandedIcon-c351b {\n  transform: rotate(90deg);\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a {\n  display: flex;\n  align-items: center;\n  /* justify-content: space-between; */\n  flex: 1;\n  height: 20px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a svg {\n  margin-right: 5px;\n  max-width: 7px;\n  opacity: 0.5;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a .name-cd872 {\n  line-height: 18px;\n  color: #555;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a .version-ca623 {\n  color: #999;\n  font-style: italic;\n  padding-left: 5px;\n  flex: 1;\n  overflow: hidden;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a:hover .version-ca623 {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552:hover .icons-ee75d {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d {\n  width: 30px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  visibility: hidden;\n  padding-right: 10px;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d > span {\n  width: 18px;\n  height: 18px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 6px;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d > span:hover {\n  background: #DDD;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d svg {\n  max-width: 12px;\n  cursor: pointer;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span {\n  background: #999;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span:hover {\n  background: #999;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span svg {\n  fill: #FFF;\n}\n.comlib-dfc72 .upgrade-b9e67 {\n  font-size: 12px;\n  color: #777;\n  font-style: italic;\n  padding: 3px 3px 3px 5px;\n  margin: 0 6px 0 10px;\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n  cursor: pointer;\n}\n.comlib-dfc72 .body-b506b {\n  overflow: auto;\n  padding: 0 10px;\n}\n.comlib-dfc72 .body-b506b .empty-b040f {\n  color: #BBB;\n  text-align: center;\n  padding: 2px;\n  font-style: italic;\n}\n.comlib-dfc72 .body-b506b .addDefined-d8073 {\n  cursor: pointer;\n  font-size: 20px;\n  font-weight: 200;\n  width: 30px;\n  height: 30px;\n  margin: 20px 20px 20px 35px;\n  padding-bottom: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #ccc;\n  border-radius: 5px;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 {\n  padding: 8px 0 10px 0;\n  width: 100%;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 .comGroupTitle-bf9f6 {\n  color: #AAA;\n  margin-left: 24px;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 .basicList-b08e8 {\n  margin: 0;\n  padding: 0 2px;\n}\n.comGroupWrap-cfa33 {\n  position: relative;\n}\n.basicList-b08e8 {\n  margin: auto;\n  display: flex;\n  flex-flow: row wrap;\n}\n.basicList-b08e8 .notAllowed-d44a0 {\n  cursor: not-allowed;\n}\n.basicList-b08e8 .notAllowed-d44a0:hover {\n  background: none;\n}\n.basicList-b08e8 .hover-ebea7 {\n  display: none;\n  z-index: 100;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.basicList-b08e8 .hover-ebea7 .icon-dbfed {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 16px;\n  height: 16px;\n  background: #FFF;\n  border-radius: 16px;\n  cursor: pointer;\n}\n.basicList-b08e8 .hover-ebea7 .icon-dbfed path {\n  max-width: 12px;\n}\n",""]),s.locals={comlib:"comlib-dfc72",header:"header-d9552",arrowIcon:"arrowIcon-a6217",expandedIcon:"expandedIcon-c351b",title:"title-d7a2a",name:"name-cd872",version:"version-ca623",icons:"icons-ee75d",visible:"visible-e1fc9",upgrade:"upgrade-b9e67",body:"body-b506b",empty:"empty-b040f",addDefined:"addDefined-d8073",groupWrap:"groupWrap-df8d3",comGroupTitle:"comGroupTitle-bf9f6",basicList:"basicList-b08e8",comGroupWrap:"comGroupWrap-cfa33",notAllowed:"notAllowed-d44a0",hover:"hover-ebea7",icon:"icon-dbfed"};const a=s},49349:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".info-e8ad3 {\n  padding: 0 20px;\n}\n.info-e8ad3 .tt-d0a5d {\n  padding: 5px 0;\n  font-weight: bold;\n}\n.info-e8ad3 .slot-a1391 {\n  margin: 5px;\n  padding: 5px 0 5px 10px;\n  position: relative;\n}\n.info-e8ad3 .slot-a1391 .borders-d946b {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2,\n.info-e8ad3 .slot-a1391 .slotR-b6ca0,\n.info-e8ad3 .slot-a1391 .slotB-d1aea,\n.info-e8ad3 .slot-a1391 .slotL-c3dba {\n  position: absolute;\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, #ffffff 1px, rgba(0, 0, 0, 0.1) 3px);\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2,\n.info-e8ad3 .slot-a1391 .slotB-d1aea {\n  left: 0;\n  height: 3px;\n  width: 100%;\n}\n.info-e8ad3 .slot-a1391 .slotL-c3dba,\n.info-e8ad3 .slot-a1391 .slotR-b6ca0 {\n  top: 0;\n  width: 3px;\n  height: 100%;\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2 {\n  top: 0;\n}\n.info-e8ad3 .slot-a1391 .slotR-b6ca0 {\n  right: 0;\n}\n.info-e8ad3 .slot-a1391 .slotB-d1aea {\n  bottom: 0;\n}\n.info-e8ad3 .slot-a1391 .slotL-c3dba {\n  left: 0;\n}\n.info-e8ad3 .empty-a9da6 {\n  color: #AAA;\n  font-style: italic;\n  padding: 5px 0 0 15px;\n}\n",""]),s.locals={info:"info-e8ad3",tt:"tt-d0a5d",slot:"slot-a1391",borders:"borders-d946b",slotT:"slotT-f89d2",slotR:"slotR-b6ca0",slotB:"slotB-d1aea",slotL:"slotL-c3dba",empty:"empty-a9da6"};const a=s},47925:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".comDocs-e2a1a {\n  overflow: auto;\n  padding-top: 40px;\n}\n.comDocs-e2a1a > * {\n  margin: 10px 0;\n}\n.comDocs-e2a1a .item-bfc40 {\n  padding: 0 20px;\n  user-select: text;\n}\n.comDocs-e2a1a .item-bfc40 label {\n  font-weight: bold;\n}\n",""]),s.locals={comDocs:"comDocs-e2a1a",item:"item-bfc40"};const a=s},82628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.dragging-a5805 {\n  pointer-events: none;\n}\n.view-e81c0 {\n  width: 220px;\n  background-color: #F7F7F7;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.view-e81c0 .body-b03dc {\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n.view-e81c0 .sperV-f2fd5 {\n  position: absolute;\n  right: -6px;\n  width: 10px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px;\n  margin-left: -2px;\n  z-index: 100;\n}\n.view-e81c0 .sperV-f2fd5:hover {\n  transition: 0.2s;\n}\n.view-e81c0 .sperV-f2fd5:hover > div {\n  width: 5px;\n  margin-right: 2px;\n  background: #616C81;\n  border-left-width: 0;\n}\n.view-e81c0 .sperV-f2fd5 > div {\n  border-left: 1px solid #BBB;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),s.locals={dragging:"dragging-a5805",view:"view-e81c0",body:"body-b03dc",sperV:"sperV-f2fd5"};const a=s},26498:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.placeholder-b2bbd {\n  z-index: 100;\n  position: fixed;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  height: 3px;\n  width: 180px;\n}\n.coverSlot-ef7fc {\n  height: 22px;\n  opacity: 0.3;\n}\n",""]),s.locals={placeholder:"placeholder-b2bbd",coverSlot:"coverSlot-ef7fc"};const a=s},96438:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.dragging-d930b {\n  pointer-events: none;\n}\n.sceneTitle-bdf05 {\n  padding: 3px 5px 0 5px;\n  font-style: italic;\n  color: #AAA;\n}\n.view-ee3fe {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n.view-ee3fe .body-b016a {\n  overflow: auto;\n  flex-direction: column;\n  padding-top: 5px;\n  padding-left: 5px;\n  flex: 1;\n}\n.view-ee3fe .zonePops-df2e0,\n.view-ee3fe .zoneAbsolute-f278c {\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n  border-bottom: 1px dashed #CCC;\n}\n.view-ee3fe .zonePops-df2e0:empty,\n.view-ee3fe .zoneAbsolute-f278c:empty {\n  display: none;\n}\n.view-ee3fe .items-a1764 {\n  min-width: fit-content;\n  margin-left: 20px;\n  position: relative;\n}\n.view-ee3fe .items-a1764:first-of-type {\n  margin-left: 0;\n}\n.view-ee3fe .items-a1764 .popup-cb75c {\n  margin: 10px 5px 15px 0;\n  padding: 5px;\n  box-shadow: 0 0 5px #ccc;\n  background: #fafafa;\n  width: fit-content;\n}\n.view-ee3fe .items-a1764 .item-ca73b {\n  width: fit-content;\n  min-width: 120px;\n  height: 24px;\n  line-height: 24px;\n  display: flex;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 6px;\n  align-items: center;\n  padding: 0 5px 0 8px;\n  margin: 2px 0;\n  justify-content: flex-start;\n  border: 1px solid transparent;\n}\n.view-ee3fe .items-a1764 .item-ca73b:hover {\n  background-color: #E5E5E5;\n  z-index: 1;\n  position: relative;\n}\n.view-ee3fe .items-a1764 .item-ca73b > .items-a1764 {\n  width: auto !important;\n}\n.view-ee3fe .items-a1764 .error-a8f3c {\n  border: 1px dashed red;\n  color: red;\n  font-style: italic;\n}\n.view-ee3fe .items-a1764 .slot-e238c:hover {\n  outline-offset: -1px;\n  outline: 1px dashed #DDD;\n}\n.view-ee3fe .items-a1764 .placeholder-bc079 {\n  background-color: #EEE;\n}\n.view-ee3fe .items-a1764 .active-a67ce {\n  border-color: var(--mybricks-color-primary, #FA6400) !important;\n  background-color: #FFF !important;\n}\n.view-ee3fe .items-a1764 .extented-efcc9 .comName-a5d2b {\n  color: #efc358;\n}\n.view-ee3fe .items-a1764 .extented-efcc9 .comName-a5d2b span {\n  color: #AAA;\n  padding-left: 5px;\n  font-style: italic !important;\n}\n.view-ee3fe .items-a1764 .module-ce7c3 .comName-a5d2b span {\n  color: #AAA;\n  padding-left: 5px;\n  font-style: italic !important;\n}\n.view-ee3fe .items-a1764 .hidden-b424a .comIcon-aa750,\n.view-ee3fe .items-a1764 .hidden-b424a .comName-a5d2b {\n  opacity: 0.3;\n}\n.view-ee3fe .items-a1764 .noUI-ae70f .comName-a5d2b {\n  color: #c1a049;\n  font-style: italic !important;\n}\n.view-ee3fe .items-a1764 .noMovable-c8bca {\n  cursor: no-drop;\n}\n.view-ee3fe .items-a1764 .comIcon-aa750 {\n  max-width: 14px;\n  max-height: 14px;\n  margin-right: 1px;\n  width: 14px;\n  height: 14px;\n  background-repeat: no-repeat !important;\n  background-position: center center !important;\n  background-size: 100% !important;\n}\n.view-ee3fe .items-a1764 .comIcon-aa750 svg {\n  margin-top: -2px;\n  max-width: 12px;\n}\n.view-ee3fe .items-a1764 .comItemContent-fdb65 {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-left: 3px;\n}\n.view-ee3fe .items-a1764 .comItemContent-fdb65 .noDef-e0a00 {\n  color: red;\n  font-style: italic;\n  width: fit-content;\n}\n.view-ee3fe .items-a1764 .comItemContent-fdb65 .icons-d9b2a {\n  margin-left: 5px;\n  display: flex;\n  align-items: center;\n}\n.view-ee3fe .items-a1764 .comItemContent-fdb65 .icons-d9b2a span {\n  padding: 0 2px;\n  display: flex;\n}\n.view-ee3fe .items-a1764 .comItemContent-fdb65 .icons-d9b2a span svg {\n  opacity: 0.8;\n  max-width: 12px;\n}\n.view-ee3fe .items-a1764 .comName-a5d2b {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n}\n.view-ee3fe .items-a1764 .comName-a5d2b > span {\n  margin-left: 3px;\n}\n.view-ee3fe .items-a1764 .comName-a5d2b > span svg {\n  max-width: 7px;\n}\n.view-ee3fe .items-a1764 .slotName-dc8f4 {\n  color: #AAA;\n  font-style: italic;\n}\n.view-ee3fe .items-a1764 .comInfo-d6ff5 {\n  padding-left: 8px;\n  width: max-content;\n  white-space: normal;\n}\n.view-ee3fe .items-a1764 .upgrade-f30ab {\n  white-space: nowrap;\n  color: var(--mybricks-color-primary, #FA6400);\n  position: relative;\n}\n.view-ee3fe .items-a1764 .upgrade-f30ab .tip-ef99a {\n  content: '';\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: -6px;\n  right: 3px;\n}\n.view-ee3fe .items-a1764 .upgrade-f30ab .btn-ab621 {\n  cursor: pointer;\n  padding: 0px 5px;\n  font-weight: 500;\n  border: 1px solid;\n  pointer-events: visible;\n  background-color: #fff;\n}\n.view-ee3fe .slots-edb8a {\n  margin-left: 26px;\n}\n.view-ee3fe .slots-edb8a:before {\n  content: '';\n  border-left: 1px solid #DDD;\n  position: absolute;\n  height: 100%;\n  left: -12px;\n  top: -8px;\n}\n.empty-a729a {\n  height: 100%;\n  display: flex;\n  color: #CCC;\n  font-style: italic;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n}\n.icon-d3fbd {\n  display: flex;\n  min-width: 12px;\n  align-items: center;\n  margin-right: 2px;\n  color: #555;\n}\n.icon-d3fbd > * {\n  width: 10px;\n  opacity: 0.8;\n}\n.iconHidden-d41cd {\n  visibility: hidden;\n  display: none;\n}\n",""]),s.locals={dragging:"dragging-d930b",sceneTitle:"sceneTitle-bdf05",view:"view-ee3fe",body:"body-b016a",zonePops:"zonePops-df2e0",zoneAbsolute:"zoneAbsolute-f278c",items:"items-a1764",popup:"popup-cb75c",item:"item-ca73b",error:"error-a8f3c",slot:"slot-e238c",placeholder:"placeholder-bc079",active:"active-a67ce",extented:"extented-efcc9",comName:"comName-a5d2b",module:"module-ce7c3",hidden:"hidden-b424a",comIcon:"comIcon-aa750",noUI:"noUI-ae70f",noMovable:"noMovable-c8bca",comItemContent:"comItemContent-fdb65",noDef:"noDef-e0a00",icons:"icons-d9b2a",slotName:"slotName-dc8f4",comInfo:"comInfo-d6ff5",upgrade:"upgrade-f30ab",tip:"tip-ef99a",btn:"btn-ab621",slots:"slots-edb8a",empty:"empty-a729a",icon:"icon-d3fbd",iconHidden:"iconHidden-d41cd"};const a=s},90939:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.popMenu-ee6f8 {\n  background: #FFF;\n  display: flex;\n  border-radius: 3px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.popMenu-ee6f8 span {\n  cursor: pointer;\n  display: inline-block;\n  text-wrap: nowrap;\n  padding: 5px 10px;\n}\n.popMenu-ee6f8 span:hover {\n  background: #EEE;\n}\n.pageMenu-a2c03 {\n  width: 150px;\n  background: #FFF;\n  border-radius: 3px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n  padding: 5px 0;\n}\n.pageMenu-a2c03 div {\n  cursor: pointer;\n  text-wrap: nowrap;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n}\n.pageMenu-a2c03 div:hover {\n  background: #EEE;\n}\n.createMenu-e85f6 {\n  width: 120px;\n  background: #FFF;\n  border-radius: 3px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n  padding: 5px 0;\n}\n.createMenu-e85f6 div {\n  cursor: pointer;\n  text-wrap: nowrap;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n}\n.createMenu-e85f6 div:hover {\n  background: #EEE;\n}\n.pages-f5d05 {\n  display: flex;\n  flex-direction: column;\n  padding-top: 5px;\n  margin-bottom: 5px;\n  position: relative;\n}\n.pages-f5d05 .titleBar-a999c {\n  width: 100%;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 0 8px 0 20px;\n}\n.pages-f5d05 .titleBar-a999c .tab-fc574 {\n  cursor: pointer;\n  color: #AAA;\n  text-align: center;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  margin: 0 15px 0 0;\n}\n.pages-f5d05 .titleBar-a999c .tab-fc574 .arrow-c006a {\n  pointer-events: none;\n  height: 12px;\n  margin-left: 7px;\n  margin-top: -4px;\n}\n.pages-f5d05 .titleBar-a999c .tab-fc574 .arrow-c006a svg {\n  max-width: 9px;\n}\n.pages-f5d05 .titleBar-a999c .activeTab-c823b {\n  color: #222;\n}\n.pages-f5d05 .titleBar-a999c .btns-dd64c {\n  padding-bottom: 2px;\n  margin-left: auto;\n  width: 22px;\n  height: 20px;\n  font-size: 20px;\n  font-weight: 200;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.pages-f5d05 .titleBar-a999c .btns-dd64c:hover {\n  background: #DDD;\n}\n.pages-f5d05 .coms-d6990 {\n  padding: 5px 5px 5px 5px;\n  border-bottom: 1px solid #EEE;\n}\n.pages-f5d05 .content-a778c {\n  overflow-y: auto;\n  padding: 0 0 10px 0;\n  position: relative;\n  min-height: 70px;\n}\n.pages-f5d05 .content-a778c .toolbar-f12e8 {\n  height: 24px;\n  display: flex;\n  justify-content: space-between;\n  padding: 1px 5px;\n}\n.pages-f5d05 .content-a778c .toolbar-f12e8 input {\n  height: 22px;\n  background: #FFF;\n  flex: 1;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n}\n.pages-f5d05 .content-a778c .toolbar-f12e8 span {\n  width: 25px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 300;\n}\n.pages-f5d05 .page-b178f {\n  height: 26px;\n  padding: 0 1px 0 15px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 6px;\n  margin: 2px 10px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.pages-f5d05 .page-b178f:hover {\n  background: #EEE;\n}\n.pages-f5d05 .page-b178f:hover .handlers-bb01e {\n  visibility: visible;\n}\n.pages-f5d05 .page-b178f .checked-b3fa4 {\n  margin-left: 7px;\n  width: 17px;\n}\n.pages-f5d05 .page-b178f .checked-b3fa4 svg {\n  max-width: 12px;\n}\n.pages-f5d05 .page-b178f .icon-ffa1a {\n  height: 16px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 4px;\n  margin-top: -2px;\n}\n.pages-f5d05 .page-b178f .icon-ffa1a svg {\n  max-width: 12px;\n}\n.pages-f5d05 .page-b178f .title-de85f {\n  flex: 1;\n  text-wrap: nowrap;\n  line-height: 100%;\n}\n.pages-f5d05 .page-b178f input {\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 1px;\n  background: #FFF;\n  height: 20px;\n  border-radius: 3px;\n  padding: 1px 5px;\n}\n.pages-f5d05 .page-b178f .handlers-bb01e {\n  visibility: hidden;\n  display: flex;\n  width: 22px;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n}\n.pages-f5d05 .page-b178f .handlers-bb01e span {\n  height: 12px;\n}\n.pages-f5d05 .page-b178f .handlers-bb01e span svg {\n  max-width: 13px;\n  max-height: 13px;\n}\n.pages-f5d05 .page-b178f .handlers-bb01e span svg path {\n  fill: #777;\n}\n.pages-f5d05 .page-b178f .handlers-bb01e .closePage-aa6bb {\n  opacity: 0;\n}\n.pages-f5d05 .page-b178f .users-d8f3b {\n  position: absolute;\n  z-index: 100;\n  right: 20px;\n  top: 4px;\n  display: flex;\n}\n.pages-f5d05 .page-b178f .users-d8f3b .writeable-d649c {\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  color: var(--mybricks-color-primary, #FA6400);\n  z-index: 111;\n}\n.pages-f5d05 .page-b178f .users-d8f3b .readonly-fefb2 {\n  border: 1px solid #CCC;\n  color: #555;\n}\n.pages-f5d05 .page-b178f .users-d8f3b .avatar-d400b {\n  border-radius: 50%;\n}\n.pages-f5d05 .page-b178f .users-d8f3b .avatar-d400b img {\n  height: 18px;\n  width: 18px;\n  border-radius: 50%;\n  -o-object-fit: cover;\n  object-fit: cover;\n  display: block;\n}\n.pages-f5d05 .page-b178f .users-d8f3b .userName-c3305 {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #FFF;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 10px;\n  margin-left: -5px;\n}\n.pages-f5d05 .com-d0869 {\n  width: 75px;\n  height: 70px;\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  margin: 2px;\n}\n.pages-f5d05 .com-d0869:hover {\n  background: #EEE;\n}\n.pages-f5d05 .com-d0869 .icon-ffa1a {\n  height: 38px;\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pages-f5d05 .com-d0869 .title-de85f {\n  padding: 0 3px;\n  line-height: 13px;\n  pointer-events: none;\n  text-align: center;\n  overflow: hidden;\n  height: 26px;\n}\n.pages-f5d05 .inVisible-ad6f0 {\n  opacity: 0.5;\n}\n.pages-f5d05 .focused-c1747 {\n  background: #DDD;\n}\n.pages-f5d05 .curTitle-b5dd3 {\n  color: #AAA;\n  padding: 5px 0 0 20px;\n  font-style: italic;\n}\n.pages-f5d05 .outline-d9d12 {\n  flex: 1;\n  padding: 7px 0 0 12px;\n  overflow: hidden;\n}\n.pages-f5d05 .sper-b9f94 {\n  border-bottom: 1px solid #EEE;\n  height: 1px;\n}\n.hidden-af8b6 {\n  display: none;\n}\n.sperH-e543c {\n  position: absolute;\n  bottom: -1px;\n  height: 5px;\n  width: 100%;\n  cursor: ns-resize;\n  margin-bottom: -2px;\n  margin-top: -2px;\n  z-index: 100;\n}\n.sperH-e543c:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperH-e543c:hover > div {\n  border-top-width: 0;\n}\n.sperH-e543c > div {\n  border-top: 1px solid #CCC;\n  width: 100%;\n  height: 1px;\n  margin-top: 2px;\n}\n",""]),s.locals={popMenu:"popMenu-ee6f8",pageMenu:"pageMenu-a2c03",createMenu:"createMenu-e85f6",pages:"pages-f5d05",titleBar:"titleBar-a999c",tab:"tab-fc574",arrow:"arrow-c006a",activeTab:"activeTab-c823b",btns:"btns-dd64c",coms:"coms-d6990",content:"content-a778c",toolbar:"toolbar-f12e8",page:"page-b178f",handlers:"handlers-bb01e",checked:"checked-b3fa4",icon:"icon-ffa1a",title:"title-de85f",closePage:"closePage-aa6bb",users:"users-d8f3b",writeable:"writeable-d649c",readonly:"readonly-fefb2",avatar:"avatar-d400b",userName:"userName-c3305",com:"com-d0869",inVisible:"inVisible-ad6f0",focused:"focused-c1747",curTitle:"curTitle-b5dd3",outline:"outline-d9d12",sper:"sper-b9f94",hidden:"hidden-af8b6",sperH:"sperH-e543c"};const a=s},2818:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".errorRT-aa778 {\n  height: 100%;\n  padding: 5px;\n  font-size: 12px;\n}\n.errorRT-aa778 .tt-e6028 {\n  font-size: 12px;\n  color: #f5222d;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.errorRT-aa778 .info-d9394 {\n  color: #f5222d;\n  margin-bottom: 5px;\n}\n",""]),s.locals={errorRT:"errorRT-aa778",tt:"tt-e6028",info:"info-d9394"};const a=s},93429:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".pop-b22bd {\n  max-width: 300px;\n  max-height: 500px;\n  position: absolute;\n  z-index: 10000;\n  background-color: #FFF;\n  border: 1px solid #FFF;\n  border-bottom-right-radius: 15px;\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  padding: 8px 15px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.3);\n  transform: translateY(-100%);\n}\n.pop-b22bd .label-c8ab3 {\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  color: #FFF;\n  font-size: 12px;\n  padding: 1px 10px 0 10px;\n  border-radius: 10px;\n}\n.pop-b22bd .author-c7a1b {\n  margin-top: 3px;\n  font-style: italic;\n  font-weight: lighter;\n  font-size: 12px;\n  margin-bottom: -5px;\n}\n.pop-b22bd .author-c7a1b label {\n  color: #CCC;\n}\n.pop-b22bd .author-c7a1b span {\n  color: #CCC;\n  margin-left: 10px;\n}\n.pop-b22bd .content-f09b0 {\n  overflow: auto;\n}\n",""]),s.locals={pop:"pop-b22bd",label:"label-c8ab3",author:"author-c7a1b",content:"content-f09b0"};const a=s},29365:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".handlers-deaf4 {\n  display: flex;\n  align-items: center;\n  gap: 14px;\n  margin-left: 10px;\n  height: 36px;\n  cursor: default;\n}\n.handlers-deaf4 .sper-fe2b1 {\n  border-right: 1px solid #DDD;\n  height: 100%;\n  width: 1px;\n  overflow: hidden;\n}\n.handlers-deaf4 .handler-cc48a {\n  cursor: pointer;\n  display: flex;\n  width: 24px;\n  height: 22px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  position: relative;\n}\n.handlers-deaf4 .handler-cc48a:hover {\n  background: #E3E3E3;\n}\n.handlers-deaf4 .handler-cc48a label {\n  padding: 0 3px;\n  margin: 0;\n  font-weight: normal;\n  text-wrap: nowrap;\n}\n.handlers-deaf4 .handler-cc48a svg {\n  margin: 0 3px;\n  max-width: 14px;\n}\n.handlers-deaf4 .handler-cc48a svg path {\n  fill: #555;\n}\n.handlers-deaf4 .handler-cc48a span {\n  height: 16px;\n}\n.handlers-deaf4 .handler-cc48a span svg {\n  max-width: 8px;\n}\n.handlers-deaf4 .handler-cc48a span svg path {\n  fill: #999;\n}\n.menu-fa3a9 {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 150px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  z-index: 100000;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.menu-fa3a9 .sper-fe2b1 {\n  width: 100%;\n  border-top: 1px solid #EEE;\n  margin: 3px 0;\n}\n.menu-fa3a9 .menuItem-e5bbe {\n  height: 32px;\n  display: flex;\n  align-items: center;\n  padding: 0 10px 0 18px;\n  cursor: pointer !important;\n}\n.menu-fa3a9 .menuItem-e5bbe:hover {\n  background: #E3E3E3;\n}\n.menu-fa3a9 .menuItem-e5bbe svg {\n  max-width: 12px;\n}\n.menu-fa3a9 .menuItem-e5bbe svg path {\n  fill: #555;\n}\n.menu-fa3a9 .menuItem-e5bbe > label {\n  margin-left: 5px;\n  cursor: pointer !important;\n}\n",""]),s.locals={handlers:"handlers-deaf4",sper:"sper-fe2b1",handler:"handler-cc48a",menu:"menu-fa3a9",menuItem:"menuItem-e5bbe"};const a=s},51165:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.btnGroup-cd054 {\n  width: 36px;\n  background: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  z-index: 10000;\n}\n.btnGroup-cd054:not(:first-child) {\n  margin-top: 15px;\n}\n.btnGroup-cd054 button {\n  height: 25px;\n  padding: 0;\n  cursor: pointer;\n  font-size: 14px;\n  overflow: hidden;\n}\n.toolbar-a167f {\n  position: absolute;\n  z-index: 10000;\n  top: 22px;\n  right: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.toolbar-a167f .icon-b4538 {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-a167f .icon-b4538 span {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-a167f .icon-b4538 svg {\n  max-width: 18px;\n}\n.toolbar-a167f .icon-b4538 svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n  stroke: #FFF !important;\n}\n.toolbar-a167f .debug-fc790 {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  position: relative;\n}\n.toolbar-a167f .debug-fc790 svg path {\n  fill: #FFF;\n}\n.toolbar-a167f .debug-fc790 span:first-child {\n  top: 13px;\n  left: 14px;\n  width: 8px;\n  height: 9px;\n  overflow: hidden;\n}\n.toolbar-a167f .debug-fc790 span:first-child svg {\n  max-width: 20px;\n  position: absolute;\n  left: -6px;\n  top: -12px;\n}\n.toolbar-a167f .debug-fc790 span:last-child {\n  animation: rot-a8870 2s linear infinite;\n}\n.toolbar-a167f .debug-fc790 span:last-child svg {\n  max-width: 22px;\n}\n.toolbar-a167f .tab-dbebf {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-a167f .tab-dbebf span {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-a167f .tab-dbebf svg {\n  max-width: 18px;\n}\n.toolbar-a167f .tab-dbebf svg path {\n  fill: #777;\n}\n.toolbar-a167f .active-f24e8 {\n  background: #616C81 !important;\n  font-weight: bold;\n}\n.toolbar-a167f .active-f24e8 svg path {\n  fill: #fff;\n}\n@keyframes rot-a8870 {\n  0% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(90deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  75% {\n    transform: rotate(270deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),s.locals={btnGroup:"btnGroup-cd054",toolbar:"toolbar-a167f",icon:"icon-b4538",debug:"debug-fc790",rot:"rot-a8870",tab:"tab-dbebf",active:"active-f24e8"};const a=s},18052:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.toplView-fe3d6 {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: #F9F9F9;\n}\n.toplView-fe3d6 .loading-ec8fe {\n  text-align: center;\n  margin: auto;\n  color: #999;\n}\n.Toolbar-ca02f {\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-bottom: 1px solid #EEE;\n}\n.Toolbar-ca02f .tab-d7c58 {\n  padding: 0 20px;\n  height: calc(100% + 1px);\n  font-size: 14px;\n  color: #AAA;\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-right: 1px solid #D8D8D8;\n  background: #EBECEE;\n}\n.Toolbar-ca02f .tab-d7c58 label {\n  margin-left: 5px;\n  margin-top: 3px;\n  font-size: 12px;\n  font-style: italic;\n  font-weight: normal;\n  color: #777;\n}\n.Toolbar-ca02f .tab-d7c58 .emptyTab-a533c {\n  color: #AAA;\n  font-weight: normal;\n  font-style: italic;\n}\n.Toolbar-ca02f .active-c7d10 {\n  font-weight: bold;\n  min-width: 70px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: inherit;\n  color: #333;\n  background-color: #F7F7F7;\n}\n.Toolbar-ca02f .frameTitle-fbbbf {\n  flex: 1;\n  text-align: center;\n  color: #777;\n}\n",""]),s.locals={toplView:"toplView-fe3d6",loading:"loading-ec8fe",Toolbar:"Toolbar-ca02f",tab:"tab-d7c58",emptyTab:"emptyTab-a533c",active:"active-c7d10",frameTitle:"frameTitle-fbbbf"};const a=s},25010:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.inputPins-b0fa0,\n.outputPins-a90ca {\n  position: absolute;\n  top: 0px;\n}\n.inputPins-b0fa0 {\n  left: -9px;\n}\n.inputPins-b0fa0 .title-af245 {\n  color: red;\n}\n.outputPins-a90ca {\n  right: -8px;\n}\n.moving-e0eb5 {\n  z-index: 1000 !important;\n}\n.focus-def7f {\n  border-color: var(--mybricks-color-primary, #FA6400) !important;\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n}\n.focus-def7f .outputPins-a90ca > div {\n  border-color: var(--mybricks-color-primary, #FA6400) !important;\n  background-color: #DDD;\n}\n.focus-def7f .outputPins-a90ca > div a {\n  visibility: hidden;\n}\n.mock-f9bcb {\n  border-color: #E02020 !important;\n  border-style: dashed !important;\n}\n.mock-f9bcb:before {\n  content: "Mock";\n  color: #FFF;\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  z-index: 1;\n  width: max-content;\n  height: 20px;\n  line-height: 20px;\n  padding: 0px 8px;\n  overflow: hidden;\n  position: absolute;\n  left: -4px;\n  bottom: calc(100% - 0px);\n  background: #E02020;\n  border-radius: 10px;\n  transform: scale(0.8);\n  opacity: 0.8;\n}\n.labelTodo-eea90 {\n  box-shadow: inset 0px 1px 10px 0px #9ACADD;\n}\n.labelTodo-eea90:before {\n  content: "Todo";\n  color: #FFF;\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  z-index: 1;\n  width: max-content;\n  height: 20px;\n  line-height: 20px;\n  padding: 0px 8px;\n  overflow: hidden;\n  position: absolute;\n  left: -4px;\n  bottom: calc(100% - 0px);\n  background: #03B6FC;\n  border-radius: 10px;\n  transform: scale(0.8);\n  opacity: 0.8;\n}\n.warn-f0470 {\n  border: 1px dashed #faad14;\n}\n.warn-f0470 .info-ac79b {\n  z-index: 100;\n  pointer-events: visible;\n  height: 22px;\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  width: max-content;\n  bottom: 100%;\n  left: 0;\n  border: 1px solid #AAA;\n  font-style: italic;\n  background-color: #faad14;\n}\n.warn-f0470 .info-ac79b > ul {\n  padding: 2px;\n}\n.warn-f0470 .info-ac79b > ul li {\n  margin: 0px 5px;\n}\n.warn-f0470 .info-ac79b > p {\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0px 5px;\n  font-weight: 500;\n}\n.error-baffd {\n  border: 1px dashed #f5222d;\n}\n.error-baffd .info-ac79b {\n  position: absolute;\n  width: max-content;\n  background-color: #ff0000;\n  color: #FFF;\n  padding: 0px 5px;\n  top: 0px;\n  left: 0;\n  font-style: italic;\n  font-weight: 500;\n  z-index: 1000;\n}\n',""]),s.locals={inputPins:"inputPins-b0fa0",outputPins:"outputPins-a90ca",title:"title-af245",moving:"moving-e0eb5",focus:"focus-def7f",mock:"mock-f9bcb",labelTodo:"labelTodo-eea90",warn:"warn-f0470",info:"info-ac79b",error:"error-baffd"};const a=s},93460:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".cfgs-ccc67 {\n  margin: 15px 0;\n}\n.cfgs-ccc67 .item-dad5f {\n  margin: 10px 5px 5px 5px;\n  display: flex;\n  align-items: center;\n}\n.cfgs-ccc67 .item-dad5f input[type='checkbox'] {\n  appearance: checkbox;\n  margin-right: 5px;\n}\n",""]),s.locals={cfgs:"cfgs-ccc67",item:"item-dad5f"};const a=s},37753:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.main-f8989 .title-f4909 {\n  display: flex;\n  flex-direction: row;\n  margin: 5px 5px 0 5px;\n  align-items: center;\n  cursor: pointer;\n}\n.main-f8989 .title-f4909:hover i {\n  background-color: var(--mybricks-color-primary, #FA6400);\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.main-f8989 .title-f4909:hover span {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.main-f8989 .title-f4909 i {\n  border: 1px solid transparent;\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  margin-right: 5px;\n}\n.main-f8989 .title-f4909 .tt-f018a {\n  color: #333;\n}\n.main-f8989 .pinDesc-d6989 {\n  color: #AAA;\n  font-style: italic;\n  padding-left: 30px;\n  margin-bottom: 10px;\n}\n.main-f8989 .type-df46c {\n  padding-left: 12px;\n  margin-bottom: 10px;\n}\n.main-f8989 .type-df46c .desc-b304c {\n  display: flex;\n  justify-content: space-between;\n}\n.main-f8989 .type-df46c .desc-b304c .prop-c8b05 {\n  color: #555;\n  margin-right: 5px;\n  margin-left: 10px;\n}\n.main-f8989 .type-df46c .desc-b304c .label-ae3a6 {\n  color: #AAA;\n}\n.main-f8989 .type-df46c .schema-baad8 {\n  padding-left: 10px;\n  margin-top: -23px;\n}\n.main-f8989 .exeVal-a9f9a {\n  display: flex;\n  flex-direction: column;\n  padding-left: 22px;\n}\n.main-f8989 .exeVal-a9f9a span {\n  color: #555;\n}\n.main-f8989 .exeVal-a9f9a textarea {\n  min-height: 100px;\n  background: #fff;\n  padding: 5px;\n  border: 1px solid #EEE;\n}\n.config-a40e7 .item-ebbc1 i {\n  background-color: #FFF;\n}\n.input-b2311 .item-ebbc1 i {\n  background-color: #FFF;\n}\n.output-ff943 .item-ebbc1 i {\n  background-color: #CCC;\n}\n.empty-ebd62 {\n  padding: 2px 15px;\n  color: #AAA;\n  font-style: italic;\n}\n",""]),s.locals={main:"main-f8989",title:"title-f4909",tt:"tt-f018a",pinDesc:"pinDesc-d6989",type:"type-df46c",desc:"desc-b304c",prop:"prop-c8b05",label:"label-ae3a6",schema:"schema-baad8",exeVal:"exeVal-a9f9a",config:"config-a40e7",item:"item-ebbc1",input:"input-b2311",output:"output-ff943",empty:"empty-ebd62"};const a=s},15519:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.com-f603f {\n  border: 1px solid #999;\n  background-color: #fff;\n  display: flex;\n  cursor: pointer;\n  position: absolute;\n  user-select: none;\n  z-index: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.com-f603f .comIcon-ae160 {\n  height: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.com-f603f .comIcon-ae160 img {\n  max-width: 16px;\n}\n.com-f603f .title-cfee3 {\n  width: 120%;\n  text-align: center;\n  font-size: 12px;\n  line-height: 13px;\n  transform: scale(0.8) translateY(-10%);\n  word-break: break-all;\n  padding: 2px 3px 0px 3px;\n}\n",""]),s.locals={com:"com-f603f",comIcon:"comIcon-ae160",title:"title-cfee3"};const a=s},40792:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comInfo-b1a40 {\n  margin-bottom: -5px;\n  margin-top: -5px;\n  user-select: text;\n}\n.comInfo-b1a40 .items-e991b:first-child {\n  padding-bottom: 5px;\n}\n.comInfo-b1a40 .info-fcaf9 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.comInfo-b1a40 .info-fcaf9 .version-b9b35 {\n  flex: 1;\n  margin-left: 5px;\n  color: #999;\n  font-style: italic;\n}\n.comInfo-b1a40 .info-fcaf9 .docs-a79c6 {\n  display: flex;\n  color: #777;\n  cursor: pointer;\n}\n.comInfo-b1a40 .info-fcaf9 .docs-a79c6 svg {\n  max-width: 12px;\n  margin-right: 2px;\n}\n.comInfo-b1a40 .desc-dc4f4 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #CCC;\n  font-style: italic;\n}\n.comInfo-b1a40 .desc-dc4f4 .id-f663a {\n  user-select: text;\n}\n.comInfo-b1a40 .upgrade-a30f2 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: 5px 0 0 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.comInfo-b1a40 .upgrade-a30f2 > div {\n  display: flex;\n  align-items: center;\n}\n.comInfo-b1a40 .upgrade-a30f2 svg {\n  margin-right: 5px;\n}\n.comInfo-b1a40 .upgrade-a30f2 span {\n  color: #b45708;\n  font-weight: bold;\n}\n.comInfo-b1a40 .upgrade-a30f2 button {\n  cursor: pointer;\n  padding: 2px 8px;\n  border-radius: 3px;\n  margin: 7px 10px 0 0;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n}\n",""]),s.locals={comInfo:"comInfo-b1a40",items:"items-e991b",info:"info-fcaf9",version:"version-b9b35",docs:"docs-a79c6",desc:"desc-dc4f4",id:"id-f663a",upgrade:"upgrade-a30f2"};const a=s},98711:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comments-c53d4 {\n  width: 100%;\n  height: 100%;\n}\n.comments-c53d4 > div {\n  background-color: #fff;\n  pointer-events: auto !important;\n  position: absolute;\n  border: 1px solid transparent;\n  padding: 1px;\n  color: #999;\n  font-style: italic;\n}\n.comments-c53d4 .commentFocus-f03d7 {\n  background-color: #fff;\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={comments:"comments-c53d4",commentFocus:"commentFocus-f03d7"};const a=s},6355:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.schema-cde21 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.schema-cde21 .btnEdit-f7570 {\n  height: 20px;\n  border-radius: 6px;\n  background: #FFF;\n  padding: 1px 12px;\n  cursor: pointer;\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.schema-cde21 .btnCopy-eeef9 {\n  visibility: hidden;\n  height: 20px;\n  border-radius: 3px;\n  background: #FFF;\n  padding: 2px 8px 0 8px;\n  cursor: pointer;\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.schema-cde21:hover .keyName-bd434 button {\n  display: block !important;\n}\n.schema-cde21:hover .btnCopy-eeef9 {\n  visibility: visible;\n}\n.schema-cde21 .item-cb1f2 {\n  margin-left: 10px;\n  padding: 0 5px 0 15px;\n  position: relative;\n}\n.schema-cde21 .item-cb1f2:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2:last-child:before {\n  left: 0;\n  top: 0;\n  height: 15px;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 {\n  cursor: text;\n  user-select: text;\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  white-space: nowrap;\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 .typeName-e93b8 {\n  cursor: default;\n  user-select: none;\n  font-style: italic;\n  color: #777;\n  padding-left: 3px;\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 2px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.schema-cde21 .item-cb1f2 .desc-fc7be {\n  font-size: 10px;\n  font-style: italic;\n  color: #AAA;\n  margin-top: -5px;\n  padding-left: 5px;\n}\n.schema-cde21 .item-cb1f2 .desc-fc7be:empty {\n  height: 0;\n}\n.schema-cde21 .rootItem-ff9ed {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.schema-cde21 .rootItem-ff9ed:before {\n  border-left-width: 0 !important;\n}\n.schema-cde21 .rootItem-ff9ed > .keyName-bd434:before {\n  border-bottom-width: 0 !important;\n}\n",""]),s.locals={schema:"schema-cde21",btnEdit:"btnEdit-f7570",btnCopy:"btnCopy-eeef9",keyName:"keyName-bd434",item:"item-cb1f2",typeName:"typeName-e93b8",desc:"desc-fc7be",rootItem:"rootItem-ff9ed"};const a=s},65998:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-ea9cc {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-size: 12px;\n  position: relative;\n}\n.editor-ea9cc .toolbar-ef348 {\n  height: 42px;\n  background: #FAFAFA;\n  margin-bottom: -1px;\n  position: relative;\n  text-align: right;\n  padding: 10px;\n  border-bottom: 1px solid #EEE;\n  z-index: 10000;\n  display: flex;\n  justify-content: space-between;\n}\n.editor-ea9cc .toolbar-ef348 > div {\n  padding: 3px 0 0 10px;\n  font-size: 12px;\n  font-weight: 600;\n}\n.editor-ea9cc .toolbar-ef348 button {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  padding: 0 8px;\n  border-radius: 6px;\n  height: 22px;\n  cursor: pointer;\n}\n.editor-ea9cc .toolbar-ef348 button:disabled {\n  background: #F7F7F7;\n  color: #AAA;\n}\n.editor-ea9cc .toolbar-ef348 .code-fab6c {\n  z-index: 100;\n  position: absolute;\n  top: 55px;\n  right: 9px;\n  cursor: pointer;\n  width: 40px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n}\n.editor-ea9cc .toolbar-ef348 .focus-c5f76 {\n  background-color: #AAA;\n}\n.editor-ea9cc .toolbar-ef348 .focus-c5f76 path {\n  fill: #FFF;\n}\n.editor-ea9cc .jsonEditor-da29a {\n  padding: 5px;\n  border: 1px solid #EEE;\n  border-radius: 6px;\n  position: absolute;\n  top: 19px;\n  left: 20px;\n  right: 58px;\n  bottom: 20px;\n}\n.editor-ea9cc .schema-a76d7 {\n  flex: 1;\n  position: relative;\n  overflow: auto;\n  padding: 10px 10px 10px 20px;\n}\n.editor-ea9cc .schema-a76d7:hover .keyName-be405 button {\n  display: block !important;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae {\n  margin-left: 10px;\n  padding: 3px 5px 3px 15px;\n  position: relative;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae:last-child:before {\n  left: 0;\n  top: 0;\n  height: 18px;\n  border-left: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  white-space: nowrap;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 input[type='text'] {\n  border: 1px solid #DDD;\n  padding: 3px 8px;\n  width: 120px;\n  margin-left: 5px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .errInput-fc193 {\n  border-color: red !important;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 select {\n  padding: 2px 5px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .typeName-c50c6 {\n  font-style: italic;\n  color: #777;\n  padding-left: 3px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .btnIcon-cff65 {\n  padding: 3px 0 0 5px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .btnIcon-cff65 svg {\n  height: 12px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 3px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .err-d58eb {\n  position: absolute;\n  color: red;\n  top: 25px;\n  left: 2px;\n  font-size: 10px;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7:before {\n  border-left-width: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 > .keyName-be405:before {\n  border-bottom-width: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 > .keyName-be405 .btnIcon-cff65 {\n  display: none !important;\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09 {\n  color: #999;\n  margin-left: 30px;\n  position: relative;\n  cursor: pointer;\n  font-size: 16px;\n  width: 20px;\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09:before {\n  position: absolute;\n  left: -20px;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #aaa;\n  height: 12px;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09:after {\n  position: absolute;\n  left: -20px;\n  width: 12px;\n  top: 12px;\n  border-bottom: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .disAdder-c7597 {\n  color: #AAA;\n}\n.editor-ea9cc .desc-d3b6a {\n  height: 130px;\n  padding: 10px 15px;\n  color: #999;\n  background: #FAFAFA;\n  border-top: 1px solid #EEE;\n}\n.editor-ea9cc .desc-d3b6a p {\n  font-style: italic;\n  padding: 0 0 5px 0;\n  margin: 0;\n}\n",""]),s.locals={editor:"editor-ea9cc",toolbar:"toolbar-ef348",code:"code-fab6c",focus:"focus-c5f76",jsonEditor:"jsonEditor-da29a",schema:"schema-a76d7",keyName:"keyName-be405",item:"item-cf2ae",errInput:"errInput-fc193",typeName:"typeName-c50c6",btnIcon:"btnIcon-cff65",err:"err-d58eb",rootItem:"rootItem-c95b7",adder:"adder-eae09",disAdder:"disAdder-c7597",desc:"desc-d3b6a"};const a=s},80411:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.returnParams-f4023 {\n  position: relative;\n  padding: 5px;\n}\n.returnParams-f4023:hover .keyName-a70f2 button {\n  display: block !important;\n}\n.returnParams-f4023 .toolbar-cf3ec {\n  display: flex;\n  align-items: center;\n}\n.returnParams-f4023 .toolbar-cf3ec span {\n  margin-right: 12px;\n}\n.returnParams-f4023 .toolbar-cf3ec label {\n  color: #999;\n  font-size: 10px;\n  font-style: italic;\n}\n.returnParams-f4023 .toolbar-cf3ec button {\n  margin-left: 5px;\n  /* padding: 1px 5px; */\n  /* background-color: #FFF; */\n  /* border: 1px solid #DDD; */\n  /* border-radius: 3px; */\n  font-size: 14px;\n  height: 15px;\n  padding: 0 5px 10px 5px;\n  cursor: pointer;\n}\n.returnParams-f4023 .item-b60cf {\n  margin-left: 10px;\n  padding: 0 5px 0 15px;\n  position: relative;\n}\n.returnParams-f4023 .item-b60cf:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf:last-child:before {\n  left: 0;\n  top: 0;\n  height: 15px;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  width: fit-content;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 {\n  display: flex;\n  align-items: center;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  background-color: #FFF;\n  margin-left: 8px;\n  padding: 0 5px 0 0;\n  width: 100px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 select,\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 input {\n  flex: 1;\n  padding: 1px 5px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 input {\n  padding: 1px 5px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 .typeName-b3f86 {\n  white-space: nowrap;\n  font-style: italic;\n  color: #AAA;\n  padding-left: 3px;\n  font-size: 10px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 3px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.returnParams-f4023 .rootItem-f6b4b {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.returnParams-f4023 .rootItem-f6b4b:before {\n  border-left-width: 0 !important;\n}\n.returnParams-f4023 .rootItem-f6b4b > .keyName-a70f2:before {\n  display: none;\n  border-bottom-width: 0 !important;\n}\n.null-f8585 {\n  display: flex;\n  align-items: center;\n  color: #AAA;\n  padding: 10px;\n  font-style: italic;\n}\n",""]),s.locals={returnParams:"returnParams-f4023",keyName:"keyName-a70f2",toolbar:"toolbar-cf3ec",item:"item-b60cf",value:"value-fbf16",typeName:"typeName-b3f86",rootItem:"rootItem-f6b4b",null:"null-f8585"};const a=s},30896:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-c8acc {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-c8acc span {\n  display: inline-block;\n}\n.editor-c8acc span:first-child {\n  width: 60px;\n}\n.editor-c8acc .tt-a94d9 {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-c8acc .type-f0c5f {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-c8acc .type-f0c5f svg {\n  max-width: 16px;\n}\n.editor-c8acc .btns-adf80 .disable-fc52c {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-c8acc .btns-adf80 .test-b3221 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-c8acc .btns-adf80 .test-b3221 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .normal-d9f3f {\n  background-color: #AAA;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .passed-d48d6 {\n  background-color: green;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .failed-c1ba0 {\n  background-color: red;\n}\n.pageList-c9070 {\n  padding: 10px;\n  padding-top: 45px;\n}\n.pageList-c9070 .page-ea338 {\n  cursor: pointer;\n  padding: 12px 5px 12px 0px;\n  border-radius: 5px;\n  margin: 3px 0;\n  display: flex;\n  background-color: #FAFAFA;\n}\n.pageList-c9070 .page-ea338:hover {\n  background-color: #F5F5F5;\n}\n.pageList-c9070 .page-ea338 .icon-f2ba7 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-c9070 .page-ea338 .icon-f2ba7 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-c9070 .page-ea338 .title-b178b {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-c9070 .page-ea338 .title-b178b .time-b9a34 {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-c9070 .focus-bb4c1 {\n  outline: 1px solid var(--mybricks-color-primary, #FA6400);\n}\n",""]),s.locals={editor:"editor-c8acc",tt:"tt-a94d9",type:"type-f0c5f",btns:"btns-adf80",disable:"disable-fc52c",test:"test-b3221",normal:"normal-d9f3f",passed:"passed-d48d6",failed:"failed-c1ba0",pageList:"pageList-c9070",page:"page-ea338",icon:"icon-f2ba7",title:"title-b178b",time:"time-b9a34",focus:"focus-bb4c1"};const a=s},44933:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.text-f0394 {\n  position: absolute;\n  z-index: 1000;\n}\n.text-f0394 textarea {\n  border: 1px solid #DDD;\n  width: 200px;\n  height: 100px;\n  background-color: #FFF;\n  padding: 5px;\n}\n",""]),s.locals={text:"text-f0394"};const a=s},53148:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.view-a58b6 {\n  display: flex;\n  flex-direction: column;\n}\n.view-a58b6 .toolbar-a0b35 {\n  height: 45px;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 20px;\n}\n.view-a58b6 .toolbar-a0b35 .adder-ee2f3 {\n  font-size: 22px;\n  font-weight: 300;\n  cursor: pointer;\n}\n.view-a58b6 .content-a20e9 {\n  flex: 1;\n  padding-left: 10px;\n}\n.view-a58b6 .content-a20e9 .error-d3805 {\n  padding: 30px;\n  color: red;\n  font-style: italic;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa {\n  padding: 3px 3px 3px 20px;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .tt-f3f08 {\n  display: flex;\n  color: #AAA;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d {\n  position: relative;\n  padding-left: 5px;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d:before {\n  position: absolute;\n  content: '';\n  height: 100%;\n  border-left: 1px solid #DDD;\n  left: 10px;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d .fx-ffcc0 {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  border-radius: 5px;\n  margin: 3px 3px 3px 10px;\n  padding: 5px 10px 5px 15px;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d .fx-ffcc0:hover {\n  background: #EEE;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d .fx-ffcc0 label {\n  margin-right: 5px;\n  color: #df7f57;\n  font-weight: bold;\n}\n.view-a58b6 .content-a20e9 .frame-edcfa .fxs-ce11d .fx-ffcc0 span {\n  color: #333;\n}\n.view-a58b6 .content-a20e9 .adder-ee2f3 {\n  cursor: pointer;\n  display: flex;\n  height: 30px;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #eee;\n  background: #F9F9F9;\n  border-radius: 3px;\n  margin: 0 10px;\n  color: #777;\n}\n.view-a58b6 .content-a20e9 .adder-ee2f3 span {\n  font-size: 20px;\n  font-weight: 300;\n  /* height: 22px; */\n  padding-bottom: 5px;\n  margin-right: 5px;\n}\n",""]),s.locals={view:"view-a58b6",toolbar:"toolbar-a0b35",adder:"adder-ee2f3",content:"content-a20e9",error:"error-d3805",frame:"frame-edcfa",tt:"tt-f3f08",fxs:"fxs-ce11d",fx:"fx-ffcc0"};const a=s},37157:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".info-e6b61 {\n  padding: 0 20px;\n}\n.info-e6b61 .tt-bf246 {\n  padding: 5px 0;\n  font-weight: bold;\n}\n.info-e6b61 .slot-dded9 {\n  margin: 5px;\n  padding: 5px 0 5px 10px;\n  position: relative;\n}\n.info-e6b61 .empty-f1ead {\n  color: #AAA;\n  font-style: italic;\n}\n",""]),s.locals={info:"info-e6b61",tt:"tt-bf246",slot:"slot-dded9",empty:"empty-f1ead"};const a=s},55236:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".comDocs-a091c {\n  overflow: auto;\n  padding-top: 40px;\n}\n.comDocs-a091c > * {\n  margin: 10px 0;\n}\n.comDocs-a091c .item-c853c {\n  padding: 0 20px;\n  user-select: text;\n}\n.comDocs-a091c .item-c853c label {\n  font-weight: bold;\n}\n",""]),s.locals={comDocs:"comDocs-a091c",item:"item-c853c"};const a=s},73669:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editPanel-cb0c1 {\n  padding: 3px 10px 2px 3px;\n}\n.editPanel-cb0c1 .edtItem-a3a83 {\n  display: flex;\n  min-height: 32px;\n  margin: 5px 0;\n}\n.editPanel-cb0c1 .edtItem-a3a83 > label {\n  color: #777;\n  text-align: right;\n  margin-right: 5px;\n  margin-top: 5px;\n}\n.editPanel-cb0c1 .edtItem-a3a83 > div {\n  flex: 1;\n  display: flex;\n}\n.editPanel-cb0c1 .edtItem-a3a83 > div > * {\n  width: 100%;\n}\n.editPanel-cb0c1 .edtItem-a3a83 > div > input {\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  height: 22px;\n  padding: 0 5px;\n}\n.empty-e9eef {\n  padding: 5px 10px;\n  color: #AAA;\n  font-style: italic;\n}\n",""]),s.locals={editPanel:"editPanel-cb0c1",edtItem:"edtItem-a3a83",empty:"empty-e9eef"};const a=s},74062:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".scroll-e8e6d {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n}\n.scroll-e8e6d .dragging-c44af > div {\n  background-color: #777 !important;\n}\n.scroll-e8e6d .scrollX-d1ddd,\n.scroll-e8e6d .scrollY-a2a29 {\n  cursor: pointer;\n  pointer-events: auto;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.scroll-e8e6d .scrollX-d1ddd:hover > div,\n.scroll-e8e6d .scrollY-a2a29:hover > div {\n  background-color: #777;\n}\n.scroll-e8e6d .scrollX-d1ddd > div,\n.scroll-e8e6d .scrollY-a2a29 > div {\n  background-color: #CCC;\n  border-radius: 5px;\n}\n.scroll-e8e6d .scrollX-d1ddd {\n  width: 100px;\n  height: 17px;\n  left: 0;\n  bottom: 0;\n}\n.scroll-e8e6d .scrollX-d1ddd > div {\n  height: 6px;\n  width: 100%;\n  margin-bottom: -7px;\n}\n.scroll-e8e6d .scrollY-a2a29 {\n  height: 100px;\n  width: 17px;\n  right: 0;\n  top: 0;\n}\n.scroll-e8e6d .scrollY-a2a29 > div {\n  width: 6px;\n  height: 100%;\n  margin-right: -7px;\n}\n",""]),s.locals={scroll:"scroll-e8e6d",dragging:"dragging-c44af",scrollX:"scrollX-d1ddd",scrollY:"scrollY-a2a29"};const a=s},74768:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r),a=n(73225),l=n.n(a),c=new URL(n(85724),n.b),d=s()(o()),u=l()(c);d.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-d19d5 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-ffb0b {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-b0bf6 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-e8b27 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-a088d {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-e7883 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-adac3 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-ee88b {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-dd506 {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-beebb {\n  align-items: flex-end;\n}\n.mover-b4ed8 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.slotHover-fabba:after {\n  content: ' ';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.note-c689f {\n  z-index: 1001;\n  position: absolute;\n  pointer-events: auto;\n  width: fit-content;\n}\n.note-c689f .tip-c2f67 {\n  width: 26px;\n  height: 26px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n  background: #FFF;\n  filter: drop-shadow(rgba(0, 0, 0, 0.5) 0px 1px 3px);\n  padding: 3px 0 0 3px;\n  cursor: pointer;\n}\n.note-c689f .tip-c2f67 label {\n  cursor: pointer;\n  background-color: var(--mybricks-color-primary, #FA6400);\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #FFF;\n  font-weight: bold;\n}\n.note-c689f .tip-c2f67 label:empty {\n  visibility: hidden;\n}\n.note-c689f .tipRef-ac0fe {\n  width: 24px;\n  height: 24px;\n  border-radius: 5px;\n  padding: 2px 0 0 2px;\n}\n.note-c689f .tipRef-ac0fe label {\n  color: var(--mybricks-color-primary, #FA6400);\n  background: #FFF;\n  width: 20px;\n  height: 20px;\n  border-radius: 3px;\n}\n.note-c689f .title-b57f5 {\n  width: 300px;\n  background: #fbe9ba;\n  position: relative;\n  padding: 5px 7px 6px 7px;\n  font-size: 12px;\n  display: flex;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  align-items: center;\n  justify-content: space-between;\n}\n.note-c689f .title-b57f5 .label-b74fa {\n  font-size: 10px;\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.note-c689f .title-b57f5 .tt-eb750 {\n  height: 16px;\n  padding-left: 5px;\n}\n.note-c689f .title-b57f5 .pin-ede24 {\n  height: 16px;\n  cursor: pointer;\n}\n.note-c689f .title-b57f5 .pin-ede24 svg {\n  width: 12px;\n  height: 12px;\n}\n.note-c689f .title-b57f5 .pin-ede24 svg path {\n  fill: #AAA;\n}\n.note-c689f .title-b57f5 .handler-b9f6f {\n  display: none;\n  position: absolute;\n}\n.note-c689f .title-b57f5 .handler-b9f6f:after {\n  cursor: move;\n  content: ' ';\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n  position: absolute;\n  left: -13px;\n  top: -1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n}\n.note-c689f .title-b57f5 input {\n  background: #FFF;\n  border-radius: 3px;\n  padding: 1px 5px;\n  width: 100%;\n  outline: none !important;\n  border: 1px solid #AAA;\n}\n.note-c689f .items-dfec1 {\n  border: 1px solid transparent;\n  background: #FFF;\n  font-size: 12px;\n  padding: 5px 5px;\n  min-height: 50px;\n}\n.note-c689f .items-dfec1 .item-aa401 .toolbar-fd065 {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px dashed #ccc;\n}\n.note-c689f .items-dfec1 .item-aa401 .toolbar-fd065 .author-c4207 {\n  color: #AAA;\n}\n.note-c689f .items-dfec1 .item-aa401 .toolbar-fd065 .date-c93cc {\n  color: #bbb;\n}\n.note-c689f .items-dfec1 .item-aa401 .content-f1b66 {\n  padding-top: 5px;\n}\n.note-c689f .items-dfec1 .editor-fbaf4 textarea {\n  background: #FFF;\n  width: 100%;\n  min-height: 50px;\n  resize: none;\n  border: 0px;\n}\n.note-c689f .items-dfec1 .editor-fbaf4 button {\n  padding: 5px 11px;\n  margin-right: 5px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.note-c689f .sper-e40e3 {\n  visibility: hidden;\n  cursor: nwse-resize;\n  position: absolute;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background: #FFF;\n  border-radius: 3px;\n  right: -3px;\n  bottom: -3px;\n  width: 9px;\n  height: 9px;\n}\n.notePinUp-f5d31 {\n  animation: none !important;\n}\n.notePinUp-f5d31 .tip-c2f67 {\n  display: none;\n}\n.notePinUp-f5d31 .title-b57f5 .handler-b9f6f {\n  display: block;\n}\n.notePinUp-f5d31 .pin-ede24 svg path {\n  fill: var(--mybricks-color-primary, #FA6400) !important;\n}\n.noteFocus-f4510 {\n  border: none;\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  box-shadow: rgba(0, 0, 0, 0.3) 0 3px 10px;\n  border-radius: 4px;\n  z-index: 10000;\n  animation: popOut-f32f2 0.1s ease forwards;\n  /* 应用弹出动画 */\n  transform-origin: center top;\n}\n.noteFocus-f4510 .tip-c2f67 {\n  display: none;\n}\n.noteFocus-f4510 .title-b57f5 .handler-b9f6f {\n  display: block;\n}\n.noteFocus-f4510 .sper-e40e3 {\n  visibility: visible;\n}\n@keyframes popOut-f32f2 {\n  0% {\n    transform: translateX(-50%) scale(0.5);\n    /* 初始缩小 */\n    opacity: 0;\n    /* 初始不透明 */\n  }\n  100% {\n    transform: translateX(-50%) scale(1);\n    /* 最终正常尺寸 */\n    opacity: 1;\n    /* 最终完全可见 */\n  }\n}\n@keyframes popIn-e379e {\n  0% {\n    transform: translateX(-50%) scale(1);\n    /* 初始正常尺寸 */\n    opacity: 1;\n    /* 初始完全可见 */\n  }\n  100% {\n    transform: translateX(-50%) scale(0.5);\n    /* 最终缩小 */\n    opacity: 0;\n    /* 最终不透明 */\n  }\n}\n.conToRef-d68dc {\n  z-index: 1000;\n  position: absolute;\n  pointer-events: none;\n}\n.conToRef-d68dc circle {\n  fill: var(--mybricks-color-primary, #FA6400);\n  stroke: #FFF;\n  stroke-width: 1px;\n}\n.conToRef-d68dc polyline {\n  shape-rendering: crispEdges;\n  stroke: var(--mybricks-color-primary, #FA6400);\n  stroke-width: 1px;\n}\n.artboard-c1af2 {\n  position: relative;\n  z-index: 1;\n  transform: scale(1);\n  min-width: 10px;\n  min-height: 10px;\n}\n.artboard-c1af2 * {\n  transition: none !important;\n}\n.artboard-c1af2:first-child {\n  margin-right: 70px;\n}\n.artboard-c1af2:not(.module-f12ca):not(:first-child) {\n  margin-left: 70px;\n  margin-right: 70px;\n}\n.artboard-c1af2 .bodyWrap-d78d1 {\n  position: relative;\n  z-index: -1;\n  box-shadow: 0px 0px 5px #999;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  min-width: 10px;\n  min-height: 10px;\n}\n.artboard-c1af2 .body-a2f15 {\n  pointer-events: auto;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n  content-visibility: auto;\n}\n.artboard-c1af2 .body-a2f15 .loading-df967 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.1);\n  background: url("+u+");\n}\n.artboard-c1af2 .bodyOverFlowHidden-b0557 {\n  overflow: hidden;\n}\n.artboard-c1af2 .bodyTemp-c9447 {\n  z-index: -1;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.artboard-c1af2 .hiddenComs-a9749 {\n  position: absolute;\n  left: -70px;\n  top: 0;\n  height: 100%;\n  width: 50px;\n  padding-top: 10px;\n}\n.artboard-c1af2 .hiddenComs-a9749 .item-aa401 {\n  height: 30px;\n  pointer-events: auto;\n  cursor: pointer;\n  position: relative;\n}\n.artboard-c1af2 .hiddenComs-a9749 .item-aa401:hover label {\n  background: #999;\n  color: #FFF;\n}\n.artboard-c1af2 .hiddenComs-a9749 .item-aa401 label {\n  border-radius: 5px;\n  cursor: pointer;\n  position: absolute;\n  top: -2px;\n  right: 16px;\n  font-size: 12px;\n  text-wrap: nowrap;\n  color: #555;\n  font-style: italic;\n  padding: 1px 8px;\n}\n.artboard-c1af2 .hiddenComs-a9749 .item-aa401 span {\n  position: absolute;\n  right: 1px;\n  top: 2px;\n  content: ' ';\n  width: 13px;\n  height: 13px;\n  display: flex;\n  align-items: center;\n}\n.artboard-c1af2 .padding-fe01a {\n  pointer-events: auto;\n  position: absolute;\n  background: rgba(161, 107, 177, 0.15);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.5) 2px, transparent 0, transparent 6px);\n}\n.artboard-c1af2 .paddingTop-b06f4 {\n  width: 100%;\n  left: 0;\n  top: 0;\n}\n.artboard-c1af2 .paddingBottom-d883b {\n  width: 100%;\n  left: 0;\n  bottom: 0;\n}\n.artboard-c1af2 .paddingLeft-a942f {\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.artboard-c1af2 .paddingRight-c91d2 {\n  height: 100%;\n  top: 0;\n  right: 0;\n}\n.artboard-c1af2 .heightFitContent-f987c {\n  height: 10px;\n  position: absolute;\n  left: 0;\n  bottom: -18px;\n  width: 100px;\n}\n.artboard-c1af2 .heightFitContent-f987c:after {\n  content: '高度 (适应内容)';\n  font-style: italic;\n  color: #AAA;\n  text-shadow: -1px 1px 1px #eee;\n}\n.artboard-c1af2 > .com-stub-ce319 {\n  border: 1px dashed var(--mybricks-color-primary, #FA6400);\n}\n.artboard-c1af2 > .comResizer-d063a {\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  right: 3px;\n  bottom: 3px;\n  cursor: nwse-resize;\n  border-right: 2px solid #999;\n  border-bottom: 2px solid #999;\n  display: none;\n}\n.artboard-c1af2 .comResizerB-a9f70 {\n  position: absolute;\n  left: 0;\n  right: 10px;\n  bottom: -5px;\n  height: 10px;\n  cursor: ns-resize;\n}\n.artboard-c1af2 .comResizerR-a74d7 {\n  position: absolute;\n  right: -5px;\n  top: 0;\n  bottom: 10px;\n  width: 10px;\n  cursor: ew-resize;\n}\n.artboard-c1af2 .selectZone-ca6ea {\n  position: absolute;\n  border: 1px dashed #ccc;\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.artboard-c1af2 .notes-b755f {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.module-f12ca {\n  position: absolute;\n}\n.module-f12ca .boardTitle-f8ea2 .icon-b45fd svg path {\n  fill: #9d74da;\n}\n.module-f12ca .boardTitle-f8ea2 .tt-eb750 {\n  color: #9d74da;\n}\n.boardTitle-f8ea2 {\n  pointer-events: auto;\n  opacity: 0.5;\n  margin-top: -26px;\n  margin-right: 20px;\n  height: 26px;\n  padding-top: 3px;\n  font-size: 12px;\n  color: #999;\n  min-width: 100%;\n  width: fit-content;\n  display: flex;\n  z-index: 1;\n  box-sizing: border-box;\n}\n.boardTitle-f8ea2:hover {\n  opacity: 1 !important;\n}\n.boardTitle-f8ea2:hover .close-cb1b9 {\n  visibility: visible;\n}\n.boardTitle-f8ea2 label {\n  margin-top: -2px;\n}\n.boardTitle-f8ea2 .icon-b45fd {\n  cursor: move;\n  display: flex;\n  align-items: center;\n  padding: 2px 2px 0 10px;\n  border-top-left-radius: 5px;\n}\n.boardTitle-f8ea2 .icon-b45fd svg {\n  margin-top: -3px;\n  max-width: 12px !important;\n}\n.boardTitle-f8ea2 .icon-b45fd svg path {\n  fill: #AAA;\n}\n.boardTitle-f8ea2 .tt-eb750 {\n  margin-left: -1px;\n  padding: 4px 10px 2px 5px;\n  white-space: nowrap;\n  font-weight: bold;\n  font-style: normal;\n  opacity: 1;\n  border-top-right-radius: 5px;\n  cursor: move;\n}\n.boardTitle-f8ea2 .tt-eb750 > span {\n  margin-right: 2px;\n}\n.boardTitle-f8ea2 .tt-eb750 input {\n  border: 0;\n  color: #333;\n  outline: none;\n}\n.boardTitle-f8ea2 .tt-eb750 .ttDesc-fda70 {\n  margin-left: 5px;\n  margin-right: 0;\n  opacity: 0.6;\n}\n.boardTitle-f8ea2 .moving-cd955 {\n  font-size: 20px;\n  color: var(--mybricks-color-primary, #FA6400);\n}\n.boardTitle-f8ea2 .flex-bdfa7 {\n  padding-left: 10px;\n  display: flex;\n  flex: 1;\n  position: relative;\n}\n.boardTitle-f8ea2 .pinTitle-ba948 {\n  background: #b867c4;\n  border: 5px;\n  padding: 0 10px;\n  color: #FFF;\n  font-weight: bold;\n  height: 20px;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: 4px;\n}\n.boardTitle-f8ea2 .desc-e488e {\n  margin-right: 5px;\n  margin-top: 1px;\n  margin-bottom: 4px;\n  display: inline-flex;\n  align-items: center;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\n.boardTitle-f8ea2 .desc-e488e > span,\n.boardTitle-f8ea2 .desc-e488e > label {\n  font-style: italic;\n  white-space: nowrap;\n  margin-top: 0;\n}\n.boardTitle-f8ea2 .desc-e488e > label {\n  margin-right: 5px;\n}\n.boardTitle-f8ea2 .desc-e488e > span {\n  margin-left: 5px;\n  width: 70px;\n}\n.boardTitle-f8ea2 .desc-e488e > div {\n  width: 20px;\n  height: 18px;\n  border-radius: 3px;\n  margin: -2px 6px 0 6px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.boardTitle-f8ea2 .desc-e488e > div svg {\n  width: 14px;\n}\n.boardTitle-f8ea2 .desc-e488e > div svg path {\n  fill: #555;\n}\n.boardTitle-f8ea2 .desc-e488e > div:hover {\n  background: #999;\n}\n.boardTitle-f8ea2 .desc-e488e > div:hover svg path {\n  fill: #FFF;\n}\n.boardTitle-f8ea2 .desc-e488e .layoutInfo-ab09d {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  font-style: italic;\n}\n.boardTitle-f8ea2 .desc-e488e .iconLayout-f2c1c {\n  margin-left: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n}\n.boardTitle-f8ea2 .desc-e488e .iconLayout-f2c1c svg {\n  max-width: 14px;\n}\n.boardTitle-f8ea2 .desc-e488e .iconLayout-f2c1c svg path {\n  fill: #777;\n}\n.boardTitle-f8ea2 .desc-e488e .iconActive-ad810 {\n  background: var(--mybricks-color-primary, #FA6400) !important;\n}\n.boardTitle-f8ea2 .desc-e488e .iconActive-ad810 svg path {\n  fill: #FFF;\n}\n.boardTitle-f8ea2 .desc-e488e .iconActiveDisabled-dd2ce:hover {\n  background: transparent !important;\n}\n.boardTitle-f8ea2 .desc-e488e .iconActiveDisabled-dd2ce:hover svg path {\n  fill: #777;\n}\n.boardTitle-f8ea2 .desc-e488e .iconActiveDisabled-dd2ce svg path {\n  fill: #777;\n}\n.boardTitle-f8ea2 .desc-e488e .iconDisabled-ec31f {\n  opacity: 0.5;\n}\n.boardTitle-f8ea2 .close-cb1b9 {\n  font-size: 12px;\n  align-items: flex-end;\n  font-style: normal;\n  font-weight: bold;\n  margin-left: 15px;\n  visibility: hidden;\n  margin-top: 3px;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg {\n  max-width: 14px;\n  max-height: 14px;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg path {\n  fill: #555;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg:hover path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.boardTitle-f8ea2 .debug-a0ecc {\n  cursor: pointer;\n  margin-left: 5px;\n  margin-top: 2px;\n}\n.boardTitle-f8ea2 .debug-a0ecc svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.boardTitle-f8ea2 .debug-a0ecc svg path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.boardTitle-f8ea2 .debug-a0ecc svg:hover path {\n  fill: var(--mybricks-color-primary, #FA6400);\n}\n.boardTitle-f8ea2 .debugStop-d2c1f {\n  background: var(--mybricks-color-primary);\n  color: #FFF;\n  font-weight: bold;\n  position: relative;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f span {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f svg {\n  max-width: 18px;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f svg path {\n  fill: #FFF !important;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f span:first-child {\n  top: 7px;\n  left: 7px;\n  width: 6px;\n  height: 6px;\n  overflow: hidden;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f span:first-child svg {\n  max-width: 14px;\n  position: absolute;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f span:last-child {\n  animation: rot-dea46 2s linear infinite;\n}\n.boardTitle-f8ea2 .debugStop-d2c1f span:last-child svg {\n  max-width: 16px;\n}\n.boardTitle-f8ea2 .noteLabel-e2f21 {\n  margin-left: 2px;\n  padding: 0 2px 1px 2px;\n  font-size: 8px;\n  background: #FFF;\n  top: 2px;\n  color: red;\n  z-index: 100;\n  height: 13px;\n}\n.resizeInfo-d06c0 {\n  white-space: nowrap;\n  position: absolute;\n  bottom: -25px;\n  height: fit-content;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 2px 5px;\n  border-radius: 3px;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  font-size: 10px;\n}\n.resizeR-d7263,\n.resizeB-fd346,\n.resizeRB-ae75a {\n  box-sizing: border-box;\n}\n.resizeR-d7263:after,\n.resizeB-fd346:after,\n.resizeRB-ae75a:after {\n  box-sizing: border-box;\n}\n.resizeR-d7263 {\n  pointer-events: auto;\n  position: absolute;\n  right: -5px;\n  top: 0;\n  bottom: 0;\n  width: 10px;\n  cursor: ew-resize;\n  z-index: 10000;\n}\n.resizeR-d7263:not([data-mode-debug=false]):after {\n  content: '';\n  position: absolute;\n  width: 5px;\n  height: 25px;\n  max-height: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 3px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 3px;\n}\n.resizeB-fd346 {\n  pointer-events: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: -5px;\n  height: 10px;\n  cursor: ns-resize;\n  z-index: 10000;\n}\n.resizeB-fd346:not([data-mode-debug=false]):after {\n  content: '';\n  position: absolute;\n  height: 5px;\n  width: 25px;\n  max-width: 50%;\n  background-color: #FFF;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  left: 50%;\n  transform: translateX(-50%);\n  top: 3px;\n  border-radius: 3px;\n}\n.resizeRB-ae75a {\n  pointer-events: auto;\n  position: absolute;\n  right: -4px;\n  bottom: -4px;\n  width: 8px;\n  height: 8px;\n  cursor: nwse-resize;\n  border: 1px solid var(--mybricks-color-primary, #FA6400);\n  background-color: #FFF;\n  z-index: 10000;\n}\n.closed-a1a9a {\n  display: none;\n}\n.hidden-c4194 {\n  content-visibility: hidden;\n}\n.selection-fdd4f {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.now-b6d6f {\n  z-index: 10000;\n}\n.now-b6d6f .boardTitle-f8ea2 {\n  opacity: 0.5;\n}\n.now-b6d6f .boardTitle-f8ea2 .desc-e488e {\n  pointer-events: auto;\n}\n.now-b6d6f .boardTitle-f8ea2 .debug-a0ecc {\n  visibility: visible !important;\n}\n.now-b6d6f .boardTitle-f8ea2 .icon-b45fd {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.now-b6d6f .boardTitle-f8ea2 .icon-b45fd svg path {\n  fill: #FFF;\n}\n.now-b6d6f .boardTitle-f8ea2 .tt-eb750 {\n  color: #FFF;\n  font-weight: bold;\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.focusBoard-fe470 .boardTitle-f8ea2 {\n  opacity: 1;\n}\n.focusBoard-fe470 .boardTitle-f8ea2 .tt-eb750 {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.focusBoard-fe470 .boardTitle-f8ea2 .icon-b45fd {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.frozen-d8a49:after {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100% !important;\n  background: transparent;\n  z-index: 10000;\n}\n.zoomViewFlow-a649e {\n  position: relative;\n}\n.empty-ef224 {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #AAA;\n  font-style: italic;\n  font-size: 10px;\n  position: absolute;\n}\n.emptyLayoutFlexRow-e7c2f {\n  background: repeating-linear-gradient(0deg, #F9F9F9, #F9F9F9 15px, #FDFDFD 0, #FDFDFD 30px) !important;\n}\n.emptyLayoutFlexColumn-dfe6e {\n  background: repeating-linear-gradient(90deg, #FAFAFA, #FAFAFA 15px, #FDFDFD 0, #FDFDFD 30px) !important;\n}\n.emptyLayoutSmart-aef08 {\n  background: radial-gradient(circle at 1px 1px, #EAEAEA 1px, transparent 0);\n  background-size: 15px 15px;\n}\n.debugCanvas-c2434 {\n  pointer-events: auto;\n  box-shadow: 0 2px 6px #AAA;\n  position: absolute;\n  transform: scale(1);\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n}\n.debugCanvas-c2434 .boardTitle-f8ea2 {\n  position: absolute;\n}\n.debugCanvas-c2434 .boardTitle-f8ea2 .tt-eb750 {\n  padding-top: 3px;\n}\n.debugCanvas-c2434 .titleBar-a2374 {\n  height: 30px;\n  position: absolute;\n  top: -30px;\n  display: flex;\n  align-items: center;\n}\n.debugCanvas-c2434 .titleBar-a2374 .tt-eb750 {\n  margin: 0 10px;\n}\n.debugCanvas-c2434 .debugBody-dddc9 {\n  width: 100%;\n  height: 100%;\n  min-height: fit-content;\n  transform: scale(1);\n}\n.debugCanvas-c2434 .debugBody-dddc9::after {\n  content: \" \";\n  display: block;\n  clear: both;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.debugCanvas-c2434 .layer-a0bdb {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  left: 0;\n  top: 0;\n}\n.debugCanvas-c2434 .openLayer-d9e7b {\n  position: absolute !important;\n  animation: slipInto-a8192 0.1s ease-in-out 1;\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 {\n  position: absolute;\n  z-index: 10000;\n  left: 0;\n  top: 0;\n  bottom: 300px;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 > div {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0);\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 > div > * > * {\n  pointer-events: auto !important;\n}\n.debugCanvas-c2434 .popupBg-b728a {\n  position: absolute;\n  background: transparent;\n  pointer-events: none;\n  z-index: 1000000;\n  transform: translateZ(0);\n}\n@keyframes rot-dea46 {\n  0% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(90deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  75% {\n    transform: rotate(270deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes slipInto-a8192 {\n  0% {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n",""]),d.locals={lyFlexColumn:"lyFlexColumn-d19d5",lyFlexRow:"lyFlexRow-ffb0b",justifyContentFlexStart:"justifyContentFlexStart-b0bf6",justifyContentFlexCenter:"justifyContentFlexCenter-e8b27",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-a088d",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-e7883",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-adac3",alignItemsFlexStart:"alignItemsFlexStart-ee88b",alignItemsFlexCenter:"alignItemsFlexCenter-dd506",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-beebb",mover:"mover-b4ed8",slotHover:"slotHover-fabba",note:"note-c689f",tip:"tip-c2f67",tipRef:"tipRef-ac0fe",title:"title-b57f5",label:"label-b74fa",tt:"tt-eb750",pin:"pin-ede24",handler:"handler-b9f6f",items:"items-dfec1",item:"item-aa401",toolbar:"toolbar-fd065",author:"author-c4207",date:"date-c93cc",content:"content-f1b66",editor:"editor-fbaf4",sper:"sper-e40e3",notePinUp:"notePinUp-f5d31",noteFocus:"noteFocus-f4510",popOut:"popOut-f32f2",conToRef:"conToRef-d68dc",artboard:"artboard-c1af2",module:"module-f12ca",bodyWrap:"bodyWrap-d78d1",body:"body-a2f15",loading:"loading-df967",bodyOverFlowHidden:"bodyOverFlowHidden-b0557",bodyTemp:"bodyTemp-c9447",hiddenComs:"hiddenComs-a9749",padding:"padding-fe01a",paddingTop:"paddingTop-b06f4",paddingBottom:"paddingBottom-d883b",paddingLeft:"paddingLeft-a942f",paddingRight:"paddingRight-c91d2",heightFitContent:"heightFitContent-f987c","com-stub":"com-stub-ce319",comResizer:"comResizer-d063a",comResizerB:"comResizerB-a9f70",comResizerR:"comResizerR-a74d7",selectZone:"selectZone-ca6ea",notes:"notes-b755f",boardTitle:"boardTitle-f8ea2",icon:"icon-b45fd",close:"close-cb1b9",ttDesc:"ttDesc-fda70",moving:"moving-cd955",flex:"flex-bdfa7",pinTitle:"pinTitle-ba948",desc:"desc-e488e",layoutInfo:"layoutInfo-ab09d",iconLayout:"iconLayout-f2c1c",iconActive:"iconActive-ad810",iconActiveDisabled:"iconActiveDisabled-dd2ce",iconDisabled:"iconDisabled-ec31f",debug:"debug-a0ecc",debugStop:"debugStop-d2c1f",rot:"rot-dea46",noteLabel:"noteLabel-e2f21",resizeInfo:"resizeInfo-d06c0",resizeR:"resizeR-d7263",resizeB:"resizeB-fd346",resizeRB:"resizeRB-ae75a",closed:"closed-a1a9a",hidden:"hidden-c4194",selection:"selection-fdd4f",now:"now-b6d6f",focusBoard:"focusBoard-fe470",frozen:"frozen-d8a49",zoomViewFlow:"zoomViewFlow-a649e",empty:"empty-ef224",emptyLayoutFlexRow:"emptyLayoutFlexRow-e7c2f",emptyLayoutFlexColumn:"emptyLayoutFlexColumn-dfe6e",emptyLayoutSmart:"emptyLayoutSmart-aef08",debugCanvas:"debugCanvas-c2434",titleBar:"titleBar-a2374",debugBody:"debugBody-dddc9",layer:"layer-a0bdb",openLayer:"openLayer-d9e7b",slipInto:"slipInto-a8192",canvasElement:"canvasElement-a2ce6",popupBg:"popupBg-b728a",popIn:"popIn-e379e"};const p=d},13849:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.geoView-ec1a6 {\n  pointer-events: none;\n  display: inline-flex;\n  align-items: flex-start;\n  flex-direction: row;\n  position: relative;\n  z-index: 0;\n  transform-origin: 0 0;\n  font-feature-settings: normal;\n  font-variant-numeric: normal;\n}\n.geoView-ec1a6 ::-webkit-scrollbar {\n  width: 12px;\n  height: 12px;\n  pointer-events: visible !important;\n}\n.geoView-ec1a6 ::-webkit-scrollbar-thumb {\n  pointer-events: visible !important;\n  border-radius: 0;\n  background: #CCC;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.geoView-ec1a6 ::-webkit-scrollbar-thumb:hover {\n  background: #777;\n  border-radius: 0;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.geoView-ec1a6 ::-webkit-scrollbar-button {\n  display: none;\n}\n.geoView-ec1a6 ::-webkit-scrollbar-corner {\n  display: none;\n}\n.geoView-ec1a6:hover > .comResizer-fc20b {\n  display: inherit !important;\n}\n.geoView-ec1a6 .header-a40d1 {\n  width: 100%;\n  height: 30px;\n  border: 1px solid transparent;\n  border-bottom: 1px solid #EEE;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  background-color: #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n.geoView-ec1a6 .header-a40d1 .btns-d3b9c {\n  display: flex;\n  align-items: center;\n}\n.geoView-ec1a6 .header-a40d1 .btns-d3b9c span {\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  background-color: #EEE;\n  margin: auto 5px;\n}\n.geoView-ec1a6 .header-a40d1 p {\n  padding: 0 10px 0 0;\n  color: #AAA;\n  margin: 0;\n  font-size: 10px;\n}\n.geoView-ec1a6 .emptyCanvas-efafa {\n  color: #999;\n  font-style: italic;\n}\n.geoView-ec1a6 .emptyCanvas-efafa > div {\n  pointer-events: auto;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.geoView-ec1a6 .emptyCanvas-efafa > div svg {\n  max-width: 12px;\n  margin-right: 5px;\n}\n.geoView-ec1a6 .emptyCanvas-efafa > div svg path {\n  fill: #999;\n}\n.geoView-ec1a6 .empty-aa92f {\n  pointer-events: auto;\n  cursor: pointer;\n  width: 200px;\n  height: 90px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: 2px dashed #BBB;\n  border-radius: 5px;\n  color: #777;\n  margin: 0 30px;\n}\n.geoView-ec1a6 .empty-aa92f span {\n  font-size: 30px;\n  font-weight: 200;\n  height: 30px;\n  line-height: 30px;\n}\n.geoView-ec1a6 .empty-aa92f label {\n  color: #777;\n}\n.blueprint-a6ebb {\n  top: 0;\n  left: 0;\n  position: absolute;\n  z-index: 10000;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.blueprint-a6ebb ._0-b5dfa,\n.blueprint-a6ebb ._1-f57e4,\n.blueprint-a6ebb ._2-b5926,\n.blueprint-a6ebb ._3-f24c6 {\n  position: absolute;\n  font-size: 12px;\n  color: #d8a50d;\n  font-weight: bold;\n}\n.blueprint-a6ebb ._0-b5dfa {\n  left: -30px;\n  top: -30px;\n}\n.blueprint-a6ebb ._1-f57e4 {\n  right: -30px;\n  top: -30px;\n}\n.blueprint-a6ebb ._2-b5926 {\n  left: -30px;\n  bottom: -30px;\n}\n.blueprint-a6ebb ._3-f24c6 {\n  right: -30px;\n  bottom: -30px;\n}\n.screen-ab3da {\n  position: absolute;\n  z-index: 10000;\n  width: 100%;\n}\n.screen-ab3da:before {\n  content: '首屏';\n  position: absolute;\n  left: -48px;\n  top: -7px;\n  font-size: 12px;\n  color: #666;\n}\n.screen-ab3da .arrowLeft-c7019,\n.screen-ab3da .arrowRight-c60c7 {\n  position: absolute;\n  transform: translateY(-8px);\n}\n.screen-ab3da .arrowLeft-c7019 {\n  left: -20px;\n}\n.screen-ab3da .arrowRight-c60c7 {\n  right: -20px;\n}\n",""]),s.locals={geoView:"geoView-ec1a6",comResizer:"comResizer-fc20b",header:"header-a40d1",btns:"btns-d3b9c",emptyCanvas:"emptyCanvas-efafa",empty:"empty-aa92f",blueprint:"blueprint-a6ebb",_0:"_0-b5dfa",_1:"_1-f57e4",_2:"_2-b5926",_3:"_3-f24c6",screen:"screen-ab3da",arrowLeft:"arrowLeft-c7019",arrowRight:"arrowRight-c60c7"};const a=s},59773:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.com-eecfc {\n  position: relative;\n  box-sizing: border-box;\n  z-index: 1;\n  flex-shrink: 0;\n  transform: scale(1);\n}\n.module-ef942:after {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10000;\n  content: '';\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(to top right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) calc(50% - 1px), rgba(201, 157, 157, 0.08) 50%, rgba(0, 0, 0, 0) calc(50% + 1px), rgba(0, 0, 0, 0) 100%), linear-gradient(to bottom right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) calc(50% - 1px), rgba(201, 157, 157, 0.08) 50%, rgba(0, 0, 0, 0) calc(50% + 1px), rgba(0, 0, 0, 0) 100%);\n  background-size: 30px 30px;\n}\n.module-ef942 * {\n  pointer-events: none !important;\n}\n.temp-fb6b0 {\n  position: absolute !important;\n}\n.temp-fb6b0:after {\n  content: '';\n  clear: both;\n  overflow: hidden;\n  height: 0;\n  *zoom: 1;\n}\n.fullWidth-c2a86 {\n  display: block;\n  width: 100%;\n}\n.fullHeight-bc816 {\n  display: flex;\n  height: 100%;\n}\n.abs-aafb2 {\n  z-index: 1;\n}\n.fixed-feb38 {\n  z-index: 1000;\n}\n.selected-d9748:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  content: '';\n  outline: 2px solid var(--mybricks-color-primary, #FA6400) !important;\n  z-index: 10000;\n}\n.disabled-c8b6b {\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n.disabled-c8b6b * {\n  pointer-events: none !important;\n  cursor: default;\n}\n.opacity-c8b86 {\n  opacity: 0.3;\n  pointer-events: none;\n}\n.opacity-c8b86 * {\n  pointer-events: none;\n  cursor: default;\n}\n.debug-f9be3 {\n  flex-shrink: 0;\n  position: relative;\n}\n.debug-f9be3 .wrap-c360d {\n  width: 100%;\n  height: 100%;\n}\n.debug-f9be3 .wrap-c360d > div * {\n  user-select: auto !important;\n  pointer-events: auto !important;\n}\n.debug-f9be3 .wrap-c360d .geoComSlot-a4683 {\n  border-color: transparent;\n}\n.flex-a36c0 {\n  flex: 1;\n  height: 0 !important;\n}\n.flex-a36c0 > * {\n  position: absolute !important;\n  height: 100%;\n  width: 100%;\n}\n.flex-a36c0 .contentWithFlexMargin-d38b5 {\n  left: 0;\n  top: 0;\n}\n.flex-a36c0 .contentWithFlexMargin-d38b5 > * {\n  height: 100%;\n  width: 100%;\n}\n.grid-eaaa2 {\n  display: grid !important;\n  flex: 1;\n  height: 0;\n}\n.grid-eaaa2 > * {\n  height: 100%;\n}\n.hidden-b5c47 {\n  visibility: visible !important;\n  font-style: italic;\n  color: #AAA;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n}\n.error-eae23 {\n  font-size: 12px;\n  color: #f5222d;\n  background: #FFF;\n  border: 1px dashed #f5222d;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n  padding: 2px 5px;\n  box-sizing: border-box;\n}\n.error-eae23:before {\n  content: '组件发生错误';\n  font-weight: bold;\n  margin-right: 3px;\n  margin-bottom: 3px;\n}\n.error-eae23 > p {\n  margin: 0;\n}\n.errorRT-addbd {\n  height: 100%;\n  padding: 5px;\n  overflow: hidden;\n}\n.errorRT-addbd .tt-ab749 {\n  font-size: 12px;\n  color: #f5222d;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.errorRT-addbd .info-fff1a {\n  color: #f5222d;\n  margin-bottom: 5px;\n}\n.staticMoving-f2f3d {\n  opacity: 0.7 !important;\n}\n.absMoving-a96a4 {\n  outline: 1px dashed #DDD;\n  outline-offset: -1px;\n  opacity: 0.7 !important;\n  z-index: 10000;\n  pointer-events: none !important;\n}\n.absMoving-a96a4 > * {\n  pointer-events: none !important;\n}\n.absMoving-a96a4 > * ::-webkit-scrollbar {\n  display: none;\n  /* Chrome Safari */\n}\n.absMoving-a96a4 [data-slot-id] {\n  pointer-events: none !important;\n}\n.groupMoving-e8dca {\n  opacity: 0.7 !important;\n  z-index: 10000;\n  pointer-events: none !important;\n}\n.groupMoving-e8dca > * {\n  pointer-events: none !important;\n}\n.groupMoving-e8dca [data-slot-id] {\n  pointer-events: none !important;\n  outline: none !important;\n}\n.desn-aeea3 {\n  cursor: default !important;\n  pointer-events: auto !important;\n}\n.desn-aeea3:hover > .append-ffbec .flexX0-b920d,\n.desn-aeea3:hover > .append-ffbec .flexX1-e8b54,\n.desn-aeea3:hover > .append-ffbec .autoX0-e6082,\n.desn-aeea3:hover > .append-ffbec .autoX1-fe9d4,\n.desn-aeea3:hover > .append-ffbec .autoY0-e99fe,\n.desn-aeea3:hover > .append-ffbec .autoY1-d08f8 {\n  visibility: hidden;\n}\n.desn-aeea3 *:has(>:disabled) {\n  position: relative;\n}\n.desn-aeea3 *:has(>:disabled):after {\n  content: ' ';\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  pointer-events: auto !important;\n  cursor: pointer;\n}\n.desn-aeea3 > * {\n  cursor: default !important;\n  box-sizing: border-box;\n  vertical-align: top;\n}\n.desn-aeea3 > * * {\n  user-select: none;\n  cursor: default !important;\n}\n.desn-aeea3 > * [contenteditable='true'] {\n  pointer-events: none !important;\n}\n.desn-aeea3 > * img {\n  pointer-events: none;\n}\n.desn-aeea3 > * a[href] {\n  pointer-events: none;\n}\n.desn-aeea3 > * iframe {\n  pointer-events: none !important;\n}\n.desn-aeea3 [data-ai-field] {\n  position: relative;\n}\n.desn-aeea3 [data-ai-field]:hover:before {\n  content: ' ';\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: red;\n}\n.desn-aeea3 .append-ffbec {\n  pointer-events: none !important;\n  overflow: visible;\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n}\n.desn-aeea3 .append-ffbec span {\n  position: absolute;\n  overflow: hidden;\n  width: 12px;\n  height: 12px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n.desn-aeea3 .append-ffbec span svg {\n  max-width: 10px;\n}\n.desn-aeea3 .append-ffbec .mask-c112b {\n  z-index: 10000;\n  pointer-events: none;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.2);\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(200, 200, 200, 0.2) 2px, rgba(255, 255, 255, 0.2) 6px);\n}\n.desn-aeea3 .append-ffbec .noteLabel-ef45b {\n  padding: 0 2px 1px 2px;\n  font-size: 8px;\n  background: #FFF;\n  top: 2px;\n  color: red;\n  z-index: 100;\n  height: 11px;\n}\n.desn-aeea3 .append-ffbec .upgrade-d28df {\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  bottom: 3px;\n  right: 3px;\n  z-index: 100;\n}\n.desn-aeea3 .append-ffbec .flexX0-b920d,\n.desn-aeea3 .append-ffbec .flexX1-e8b54 {\n  top: 0;\n  background: transparent !important;\n  border-radius: 4px;\n  width: 12px;\n  height: 100%;\n  position: absolute;\n  z-index: 100;\n}\n.desn-aeea3 .append-ffbec .flexX0-b920d label,\n.desn-aeea3 .append-ffbec .flexX1-e8b54 label {\n  background-color: rgba(215, 3, 251, 0.4);\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 3px;\n  height: 3px;\n}\n.desn-aeea3 .append-ffbec .flexX0-b920d label path,\n.desn-aeea3 .append-ffbec .flexX1-e8b54 label path {\n  fill: #FFF;\n}\n.desn-aeea3 .append-ffbec .flexX0-b920d {\n  border-left: 1px solid rgba(215, 3, 251, 0.4);\n  left: 0;\n}\n.desn-aeea3 .append-ffbec .flexX0-b920d > label {\n  left: 0;\n}\n.desn-aeea3 .append-ffbec .flexX1-e8b54 {\n  border-right: 1px solid rgba(215, 3, 251, 0.4);\n  right: 0;\n}\n.desn-aeea3 .append-ffbec .flexX1-e8b54 > label {\n  right: 0;\n}\n.desn-aeea3 .append-ffbec .autoX0-e6082,\n.desn-aeea3 .append-ffbec .autoX1-fe9d4 {\n  background: transparent !important;\n  border-radius: 4px;\n  width: 12px;\n  height: 100%;\n  position: absolute;\n  z-index: 100;\n}\n.desn-aeea3 .append-ffbec .autoX0-e6082 label,\n.desn-aeea3 .append-ffbec .autoX1-fe9d4 label {\n  background-color: rgba(3, 189, 156, 0.4);\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 3px;\n  height: 3px;\n}\n.desn-aeea3 .append-ffbec .autoX0-e6082 label path,\n.desn-aeea3 .append-ffbec .autoX1-fe9d4 label path {\n  fill: #FFF;\n}\n.desn-aeea3 .append-ffbec .autoX0-e6082 {\n  border-left: 1px solid rgba(3, 189, 156, 0.4);\n  left: 0;\n}\n.desn-aeea3 .append-ffbec .autoX0-e6082 > label {\n  left: 0;\n}\n.desn-aeea3 .append-ffbec .autoX1-fe9d4 {\n  border-right: 1px solid rgba(3, 189, 156, 0.4);\n  right: 0;\n}\n.desn-aeea3 .append-ffbec .autoX1-fe9d4 > label {\n  right: 0;\n}\n.desn-aeea3 .append-ffbec .autoY0-e99fe,\n.desn-aeea3 .append-ffbec .autoY1-d08f8 {\n  background: transparent !important;\n  border-radius: 4px;\n  height: 12px;\n  width: 100%;\n  position: absolute;\n  z-index: 100;\n}\n.desn-aeea3 .append-ffbec .autoY0-e99fe label,\n.desn-aeea3 .append-ffbec .autoY1-d08f8 label {\n  background-color: rgba(3, 189, 156, 0.4);\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 3px;\n  height: 3px;\n}\n.desn-aeea3 .append-ffbec .autoY0-e99fe label path,\n.desn-aeea3 .append-ffbec .autoY1-d08f8 label path {\n  fill: #FFF;\n}\n.desn-aeea3 .append-ffbec .autoY0-e99fe {\n  border-top: 1px solid rgba(3, 189, 156, 0.4);\n  top: 0;\n}\n.desn-aeea3 .append-ffbec .autoY0-e99fe > label {\n  top: 0;\n}\n.desn-aeea3 .append-ffbec .autoY1-d08f8 {\n  border-bottom: 1px solid rgba(3, 189, 156, 0.4);\n  bottom: 0;\n}\n.desn-aeea3 .append-ffbec .autoY1-d08f8 > label {\n  right: 0;\n}\n.desn-aeea3 .moving-c9599 {\n  pointer-events: auto !important;\n  background: transparent;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n}\n.desn-aeea3 .events-a8404 {\n  cursor: pointer !important;\n  pointer-events: none;\n  background-color: #f8e333;\n  /* border: 1px solid #eed90c; */\n  position: absolute !important;\n  z-index: 100;\n  padding: 0 3px;\n  top: 2px;\n  right: 2px;\n  font-size: 8px;\n  color: #000;\n  height: 12px;\n  display: flex;\n  align-items: center;\n  font-style: normal;\n  font-weight: 200;\n}\n.selection-cf99d {\n  z-index: 0;\n}\n.defined-cc442 * {\n  pointer-events: none !important;\n}\n.focusPaasive-e7fe6 {\n  visibility: visible;\n}\n.locked-af055 {\n  pointer-events: none !important;\n}\n.locked-af055 > .append-ffbec {\n  border: 1px dashed #DDD !important;\n}\n.sayHi-d9d7f {\n  animation-name: jump-aed5a;\n  animation-duration: 0.5s;\n  animation-timing-function: linear;\n  z-index: 10000;\n  background-color: #FFF;\n  outline: 4px solid var(--mybricks-color-primary, #FA6400) !important;\n  outline-offset: -2px !important;\n}\n@keyframes jump-aed5a {\n  0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1.1, 1.1);\n  }\n  50% {\n    transform: scale(1, 1);\n  }\n  75% {\n    transform: scale(1.1, 1.1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n}\n.opened-ca865 {\n  outline: 2px solid #02def3;\n  outline-offset: -1px;\n}\n.opened-ca865 * {\n  pointer-events: auto !important;\n}\n.opened-ca865 * .module-ef942 {\n  pointer-events: none !important;\n  overflow: hidden !important;\n}\n.opened-ca865 * .module-ef942 * {\n  pointer-events: none !important;\n  overflow: hidden !important;\n}\n.opened-ca865:after {\n  display: none;\n}\n.aiWorking-e5f2b,\n.aiWorkingDone-c5d0f {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n.aiWorking-e5f2b:before,\n.aiWorkingDone-c5d0f:before,\n.aiWorking-e5f2b:after,\n.aiWorkingDone-c5d0f:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n.aiWorking-e5f2b:after,\n.aiWorkingDone-c5d0f:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-b95e8 3s infinite alternate;\n}\n.aiWorking-e5f2b:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-ba374 4s linear infinite;\n}\n.aiWorkingDone-c5d0f:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n@keyframes rotate-be826 {\n  100% {\n    transform: rotate(1turn);\n  }\n}\n@keyframes opacityChange-b95e8 {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-ba374 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.focus-bf60d {\n  cursor: default;\n}\n.focus-bf60d .editableFocus-c446e {\n  cursor: default !important;\n  outline: none !important;\n  pointer-events: none !important;\n}\n.focus-bf60d .editableFocus-c446e * {\n  transition: none !important;\n}\n.focus-bf60d .editableFocus-c446e textarea,\n.focus-bf60d .editableFocus-c446e [type=\"text\"],\n.focus-bf60d .editableFocus-c446e [type=\"password\"],\n.focus-bf60d .editableFocus-c446e [type=\"tel\"] {\n  transition: none !important;\n}\n.labelTodo-f8bd4 {\n  outline: 1px dashed #03B6FC;\n  position: relative;\n}\n.labelTodo-f8bd4:before {\n  content: \"Todo\";\n  color: #FFF;\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  z-index: 1;\n  width: max-content;\n  height: 20px;\n  line-height: 20px;\n  padding: 0px 8px;\n  overflow: hidden;\n  position: absolute;\n  left: -2px;\n  bottom: 2px;\n  background: #03B6FC;\n  border-radius: 10px;\n  transform: scale(0.8);\n  opacity: 0.8;\n}\n.warnUpgrade-ca8cd:before {\n  content: '';\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: 3px;\n  right: 3px;\n  z-index: 100;\n}\n.warnUpgrade-ca8cd .info-fff1a {\n  padding: 3px;\n  position: absolute;\n  height: 21px;\n  width: max-content;\n  top: 1px;\n  left: 0px;\n  border-right: 1px solid #faad14;\n  border-bottom: 1px solid #faad14;\n  border-radius: 2px;\n  /* font-style: italic; */\n  background-color: #faad14;\n}\n.warnUpgrade-ca8cd .info-fff1a > ul {\n  padding: 0 2px;\n}\n.warnUpgrade-ca8cd .info-fff1a > ul li {\n  font-size: 12px;\n}\n.warnUpgrade-ca8cd .info-fff1a .upgrade-d28df {\n  pointer-events: visible;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 5px;\n  font-weight: 500;\n}\n",""]),s.locals={com:"com-eecfc",module:"module-ef942",temp:"temp-fb6b0",fullWidth:"fullWidth-c2a86",fullHeight:"fullHeight-bc816",abs:"abs-aafb2",fixed:"fixed-feb38",selected:"selected-d9748",disabled:"disabled-c8b6b",opacity:"opacity-c8b86",debug:"debug-f9be3",wrap:"wrap-c360d",geoComSlot:"geoComSlot-a4683",flex:"flex-a36c0",contentWithFlexMargin:"contentWithFlexMargin-d38b5",grid:"grid-eaaa2",hidden:"hidden-b5c47",error:"error-eae23",errorRT:"errorRT-addbd",tt:"tt-ab749",info:"info-fff1a",staticMoving:"staticMoving-f2f3d",absMoving:"absMoving-a96a4",groupMoving:"groupMoving-e8dca",desn:"desn-aeea3",append:"append-ffbec",flexX0:"flexX0-b920d",flexX1:"flexX1-e8b54",autoX0:"autoX0-e6082",autoX1:"autoX1-fe9d4",autoY0:"autoY0-e99fe",autoY1:"autoY1-d08f8",mask:"mask-c112b",noteLabel:"noteLabel-ef45b",upgrade:"upgrade-d28df",moving:"moving-c9599",events:"events-a8404",selection:"selection-cf99d",defined:"defined-cc442",focusPaasive:"focusPaasive-e7fe6",locked:"locked-af055",sayHi:"sayHi-d9d7f",jump:"jump-aed5a",opened:"opened-ca865",aiWorking:"aiWorking-e5f2b",aiWorkingDone:"aiWorkingDone-c5d0f",opacityChange:"opacityChange-b95e8",shining:"shining-ba374",focus:"focus-bf60d",editableFocus:"editableFocus-c446e",labelTodo:"labelTodo-f8bd4",warnUpgrade:"warnUpgrade-ca8cd",rotate:"rotate-be826"};const a=s},39481:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-cac42 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-ca34b {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-be759 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-f4eea {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-b574c {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-c5f43 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-c6389 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-a6f01 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-da97a {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ba290 {\n  align-items: flex-end;\n}\n.mover-e3811 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.slotHover-c3b55:after {\n  content: ' ';\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.05) 0, rgba(255, 255, 255, 0.05) 10px);\n  outline: 2px solid var(--mybricks-color-primary, #FA6400);\n  outline-offset: -2px;\n  z-index: 1000;\n}\n.slot-da7d9 {\n  width: 100%;\n  height: 100%;\n  pointer-events: auto !important;\n  position: relative !important;\n}\n.slot-da7d9 > .geo-item-c903c > div {\n  pointer-events: auto !important;\n}\n.slot-da7d9 .title-a741f {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  border-top: 0;\n  padding: 0 2px;\n}\n.slot-da7d9 .title-a741f span {\n  display: flex;\n  margin-right: 2px;\n  padding-bottom: 1px;\n}\n.slot-da7d9 .title-a741f span svg {\n  max-width: 13px;\n  opacity: 0.5;\n}\n.slot-da7d9 .title-a741f .scoped-ebb85 svg {\n  max-width: 14px;\n}\n.slot-da7d9 .title-a741f p {\n  color: #AAA;\n  font-style: italic;\n  padding: 0;\n  margin: 0;\n  font-size: 10px;\n}\n.slot-da7d9 .placeholder-e9cb5 {\n  height: 10px;\n  background-color: var(--mybricks-color-primary, #FA6400);\n}\n.slotDebug-d1dba {\n  width: 100%;\n  height: 100% !important;\n  pointer-events: auto !important;\n  position: relative !important;\n}\n.slotDebug-d1dba > .geo-item-c903c > div {\n  pointer-events: auto !important;\n}\n.focus-fdd37 {\n  box-shadow: inset 0 7px 50px 2px #ddd, inset 0px -12px 19px -19px #ddd;\n}\n.desn-d28eb {\n  outline: 1px dashed rgba(0, 0, 0, 0.2);\n  outline-offset: -1px;\n}\n.desn-d28eb .borders-da06f {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.desn-d28eb .slotT-b3bf9,\n.desn-d28eb .slotR-f7834,\n.desn-d28eb .slotB-d91bd,\n.desn-d28eb .slotL-e9953 {\n  position: absolute;\n  z-index: 1000;\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, rgba(255, 255, 255, 0.6) 1px, rgba(0, 0, 0, 0.3) 3px);\n}\n.desn-d28eb .slotT-b3bf9,\n.desn-d28eb .slotB-d91bd {\n  left: 0;\n  height: 1px;\n  width: 100%;\n}\n.desn-d28eb .slotL-e9953,\n.desn-d28eb .slotR-f7834 {\n  top: 0;\n  width: 1px;\n  height: 100%;\n}\n.desn-d28eb .slotT-b3bf9 {\n  top: 0;\n}\n.desn-d28eb .slotR-f7834 {\n  right: 0;\n}\n.desn-d28eb .slotB-d91bd {\n  bottom: 0;\n}\n.desn-d28eb .slotL-e9953 {\n  left: 0;\n}\n.empty-dd800 {\n  position: relative;\n  overflow: hidden;\n  min-height: 30px;\n  min-width: 30px;\n  background-color: rgba(246, 247, 249, 0.5);\n}\n.empty-dd800 .slotT-b3bf9,\n.empty-dd800 .slotB-d91bd {\n  border-top: 0 !important;\n  height: 4px;\n}\n.empty-dd800 .slotL-e9953,\n.empty-dd800 .slotR-f7834 {\n  border-left: 0 !important;\n  width: 4px;\n}\n.empty-dd800 .slotT-b3bf9,\n.empty-dd800 .slotR-f7834,\n.empty-dd800 .slotB-d91bd,\n.empty-dd800 .slotL-e9953 {\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, rgba(255, 255, 255, 0.4) 1px, rgba(0, 0, 0, 0.07) 3px);\n  opacity: 1 !important;\n}\n.emptyLayoutFlexRow-b2df6 {\n  background: repeating-linear-gradient(0deg, #F9F9F9, #F9F9F9 15px, #FDFDFD 0, #FDFDFD 30px) !important;\n}\n.emptyLayoutFlexColumn-deb9e {\n  background: repeating-linear-gradient(90deg, #FAFAFA, #FAFAFA 15px, #FDFDFD 0, #FDFDFD 30px) !important;\n}\n.emptyLayoutSmart-a095a {\n  background: radial-gradient(circle at 1px 1px, #DDD 1px, transparent 0);\n  background-size: 15px 15px;\n}\n.hover-a8ac4 {\n  outline: 2px dashed #616C81 !important;\n  outline-offset: -2px !important;\n  overflow: hidden !important;\n}\n",""]),s.locals={lyFlexColumn:"lyFlexColumn-cac42",lyFlexRow:"lyFlexRow-ca34b",justifyContentFlexStart:"justifyContentFlexStart-be759",justifyContentFlexCenter:"justifyContentFlexCenter-f4eea",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-b574c",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-c5f43",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-c6389",alignItemsFlexStart:"alignItemsFlexStart-a6f01",alignItemsFlexCenter:"alignItemsFlexCenter-da97a",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ba290",mover:"mover-e3811",slotHover:"slotHover-c3b55",slot:"slot-da7d9","geo-item":"geo-item-c903c",title:"title-a741f",scoped:"scoped-ebb85",placeholder:"placeholder-e9cb5",slotDebug:"slotDebug-d1dba",focus:"focus-fdd37",desn:"desn-d28eb",borders:"borders-da06f",slotT:"slotT-b3bf9",slotR:"slotR-f7834",slotB:"slotB-d91bd",slotL:"slotL-e9953",empty:"empty-dd800",emptyLayoutFlexRow:"emptyLayoutFlexRow-b2df6",emptyLayoutFlexColumn:"emptyLayoutFlexColumn-deb9e",emptyLayoutSmart:"emptyLayoutSmart-a095a",hover:"hover-a8ac4"};const a=s},11643:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".error-eac54 {\n  font-size: 12px;\n  color: #f5222d;\n  overflow: hidden;\n  white-space: pre-wrap;\n}\n",""]),s.locals={error:"error-eac54"};const a=s},93556:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"@keyframes slipInto-ee1b4 {\n  0% {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n.main-c2c66 {\n  animation: slipInto-ee1b4 0.1s ease-in-out 1;\n}\n",""]),s.locals={main:"main-c2c66",slipInto:"slipInto-ee1b4"};const a=s},70966:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".container-aefdf {\n  position: fixed;\n  right: 20px;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n}\n.container-aefdf .itemWrap-cf916 {\n  position: relative;\n}\n.container-aefdf .item-a50a1 {\n  padding: 16px;\n  background-color: #fff;\n  margin-bottom: 8px;\n  border-radius: 4px;\n  max-width: 50vw;\n  max-height: 50vh;\n  overflow: auto;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n  font-size: 12px;\n}\n.container-aefdf .errorItem-c0af1 {\n  color: #f5222d;\n}\n.container-aefdf .closeIcon-e4a30 {\n  position: absolute;\n  right: 16px;\n  top: 16px;\n  width: 24px;\n  height: 24px;\n  padding: 2px;\n  cursor: pointer;\n}\n.container-aefdf .closeIcon-e4a30:hover {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.12);\n}\n",""]),s.locals={container:"container-aefdf",itemWrap:"itemWrap-cf916",item:"item-a50a1",errorItem:"errorItem-c0af1",closeIcon:"closeIcon-e4a30"};const a=s},71981:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.slot-ec09e {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.lyFlexColumn-e62bf {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-bc7e7 {\n  display: flex;\n  flex-direction: row;\n}\n.justifyContentFlexStart-c566f {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-f2551 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-f18af {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-dd0f6 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-c1027 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-fb8e7 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-ad15a {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ded5b {\n  align-items: flex-end;\n}\n.debugFocus-c5006 {\n  outline: 1px dashed red;\n  outline-offset: -3px;\n}\n.com-e0c1f {\n  flex-shrink: 0;\n  min-height: 0;\n}\n.comHeightAuto-be9c0 > div {\n  flex: 1;\n}\n.flex-ecc94 {\n  flex: 1;\n  min-height: 0;\n  position: relative;\n}\n.flex-ecc94 > div {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.flex-ecc94 > * {\n  height: 100%;\n}\n.error-a9a37 {\n  font-size: 12px;\n  color: #f5222d;\n  overflow: hidden;\n}\n.errorRT-a282a {\n  padding: 5px;\n  border: 1px dashed #f5222d;\n}\n.errorRT-a282a .tt-a8441 {\n  font-size: 12px;\n  color: #f5222d;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.errorRT-a282a .info-abfdc {\n  color: #f5222d;\n  margin-bottom: 5px;\n}\n",""]),s.locals={slot:"slot-ec09e",lyFlexColumn:"lyFlexColumn-e62bf",lyFlexRow:"lyFlexRow-bc7e7",justifyContentFlexStart:"justifyContentFlexStart-c566f",justifyContentFlexCenter:"justifyContentFlexCenter-f2551",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-f18af",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-dd0f6",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-c1027",alignItemsFlexStart:"alignItemsFlexStart-fb8e7",alignItemsFlexCenter:"alignItemsFlexCenter-ad15a",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ded5b",debugFocus:"debugFocus-c5006",com:"com-e0c1f",comHeightAuto:"comHeightAuto-be9c0",flex:"flex-ecc94",error:"error-a9a37",errorRT:"errorRT-a282a",tt:"tt-a8441",info:"info-abfdc"};const a=s},84493:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(88425),o=n.n(i),r=n(93042),s=n.n(r)()(o());s.push([e.id,".debugger-ceb5e {\n  width: 100%;\n  height: 100%;\n  background-color: #1b1b1b73;\n}\n.debugger-ceb5e .titlebar-ff1f6 {\n  font-size: 12px;\n  line-height: 23px;\n  position: absolute;\n  top: 10%;\n  height: 23px;\n  padding: 0px 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  background-color: #faf8df;\n}\n.debugger-ceb5e .titlebar-ff1f6 .resume-b5b4f {\n  display: flex;\n  padding-left: 4px;\n  cursor: pointer;\n}\n.debugger-ceb5e .titlebar-ff1f6 .resume-b5b4f svg path {\n  fill: #FA6400;\n}\n",""]),s.locals={debugger:"debugger-ceb5e",titlebar:"titlebar-ff1f6",resume:"resume-b5b4f"};const a=s},26075:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(46714),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},90188:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(4961),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},30155:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(54386),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},45727:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(10740),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},1623:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(3428),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},49678:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(48313),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},54801:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(98912),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},43699:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(74404),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},43740:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(6083),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},71828:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(91895),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},141:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(7804),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},42982:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(4057),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},77165:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(43192),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},38485:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(96576),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},92045:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(42816),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},5289:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(29850),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},39816:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(69833),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},11997:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(25230),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},29303:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(91044),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},34648:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(36377),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},9866:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(81131),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},32583:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(15432),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},71280:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(84561),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},42512:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(90399),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},65874:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(57651),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},21799:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(4140),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},30162:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(2549),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},48086:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(4383),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},99579:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(10530),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},5760:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(24957),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},2372:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(25755),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},60748:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(69277),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},57943:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(85398),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},45810:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(51113),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},35003:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(11490),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},26823:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(51922),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},72005:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(26334),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},79918:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(94949),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},24800:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(27927),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},93116:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(67667),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},22896:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(65791),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},73965:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(3008),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},99051:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(74004),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},61261:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(36674),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},6192:(e,t,n)=>{"use strict";var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(64095),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g),m.A&&m.A.locals&&m.A.locals},545:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(70992),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},1524:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(25207),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},69170:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(55737),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},12192:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(97511),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},69444:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(36599),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},33230:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(24573),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},47630:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(35997),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},34019:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(20176),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},88307:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(52980),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},57288:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(88109),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},23572:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(77759),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},74486:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(36357),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},9418:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(7989),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},69089:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(3176),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},83837:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(16770),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},74963:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(45708),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},94539:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(60986),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},47583:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(38126),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},18873:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(296),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},483:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(96558),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},63361:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(32642),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},47779:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(81952),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},47032:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(40629),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},3062:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(21615),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},5430:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(49349),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},37954:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(47925),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},6109:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(82628),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},1755:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(26498),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},9733:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(96438),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},11552:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(90939),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},47587:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(2818),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},6464:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(93429),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},21034:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(29365),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},71304:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(51165),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},66965:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(18052),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},54009:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(25010),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},79191:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(93460),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},79790:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(37753),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},94768:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(15519),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},72859:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(40792),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},42826:(e,t,n)=>{"use strict";var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(98711),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g),m.A&&m.A.locals&&m.A.locals},47774:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(6355),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},42885:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(65998),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},8882:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(80411),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},72507:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(30896),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},55446:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(44933),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},76521:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(53148),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},46724:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(37157),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},85655:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(55236),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},25765:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(73669),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},89167:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(77659),l=n.n(a),c=n(55056),d=n.n(c),u=n(10540),p=n.n(u),f=n(41113),h=n.n(f),m=n(74062),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(m.A,g);const y=m.A&&m.A.locals?m.A.locals:void 0},82517:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(74768),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},22612:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(13849),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},48616:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(59773),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},53124:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(39481),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},36090:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(11643),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},60451:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(93556),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},36589:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(70966),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},37978:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(71981),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},89034:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(85072),o=n.n(i),r=n(97825),s=n.n(r),a=n(55056),l=n.n(a),c=n(10540),d=n.n(c),u=n(41113),p=n.n(u),f=n(84493),h={};f.A&&f.A.locals&&(h.locals=f.A.locals);var m,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),h.use=function(e){return y.options=e||{},g++||(m=o()(f.A,y)),h},h.unuse=function(){g>0&&! --g&&(m(),m=null)};const b=h},85072:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var p=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,i);i.byIndex=a,t.splice(a,0,{identifier:u,updater:h,references:1})}s.push(u)}return s}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=n(r[s]);t[a].references--}for(var l=i(e,o),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},77659:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},10540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},97825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},45110:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var i=n(64012);i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M424.277333 53.361778H426.666667a32.028444 32.028444 0 0 1 0 64c-81.351111 0-139.150222 0.056889-183.011556 5.916444-42.894222 5.802667-67.697778 16.611556-85.731555 34.702222-18.033778 18.033778-28.842667 42.780444-34.588445 85.674667-5.916444 43.861333-6.030222 101.660444-6.030222 183.011556a32.028444 32.028444 0 0 1-63.943111 0v-2.389334c0-78.392889 0-140.515556 6.485333-189.155555 6.769778-50.005333 20.935111-90.453333 52.849778-122.424889 31.914667-31.914667 72.419556-46.08 122.424889-52.849778C283.761778 53.361778 345.884444 53.361778 424.277333 53.304889z m356.067556 69.973333c-43.804444-5.916444-101.660444-6.030222-183.011556-6.030222a32.028444 32.028444 0 0 1 0-63.943111h2.389334c78.449778 0 140.515556 0 189.155555 6.485333 50.005333 6.769778 90.453333 20.935111 122.424889 52.849778 31.914667 31.914667 46.08 72.419556 52.849778 122.424889 6.485333 48.64 6.485333 110.762667 6.485333 189.155555V426.666667a31.971556 31.971556 0 1 1-64 0c0-81.351111-0.056889-139.150222-5.916444-183.011556-5.802667-42.894222-16.611556-67.697778-34.702222-85.731555-18.033778-18.033778-42.780444-28.842667-85.674667-34.588445zM85.333333 565.361778c17.635556 0 32.028444 14.279111 32.028445 31.971555 0 81.351111 0.056889 139.207111 5.916444 183.011556 5.802667 42.894222 16.611556 67.697778 34.702222 85.674667 18.033778 18.090667 42.780444 28.899556 85.674667 34.702222 43.861333 5.859556 101.660444 5.916444 183.011556 5.916444a31.971556 31.971556 0 1 1 0 64.056889h-2.389334c-78.392889 0-140.515556 0-189.155555-6.542222-50.005333-6.769778-90.453333-20.935111-122.424889-52.849778-31.914667-31.914667-46.08-72.419556-52.849778-122.424889-6.485333-48.64-6.485333-110.762667-6.485333-189.155555V597.333333c0-17.635556 14.279111-32.028444 31.971555-32.028444z m853.333334 0c17.635556 0 32.028444 14.279111 32.028444 31.971555v2.389334c0 78.449778 0 140.515556-6.542222 189.155555-6.769778 50.005333-20.935111 90.453333-52.849778 122.424889-31.914667 31.914667-72.419556 46.08-122.424889 52.849778-48.64 6.485333-110.762667 6.485333-189.155555 6.485333H597.333333a31.971556 31.971556 0 1 1 0-64c81.351111 0 139.207111-0.056889 183.011556-5.916444 42.894222-5.802667 67.697778-16.611556 85.674667-34.702222 18.090667-18.033778 28.899556-42.780444 34.702222-85.674667 5.859556-43.804444 5.916444-101.660444 5.916444-183.011556 0-17.635556 14.336-32.028444 32.028445-32.028444zM516.721778 239.160889a40.789333 40.789333 0 0 1 75.946666 0l47.786667 121.400889c4.209778 10.467556 12.515556 18.773333 23.096889 22.983111l121.344 47.786667a40.846222 40.846222 0 0 1 0 75.946666l-121.457778 47.843556a40.96 40.96 0 0 0-22.926222 23.04l-47.843556 121.344a40.789333 40.789333 0 0 1-75.946666 0l-47.786667-121.400889a40.96 40.96 0 0 0-23.096889-22.983111l-121.344-47.786667a40.789333 40.789333 0 0 1 0-75.946667l121.400889-47.843555a40.96 40.96 0 0 0 22.983111-23.04l47.843556-121.344z"}),i.createElement("path",{d:"M304.184889 608.142222a17.009778 17.009778 0 0 1 31.630222 0l19.911111 50.517334a17.066667 17.066667 0 0 0 9.671111 9.614222l50.517334 19.911111a17.066667 17.066667 0 0 1 0 31.630222l-50.631111 19.911111a17.066667 17.066667 0 0 0-9.500445 9.671111l-19.911111 50.517334a17.009778 17.009778 0 0 1-31.687111 0l-19.911111-50.631111a17.066667 17.066667 0 0 0-9.614222-9.557334l-50.574223-19.911111a17.009778 17.009778 0 0 1 0-31.630222l50.631111-19.911111a17.066667 17.066667 0 0 0 9.557334-9.671111l19.911111-50.517334z"}));const o="data:image/svg+xml;base64,PHN2ZyB0PSIxNzM3Mjc0MTEyMDkyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjgzMDQ5IiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxwYXRoIGQ9Ik00MjQuMjc3MzMzIDUzLjM2MTc3OEg0MjYuNjY2NjY3YTMyLjAyODQ0NCAzMi4wMjg0NDQgMCAwIDEgMCA2NGMtODEuMzUxMTExIDAtMTM5LjE1MDIyMiAwLjA1Njg4OS0xODMuMDExNTU2IDUuOTE2NDQ0LTQyLjg5NDIyMiA1LjgwMjY2Ny02Ny42OTc3NzggMTYuNjExNTU2LTg1LjczMTU1NSAzNC43MDIyMjItMTguMDMzNzc4IDE4LjAzMzc3OC0yOC44NDI2NjcgNDIuNzgwNDQ0LTM0LjU4ODQ0NSA4NS42NzQ2NjctNS45MTY0NDQgNDMuODYxMzMzLTYuMDMwMjIyIDEwMS42NjA0NDQtNi4wMzAyMjIgMTgzLjAxMTU1NmEzMi4wMjg0NDQgMzIuMDI4NDQ0IDAgMCAxLTYzLjk0MzExMSAwdi0yLjM4OTMzNGMwLTc4LjM5Mjg4OSAwLTE0MC41MTU1NTYgNi40ODUzMzMtMTg5LjE1NTU1NSA2Ljc2OTc3OC01MC4wMDUzMzMgMjAuOTM1MTExLTkwLjQ1MzMzMyA1Mi44NDk3NzgtMTIyLjQyNDg4OSAzMS45MTQ2NjctMzEuOTE0NjY3IDcyLjQxOTU1Ni00Ni4wOCAxMjIuNDI0ODg5LTUyLjg0OTc3OEMyODMuNzYxNzc4IDUzLjM2MTc3OCAzNDUuODg0NDQ0IDUzLjM2MTc3OCA0MjQuMjc3MzMzIDUzLjMwNDg4OXogbTM1Ni4wNjc1NTYgNjkuOTczMzMzYy00My44MDQ0NDQtNS45MTY0NDQtMTAxLjY2MDQ0NC02LjAzMDIyMi0xODMuMDExNTU2LTYuMDMwMjIyYTMyLjAyODQ0NCAzMi4wMjg0NDQgMCAwIDEgMC02My45NDMxMTFoMi4zODkzMzRjNzguNDQ5Nzc4IDAgMTQwLjUxNTU1NiAwIDE4OS4xNTU1NTUgNi40ODUzMzMgNTAuMDA1MzMzIDYuNzY5Nzc4IDkwLjQ1MzMzMyAyMC45MzUxMTEgMTIyLjQyNDg4OSA1Mi44NDk3NzggMzEuOTE0NjY3IDMxLjkxNDY2NyA0Ni4wOCA3Mi40MTk1NTYgNTIuODQ5Nzc4IDEyMi40MjQ4ODkgNi40ODUzMzMgNDguNjQgNi40ODUzMzMgMTEwLjc2MjY2NyA2LjQ4NTMzMyAxODkuMTU1NTU1VjQyNi42NjY2NjdhMzEuOTcxNTU2IDMxLjk3MTU1NiAwIDEgMS02NCAwYzAtODEuMzUxMTExLTAuMDU2ODg5LTEzOS4xNTAyMjItNS45MTY0NDQtMTgzLjAxMTU1Ni01LjgwMjY2Ny00Mi44OTQyMjItMTYuNjExNTU2LTY3LjY5Nzc3OC0zNC43MDIyMjItODUuNzMxNTU1LTE4LjAzMzc3OC0xOC4wMzM3NzgtNDIuNzgwNDQ0LTI4Ljg0MjY2Ny04NS42NzQ2NjctMzQuNTg4NDQ1ek04NS4zMzMzMzMgNTY1LjM2MTc3OGMxNy42MzU1NTYgMCAzMi4wMjg0NDQgMTQuMjc5MTExIDMyLjAyODQ0NSAzMS45NzE1NTUgMCA4MS4zNTExMTEgMC4wNTY4ODkgMTM5LjIwNzExMSA1LjkxNjQ0NCAxODMuMDExNTU2IDUuODAyNjY3IDQyLjg5NDIyMiAxNi42MTE1NTYgNjcuNjk3Nzc4IDM0LjcwMjIyMiA4NS42NzQ2NjcgMTguMDMzNzc4IDE4LjA5MDY2NyA0Mi43ODA0NDQgMjguODk5NTU2IDg1LjY3NDY2NyAzNC43MDIyMjIgNDMuODYxMzMzIDUuODU5NTU2IDEwMS42NjA0NDQgNS45MTY0NDQgMTgzLjAxMTU1NiA1LjkxNjQ0NGEzMS45NzE1NTYgMzEuOTcxNTU2IDAgMSAxIDAgNjQuMDU2ODg5aC0yLjM4OTMzNGMtNzguMzkyODg5IDAtMTQwLjUxNTU1NiAwLTE4OS4xNTU1NTUtNi41NDIyMjItNTAuMDA1MzMzLTYuNzY5Nzc4LTkwLjQ1MzMzMy0yMC45MzUxMTEtMTIyLjQyNDg4OS01Mi44NDk3NzgtMzEuOTE0NjY3LTMxLjkxNDY2Ny00Ni4wOC03Mi40MTk1NTYtNTIuODQ5Nzc4LTEyMi40MjQ4ODktNi40ODUzMzMtNDguNjQtNi40ODUzMzMtMTEwLjc2MjY2Ny02LjQ4NTMzMy0xODkuMTU1NTU1VjU5Ny4zMzMzMzNjMC0xNy42MzU1NTYgMTQuMjc5MTExLTMyLjAyODQ0NCAzMS45NzE1NTUtMzIuMDI4NDQ0eiBtODUzLjMzMzMzNCAwYzE3LjYzNTU1NiAwIDMyLjAyODQ0NCAxNC4yNzkxMTEgMzIuMDI4NDQ0IDMxLjk3MTU1NXYyLjM4OTMzNGMwIDc4LjQ0OTc3OCAwIDE0MC41MTU1NTYtNi41NDIyMjIgMTg5LjE1NTU1NS02Ljc2OTc3OCA1MC4wMDUzMzMtMjAuOTM1MTExIDkwLjQ1MzMzMy01Mi44NDk3NzggMTIyLjQyNDg4OS0zMS45MTQ2NjcgMzEuOTE0NjY3LTcyLjQxOTU1NiA0Ni4wOC0xMjIuNDI0ODg5IDUyLjg0OTc3OC00OC42NCA2LjQ4NTMzMy0xMTAuNzYyNjY3IDYuNDg1MzMzLTE4OS4xNTU1NTUgNi40ODUzMzNINTk3LjMzMzMzM2EzMS45NzE1NTYgMzEuOTcxNTU2IDAgMSAxIDAtNjRjODEuMzUxMTExIDAgMTM5LjIwNzExMS0wLjA1Njg4OSAxODMuMDExNTU2LTUuOTE2NDQ0IDQyLjg5NDIyMi01LjgwMjY2NyA2Ny42OTc3NzgtMTYuNjExNTU2IDg1LjY3NDY2Ny0zNC43MDIyMjIgMTguMDkwNjY3LTE4LjAzMzc3OCAyOC44OTk1NTYtNDIuNzgwNDQ0IDM0LjcwMjIyMi04NS42NzQ2NjcgNS44NTk1NTYtNDMuODA0NDQ0IDUuOTE2NDQ0LTEwMS42NjA0NDQgNS45MTY0NDQtMTgzLjAxMTU1NiAwLTE3LjYzNTU1NiAxNC4zMzYtMzIuMDI4NDQ0IDMyLjAyODQ0NS0zMi4wMjg0NDR6TTUxNi43MjE3NzggMjM5LjE2MDg4OWE0MC43ODkzMzMgNDAuNzg5MzMzIDAgMCAxIDc1Ljk0NjY2NiAwbDQ3Ljc4NjY2NyAxMjEuNDAwODg5YzQuMjA5Nzc4IDEwLjQ2NzU1NiAxMi41MTU1NTYgMTguNzczMzMzIDIzLjA5Njg4OSAyMi45ODMxMTFsMTIxLjM0NCA0Ny43ODY2NjdhNDAuODQ2MjIyIDQwLjg0NjIyMiAwIDAgMSAwIDc1Ljk0NjY2NmwtMTIxLjQ1Nzc3OCA0Ny44NDM1NTZhNDAuOTYgNDAuOTYgMCAwIDAtMjIuOTI2MjIyIDIzLjA0bC00Ny44NDM1NTYgMTIxLjM0NGE0MC43ODkzMzMgNDAuNzg5MzMzIDAgMCAxLTc1Ljk0NjY2NiAwbC00Ny43ODY2NjctMTIxLjQwMDg4OWE0MC45NiA0MC45NiAwIDAgMC0yMy4wOTY4ODktMjIuOTgzMTExbC0xMjEuMzQ0LTQ3Ljc4NjY2N2E0MC43ODkzMzMgNDAuNzg5MzMzIDAgMCAxIDAtNzUuOTQ2NjY3bDEyMS40MDA4ODktNDcuODQzNTU1YTQwLjk2IDQwLjk2IDAgMCAwIDIyLjk4MzExMS0yMy4wNGw0Ny44NDM1NTYtMTIxLjM0NHoiIHAtaWQ9IjgzMDUwIiBmaWxsPSIjOGE4YThhIj48L3BhdGg+PHBhdGggZD0iTTMwNC4xODQ4ODkgNjA4LjE0MjIyMmExNy4wMDk3NzggMTcuMDA5Nzc4IDAgMCAxIDMxLjYzMDIyMiAwbDE5LjkxMTExMSA1MC41MTczMzRhMTcuMDY2NjY3IDE3LjA2NjY2NyAwIDAgMCA5LjY3MTExMSA5LjYxNDIyMmw1MC41MTczMzQgMTkuOTExMTExYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAwIDEgMCAzMS42MzAyMjJsLTUwLjYzMTExMSAxOS45MTExMTFhMTcuMDY2NjY3IDE3LjA2NjY2NyAwIDAgMC05LjUwMDQ0NSA5LjY3MTExMWwtMTkuOTExMTExIDUwLjUxNzMzNGExNy4wMDk3NzggMTcuMDA5Nzc4IDAgMCAxLTMxLjY4NzExMSAwbC0xOS45MTExMTEtNTAuNjMxMTExYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAwIDAtOS42MTQyMjItOS41NTczMzRsLTUwLjU3NDIyMy0xOS45MTExMTFhMTcuMDA5Nzc4IDE3LjAwOTc3OCAwIDAgMSAwLTMxLjYzMDIyMmw1MC42MzExMTEtMTkuOTExMTExYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAwIDAgOS41NTczMzQtOS42NzExMTFsMTkuOTExMTExLTUwLjUxNzMzNHoiIHAtaWQ9IjgzMDUxIiBmaWxsPSIjOGE4YThhIj48L3BhdGg+PC9zdmc+"},88485:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const i={type:"any"},o={"@init":({data:e,setDesc:t,setAutoRun:n,isAutoRun:i})=>{e.connectorConfig=e.connectorConfig||{};(!!i&&i()||e.immediate)&&(n(!0),e.immediate=!0),t("（连接器为空）")},"@connectorUpdated":({data:e,input:t,output:n,setDesc:i,setAutoRun:o,isAutoRun:r},{connector:a})=>{e.connector&&a.id===e.connector.id&&(e.connector={id:a.id,title:a.title,type:a.type,script:a.script,inputSchema:a.inputSchema,outputSchema:a.outputSchema},s({input:t,output:n},a),i(`已选择：${e.connector.title}`))},"@connectorRemoved":({data:e,input:t,output:n,setDesc:o,setAutoRun:r,isAutoRun:s},{connector:a})=>{if(e.connector&&a.id===e.connector.id){e.connector=void 0;const r=t.get("call");r&&r.setSchema(i);n.get("then").setSchema(i),o(`${a.title} 已失效`)}},":root":[{title:"连接器",type:"_connectorSelect",value:{get:({data:e})=>e.connector,set({data:e,input:t,output:n,setDesc:i},o){e.connector=o,s({input:t,output:n},o),i(`已选择：${e.connector.title}`)}}}]};function r(e){return e&&["object","array","number","string","boolean","any","follow","unknown"].some((t=>e.type===t))}function s({input:e,output:t},n){const o=e.get("call");o&&(r(n.inputSchema)?o.setSchema(n.inputSchema):o.setSchema(i));const s=t.get("then");r(n.outputSchema)?s.setSchema(n.outputSchema):s.setSchema(i)}},37405:(e,t,n)=>{"use strict";function i({env:e,data:t,outputs:n,onError:i},o={}){if(t.connector)try{e.callConnector(t.connector,o,t.connectorConfig).then((e=>{n.then(e)})).catch((e=>{n.catch(e)}))}catch(e){console.error(e),n.catch(`执行错误 ${e.message||e}`)}else n.catch("没有选择接口")}function o({env:e,data:t,inputs:n,outputs:o,onError:r}){e.runtime&&(t.immediate?i({env:e,data:t,outputs:o}):n.call((n=>{i({env:e,data:t,outputs:o,onError:r},n)})))}n.d(t,{A:()=>o})},37455:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const i=[{label:"无",value:"none"},{label:"新页面",value:"blank"},{label:"重定向",value:"redirect"}],o={"@init":({data:e,setDesc:t,setAutoRun:n,isAutoRun:i})=>{t("（新页面）")},":root":[{title:"打开方式",type:"select",ifVisible:({data:e})=>"popup"!==e._sceneShowType,options:({data:e,input:t,output:n})=>i,value:{get:({data:e,input:t,output:n})=>e.openType||"none",set({data:e,setDesc:t},n){e.openType=n;t(`（${i.find((e=>e.value===n)).label}）`)}}}]}},97543:(e,t,n)=>{"use strict";function i({env:e,data:t,inputs:n,_inputs:i,_inputsCallable:o}){n[t._pinId||"open"]((n=>{t._pinId&&"open"!==t._pinId?o[t._pinId](n):(e.canvas.open(t._sceneId,n,"popup"===t._sceneShowType?null:t.openType),o._open(n))}))}n.d(t,{A:()=>i})},78357:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={"@init"({data:e,setDesc:t}){e.exchange||t("未配置规则")},":root":[{title:"类型转换",type:"_typeChange",options:({data:e,input:t,output:n})=>({from:t.get("from").schema,to:n.get("to").schema}),value:{get:({data:e,input:t,output:n})=>e.exchange,set({data:e,setDesc:t},n){e.exchange=n,n.script?t(`${n.title}`):t("未配置规则")}}}]}},34749:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function __WEBPACK_DEFAULT_EXPORT__({data,outputs,inputs,onError}){inputs.from(((val,relOutpus)=>{var _a;const script=null===(_a=data.exchange)||void 0===_a?void 0:_a.script;if(script){let fn,returnVal,isOk;try{eval(`fn = ${script}`),returnVal=fn(val),isOk=!0}catch(e){console.error(e),onError(`数据转换错误:${e.message}`,e)}isOk&&outputs.to(returnVal)}else onError("未配置转换规则")}))}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__})},23326:(e,t,n)=>{"use strict";function i({env:e,data:t,outputs:n,inputs:i,_notifyBindings:r}){i.get(((e,n)=>{const i=o(void 0!==t.val?t.val:t.initValue);n.return(i)})),i.set(((e,i)=>{t.val=e;const s=o(e);n.changed(s,!0),r(s),i.return(s)})),i.reset((()=>{const e=t.initValue;t.val=e;const i=o(e);n.changed(i,!0),r(i)}))}function o(e,t=[]){try{const n=Object.prototype.toString.call(e);if(null===e||"object"!=typeof e||n.startsWith("[object HTML")||"[object FormData]"===n)return e;const i=t.filter((t=>t.original===e))[0];if(i)return i.copy;const r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((n=>{r[n]=o(e[n],t)})),r}catch(t){return e}}n.d(t,{A:()=>i})},24599:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("set"===r){n.get("return").setSchema(a);n.get("changed").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("set"===s.id){n.get("return").setSchema({type:"unknown"});n.get("changed").setSchema({type:"unknown"})}},":root":[{title:"变量名称",type:"text",value:{get:({title:e})=>e,set({setTitle:e},t){e(t)}}},null,{title:"类型",type:"_schema",value:{get:({data:e,outputs:t})=>t.get("return").schema,set({data:e,outputs:t},n){t.get().forEach((e=>{t.get(e.id).setSchema(n)}))}}}]}},78523:(e,t,n)=>{"use strict";n.d(t,{pd:()=>a,rp:()=>s});var i=n(53072);n(14370);const o=e=>{try{return decodeURIComponent(e)}catch(t){return e}},r=e=>{try{return encodeURIComponent(e)}catch(t){return e}};function s(e,t,n){var r;const{callback:s=()=>{},env:l={}}=n||{};if(((null==l?void 0:l.toCode)||l.extractFns)&&Number.isInteger(e))return void l.extractFns[e](...t);let c,d;if("object"==typeof e&&null!==e&&(e=null!==(r=null==e?void 0:e.transformCode)&&void 0!==r?r:null==e?void 0:e.code),(null==e?void 0:e.includes("var%20_RTFN_"))||(e=a(e)),t&&t.length){d=new i.A({module:!0});let t=o(e);c=/export\s+default.*async.*function.*\(/g.test(t)?d.compile(`${t.replace(/export\s+default.*function.*\(/g,"async function _RT_(")}`):d.compile(`${t.replace(/export\s+default.*function.*\(/g,"function _RT_(")}`)}else d=new i.A,c=d.compile(`${o(e)}`);return c.run(t,s),d}const a=e=>{e=o(e);try{if(!window.Babel)throw Error("Babel was not found in window");let{code:t}=window.Babel.transform(`_RTFN_ = ${e} `,{presets:["env","typescript"],parserOpts:{strictMode:!1},comments:!1,filename:"types.d.ts"});return t=`(function() { var _RTFN_; \n${t}\n return _RTFN_; })()`,r(t)}catch(t){return console.error(t),r(e)}}},53072:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});const i=window.setInterval,o=window.clearInterval,r=window.setTimeout,s=window.clearTimeout,a=window,l=new WeakMap;const c=new WeakMap;const d=new WeakMap;const u={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function p(e){for(;e.trim().endsWith(";");)e=e.slice(0,e.length-1);return e}function f(){const e={};return Object.getOwnPropertyNames(a).forEach((t=>{const n=Object.getOwnPropertyDescriptor(a,t);if(n&&!n.configurable){const i=Object.prototype.hasOwnProperty.call(n,"get");"top"!==t&&"parent"!==t&&"self"!==t&&"window"!==t||(n.configurable=!0,i||(n.writable=!0)),Object.defineProperty(e,t,Object.freeze(n))}})),e}const h=class{constructor(e={}){this.hasDisposed=!1,this.fakeWindow=f(),this.timeoutList=[],this.intervalList=[],this.options={},this.options=e||{},this.proxy=new Proxy(window,{set:(e,t,n)=>{if(!this.hasDisposed)try{!this.fakeWindow.hasOwnProperty(t)&&e.hasOwnProperty(t)&&function(e,t){const n=Object.getOwnPropertyDescriptor(window,e);n&&n.writable&&Object.defineProperty(t,e,{configurable:n.configurable,enumerable:n.enumerable,writable:n.writable,value:n.value})}(t,this.fakeWindow),this.fakeWindow[t]=n}catch(e){throw console.error("set-key-error",t,e),e}return!0},get:(e,t)=>{if(t===Symbol.unscopables)return u;if("window"===t||"self"===t)return this.proxy;if("document"!==t){if("hasOwnProperty"===t)return e.hasOwnProperty;if("eval"===t)return e.eval;if("location"===t)return e.location;try{var n=t in this.fakeWindow?this.fakeWindow[t]:e[t];return"function"!=typeof n||function(e){if(c.has(e))return c.get(e);const t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return c.set(e,t),t}(n)||function(e){if(l.has(e))return l.get(e);const t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\b\s[A-Z].*/.test(e.toString())||/^class\b/.test(e.toString());return l.set(e,t),t}(n)?n:(n=Function.prototype.bind.call(n,e),function(e,t){const n=d.get(t);if(n)return n;const i=Function.prototype.bind.call(t,e);for(const e in t)i[e]=t[e];return t.hasOwnProperty("prototype")&&!i.hasOwnProperty("prototype")&&(i.prototype=t.prototype),d.set(t,i),i}(window,n))}catch(e){throw console.error("get-key-error",t,e),e}}},has:(e,t)=>!this.options.module||"params"!==t&&"cb"!==t}),this.proxy.setTimeout=(e,t,...n)=>{if(this.hasDisposed)return 0;{const i=r(e,t,...n);return this.timeoutList.push(i),i}},this.proxy.clearTimeout=e=>{const t=this.timeoutList.indexOf(e);return-1!==t&&this.timeoutList.splice(t,1),s(e)},this.proxy.setInterval=(e,t,...n)=>{if(this.hasDisposed)return 0;{const o=i(e,t,...n);return this.intervalList.push(o),o}},this.proxy.clearInterval=e=>{const t=this.intervalList.indexOf(e);return-1!==t&&this.intervalList.splice(t,1),o(e)},a.proxy=this.proxy}compile(e){if(this.hasDisposed)throw new Error("sandbox has been destroyed");var t,n=this.options.module;t=n?function(e){return`(\n                function(window, params, cb) {\n                    with(window) {\n                        return (${e=p(e)})(...params, cb)\n                    }\n                }\n            )`}(e):function(e){return`(\n                function(window) {\n                    with(window){\n                        ${e=p(e)}\n                    } \n                }\n            ).bind(window.proxy)\n        `}(e);const i=a.eval(`${t};//@ sourceURL=sandbox-code.js`);return{run:function(e,t){try{return n?i(window.proxy,e,t):i(window.proxy)}catch(e){throw console.error("js sandbox error occur:",e),e}}}}dispose(){this.timeoutList.forEach((e=>{window.clearTimeout(e)})),this.timeoutList=[],this.intervalList.forEach((e=>o(e))),this.intervalList=[],this.fakeWindow=f(),this.options={},delete a.proxy,this.hasDisposed=!0}}},14370:()=>{"use strict"},79412:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>o,N9:()=>i,r_:()=>r});const i=encodeURIComponent("({ outputs, inputs }) => {\n  const [ in0 ] = inputs;//输入的数据\n  const [ out0 ] = outputs;//输出项\n  \n  out0(in0);//从输出项输出结果\n}"),o=encodeURIComponent("({ outputs }) => {\n  const [ out0 ] = outputs;\n  out0(0);\n}"),r="/**\n* @parma inputs: any[] 输入项\n* @parma outputs: any[] 输出项\n*\n* 例子\n* ({ inputs, outputs }) => {\n*   const [ in0 ] = inputs;\n*   const [ out0, out1, out2 ] = outputs;\n*   const res = '该值输出给下一个组件使用' + in0\n*   \n*   // 向输出项（out0）输出结果\n*   out0(res); \n\n*   // 多输出的情况\n*   // 向输出项（out1）输出输入项0的值\n*   // out1(in0); \n* }\n*/"},39215:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(79412),o=n(22949),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const s={"@ai":{active:!0,role:"comDev",prompts:"TODO",execute({data:e},t){e.fns=t},getSourceCode({data:e}){if(e.fns){if("string"==typeof e.fns)return decodeURIComponent(e.fns);if(e.fns.code)return decodeURIComponent(e.fns.code)}}},"@init":({data:e,setAutoRun:t,isAutoRun:n,output:o})=>{(!!n&&n()||e.runImmediate)&&(t(!0),e.runImmediate=!0,o.get("output0").setSchema({type:"number"}),e.extraLib="declare interface IO {outputs: Array<Function>}"),e.fns=e.fns||(e.runImmediate?i.Fo:i.N9)},"@inputConnected"({data:e,output:t,input:n},s,a){return r(this,void 0,void 0,(function*(){e.fns===i.N9&&t.get("output0").setSchema({type:"unknown"});const r=(0,o.U8)(a.id,s.schema,e,n);e.extraLib=yield(0,o.nJ)(r)}))},"@inputUpdated"({data:e,input:t},n){return r(this,void 0,void 0,(function*(){const i=(0,o.U8)(n.id,n.schema,e,t);e.extraLib=yield(0,o.nJ)(i)}))},"@inputRemoved"({data:e,input:t},n){return r(this,void 0,void 0,(function*(){const i=(0,o.U8)(n.id,null,e,t);e.extraLib=yield(0,o.nJ)(i)}))},"@inputDisConnected"({data:e,input:t},n,i){return r(this,void 0,void 0,(function*(){const n=(0,o.U8)(i.id,{type:"null"},e,t);e.extraLib=yield(0,o.nJ)(n)}))},":root":[{type:"code",options:({data:e,output:t})=>({babel:!0,comments:i.r_,theme:"light",minimap:{enabled:!1},lineNumbers:"on",eslint:{parserOptions:{ecmaVersion:"2020",sourceType:"module"}},autoSave:!1,extraLib:e.extraLib,language:"typescript",onBlur:()=>{(0,o.aT)(t,e.fns)}}),title:"代码编辑",value:{get:({data:e})=>e.fns,set({data:e},t){""!==t&&(e.fns=t)}}}]}},24973:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(78523),o=n(22949);function r({env:e,data:t,inputs:n,outputs:r,logger:s,onError:a}){var l;const{fns:c,runImmediate:d}=t,u={outputs:(0,o.KK)(r)};let p;try{d&&e.runtime&&(p=(0,i.rp)(c,[u],{env:e})),n.input((t=>{try{p=(0,i.rp)(c,[Object.assign(Object.assign({},u),{inputs:(0,o.KK)(t)})],{env:e})}catch(e){null==a||a(e),console.error("js计算组件运行错误.",e),s.error(`${e}`)}})),"function"==typeof(null===(l=null==e?void 0:e.runtime)||void 0===l?void 0:l.onComplete)&&e.runtime.onComplete((()=>{null==p||p.dispose()}))}catch(e){null==a||a(e),console.error("js计算组件运行错误.",e),s.error(`${e}`)}}},22949:(e,t,n)=>{"use strict";n.d(t,{KK:()=>l,U8:()=>d,aT:()=>c,nJ:()=>p});var i=n(53072),o=n(78523),r=n(78032),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function a({schema:e,val:t,key:n,fromAry:i}){if(Array.isArray(t)){const i={};n?e[n]={type:"array",items:i}:(e.type="array",e.items=i),function(e,t){let n;t.length>0&&(n=t[0]);a({schema:e,val:n,fromAry:!0})}(i,t)}else if("object"==typeof t&&t){let s;i&&(e.type="object",s=e.properties={});const l=i?s:{};i||(n?e[n]={type:"object",properties:l}:(e.type="object",e.properties=l)),o=l,r=t,Object.keys(r).map((e=>a({schema:o,val:r[e],key:e})))}else{const i=null==t?"any":typeof t;void 0===n?e.type=i:e[n]={type:i}}var o,r}function l(e){let t=[];return Object.keys(e).sort(((e,t)=>{var n,i;return+((null===(n=null==e?void 0:e.match(/\d+/g))||void 0===n?void 0:n[0])||0)-+((null===(i=null==t?void 0:t.match(/\d+/g))||void 0===i?void 0:i[0])||0)})).forEach((n=>{t.push(e[n])})),t}function c(e,t){let n="object"==typeof t&&null!==t?t.transformCode:(0,o.pd)(t.code||t);const r={},s={};e.get().forEach((({id:t})=>{r[t]=n=>{try{const i=function(e){const t={type:void 0};return a({schema:t,val:e}),t.type?t:void 0}(n);e.get(t).setSchema(i)}catch(e){}}})),setTimeout((()=>{try{new i.A({module:!0}).compile(`${decodeURIComponent(n)}`),l(r),l(s)}catch(e){console.error(e)}}))}const d=(e,t,n,i)=>{var o;if(n.inputSchema||(n.inputSchema={}),t){const i=u(e,t);n.inputSchema[i.title]=i}else Reflect.deleteProperty(n.inputSchema,null!==(o=e.split(".").pop())&&void 0!==o?o:"");const r=[],s=i.get().map((({id:e})=>e.split(".").pop()));for(const e of s)n.inputSchema[e]?r.push(n.inputSchema[e]):r.push({title:e,type:"null"});return r},u=(e,t)=>{var n;const i=null!==(n=e.split(".").pop())&&void 0!==n?n:"inputValue0";return t.title=i,t},p=e=>s(void 0,void 0,void 0,(function*(){const t=[],n=window.jstt;if(!n)return"declare interface IO {\n  inputs: any,\n  outputs: Array<Function>\n}";return`\n    ${(yield Promise.all(e.map((e=>(e=(e=>{try{const t=e.title.replace(/^\S/,(e=>e.toUpperCase()));return(e=JSON.parse(JSON.stringify(e).replaceAll(/("title":\s*")([^"]+)/g,`$1${(0,r.u)()}`))).title=t,e}catch(t){return e}})(e),t.push(e.title),n.compile(e,"",{bannerComment:"",unknownAny:!1,format:!1}).then((e=>e.replaceAll("export","declare"))).catch((t=>(console.warn(t),`declare type ${e.title} = any;`)))))))).join("\n")}\n    declare interface IO {\n      inputs: [${t.toString()}],\n      outputs: Array<Function>\n    }\n  `}))},44019:(e,t,n)=>{"use strict";function i({inputs:e,outputs:t}){}n.d(t,{A:()=>i})},49391:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("getCurValue"===r){n.get("return").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("getCurValue"===s.id){n.get("return").setSchema({type:"unknown"})}},":root":[]}},76551:(e,t,n)=>{"use strict";function i({env:e,inputs:t}){e.runtime&&t.getCurValue(((e,t)=>{t.return(e)}))}n.d(t,{A:()=>i})},5742:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("getCurValue"===r){n.get("return").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("getCurValue"===s.id){n.get("return").setSchema({type:"unknown"})}},":root":[]}},9088:(e,t,n)=>{"use strict";function i({env:e,data:t,inputs:n,outputs:i}){e.runtime&&n.output((e=>{}))}n.d(t,{A:()=>i})},20666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={":slot":{}}},86e3:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(64012),o=n(64012);function r({slots:e,outputs:t}){const n=(0,i.useCallback)((()=>{t.click()}),[]),r=(0,i.useCallback)((()=>{t.dblClick()}),[]);return o.createElement("div",{style:{width:"100%",height:"100%"},onClick:n,onDoubleClick:r},e.content.render())}},4736:(e,t,n)=>{"use strict";n.d(t,{A:()=>W});var i=n(63036),o=n(86e3),r=n(20666),s=n(89177),a=n(40575),l=n(11503),c=n(50775),d=n(66898),u=n(97543),p=n(37455),f=n(70777),h=n(62016),m=n(83223),g=n(74871),y=n(91391),b=n(49391),v=n(76551),x=n(71004),A=n(5742),w=n(9088),E=n(38717),C=n(44019),_=n(22328),M=n(57901),I=n(85927),k=n(24930),P=n(23326),F=n(24599),S=n(3721),T=n(34749),O=n(78357),D=n(74521),N=n(37405),j=n(88485),L=n(61185),R=n(24973),B=n(39215),$=n(45110);const z={id:"@mybricks/comlib-core",title:"Mybricks基础组件库",author:"CheMingjun",icon:"",version:"1.0.1",comAray:[U({comDef:L,rt:R.A,editors:B.A,icon:$.u}),U({comDef:i,rt:o.A,editors:r.A}),U({comDef:s,rt:a.A,editors:l.A}),U({comDef:c,data:d,rt:u.A,editors:p.A}),U({comDef:f,data:h,rt:m.A,editors:g.A}),U({comDef:y,editors:b.A,rt:v.A}),U({comDef:x,editors:A.A,rt:w.A}),U({comDef:E,rt:C.A}),U({comDef:_,rt:M.A}),U({comDef:I,data:k,rt:P.A,editors:F.A}),U({comDef:S,rt:T.A,editors:O.A}),U({comDef:D,rt:N.A,editors:j.A,visibility:!1})],visible:!1},W=z;function U({comDef:e,icon:t,rt:n,rtEdit:i,data:o,editors:r,assistence:s}){return Object.assign(e,{runtime:n,icon:t,"runtime.edit":i,data:o,editors:r,assistence:s})}},74871:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={":root":({input:e,output:t},n,i,o)=>{}}},83223:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);function o({id:e,env:t,data:n,style:o,inputs:r,outputs:s}){const[a,l]=(0,i.useState)(),c=(0,i.useMemo)((()=>{const i=t.getModuleJSON(n.definedId);return t.renderModule(i,{ref(e){if(l(e),t.edit){const t=e.style;t&&(o.widthAuto=t.widthAuto,o.widthFull=t.widthFull,o.heightAuto=t.heightAuto,o.heightFull=t.heightFull)}if(t.runtime){const{inputs:t,outputs:o,pinRels:a}=i,l={},c={};Object.entries(a).forEach((([e,t])=>{const n=e.split("_rootFrame_-")[1];if(n){const e=t[0];l[n]=e,c[e]=!0}}));const d=n.configs;for(let t in d)e.inputs[t](d[t]);o.forEach((({id:t})=>{c[t]||e.outputs(t,s[t])})),t.forEach((({id:t})=>{r[t](((n,i)=>{const o=l[t];o&&e.outputs(o,(e=>{i[o](e)})),e.inputs[t](n)}))}))}e.run()},disableAutoRun:!0,outputs:s,rootId:e})}),[]);return(0,i.useMemo)((()=>{if(a&&t.edit){const e=n.configs;for(let t in e)a.inputs[t](e[t])}}),[n.configs,a]),c}},11503:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={}},40575:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);function o({slots:e}){return i.createElement("div",{style:{width:"100%",height:"100%"}})}},57901:(e,t,n)=>{"use strict";function i({inputs:e,outputs:t}){}n.d(t,{A:()=>i})},78032:(e,t,n)=>{"use strict";function i(e="u_",t=6){const n="abcdefhijkmnprstwxyz0123456789";let i="";for(let e=0;e<t;e++)i+=n.charAt(Math.floor(30*Math.random()));return e+i}n.d(t,{u:()=>i})},77032:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(63021),r=n(96966),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.tk{constructor(e){super(),e&&(this.id=e.id,this.title=e.title,this.type=e.type,this.connectorName=e.connectorName,this.inputSchema=e.inputSchema,this.outputSchema=e.outputSchema,this.markList=e.markList,this.script=e.script,this.createTime=(new Date).getTime())}};l=s([(0,i.yL)(o.MS+"ConnectorModel"),a("design:paramtypes",[Object])],l);const c=l},15344:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(63021),r=n(96966),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.tk{constructor(e){super(),e&&(this.id=e.id,this.title=e.title,this.type=e.type,this.schema=e.schema,this.content=e.content,this.desc=e.desc,this.createTime=(new Date).getTime())}};l=s([(0,i.yL)(o.MS+"DataSourceModel"),a("design:paramtypes",[Object])],l);const c=l},94211:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(13371),s=n(79157);function a(e){var t;const{config:n,_ref:i,_onError_:a}=e;return(null===(t=n.startWithAI)||void 0===t?void 0:t.enable)?o().createElement(s.A,Object.assign({},e)):o().createElement(r.A,Object.assign({},e))}const l=(0,i.forwardRef)(((e,t)=>o().createElement(a,Object.assign({},e,{_ref:t,_onError_:(e,t)=>{console.error(e);const n=e.message||e;if("render"===t)return o().createElement(i.Fragment,{style:{padding:10,color:"red"}},"系统运行错误:",n)}}))))},79157:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(91737),s=n(96966),a=n(9710),l=n(46119),c=n(13371),d=n(53527),u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function p(e){const{config:t}=e,n=(0,r.J2)(s.Ho,{to:"children"}),[p,f]=(0,i.useState)();if((0,i.useMemo)((()=>u(this,void 0,void 0,(function*(){n.configs=t,yield(0,d.q)(n)}))),[]),p)return o().createElement(c.A,Object.assign({},e,{aiTpt:p}));if(t.aiView&&("function"==typeof t.aiView.requestAsStream||"function"==typeof t.aiView.request)){const e=t.startWithAI;return e.createAsTemplate=function({id:e,content:t}){f({id:e,content:t})},o().createElement(a.e,{model:{},assist:(0,l.s)(n,e)})}}},13371:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var i=n(26075),o=n(64012),r=n.n(o),s=n(91737),a=n(96966),l=n(20237),c=n(98880),d=n(56845),u=n(30063),p=n(91265),f=n(14906),h=n(53527),m=n(52646),g=n(76724),y=n(29960),b=n(4825),v=n(66578),x=n(58407),A=n(27128),w=n(20409),E=n(69555),C=n(27091),_=n(9710),M=n(10539),I=n(24083);let k;function P({config:e,onMessage:t,onLoad:n,onEdit:P,onDebug:F,onClick:S,_ref:T,aiTpt:O}){var D;const N=(0,s.J2)(a.Ho,{to:"children"});(0,o.useMemo)((()=>{const t=e.editView||{};e.editView=Object.assign(Object.assign({},t),{editorLoader(e){let n;if("function"==typeof t.editorAppender&&(n=t.editorAppender(e)),n)return n;const i=k.emitEditor;if("function"==typeof i.get&&(n=i.get(e),n)){if(!Array.isArray(n))return n;{const e=n.find((e=>e));if(e)return e}}if(n=(0,w.A)(e),n)return n;return k.pcCommonEditors({editConfig:e,projectData:{}})}});let n=[...e.plugins||[]];n=n.filter((e=>{if(e&&"object"==typeof e)return!0})),n.filter((e=>{if(!r().isValidElement(e)&&!e.namespace)return!0})).forEach((e=>{e.namespace=e.name})),e.plugins=n,N.configs=e}),[]),k=(0,p.A)(N,{config:e,onMessage:t,onEdit:P,onDebug:F,onClick:S,ref:T}),(0,f.Ay)(k);const j=(0,h.A)(k),L=N.configs.pageMetaLoader;(0,o.useMemo)((()=>{O&&(k.startWithAITpt=O),k.model=j,j.viewSlots||(j.viewSlots={},e.geoView&&(j.viewSlots.top=new g.A({showTitleBar:!1,tabs:["geoView"],height:"auto"})),e.toplView&&(j.viewSlots.bottom=new g.A({status:e.geoView?"min":"normal",tabs:["toplView"],height:e.geoView?void 0:"auto",showTitleBar:!!e.geoView})),e.templateView&&(j.viewSlots.bottomTpt=new g.A({status:e.geoView?"min":"normal",tabs:["templateView"],height:e.geoView?void 0:"auto",showTitleBar:!!e.geoView}))),j.views||(j.views={}),e.geoView&&(j.views.geoView={title:"布局",render(){const e=j.getCurModule();if(L||e){const t=null==e?void 0:e.slot;return r().createElement(d.zC,{viewModel:t,pageMetaModel:k.pageMetaModel,cssVars:j.cssVars,comThemes:j.comThemes})}}}),e.toplView&&(j.views.toplView={title:e.toplView.title||"未命名",render({onToolbar:e}){const t=j.getCurModule();if(t){const n=t.frame,i=k.desnContext.configs.toplView;return r().createElement(u.t4,{viewId:"bottom",viewModel:n,configs:i,onToolbar:e,debugParams:k.curDebugParams})}}}),e.templateView&&(j.views.templateView={title:e.templateView.title||"未命名",render({onToolbar:e}){const t=j.getCurModule();if(t){let n=t.template;n||(n=t.template=new u.al,n.addDefaultFrame());const i=k.desnContext.configs.templateView;return r().createElement(u.t4,{viewId:"template",viewModel:n,configs:i,onToolbar:e,debugParams:k.curDebugParams})}}})}),[j.viewSlots]);const R=(0,o.useRef)();(0,s.HO)((()=>{if(k.desnContext.isDebugMode()){if("function"==typeof F){const e=F();"function"==typeof e&&(R.current=e)}}else R.current&&(R.current(),R.current=void 0)})),(0,s.HO)((()=>{if(k.loaded){const e=N.configs.mode;e&&("blueprint"===e.toLowerCase()&&N.setModeDesnOfBluePrint(),"component"===e.toLowerCase()&&N.setModeDesnOfComponent()),j.pluginDataset||(j.pluginDataset={}),N.initPluginDataset(j.pluginDataset),"function"==typeof n&&n()}}));const B=(0,s.HO)((()=>{if(k.loaded){const t=e.geoView,n=e.toplView,i=(e.templateView,t?{}:{height:"100%"}),o={};return"toplView"===k.activeBottomTabId?(i.display="",o.display="none"):(i.display="none",o.display=""),r().createElement(r().Fragment,null,t?r().createElement(y.A,{id:"top",style:{overflow:"hidden",flex:1}}):null,n?r().createElement(y.A,{id:"bottom",min:t,style:i,ifVisible:()=>{const t=e.toplView;return!1!==(null==t?void 0:t.display)}}):null)}return r().createElement("div",{className:i.A.loading},"加载中，请稍后...")}));(0,s.HO)((()=>{k.loaded&&(N.model=j,N.focusDefault={getConfigData:()=>({type:"default"}),getConfigs:()=>(0,m.Y)(k),getAssist(){const e=N.configs.aiView;if("object"==typeof e&&e)return(0,M.s)(k)}})})),(0,o.useLayoutEffect)((()=>{if(k.loaded){const e=N.pageMetaModel;e&&e.openedPageAry&&e.openedPageAry.forEach((e=>{requestAnimationFrame((t=>{k.emitScenes.load(e.id)}))})),k.startWithAITpt&&(0,I.x)(k.startWithAITpt.content,k)}}),[k.loaded]);const $=(0,s.HO)((()=>{const e=[i.A.designerUI];return N.isShowModelFullScreen()&&e.push(i.A.fullScreen),k.showEditView||e.push(i.A.hideEditView),k.showNavView&&!N.isDebugMode()||e.push(i.A.hideNavView),e.join(" ")})),z=(0,s.HO)((()=>{var e;const t=k._maxView;if(t){function n(){var e;try{k._maxView=void 0,"function"==typeof(null===(e=t.options)||void 0===e?void 0:e.onClose)&&t.options.onClose()}finally{k.showNavView=!0,k.showEditView=!0}}return k.showNavView=!1,(null===(e=t.options)||void 0===e?void 0:e.showEditView)||(k.showEditView=!1),j.views._maxView={status:"max",title:t.title,render:()=>t.content()},r().createElement("div",{className:i.A.lyMax,key:"max"},r().createElement(y.A,{id:"_maxView",onClose:n}))}})),W=(0,s.HO)((()=>{const e=k._popView;if(e){j.views._popView={status:"pop",title:e.title,render:()=>e.content({close(){n()}})};const t=e.options;function n(){k._popView=void 0,"function"==typeof(null==t?void 0:t.onClose)&&t.onClose()}const o={};return t&&(t.width&&(o.width=t.width),t.beforeEditView&&(o.right=j.editViewWidth)),r().createElement("div",{className:i.A.popBg,onClick:n},r().createElement("div",{className:`${i.A.lyPop} ${(null==t?void 0:t.beforeEditView)?i.A.lyPopEdit:i.A.lyPopR}`,key:"pop",style:o,onClick:(0,s.Wj)().stop},r().createElement(y.A,{id:"_popView",onClose:n})))}})),U=(0,s.HO)((()=>{var e;const t={main:void 0,edt:void 0},n=k._maxView;return n&&((null===(e=n.options)||void 0===e?void 0:e.showEditView)?t.main={display:"none"}:(t.main={display:"none"},t.edt={display:"none"})),t})),V=null===(D=N.configs)||void 0===D?void 0:D.plugins,H=e.editView,G=(0,s.HO)((()=>{if(k.loaded&&(null==V?void 0:V.length)>0)return r().createElement(l.A,{style:z?{display:"none"}:void 0})})),J=e.aiView&&("function"==typeof e.aiView.requestAsStream||"function"==typeof e.aiView.request);return r().createElement("blockquote",{className:$,ref:e=>e&&(k.ele=e),tabIndex:1},r().createElement("div",{className:i.A.lyMain},G,z,r().createElement("div",{className:i.A.lyStage,key:"main",style:U.main},B),r().createElement(v.A,{style:U.edt,width:j.editViewWidth||(null==H?void 0:H.width)||290,onResize:e=>{j.editViewWidth=e},resizer:"left"},r().createElement(c.A,{config:e}),J?r().createElement(_.F,null):null),W),r().createElement(b.A,null),r().createElement(x.A,null),r().createElement(A.A,null),r().createElement(E.A,null),r().createElement(C.A,null))}},31676:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i,o=n(91737),r=n(63021),s=n(96966),a=n(45943),l=n(27883),c=n(65600),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let p=class extends s.PQ{constructor(){super(...arguments),this.designerVersion=.1,this.pluginDataset={},this.envVars={},this.designCostTime=0,this.comThemes={},this._cssVars=[]}resetDesignCostTime(){this.designCostTime=0}getModule(e){if(this.modules)return this.modules[e]}regModule(e,{slot:t,frame:n},i){var o,r;this.modules||(this.modules={});const s=(0,l.F8)({slot:t,frame:n},{needClone:!0,forDebug:!0}),a=null===(r=null===(o=null==i?void 0:i.context)||void 0===o?void 0:o.configs.toJSON)||void 0===r?void 0:r.after;let d=s;d="function"==typeof a?a(s):(0,c.transformToJSON)(s),this.modules[e]={id:e,type:null==i?void 0:i.type,title:t.title,json:d}}deleteModule(e){if(this.modules){const t=this.modules[e];t&&(t.deleted=!0)}}getPermissionById(e){if(this.permissions)return this.permissions.find((t=>t.id===e))}searchLocaleByKeywords(e,t,n){if(this.localeImpl){const i=this.localeImpl.searchByKeywords(e,t,n);if(i&&Array.isArray(i))return i.map((e=>new s.xW(e)))}else if(this.locales)return this.locales.filter((n=>n.ifMatch(e,t)))}getLocaleById(e){if(this.localeImpl){const t=this.localeImpl.getById(e);if(t)return new s.xW(t)}else if(this.locales)return this.locales.find((t=>t.id===e))}setComThemes(e){this.clearComThemes(),Array.isArray(e)&&e.length>0&&e.forEach((e=>{const{namespace:t}=e;let n=this.comThemes[t];n||(n=this.comThemes[t]=[]),n.find((({id:t})=>t===e.id))||n.push(e)}))}clearComThemes(){Object.keys(this.comThemes).forEach((e=>{delete this.comThemes[e]}))}get cssVars(){return this._cssVars}set cssVars(e){if(Array.isArray(e))this._cssVars=e;else if("object"==typeof e){const t=[];for(let n in e)t.push({name:n,value:e[n]});this._cssVars=t}}clearCSSVar(){this._cssVars&&this._cssVars.splice(0,this._cssVars.length)}getCurModule(){return this.mainModule}addDomainModel(e){this.domainModels||(this.domainModels=[]),this.domainModels.push(e)}searchDomainModel(e){return this.domainModels.find((t=>t.id===e))}removeDomainModel(e){this.domainModels=this.domainModels.filter((t=>t.id!==e))}addConnector(e){this.connectors||(this.connectors=[]),this.connectors.push(e)}searchConnector(e){return this.connectors.find((t=>t.id===e))}removeConnector(e){this.connectors=this.connectors.filter((t=>t.id!==e))}addDataSource(e){this.dataSources||(this.dataSources=[]),this.dataSources.push(e)}searchDataSource(e){return this.dataSources.find((t=>t.id===e))}removeDataSource(e){this.dataSources=this.dataSources.filter((t=>t.id!==e))}};d([o.Nt,u("design:type","function"==typeof(i=void 0!==a.A&&a.A)?i:Object)],p.prototype,"factModule",void 0),d([o.CP,u("design:type",Number)],p.prototype,"designCostTime",void 0),d([o.Nt,u("design:type",Object)],p.prototype,"localeImpl",void 0),d([o.Nt,u("design:type",Object),u("design:paramtypes",[Object])],p.prototype,"cssVars",null),d([o.Nt,u("design:type",Object)],p.prototype,"views",void 0),p=d([(0,o.yL)(r.MS+"StageViewModel")],p);const f=p},70619:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(63021),r=n(96966),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.tk{constructor(e){super(),e&&(this.id=e.id,this.title=e.title,this.type=e.type,this.createTime=(new Date).getTime(),this.query=e.query)}};l=s([(0,i.yL)(o.MS+"DomainModel"),a("design:paramtypes",[Object])],l);const c=l},7889:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(77032),o=n(70619),r=n(23246),s=n(66777),a=n(91737),l=n(15344),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class u{constructor(){this.pageLoaded=!1,this.pluginInfos={},this.showNavView=!0,this.showEditView=!0,this.handlersDisabled=!1,this.callbackOnEdit=[],this.eventLogs=[]}activePlugin(e){const t=this.desnContext.getPlugin(e);t&&(this._activePlugin=t)}exeEditCallbacks(){this.callbackOnEdit.forEach((e=>{e()}))}getTheme(e){return this.model.themes[e]}popView(e,t,n){this._popView={title:e,content:t,options:n}}maxView(e,t,n){this._maxView={title:e,content:t,options:n}}setCurPage(e){this.curPage=e}getCurPage(){return this.curPage}addDomainModel(e){const t=new o.A(e);this.model.addDomainModel(t)}updateDomainModel(e){if(!e.id)throw new Error("expect id");const t=this.model.searchDomainModel(e.id);if(t){for(const n in e)t[n]=e[n];t.lastModifiedTime=(new Date).getTime(),this.emitItem.notifyDomainModelUpdated(t)}}removeDomainModel(e){const t=this.model.searchDomainModel(e);t&&(this.model.removeDomainModel(e),this.emitItem.notifyDomainModelRemoved(t))}addDatasource(e){const t=new l.A(e);this.model.addDataSource(t)}updateDatasource(e){if(!e.id)throw new Error("expect id");const t=this.model.searchDomainModel(e.id);if(t){for(const n in e)t[n]=e[n];t.lastModifiedTime=(new Date).getTime(),this.emitItem.notifyDomainModelUpdated(t)}}removeDatasource(e){const t=this.model.searchDomainModel(e);t&&(this.model.removeDomainModel(e),this.emitItem.notifyDomainModelRemoved(t))}addConnector(e){const t=new i.A(e);this.model.addConnector(t)}updateConnector(e){if(!e.id)throw new Error("expect id");const t=this.model.searchConnector(e.id);if(t){for(const n in e)t[n]=e[n];t.lastModifiedTime=(new Date).getTime(),this.emitItem.notifyConnectorUpdated(t)}}removeConnector(e){const t=this.model.searchConnector(e);t&&(this.model.removeConnector(e),this.emitItem.notifyConnectorRemoved(t))}testDomainModel(e,t,n){var i,o;const r=null===(o=null===(i=this.desnContext.configs.com)||void 0===i?void 0:i.env)||void 0===o?void 0:o.callDomainModel;if("function"==typeof r)return r(e,t,n);throw new Error("configs.com.env.callDomainModel not found")}testConnector(e,t){var n,i;const o=null===(i=null===(n=this.desnContext.configs.com)||void 0===n?void 0:n.env)||void 0===i?void 0:i.callConnector;if("function"==typeof o)return o(e,t);throw new Error("configs.com.env.callConnector not found")}callConnector(e){if("object"==typeof e&&e){const{id:t,params:n}=e,i=this.model.searchConnector(t);if(i)return this.testConnector(i.script,n)}}dump(e){return this.model.currentRole=this.desnContext.currentRole,e?(0,s.A)(this):(0,r.A)(this)}}c([a.CP,d("design:type",Object)],u.prototype,"startWithAITpt",void 0)},76724:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(63021),r=n(96966),s=n(29960),a=n(64012),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends r.PQ{get height(){return this._height}set height(e){"number"==typeof e&&e>o.Uo&&(this.heightRecover=e),this._height=e}isStatusOfNormal(){return!this.status||"normal"===this.status}isStatusOfMax(){return"max"===this.status}isStatusOfPop(){return"pop"===this.status}recoverSize(){this.status="normal",this.height=this.heightRecover}constructor(e){if(super(),e){const t=Object.assign({closeable:!1,status:"normal",tabs:[],showTitleBar:!0,height:void 0,width:void 0},e);this.closeable=t.closeable,this.status=t.status,this.tabs=t.tabs,this.showTitleBar=t.showTitleBar,this.height=t.height,this.width=t.width}}toJSX(){return a.createElement(s.A,{model:this})}};d=l([(0,i.yL)(o.MS+"ViewSlotModel"),c("design:paramtypes",[Object])],d);const u=d},10539:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(96966),o=n(70290),r=n(56845),s=n(30063);function a(e){const{desnContext:t,model:n,emitItem:a}=e;return{id:n.id,title:"智能助手",type:"scene",getPromptAppended(){},getFocusArea(){},getStartAIRole(){},getRoles:()=>[{id:"aiAssistant",title:"智能助手",placeholder:"我可以帮助您解答关于MyBricks使用的各类问题，包括功能介绍、如何使用等，请向我提问问题吧。"}],getSystemPrompts:()=>(0,o.L)(e),resetMessages({messages:e,mergeHistory:t,needToRetry:i}){let o;if(t){const t=[],i=[];for(let n=0;n<e.length;n++){const o=e[n];"system"===o.role&&t.push(o),"user"===o.role?"string"==typeof o.content?o.content.startsWith("【知识库】")?t.push(o):o.content.startsWith("【当前选区】")||o.content.startsWith("【项目文件】")||i.push({role:"user",content:o.content}):i.push({role:"user",content:o.content}):"assistant"===o.role&&i.push({role:"assistant",content:o.content})}if(geoSource&&t.push({role:"user",content:a(n)}),i.length>0){const e=i.map((e=>{if("user"===e.role){let t;const n=e.content;if(Array.isArray(n)){let e;n.find((t=>{t.text&&(e=t.text)})),t=e||""}else t=n.replace("【历史消息记录】\n","");return`[问题]\n${t}`}{let t=e.content;return t=t.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((e,t,n)=>{let i,o=t;return t&&t.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]/g,((e,t,n)=>{i=t,o=n})),`(${o}文件的代码)`})),`[回答]\n${t}\n`}}));t.push({role:"user",content:`【历史消息记录】（注意，这是此前的聊天记录，[问题]是用户给到AI的内容，[回答]是AI返回的消息，AI的回答内容做了摘要处理）\n${e.join("\n")}\n              `})}getFocusAreaTitle(n)&&t.push({role:"user",content:getFocusAreaContent(n)}),o=t}else{const t=e.find(((e,t)=>{if("string"==typeof e.content)return e.content.startsWith("【项目文件】")}));t?t.content=a(n):e.splice(e.length-1,0,{role:"user",content:a(n)}),o=e}if(i){const e=o[o.length-1];e.content=`${e.content}\n\n注意：\n1、关注此前的各类问题，仔细分析用户的意图，以便更好地回答问题；\n2、关注【项目文件】如果某文件需要修改代码，务必返回该文件的全部代码。\n        `}return o;function a(e){const t=(0,r.$N)(),n=(0,s.Ds)();return`【项目文件】\nUI画布：\n${JSON.stringify(t,null,2)}\n\n交互画布：\n${JSON.stringify(n,null,2)}\n\n注意： \n1、这是UI画布以及交互画布的描述；\n2、对于UI画布上的组件，其data字段非常重要、其中为用户配置的关于组件的各个属性；\n3、你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，所以，除非设计开发需要，尽量避免通过代码与用户进行沟通及问题确认；\n`}},execute:e=>new Promise(((t,n)=>{if(e){if(e.cmd)switch(e.cmd){case"selectCanvas":return a.focus(curSlot),void t("已选中画布");case"selectCom":{const i=e.data;let o;return"this"===i||"last"===i?o=curSlot.comAry[curSlot.comAry.length-1]:"number"==typeof i&&(o=curSlot.comAry[parseInt(i)]),void(o?(a.focus(o),t("已选中组件")):n("未找到组件"))}case"addCom":return void function(e,t){const{context:n,viewModel:o,emitItem:r,emitMessage:s,emitSnap:a,emitIOCAbout:l,emitPermission:c}=t;return new Promise(((t,n)=>{const i=[],o=e.data;if(Array.isArray(o))o.forEach((e=>{const t=d(e);t&&i.push(t)}));else{const e=d(o);e&&i.push(e)}i?t("已完成添加组件."):n("添加组件发生错误，请重新输入.")}));function d(e,t,u){const p=n.getComDef({namespace:e.type});if(!p)return!1;const f=new i.Al(p);r.add({seedModel:f,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==u?void 0:u.id},{noFocus:!0,indeed:!0});const h=o.searchCom(f.id);if(h){const t=p.ai;if(t&&"function"==typeof t["@create"])try{const i=getEditContext({comId:h.id,context:n,model:h,emitItem:r,emitMessage:s,emitSnap:a,emitIOCAbout:l,emitPermission:c},{def:e});t["@create"](i)}catch(e){console.error(e)}if(e.slots)for(let t in e.slots){const n=e.slots[t];Array.isArray(n)&&n.forEach((e=>{d(e,h,h.getSlot(t))}))}return`已添加组件${p.title}`}}}(e,geoViewCtx).then((e=>{t(e)})).catch((e=>{n("添加组件发生错误，请重新输入.")}));case"deleteCom":{const n=e.data;let i="number"==typeof n?n:parseInt(n);return a.delete(curSlot.comAry[i]),void t("已删除组件")}}t()}else n("抱歉，我未能理解您的问题，请重新输入.")}))}}},70290:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(75608),o=n(96966);function r(e){const{desnContext:t}=e,n=(0,i._)(t),r=[],s=t.configs.geoView.scenes;return s.adder&&s.adder.forEach((e=>{r.push(e.title)})),`\n<你的角色任务>\n  你是MyBricks低代码平台（以下简称MyBricks平台或MyBricks）的资深应用及客服专家，经验丰富、实事求是、逻辑严谨。\n  \n  （注意：当前的SytemPrompts部分内容采用XML、Markdown以及JSON等格式进行描述）\n</你的角色任务>\n\n<特别注意>\n  注意：对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、逐步分析处理。\n    - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【知识库】开头，表示用户提供了知识库中的信息（知识库为空也是符合预期的）；\n\n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n   \n  注意：你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题。\n  \n  注意：如果附件中有图片，请在设计开发中作为重要参考，进行详细的需求及设计分析，逐步思考，给出答案.\n</特别注意>\n\n${(0,o.FN)({sceneAddableAry:r})}\n\n${(0,o.bH)({comDefPrompts:n})}\n\n<按照以下情况分别处理>\n  对于用户的各类问题，请按照以下不同的情况进行逐步思考，给出答案。\n  \n  首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  按照以下步骤处理：\n    1、逐步思考完成，思考过程根据：先分析问题、总结出需要的场景、组件以及组件的插槽，然后给出搭建的思路；\n    2、回答简洁扼要，仅给出必要的组件即可、无需额外发挥;\n    3、无需任何额外建议，无需给出分析结果；\n    4、对于交互逻辑的回答，组件之间的编排按照 ->(输入项)组件名称(关联输出项)-> 的格式给出；\n    5、当用户希望了解某个组件的具体情况/问题时，提示其在画布中添加该组件，然后选中该组件了解详情；\n\n  整个过程中要注意：\n    - 回答问题一定要紧扣用户的问题，不要偏离主题，简介扼要、言简意赅；\n    - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n    - 返回的结果中可以使用适当的html标签（可以使用<b/><i/>）以增强良好的阅读体验，不要使用markdown；\n    - 在向用户做确认时，一次性返回所有问题、不要拆分成多步；\n</按照以下情况分别处理>\n\n<examples>\n  <example>\n    <user_query>有按钮组件吗？</user_query>\n    <assistant_response>\n      当前可以使用的组件中，有 **按钮** 、**工具条** 等组件可以作为按钮使用，当然也可以使用 **文本**、**矩形** 等组件来模拟按钮。\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>点击工具条中的编辑按钮，弹窗编辑数据后保存到数据库</user_query>\n    <assistant_response>\n     **接口准备**\n     在插件面板的 **连接器** 插件中，配置 保存数据 的接口；\n    \n     **场景分析**\n     该功能可以通过两个场景完成: 主页面、对话框；\n     \n     **主界面**\n      UI面板：\n      添加 **工具条** 组件；\n  \n      交互面板：\n      在 **工具条** 组件的 **编辑** 事件卡片中，添加 **对话框** 场景、**服务接口** 组件\n      \n      对于 **服务接口** 组件，在配置面板中配置上面在 **连接器** 插件中定义接口\n      \n      做如下逻辑编排：\n      (点击) -> （打开）对话框（确定）-> （调用）服务接口（结果）\n        \n      **对话框**\n      交互面板：\n      添加 **表单容器** 组件，在表单容器中添加文本框组件\n      \n      交互面板：\n      在 **表单容器** 组件的 **提交** 事件卡片中，做如下逻辑编排：\n      (提交) -> （确定）对话框\n        \n    </assistant_response>\n  </example>\n</examples>\n`}},46119:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var i=n(86519),o=n(93873),r=n(22887);function s(e,t){let n;return{id:"starter",title:"智能助手",type:"scene",getPromptAppended(){},getFocusArea(){},getStartAIRole(){},getRoles:()=>[{id:"aiAssistant",title:"智能助手",placeholder:"我可以帮助您解答关于MyBricks使用的各类问题，包括功能介绍、如何使用等，请向我提问问题吧。"}],getSystemPrompts(t,n){var r;return(null===(r=n.lastResponse)||void 0===r?void 0:r.template)?(0,o.Y)(e):(0,i.g)(e)},resetMessages({messages:e,mergeHistory:n,needToRetry:i}){let o;const r=e.find(((e,t)=>{if("string"==typeof e.content)return e.content.startsWith("【模版列表】")}));return r?r.content=s():e.splice(e.length-1,0,{role:"user",content:s()}),o=e,o;function s(){return`【模版列表】\n${t.templates.map(((e,t)=>JSON.stringify({id:e.id,title:e.title,description:e.description},null,2))).join("\n")}\n`}},execute:(i,o)=>new Promise(((s,a)=>{if(i){if(i.result){const e=JSON.parse(i.result),o=JSON.parse(n.content);(0,r.z)(o,e),t.createAsTemplate({id:n.id,content:o})}if(i.template){const r=JSON.parse(i.template),{id:s,comAry:a}=r;t.loadTemplate(r.id).then((t=>{n={id:r.id,content:t};const i=[];Array.isArray(a)&&a.forEach(((t,n)=>{const o=t.namespace,r=e.getComDef({namespace:o});r&&i.push({namespace:o,title:r.title,description:r.description,data:r.data})})),o.request({content:`\n请基于下面的模版（id=${r.id}）内容、以及可以使用的组件列表，根据要求，返回修改后的内容。\n\n<当前模版>\n${t}\n</当前模版>\n   \n<可以使用的组件列表>\n${JSON.stringify(i,null,2)}\n</可以使用的组件列表>\n\n`})}))}s()}else a("抱歉，我未能理解您的问题，请重新输入.")}))}}},93873:(e,t,n)=>{"use strict";function i(e){return'\n<你的角色任务>\n  你是MyBricks低代码平台（以下简称MyBricks平台或MyBricks）的资深搭建专家，经验丰富、实事求是、逻辑严谨。\n  \n  你需要对用户给出的模版JSON进行修改，基于可以使用的组件，帮助用户快速搭建页面。\n</你的角色任务>\n\n<关于模版>\n  模版由ui与interactions两部分构成，ui部分描述了页面的结构与样式，interactions部分描述了页面的交互逻辑。\n  \n  **ui**\n  ui部分描述了各个子页面的情况\n  \n  **子页面**\n  页面由多个子页面构成，这些子页面可能是常规页面、也可能是弹窗、抽屉、模块等类型，以下是各个属性的说明：\n  - id：页面的唯一标识，与interactions中的id对应\n  - title：页面的标题\n  - comAry：页面中的根组件列表\n  - style：页面的样式\n  \n  **组件**\n  组件是页面的基本构成单元，以下是各个属性的说明：\n  - id：组件实例的唯一标识\n  - name：组件实例的唯一名称\n  - title：组件实例的标题\n  - namespace：组件实例由组件定义实例化得到，namespace为组件定义的唯一标识\n  - version：组件定义的版本\n  - style：组件实例的样式\n  - data：组件实例的业务模型数据\n  - slots：组件实例的插槽，其中包含了子组件\n  \n  **interactions**\n  interactions部分描述了各个子页面的交互逻辑，各个子页面(scenes,其中id与ui中的id对应）的交互逻辑通过diagrams描述。\n  \n  **diagrams**\n  diagrams描述了子页面中所有的业务流程，包括子页面级别的流程与组件级别的流程，其中：\n  - id：流程的唯一标识\n  - title：流程的标题\n  - coms：流程中的组件列表，包括了在ui中的组件以及js等多种类型的组件\n  - connections：流程中的连接关系\n  \n  注意：\n  - 组件的类型是由namespace决定的，不同的namespace对应不同的组件类型；\n  \n  - ui部分中，注意以下方面：\n   - 根据需要进行修改时、请务必参考可用组件列表中的数据描述；\n   - 重点关注组件的data、slots、title等部分，根据需要进行修改；\n   - 子组件的修改一定要在对应的slots中进行；\n   - 要考虑不同数据的关联部分，例如有些组件slots中的子组件数据要与其data中的某些数据对应等情况；\n   - 结合组件中的data描述，考虑适当的布局及样式；\n   \n  - interactions部分，根据需要、仅需要修改schema部分；\n  - 不要超出可以使用的组件范围；\n</关于模版>\n\n<特别注意>\n  注意：你需要根据用户的问题、逐步分析处理。\n    - 在对话过程中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【模版列表】开头，表示用户提供了可供选择的模版信息；\n\n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n</特别注意>\n\n<按照以下情况分别处理>\n  对于用户的各类问题，请按照以下不同的情况进行逐步思考，给出答案。\n  \n  首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  接下来，进行模版的修改，按照以下格式返回：\n  ```json file="result.json"\n  {\n    "delete":[\n      {\n        "xpath":""\n      },\n      {\n        "xpath":""\n      }\n    ],\n    "update":[\n      {\n        "xpath":"",\n        "content":""\n      }\n    ],\n    "add":[\n      {\n        "xpath":"",\n        "content":{}\n      }\n    ]\n  }\n  ```\n  \n  其中：\n\n  **delete**\n  delete表示需要删除的内容，删除前请仔细甄别是否需要删除；\n  \n  **update**\n  update表示需要修改的内容;\n  注意：\n  - 不允许出现同时修改多项的情况，这类情况需要分开处理，例如如果同一个xpath需要修改多个字段，那么要通过多项完成\n  \n  **add**\n  add表示新增的内容；\n  \n  **更新条目**\n  - xpath表示在模版JSON中的位置，不同项目使用.（英文点号)进行分隔；\n  - content表示要新增或修改的内容；\n  \n  注意：\n  - 修改的过程中，delete代表先删除必要的部分，然后再新增或修改内容；\n  - 不允许出现同时修改多项的情况（例如同一个xpath，但是content对应多个字段），这类情况需要分开处理；\n  - 直接返回修改后的JSON内容即可，并给出总结性的说明。\n</按照以下情况分别处理>\n\n<examples>\n  <example>\n    <user_query>根据模版（模版内容及允许使用的组件列表）进行修改</user_query>\n    <assistant_response>\n      好的，根据您提供的模版及允许使用的组件列表，我将为您做如下修改：\n      ```json file="result.json"\n      {\n        "delete":[\n          {\n            "xpath":"ui.0.comAry.0.data.items.1"\n          }\n        ],\n        "update":[\n          {\n            "xpath":"ui.0.comAry.0.data.items.0.abc.title",\n            "content":"新的标题"\n          },\n          {\n            "xpath":"ui.0.comAry.0.data.items.0.abc.placeholder",\n            "content":"新的占位符"\n          }\n        ],\n        "add":[\n          {\n            "xpath":"ui.0.comAry.0.data.items",\n            "content":{\n               "id":"u_12345",\n               "comName":"u_籍贯",\n               "schema": { "type": "string" },\n             }\n          },\n          {\n            "xpath":"ui.0.comAry.0.data.items",\n            "content":{\n               "id":"u_new",\n               "comName":"其他",\n               "schema": { "type": "string" },\n             }\n          }\n        ]\n      }\n      ```\n    </assistant_response>\n  </example>\n</examples>\n'}n.d(t,{Y:()=>i})},86519:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var i=n(75608);function o(e){return`\n<你的角色任务>\n  你是MyBricks低代码平台（以下简称MyBricks平台或MyBricks）的资深搭建专家，经验丰富、实事求是、逻辑严谨。\n  \n  你需要根据用户提出的问题，并结合用户给出的【模版列表】，为用户提供合适的模版以及需要的组件列表。\n  \n  模版列表中返回的是模版的摘要，包括id、title、description等内容。\n</你的角色任务>\n\n<当前可以使用的组件>\n  ${(0,i._)(e,{onlyUI:!0,noIO:!0})}\n</当前可以使用的组件>\n\n<特别注意>\n  注意：对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、逐步分析处理。\n    - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【模版列表】开头，表示用户提供了可供选择的模版信息；\n\n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n   \n  注意：你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题。\n  \n  注意：如果附件中有图片，请在设计开发中作为重要参考，进行详细的需求及设计分析，逐步思考，给出答案.\n</特别注意>\n\n<按照以下情况分别处理>\n  对于用户的各类问题，请按照以下不同的情况进行逐步思考，给出答案。\n  \n  首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  接下来，在当前的模版列表中选择合适的模版，然后按照以下格式返回\n  按照以下格式返回结果：\n  \`\`\`json file="template.json"\n  {\n    "id":"模版id",\n    "comAry":[\n      {\n         "namespace":"组件namespace",\n      }\n    ]\n  }\n  \`\`\`\n\n  注意：无论如何，一定要返回可以使用的模版以及接下来需要的组件列表。\n</按照以下情况分别处理>\n\n<examples>\n  <example>\n    <user_query>一张用户管理的CRUD页面</user_query>\n    <assistant_response>\n      好的，根据您提供的模版列表，我将为您选择如下模版。\n      \`\`\`json file="template.json"\n      {\n        "id":"mybricks-tpt-001"\n      }\n      \`\`\`\n    </assistant_response>\n  </example>\n</examples>\n`}},75608:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(96966),o=n(91737),r=n(91716);function s(e,t){const n=[];return e.getAllComDefArray((e=>!(e.namespace.indexOf("mybricks.comlib-template-compute")>=0)&&(!(e.namespace.indexOf("mybricks.domain.")>=0)&&(e.namespace!==i.ZD.coms.module&&(e.namespace!==i.ZD.coms.selection&&(e.namespace!==i.ZD.coms.group&&void 0)))))).filter((e=>e)).forEach((e=>{var i;if(t&&t.onlyUI&&(null===(i=e.rtType)||void 0===i?void 0:i.match(/^js/)))return;const s=function(e,t){const n=(0,o.AF)(e),i=function(e,t){const n=e.slots;if(!n)return;const i=null==n?void 0:n.map((e=>t?e.title:{title:e.title,defer:e.defer,description:e.description}));if(t)return i.length<=0?"无":[...new Set(i)];return i}(n,t),s=function(e,t){var n,i;if(t){const t=(null===(n=e.inputs)||void 0===n?void 0:n.map((e=>`${e.title}${e.description?"("+e.description+")":""}`)))||[];return t.push("显示"),t.push("隐藏"),t.push("显示/隐藏"),t}{const t=e.outputs,n=(null===(i=e.inputs)||void 0===i?void 0:i.map((n=>{var i;let o=[];return t&&(Array.isArray(n.rels)?n.rels.forEach((e=>{t.find((t=>{t.id===e&&o.push({title:t.title})}))})):(null===(i=e.rtType)||void 0===i?void 0:i.indexOf("js"))>=0&&(o=t.map((e=>({title:e.title}))))),{title:n.title,description:n.description,outputs:o}})))||[];return n.push({title:"显示"}),n.push({title:"隐藏"}),n.push({title:"显示/隐藏"}),n}}(n,t),a=function(e,t){var n,i;if(t){const t=null===(n=e.outputs)||void 0===n?void 0:n.map((e=>`${e.title}${e.description?"("+e.description+")":""}`));return t}{const t=null===(i=e.outputs)||void 0===i?void 0:i.map((e=>({title:e.title,description:e.description})));return t}}(n,t),l={data:(0,r.O$)(n.data),namespace:n.namespace,description:n.description};l.slots=i,s&&(l.inputs=s);a&&(l.outputs=a);return l}(e,!0),a={title:e.title,type:e.rtType||"UI",namespace:e.namespace,slots:s.slots};t&&t.noIO||(a.inputs=s.inputs,a.outputs=s.outputs),n.push(a)})),n.push({title:"变量",type:"js",description:"不同作用域插槽下的变量，可实现对数据进行存储等操作，对于不同场景的数据共享，可以创建全局变量",namespace:"mybricks.core.var",inputs:["获取值","设置值","重置值"],outputs:["当值发生变化"]}),`\n${JSON.stringify(n,null,2)}\n  `}},22887:(e,t,n)=>{"use strict";function i(e,t){const{delete:n,update:i,add:o}=t;Array.isArray(n)&&n.forEach((t=>{const{xpath:n}=t;!function(e,t){const n=t.split(".");let i=e;n.forEach(((e,t)=>{t===n.length-1?Array.isArray(i)?i.splice(i.indexOf(e),1):delete i[e]:i=i[e]}))}(e,n)})),Array.isArray(i)&&i.forEach((t=>{const{xpath:n,content:i}=t;!function(e,t,n){const i=t.split(".");let o=e;i.forEach(((e,t)=>{t===i.length-1?o[e]=n:o=o[e]}))}(e,n,i)})),Array.isArray(o)&&o.forEach((t=>{const{xpath:n,content:i}=t;!function(e,t,n){if(!n)return;const i=t.split(".");let o=e;i.forEach(((e,t)=>{if(t===i.length-1){const t=o[e];t&&(Array.isArray(t)?t.push(n):"object"==typeof t&&"object"==typeof n&&Object.assign(t,n))}else o=o[e]}))}(e,n,i)}))}n.d(t,{z:()=>i})},52716:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>s,Yt:()=>a});var i=n(1917);let o,r;function s({comLibs:e,designerModel:t}){o=e,r=t}function a(e){var t;if(!e||!e.sceneId&&!e.sceneTitle||!e.comId&&!e.comTitle)throw new Error("Invalid params");const n=r.mainModule,i=n.slot,o=n.frame;let s,a,c;if(e.sceneId?s=i.getSlot(e.sceneId):e.sceneTitle&&(s=i.slots.find((t=>t.title===e.sceneTitle))),s&&(a=o.getFrame(s.id)),!s||!a)throw new Error(`Scene(${e.sceneId}) not found`);if(e.comId?c=s.searchCom(e.comId):e.comTitle&&(c=s.searchComByTitle(e.comTitle)),c){a.searchCom(c.id);const e=null===(t=c.slots)||void 0===t?void 0:t.map((e=>l(e)));return{id:c.id,title:c.runtime.title,namespace:c.runtime.def.namespace,get data(){return c.runtime.model.data},set data(e){c.runtime.model.data=e;const t=c.root;if(t.isTypeOfModule()){const e=o.getFrame(t.id);r.regModule(t.id,{slot:t,frame:e})}},slots:e,appendSlot(e){if(!e||!e.id&&!e.title)throw new Error("Invalid params");if(c.slots.find((t=>t.id===e.id)))throw new Error(`Slot(${e.id}) already exists`);return l(c.addSlot(e))}}}}function l(e){const t=e.parent,n=t.runtime.topl;return{id:e.id,title:e.title,appendChild(o){let r;r=e.isTypeOfScope()?n.getFrame(e.id):n.parent;const{geo:s,topl:l}=(0,i.FA)(o,{slot:e,frame:r,parentCom:t});return a({sceneId:s.root.id,comId:s.id})},deleteChild(t){const o=n.getFrame(e.id);(0,i.ES)(t.comId,{slot:e,frame:o})}}}},15766:(e,t,n)=>{"use strict";function i(e,t,n,i,{getComDef:o}){let r;const s=o(t.runtime.def);if(s&&s.editors){const a=s.editors.view||s.editors;if(a){const s=a[e];if(s)try{r=s({get def(){const e=o(n.runtime.def);return{namespace:e.namespace,title:e.title,schema:e.schema}},get data(){return t.data},get children(){return{get(e){const t=i.comAry.find((t=>t.id===e));if(t){const e=o(t.runtime.def),i=e.editors.view||e.editors;if(i)return new Proxy({},{get(e,t){if("string"==typeof t&&t.startsWith("@")){const e=i[t];if("function"==typeof e)return()=>e({data:n.data})}}})}}}},get inputs(){return{get:()=>({setSchema(){}})}},get outputs(){return{get:()=>({setSchema(){}})}},get slots(){return{get:()=>({inputs:{get:()=>({setSchema(){}})}})}}},{id:n.id,name:n.name,title:n.runtime.title,get data(){return n.data},get inputDefs(){return o(n.runtime.def).inputs},get outputDefs(){return o(n.runtime.def).outputs},get dom(){return n.$el}},{id:i.id})}catch(e){console.error(e),r=void 0}}}return r}n.d(t,{k:()=>i})},84896:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appendScene:()=>l.DO,dump:()=>m,getCom:()=>c.Yt,init:()=>h,removeScene:()=>l.f6,updateScene:()=>l.o5});var i=n(56845),o=n(30063),r=n(63021),s=n(91737),a=n(31676),l=n(74259),c=n(52716),d=n(1917);const u="_main_";let p,f;function h({comLibs:e,dumpJSON:t}){if(p=e,t){const e=JSON.parse(t).content[r.xH];f=(0,s.iu)(e)}else{f=new a.A;const e=new i.u_,t=new o.al;f.mainModule={instId:u,title:"主模块",slot:e,frame:t}}return(0,d.Ts)({comLibs:p}),(0,l.Ts)({comLibs:p,designerModel:f}),(0,c.Ts)({comLibs:p,designerModel:f}),{get sceneAry(){return f.mainModule.slot.slots.map((e=>({id:e.id,title:e.title,comAry:e.comAry.map((e=>(0,d.Pf)(e)))})))},get varAry(){return f.mainModule.frame.varComAry.map((e=>g(e)))},getCom:c.Yt,getVar:y,dump:m}}function m(){return{content:{[r.xH]:(0,s.Bh)(f)}}}function g(e){if(e)return{id:e.id,title:e.runtime.title,getDefaultValue:t=>e.data.initValue,setDefaultValue(t){e.data.initValue=t}}}function y(e){if(!e||!e.varTitle&&!e.varId)throw new Error("Invalid params");if(!e.sceneId){return g(f.mainModule.frame.varComAry.find((t=>e.varId?t.id===e.varId:e.varTitle?t.runtime.title===e.varTitle:void 0)))}}},74259:(e,t,n)=>{"use strict";n.d(t,{DO:()=>u,Ts:()=>l,f6:()=>d,o5:()=>c});var i=n(91737),o=n(1917),r=n(84896);let s,a;function l({comLibs:e,designerModel:t}){s=e,a=t}function c(e,t){if(!e||!t)throw new Error("Params error");const n=a.mainModule,i=n.slot.getSlot(e),o=n.frame.getFrame(e);if(i&&o){const e=t.title;if(e){i.title=e;const t=i.template;if(i.comAry&&t&&t.asRoot){const n=i.comAry.find((e=>e.asRoot&&e.runtime.def.namespace===t.namespace));n&&(n.runtime.title=e)}o.title=e,o.diagramAry.length>0&&(o.diagramAry[0].title=e)}}}function d(e){const t=a.mainModule;t.slot.deleteSlot(e);const n=t.frame,i=n.getFrame(e);n.deleteFrame(i),i.destroy()}function u(e){const t="object"==typeof e?e.id:void 0;let n,s,l;if("string"==typeof e){!function(e){const t=(0,i.iu)(e),{slot:n,frame:o}=t,r=a.mainModule,s=((0,i.uR)(),`${n.title}`);let l;n.title=s,n.deletable=!0,o&&(l=o,l.title=s,l.diagramAry.length>0&&(l.diagramAry[0].title=s));r.slot.slots.push(n),l&&r.frame.frames.push(l)}(JSON.parse(e));const t=a.mainModule;n=t.slot.slots[t.slot.slots.length-1],s=t.frame.frames[t.frame.frames.length-1],l=n}else if("object"==typeof e){const{id:t,title:i,type:r,template:c}=e,d=a.mainModule.slot,u=a.mainModule.frame;if("popup"===r){const t=function({mainSlot:e,mainFrame:t},{id:n,title:i,type:r,template:s}){const a=t.addFrame({id:n,title:i,type:"popup"});[{id:"open",title:"打开",schema:{type:"follow",editable:!0}}].forEach((e=>{a.addInputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})})),[{id:"commit",title:"确定",schema:{type:"follow"}},{id:"cancel",title:"取消",schema:{type:"any"}},{id:"apply",title:"应用",schema:{type:"follow"}},{id:"close",title:"关闭",schema:{type:"follow"}}].forEach((e=>{a.addOutputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})})),a.addIODiagram({title:i});const l=e.addSlot({id:n,title:i,showType:"popup",template:s,style:{layout:(null==s?void 0:s.asRoot)?void 0:"smart"}});if(s&&s.namespace){const e=(0,o.xs)(s.namespace);if(!e||!e.namespace)throw new Error("not found comDef for "+s.namespace);const{geo:t,topl:n}=(0,o.FA)({namespace:s.namespace},{slot:l,frame:a});if(s.asRoot&&(t.asRoot=!0),t.lockedSilent=!0,s.asFirst?t.asFirst=!0:s.asLast&&(t.asLast=!0),s.data&&"object"==typeof s.data){const e=t.runtime.model.data;for(let t in s.data)e[t]=s.data[t]}}let c=l;if(null==s?void 0:s.asRoot){const e=l.comAry[0];e&&e.slots.length>0&&(c=e.slots[0])}return{sceneSlot:l,sceneRootSlot:c,sceneFrame:a}}({mainSlot:d,mainFrame:u},e);n=t.sceneSlot,s=t.sceneFrame,l=t.sceneRootSlot}else n=d.addSlot({id:t,title:i}),l=n,s=u.addFrame({id:t,title:i}),s.addIODiagram({title:i})}if(!n||!s)throw new Error("Invalid params");return{id:n.id,setTitle(e){c(n.id,{title:e})},get comAry(){return n.comAry.map((e=>(0,o.Pf)(e)))},appendCom(e){if(!e||!e.namespace)throw new Error("Invalid params");const{geo:n,topl:i}=(0,o.FA)(e,{slot:l,frame:s});return(0,r.getCom)({sceneId:t,comId:n.id})},updateCom(e){if(e&&e.id){const t=l.searchCom(e.id);if(t){const n=t.runtime.model;n.data=Object.assign({},n.data,e.data)}}}}}},1917:(e,t,n)=>{"use strict";n.d(t,{ES:()=>u,FA:()=>d,Pf:()=>c,Ts:()=>l,xs:()=>p});var i=n(56845),o=n(30063),r=n(15766),s=n(96966);let a;function l({comLibs:e}){a=e}function c(e){var t;if(e){const n=e.runtime.topl,i=null===(t=e.slots)||void 0===t?void 0:t.map((t=>({id:t.id,title:t.title,get comAry(){return t.comAry.map((e=>c(e)))},appendChild(i){const o=n.getFrame(t.id),{geo:r,topl:s}=d(i,{slot:t,frame:o,parentCom:e});return c(r)},deleteChild(e){const i=n.getFrame(t.id);u(e.comId,{slot:t,frame:i})}})));return{id:e.id,title:e.runtime.title,namespace:e.runtime.def.namespace,data:e.runtime.model.data,slots:i}}}function d(e,{slot:t,frame:n,parentCom:a}){const{geo:l,topl:c}=function(e){const t=p(e.namespace);if(!t||!t.namespace)throw new Error("not found comDef for "+e.namespace);const n=new s.Al(t);n.init({cancel(){requestAnimationFrame((()=>{}))}});const r=new i.sz(n);if(e.data){const t=r.runtime.model;t.data=Object.assign({},t.data,e.data)}const a=new o.US(n);return{geo:r,topl:a}}(e);return t.addComponent(l),n&&n.addComponent(c),a&&(0,r.k)(s.W1.CHILD_ADD,a,l,t,{getComDef:e=>p(e.namespace)}),{geo:l,topl:c}}function u(e,{slot:t,frame:n,parentCom:i}){const o=t.searchCom(e),a=n.searchCom(e);if(!o||!a)throw new Error(`Com(${e}) not found`);t.removeComponent(o),n&&n.removeComponent(a),i&&(0,r.k)(s.W1.CHILD_REMOVE,i,o,t,{getComDef:e=>p(e.namespace)})}function p(e){let t;const n=i=>{if(i)return i.find((i=>i.namespace===e?(t=i,!0):i.comAray?n(i.comAray):void 0))};return a&&a.find((e=>{if(e.comAray)return n(e.comAray)})),t}},9710:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,e:()=>s});var i=n(64012),o=n(64012);function r(){const[e,t]=(0,i.useState)();if((0,i.useMemo)((()=>{n.e(446).then(n.bind(n,15446)).then((e=>{t({View:e.AIAssistant})}))}),[]),e)return o.createElement(e.View,null)}function s({assist:e,model:t}){const[r,s]=(0,i.useState)();if((0,i.useMemo)((()=>{n.e(446).then(n.bind(n,15446)).then((e=>{s({View:e.AIGlobal})}))}),[]),r)return o.createElement(r.View,{assist:e,model:t})}},66578:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(90188),o=n(64012),r=n.n(o),s=n(91737),a=n(7889);class l{}function c({style:e,width:t,resizer:n,children:c,onResize:u}){const p=(0,s.lB)(a.A,{from:"parents"}),f=(0,s.J2)(l,(e=>e({width:t,resizer:n,spaContext:p,onResize:u})),[t]);return(0,o.useEffect)((()=>{"function"==typeof u&&u(t)}),[]),r().createElement(r().Fragment,null,"left"===n?r().createElement("div",{className:i.A.resizer,style:Object.assign({},e),onMouseDown:e=>d(e,f)},r().createElement("div",null)):null,r().createElement("div",{className:i.A.view,style:Object.assign(Object.assign({},e),{width:f.width})},c),"right"===n?r().createElement("div",{className:i.A.resizer,style:Object.assign({},e),onMouseDown:e=>d(e,f)},r().createElement("div",null)):null)}function d(e,t){requestAnimationFrame((()=>{t.spaContext.reLayout=!0}));const n="left"===t.resizer;let i=t.width;(0,s.zg)(e,(({po:{x:e,y:o},epo:{ex:r,ey:s},dpo:{dx:a,dy:l},adpo:{adx:c,ady:d}},u)=>{if("moving"==u){let e=i+(n?-c:+c);e>=290&&(t.width=e)}"finish"==u&&(t.spaContext.reLayout=void 0,t.onResize&&t.onResize(t.width))}))}},27091:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(7889),r=n(30155),s=n(91716),a=n(64012),l=n(64012);function c(){const e=(0,i.lB)(o.A,{from:"parents"}),{desnContext:t}=e,{event:n}=t.contextMenuEvent||{},c=(0,a.useCallback)((()=>{const{model:e,finishCallback:n}=t.contextMenuEvent;e&&e.state.cancelContextMenuPopped(),"function"==typeof n&&n(),setTimeout((e=>{i.zg.cancel=void 0}),500),t.contextMenuEvent=void 0}),[]),d=(0,a.useCallback)((e=>{e.exe()}),[]);if(n){const i=t.listeners,o=(0,s.E9)(e.ele),a=n.evt||n;let u=a.clientX,p=a.clientY;if(u-=o.x,p-=o.y,i)return l.createElement("div",{className:r.A.bg,onClick:c},l.createElement("div",{className:r.A.menu,style:{left:u,top:p}},i.map(((e,t)=>{var n;return e?l.createElement("div",{className:r.A.menuItem,key:t,onClick:t=>d(e)},l.createElement("label",null,e.title),l.createElement("span",null,null===(n=e.keys)||void 0===n?void 0:n.join(" "))):l.createElement("div",{className:r.A.sper,key:t})}))))}}},27128:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(91737),o=n(7889);function r(){const e=(0,i.lB)(o.A,{from:"parents"}),{desnContext:t}=e;(0,i.HO)((()=>{if(1===t.focusModelAry.length){const e=t.focusModelAry[0],n=null==e?void 0:e.getListeners;t.listeners="function"==typeof n?n():void 0}else t.listeners=void 0}))}},69555:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(7889),r=n(45727),s=n(91716),a=n(64012),l=n(64012);function c(){const{desnContext:e}=(0,i.lB)(o.A,{from:"parents"}),t=e._popup,n=(0,a.useCallback)((()=>{const t=e._popup;if(t){t.targetElement.classList.remove(r.A.active),e._popup=void 0,"function"==typeof t.onClose&&t.onClose()}}),[t]);if((0,a.useEffect)((()=>{t&&e.registerBlur(n,!0)}),[t]),t){const e=t.jsxFn({close:n}),i=t.targetElement,o=t.options;i.classList.add(r.A.active);const a=(0,s.E9)(i),c={left:a.x,top:a.y+i.offsetHeight};if(o){const e=o.position;e&&(e.includes("left")?c.left=a.x-150-3:e.includes("right")&&(c.left=a.x+a.w),"number"==typeof o.xOffset&&(c.left+=o.xOffset),e.includes("top")&&(c.top=a.y))}return l.createElement("div",{className:r.A.popup,style:c},e)}return l.createElement(l.Fragment,null)}},58407:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Tooltips});var _mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91737),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91716),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76033),react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64012),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_SPAContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7889),_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1623);class ToolTipCtx{constructor(){this.show=!1,this.description=""}}let toolTipCtx;function Tooltips(){const spaCtx=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_SPAContext__WEBPACK_IMPORTED_MODULE_4__.A,{from:"parents"});if(toolTipCtx=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.J2)(ToolTipCtx,(e=>{e({ele:null,show:!1,description:""})})),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{if(!spaCtx.loaded)return;const e=e=>{const n=e.target;if(n){const e=(e=>{var t;if(e.dataset.mybricksTip)return e;{let n=0,i=e.parentNode;for(;i&&n++<5;){if(null===(t=i.dataset)||void 0===t?void 0:t.mybricksTip)return i;i=i.parentNode}}})(n);e?(toolTipCtx.ele=e,toolTipCtx.description=e.dataset.mybricksTip,toolTipCtx.show=!0,e.addEventListener("mouseout",t)):(toolTipCtx.ele=void 0,toolTipCtx.show=!1)}},t=e=>{},n=e=>{const t=e.target;toolTipCtx.ele=void 0,toolTipCtx.show=!1,t.removeEventListener("click",n)};document.body.addEventListener("mouseover",e,!1),spaCtx.ele.addEventListener("click",n,!1),spaCtx.model.mainModule.slot&&setTimeout((t=>{const i=spaCtx.model.mainModule.slot.$el;i&&(i.addEventListener("mouseover",e,!1),i.addEventListener("click",n,!1))}))}),[spaCtx.loaded]),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{toolTipCtx.ele&&toolTipCtx.ele.parentNode.addEventListener("scroll",(e=>{toolTipCtx.show=!1}))}),[toolTipCtx.ele]),toolTipCtx.show&&toolTipCtx.ele){const po=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.E9)(toolTipCtx.ele);let descObj,desc=toolTipCtx.description;if(desc.startsWith("{"))try{eval(`descObj = ${toolTipCtx.description}`)}catch(e){descObj={content:"提示内容错误",position:"default"}}else descObj={content:desc,position:"default"};return(0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{ref:e=>{e&&("right"===descObj.position?(e.style.top=po.y+po.h/2-e.offsetHeight/2+"px",e.style.left=po.x+po.w+"px"):"left"===descObj.position?(e.style.top=po.y+po.h/2-e.offsetHeight/2+"px",e.style.left=po.x-e.offsetWidth-8+"px"):"bottom"===descObj.position?(e.style.top=po.y+e.offsetHeight-16+"px",e.style.left=po.x-e.offsetWidth/2+po.w/2+"px"):(e.style.top=po.y-e.offsetHeight-3+"px",e.style.left=po.x-e.offsetWidth/2+po.w/2+"px"))},className:`${_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.tooltip} \n      ${"left"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.left:""}\n      ${"right"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.right:""}\n      ${"bottom"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.bottom:""}\n      `},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.arrow},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.content})),react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.A.inner},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("span",null,descObj.content))),document.body)}}},29960:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(91716),s=n(7889),a=n(76724),l=n(91737),c=n(49678),d=n(63021);class u{constructor(){this.visible=!0}}function p({id:e,style:t,inIFrame:n,focused:p,min:f,onClose:h,ifVisible:m}){const g=(0,l.lB)(s.A,{from:"parents"}),y=(0,l.J2)(u,(t=>{const n=g.model.viewSlots[e];if(n)t({spaContext:g,model:n});else{const n=g.model.views[e];n&&t({spaContext:g,model:new a.A({status:n.status,closeable:!1,tabs:[e],showTitleBar:!0,height:n.height})})}})),b=y.model;if(!b)return;(0,i.useEffect)((()=>{var e;const{model:t,ele:n}=(0,l.lB)(u);if(t){"number"==typeof t.height&&t.height>d.Uo&&(t.status="normal");const i=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.offsetHeight;t.height>i-5&&(t.height=i+1)}}),[]);const v=(0,l.HO)((()=>b.tabs.map(((e,t)=>{const n=g.model.views[e];return n?n.title:"Loading"})).filter((e=>e)))),x=(0,i.useCallback)((e=>()=>{switch(e){case"min":b.status="min",(void 0===b.height||b.height>d.Uo)&&(b.heightRecover=b.height,b.height=d.Uo);break;case"recover":b.status="normal",b.height=b.heightRecover||400;break;case"close":h()}}),[]);(0,l.HO)((()=>{"function"==typeof m&&(m()?y.visible=!0:y.visible=!1)}));const A=(0,l.HO)((()=>{let e;return b.closeable||b.isStatusOfMax()||b.isStatusOfPop()?e=o().createElement("div",{onClick:x("close"),title:"关闭",className:`${c.A.icon} ${c.A.closeIcon}`},d.Ze.close):"auto"!==b.height&&(e="min"===b.status?o().createElement("div",{onClick:x("recover"),title:"恢复",className:`${c.A.icon} ${c.A.iconRecover}`},d.Ze.recover):b.height>d.Uo||!b.height?o().createElement("div",{onClick:x("min"),title:"最小化",className:c.A.icon},d.Ze.min):o().createElement("div",{onClick:x("recover"),title:"恢复",className:`${c.A.icon} ${c.A.iconRecover}`},d.Ze.recover)),e})),w=(0,l.HO)((()=>b.tabs.map(((e,t)=>{const n=g.model.views[e];return n?o().createElement(i.Fragment,{key:t},o().createElement(n.render,{onToolbar:e=>{"function"==typeof e&&(y.toolbarExt=e)}})):null})))),E=(0,l.HO)((()=>{const e=[c.A.view];return b.status&&e.push(c.A[b.status]),g.reLayout&&e.push(c.A.freeze),e.join(" ")}));let C=(0,l.HO)((()=>{const e=y.visible?{}:{display:"none"};return"auto"===b.height&&(e.overflow="auto",e.flex=1),"min"===b.status?e.height=d.Uo-1:b.isStatusOfMax()||b.isStatusOfPop()?e.height="100%":e.height=b.height||400,Object.assign(e,t||{})}));C=(0,i.useMemo)((()=>Object.assign({},C,t||{})),[C,t]),(0,l.HO)((()=>{h&&g.desnContext.isDebugMode()&&h()}));const _=(0,l.HO)((()=>{if(y.toolbarExt)return y.toolbarExt()})),M=(0,i.useMemo)((()=>"pop"===b.status?o().createElement(o().Fragment,null,o().createElement("div",{className:c.A.title},A,o().createElement("span",null,v)),w):b.showTitleBar?o().createElement(o().Fragment,null,o().createElement("div",{className:c.A.title},_||o().createElement(o().Fragment,null,v.length>0?o().createElement("div",{className:c.A.tt,onDoubleClick:e=>function(e){var t;const{model:n,ele:i}=e,o=null===(t=null==i?void 0:i.parentElement)||void 0===t?void 0:t.offsetHeight;n.height>=o?n.height=n.heightRecover:n.height=o+1}(y)},v):null),A),o().createElement("div",{className:c.A.content},w)):w),[v,A,w,_]);return o().createElement(o().Fragment,null,"auto"!==b.height?o().createElement("div",{className:c.A.sperH,style:y.visible?{}:{display:"none"},onMouseDown:e=>function(e,t){const{model:n,spaContext:i}=t;let o,s;(0,l.zg)(e,(({po:{x:a,y:l},epo:{ex:c,ey:u},dpo:{dx:p,dy:f},adpo:{adx:h,ady:m}},g)=>{var y,b;if("start"==g){let{x:n,y:a,w:l,h:c}=(0,r.E9)(t.ele);o=c+e.clientY,s=null===(b=null===(y=t.ele)||void 0===y?void 0:y.parentElement)||void 0===b?void 0:b.offsetHeight,requestAnimationFrame((()=>{i.reLayout=!0}))}if("moving"==g){if(f>0&&n.height<=d.Uo+10)return n.height=d.Uo-1,void(n.status="min");if(f<0){if(void 0===n.height){const e=t.ele.offsetHeight;n.height=Math.max(e,d.Uo)}if(n.height>=s-10)return void(n.height=s+1)}if(o-u<d.Uo)return;n.status="normal",requestAnimationFrame((()=>{n.height=o-u}))}"finish"==g&&requestAnimationFrame((()=>{i.reLayout=void 0}))}))}(e,y)},o().createElement("div",null)):null,o().createElement("div",{className:E,style:C,ref:e=>e&&(y.ele=e)},M))}},52646:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(96966),o=n(91737);function r(e){var t,n,r;const{desnContext:s,model:a,config:l,emitItem:c,emitSnap:d}=e;let u=[];const p=null===(t=l.editView)||void 0===t?void 0:t.items,f=(0,o.sH)({get style(){return a.mainModule.slot.style},isDesnMode:()=>s.isDesnMode(),isDesnModeofBluePrint:()=>s.isDesnModeOfBluePrint(),isDesnModeAsNormal:()=>s.isDesnModeOfNormal(),editAsBluePrint(){s.setModeDesnOfBluePrint()},editAsNormal(){s.setModeDesnOfNormal()}});function h(t,n){const o=(t,n)=>{if("function"==typeof t)n.addItem(t);else if(t&&"object"==typeof t)if(Array.isArray(t.items)){const e=new i.K9.Group(t.title);n.addItem(e),t.items.forEach((t=>{o(t,e)}))}else t.type?n.addItem(function(e,t){const{model:n,emitSnap:o}=e,r={};if("function"==typeof t)return new i.K9.FunctionItem((function(){t(r)}));if("object"==typeof t){let e=t.options;return"function"==typeof e&&(e=t.options(r)),new i.K9.EditItem({title:t.title,type:t.type,description:t.description,ifVisible:t.ifVisible,value:function(){let e,n=!1;return{get:()=>(n||(n=!0,e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e),e),set(e){n=!1;const i=o.start("Change value");try{(t.value&&t.value.set||(()=>{}))(e),i.commit()}catch(e){throw e}}}}(),options:e})}throw new Error("Invalid typeof editor(function or object expect)")}(e,{title:t.title,type:t.type,options:t.options,description:t.description,ifVisible:()=>!t.ifVisible||t.ifVisible(f),value:{get:()=>t.value.get(f),set(e){"function"==typeof t.value.set&&t.value.set(f,e)}}})):n.addSeparator();else n.addSeparator()};if(Array.isArray(n)){let e;n.forEach(((n,r)=>{if(n)if(Array.isArray(n.items)){const e=new i.K9.Group(n.title);t.addGroup(e),n.items.forEach((t=>{o(t,e)}))}else e||(e=new i.K9.Group,t.addGroup(e)),o(n,e);else o(n,e)}))}}if("function"==typeof p){const e={title:"项目",items:[]},t={title:"",items:[]},o={title:"",items:[]};p({},e,t,o);const s=new i.K9.Category(e.title||"项目");if(u.push(s),h(s,e.items||[]),(null===(n=t.items)||void 0===n?void 0:n.length)>0){const e=new i.K9.Category(t.title||"");u.push(e),h(e,t.items)}if((null===(r=o.items)||void 0===r?void 0:r.length)>0){const e=new i.K9.Category(o.title||"");u.push(e),h(e,o.items)}}else{let e=new i.K9.Category("项目");u.push(e),h(e,p)}return u}},63021:(e,t,n)=>{"use strict";n.d(t,{MS:()=>r,Uo:()=>s,Ze:()=>a,xH:()=>o});var i=n(64012);const o="xg.desn.stageview",r="xg.desn.designer.stageview.",s=30,a={min:i.createElement("svg",{t:"1634129222044",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6239",width:"16",height:"16"},i.createElement("path",{d:"M78.633918 396.690788l858.20393 0 0 158.309562-858.20393 0 0-158.309562Z","p-id":"6240"})),recover:i.createElement("svg",{t:"1634128935788",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3949",width:"16",height:"16"},i.createElement("path",{d:"M739.95130434 284.04869566v658.32336695H81.62793739V284.04869566h658.32336695m0.60787015-75.98376812H80.4121971c-41.33516985 0-75.37589797 33.43285797-75.37589797 75.37589797V943.5878029c0 41.33516985 33.43285797 75.37589797 75.37589797 75.37589797h660.14697739c41.33516985 0 75.37589797-33.43285797 75.37589797-75.37589797V283.44082551c0-41.94304-33.43285797-75.37589797-75.37589797-75.37589797z","p-id":"3950",fill:"#555555"}),i.createElement("path",{d:"M944.19567304 5.64416928H282.83295536c-41.33516985 0-74.16015768 33.43285797-74.76802782 74.16015768v77.1995084h75.98376812V81.62793739h658.32336695v658.32336695h-75.98376812V815.93507246H943.5878029c41.33516985 0 74.16015768-33.43285797 74.76802782-74.76802782V79.80432696c0-40.72729971-33.43285797-74.16015768-74.16015768-74.16015768z","p-id":"3951",fill:"#555555"})),close:i.createElement("svg",{t:"1634129353244",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7239",width:"16",height:"16"},i.createElement("path",{d:"M426.1888 522.717867L40.004267 136.533333 136.533333 40.004267l386.184534 386.184533L908.9024 40.004267 1005.431467 136.533333 619.178667 522.717867l386.184533 386.184533-96.529067 96.529067L522.717867 619.178667 136.533333 1005.431467 40.004267 908.9024l386.184533-386.184533z","p-id":"7240"}))}},30669:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(64012),o=n.n(i),r=n(91737),s=n(54801),a=n(96966),l=n(56845);class c{getOutputEvents(e){let t;if(this.model instanceof a.JX){const n=this.model.model;e&&!n.outputEvents&&(n.outputEvents={}),t=n.outputEvents}else e&&!this.model.outputEvents&&(this.model.outputEvents={}),t=this.model.outputEvents;return t}clearCurEvent(){this.val={type:"none"}}setCurEvent(e){if(!this.val||e!==this.val.type){let t=this.eventDefs.find((t=>t.type===e));const n=this.getOutputEvents(!0);let i=n[this.outputId];i||(n[this.outputId]=i=[]);let o=i.find((t=>t.type===e));o||i.push(o={type:t.type,options:{}}),i.forEach((e=>e.active=void 0)),o.active=!0,this.val=o}}saveEvent(){if(this.val){let e;e=this.model instanceof a.JX?this.model.geo:this.model;const t=this.emitSnap.start("创建事件",{target:e});this.getOutputEvents(!0)[this.outputId]=[this.val],t.commit()}}}function d(e){var t;const{options:n}=e;let i;i=n&&"function"==typeof n?null===(t=n())||void 0===t?void 0:t.options:n;const d=(0,r.J2)(a.Zm.FxFrame,{expectTo:"parents"}),p=(0,r.J2)(a.Zm.Frame,{expectTo:"parents"}),f=(0,r.lB)(a.Zm.Component,{from:"parents"}),h=(0,r.J2)(a.Zm.Snap,{expectTo:"parents"}),m=(0,r.J2)(a.Zm.Message,{expectTo:"parents"}),g=(0,r.lB)(a.Ho,{from:"parents"}),y=(0,r.J2)(c,(e=>{var t,n,o;const r=[{type:"none",title:"[无]",options:{}}],s=null===(o=null===(n=null===(t=g.configs)||void 0===t?void 0:t.com)||void 0===n?void 0:n.env)||void 0===o?void 0:o.events;let a,c;s&&s.length>0&&(r.push({type:"-",title:"应用自定义"}),r.push(...s)),g.configs.toplView&&(r.push({type:"-",title:"图形化编程"}),r.push({type:"defined",title:"自定义",options:{}}),r.push({type:"fx",title:"选择Fx",options:{}}));const u=g.focusModelAry;if(1===u.length){const e=u[0];e instanceof l.GJ?(a=e,c=e.id):(c=i.slotId,a=e.runtime)}e({context:g,emitFxFrame:d,emitFrame:p,emitCom:f,emitSnap:h,emitMessage:m,outputId:i.outputId,slotId:c,eventDefs:r,model:a})}),{init(e){if(e.model){const t=e.getOutputEvents();if(t){const n=t[i.outputId];if(n){const t=n.find((e=>e.active));if(t)return void e.setCurEvent(t.type)}}let n=e.eventDefs.find((e=>e.default));n||(n=e.eventDefs.find((e=>"defined"===e.type))),n&&e.setCurEvent(n.type)}}});if(y.model)return i&&i.outputId?o().createElement(u,{ctx:y}):o().createElement("div",{className:s.A.errInfo},"未定义outputId")}function u({ctx:e}){var t;const{model:n,outputId:a,slotId:c,eventDefs:d,emitFrame:u,emitFxFrame:f,emitCom:h,emitSnap:m,emitMessage:g}=e,y=(0,i.useMemo)((()=>{const e=[];return d.forEach(((t,n)=>{"-"===t.type?e.push(o().createElement("optgroup",{key:n,label:t.title})):e.push(o().createElement("option",{key:t.type,value:t.type},t.title))})),e}),[]),b=(0,i.useCallback)((t=>{if(n instanceof l.GJ)if(t)u.focusDiagram(c,a);else{const t=m.start(`创建场景 ${n.title} 的事件`),i=u.bindDiagram(c,a);i?(e.val.options=i,t.commit()):(t.cancel(),g.error("定义逻辑卡片失败."))}else if(t)h.focusScript(n.id,a,c);else{const t=m.start(`创建组件 ${n.title} 的事件`),i=h.bindScript(n.id,a,c);i?(e.val.options=i,t.commit()):(t.cancel(),g.error("定义逻辑卡片失败,请联系该组件开发者."))}}),[]),v=(0,i.useCallback)((e=>{n instanceof l.GJ?alert("尚未实现.."):e?f.focusWithCom(n.id,a):f.bindWithCom(n.id,a)}),[]),x=(0,i.useCallback)((()=>{f.removeWithCom(n.id,a)}),[]),A=(0,r.HO)((()=>{const t=e.val;if("defined"===(null==t?void 0:t.type))try{let e;return e=n instanceof l.GJ?u.hasDiagram(c,a):h.hasScript(n.id,a,c),o().createElement("button",{onClick:t=>b(e),className:`${e?s.A.show:""}`},e?"查看":"新建")}catch(e){return console.error(e),o().createElement("button",{className:s.A.error},"未找到实现")}else if("fx"===(null==t?void 0:t.type))try{let e;return e=n instanceof l.GJ?f.hadBindWithSlot(c,a):f.hadBindWithCom(n.id,a),e?o().createElement(o().Fragment,null,o().createElement("button",{onClick:t=>v(e),className:s.A.show},"查看",o().createElement("span",null,e.title)),o().createElement("button",{onClick:x,className:s.A.clear},"清除")):o().createElement("button",{onClick:t=>v(e)},"选择..")}catch(e){return console.error(e),o().createElement("button",{className:s.A.error},"未找到实现")}})),w=(0,r.HO)((()=>{const t=[],n=e.val;if((null==n?void 0:n.type)&&"defined"!==n.type){const i=d.find((e=>e.type===n.type));i&&Array.isArray(i.options)&&i.options.forEach(((i,r)=>{t.push(o().createElement(p,{key:`${n.type}${r}`,def:i,ctx:e}))}))}return t}));return o().createElement(o().Fragment,null,o().createElement("div",{className:s.A.type},o().createElement("div",{className:s.A.select},o().createElement("select",{value:null===(t=e.val)||void 0===t?void 0:t.type,onChange:t=>{e.setCurEvent(t.currentTarget.value)}},y)),A),w)}function p({def:e,ctx:t}){switch(e.editor.toLowerCase()){case"text":return o().createElement("div",{className:s.A.edtItem},o().createElement("label",null,e.title,":"),o().createElement("input",{type:"text"}));case"textarea":return o().createElement("div",{className:s.A.edtItem},o().createElement("label",null,e.title,":"),o().createElement("textarea",{value:t.val.options[e.id],onChange:n=>{t.val.options[e.id]=n.currentTarget.value},onBlur:e=>{t.saveEvent()}}))}}},20409:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(30669),o=n(96966),r=n(64012);const s={};var a,l;function c(e){if(!e||!e.type)return;const{type:t,options:n,ele:i}=e,o=s[t.toUpperCase()];return o?o(e):void 0}a=o.Ut.EVENT,l=i.A,s[a.toUpperCase()]=function(e){return r.createElement(l,Object.assign({},e))}},96070:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(64012),o=n.n(i),r=n(43699),s=n(91737),a=n(96966);class l{toggleSearchMode(){this.searchForFuzzy=!this.searchForFuzzy}commit(){this.newItem?this.newItem.ifContentValid()?(this.spaContext.emitLocale.addItem(this.newItem),this.value.set(this.newItem),this.close()):this.spaContext.emitMessage.error("请填写正确的文案内容"):this.nowItem?(this.value.set(this.nowItem),this.close()):(this.value.set(),this.close())}}let c;function d(e,t){const{emitView:n}=t;n.popView("编辑文案",(({close:n})=>o().createElement(u,{options:e,spaContext:t,close:n})),{width:350,beforeEditView:!0})}function u({options:e,spaContext:t,close:n}){const{emitLocale:i}=t,a=e.value.get();return c=(0,s.J2)(l,(o=>{let r;const{val:s,curText:l}=a;s&&"object"==typeof s&&s.id&&(r=i.searchById(s.id)),o({spaContext:t,close:n,keywords:l,value:e.value,nowItem:r})}),[a]),o().createElement("div",{className:r.A.editor},o().createElement("div",{className:r.A.toolbar},o().createElement("button",{onClick:c.commit},"确定")),o().createElement(p,null),t.model.localeImpl?null:o().createElement(f,null),o().createElement(h,null))}function p(){const e=c.nowItem,t=(0,i.useCallback)((()=>{c.newItem=new a.xW}),[]),n=(0,i.useCallback)((e=>{c.nowItem=void 0}),[]);if(c.newItem)return;let s;return s=e?o().createElement(o().Fragment,null,o().createElement("label",null,"已选择",o().createElement("span",{className:r.A.del,onClick:n},a.FI.garbage)),o().createElement("div",{className:r.A.textCard},o().createElement("div",{className:r.A.content,dangerouslySetInnerHTML:{__html:e.toHTML()}}),o().createElement("span",null,a.FI.world))):o().createElement("div",{className:r.A.empty},o().createElement("label",null,"内容为空"),o().createElement("button",{onClick:t,disabled:!!c.newItem},"添加")),o().createElement("div",{className:`${r.A.nowItem}`},s)}function f(){const e=c.newItem,t=(0,i.useRef)(),n=(0,i.useCallback)((e=>{c.newItem=void 0}),[]);if((0,i.useEffect)((()=>{t.current&&t.current.focus()}),[t.current]),e)return o().createElement("div",{className:`${r.A.edtItem}`},o().createElement("label",null,"新建文案",o().createElement("span",{className:r.A.del,onClick:n},a.FI.garbage)),o().createElement("div",{className:`${r.A.item}`},o().createElement("label",null,"中文"),o().createElement("input",{type:"text",value:e.getContent("zh")||"",onChange:t=>e.setContent(t.target.value,"zh"),ref:t})),o().createElement("div",{className:r.A.item},o().createElement("label",null,"英文"),o().createElement("input",{type:"text",value:e.getContent("en")||"",onChange:t=>e.setContent(t.target.value,"en")})))}function h(){const[e,t]=(0,i.useState)([]),n=(0,i.useCallback)((e=>{let n;if(n="object"==typeof e?e.target.value:e,c.keywords=n,""!==n.trim()){const e=c.spaContext.emitLocale.searchByKeywords(n,"zh",c.searchForFuzzy);e&&e.length>0?t(e):t(void 0)}else t(void 0)}),[]),s=(0,i.useCallback)((e=>{c.newItem=void 0,c.nowItem=e,c.spaContext.emitLocale.usedById(e.id)}),[]),l=(0,i.useMemo)((()=>e?e.map((e=>o().createElement("div",{key:e.id,className:r.A.textCard,onClick:t=>s(e)},o().createElement("div",{className:r.A.content,dangerouslySetInnerHTML:{__html:e.toHTML()}}),o().createElement("span",null,a.FI.world)))):o().createElement("div",{className:r.A.empty},o().createElement("label",null,"搜索结果为空"))),[e]);return(0,i.useEffect)((()=>{c.nowItem||"string"!=typeof c.keywords||n(c.keywords)}),[]),o().createElement("div",{className:r.A.searchView},o().createElement("div",{className:r.A.tb},o().createElement("label",null,"选择其他文案"),o().createElement("div",{className:r.A.search},o().createElement("input",{type:"text",value:c.keywords,placeholder:"搜索",onChange:n}),o().createElement("span",{onClick:e=>{c.toggleSearchMode(),n(c.keywords)},"data-mybricks-tip":""+(c.searchForFuzzy?"模糊搜索":"精确搜索"),className:`${c.searchForFuzzy?"":r.A.precise}`},c.searchForFuzzy?a.FI.search:a.FI.SearchPrecise))),o().createElement("div",{className:r.A.items},l))}},70909:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(43740),s=n(91737),a=n(96966);class l{setRegister(e,t){this.permission.register[e]=t.target.value}setRemark(e){this.permission.remark=e.target.value}setHintLink(e){this.permission.hintLink=e.target.value}commit(){this.value.set(this.permission),this.close()}}function c(e,t){const{emitView:n}=t;n.popView("编辑权限",(({close:n})=>o().createElement(d,{options:e,spaContext:t,close:n})),{width:350,beforeEditView:!0})}function d({options:e,spaContext:t,close:n}){const{model:i}=t,c=(0,s.J2)(l,(t=>{const o=e.value.get();let r;if(o){const e=o.id;r=i.getPermissionById(e),console.log("::::permissionId",e,r)}r||(r=new a.fu),t({close:n,value:e.value,permission:r})})),d=c.permission;return o().createElement("div",{className:r.A.editor},o().createElement("div",{className:r.A.toolbar},o().createElement("button",{onClick:c.commit},"确定")),o().createElement("div",{className:r.A.item,onClick:e=>d.type="none"},o().createElement("input",{type:"radio",name:"type",checked:"none"===d.type,onChange:e=>{}}),o().createElement("span",null,"无")),o().createElement("div",{className:r.A.item,onClick:e=>d.type="register"},o().createElement("input",{type:"radio",name:"type",checked:"register"===d.type,onChange:e=>{}}),o().createElement("span",null,"注册为功能项")),"register"===d.type?o().createElement("div",{className:r.A.register},o().createElement("div",{className:`${r.A.item} ${r.A.required} `},o().createElement("label",null,"权限代码"),o().createElement("input",{type:"text",value:d.register.code||"",onChange:e=>c.setRegister("code",e)})),o().createElement("div",{className:r.A.item},o().createElement("label",null,"显示名称"),o().createElement("input",{type:"text",value:d.register.title||"",onChange:e=>c.setRegister("title",e)})),o().createElement("div",{className:r.A.item},o().createElement("label",null,"无权限时"),o().createElement("select",{value:d.register.noPrivilege||"hide",onChange:e=>c.setRegister("noPrivilege",e)},o().createElement("option",{value:"hide"},"隐藏"),o().createElement("option",{value:"hintLink"},"提示链接"))),"hintLink"===d.register.noPrivilege?o().createElement("div",{className:`${r.A.item} ${r.A.required}`},o().createElement("label",null,"链接地址"),o().createElement("textarea",{value:d.hintLink||"",onChange:e=>c.setHintLink(e)})):null,o().createElement("div",{className:r.A.item},o().createElement("label",null,"备注"),o().createElement("textarea",{value:d.remark||"",onChange:e=>c.setRemark(e)}))):null)}},57040:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{clear(){this.keyword=void 0,this.geoRst=void 0,this.toplRst=void 0}}},49441:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M947.942255 886.008182 720.970894 659.243529c48.977481-62.368466 78.178547-140.907217 78.178547-226.249931 0-202.907293-165.033707-367.395578-368.613312-367.395578-203.580628 0-368.616382 164.489308-368.616382 367.395578 0 202.90627 165.035754 367.395578 368.616382 367.395578 85.758176 0 164.673503-29.192879 227.295749-78.146824l226.938616 226.728838c12.769838 12.727882 33.475416 12.727882 46.246277 0l16.925485-16.870226C960.713117 919.374104 960.713117 898.736065 947.942255 886.008182zM430.536129 711.482287c-154.315598 0-279.414781-124.682697-279.414781-278.487665 0-153.805992 125.099183-278.488689 279.414781-278.488689 154.315598 0 279.410688 124.68372 279.410688 278.488689C709.946816 586.79959 584.851727 711.482287 430.536129 711.482287z",fill:"#707070"}))},13882:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(64012),o=n.n(i),r=n(42982),s=n(71828),a=n(49441),l=n(56845),c=n(30063);let d;function u({ctx:e}){d=e;const t=(0,i.useRef)(),n=(0,i.useCallback)((e=>{const n=t.current.value;""!==n.trim()?(d.keyword=n,d.geoRst=(0,l.$P)({keyword:n}),d.toplRst=(0,c.$P)({keyword:n})):d.clear()}),[]);return o().createElement("div",{className:r.A.view},o().createElement("div",{className:s.A.titleBar},o().createElement("label",null,"搜索"),o().createElement("input",{type:"text",placeholder:"输入关键词进行搜索..",ref:e=>{e&&(t.current=e,e.focus())},onKeyDown:e=>{13===e.keyCode&&n(e)}}),o().createElement("span",{onClick:n},a.k)),o().createElement("div",{className:r.A.results},o().createElement(h,null),o().createElement(f,null)))}function p({item:e,itemClass:t}){var n;const s=(0,i.useCallback)((()=>{"function"==typeof e.focus&&(e.focus(),d.close())}),[]);return o().createElement(o().Fragment,null,o().createElement("div",{className:`${r.A.item} ${t}`,onClick:s},o().createElement("span",{className:r.A.itemTitle},e.title),o().createElement("span",{className:r.A.desc},e.desc)),null===(n=e.items)||void 0===n?void 0:n.map((e=>o().createElement(p,{key:e.id,item:e,itemClass:`${r.A.subItem} ${r.A.comItem}`}))))}function f(){if(!d.keyword)return null;let e;return d.toplRst&&(e=d.toplRst.map((e=>o().createElement("div",{key:e.id,className:r.A.scene},o().createElement("div",{className:r.A.tt},e.title),e.results.map((e=>{switch(e.type){case"diagram":return o().createElement(p,{key:e.id,item:e,itemClass:r.A.diagramItem});case"com":return o().createElement(p,{key:e.id,item:e,itemClass:r.A.comItem})}})))))),o().createElement("div",{className:r.A.catalog},o().createElement("div",{className:r.A.ttt},"交互视图"),o().createElement("div",{className:r.A.scenes},e))}function h(){if(!d.keyword)return null;let e;return d.geoRst&&(e=d.geoRst.map((e=>o().createElement("div",{key:e.id,className:r.A.scene},o().createElement("div",{className:r.A.tt},e.title),e.results.map((e=>{if("com"===e.type)return o().createElement(p,{key:e.id,item:e,itemClass:r.A.comItem})})))))),o().createElement("div",{className:r.A.catalog},o().createElement("div",{className:r.A.ttt},"UI视图"),o().createElement("div",{className:r.A.scenes},e))}},70829:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(42982),s=n(141);let a;function l({ctx:e}){a=e;const t=a.spaContext.findPluginResults,n=(0,i.useCallback)((()=>{a.spaContext.findPluginResults=void 0}),[]);return o().createElement("div",{className:r.A.view},o().createElement("div",{className:s.A.titleBar},o().createElement("label",null,"引用:"),o().createElement("span",null,t.title),o().createElement("span",{className:s.A.iconClose,onClick:n},"✕")),o().createElement("div",{className:r.A.results},o().createElement("div",{className:r.A.catalog},o().createElement("div",{className:r.A.ttt},"交互视图"),o().createElement("div",{className:r.A.scenes},t.results.map((e=>o().createElement("div",{key:e.id,className:r.A.scene},o().createElement("div",{className:r.A.tt},e.title,"："),e.results.map((e=>{switch(e.type){case"diagram":return o().createElement(c,{key:e.id,item:e,itemClass:r.A.diagramItem});case"com":return o().createElement(c,{key:e.id,item:e,itemClass:r.A.comItem})}})))))))))}function c({item:e,itemClass:t}){const n=(0,i.useCallback)((()=>{"function"==typeof e.focus&&(e.focus(),a.close())}),[]);return o().createElement("div",{className:`${r.A.item} ${t}`,onClick:n},e.title)}},26412:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(64012),o=n.n(i),r=n(91737),s=n(7889),a=n(57040),l=n(13882),c=n(70829);let d;function u({_close:e,visibility:t}){const n=(0,r.lB)(s.A,{from:"parents"});return d=(0,r.J2)(a.A,(t=>{t({close:e,spaContext:n})})),n.findPluginResults?o().createElement(c.A,{ctx:d}):o().createElement(l.A,{ctx:d})}},33891:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(49441),o=n(39644),r=n(26412),s=n(64012);const a={namespace:"mybricks.plugin.find",title:"搜索",author:"CheMingjun","author.zh":"车明君",version:"1.0.0",description:"Mybricks的搜索插件",data:o,contributes:{sliderView:{tab:{title:"标签",icon:i.k,apiSet:["label"],render:e=>s.createElement(r.A,Object.assign({},e))}}},activate(e){},beforeDump(e){}}},9174:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M960.42793 531.18976c-6.38976 38.4-19.21024 83.18976-38.42048 121.58976-12.8 19.21024-25.6 25.6-44.81024 19.21024-19.21024-12.8-25.62048-25.6-19.21024-44.81024 19.21024-38.4 32.01024-76.77952 38.42048-115.17952 25.6-102.4 19.21024-198.38976 12.8-255.97952L512.22313 70.4512 115.25929 256.02048c-6.41024 57.58976-12.82048 147.18976 12.8 255.97952 44.81024 211.16928 179.28192 358.35904 384.16384 447.95904 64.04096-25.6 115.26144-57.58976 166.48192-95.98976 12.8-12.8 32.01024-6.41024 44.83072 6.38976 12.8 12.8 6.38976 32.01024-6.41024 44.78976-57.63072 44.81024-121.6512 76.8-192.08192 108.78976h-25.62048C262.51049 927.9488 115.25929 761.56928 64.01833 524.8a973.1072 973.1072 0 0 1-12.8-294.37952c6.41024-12.8 12.8-19.18976 19.21024-25.6L499.42313 0.06144h25.62048l428.99456 204.75904c12.8 6.41024 19.21024 12.8 19.21024 25.6 6.38976 57.58976 12.8 166.4-12.82048 300.76928z m-435.38432 191.97952c-51.22048 0-108.8512-25.6-147.27168-63.97952-83.23072-83.18976-83.23072-211.18976 0-294.37952 83.23072-83.18976 211.29216-83.18976 294.52288 0 70.43072 70.38976 76.84096 185.58976 19.21024 268.77952l134.47168 134.38976c12.8 12.8 12.8 31.98976 0 44.78976-6.41024 6.38976-12.8 6.38976-25.62048 6.38976-12.8 0-19.21024 0-25.6-6.38976l-128.06144-128c-38.42048 25.6-76.84096 38.4-121.6512 38.4zM627.48457 409.6c-25.62048-31.98976-64.04096-44.78976-102.44096-44.78976-38.42048 0-76.84096 19.21024-102.46144 44.78976-57.61024 57.61024-57.61024 147.18976 0 204.77952 57.63072 51.2 147.27168 51.2 204.9024 0 57.63072-57.58976 57.63072-147.16928 0-204.77952z",fill:"#515151"}))},3253:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(91737),s=n(7889),a=n(77165),l=n(56845),c=n(30063),d=n(62333),u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function p({_close:e,_message:t,data:n,_emits:p}){const f=(0,r.lB)(s.A,{from:"parents"}),h=(0,r.HO)((()=>n.msgAry||[])),m=(0,i.useCallback)((()=>{p.message("开始修复.."),p.running(!0),n.state="repairing",requestIdleCallback((e=>u(this,void 0,void 0,(function*(){const e=yield(0,l.tf)(!0),i=yield(0,c.tf)(!0),{desnContext:o,rootModel:r,model:s}=f,a=s.mainModule.slot;if(a.slots.forEach((e=>{e.updated()})),o.pageMetaModel){const e=s.mainModule.frame;a.slots.forEach((t=>{const n=e.frames.find((e=>e.id===t.id));n&&o.pageMetaModel.updatePage(t.id,{slot:t,frame:n})}))}const d=[...e||[],...i||[]];p.message(`共修复完成 ${d.length} 个异常`),n.msgAry=[],n.state=void 0,t.clear(),p.running(!1)}))))}),[]),g=(0,i.useCallback)((()=>{p.message("开始扫描.."),(0,d.S)({data:n,_emits:p,_message:t},(()=>{p.message("扫描完成")}))}),[]),y=(0,i.useMemo)((()=>"scanning"===n.state?o().createElement(o().Fragment,null,o().createElement("div",{className:a.A.titleBar},o().createElement("label",null,"检查器"),o().createElement("label",null,"扫描中"),o().createElement("span",{className:a.A.iconClose,onClick:e},"✕")),o().createElement("div",{className:a.A.waiting},o().createElement("button",null,"请稍后.."))):"repairing"===n.state?o().createElement(o().Fragment,null,o().createElement("div",{className:a.A.titleBar},o().createElement("label",null,"检查器"),o().createElement("label",null,"修复中"),o().createElement("span",{className:a.A.iconClose,onClick:e},"✕")),o().createElement("div",{className:a.A.waiting},o().createElement("button",null,"请稍后.."))):o().createElement(o().Fragment,null,o().createElement("div",{className:a.A.titleBar},o().createElement("label",null,"检查器"),o().createElement("label",null,"当前存在 ",h.length," 个异常"),o().createElement("span",{className:a.A.iconClose,onClick:e},"✕")),h.length>0?o().createElement("div",{className:a.A.fixed},o().createElement("button",{onClick:m},"修复所有问题")):o().createElement("div",{className:a.A.fixed},o().createElement("button",{onClick:g},"扫描")),o().createElement("div",{className:a.A.msgs},h.map(((e,t)=>o().createElement("div",{key:t,className:a.A.msg},e)))))),[n.state,h.length]);return o().createElement("div",{className:a.A.view},y)}},59448:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9174),o=n(3253),r=n(96323),s=n(64012);const a={namespace:"mybricks.plugin.validator",title:"检查器",author:"CheMingjun","author.zh":"车明君",version:"1.0.0",description:"Mybricks的搜索插件",data:r,contributes:{sliderView:{tab:{title:"检查器",icon:i.k,apiSet:["label"],render:e=>s.createElement(o.A,Object.assign({},e))}}},activate({data:e,_on:t,_emits:n,_message:i}){},beforeDump(e){}}},62333:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var i=n(56845),o=n(30063),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function s({data:e,_emits:t,_message:n},s){requestIdleCallback((()=>r(this,void 0,void 0,(function*(){e.state="scanning",t.running(!0);const r=[...(yield(0,i.tf)())||[],...(yield(0,o.tf)())||[]];r.length>0&&n.notify(r),e.msgAry=r,e.state=void 0,t.running(!1),"function"==typeof s&&s()}))))}},94102:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{constructor(){this.pluginRenderAry=[]}get activePlugin(){return this.spaContext._activePlugin}switchPlugin(e){var t;if(this.spaContext.desnContext.isDebugMode())return;const n=this.spaContext;"object"==typeof e?(null===(t=n._activePlugin)||void 0===t?void 0:t.namespace)===e.namespace?n._activePlugin=void 0:(this.emitItem.blur(),n._activePlugin=e):n._activePlugin===e?n._activePlugin=void 0:n._activePlugin=e}}},20237:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(64012),o=n.n(i),r=n(96966),s=n(91737),a=n(38485),l=n(7889),c=n(76033),d=n(34146),u=n(94102),p=n(33891),f=n(59448);let h;function m({style:e}){var t;const n=(0,s.lB)(l.A,{from:"parents"}),{model:m,desnContext:y,emitLabel:b,emitVariable:v,emitSnap:x}=n,A=(0,s.J2)(r.Zm.Component,{expectTo:"parents"});h=(0,s.J2)(u.A,(e=>{e({spaContext:n,model:m,emitItem:A})})),(0,i.useLayoutEffect)((()=>{n.findPluginResults&&h.switchPlugin(p.A)}),[n.findPluginResults]);const w=(null===(t=y.configs)||void 0===t?void 0:t.plugins)||[];(0,i.useMemo)((()=>{w.push({namespace:"mybricks.sper"}),w.push(p.A),w.push(f.A)}),[]);const E=y.isDebugMode(),C=(0,s.HO)((()=>{let e;h.activePlugin&&(e=h.activePlugin.namespace);const t=[];return w&&Array.isArray(w)&&w.forEach(((i,r)=>{var l,c;if(i&&"object"==typeof i)if(o().isValidElement(i))t.push(i);else if("mybricks.sper"===i.namespace)t.push(o().createElement("div",{key:i.namespace,className:a.A.sperItem}));else{const r=null===(c=null===(l=null==i?void 0:i.contributes)||void 0===l?void 0:l.sliderView)||void 0===c?void 0:c.tab;if(r){const l=i.namespace,c="object"==typeof r.icon?r.icon:r.title,d=n.pluginInfos[i.namespace],u=null==d?void 0:d.msg,p=null==d?void 0:d.running;let f={};E||(f=p?{"data-mybricks-tip":`{content:'${i.title} 正在运行',position:'right'}`}:u?{"data-mybricks-tip":`{content:'${i.title} 有${u.length}个消息',position:'right'}`}:{"data-mybricks-tip":`{content:'${i.title}',position:'right'}`}),t.push(o().createElement("div",Object.assign({key:l,className:`${a.A.item} ${u?a.A.hasMsg:""} ${e===l?a.A.activeItem:""}`,onClick:(0,s.Wj)((e=>h.switchPlugin(i))).stop},f),c,u&&!p?o().createElement("span",{className:a.A.msg},u.length):null,p?o().createElement("span",{className:a.A.runningItem}):null))}}})),t}));(0,i.useMemo)((()=>{const e=h.activePlugin;if(e){if(h.pluginRenderAry.find((t=>{if(t.namespace===e.namespace)return!0})))return;const t=o().createElement(g,{plugIn:e,spaContext:n});h.pluginRenderAry.push({namespace:e.namespace,jsx:t})}}),[h.activePlugin]),(0,i.useEffect)((()=>{n.loaded&&w&&Array.isArray(w)&&w.forEach((e=>{if(o().isValidElement(e))return;const t=y.getPluginData(e.namespace);e.data=t,"function"==typeof e.onLoad&&e.onLoad({data:y.getPluginData(e.namespace),locale:(0,d.Lw)(n)})}))}),[n.loaded]);const _=y.configs.sliderView;if((y.configs.geoView||w)&&!1!==(null==_?void 0:_.display))return o().createElement(o().Fragment,null,o().createElement("div",{className:`${a.A.view} ${y.isDebugMode()?a.A.disabledItem:""}`,style:e,ref:e=>{e&&(h.viewEle=e)}},C),h.pluginRenderAry.length>0?(0,c.createPortal)(h.pluginRenderAry.map((e=>e.jsx)),h.viewEle.parentElement):null)}function g({plugIn:e,spaContext:t}){var n,i;const{model:l,emitLogs:c,emitMessage:u}=t;if("object"==typeof e){const c=null===(i=null===(n=null==e?void 0:e.contributes)||void 0===n?void 0:n.sliderView)||void 0===i?void 0:i.tab;if(c){const n=c.render;if("function"==typeof n){const i=c.apiSet,p={_emits:{message(e){u.info(e)},running(n){let i=t.pluginInfos[e.namespace];i||(i=t.pluginInfos[e.namespace]={}),i.running=n}},_message:{notify(n){let i=t.pluginInfos[e.namespace];i||(i=t.pluginInfos[e.namespace]={}),i.msg=n},clear(){let n=t.pluginInfos[e.namespace];n&&(n.msg=void 0)}},_close(){h.switchPlugin(e)},get data(){return h.spaContext.desnContext.getPluginData(e.namespace)}};Array.isArray(i)&&(i.find((e=>"command"===e))&&(p.command=(0,d.qo)(t)),i.find((e=>"canvas"===e))&&(p.canvas=(0,d.Re)(t)),i.find((e=>"locale"===e))&&(p.locale=(0,d.Lw)(t)),i.find((e=>"label"===e))&&(p.label=(0,d.p)(t)),i.find((e=>"variables"===e))&&(p.variables=(0,d.TT)(t)),i.find((e=>"project"===e))&&(p.project=(0,d.or)(t)),i.find((e=>"component"===e))&&(p.component=(0,d.u9)(t)),i.find((e=>"theme"===e))&&(p.theme={set(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const n=l._cssVars.find((t=>t.name===e));n?n.value=t:l._cssVars.push({name:e,value:t})},get(e){const t=l._cssVars.find((t=>t.name===e));return t?t.value:void 0},remove(e){l._cssVars.find((t=>t.name===e))&&(l._cssVars=l._cssVars.filter((t=>t.name!==e)))}}),i.find((e=>"themes"===e))&&(p.themes=(0,d.D2)(t)),i.find((e=>"domainModel"===e))&&(p.domainModel=(0,d.CI)(t)),i.find((e=>"connector"===e))&&(p.connector=(0,d.yd)(t)),i.find((e=>"datasource"===e))&&(p.datasource=(0,d.M2)(t)));const f=(0,s.HO)((()=>{var t;return(null===(t=h.activePlugin)||void 0===t?void 0:t.namespace)===e.namespace?(p.visibility="visible",{}):(p.visibility="hidden",{display:"none"})}));return o().createElement("div",{className:a.A.pluginBg,style:f,onClick:(0,s.Wj)((t=>h.switchPlugin(e))).stop},o().createElement("div",{className:a.A.plugin,onClick:(0,s.Wj)().stop},o().createElement(r.sr,{render:()=>o().createElement("div",{className:a.A.errPlugin},e.title," 插件发生错误")},n(p))))}}}}},4825:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(92045),o=n(64012),r=n.n(o),s=n(91737),a=n(7889),l=n(59970);n(56845),n(30063);let c;function d(){c=(0,s.lB)(a.A,{from:"parents"});const{eventLogs:e,desnContext:t,model:n}=c,[o,d]=(0,s.HO)((()=>{if(t.isDesnMode())return[null,null];const n=e.length>0?e[e.length-1]:void 0;if(n){let e,t;switch(n.type){case"info":e=l.G_,t=i.A.info;break;case"warn":e=l.or,t=i.A.warn;break;case"error":e=l.cO,t=i.A.error}return[r().createElement("div",{className:`${i.A.lastLog} ${t}`},r().createElement("span",{className:`${i.A.icon}`},e),r().createElement("p",null,n.msg.replace(/%c/gi,""))),t]}return[null,null]}));return r().createElement("div",{className:`${i.A.statusBar}`},r().createElement(u,null),r().createElement("div",{className:i.A.lyRight},o,r().createElement("div",{className:i.A.btns},r().createElement(p,null))))}function u(){const{eventLogs:e,model:t}=c,[n,a]=(0,o.useState)(""),d=(0,o.useRef)();(0,o.useEffect)((()=>{if(c.loaded){const e=()=>{const e=t.designCostTime;if(e<60)a("1分钟");else if(e<3600){const t=Math.round(e/60);a(`${t}分钟`)}else{const t=(e/60/60).toFixed(1);a(`${t}小时`)}};e();let n=!0,i=!1;d.current&&clearInterval(d.current),d.current=setInterval((()=>{n&&(t.designCostTime+=2,e())}),2e3),window.addEventListener("focus",(()=>{i=!1,n=!0})),window.addEventListener("blur",(()=>{i=!0,setTimeout((e=>{i&&(n=!1)}),3e5)}))}return()=>{d.current&&clearInterval(d.current)}}),[c.loaded]);const u=(0,s.HO)((()=>{if(c.pageLoaded){const e=t.mainModule;if(e){const n=e.slot,i=e.frame;let o,r,s,a,l,c,d=0;if(t.modules&&(d=Object.values(t.modules).filter((e=>!e.deleted)).length),n){r=e.slot.slots.filter((e=>!e.isTypeOfDefinedCom())).length;const t=e.slot.getSummaryInfo();s=t.coms,a=t.slots}if(i){const t=e.frame.getSummaryInfo();l=t.diagrams,c=t.coms}if(n&&i){const e=1*s+2*a+3*l+1.5*c;o=e<=50?"L1":e<=300?"L2":e<=900?"L3":e<=1200?"L4":e<=3e3?"L5":"L5+"}return{level:o,hasSlot:n,hasFrame:i,scenesNo:r,modulesNo:d,uiComsNo:s,slotsNo:a,diagramsNo:l,logicComsNo:c}}}return{}})),{level:p,hasSlot:f,hasFrame:h,scenesNo:m,modulesNo:g,uiComsNo:y,slotsNo:b,diagramsNo:v,logicComsNo:x}=u;return(0,o.useEffect)((()=>{const{level:e,scenesNo:i,modulesNo:o,uiComsNo:r,slotsNo:s,diagramsNo:a,logicComsNo:l}=u;c.projectSummary={costTime:n,costTimestamp:t.designCostTime,level:e,scenesNo:i,modulesNo:o,uiComsNo:r,slotsNo:s,diagramsNo:a,logicComsNo:l}}),[u,n]),r().createElement("div",{className:i.A.statistics},r().createElement("span",null,"统计"),p?r().createElement("div",{className:i.A.level},r().createElement("span",null,p)):null,f?r().createElement("div",null,r().createElement("label",null,"场景"),r().createElement("span",null,m),r().createElement("label",null,"模块"),r().createElement("span",null,g),r().createElement("label",null,"UI"),r().createElement("span",null,y,r().createElement("span",null,"/"),b)):null,h?r().createElement("div",null,r().createElement("label",null,"交互"),r().createElement("span",null,x,r().createElement("span",null,"/"),v)):null,r().createElement("div",{className:i.A.costTime},r().createElement("label",null,l.bt),r().createElement("span",null,n)))}function p(){const{eventLogs:e,desnContext:t,model:n}=c,[a,d]=(0,s.HO)((()=>{if(t.isDesnMode())return[null,null];const n=e.length>0?e[e.length-1]:void 0;if(n){let e,t;switch(n.type){case"info":e=l.G_,t=i.A.info;break;case"warn":e=l.or,t=i.A.warn;break;case"error":e=l.cO,t=i.A.error}return[r().createElement("div",{className:`${i.A.lastLog} ${t}`},r().createElement("span",{className:`${i.A.icon}`},e),n.msg),t]}return[null,null]})),u=(0,o.useCallback)((()=>{}),[]);return r().createElement("span",{onClick:u,style:{opacity:.3}},l.G_)}},45943:()=>{},59970:(e,t,n)=>{"use strict";n.d(t,{G_:()=>s,bt:()=>a,cO:()=>o,or:()=>r});var i=n(64012);const o=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m218.624 672.256c15.872 15.872 15.872 41.984 0 57.856-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776L512 569.856l-160.256 160.256c-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776c-15.872-15.872-15.872-41.984 0-57.856L454.144 512 293.376 351.744c-15.872-15.872-15.872-41.984 0-57.856 15.872-15.872 41.984-15.872 57.856 0L512 454.144l160.256-160.256c15.872-15.872 41.984-15.872 57.856 0 15.872 15.872 15.872 41.984 0 57.856L569.856 512l160.768 160.256z",fill:"#d81e06"})),r=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M128.085333 877.226667a128 128 0 0 1-42.496-175.957334L402.773333 182.186667a128 128 0 0 1 218.453334 0l317.184 519.04A128 128 0 0 1 829.184 896H194.816a128 128 0 0 1-66.730667-18.773333zM829.184 810.666667a42.666667 42.666667 0 0 0 36.394667-64.896L548.394667 226.730667a42.666667 42.666667 0 0 0-72.789334 0L158.421333 745.770667A42.666667 42.666667 0 0 0 194.816 810.666667h634.368zM469.333333 384h85.333334v256h-85.333334V384z m0 298.666667h85.333334v85.333333h-85.333334v-85.333333z",fill:"#fa6400"})),s=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64z m0 64c-212.077 0-384 171.923-384 384s171.923 384 384 384 384-171.923 384-384-171.923-384-384-384z m0.193 571c14.28 0 25.388 4.034 34.909 13.714 8.727 8.874 13.487 20.168 13.487 33.883 0 14.52-4.76 25.815-13.487 34.689-9.52 8.874-21.422 13.714-34.91 13.714-13.487 0-24.594-4.84-33.322-13.714-9.52-9.681-14.28-20.975-14.28-34.69 0-13.714 4.76-25.008 14.28-33.882 8.728-9.68 19.835-13.714 33.323-13.714z m32.396-470v342c0 34.993-28.083 63.426-62.941 63.991l-1.059 0.009V293c0-35.346 28.654-64 64-64z",fill:"#000000",fillOpacity:".65"})),a=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M960.42793 531.18976c-6.38976 38.4-19.21024 83.18976-38.42048 121.58976-12.8 19.21024-25.6 25.6-44.81024 19.21024-19.21024-12.8-25.62048-25.6-19.21024-44.81024 19.21024-38.4 32.01024-76.77952 38.42048-115.17952 25.6-102.4 19.21024-198.38976 12.8-255.97952L512.22313 70.4512 115.25929 256.02048c-6.41024 57.58976-12.82048 147.18976 12.8 255.97952 44.81024 211.16928 179.28192 358.35904 384.16384 447.95904 64.04096-25.6 115.26144-57.58976 166.48192-95.98976 12.8-12.8 32.01024-6.41024 44.83072 6.38976 12.8 12.8 6.38976 32.01024-6.41024 44.78976-57.63072 44.81024-121.6512 76.8-192.08192 108.78976h-25.62048C262.51049 927.9488 115.25929 761.56928 64.01833 524.8a973.1072 973.1072 0 0 1-12.8-294.37952c6.41024-12.8 12.8-19.18976 19.21024-25.6L499.42313 0.06144h25.62048l428.99456 204.75904c12.8 6.41024 19.21024 12.8 19.21024 25.6 6.38976 57.58976 12.8 166.4-12.82048 300.76928z m-435.38432 191.97952c-51.22048 0-108.8512-25.6-147.27168-63.97952-83.23072-83.18976-83.23072-211.18976 0-294.37952 83.23072-83.18976 211.29216-83.18976 294.52288 0 70.43072 70.38976 76.84096 185.58976 19.21024 268.77952l134.47168 134.38976c12.8 12.8 12.8 31.98976 0 44.78976-6.41024 6.38976-12.8 6.38976-25.62048 6.38976-12.8 0-19.21024 0-25.6-6.38976l-128.06144-128c-38.42048 25.6-76.84096 38.4-121.6512 38.4zM627.48457 409.6c-25.62048-31.98976-64.04096-44.78976-102.44096-44.78976-38.42048 0-76.84096 19.21024-102.46144 44.78976-57.61024 57.61024-57.61024 147.18976 0 204.77952 57.63072 51.2 147.27168 51.2 204.9024 0 57.63072-57.58976 57.63072-147.16928 0-204.77952z",fill:"#515151"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M984.347406 312.803911c-25.486159-60.870959-63.032731-115.370378-109.795281-162.787148a520.133811 520.133811 0 0 0-162.844038-109.681504A505.17207 505.17207 0 0 0 512.711252 0.001138c-68.693162 0-135.964105 14.165298-199.679501 41.04523-60.927848 25.486159-115.455711 62.975843-162.900926 109.681504a519.73559 519.73559 0 0 0-109.766837 162.758704A504.233406 504.233406 0 0 0 0.001422 512.34119c0 68.664717 13.454189 135.878771 40.39101 198.854614 25.457714 60.870959 63.004287 115.370378 109.738393 162.787149a520.1907 520.1907 0 0 0 162.872481 109.681503A505.17207 505.17207 0 0 0 512.000142 1023.998578c68.693162 0 135.964105-13.454189 198.996836-40.334122 60.870959-25.486159 115.427267-62.975843 162.872482-109.681503a519.73559 519.73559 0 0 0 109.766836-162.787149A504.233406 504.233406 0 0 0 1023.998862 512.369635c0-68.664717-13.454189-135.878771-39.651456-199.565724zM512.711252 935.536577c-233.698971 0-424.19094-190.349746-424.19094-423.878052 0-233.528305 190.491968-423.906496 424.19094-423.906495 233.698971 0 424.19094 190.349746 424.190939 423.906495 0 233.528305-190.491968 423.878051-424.190939 423.878052z",fill:"#707070"}),i.createElement("path",{d:"M512.057031 270.336462A42.382116 42.382116 0 0 0 469.362027 227.556124 42.382116 42.382116 0 0 0 426.667022 270.336462v284.216178A42.382116 42.382116 0 0 0 469.362027 597.332978c2.161772 0 3.612435 0 5.802652-0.71111 1.422219 0 3.612435 0.711109 5.774208 0.71111H753.777316A42.382116 42.382116 0 0 0 796.443876 554.55264a42.382116 42.382116 0 0 0-42.695005-42.780337h-240.980731V270.336462h-0.711109z",fill:"#707070"})))},59088:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(30063);function o(e){const{model:t,desnContext:n}=e,o=t.mainModule.frame;o.frames&&o.frames.forEach((e=>{e.isTypeOfFx()&&e.diagramAry.forEach((e=>{e.conAry.forEach((e=>{const{startPin:t,finishPin:n}=e;if(t.conAry.find((t=>t.id===e.id))||t.conAry.push(e),t instanceof i.mO&&t.parent instanceof i.US&&t.parent.isGlobalVar()){const n=t.forkedFrom;n.conAry.find((t=>t.id===e.id))||n.conAry.push(e)}n.conAry.find((t=>t.id===e.id))||n.conAry.push(e)}))}))}))}},73531:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var i=n(91737),o=n(30063),r=n(56845),s=n(96966),a=n(16099);const l="$currentComId";function c(e,t){const{desnContext:n}=t;if(Array.isArray(e)){return{_type_:"geoComAry",rt:e.map((e=>c(e)))}}return{_type_:"geoCom",rt:c(e)};function c(e){const t=e.runtime,c=(0,i.AF)(t),d=c.geo,u=[t.topl];function p(e){if(e instanceof r.sz){if(d.searchCom(e.id))return!0}else{let t=e.parent;for(;t;){if(t instanceof r.sz&&t.id===d.id)return!0;t=t.parent}}}function f(e){if(!e)return!1;if(e instanceof o.US){let t;if(t=e instanceof o.th?e.forkedFrom:e,u.find((e=>e.searchCom(t.id,!0))))return!0}else{let t=e.parent;for(;t;){if(t instanceof o.US&&u.find((e=>{if(t.id===e.id)return!0})))return!0;t=t.parent}}}!function e(t){const n=t.runtime.topl;n.frames?u.find((e=>{if(e===n)return!0}))||u.push(n):t.slots&&t.slots.forEach((t=>{t.comAry&&t.comAry.forEach((t=>{e(t)}))}))}(d);const h={};function m(e,t){e.comAry.length>0&&(e.isTypeOfScope()?e.comAry.forEach((e=>{g(e)})):e.comAry.forEach((e=>{t.push(e.runtime.topl),e.slots&&e.slots.forEach((e=>{m(e,t)}))})))}function g(e){let t;e.slots&&(t=[],e.slots.forEach((e=>{m(e,t)})),t.length>0?t.push(e.runtime.topl):t=void 0),t&&(h[e.id]=t)}g(d);return(0,i.Bh)(t,{uncompressed:!0,map(e,d,u){if(u!==(0,i.AF)(t.geo.parent)){if(e instanceof s.JX&&"topl"===d){const t=h[e.id];if(t)return t}if(e instanceof r.sz){if("noteInfo"===d)return;if("proxySlot"===d)return{slotId:u.id}}if(e instanceof o.xc){if("conAry"===d)return[];if("proxyPin"===d&&e instanceof o.xc){if(f(u.parent))return u;const e=u;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}}if("permissions"!==d||e!==c.model){if("data"===d&&e===c.model){const e=n.getComDef(t.def);if(e){const n=(0,a.f)(e);if(n){const e=n["@copy"];if("function"==typeof e){const n=e({data:(0,i.o8)(t.model.data,!0)});if("object"==typeof n&&n&&n.data)return n.data}}}}if("parent"===d){if(e instanceof r.sz&&p(e))return u;if(e instanceof r.GJ&&p(e))return u;if(e instanceof o.DQ&&f(e))return u;if(e instanceof o.lL&&f(e))return u;if(e instanceof o.US)if(e.id===t.id||h[t.id]){if(f(e))return u;if(e.parent.diagramAry){const t=e.parent.diagramAry.filter((t=>{var n;if((null===(n=t.startWithCom)||void 0===n?void 0:n.id)===e.id)return!0}));if(t.length>0)return{_todo:!0,frame:{diagrams:t}}}}else{if(u instanceof o.DQ)return u;if(f(e))return u}return e instanceof o.xc?u instanceof o.lL?f(e)?u:void 0:u:void 0}if("outputPins"===d&&e instanceof o.DQ){const e=u;return e.length>0&&f(e[0].forkedFrom)?u:[]}if("conAry"===d){return u.filter((e=>{const t=e.finishPin;if((null==t?void 0:t.parent)instanceof o.DQ){if(!f(t.forkedFrom))return!1}return!0}))}if("proxyPin"===d)return{frameId:u.id};if("ioProxy"===d)return f(u)?u:{frameId:u.id};if("ioProxyForCall"===d)return u.frame?{frameId:u.frame.id,outputs:u.outputs,_inputs:u._inputs}:void 0;if(e instanceof o.lL){if("diagramAry"===d)return u;if("comAry"===d)return u}if("forkedFrom"===d){if(e instanceof o.US)return e.id===t.topl.id?{id:l}:f(e)?u:{id:u.id};if(e instanceof o.xc){const t=e.parent;if(t instanceof o.US)return f(t)?u:{id:u.id};if(f(t))return u}}if(e instanceof o.US)if(e.id===t.topl.id){if("forkedFrom"===d)return{id:l}}else if("forkedFrom"===d)return{id:u.id};if(e instanceof o.xc&&"forkedFrom"===d)return{id:u.id};if(!(u instanceof o.DQ))return u}}}})}}},72813:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,o:()=>a});var i=n(56845),o=n(91737),r=n(30063),s=n(19640);function a(e,t){const{model:n,emitSnap:i,_emitItem:r,desnContext:a,emitScenes:l}=t,c=a.configs.isTypeOfMPA(),d=(0,o.iu)(e),{slot:u,frame:p}=d,f=n.getCurModule(),h=(0,o.uR)(),m=`复制的 ${u.title}`;let g;u.id=h,u.title=m,u.deletable=!0,p&&(g=p,g.id=h,g.title=m,g.diagramAry.length>0&&(g.diagramAry[0].title=m),(0,s.A)(g,t));const y=i.start("粘贴场景");if(c){let e=f.slot.curHostId;if(e){const t=f.slot.getSlot(e);if(u.hostSlotId=e,t.slots.push(u),g){const t=f.frame.getFrame(e);g.hostFrameId=e,t.frameAry.push(g)}}}else f.slot.slots.push(u),g&&f.frame.frames.push(g);let b;u.isTypeOfModule()?(b="module",n.regModule(u.id,{slot:u,frame:g},{context:t.desnContext}),u.style.left+=100,u.style.top+=30):u.isShowTypeOfPopup()&&(b="popup"),a.pageMetaModel&&(c?a.pageMetaModel.addScene(u.hostSlotId,{id:u.id,title:m,type:b,slot:u,frame:p}):a.pageMetaModel.addPage({id:u.id,title:m,type:b,slot:u,frame:p})),y.commit(),setTimeout((e=>{l.switch(u.id),r.focus(u)}))}function l(e,t){var n;const{model:s,emitItem:a}=t,l=s.getCurModule(),c=l.frame,d=null===(n=s.mainModule.frame)||void 0===n?void 0:n.searchFrame(e.id),u={slot:e,frame:d},p=(0,o.Bh)(u,{map(t,n,s){if(s!==(0,o.AF)(e.parent)&&s!==(0,o.AF)(l.slot)&&s!==(0,o.AF)(c)&&!(t instanceof i.sz&&"noteInfo"===n||t instanceof i.GJ&&t.id===e.id&&"hostSlotId"===n)){if(d){if(t instanceof r.lL&&t.id===d.id&&"hostFrameId"===n)return;if(s===(0,o.AF)(d.parent))return;if(t instanceof r.US&&t.isSceneOpen()&&"ioProxyForCall"===n){const e=t.ioProxyForCall;return e._todo_?e:{_todo_:!0,frameId:e.frame.id,_inputs:e._inputs,_outputs:e._outputs}}if(t instanceof r.th&&t.isVar()&&"forkedFrom"===n&&(0,o.AF)(s.parent)===(0,o.AF)(c))return{_todo_:!0,comId:s.id};if(t instanceof r.US&&t.isFx()&&"ioProxy"===n&&(0,o.AF)(c.frames).indexOf(s)>=0)return{_todo_:!0,frameId:s.id};if("proxyPin"===n&&t instanceof r.xc&&(0,o.AF)(c.frames).indexOf(s.parent)>=0)return{_todo_:!0,pinId:s.id,frameId:s.parent.id};if("proxyForPin"===n&&t instanceof r.xc&&(0,o.AF)(c.frames).indexOf(s.parent)>=0)return{_todo_:!0,pinId:s.id,frameId:s.parent.id}}return s}}});return p._type_="scene",p}},67851:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var i=n(91737),o=n(30063),r=n(96966);function s(e,t){return Array.isArray(e)?function(e){const t=[],n=e.map(((n,i)=>{const r=n.getOutputsAllAry();return r&&r.forEach((n=>{n.conAry&&n.conAry.forEach((r=>{const s=r.finishPin.parent,a=e.findIndex((e=>e===s));if(s instanceof o.US&&a>=0){e.find((e=>{if(e.getInputsAllAry().find((e=>{if(r.finishPin===e)return!0})))return!0}))&&t.push({from:{comIndex:i,pinHostId:n.hostId},to:{comIndex:a,pinHostId:r.finishPin.hostId}})}}))})),n instanceof o.th?n:n.runtime}));return{_type_:"toplComAry",conAry:t,rt:(0,i.Bh)(n,{uncompressed:!1,map(e,t,s){var a;if("forkedFrom"===t)return{id:s.id};if(!n.find((e=>{var t;if(e instanceof r.JX&&s===(0,i.AF)(null===(t=e.geo)||void 0===t?void 0:t.parent))return!0}))&&!(n.find((e=>{if(e instanceof r.JX&&s===(0,i.AF)(e.topl.parent))return!0}))||e instanceof o.US&&"parent"===t)){if(e instanceof r.JX&&"id"===t)return(0,i.uR)();if("ioProxyForCall"===t)return{frameId:s.sceneId||(null===(a=s.frame)||void 0===a?void 0:a.id),outputs:s.outputs,_inputs:s._inputs};if("ioProxy"===t)return{frameId:s.id};if("proxyPin"===t&&e instanceof o.xc){const e=s;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}if("diagramModel"!==t){if(e instanceof o.xc){if("conAry"===t)return[]}else if("conAry"===t)return;return s}}}})}}(e):function(e){const t=e.runtime;if(e instanceof o.th){const t=(0,i.AF)(e);return{_type_:"toplComForked",toplComForked:(0,i.Bh)(e,{uncompressed:!1,map(e,n,i){if("runtime"!==n){if("forkedFrom"===n)return{id:i.id};if("ioProxyForCall"===n)return{frameId:i.frameId||i.frame.id,outputs:i.outputs,_inputs:i._inputs};if("ioProxy"===n)return{frameId:i.id};if("proxyPin"===n&&e instanceof o.xc){const e=i;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}if("proxyPinValue"===n&&e instanceof o.xc){const e=i;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}if((e!==t||"parent"!==n)&&"diagramModel"!==n){if(e instanceof o.xc){if("conAry"===n)return[]}else if("conAry"===n)return;return i}}}})}}return{_type_:"toplCom",rt:(0,i.Bh)(t,{uncompressed:!1,map(e,n,s){var a,l;if(s!==(0,i.AF)(null===(a=t.geo)||void 0===a?void 0:a.parent)){if(e instanceof r.JX&&"id"===n)return(0,i.uR)();if("ioProxyForCall"===n)return{frameId:s.frameId||(null===(l=s.frame)||void 0===l?void 0:l.id),outputs:s.outputs,_inputs:s._inputs};if("ioProxy"===n)return{frameId:s.id};if(s!==(0,i.AF)(t.topl.parent)){if("proxyPin"===n&&e instanceof o.xc){const e=s;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}if("proxyPinValue"===n&&e instanceof o.xc){const e=s;return e.parent instanceof o.lL?{frameId:e.parent.id,id:e.id}:void 0}if("diagramModel"!==n){if(e instanceof o.xc){if("conAry"===n)return[]}else if("conAry"===n)return;return s}}}}})}}(e)}},85358:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,r:()=>d});var i=n(56845),o=n(72813),r=n(30063),s=n(73531),a=n(67851),l=n(31151);function c(e,t){const{desnContext:n}=t,l=e||n.focusModel;let c,d;return l instanceof i.GJ&&(c="slot",d=(0,o.C)(l,t)),l instanceof i.sz?(c="geoCom",d=(0,s.e)(l,t)):l instanceof r.US&&(c="toplCom",d=(0,a.a)(l,t)),Array.isArray(l)&&l.length>0&&(l[0]instanceof r.US?(c="toplComAry",d=(0,a.a)(l,t)):l[0]instanceof i.sz&&(c="geoComAry",d=(0,s.e)(l,t))),n.clipboard={type:c,json:d},d}function d(e,t){const{model:n,emitSnap:i}=t,o=e.target;if(o.tagName.match(/INPUT|TEXTAREA/gi)||o.contentEditable&&"true"==o.contentEditable)return;if(e.path&&e.path.length>0&&e.path[0].tagName.match(/INPUT|TEXTAREA/gi))return;const r=(e.clipboardData||window.clipboardData).getData("text/plain");if(r){let e;try{e=JSON.parse(r)}catch(e){}e&&(0,l.A)(e,t)}}},64104:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(91737),o=n(96966),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const s="$currentComId";function a(e,t){const{model:n,emitSnap:a,emitLogs:l,emitMessage:c}=t,d=(e="组件数据错误.")=>{l.error("组件数据错误."),c.error("组件数据错误.")};if(!e.from||!e.rt&&!e.toplComForked)return d();if(e.toplComForked){const n=(0,i.iu)(e.toplComForked);return n.forkedFrom?(e.toplComForked=n,requestAnimationFrame((n=>r(this,void 0,void 0,(function*(){const n=a.start("粘贴组件");Promise.all(t.emitItem.paste(e)).then((e=>{n.commit({target:e})})).catch((e=>{n.cancel()}))})))),!0):d()}if(e.rt){let n;n="geoComAry"===e._type_?e.rt.map((e=>(0,i.iu)(e))):(0,i.iu)(e.rt);const r=e=>{const t=e.id;e.id=(0,i.uR)();const n=e.geo;n&&n.slots&&n.slots.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{r(e.runtime),c(e.runtime)}))}));const o=e.topl,a=e=>{if(e&&e.parent&&"object"==typeof e.parent){const{frame:n}=e.parent;n&&Array.isArray(n.diagrams)&&n.diagrams.forEach((n=>{n.id=(0,i.uR)(),n.comAry.forEach((n=>{n.forkedFrom?n.forkedFrom.id!==s&&n.forkedFrom.id!==t||(n.forkedFrom.id=e.id):n.runtime.id=(0,i.uR)()}))}))}};Array.isArray(o)?o.forEach((e=>{a(e)})):a(o)},l=e=>{e.name=(0,i.uR)()},c=e=>{const t=e.topl,n=e=>{e&&e.frames&&e.frames.forEach((e=>{e.frameAry&&e.frameAry.forEach((e=>{e.id=(0,i.uR)(),e.diagramAry&&e.diagramAry.forEach((e=>{e.id=(0,i.uR)(),e.comAry.forEach((e=>{e.forkedFrom||(e.runtime.id=(0,i.uR)())}))}))})),e.comAry&&e.comAry.forEach((e=>{e.forkedFrom||(e.runtime.id=(0,i.uR)())})),e.diagramAry&&e.diagramAry.forEach((e=>{e.id=(0,i.uR)(),e.comAry.forEach((e=>{e.forkedFrom||(e.runtime.id=(0,i.uR)())}))}))}))};Array.isArray(t)?t.forEach((e=>{n(e)})):n(t)};if(Array.isArray(n))n.forEach((e=>{e instanceof o.JX&&(r(e),c(e),e.geo&&l(e.geo))})),e.rt=n;else{const t=n;t.title?t.title.startsWith("复制的")||(t.title=`复制的 ${t.title}`):t.title="复制的组件",r(t),c(t),t.geo&&l(t.geo),e.rt=t}const d=a.start("粘贴组件"),u=t.emitItem.paste(e);return Array.isArray(u)?Promise.all(u).then((e=>{d.commit({target:e})})).catch((e=>{d.cancel()})):u.then((e=>{d.commit({target:e})})).catch((e=>{d.cancel()})),!0}}},31151:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(72813),o=n(64104);function r(e,t){var n;if(e)try{"scene"===e._type_&&(0,i.o)(e,t),((null===(n=e._type_)||void 0===n?void 0:n.match(/geoCom|toplCom/gi))||e.rt)&&(0,o.D)(e,t)}catch(e){console.error(e)}}},19640:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(91737),o=n(30063),r=n(96966);function s(e,t){const{model:n,desnContext:a}=t,l=n.mainModule.frame;e.parent instanceof o.lL&&(e.id=(0,i.uR)()),e.comAry&&e.comAry.forEach((e=>{var n;const o=e.runtime;if(o.id=(0,i.uR)(),e.frames&&o.topl.frames.forEach((e=>{s(e,t)})),e.isSceneOpen()&&e.ioProxyForCall._todo_){const{frameId:t}=e.ioProxyForCall,n=l.getFrame(t);e.ioProxyForCall.frame=n,e._inputPins.length>0&&e._inputPins.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.length>0&&e.outputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0}))}if(e.isFx()&&(null===(n=e.ioProxy)||void 0===n?void 0:n._todo_)){const{frameId:t}=e.ioProxy,n=l.getFrame(t);e.ioProxy=n,e.inputPinsInModel.forEach((e=>{if(e.proxyPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyForPin=o}else e.proxyForPin=void 0}))}})),e.diagramAry&&e.diagramAry.forEach((e=>{e.id=(0,i.uR)(),e.conAry.forEach((e=>{e.id=(0,i.uR)()})),e.comAry&&e.comAry.forEach(((e,t)=>{if(e instanceof o.th&&(e._key=(0,i.uR)()),e instanceof o.th&&e.forkedFrom._todo_){const t=l.searchCom(e.forkedFrom.comId);if(t){e.forkedFrom=t;e.getInputsAllAry().forEach((e=>{const n=t.inputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}));e.getOutputsAllAry().forEach((e=>{const n=t.outputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}))}else{const t=a.getComDef({namespace:r.ZD.coms.var}),n=new o.US(new r.Al(t,!1,"全局变量"));e.forkedFrom=n;e.getInputsAllAry().forEach((e=>{n.inputPins.push(e.forkedFrom)}));e.getOutputsAllAry().forEach((e=>{n.outputPins.push(e.forkedFrom)}))}}}))})),e.frameAry&&e.frameAry.forEach((e=>{s(e,t)}))}},16099:(e,t,n)=>{"use strict";function i(e){if(e.editors){let t=e.editors;if(t)return t}}n.d(t,{f:()=>i})},58285:(e,t,n)=>{"use strict";function i(e,t){const{model:n,emitLogs:i,desnContext:o}=t;"function"==typeof e&&n.mainModule.frame.forEachCom((t=>{t.def&&(t.def=o.getComDef({namespace:t.def.namespace,version:t.def.version})),e(t)}))}n.d(t,{I:()=>i})},91265:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(7889),o=n(96966),r=n(91737),s=n(72409),a=n(97956),l=n(59088),c=n(50471),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function u(e,{config:t,onMessage:n,onEdit:u,onDebug:p,onClick:f,ref:h}){let m;function g(e={},t){return d(this,void 0,void 0,(function*(){const{desnContext:e}=m;m.loaded=!1,m.pageLoaded=!1;const t=e.configs.pageMetaLoader;if("function"==typeof t){const n=t();n&&n.then?n.then((t=>{"object"==typeof t?t.content?e.pageMetaModel=new o.Q9:(e.pageMetaModel=new o.Q9(t),t.projectContent&&((0,r.Hh)(t.projectContent),(0,l.A)(m))):(e.pageMetaModel=new o.Q9,(0,a.A)(m)),m.pageLoaded=!0})):m.pageLoaded=!0}else{if(m.config.pageContentLoader)if(m.startWithAITpt)(0,c.A)(m);else{const e=yield(0,s.A)(m);m.curPage=e;const t=m.curPage;m.setCurPage(t)}m.pageLoaded=!0}}))}return m=(0,r.J2)(i.A,(i=>i({desnContext:e,config:t,ref:h,pageContentLoader:g,onMessage:n,onEdit:u,onClick:f,activeBottomTabId:"toplView"})),{to:"children"}),m}},14906:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>b,yq:()=>v});var i=n(96966),o=n(64012),r=n(91737),s=n(56845),a=n(30063),l=n(85358),c=n(70909),d=n(34146),u=n(96070),p=n(72409),f=n(37644),h=n(33660),m=n(31151),g=n(91716),y=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function b(e){const{desnContext:t,onMessage:g,onEdit:b}=e,A=e.emitMessage=(0,r.yx)(i.Zm.Message,(e=>({info(e){g&&g("info",e)},warn(e){g&&g("warn",e)},error(e){g&&g("error",e)},trace(e){g&&g("trace",e)}})),{from:"children"}),w=(0,r.xY)(1e3);function E(e){if(e){let t;if(Array.isArray(e)?e.length>0&&(t=e[0]):t=e,!t)return;for(;t.parent;)t=t.parent;return t}}function C(e,n){return e?t.pageMetaModel&&(e instanceof s.GJ?e.isTypeOfModule()?(n.type="module",n.id=e.id):e.hostSlotId?(n.type="canvas",n.id=e.hostSlotId):(n.type="canvas",n.id=e.id):e instanceof s.u_?n.type="global":e instanceof a.lL?e.isTypeOfModule()?(n.type="module",n.id=e.id):e.hostFrameId?(n.type="canvas",n.id=e.hostFrameId):e.isTypeOfFx()&&(n.type="global"):e instanceof a.al&&(n.type="global")):n.type="global",n}e.emitSnap=(0,r.yx)(i.Zm.Snap,(()=>({start(t,n){let i=null==n?void 0:n.target;const o=null==n?void 0:n.ignore,l=(0,r.qz)({title:t||"todo",ifReally(e,t,n,i){if(0===i.indexOf(".mainModule.")||0===i.indexOf(".pageMetaModel."))return!0},onUndo(n){if(b&&!n){const e=C(E(i),{title:t});b(e)}e.exeEditCallbacks(),n||(_.info(`撤销 ${t}`),A.info(`撤销 ${t}`),i&&!Array.isArray(i)&&setTimeout((()=>{M.focus(i),"function"==typeof i.notifyEleChanged&&i.notifyEleChanged()})))},onRedo(){if(b){const e=C(E(i),{title:t});b(e)}e.exeEditCallbacks(),_.info(`重做 ${t}`),A.info(`重做 ${t}`),i&&!Array.isArray(i)&&setTimeout((()=>{M.focus(i),"function"==typeof i.notifyEleChanged&&i.notifyEleChanged()}))},listener(e,t,n){},emitMessage:A,ignore:o});return{wait(){l.wait()},pause(){l.pause()},pauseNext(){l.pauseNext()},resume(){l.resume()},setUndoCallback(e){l.setCallback(e)},commit(n){if(!l.commit(n))return;let o,r;if((null==n?void 0:n.target)&&(i=n.target),i){o=E(i);const{model:t,desnContext:n}=e,{slot:r,frame:l}=t.mainModule;if(o instanceof s.GJ)if(o.updated(),w((i=>y(this,void 0,void 0,(function*(){if(o.isTypeOfModule()||o.isTypeOfDefinedCom())if(o.hadDestroyed())t.deleteModule(o.id);else{const i=l.getFrame(o.id);t.regModule(o.id,{slot:o,frame:i},{context:n}),yield e.emitScenes.toImage({slotId:o.id})}})))),o===r);else if(n.pageMetaModel){let e,t=o;if(o.hostSlotId){const i=r.getSlot(o.hostSlotId);n.pageMetaModel.updateScene(i.id,t.id,{slot:t,frame:e})}else l&&(e=l.getFrame(o.id)),n.pageMetaModel.updatePage(t.id,{slot:t,frame:e})}if(l&&o instanceof a.lL)if(requestAnimationFrame((e=>{(o.isTypeOfModule()||o.isTypeOfDefinedCom())&&r&&w((e=>y(this,void 0,void 0,(function*(){const e=r.getSlot(o.id);t.regModule(o.id,{slot:e,frame:o},{context:n})}))))})),o===l);else if(n.pageMetaModel){let e,t=o;o.hostFrameId?(t=l.getFrame(o.hostFrameId),e=r.getSlot(o.hostFrameId)):e=r.getSlot(o.id),n.pageMetaModel.updatePage(t.id,{slot:e,frame:t})}}if(b){const e=C(o,{title:t});r=b(e)}e.exeEditCallbacks()},cancel(e){l.cancel()&&!e&&_.warn(`${t} 操作回滚`,`操作回滚到${name||"todo"}之前.`)}}}})),{from:"children"}),e.emitScenes=(0,r.yx)(i.Zm.Scenes,(t=>t({load(t){return y(this,void 0,void 0,(function*(){const n=e.desnContext.pageMetaModel;n&&n.openPage(t);const i=yield(0,p.A)(e,t),o=(0,f.A)(i,e);if(null==o?void 0:o.content){const{slot:t,frame:n}=o.content,i=e.model.getCurModule();return i.slot.slots.push(t),n&&i.frame.frames.push(n),t._closed&&(t._closed=void 0),{slot:t,frame:n}}}))},newScene({title:t}){return y(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const{slot:o,frame:r}=(0,h.A)({title:t},e),s=e.model.getCurModule();s.slot.slots.push(o),r&&s.frame.frames.push(r),n({id:o.id,title:t,slot:o,frame:r})}))}))},toImage({slotId:t}){return y(this,void 0,void 0,(function*(){const i=e.model.getCurModule().slot.slots.find((e=>e.id===t));i&&n.e(766).then(n.bind(n,34766)).then((({domToWebp:e})=>{e(i.$wrapEl,{scale:.5}).then((e=>{i.previewImageData=e}))}))}))},setTitle(t,n){var i;null===(i=e.desnContext.pageMetaModel)||void 0===i||i.setPageTitle(t,n)},delete(t){var n;null===(n=e.desnContext.pageMetaModel)||void 0===n||n.deletePage(t)},close(t){e.desnContext.pageMetaModel&&e.desnContext.pageMetaModel.closePage(t)}})),{from:"children",expectTo:"children"}),e.emitComLib=(0,r.yx)(i.Zm.ComLib,(e=>e({upgradeLib(e){}})),{from:"children",expectTo:"children"}),e.emitView=(0,r.yx)(i.Zm.Views,(t=>t({hideNav(){e.showNavView=!1},showNav(){e.showNavView=!0},disableHandlers(){e.handlersDisabled=!0},enableHandlers(){e.handlersDisabled=!1},recoverSize(t){const n=e.model.viewSlots[t];n&&n.recoverSize()},copyFocus:t=>(0,l.C)(t,e),popView(t,n,i){e.popView(t,n,i)},maxView(t,n,i){e.maxView(t,n,i)},openInCurViewSlot(t,n){e.openInCurViewSlot(t,n)},closeInCurViewSlot(){e.closeInCurViewSlot()},getCurRootFrame:()=>e.model.getCurModule().frame})),{from:"children",expectTo:"children"}),e.emitEditor=(0,r.yx)(i.Zm.Editor,(e=>e({getAll(){}})),{from:"children",expectTo:"children"}),e.emitLabel=(0,r.J2)(i.Zm.Label,{expectTo:"children"}),e.emitVariable=(0,r.J2)(i.Zm.Variable,{expectTo:"children"}),e.emitItem=(0,r.J2)(i.Zm.Component,{expectTo:"children"}),e.emitIOCAbout=(0,r.J2)(i.Zm.IOCAbout,{expectTo:"children"});const _=(0,r.yx)(i.Zm.Logs,(t=>t({info(t){requestAnimationFrame((n=>{(0,r.A1)((()=>{e.eventLogs.push({time:new Date,type:"info",msg:t})}))}))},warn(t){requestAnimationFrame((n=>{(0,r.A1)((()=>{e.eventLogs.push({time:new Date,type:"warn",msg:t})}))}))},error(t){requestAnimationFrame((n=>{(0,r.A1)((()=>{e.eventLogs.push({time:new Date,type:"error",msg:t})}))}))}})),{from:"children",expectTo:"children"});e.emitLogs=_,e.emitCommand=(0,r.yx)(i.Zm.Command,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.Debug,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.FxFrame,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.AI,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.WindowEvents,(n=>n({showContextMenu:(n,i,o)=>(r.zg.cancel=!0,i&&i.state.popContextMenu(),requestAnimationFrame((r=>{t.listeners&&(e.desnContext.contextMenuEvent={event:n,model:i,finishCallback:o})})),!0),paste(){if(e.desnContext.clipboard){const{type:t,json:n}=e.desnContext.clipboard,i=JSON.parse(JSON.stringify(n));(0,m.A)(i,e)}}})),{from:"children"}),(0,r.yx)(i.Zm.Frame,(t=>t({exeOutput(t,n){const i=e.model.mainModule.frame.frames[0],o=i.outputPins.find((e=>e.hostId===t));o&&"function"==typeof o._exe&&o._exe(i._curScope_,n)}})),{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.IOCAbout,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.Module,(t=>t({get:t=>e.model.getModule(t),getAll(){const t=e.model,n=t.modules;if(n){const e=t.mainModule.slot.slots,i=[];for(let t in n){const o=n[t],r=e.find((e=>e.id===t));!o.deleted&&r&&i.push(Object.assign({id:t,previewImageData:r.previewImageData},o))}return i}},setTitle(t,n){const i=e.model.getModule(t);i&&(i.title=n)},register:(t,{slot:n,frame:i},o)=>e.model.regModule(t,{slot:n,frame:i},{type:o,context:e.desnContext})})),{from:"children",expectTo:"children"});const M=(0,r.yx)(i.Zm.Component,(n=>n({focus(e){t.focus(e)},reFocus(e){t.reFocus(e)},blur(){t.blur()},upgrade(t,n,i,o){!function(e,t,n,i,o){const{model:r,emitItem:s,emitMessage:a,emitLogs:l,desnContext:c,emitSnap:d}=t,u=c.getComDef({namespace:e.runtime.def.namespace});if(!u)throw new Error(`No definition found for component(${e.runtime.def.namespace})`);const p=e.id,f=r.getCurModule(),h=o?void 0:d.start("升级组件"),m=[];if(n){if(e.runtime.hasUI()){if(f.slot){const e=f.slot.searchComByDef(u);e&&(e.forEach((e=>{let n;f.frame&&(n=f.frame.searchCom(p)),x(e,n,u,t,!0);const i=e.root;i.isTypeOfModule()&&(m.find((e=>e===i))||m.push(i))})),l.warn(`共有 ${e.length} 个 ${u.title}(${u.namespace}) 组件 更新到 ${u.version} 版本.`))}}else if(f.frame){const e=f.frame.searchComByDef(u);if(e){e.forEach((e=>{e.runtime.hasUI()?e.runtime.geo&&x(e.runtime.geo,e,u,t,!0):x(void 0,e,u,t,!0)}));const n=`共有 ${e.length} 个 ${u.title}(${u.namespace}) 组件 更新到 ${u.version} 版本.`;a.warn(n),l.warn(n)}}}else{let e,n;if(f.frame&&(n=f.frame.searchCom(p)),f.slot&&(e=f.slot.searchCom(p)),e){const t=e.root;t.isTypeOfModule()&&(m.find((e=>e===t))||m.push(t))}x(e,n,u,t,i)}m.length>0&&m.forEach((e=>{let n;f.frame&&(n=f.frame.getFrame(e.id)),r.regModule(e.id,{slot:e,frame:n},{context:t.desnContext})}));h&&h.commit()}(t,e,n,i,o)},upgradeAllForDef:t=>v(t,e)})),{from:"children",expectTo:"children"});e._emitItem=M,(0,r.yx)(i.Zm.Label,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.Variable,{from:"children",expectTo:"children"}),(0,r.yx)(i.Zm.Page,(e=>e({getAll(){const e=t.configs.pageLoader;if("function"==typeof e)return e()}})),{from:"children"}),(0,r.yx)(i.Zm.DomainModel,(t=>t({getAll(){const t=e.model.domainModels;if(t)return t.map((e=>e))}})),{from:"children"});const I=(0,r.yx)(i.Zm.Connector,(n=>n({getAll(){const n=e=>e.map((e=>e)),i=e.model.connectors;if(i)return n(i);{const e=t.configs.connectorLoader;if("function"==typeof e){const t=e();if(Array.isArray(t))return n(t)}}}})),{from:"children"});e.emitConnector=I;const k=(0,r.yx)(i.Zm.Locale,(t=>t({ifEnable:()=>e.model.localeImpl,getAll:()=>e.model.locales,edit(t){(0,u.A)(t,e)},searchByKeywords(t,n,i){if(t)return e.model.searchLocaleByKeywords(t,n,i)},searchById:t=>e.model.getLocaleById(t),addItem(t){let n=e.model.locales;n||(e.model.locales=n=[]),n.push(t)},usedById(t){const n=e.model.localeImpl;if(n&&"function"==typeof n.usedById)return n.usedById(t)},remove(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.id!==t)))}})),{from:"children"});e.emitLocale=k;const P=(0,r.yx)(i.Zm.Permission,(t=>t({edit(t){(0,c.A)(t,e)},searchById:t=>e.model.getPermissionById(t),register(t){const n=e.model;n.permissions||(n.permissions=[]);const i=n.permissions,o=i.find((e=>e.id===t.id));o?i[i.indexOf(o)]=t:i.push(t)},remove(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.id!==t)))},removeByModelId(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.modelId!==t)))}})),{from:"children"});(0,r.yx)(i.Zm.Find,(t=>t({showUsed(t){e.findPluginResults=t}})),{from:"children",expectTo:"children"}),e.emitPermission=P,(0,o.useEffect)((()=>{if(e.loaded){const n=t=>{(0,l.r)(t,e)},i=t.getPluginAry();return i&&i.forEach((n=>{if("function"==typeof n.activate){const{model:i}=e,o={_emits:{running(t){let i=e.pluginInfos[n.namespace];i||(i=e.pluginInfos[n.namespace]={}),i.running=t}},_on:{edit(t){e.callbackOnEdit.push(t)}},_message:{notify(t){let i=e.pluginInfos[n.namespace];i||(i=e.pluginInfos[n.namespace]={}),i.msg=t},clear(){let t=e.pluginInfos[n.namespace];t&&(t.msg=void 0)}},data:t.getPluginData(n.namespace||n.name),get pageStyle(){return{get background(){return i.mainModule.slot.style.background},set background(e){i.mainModule.slot.style.background=e}}},get theme(){return{set(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const n=i.themes.find((t=>t.name===e));n?n.value=t:i.themes.push({name:e,value:t})},get(e){const t=i.themes.find((t=>t.name===e));return t?t.value:void 0},remove(e){i.themes.find((t=>t.name===e))&&(i.themes=i.themes.filter((t=>t.name!==e)))}}},get themes(){return(0,d.D2)(e)}};n.activate(o)}})),()=>{document.body.removeEventListener("paste",n)}}}),[e.loaded])}function v(e,t){if(!e)return;const{model:n,emitItem:i,emitMessage:o,emitLogs:r,desnContext:s,emitSnap:a}=t,l=n.getCurModule(),c={},d=[],u=e=>{c[e]?c[e]++:c[e]=1};if(l.slot){const n=l.slot.searchComByDef(e);n&&n.forEach((n=>{let i;if(l.frame&&(i=l.frame.searchCom(n.id)),x(n,i,e,t,!0)){u(n.id);const e=n.root;e.isTypeOfModule()&&(d.find((t=>t===e))||d.push(e))}}))}if(l.frame){const n=l.frame.searchComByDef(e);n&&n.forEach((n=>{c[n.id]||(n.runtime.hasUI()?n.runtime.geo&&x(n.runtime.geo,n,e,t,!0)&&u(n.id):x(void 0,n,e,t,!0)&&u(n.id))}))}return d.length>0&&d.forEach((e=>{let i;l.frame&&(i=l.frame.getFrame(e.id)),n.regModule(e.id,{slot:e,frame:i},{context:t.desnContext})})),Object.keys(c).length>0?c:void 0}function x(e,t,n,o,s){const{model:a,emitItem:l,emitIOCAbout:c,emitMessage:d,emitLogs:u,desnContext:p,emitSnap:f,emitPermission:h}=o,m=e?e.runtime:t.runtime,y=e?e.name:t.name;if(!(0,g.gz)(n.version,m.def.version))return!1;let b=!1;const v=a.getCurModule();if("function"==typeof n.upgrade){const o={};if(e&&e.slots){const t={};e.slots.forEach((e=>{const n=[];e.comAry.forEach((e=>{n.push({id:e.id,name:e.name,title:e.runtime.title,def:e.runtime.def})})),t[e.id]=n})),o.children=t}o.isAutoRun=()=>{if(t)return t._autoRun},o.setAutoRun=e=>{if(t)return t.setAutoRun(e)},o.id=m.id,o.name=y,o.data=m.model.data,o.registerPermission=function(e){if("object"==typeof e&&e){const{code:t,title:n}=e;if(t){const e=new i.fu({type:"register",register:{code:t,title:n}});return h.register(e),{id:e.id}}}},v.frame&&t&&(o.config=t.getConfigEditor(l),o.input=t.getInputEditor(l,void 0,!0),o.output=t.getOutputEditor(l,void 0,!0)),e&&(o.slot=e.getSlotEditor({emitItem:l,context:p,emitSnap:f,emitIOCAbout:c,emitMessage:d}),o.style=e.style,o.getDeclaredStyle=function(t){const n=t,i=e.style.getStyle(n);if(i)return(0,r.o8)(i)},o.setDeclaredStyle=function(t,n,i,o){e.style.addStyle(t,n,i,o)},o.setChildDeclaredStyle=function(t,n,i,o){e.slots&&e.slots.find((e=>{const r=e.comAry.find((e=>e.id===t));r&&r.style.addStyle(n,i,o)}))},o.removeDeclaredStyle=function(t){e.style.removeStyle(t)});try{const e=n.upgrade(o);b=!("boolean"==typeof e&&!e)}catch(e){console.error(e),u.error(`更新${n.title}(${n.namespace})失败.`),d.error(`更新${n.title}(${n.namespace})失败.`)}}else b=!0;if(b){if(m.def.version=n.version,m.upgrade=void 0,!s){const e=`${n.title}(${n.namespace}) 已更新到 ${n.version} 版本.`;d.warn(e),u.warn(e)}return!0}return!1}},53527:(e,t,n)=>{"use strict";n.d(t,{A:()=>A,q:()=>w});var i=n(64012),o=n(4736),r=n(91737),s=n(31676),a=n(56845),l=n(30063),c=n(63021),d=n(12261),u=n(27744),p=n(50471),f=n(34146),h=n(96966),m=n(91716),g=n(14906),y=n(62726),b=n(24083),v=n(27883),x=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function A(e){const t=(0,r.J2)(s.A,c.xH);return e.model=t,function(e){(0,i.useMemo)((()=>x(this,void 0,void 0,(function*(){const{desnContext:t,emitLogs:n,emitMessage:i,emitSnap:s}=e;yield w(t),yield e.pageContentLoader({init:!0}),t.toJSON=t=>(0,d.U)(e,t);const c={setComLibs(e){return x(this,void 0,void 0,(function*(){if(!Array.isArray(e))throw new Error("Invalid comlibAry.");const n=yield(0,u.m)(e);n.push(o.A),t.comLibAry=n}))},upgradeComLib(o){return x(this,void 0,void 0,(function*(){const a=yield t.configs.comLibLoader({cmd:"upgradeComLib",libId:o.id,libNamespace:o.namespace,libVersion:o.version});if(a){function l(o){const a=t.comLibAry.find((e=>e.id===o.id));if(a){if(o.version===a.version){const e=`已存在组件库 ${o.title}@${o.version}.`;return n.warn(e),void i.warn(e)}if((0,m.gz)(o.version,a.version)){const l=s.start("更新组件库"),c=t.comLibAry.indexOf(a);t.comLibAry.splice(c,1,o);let d=[];a.comAray.forEach((e=>{Array.isArray(e.comAray)?d=d.concat(e.comAray):d.push(e)}));let u=[];o.comAray.forEach((e=>{Array.isArray(e.comAray)?u=u.concat(e.comAray):u.push(e)}));const p=[];d.forEach(((t,n)=>{const i=u.find((e=>e.namespace===t.namespace)),o=(0,g.yq)(i,e);o&&p.push(`${t.title}(${t.namespace}) 更新了 ${Object.keys(o).length} 个组件.`);const s=(0,r.uR)();t._upgrade=i._upgrade=s})),p.length>0&&p.forEach((e=>{i.warn(e)})),l.commit(),n.info(`已将组件库 ${a.title} 更新到版本 ${o.version}.`),i.info(`已将组件库 ${a.title} 更新到版本 ${o.version}.`)}}}"string"==typeof a?(0,h.q4)(a).then(l):"object"==typeof a&&l(a)}else n.error("添加组件库失败."),i.error("添加组件库失败.")}))},switchActivity(n){e._activePlugin=t.getPlugin(n)},dump(n){const i=t.getPluginAry();return i&&i.forEach((e=>{"function"==typeof e.beforeDump&&e.beforeDump({data:t.getPluginData(e.name)})})),e.dump(n)},loadContent(e){(0,r.Hh)(e)},loadBlueprint(e){},toJSON:e=>t.toJSON({needClone:!0,ignoreComs:!0,withDiagrams:null==e?void 0:e.withDiagrams,onlyDiff:null==e?void 0:e.onlyDiff,withIOSchema:null==e?void 0:e.withIOSchema}),getTptJSON:()=>(0,v.AH)(e.model.mainModule),loadTpt(t){t&&(0,b.x)(t,e)},getSummary:()=>e.projectSummary,resetCostTime:()=>(e.model.resetDesignCostTime(),!0),get themes(){return(0,f.D2)(e)},get components(){return(0,f.u9)(e)},get geoView(){if(t.configs.geoView)return(0,a.cX)()},get toplView(){return(0,l.cX)()},getPlugin:t=>e.desnContext.getPlugin(t),getPluginData:t=>e.desnContext.getPluginData(t),setThemes(t){e.model.mainModule.slot.setThemes(t)},setCooperationAry(t){e.desnContext.setCooperationAry(t)},console:{log:{get info(){return n.info},get warn(){return n.warn},get error(){return n.error}}},toggleNavView:t=>{e.showNavView=t},isDebugMode:t.isDebugMode,pageContentLoader:e.pageContentLoader};e.ref(c)}))),[])}(e),function(e){const{desnContext:t,model:o}=e,[s,a]=(0,i.useState)(e.pageLoaded);(0,r.HO)((()=>{e.pageLoaded&&a(!0)})),(0,i.useMemo)((()=>{var i;const s=t.configs.pageMetaLoader,a=t.configs.geoView,l=t.configs.toplView;if(l&&(l.mode="ui",(null==a?void 0:a.scenes)&&(l.globalVars||(l.globalVars={}))),e.pageLoaded){if(null===(i=e.curPage)||void 0===i?void 0:i.content){e.blueprint?(0,r.Hh)(e.blueprint.content):(0,r.Hh)(e.curPage.content),(0,y.I)(o)||e.emitMessage.error("数据格式存在错误.");const n=o.mainModule;if(n){if(s){const i=t.pageMetaModel,o=n.slot.slots;o&&o.forEach((e=>{const t=n.frame.frames.find((t=>t.id===e.id));i.addPage({id:e.id,title:e.title,type:e.showType,slot:e,frame:t})}));const r="已经将当前数据转换为分页模式.";e.emitMessage.warn(r),e.emitLogs.warn(r)}}else e.emitMessage.error("数据格式存在异常,视图内容丢失."),e.emitLogs.error("数据格式存在异常,视图内容丢失."),(0,p.A)(e)}else s||void 0===o.mainModule&&(0,p.A)(e),Promise.resolve().then((()=>{t.envVars.debug={get envType(){return o.envVars.envType},set envType(e){o.envVars.envType=e},get userToken(){return o.envVars.userToken},set userToken(e){o.envVars.userToken=e},get envParams(){return o.envVars.envParams},set envParams(e){o.envVars.envParams=e}}}));const a=t.configs.debugger;"function"==typeof a?(t.renderWeb=a,Promise.all([Promise.all([n.e(634),n.e(939)]).then(n.bind(n,71939))]).then((([{PcEditor:t}])=>{e.pcCommonEditors=t,(0,r.TY)((()=>{e.loaded=!0}))}))):Promise.all([Promise.all([n.e(634),n.e(939)]).then(n.bind(n,71939)),Promise.resolve().then(n.bind(n,65600))]).then((([{PcEditor:n},{render:i}])=>{e.pcCommonEditors=n,t.renderWeb=i,(0,r.TY)((()=>{e.loaded=!0}))}))}}),[s])}(e),void 0===e.desnContext.currentRole&&(e.desnContext.currentRole=t.currentRole),t}function w(e){return x(this,void 0,void 0,(function*(){const t=yield e.configs.comLibLoader();if(!Array.isArray(t))throw new Error("Invalid comlibAry.");const n=yield(0,u.m)(t);n.splice(0,-1,o.A),n.find((e=>e.defined))||n.push({comAray:[],id:"my",title:"我的组件库",defined:!0}),e.comLibAry=n}))}},50471:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(96966),o=n(56845),r=n(30063),s=n(91737),a=n(85664);const l="_main_";function c(e){var t,n,c,d,u;const{model:p,desnContext:f}=e,h=f.configs.geoView,m=null==h?void 0:h.scenes,g=f.configs.toplView;p.designerVersion=i.Ho.DESIGNER_VERSION;const y={instId:l,title:"主模块",slot:void 0,frame:void 0},b=(null===(t=null==m?void 0:m.default)||void 0===t?void 0:t.title)||"主场景";function v(t,n,i){var o,r;const s=y.frame.addFrame({id:t,title:n||b||"主程序",asDefault:!0,type:(null===(r=null===(o=g.cards)||void 0===o?void 0:o.main)||void 0===r?void 0:r.type)||"normal"});return(0,a.A)(s,{asMultiScenes:i},e),s}h&&(y.slot=new o.u_),g&&(y.frame=new r.al);const x=(null==h?void 0:h.layout)||"smart";if(m){const t=Array.isArray(m)?m:m.presets;if(t)t.forEach(((e,t)=>{var n;const i=e.id,o=e.title;let r;if(y.slot.addSlot({id:i,title:o,template:e.template,style:{layout:(null===(n=e.template)||void 0===n?void 0:n.asRoot)?void 0:x},deletable:!1}),0===t?g&&(r=v(i,o,!0)):g&&(r=y.frame.addFrame({id:i,title:e.title,type:e.type||"normal"}),r.addIODiagram({title:o})),Array.isArray(e.inputs)&&e.inputs.forEach((e=>{r.addInputPin({hostId:e.id,title:e.title,schema:e.schema,desc:e.desc})})),Array.isArray(e.outputs)&&e.outputs.forEach((e=>{r.addOutputPin({hostId:e.id,title:e.title,schema:e.schema,desc:e.desc})})),g&&!f.isDesnModeOfBluePrint()){let t=[];Array.isArray(e.events)&&(t=e.events),t.forEach((e=>{r.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))}}));else if(e.startWithAITpt);else{const e=(0,s.uR)(),t=m.default;if(y.slot.addSlot({showType:null==t?void 0:t.showType,id:e,title:b,template:h.template,style:{layout:(null===(n=h.template)||void 0===n?void 0:n.asRoot)?void 0:x,width:null==t?void 0:t.width,widthAuto:null==t?void 0:t.widthAuto,widthFull:null==t?void 0:t.widthFull,height:null==t?void 0:t.height,heightAuto:null==t?void 0:t.heightAuto,heightFull:null==t?void 0:t.heightFull}}),g){v(e,(null===(d=null===(c=g.cards)||void 0===c?void 0:c.main)||void 0===d?void 0:d.title)||b,!0)}}}else{const e=(0,s.uR)();h&&y.slot.addSlot({id:e,title:b,template:h.template,style:{layout:(null===(u=h.template)||void 0===u?void 0:u.asRoot)?void 0:x}}),g&&v(e)}if(e.blueprint){(0,s.Hh)(e.blueprint.content),p.factModule=t;const t=p.mainModule,n=t.frame.frames[0].diagramAry;n&&n.forEach((e=>{t.frame.frames[0].diagramAry.push(e)}))}else p.mainModule=y}},27744:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var i=n(96966),o=n(91737),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function s(e){return r(this,void 0,void 0,(function*(){const t=[],n=[];e.forEach((e=>{if(e)if("string"==typeof e)n.push((0,i.q4)(e));else if("object"==typeof e)if(e.defined){const n=(0,o.o8)(e);n.comAray=e.comAray.map((e=>e)),t.push(n)}else t.push(e)}));const r=yield Promise.all(n);return r&&r.forEach((e=>{t.push(e)})),t}))}},97956:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(96966),o=n(56845),r=n(30063),s=n(85664);const a="_main_";function l(e){const{model:t,desnContext:n}=e;t.designerVersion=i.Ho.DESIGNER_VERSION;const l={instId:a,title:"主模块",slot:void 0,frame:void 0};l.slot=new o.u_;const c=n.configs.toplView;c&&(l.frame=new r.al),t.mainModule=l;const d=n.configs.geoView.scenes,u=Array.isArray(d)?d:d.presets;function p(t,n,i){const o=l.frame.addFrame({id:t,title:i||"主场景",type:n});return(0,s.A)(o,{asMultiScenes:!0},e),o}u&&u.forEach(((e,t)=>{let i,o;const r=e.id,s=e.title;if(i=l.slot.addSlot({id:r,title:s,template:e.template,deletable:!1}),0===t?c&&(o=p(r,e.type,s)):c&&(o=l.frame.addFrame({id:r,title:e.title,type:e.type||"normal"}),o.addIODiagram({title:s})),Array.isArray(e.inputs)&&e.inputs.forEach((e=>{o.addInputPin({hostId:e.id,title:e.title,schema:e.schema,desc:e.desc})})),Array.isArray(e.outputs)&&e.outputs.forEach((e=>{o.addOutputPin({hostId:e.id,title:e.title,schema:e.schema,desc:e.desc})})),c&&!n.isDesnModeOfBluePrint()){let t=[];Array.isArray(e.events)&&(t=e.events),t.forEach((e=>{o.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))}n.pageMetaModel.addPage({id:r,title:s,type:e.type,slot:i,frame:o})}))}},72409:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function o(e,t){return i(this,void 0,void 0,(function*(){const n=yield e.config.pageContentLoader(t);let i;return n&&(Array.isArray(n)?(i=n[0],n.length>1&&(e.blueprint=n[1])):"object"==typeof n&&(i=n)),i||(i={title:"首页"}),i}))}},34146:(e,t,n)=>{"use strict";n.d(t,{CI:()=>g,D2:()=>m,Lw:()=>d,M2:()=>b,Re:()=>c,TT:()=>p,or:()=>f,p:()=>u,qo:()=>l,u9:()=>h,yd:()=>y});var i=n(91737),o=n(12261),r=n(56845),s=n(96966),a=n(58285);function l(e){const{emitCommand:t}=e;return{exec:(e,...n)=>t.exec(e,...n)}}function c(e){const{model:t}=e;return{getAll(){const e=t.mainModule.slot;if(e.slots.length>0)return e.slots.map((e=>({id:e.id,title:e.title,get style(){return e.style}})))}}}function d(e){const{desnContext:t,model:n,emitVariable:i,emitLocale:o,emitSnap:r,emitItem:s}=e;return{registerImpl(e){n.localeImpl=e},getAll:()=>o.getAll()}}function u(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAll:()=>o.getAll()}}function p(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAll(){const e=i.getAll();if(e){const t=e.varAry;if(Array.isArray(t))return t.map((e=>({id:e.id,title:e.title,notifyBindings(t){i.notifyBindings(e.id,t,!0)}})))}},add({title:e,schema:t,initValue:n,slotId:o}){i.add({title:e,schema:t,initValue:n,slotId:o})},update:(e,{title:t,schema:n,initValue:o})=>i.update(e,{title:t,schema:n,initValue:o}),remove:e=>i.remove(e)}}function f(e){const{desnContext:t,model:n}=e;return{loadContent(n){if(!(null==n?void 0:n.content))throw new Error("数据错误");(0,i.Hh)(n.content),setTimeout((n=>{e.model.designCostTime=0;const i=t.getPluginAry();i&&i.forEach((e=>{const n=t.getPluginData(e.namespace);e.data=n}))}))},dump(){const n=t.getPluginAry();return n&&n.forEach((e=>{"function"==typeof e.beforeDump&&e.beforeDump({data:t.getPluginData(e.namespace)})})),e.dump()},toJSON:t=>(0,o.U)(e,Object.assign({needClone:!0,ignoreComs:!0},t||{})),getGeoJSON:()=>function e(t){return{id:t.id,style:t.style.toJSON(),get comAry(){return t.comAry.map((t=>{const n=t.runtime,i=n.def;return{id:t.id,def:{namespace:i.namespace,version:i.version},get model(){return{style:n.model.style.toJSON(),data:n.model.data}},get slots(){if(t.slots){const n=[];return t.slots.forEach((t=>{n.push(e(t))})),n}}}}))}}}(n.mainModule.slot.slots[0])}}function h(e){const{desnContext:t,model:n,emitMessage:o,emitIOCAbout:l,emitSnap:c,emitItem:d}=e;function u(e,n,s){const{slots:a,data:u,connector:p,style:f,css:h}=s;if(a&&Array.isArray(a)&&(e.slots=[],a.forEach((t=>{e.addSlot((0,i.o8)(t,!0))}))),"object"==typeof u&&u)for(let t in u)e.data[t]=(0,i.o8)(u[t],!0);if("object"==typeof p&&p){let i;if(n.editors&&(i=n.editors.view||n.editors),i){const n=i["@connector"];if(n&&"object"==typeof n&&"function"==typeof n.set){const i=(0,r.QY)({comId:e.id,context:t,emitItem:d,emitMessage:o,emitIOCAbout:l,emitSnap:c,model:e});n.set(i,p)}}}if(f&&"object"==typeof f){const t=e.style;for(let e in f)t[e]=f[e]}Array.isArray(h)&&h.forEach((t=>{t&&"object"==typeof t&&t.selector&&t.css&&e.style.addStyle(t.selector,t.css)}))}return{forEachCom(t){(0,a.I)(t,e)},getAllComDef:()=>t.getAllComDef(),getComDefAryBySchema:e=>t.getComDefAryByConnectorSchema(e),addComDef(e){t.addComDef(e)},getComInstance(e){if("number"==typeof e){const t=n.mainModule.slot.slots[0].comAry[e];if(t)return{id:t.id,setData(e){if("object"==typeof e&&e)for(let n in e)t.data[n]=e[n]}}}},dragToAddInstance(e,n){if(e&&n.namespace){const i=t.getComDef(n);if(i)return(0,r.AH)(i,e,{onCompleted(e){u(e,i,n)}}),!0}},addInstance(e){if("object"==typeof e&&e.namespace){const n=t.getComDef(e);if(n){const t=new s.Al(n),i=c.start("add component"),o=d.add({seedModel:t,state:"finish"},{indeed:!0});let r;Array.isArray(o)&&o.length>1&&(r=o[0]),u(r,n,e),i.commit()}}},getAll(){function e(n){return{type:"slot",id:n.id,title:n.title,style:n.style.toJSON(),get comAry(){return n.comAry.map((n=>{const i=n.runtime,o=i.def,r=t.getComDef(o);return{id:n.id,title:i.title,def:{namespace:o.namespace,version:o.version,title:r.title,version:r.version},get style(){return i.model.style.toValues(["width","height"])},get model(){return{css:i.model.style.styleAry,data:i.model.data}},get slots(){if(n.slots){const t=[];return n.slots.forEach((n=>{t.push(e(n))})),t}},get dom(){return n.$el},get spm(){return{get:()=>i.model.spm}}}}))}}}return n.mainModule.slot.slots.map((t=>e(t)))}}}function m(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{setComThemes(e){Array.isArray(e)&&e.length>0&&n.setComThemes(e)},updateComThemes(){},clearComThemes(){n.clearComThemes()},setCSSVar(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const i=n._cssVars.find((t=>t.name===e));i?i.value=t:n._cssVars.push({name:e,value:t})},getCSSVar(e){const t=n._cssVars.find((t=>t.name===e));return t?t.value:void 0},removeCSSVar(e){const t=n._cssVars.find((t=>t.name===e));t&&n._cssVars.splice(n._cssVars.indexOf(t),1)},clearCSSVar(){n.clearCSSVar()}}}function g(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{add(t){e.addDomainModel(t)},update(t){e.updateDomainModel(t)},remove(t){e.removeDomainModel(t)},test:(t,n,i)=>e.testDomainModel(t,n,i)}}function y(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getById(e){var t;return null===(t=n.connectors)||void 0===t?void 0:t.find((t=>t.id===e))},getAllByType(e){var t;return null===(t=n.connectors)||void 0===t?void 0:t.filter((t=>t.type===e))},add(t){e.addConnector(t)},update(t){e.updateConnector(t)},remove(t){e.removeConnector(t)},test:(t,n)=>e.testConnector(t,n)}}function b(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAll:e=>n.dataSources,add(t){e.addDatasource(t)},update(t){e.updateConnector(t)},remove(t){e.removeConnector(t)},test:(t,n)=>e.testConnector(t,n)}}},33660:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(91737),o=n(56845),r=n(30063),s=n(85664);function a({title:e},t){const{desnContext:n}=t,a=n.configs.geoView,l=n.configs.toplView,c=(0,i.uR)(),d=new o.GJ({id:c,title:e,template:a.template});let u;return l&&(u=new r.lL({id:c,title:e,asDefault:!0}),(0,s.A)(u,{asMultiScenes:!0},t)),{slot:d,frame:u}}},23246:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(56845),o=n(91737),r=n(30063),s=n(96966),a=n(63021);function l(e){const{model:t,emitLogs:n,desnContext:l}=e;if(t.factModule){const c=t.mainModule,d="__blueprint-slot__";function u(e,t){e.runtime,e.runtime.isBluePrint&&e.slots&&e.slots.forEach((e=>{p(e,t)}))}function p(e,t){const n=e.comAry;n&&n.forEach((n=>{n.runtime.isBluePrint?u(n,t):(t.push(n),n[d]||Object.defineProperty(n,d,{get:()=>({comId:e.parent.id,slotId:e.id})}))}))}const f=(0,o.Bh)({mainModule:c},{uncompressed:!1,map(e,t,n){if(!n)return n;if("diagramAry"===t&&Array.isArray(n)){const e=[];return n.forEach(((t,n)=>{t instanceof r.DQ&&!t.isBluePrint&&e.push(t)})),e}if("comAry"===t&&Array.isArray(n)){const e=[];return n.forEach(((t,n)=>{t instanceof i.sz&&t.runtime.isBluePrint?u(t,e):e.push(t)})),e.length>0?e.filter((e=>e)):n}return e[d]&&"parent"===t?Object.assign({_type:"blueprint"},e[d]):e instanceof s.JX&&e.isBluePrint||e.runtime instanceof s.JX&&e.runtime.isBluePrint?void 0:n}});return{content:{[a.xH]:f}}}{const h=t.mainModule.slot;if((null==h?void 0:h.slots)&&h.slots.forEach((e=>{e.clearUpdated()})),t.modules)for(let m in t.modules)h.slots.find((e=>e.id===m))||(n.warn(`删除未定义的 模块[${m}].`),delete t.modules[m]);return{content:{[a.xH]:(0,o.Bh)(a.xH,{uncompressed:!1,map(e,t,n){if(e instanceof s.JX&&"model"===t){const t=e.def;if(t){const e=l.getComDef(t);if(e&&e.editors){const t=e.editors["@save"];if("function"==typeof t){const e=t({data:n.data});if(void 0!==e){return Object.assign(Object.assign({},n),{data:e})}}}}}return n}})}}}}},66777:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(91737),o=n(30063),r=n(63021),s=n(56845);function a(e){try{const{desnContext:t,model:n}=e,s=t.configs.isTypeOfMPA(),a=(t.pageMetaModel.openedPageAry||[]).map((e=>({id:e.id}))),c=function(e){const{model:t}=e,n=t.mainModule,{slot:s,frame:a}=n,l=(0,i.AF)(a),c=(0,i.Bh)(r.xH,{uncompressed:!1,map(e,t,n){var r;if(n!==(0,i.AF)(s.slots)){if(n===l.frames){return l.frames.filter((e=>{if("service"===e.bizType||e.isTypeOfFx()||e.isTypeOfExtension())return!0}))}if(!(e instanceof o.xc&&"conAry"===t))return n;{if(e.parent instanceof o.lL&&!e.parent.parent)return n;if(e.parent instanceof o.US&&e.parent.isGlobalVar())return;const t=(0,i.AF)(null===(r=e.parent)||void 0===r?void 0:r.parent);if(t&&t instanceof o.lL){if(l.frames.find((e=>{if(t===e)return!0})))return n}}}}});return{[r.xH]:c}}(e),d=[],u=[],p=[];n.mainModule.slot.slots.forEach((e=>{e.clearUpdated()}));const f=t.pageMetaModel.getPageAry();if(f){const t=t=>{if(t._upateTime&&!t._deleteTime){const n=l(t,e);n&&d.push({id:t.id,title:t.title,type:t.type,content:n})}else t._deleteTime&&u.push({id:t.id,title:t.title,type:t.type})},n=t=>{let n=!1;if(t._upateTime&&!t._deleteTime?n=!0:t.scenes&&t.scenes.find((e=>{if(e._upateTime||e._deleteTime)return n=!0,!0})),n){const n=l(t,e);n&&d.push({id:t.id,title:t.title,type:t.type,content:n})}};f.forEach(((e,i)=>{var o;e._deleteTime||p.push({id:e.id,title:e.title,type:e.type,scenes:null===(o=e.scenes)||void 0===o?void 0:o.map((e=>({id:e.id,title:e.title,type:e.type})))}),s?n(e):(t(e),e.scenes&&e.scenes.forEach((e=>{t(e)})))}))}return{json:{pageAry:p,openedPageAry:a,updatedPageAry:d,deletedPageAry:u,projectContent:c},reset(){t.pageMetaModel.reset()}}}catch(e){console.error(e)}}function l(e,t){const{model:n}=t,r=n.mainModule,a=r.frame,l=e.id;let c=e.slot,d=e.frame;c||(c=r.slot.searchSlot(l)),d||(d=r.frame.searchFrame(l));return(0,i.Bh)({slot:c,frame:d},{map(e,t,n){if(n===(0,i.AF)(c.parent))return;const l=(0,i.AF)(a);if(n!==(0,i.AF)(r.slot)&&n!==l){if(e instanceof s.sz&&"proxySlot"===t)return{_todo_:!0,id:n.id};if(d){if(n===(0,i.AF)(d.parent))return;if(e instanceof o.US&&e.isModule()&&"ioProxyForCall"===t){const t=e.ioProxyForCall;if(!(null==t?void 0:t.frame))return;return{_todo_:!0,frameId:t.frame.id}}if(e instanceof o.US&&e.isSceneOpen()&&"ioProxyForCall"===t){const t=e.ioProxyForCall;if(!t)return;return{_todo_:!0,frameId:t.sceneId,_inputs:t._inputs,_outputs:t._outputs}}if(e instanceof o.th&&e.isVar()&&"forkedFrom"===t&&n.isGlobalVar()){const t=e.forkedFrom;return{_todo_:!0,comId:t.id,def:t.runtime.def}}if(e instanceof o.US&&e.isFx()&&"ioProxy"===t&&l.frames.indexOf(n)>=0)return{_todo_:!0,frameId:n.id};if("proxyPin"===t&&e instanceof o.xc&&l.frames.indexOf(n.parent)>=0){return(0,i.AF)(e.getRoot())===n.parent?n:{_todo_:!0,pinId:n.id,pinHostId:n.hostId,frameId:n.parent.id}}if("proxyForPin"===t&&e instanceof o.xc&&l.frames.indexOf(n.parent)>=0)return{_todo_:!0,pinId:n.id,pinHostId:n.hostId,frameId:n.parent.id}}return n}}})}},85664:(e,t,n)=>{"use strict";function i(e,{asMultiScenes:t},n){var i;const{desnContext:o}=n,r=null===(i=o.configs.toplView.cards)||void 0===i?void 0:i.main;r&&!o.isDesnModeOfBluePrint()&&(e.addIODiagram({title:e.title||r.title}),Array.isArray(r._inputs)&&r._inputs.forEach((t=>{e.add_InputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r.inputs)&&r.inputs.forEach((t=>{e.addInputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r._outputs)&&r._outputs.forEach((t=>{e.add_OutputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r.outputs)&&r.outputs.forEach((t=>{e.addOutputPin({id:t.id,hostId:t.id,title:t.title,type:t.type,schema:t.schema})}))),t&&(e.diagramAry.find((e=>e.isGlobal))||e.addIODiagram({title:e.title}))}n.d(t,{A:()=>i})},37644:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(91737),o=n(30063);function r(e,t){if(e.content){const n=(0,i.iu)(e.content);if(n){const{slot:o,frame:r}=n;o&&(s(o,t),o.slots&&o.slots.forEach((e=>{s(e,t)}))),r&&(a(r,t),r.frameAry&&r.frameAry.forEach((e=>{a(e,t)}))),function(e,t,n){const{desnContext:o}=n;if(o.configs.isTypeOfMPA()){(0,i.uR)();if(e&&e.slots){const t=o.pageMetaModel.getPageById(e.id);t&&(t.scenes=e.slots.map((e=>({id:e.id,title:e.title,type:e.isShowTypeOfPopup()?"popup":"normal"}))))}}}(o,0,t);const l=t.desnContext.pageMetaModel;if(l){const e=l.getPageById(r.id);r.isTypeOfPopup()&&"popup"!==e.type&&(e.type="popup")}return{id:e.id,content:n}}}}function s(e,t){const{model:n}=t,i=n.mainModule.slot;e.comAry&&e.comAry.forEach((e=>{if(e.isModule()){if(!e.proxySlot)return;if(e.proxySlot._todo_){const{id:t}=e.proxySlot;setTimeout((n=>{const o=i.searchSlot(t);e.proxySlot=o}))}}e.slots&&e.slots.forEach((e=>{s(e,t)}))}))}function a(e,t){const{model:n}=t,i=n.mainModule.frame;e.frameAry&&e.frameAry.forEach((e=>{a(e,t)})),e.comAry&&e.comAry.forEach((e=>{var n,o;if(e.frames&&e.frames.forEach((e=>{a(e,t)})),e.isModule()){if(!e.ioProxyForCall)return;if(e.ioProxyForCall._todo_){const{frameId:t}=e.ioProxyForCall;setTimeout((n=>{const o=i.getFrame(t);e.ioProxyForCall={frame:o},e._inputPins.length>0&&e._inputPins.forEach((e=>{var t;if((null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)&&o){const{frameId:t,pinId:n}=e.proxyPin,i=o.searchPin(n);e.proxyPin=i}})),e._outputPins.length>0&&e._outputPins.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(o){const{frameId:t,pinId:n}=e.proxyForPin,i=o.searchPin(n);e.proxyPin=i}else e.proxyPin=void 0}))}))}}if(e.isSceneOpen()&&(null===(n=e.ioProxyForCall)||void 0===n?void 0:n._todo_)){const{frameId:t}=e.ioProxyForCall,n=i.getFrame(t);e.ioProxyForCall.frame=n,e._inputPins.length>0&&e._inputPins.forEach((e=>{var t;if((null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)&&n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}})),e.outputPinsInModel.length>0&&e.outputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0}))}if(e.isFx()&&(null===(o=e.ioProxy)||void 0===o?void 0:o._todo_)){const{frameId:t}=e.ioProxy,n=i.getFrame(t);e.ioProxy=n,e.inputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyForPin=o}else e.proxyForPin=void 0}))}})),e.diagramAry&&e.diagramAry.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{if(e instanceof o.th&&e.forkedFrom._todo_){const t=i.searchCom(e.forkedFrom.comId);if(t){e.forkedFrom=t;e.getInputsAllAry().forEach((e=>{const n=t.inputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}));e.getOutputsAllAry().forEach((e=>{const n=t.outputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}))}}}))}))}},12261:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var i=n(27883),o=n(91737),r=n(72813),s=n(65600),a=n(21400);function l(e,t){var n,r,l,d,u,p;const{model:f,desnContext:h}=e,m=null===(n=f.mainModule.slot)||void 0===n?void 0:n.slots,g=null===(r=f.mainModule.frame)||void 0===r?void 0:r.frames,y=(0,o.AF)(m),b=(0,o.AF)(g);let v;const x=h.configs,A=null===(l=x.geoView)||void 0===l?void 0:l.scenes;if((null==t?void 0:t.onlyDiff)&&(t.onlyDiff={getComDef:h.getComDef}),A){const n=(0,o.AF)(f.mainModule.frame);v={themes:{cssVars:(0,o.AF)(f.themes),comThemes:(0,o.AF)(f.comThemes)},permissions:(0,o.AF)(f.permissions),global:(0,i.mv)(n,t),scenes:[]};const r=(0,o.AF)(f.modules);if(r){const e={};for(let t in r){const n=r[t];n.deleted||y.find((e=>e.id===t))&&(e[t]=n)}v.modules=e}(null===(d=h.configs.toplView)||void 0===d?void 0:d.useService)&&(v.services=(0,i.uS)(n,t));const s=x.isTypeOfMPA(),a=(n,r)=>{if(v.scenes.find((e=>e.id===n.id)))return;r&&c(r,e),n.beforeToJSON();const s=(0,i.F8)({slot:(0,o.AF)(n),frame:(0,o.AF)(r)},t);v.scenes.push(s)};null==y||y.forEach(((e,n)=>{var i;if((null==t?void 0:t.ignoreComs)&&(e.isTypeOfDefinedCom()||e.isTypeOfModule()))return;let o;b&&(o=b.find((t=>t.id===e.id)),o||(o=b[n])),s||a(e,o),(null===(i=e.slots)||void 0===i?void 0:i.length)>0?e.slots.forEach(((e,t)=>{const n=null==o?void 0:o.frameAry.find((t=>{if(t.id===e.id)return t}));a(e,n)})):e.isTypeOfModule()&&a(e,o)}))}else{const e=null==b?void 0:b[0];v=(0,i.F8)({slot:y?(0,o.AF)(y[0]):void 0,frame:(0,o.AF)(null==b?void 0:b[0]),global:e?(0,i.mv)((0,o.AF)(e)):void 0},t)}const w=null===(u=h.configs)||void 0===u?void 0:u.plugins;if(w){const e={};w.forEach((t=>{if("function"==typeof t.toJSON){const n=h.getPluginData(t.namespace||t.name);e[t.namespace]=t.toJSON({data:n})}})),v.plugins=e}const E=null===(p=h.configs.toJSON)||void 0===p?void 0:p.after;if("function"==typeof E)return E(v);(null==t?void 0:t.onlyDiff)&&(v._v="2024-diff"),h.configs.isTypeOfMPA()?v.type="mpa":v.type="spa";let C=v;return"function"==typeof s.transformToJSON&&(C=(0,s.transformToJSON)(v)),(null==t?void 0:t.withDiagrams)&&f.mainModule.frame&&(C.frames=(0,a.A)(f.mainModule.frame)),C}function c(e,t){const{desnContext:n}=t;e.frameAry&&e.frameAry.forEach((e=>{c(e,t)})),e.comAry&&e.comAry.forEach((e=>{const i=n.getComDef(e.runtime.def);if(i){const n=i.editors;if(n){const i=n["@toJSON"];if("function"==typeof i){const n=i({data:e.runtime.model.data,scenes:{dump(e){const n=t.model.mainModule.slot.getSlot(e);if(n)return(0,r.C)(n,t)}}});n&&(e.runtime.modelForToJSON=n)}}}e.frames&&e.frames.forEach((e=>{c(e,t)}))}))}},21400:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(30063);function o(e){const t=[];return t.push({type:"global",diagrams:o(e.diagramAry)}),(null==e?void 0:e.frames)&&e.frames.forEach((e=>{if(e.diagramAry.length>0){const i=n(e);t.push(i)}})),t;function n(e){let t;const r=[],s=[],a={},l=[];let c,d=[];return c=e.parent instanceof i.lL?e.isTypeOfFx()?"fx":"frame":e.parent instanceof i.US?"com":e.isTypeOfFx()?"globalFx":e.hostFrameId?"frame":"root",e.inputPins&&e.inputPins.forEach((t=>{e.parent&&(e.parent.id,e.id);r.push({pinId:t.hostId,title:t.title,type:t.type,schema:t.schema,extValues:t.extValues})})),e.outputPins&&e.outputPins.forEach((e=>{s.push({id:e.hostId,title:e.title,type:e.type,schema:e.schema})})),e.frameAry&&e.frameAry.forEach((e=>{if(e.diagramAry.length>0){const t=n(e);l.push(t)}})),e.comAry&&e.comAry.forEach((e=>{var i;if((null===(i=e._exeInfo)||void 0===i?void 0:i.errorMsg)&&(t=!0),e.frames){const t=a[e.id]={id:e.id,title:e.runtime.title,namespace:e.runtime.def.namespace,version:e.runtime.def.version,frames:[]};e.frames.forEach((e=>{const i=n(e);t.frames.push(i)}))}})),d=o(e.diagramAry),{id:e.id,title:e.diagramAry[0].title,type:c,hasError:t,coms:a,autoRunComs:{},inputs:r,outputs:s,frames:l,diagrams:d}}function o(e){if(e){const t=[];return e.forEach((e=>{let n;const o=[],r=[],s=[];if(e.isVar)n={type:"var",comId:e.varCom.id,pinId:"changed"};else if(e.startWithCom){let t=e.startWithCom.outputPins;t.length<=0&&(t=e.startWithCom.outputPinsInModel),t.length>0&&(n={type:"com",comId:e.startWithCom.id,pinId:t[0].hostId})}else if(e.startWithOutput)n={type:"frame",frameId:e.startWithOutput.parent.id,pinId:e.startWithOutput.hostId};else{const t=e.parent;n={type:"frame",frameId:t.id,pinAry:t.inputPins.map((e=>({id:e.hostId,title:e.title,type:e.type})))}}const a={id:e.id,title:e.title,createTime:e.createTime,updateTime:e.updateTime,updated:e.updated,starter:n,conAry:o,runtimeBefore:r,runtimeAfter:s};e.conAry&&e.conAry.forEach((e=>{const t=e.startPin,n=t.parent,r=e.finishPin,s=r.parent,a=e.startPin.parent._key,l=e.finishPin.parent._key,c=r.type;o.push({id:e.id,title:e.title,startPinParentKey:a,finishPinParentKey:l,from:{id:t.hostId,title:t.title,parent:{type:n instanceof i.US?"com":"frame",id:n.id}},to:{id:r.hostId,title:r.title,type:c,parent:{type:s instanceof i.US?"com":"frame",id:s.id}}})})),e.runtimeBefore&&e.runtimeBefore.forEach((e=>{const t=e.parent;r.push(`${t.id}/${e.id}`)})),e.runtimeAfter&&e.runtimeAfter.forEach((e=>{const t=e.parent;s.push(`${t.id}/${e.id}`)})),t.push(a)})),t}}}},59980:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var i=n(96966),o=n(91716);let r;function s(e,t){r=t;const{desnContext:n,model:i}=r;if(n.configs.isTypeOfMPA());else{const{ui:t,interactions:n}=e;Array.isArray(t)&&t.forEach((e=>{!function(e){const{model:t}=r,n=t.mainModule.slot,i=t.mainModule.frame,o=n.addSlot({id:e.id,title:e.title}),s=i.addFrame({id:e.id,title:e.title,type:"normal"});if(s.addIODiagram({title:e.title}),e.style){const t=o.style;for(let n in e.style)t[n]=e.style[n]}e.comAry&&e.comAry.forEach(((e,t)=>{a(e,null,o)}))}(e)}))}}function a(e,t,n){const{desnContext:s,model:a,emitItem:c}=r,d=a.mainModule.slot,u=s.getComDef({namespace:e.namespace});if(!u)return!1;const p=new i.Al(u);p.runtime.id=e.id,p.name=e.name,c.add({seedModel:p,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==n?void 0:n.id},{withoutInit:!0,noFocus:!0,indeed:!0});const f=d.searchCom(p.id);if(e.title&&(f.runtime.title=e.title),e.data){const t=f.runtime.model.data;(0,o.h1)(e.data,t)}if(e.style){const t=f.style;for(let n in e.style)t[n]=e.style[n]}if(e.slots)for(let t in e.slots){l(e.slots[t],f)}}function l(e,t){let n;if(t.slots&&(n=t.slots.find((t=>t.id===e.id))),n||(n=t.addSlot({id:e.id,title:e.title,type:e.type})),e.interactions){const n=t.runtime.topl;if(!n.getFrame(e.id)){const t=n.addIOFrame({id:e.id,title:e.title,inputs:e.interactions.inputs,outputs:e.interactions.outputs});n.frames||(n.frames=[]),n.frames.push(t)}}e.comAry&&e.comAry.forEach((e=>{a(e,t,n)}))}},52540:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var i=n(96966),o=n(30063);let r;function s(e,t){r=t;const{desnContext:n,model:i}=r,o=i.mainModule.frame;if(n.configs.isTypeOfMPA());else{const{ui:t,interactions:n}=e;if(n){const{scenes:e}=n;Array.isArray(e)&&e.forEach((e=>{a(e,o.searchFrame(e.id))}))}}}function a(e,t){const{desnContext:n}=r;e.comAry&&e.comAry.forEach(((e,n)=>{const i=t.searchCom(e.id);Array.isArray(e.frameAry)&&e.frameAry.forEach((e=>{a(e,i.getFrame(e.id))}))})),e.diagrams&&e.diagrams.forEach((e=>{if("event"===e.type&&e.from){const s=e.from.com,a=t.searchCom(s.id),c=t.addDiagramWithStartCom(e.title,a,{outputs:[s.pinId]}),d=c.startWithCom;d._key=a._key,d.synchronizeInputs(),d.synchronizeOutputs(),e.comAry&&e.comAry.forEach((e=>{const s=t.searchCom(e.id);if(s){if(s.runtime.hasUI()&&!c.searchCom(e.id)){const t={};e.inputs&&(t.inputs=e.inputs.map((e=>e.id))),e.outputs&&(t.outputs=e.outputs.map((e=>e.id)));const n=c.addCom(s,{x:e.style.left,y:e.style.top},t);n.synchronizeInputs(),n.synchronizeOutputs()}}else{let s;if("js"===e.type)s=l(e,t);else if("scene"===e.type){const t=n.getComDef({namespace:i.ZD.coms.scenes}),a=function(e){const{model:t}=r;return t.mainModule.frame.searchFrame(e)}(e.data._sceneId),l=new i.Al(t,!1,a.title);let c;l.runtime.id=e.id,l.name=e.name,c="popup"===a.type?{sceneId:a.id,_inputs:{_open:"open"},outputs:i.oj}:{sceneId:a.id,_inputs:{_open:"open"}},s=new o.US(l,t,{proxyForCall:c,inputs:["open"]}),s.runtime.topl=e,s.runtime.model.data._sceneId=a.id,s.runtime.model.data._sceneShowType=a.type}s&&(s=c.addCom(s,{x:e.style.left,y:e.style.top}))}})),e.connections&&e.connections.forEach((e=>{const{from:t,to:n}=e,i=c.searchCom(t.com.id),r=c.searchCom(n.com.id);if(i&&r){const e=i.searchPinByHostId(t.pin.id,"outputs"),s=r.searchPinByHostId(n.pin.id,"inputs"),a=o.E$.create(e,{x:t.pin.position.x,y:t.pin.position.y},s,{x:n.pin.position.x,y:n.pin.position.y});c.addConnection(a)}}))}}))}function l(e,t){const{desnContext:n,model:o,emitItem:s}=r,a=n.getComDef({namespace:e.namespace});if(!a)return!1;const l=new i.Al(a);l.runtime.id=e.id,l.name=e.name,s.add({seedModel:l,toSlotId:t.id,state:"finish"},{withoutInit:!0,noFocus:!0,indeed:!0});const c=t.searchCom(l.id);if(e.title&&(c.runtime.title=e.title),e.data){const t=c.runtime.model.data;for(let n in e.data)t[n]=e.data[n]}return c}},24083:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var i=n(59980),o=n(52540);function r(e,t){const{desnContext:n,model:r}=t;n.configs.isTypeOfMPA()||(console.log(JSON.stringify(e)),(0,i.g)(e,t),(0,o.K)(e,t))}},62726:(e,t,n)=>{"use strict";function i(e){return!!e&&(!!e.mainModule&&!!e.mainModule.frame)}n.d(t,{I:()=>i})},67124:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});function i(e){if(!e||!e.getBoundingClientRect)return console.warn("getEditableCssPropertiesByElement failed，because selectDom is not valid",e),[];const t=o(e),n=r(e),i=[];return n.disableWidth||i.push("width"),n.disableHeight||i.push("height"),t.disableMarginTop||i.push("marginTop"),t.disableMarginBottom||i.push("marginBottom"),t.disableMarginLeft||i.push("marginLeft"),t.disableMarginRight||i.push("marginRight"),i}function o(e){const t=window.getComputedStyle(e);return"table-header-group"===t.display||"table-row"===t.display||"table-cell"===t.display||"absolute"===t.position||"fixed"===t.position||"sticky"===t.position?{disableMarginLeft:!0,disableMarginRight:!0,disableMarginTop:!0,disableMarginBottom:!0}:"inline"===t.display?{disableMarginLeft:!1,disableMarginRight:!1,disableMarginTop:!0,disableMarginBottom:!0}:{disableMarginLeft:!1,disableMarginRight:!1,disableMarginTop:!1,disableMarginBottom:!1}}function r(e){const t=window.getComputedStyle(e);if("inline"===t.display)return{disableWidth:!0,disableHeight:!0};const n=e.parentElement;if(n){const e=window.getComputedStyle(n);if("flex"===e.display&&(!isNaN(parseFloat(t.flexGrow))&&parseFloat(t.flexGrow)>0||!["0","1"].includes(t.flexShrink)||!["auto"].includes(t.flexBasis))){const t=e.flexDirection.includes("column");return{disableWidth:!t,disableHeight:!!t}}}return{disableWidth:!1,disableHeight:!1}}},59943:(e,t,n)=>{"use strict";n.d(t,{i:()=>i.i});var i=n(67124)},68104:(e,t,n)=>{"use strict";n.d(t,{i:()=>i.i});var i=n(59943)},80918:(e,t,n)=>{"use strict";n.d(t,{F2:()=>a,T8:()=>o,Uu:()=>r,dp:()=>i,h6:()=>s});const i="mybricks.core-comlib.fn",o="mybricks.core-comlib.scenes",r="mybricks.core-comlib.var",s="mybricks.core-comlib.selection",a="mybricks.core-comlib.module"},27883:(e,t,n)=>{"use strict";n.d(t,{AH:()=>s.A,F8:()=>c,mv:()=>a,uS:()=>l});var i=n(32979),o=n(79040),r=n(29070),s=n(30362);function a(e,t){return(0,o.U)(e,t||{})}function l(e,t){return(0,r.U)(e,t||{})}function c(e,t){if(null==t?void 0:t.forMPA){const{slot:n,frame:o}=e,r=[(0,i.U2)({slot:n,frame:o},t||{})];return n.slots&&n.slots.length>0&&n.slots.forEach(((e,n)=>{const s=null==o?void 0:o.frameAry.find((t=>{if(t.id===e.id)return t}));r.push((0,i.U2)({slot:e,frame:s},t||{}))})),r}return(0,i.U2)(e,t||{})}},86023:(e,t,n)=>{"use strict";function i(e,{data:t}){if("mybricks.normal-pc.form-container"===e){const e={};for(const n in t)e[n]="items"===n?[]:t[n];return e}return t}n.d(t,{s:()=>i})},48948:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var i=n(86023);function o(e){const t=e=>{if(e.comAry){const n=[];e.comAry.forEach((e=>{const o=e.runtime,r=o.def,s=o.model;let a;e.slots&&(a={},e.slots.forEach((e=>{a[e.id]=t(e)})));const l={id:o.id,name:e.name,title:o.title,namespace:r.namespace,version:r.version,style:s.style,data:s.data,slots:a};l.data=(0,i.s)(r.namespace,{data:s.data}),n.push(l)}));const o=e.style.widthFact,r=e.style.heightFact,s=Object.assign({},e.style,{width:o,height:r}),a={id:e.id,title:e.title,type:e.type,showType:e.showType,comAry:n,style:s};if("scope"===e.type&&e.parent.runtime){const t=e.parent.runtime.topl;if(t){const n=t.frames.find((t=>t.id===e.id));if(n){const e={};if(n.inputPins){const t=[];n.inputPins.forEach((e=>{t.push({id:e.id,hostId:e.hostId,title:e.title,direction:e.direction,schema:e.schema})})),e.inputs=t}if(n.outputPins){const t=[];n.outputPins.forEach((e=>{t.push({id:e.id,hostId:e.hostId,title:e.title,direction:e.direction,schema:e.schema})})),e.outputs=t}a.interactions=e}}}return a}};let n;return e&&(n=t(e)),n}},54338:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var i=n(80918);function o(e){const t={scenes:[]};return e.frames&&e.frames.forEach((e=>{const n=r(e);n&&t.scenes.push(n)})),t}function r(e){var t,n;const o=[],s=[],a=[],l=[],c=[];let d;if(d=0===(null===(t=e.parent)||void 0===t?void 0:t._type)?e.isTypeOfFx()?"fx":"frame":(null===(n=e.parent)||void 0===n?void 0:n.runtime)?"com":"scene",e.inputPins&&e.inputPins.forEach((e=>{o.push({pinId:e.hostId,title:e.title,type:e.type,schema:e.schema,extValues:e.extValues})})),e.outputPins&&e.outputPins.forEach((e=>{s.push({id:e.hostId,title:e.title,type:e.type,schema:e.schema})})),e.frameAry&&e.frameAry.forEach((e=>{if(e.diagramAry.length>0){const t=r(e);a.push(t)}})),e.diagramAry&&e.diagramAry.forEach((e=>{const t=function(e){if(e.conAry.length<=0)return;const t=[],n=[],o={id:e.id,title:e.title,comAry:t,connections:n};e.startWithCom&&(o.type="event",o.from={com:{id:e.startWithCom.id,title:e.startWithCom.runtime.title,pinId:e.startWithCom.outputPins[0].hostId}});e.comAry.length>0&&e.comAry.forEach((e=>{let n;n=e.runtime.geo?"ui":e.runtime.def.namespace===i.T8?"scene":e.runtime.def.namespace===i.Uu?"var":e.runtime.def.namespace===i.dp?"fx":"js";const o=function(e){const t=[];e.inputPins&&e.inputPins.forEach((e=>{t.push({id:e.hostId,title:e.title})}));e.inputPinsInModel&&e.inputPinsInModel.forEach((e=>{t.push({id:e.hostId,title:e.title})}));e.inputPinExts&&e.inputPinExts.forEach((e=>{t.push({id:e.hostId,title:e.title})}));return t}(e),r=function(e){const t=[];e.outputPins&&e.outputPins.forEach((e=>{t.push({id:e.hostId,title:e.title})}));e.outputPinsInModel&&e.outputPinsInModel.forEach((e=>{t.push({id:e.hostId,title:e.title})}));e.outputPinExts&&e.outputPinExts.forEach((e=>{t.push({id:e.hostId,title:e.title})}));return t}(e),s={id:e.id,title:e.runtime.title,namespace:e.runtime.def.namespace,type:n,style:e.style,inputs:o,outputs:r};e.runtime.hasUI()||(s.data=e.runtime.model.data),t.push(s)}));return e.conAry.forEach((e=>{const t=e.startPin,i=e.finishPin,o={from:{com:{id:t.parent.id,title:t.parent.runtime.title},pin:{id:t.hostId,title:t.title,position:e.startPo}},to:{com:{id:i.parent.id,title:i.parent.runtime.title},pin:{id:i.hostId,title:i.title,position:e.finishPo}}};n.push(o)})),o}(e);t&&l.push(t)})),e.comAry&&e.comAry.forEach((e=>{const t=function(e){if(e.frames){const t=[];if(e.frames.forEach((e=>{const n=r(e);n&&t.push(n)})),t.length>0){return{id:e.id,title:e.runtime.title,frameAry:t}}}}(e);t&&c.push(t)})),l.length<=0&&a.length<=0&&c.length<=0)return;const u={id:e.id,title:e.diagramAry[0].title,type:d};return c.length>0&&(u.comAry=c),l.length>0&&(u.diagrams=l),e.comAry&&c.length>0&&(u.comAry=c),a.length>0&&(u.frames=a),u}},30362:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(48948),o=n(54338);function r(e){if(e){const{slot:t,frame:n}=e,r={},s=t.slots.map((e=>(0,i.s)(e)));r.ui=s;const a=(0,o.D)(n);return r.interactions=a,r}}},29070:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var i=n(32979);function o(e,t){const n={},o={},r={},s=[];return e.frames&&e.frames.forEach((e=>{if("service"===e.bizType){const n=(0,i.t$)(e,{},t);s.push(n)}})),{comsReg:{},consReg:n,pinRels:o,pinProxies:r,frames:s}}},79040:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var i=n(27967),o=n(32979);function r(e,t){const n={},r={},s={},a={},l=[],c=(e,n)=>{if(e.proxyPin)if(e.proxyPin._todo_){const{frameId:t,pinId:i,pinHostId:o}=e.proxyPin;a[`${n}-${e.hostId}`]={type:"frame",frameId:t,pinId:o}}else{const t=e.proxyPin.parent;if(t&&0===t._type){const i=t.id;a[`${n}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}if(e.conAry){const i=[];if(e.conAry.forEach((e=>{var n,o,r,s,a;let l;const d=e.finishPin;if(!d)return;if(i.find((t=>t.id===e.id)))return;let u;d.parent.timerInputPin&&(u=d.parent.timerInputPin.id);const p=e.parent.parent;p&&(l=p.parent?1===p.parent._type?`${p.parent.runtime.id}-${p.id}`:`${p.id}`:"_rootFrame_");const f=d.parent;if(1===f._type){const n=d.forkedFrom||d,o=f.forkedFrom||f,r=e.startPin.parent._key,s=e.finishPin.parent._key;i.push({id:e.id,type:"com",frameKey:l,startPinParentKey:r,finishPinParentKey:s,comId:o.runtime.id,def:o.runtime.def,timerPinInputId:u,pinId:n.hostId,pinType:n.type,direction:n.direction,extBinding:n.extBinding,isIgnored:(null==t?void 0:t.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==t?void 0:t.forDebug)?e.isBreakpoint:void 0})}else{const u=d.forkedFrom||d,p=u.parent;if(0===p._type){const d=u.forkedAsJoint;if(d){const s=(null===(n=d.from)||void 0===n?void 0:n.hostId)||d.hostId,a=null===(o=e.startPin.parent)||void 0===o?void 0:o._key,u={id:e.id,type:"frame",frameKey:l,startPinParentKey:a,frameId:p.id,comId:null===(r=p.parent)||void 0===r?void 0:r.runtime.id,pinId:s,pinType:"joint",direction:d.direction,isIgnored:(null==t?void 0:t.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==t?void 0:t.forDebug)?e.isBreakpoint:void 0};i.push(u);const f=`${u.comId?u.comId+"-":""}${u.frameId}`;c(d,f)}else{const n=null===(s=e.startPin.parent)||void 0===s?void 0:s._key,o=1===(null===(a=p.parent)||void 0===a?void 0:a._type)?p.parent.runtime.id:void 0;i.push({id:e.id,type:"frame",frameKey:l,startPinParentKey:n,frameId:p.id,comId:o,pinId:u.hostId,pinType:u.type,direction:u.direction,isIgnored:(null==t?void 0:t.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==t?void 0:t.forDebug)?e.isBreakpoint:void 0})}}}})),i.length>0){let t;t=e.from&&e.from.hostId?e.from.hostId:e.hostId,r[`${n}-${t}`]=i}}};return e&&(e.varComAry&&e.varComAry.forEach((e=>{const o=e.runtime,r=o.def,l=[],d=[],u=o.geo,p=(null==t?void 0:t.needClone)?JSON.parse(JSON.stringify(o.model)):o.model;n[o.id]={id:o.id,def:r,title:o.title,model:p,reservedEditorAry:u?u.reservedEditorAry:void 0,configs:[],inputs:l,outputs:d},i.__((e=>{((e,t)=>{if(e.rels&&(s[`${t}-${e.hostId}`]=e.rels),e.proxyPin)if(e.proxyPin._todo_){const{frameId:n,pinId:i,pinHostId:o}=e.proxyPin;a[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:o}}else{const n=e.proxyPin.parent;if(n&&0===n._type){const i=n.id;a[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}})(e,o.id),l.push(e.hostId)}),e.inputPins,e.inputPinsInModel,e.inputPinExts),i.__((e=>{c(e,o.id),d.push(e.hostId)}),e.outputPins,e.outputPinsInModel,e.outputPinExts,e.outputPinNexts)})),e.frames&&e.frames.forEach((e=>{if(!e.bizType||"ui"===e.bizType){if("fx"===e.type){const n=(0,o.t$)(e,{},t);l.push(n)}if("extension"===e.type){const n=(0,o.t$)(e,{},t);l.push(n)}}}))),{comsReg:n,consReg:r,pinRels:s,pinProxies:a,fxFrames:l}}},32979:(e,t,n)=>{"use strict";n.d(t,{U2:()=>a,t$:()=>l});var i=n(27967),o=n(43855),r=n(44711),s=n(80918);function a({slot:e,frame:t},n){const i=[],r={};let a,c;return e&&(a=function(e,{depsReg:t,comsReg:n},i,o){let r;const a=e=>{if(e.comAry){const r=[];e.comAry.forEach((e=>{var l;const c=e.runtime;if(!i){const i=c.def;if(i.namespace===s.h6)return;if(i.namespace===s.F2){const n=e.proxySlot.id;t.find((e=>e.namespace===i.namespace&&e.version===i.version&&e.moduleId===n))||t.push(Object.assign(Object.assign({},i),{moduleId:n}))}else t.find((e=>e.namespace===i.namespace&&e.version===i.version))||t.push(i);const r=o.needClone?JSON.parse(JSON.stringify(c.model)):c.model,a={},d=null===(l=c.geo.parent)||void 0===l?void 0:l.style;"absolute"!==(null==d?void 0:d.layout)&&"smart"!==(null==d?void 0:d.layout)||(delete r.style.marginTop,delete r.style.marginRight,delete r.style.marginBottom,delete r.style.marginLeft),r.style?("absolute"===r.style.position&&(a.position="absolute"),a.width=r.style.widthFact,a.height=r.style.heightFact):r.style={},n[c.id]={id:c.id,def:i,name:e.name,title:c.title,style:a,model:r}}let d;if(e.slots&&(d={},e.slots.forEach((e=>{const t=a(e);t&&(d[e.id]=t)}))),c.topl){const e=c.topl;e.frames&&e.frames.forEach((e=>{d=d||{},d[e.id]||(d[e.id]={id:e.id,title:e.title,type:e.type,comAry:[],style:{}})}))}r.push({id:e.runtime.id,name:e.name,def:e.runtime.def,slots:d})}));const l=e.style.widthFact,c=e.style.heightFact,d=Object.assign({},e.style,{width:l,height:c});return delete d.left,delete d.top,delete d.zoom,delete d.marginLeft,delete d.marginRight,{id:e.id,title:e.title,type:e.type,showType:e.showType,layoutTemplate:e.layoutTemplate,comAry:r,style:d}}};e&&(r=a(e));return r}(e,{depsReg:i,comsReg:r},t,n)),t&&(c=l(t,{depsReg:i,comsReg:r},n)),Object.assign({"-v":o.rE,deps:i,coms:r},c||{},a?{id:a.id,title:a.title,slot:a}:{})}function l(e,t,n){const a=t.depsReg||[],l=t.comsReg||{},d=[],u=[],p=[],f=[],h={},m={},g={},y={},b={},v=(e,t)=>{var n;if(e.rels)h[`${t}-${e.hostId}`]=e.rels;else if(1===e.parent._type){const i=e.parent;if(i.runtime.def.namespace===s.F2){const o=i.ioProxyForCall;if(o&&o.frame){const i=null===(n=o.frame.inputPins)||void 0===n?void 0:n.find((t=>t.id===e.hostId));i&&i.rels&&(h[`${t}-${e.hostId}`]=i.rels)}}}if(e.proxyScenePin){const{sceneId:n,hostId:i}=e.proxyScenePin;m[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:i}}if(e.proxyMyFramePin){const{frameId:n,pinId:i}=e.proxyMyFramePin;m[`${t}-${e.hostId}`]={type:"myFrame",frameId:n,pinId:i}}if(e.proxyPin)if(e.proxyPin._todo_){const{frameId:n,pinId:i,pinHostId:o}=e.proxyPin;m[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:o}}else{const n=e.proxyPin.parent;if(n&&0===n._type){const i=n.id;m[`${t}-${e.hostId}`],m[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}if(e.proxyPinValue){const n=e.proxyPinValue.parent;if(n&&0===n._type){const i=n.id;g[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPinValue.hostId}}}e.editor},x=(e,t)=>{var i;if(e.proxyPin)if(e.proxyPin._todo_){const{frameId:n,pinId:i,pinHostId:o}=e.proxyPin;m[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:o}}else{const n=e.proxyPin.parent;if(n&&0===n._type){const i=n.id;m[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}if((null===(i=e.conAry)||void 0===i?void 0:i.length)>0){const i=[];if(e.conAry.forEach((e=>{var t,o,r,s,a,l,d,u;let p,f;const h=e.finishPin;if(!h)return;if(i.find((t=>t.id===e.id)))return;let m;h.parent,h.parent&&h.parent.timerInputPin&&(m=h.parent.timerInputPin.id);const g=null===(t=e.parent)||void 0===t?void 0:t.parent;g&&(p=c(g)),f=h.proxyPinValue?c(h.proxyPinValue.parent):p;const y=h.parent;if(1===(null==y?void 0:y._type)){const t=h.forkedFrom||h,s=y.forkedFrom||y;if(s&&(s.runtime||s._todo_&&s.comId)){const a=(null===(o=s.runtime)||void 0===o?void 0:o.id)||s.comId,l=(null===(r=s.runtime)||void 0===r?void 0:r.def)||s.def,c=e.startPin.parent._key,d=e.finishPin.parent._key,u={id:e.id,type:"com",frameKey:p,targetFrameKey:f,startPinParentKey:c,finishPinParentKey:d,comId:a,def:l,timerPinInputId:m,pinId:t.hostId,pinType:t.type,direction:t.direction,extBinding:t.extBinding,isIgnored:(null==n?void 0:n.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==n?void 0:n.forDebug)?e.isBreakpoint:void 0};e.startPin.isStarter&&delete u.startPinParentKey,i.push(u)}}else{const t=h.forkedFrom||h,o=t.parent;if(0===o._type){const r=t.forkedAsJoint;if(r){const t=(null===(s=r.from)||void 0===s?void 0:s.hostId)||r.hostId,c=null===(a=e.startPin.parent)||void 0===a?void 0:a._key,d={id:e.id,type:"frame",frameKey:p,startPinParentKey:c,frameId:o.id,comId:null===(l=o.parent)||void 0===l?void 0:l.runtime.id,pinId:t,pinType:"joint",direction:r.direction,isIgnored:(null==n?void 0:n.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==n?void 0:n.forDebug)?e.isBreakpoint:void 0};i.push(d);const u=`${d.comId?d.comId+"-":""}${d.frameId}`;x(r,u)}else{const r=null===(d=e.startPin.parent)||void 0===d?void 0:d._key,s=1===(null===(u=o.parent)||void 0===u?void 0:u._type)?o.parent.runtime.id:void 0;i.push({id:e.id,type:"frame",frameKey:p,startPinParentKey:r,frameId:o.id,comId:s,pinId:t.hostId,pinType:t.type,direction:t.direction,isIgnored:(null==n?void 0:n.forDebug)?e.isIgnored:void 0,isBreakpoint:(null==n?void 0:n.forDebug)?e.isBreakpoint:void 0})}}}})),i.length>0){let n;n=e.from&&e.from.hostId?e.from.hostId:e.hostId,y[`${t}-${n}`]=i}}},A=e=>{const t={id:e.id,title:e.title,_inputs:[],_outputs:[],inputs:[],outputs:[]};return e._inputPins&&e._inputPins.forEach((i=>{let o;o=e.parent&&1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:e.parent?e.id:"_rootFrame_",x(i,o),v(i,o),e.parent||d.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0,extValues:i.extValues}),t._inputs.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0,extValues:i.extValues})})),e.inputPins&&e.inputPins.forEach((i=>{let o;o=e.parent&&1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:e.parent?e.id:"_rootFrame_",x(i,o),v(i,o),e.parent||p.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0,extValues:i.extValues,mockData:n.withMockData?i.mockData:void 0,mockDataType:n.withMockData?i.mockDataType:void 0,editor:i.editor}),t.inputs.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0,extValues:i.extValues,mockData:n.withMockData?i.mockData:void 0,mockDataType:n.withMockData?i.mockDataType:void 0,editor:i.editor})})),e._outputPins&&e._outputPins.forEach((i=>{e.parent||u.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0}),t._outputs.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0})})),e.outputPins&&e.outputPins.forEach((i=>{if(e.parent||f.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0}),"event"===i.type||"shortcut"===i.type){x(i,"_rootFrame_")}t.outputs.push({id:i.hostId,title:i.title,type:i.type,schema:n.withIOSchema?i.schema:void 0})})),e.comAry&&e.comAry.forEach((t=>{var o,c,d,u,p,f,h,m;if(!t||!t.runtime)return;if(t.diagramModel){const e=t.diagramModel,n=e.parent;if(n&&n.diagramAry&&!n.diagramAry.find((t=>t.id===e.id)))return}const g=t.runtime,y=g.def;if(y.namespace===s.h6)return;if(y.namespace===s.F2){const e=null===(c=null===(o=t.ioProxyForCall)||void 0===o?void 0:o.frame)||void 0===c?void 0:c.id;e&&(a.find((t=>t.namespace===y.namespace&&t.version===y.version&&t.moduleId===e))||a.push(Object.assign(Object.assign({},y),{moduleId:e})))}else a.find((e=>e.namespace===y.namespace&&e.version===y.version))||a.push(y);const w=[],E=[],C=[],_=[],M=g.geo;let I=n.needClone?JSON.parse(JSON.stringify(g.model)):g.model;I.extSourceCodes&&(n.needClone&&delete I.extSourceCodes,I.isAICode=!0),g.modelForToJSON&&(I=Object.assign({},I,g.modelForToJSON),g.modelForToJSON=void 0),Array.isArray(I.outputAry)&&(I.outputAry=I.outputAry.map((e=>e.hostId)));const k={};if(g.geo){const e=null===(d=g.geo.parent)||void 0===d?void 0:d.style;"absolute"!==(null==e?void 0:e.layout)&&"smart"!==(null==e?void 0:e.layout)||(delete I.style.marginTop,delete I.style.marginRight,delete I.style.marginBottom,delete I.style.marginLeft),I.style?("absolute"===I.style.position&&(k.position="absolute"),k.width=I.style.widthFact,k.height=I.style.heightFact):I.style={}}if(delete I.inputAry,delete I.outputAry,t.ioProxy&&0===t.ioProxy._type){let e;t.ioProxy.inputPins.forEach((t=>{var n,i;"config"===t.type&&(null===(i=null===(n=t.extValues)||void 0===n?void 0:n.config)||void 0===i?void 0:i.defaultValue)&&(e=e||{},e[t.hostId]=t.extValues.config.defaultValue)})),e&&(I.data.configs=e)}let P;y.namespace===s.dp&&(P={id:null===(u=t.ioProxy)||void 0===u?void 0:u.id,type:"fx"});const F={id:g.id,def:y,isTemp:g.isTemp,frameId:e.parent?e.id:void 0,parentComId:null===(f=null===(p=e.parent)||void 0===p?void 0:p.runtime)||void 0===f?void 0:f.id,title:g.title,model:I,style:k,asRoot:M?M.asRoot:void 0,reservedEditorAry:M?M.reservedEditorAry:void 0,configs:w,_inputs:E,inputs:C,outputs:_,frames:void 0,ioProxy:P};if(l[g.id]=F,n.onlyDiff){const e=n.onlyDiff.getComDef(y);if(e){const t=e.data;I.data=(0,r.a)(I.data,t),(null===(h=y.rtType)||void 0===h?void 0:h.match(/^js/))||(delete l[g.id].inputs,delete l[g.id].outputs),delete l[g.id].configs,delete l[g.id]._inputs}}if(t.configPins&&t.configPins.forEach((e=>{w.push(e.hostId)})),t.timerInput&&(v(t.timerInput,g.id),l[g.id].timerInput=t.timerInput.hostId),i.__((e=>{v(e,g.id),E.push(e.hostId)}),t._inputPins),i.__((e=>{v(e,g.id),C.push(e.hostId)}),t.inputPins,t.inputPinsInModel,t.inputPinExts,t.inputPinExtForFrames),i.__((e=>{x(e,g.id),_.push(e.hostId)}),t.outputPins,t.outputPinsInModel,t.outputPinExts,t.outputPinNexts),g._autoRun&&(null===(m=y.rtType)||void 0===m?void 0:m.match(/^js/))){let t;t=e.parent?e.parent.runtime?`${e.parent.runtime.id}-${e.id}`:e.id:"_rootFrame_";let n=b[t];n||(n=b[t]=[]),n.push({id:g.id,def:y})}if(t.frames){const e=F.frames=[];t.frames.forEach((t=>{const n=A(t);e.push(n)}))}})),e.frameAry&&e.frameAry.forEach((e=>{e.hostFrameId||A(e)})),t};return e&&A(e),{"-v":o.rE,id:e.id,name:e.name,title:e.title,type:e.type,deps:a,coms:l,comsAutoRun:b,_inputs:d,_outputs:u,inputs:p,outputs:f,cons:y,pinRels:h,pinProxies:m,pinValueProxies:g}}function c(e){if(e)return e.parent?1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:`${e.id}`:"_rootFrame_"}},27967:(e,t,n)=>{"use strict";function i(e,...t){t.forEach((t=>{t&&t.forEach(((n,i)=>{e(n,i,t)}))}))}n.d(t,{__:()=>i})},44711:(e,t,n)=>{"use strict";function i(e,t){if(!t)return e;let n;for(let i in e){const r=o(e[i],t[i]);void 0!==r&&(n||(n={}),n[i]=r)}return n}function o(e,t){return Array.isArray(e)?Array.isArray(t)?e.length!==t.length||e.find(((e,n)=>{if(void 0!==o(e,t[n]))return!0}))?e:void 0:e:"object"==typeof e?i(e,t):e!==t?e:void 0}n.d(t,{a:()=>i})},91790:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(52400);const o="__id__";function r(e,t,n){const r=(0,i.uR)(),s=function({node:e,uid:t,ioProxy:n}){const r={};return new Proxy({},{ownKeys(t){const n=[];return i.DO.each((e=>{n.push(e.hostId)}),e.configPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===o?t:function(e){r[n]=e},set(e,t,n,i){const o=r[t];return"function"==typeof o&&o(n),!0}})}({node:e,uid:r,ioProxy:t}),{_inputs:a,_inputsCallable:l}=function({node:e,uid:t,ioProxy:n,curScope:r}){const s={},a={_all:{},_waiting:{},has(e){return"function"==typeof this._all[e]},set(e,t){this._all[e]=t;const n=this._waiting[e];if(n)try{n.forEach((e=>{t(e)})),delete this._waiting[e]}finally{}return!0},get(e){return this._all[e]},waiting(e,t){let n=this._waiting[e];n||(n=this._waiting[e]=[]),n.push(t)}},l=new Proxy({},{ownKeys(t){const n=[];return i.DO.each((e=>{n.push(e.hostId)}),e._inputPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===o?t:"_setInterseptor"===n?e[n]:function(e){a.set(n,(function(t){const i=s[n];if(void 0!==t&&i){s[n]=void 0;const[i,o]=t;e(i,o)}}))},set(e,t,n,i){s[t]=n;const o=a.get(t);return o?o(n):a.waiting(t,n),!0}}),c=new Proxy({},{get(t,n){const i=e._inputPins.find((({hostId:e})=>n==e));if(i)return function(e){i._exe(r,e)}}});return{_inputs:l,_inputsCallable:c}}({node:e,uid:r,ioProxy:t,curScope:n}),{inputs:c,inputsCallable:d}=function({node:e,uid:t,ioProxy:n}){class r{constructor(...e){this._values=e}getVal(e){return this._values[e]}}const s={_all:{},_waiting:{},has(e){return"function"==typeof this._all[e]},set(e,t,n){let i=this._all[e];i||(i=this._all[e]=[]);let o=n||e;const r=i.find((e=>e.id===o));r?r.fn=t:i.push({id:o,fn:t});const s=this._waiting[e];if(s)try{s.forEach((e=>{e(i)})),delete this._waiting[e]}finally{}return!0},get(e){return this._all[e]},waiting(e,t){let n=this._waiting[e];n||(n=this._waiting[e]=[]),n.push(t)}},a=new Proxy({},{ownKeys(t){const n=[];return i.DO.each((e=>{n.push(e.hostId)}),e.inputPins,e.inputPinsInModel),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===Symbol.iterator?Array.prototype[Symbol.iterator]:"hasOwnProperty"===n?()=>!0:n===o?t:"_setInterseptor"===n?e[n]:function(e,t){let i;if(t)if("object"==typeof t){const i=t[n];"function"==typeof i&&i(e)}else"string"==typeof t&&(i=t);s.set(n,(function(n){if(void 0!==n){const[i,o]=n;let r;r="function"==typeof o?o("string"==typeof t?t:void 0):o,e(i,r)}}),i)},set(e,t,i,o){const a=e=>t=>{(null==n?void 0:n.input)&&n.input();const i=t=>e[0]instanceof r?[e[0].getVal(t),e[1],e[2]]:e;t.forEach(((e,t)=>{try{e.fn(i(t))}catch(e){console.error(e)}}))},l=s.get(t);return l?a(i)(l):s.waiting(t,a(i)),!0}}),l=new Proxy({},{get(t,n){const i=e.inputPins.find((({hostId:e})=>n==e));if(i){const e=function(e){let t;if(t=arguments.length>1?new r(...arguments):e,i.rels){const e={},o={};return i.rels.forEach((t=>{e[t]=e=>{o[t]=e}})),Promise.resolve().then((()=>{a[n]=[t,e=>{const t={};return i.rels.forEach((n=>{t[n]=t=>{o[n](t,e)}})),t}]})),e}a[n]=[t,void 0]};return e}}});return{inputs:a,inputsCallable:l}}({node:e,uid:r,ioProxy:t}),u=function({node:e,uid:t,curScope:n}){return new Proxy({},{ownKeys(t){const n=[];return i.DO.each((e=>{n.push(e.hostId)}),e._outputPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(r,s,a){if(s===o)return t;if("_setInterseptor"===s)return r[s];if(e.outputPins||e.outputPinsInModel){const t=i.DO.find((({hostId:e})=>s==e),e._outputPins);if(t)return function(i,o){t._exe(n,i,void 0,e)}}}})}({node:e,uid:r,curScope:n}),p=function({node:e,uid:t,ioProxy:n,curScope:r}){return new Proxy({},{ownKeys(t){const n=[];return i.DO.each((e=>{n.push(e.hostId)}),e.outputPins,e.outputPinsInModel),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(s,a,l){if(a===Symbol.iterator)return Array.prototype[Symbol.iterator];if("hasOwnProperty"===a)return()=>!0;if(a===o)return t;if("_setInterseptor"===a)return s[a];if(e.outputPins||e.outputPinsInModel){const t=i.DO.find((({hostId:e})=>a==e),e.outputPins,e.outputPinsInModel);if(t){const i=function(i,o,s){if((null==n?void 0:n.output)&&n.output(i),s){const e=s[a];"function"==typeof e&&e(i)}let l;if(t.runInFrameId){const n=r.comInsts[e.id].scopes;if(n&&(l=n.find((e=>e.frameId===t.runInFrameId))),!l)throw new Error("Scope not found for output.runInFrameId.")}else l=r;t._exe(l,i,o,e)};return i.getConnections=()=>t.conAry.map((e=>({from:{title:e.startPin.title},to:{title:e.finishPin.title}}))),i}}}})}({node:e,uid:r,ioProxy:t,curScope:n});return{configs:s,_inputs:a,_inputsCallable:l,inputs:c,inputsCallable:d,_outputs:u,outputs:p,fork:(e,t,n)=>e&&"_inputs"===e.toLowerCase()?new Proxy(a,{get(e,n){const i=e[n];if("function"==typeof i)return e=>{i(e,t)}}}):e&&"inputs"===e.toLowerCase()?new Proxy(c,{get(e,i){const o=e[i];if("function"==typeof o)return t?e=>{o(e,t)}:"string"==typeof n?e=>{o(e,n)}:o}}):e&&"_outputs"===e.toLowerCase()?new Proxy(u,{get(e,n){const i=e[n];if("function"==typeof i)return e=>{i(e,t)}}}):e&&"outputs"===e.toLowerCase()?new Proxy(p,{get(e,n){if("getConnections"===n)return e.getConnections;const i=e[n];return"function"==typeof i?e=>{i(e,void 0,t)}:void 0}}):void 0}}},91547:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i="default"},55517:(e,t,n)=>{"use strict";n.d(t,{$W:()=>f,PD:()=>h,Sb:()=>p,wE:()=>m});var i=n(15555),o=n(52400),r=n(325),s=n(48146),a=n(47238);let l,c,d=null;let u="stop";function p(){return"running"===u}let f={},h={};function m(e,t,n="runtime"){(0,o.eA)(e,i.C.FRAME);const p=t.global;return p&&(p.varComAry&&p.varComAry.forEach((e=>{e&&(0,a.w)(e,t,n)})),p.fxFrameAry&&p.fxFrameAry.forEach((e=>{(0,r.w)(e,t,n)}))),(0,r.w)(e,t,n),d={on(e,t){e&&"string"==typeof e&&"function"==typeof t&&(h[e.toLowerCase()]=t)},run(e=e,n){if(t._scopeManager=(0,s.A)(),t._scopeManager.start(),function(e){return Object.assign(f,e||{}),l=[],c=[],!0}(n))return u="running",new Promise(((e,t)=>{})),t=>{t&&t.outputs&&e.outputPins&&e.outputPins.forEach((e=>{const n=t.outputs[e.id];"function"==typeof n&&(e.proxyPin={_exe(e,t,i,o){n(t)}})}));const i=e._exe(null==n?void 0:n.rootScope,null==t?void 0:t.inputParams,void 0,"input",!0);return t.inputs&&e.inputPins&&Object.keys(t.inputs).forEach((n=>{const o=t.inputs[n],r=e.inputPins.find((e=>e.hostId===n));r&&r.conAry&&r.conAry.length>0&&o((e=>{r._exe(i,e,void 0,void 0)}))})),i}},update:(e,t=t)=>(t._update(e,void 0,void 0),!0),pause:g,stop(){const e=(u="stop",!0);return d=null,l=void 0,c=void 0,t._scopeManager.stop(),e}}}function g(){return u="pause",!0}},54706:(e,t,n)=>{"use strict";n.d(t,{C9:()=>r.C,eQ:()=>r.T_Scope,lO:()=>o.l,wE:()=>i.wE});var i=n(55517),o=n(91790),r=n(15555);n(52400)},45348:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var i=n(55517),o=n(15555),r=n(52400);function s(e,t,n="runtime"){let s=e;"object"!=typeof s||s._exe||(s._exe=function(n,a,l){if(e.isBlocked)return;if(!(0,i.Sb)())return;if(!e.finishPin)return;const c=e.finishPin.forkedFrom||e.finishPin;if("function"!=typeof c._exe){const p=(0,r.Ed)(e.startPin.parent,o.C.NODE)?e.startPin.parent:void 0;return void t.onError({type:"con",id:e.id},`连接(来自:${p?p.title:"未知组件"}，${s.title})未实现.`)}let d=t.con?t.con(e):void 0;d&&d.exe(a);let u=n;if(l){let f;f=(0,r.Ed)(c.parent,o.C.NODE)?c.parent.parent:c.parent;const h=f._curScope_;function m(e,t){let n=t;e.id!==t.id&&(n=e),i.$W.debug&&i.$W.debug.stepTime,c._exe(n,a,void 0,s)}h?m(h,n):(f.exeTodo||(f.exeTodo=[]),f.exeTodo.push((e=>{m(e._curScope_,n)})))}else{(()=>{i.$W.debug&&i.$W.debug.stepTime,c._exe(u,a,void 0,s)})()}})}},325:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(91547),o=n(47238),r=n(74191),s=n(18712);function a(e,t,n="runtime"){e.frameAry&&e.frameAry.forEach((e=>{a(e,t,n)})),e.comAry&&e.comAry.forEach((e=>{e&&(0,o.w)(e,t,n)})),e._inputPins&&e._inputPins.forEach((e=>(0,r.w)(e,t,n))),e.inputPins&&e.inputPins.forEach((e=>(0,r.w)(e,t,n))),e._outputPins&&e._outputPins.forEach((e=>(0,r.w)(e,t,n))),e.outputPins&&e.outputPins.forEach((e=>(0,r.w)(e,t,n))),e.inputJoints&&e.inputJoints.forEach((e=>(0,r.w)(e,t,n))),e.outputJoints&&e.outputJoints.forEach((e=>(0,r.w)(e,t,n)));const l=t.frame(e),c=e,d={};c._update=function(r,s,a=i.$){const l=a+r.id,{curScope:c,coms:u}=d[l];e.comAry.forEach((e=>{u.push(e.id),"function"!=typeof e._exe&&((0,o.w)(e,t,n),e._exe(c))}))},c._exe=function(r,a,u=i.$,p,f,h,m){e.parent||(f=!0),r||(e.parent,r=t._scopeManager.applyScope(void 0,e.id,"-parent"));const g=u+r.id;let y=!1;if(d[g]){const t=d[g].coms;(t.length!==e.comAry.length||e.comAry.find((e=>t.indexOf(e.id)<0)))&&(y=!0)}if(!d[g]||y||f){let i,s;if(c._exeAsRoot_=!!f,c._exeAsRoot_)i={inst:void 0,scopes:[]};else if(i=r.comInsts[e.parent.id],!i&&e._rootF)return;const l=[];if("input"==(p="string"==typeof p?p:"input")){const i=!c._exeAsRoot_&&e.parent?e.parent.id:void 0;s=r.applyScope(i,e.id,u,h,e._rootF,m,a),c._curScope_=s,c._allScopes_||(c._allScopes_={}),c._allScopes_[r.path]=s,Array.isArray(c.exeTodo)&&(c.exeTodo.forEach((e=>{e(c)})),c.exeTodo=void 0),e.inputPins.forEach((e=>{"config"===e.type&&e._exe(s,e.mockData,void 0,void 0)})),e.comAry.forEach((e=>{var i;e&&(l.push(e.id),"function"!=typeof e._exe&&(0,o.w)(e,t,n),(null===(i=e.runtime)||void 0===i?void 0:i.geo)&&e._exe(s))})),e.comAry.forEach((e=>{var t;e._autoRun&&((null===(t=e.runtime)||void 0===t?void 0:t.geo)||e._exe(s))}))}d[g]={myInstScope:i,curScope:s,coms:l}}const{curScope:b}=d[g];if("input"==(p="string"==typeof p?p:"input")){l.exe&&l.exe(a);const t={};if("mock"===n&&e.inputPins.length>0&&e.inputPins.forEach((e=>{e.mockData&&(t[e.hostId]=e.mockData)})),a=Object.assign(t,a)){const t=a.__forInputs__;for(let n in a)if("__forInputs__"!==n){let i;i=t?e._inputPins.find((e=>e.hostId==n)):e.inputPins.find((e=>e.hostId==n)),i?i._exe(b,a[n],void 0,void 0):"undefined"!=typeof console&&"function"==typeof console.error&&console.error(`No input or _input (id=${n}) found`)}}return e.inputJoints&&e.inputJoints.forEach((e=>{(0,s.p)(e,b)})),b}if(p.match(/^(output)|(inner-input)$/gi)){let t=b;if(e.outputPins.length){if(a)for(let e in a)t.returnParams[e]=a[e]||null;e.outputPins.find((e=>null==t.returnParams[e.hostId]))||t.resolve()}}}}},18712:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});n(45348);let i=new WeakMap;function o(e,t){let n=t.parent,o=i.get(e);if(o){let e=o.get(n);e&&e.forEach((e=>{e(t)}))}}},47238:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var i=n(325),o=n(74191),r=n(52400),s=n(91547);function a(e,t,n="runtime"){var a;r.DO.each((e=>(0,o.w)(e,t,n)),e.configPins),r.DO.each((e=>(0,o.w)(e,t,n)),e._inputPins,e.inputPins,e.inputPinExts,e.inputPinsInModel),r.DO.each((e=>(0,o.w)(e,t,n)),e.outputPins,e.inputPinExts,e.outputPinsInModel);const l=e,c=t.node(e),d={},u=e.id||(null===(a=e.runtime)||void 0===a?void 0:a.id),p={};function f(t){if("function"!=typeof c.render)throw new Error("Render config function for node not found.");const n={};e.frames&&e.frames.forEach((e=>{n[e.id]=function(n,i=s.$){const o=e._exe(t,n,i);if(o)return o.path}}));const i=c.render(n,t);t.comInsts[u]={title:e.title,inst:i,scopes:[]},d[t.id]=!0}function h(e,t){if(t){let n=t.comInsts[u];return n||h(e,t.parent)}}l._config=function(n,i){if(d[n.id]||(f(n),d[n.id]=!0),i){const o=i.binding,r=i.value;if(o){const t=e.model;if(t){const e=o.split(".");let n=t;e.forEach(((t,i)=>{i!==e.length-1?n=n[t]:n[t]=r}))}}else{let o,r=!0;if(d[n.id]||(e.parent&&n.parent&&e.parent.id!==n.frameId?(o=h(e,n.parent),r=!1):f(n)),r&&!o&&(o=n.comInsts[u]),!o)return void t.onError({type:"node",id:u},new Error("Scope error."));try{o.inst.configs[i.id]=i.value}catch(e){"function"==typeof t.onError&&t.onError({type:"node",id:u},e)}}}},l._exe=function(n,i,o){var s;let a;r.DO.each((e=>{void 0!==e.dummyData&&(!a&&(a={}),a[e.hostId]=e.dummyData)}),e.inputPins,e.inputPinsInModel),i=a?Object.assign(a,i):i;let l,m=!0;if(!d[n.id])if(e.parent&&n.parent){if(l=h(e,n.parent),!l){let t;t=e.parent._curScope_?e.parent._curScope_:n.getRoot(),f(t),l=t.comInsts[u]}m=!1}else f(n);if(m&&!l&&(l=n.comInsts[u]),!l)return void t.onError({type:"node",id:u},new Error("Scope error."));const g=n.comPinTodo[u];if(Array.isArray(g)&&(n.comPinTodo[u]=void 0,delete n.comPinTodo[u],g.forEach((e=>{e()}))),i){const s=new Proxy({},{get(e,i,s){if(o&&o.finishPin.rels){let e;return o.finishPin.rels.find((s=>{s===i&&(e=e=>{const s=o.finishPin.parent,a=r.DO.find((e=>e.hostId===i),s.outputPinsInModel,s.outputPins);a&&a.conAry&&a.conAry.find((i=>{if(i.finishPin&&i.startPinParentKey===o.finishPinParentKey){let o=t.pin?t.pin(i.startPin):void 0;o&&o.exe(e,i);let r=t.con?t.con(i):void 0;r&&r.exe(e),i.finishPin._exe(n,e,void 0,i)}}))})})),e}}}),a=null==o?void 0:o.finishPin;if((0,r.MT)(a)){const e=null==i?void 0:i[a.hostId];c.exePinExt(n,a,e)}else for(let n in i){const o=i[n];try{let t=n;const i=n.indexOf(".");if(-1!==i){t=n.substring(0,i);const a=n.substring(i+1);let c=p[u];c||(c=p[u]={}),c[a]=o;const d=[];r.DO.each((e=>{e.hostId.match(new RegExp(`${t}.`))&&d.push(e)}),e.inputPins,e.inputPinsInModel),Object.keys(c).length===d.length&&(l.inst.inputs[t]=[c,s],delete p[u])}else{const i=r.DO.find((e=>{if(e.hostId===t)return!0}),e.inputPins,e.inputPinsInModel);i&&(i.wrap,l.inst.inputs[n]=[o,s])}}catch(e){"function"==typeof t.onError&&t.onError({type:"node",id:u},e)}}}if(c.exe&&c.exe(l.inst,i),o){const i=(null===(s=o.finishPin.rels)||void 0===s?void 0:s.length)>0;o&&!i&&e.outputPinNexts.length>0&&e.outputPinNexts.forEach((e=>{e&&e.conAry&&e.conAry.find((e=>{if(e.finishPin&&e.startPinParentKey===o.finishPinParentKey){let i=t.pin?t.pin(e.startPin):void 0;i&&i.exe(void 0,e);let o=t.con?t.con(e):void 0;o&&o.exe(void 0),e.finishPin._exe(n,void 0,void 0,e)}}))}))}},e.frames&&e.frames.forEach((e=>{(0,i.w)(e,t)}))}},74191:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var i=n(52400),o=n(45348),r=n(15555),s=n(55517),a=n(91737),l=n(325);function c(e,t,n="runtime"){e.conAry&&e.conAry.forEach((e=>{(0,o.w)(e,t)})),e.forkedAsJoint&&c(e.forkedAsJoint,t,n),e.forkedFrom?console.warn("The pin is forked one,ignored.",e):e._exe=function(c,d,u,p){if(!(0,s.Sb)())return;s.PD.execute&&s.PD.execute(r.C.PIN,e.id,d);let f=c,h=t.pin?t.pin(e):void 0;if(h){if(!1===h.exe(d,p,c))return}const m=e;if("config"==m.direction)e.parent._config(f,{id:m.hostId,value:d,binding:m.extBinding});else if("input"==m.direction)if(e.proxyPinValue){const t=f.params[e.proxyPinValue.hostId];e.parent._exe(f,{[e.hostId]:t},p)}else if(e.proxyPin){const o=e.proxyPin;if((0,i.Ed)(o.parent,r.C.FRAME))if("inner-output"===o.direction){const s=o.parent;if("function"!=typeof s._exe&&(0,l.w)(s,t,n),"function"!=typeof s._exe)throw new Error(`Frame(${s.id}) is not runnable`);const a={};if((0,i.Ed)(e.parent,r.C.NODE)){const t=e.parent;t.outputPins&&t.outputPins.forEach((e=>{e.proxyForPin&&s.outputPins&&s.outputPins.find((t=>{t.hostId===e.hostId&&(a[t.id]=e)}))})),t.outputPinsInModel&&t.outputPinsInModel.forEach((e=>{e.proxyForPin&&s.outputPins&&s.outputPins.find((t=>{t.hostId===e.hostId&&(a[t.id]=e)}))}))}let c,u;s.parent?(c=e.id,u=f):(s._curScope_,u=f.getRoot(),c=void 0),s._exe(u,{[e.proxyPin.hostId]:d},c,e.direction,!1,a,f)}else o._exe(f,d,u)}else if(e.isPrivate){if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.path],t)return void t(d)}}else{e.parent._exe(f,{[e.hostId]:d},p)}else if("inner-input"===e.direction&&"event"!==e.type){if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.path],t)return void t(d)}if(e.proxyPin)e.proxyPin._exe(f.parent,d,void 0,p);else if(e.emitPinAry)e.emitPinAry.forEach((e=>{e.parent.id===c.label&&e._exe(f.parent,d,void 0,p)}));else if(e.forkedAsJoint)e.forkedAsJoint.conAry&&e.forkedAsJoint._exe(f.parent,d,void 0,p);else if(f.proxyForOutPins){const t=f.proxyForOutPins[e.id];t&&t._exe(f.from,d,void 0,p)}}else("output"==e.direction||"inner-output"==e.direction||"inner-input"===e.direction&&"event"===e.type)&&(0,a.A1)((()=>{let n;if((0,i.Ed)(e.parent,r.C.NODE)){const t=e.parent.runtime.model.outputEvents;if(t){const i=t[e.hostId];i&&Array.isArray(i)&&(n=i.find((e=>e.active)))}}if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.parent.path],t)return void t(d)}if(n&&"fx"!==n.type||!e.proxyPin)"inner-output"==e.direction&&(f.params[e.hostId]=d),e.conAry&&e.conAry.length>0&&e.conAry.forEach(((e,n)=>{if(e){const n=e;n._exe||(0,o.w)(e,t),n._exe(f,d,u)}}));else if("fx"===(null==n?void 0:n.type)){const t=e.proxyPin;if((0,i.Ed)(t.parent,r.C.FRAME))if("inner-output"===t.direction){const n=t.parent;if("function"==typeof n._exe){let i,o;n.parent?(i=e.id,o=f):(i=e.parent.id,o=f),n._exe(o,{[t.hostId]:d},i,"input",!1,void 0,f)}}else t._exe(f,d,u)}else e.proxyPin._exe(f.parent,d,void 0,p)}))}}},48146:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(52400);function o(){let e;function t(e,n,o,r,s,a,l){const c={id:(0,i.uR)(),instId:n,frameId:o,label:r,path:void 0,parent:e,from:l,proxyForOutPins:s,returnParams:{},resolve:null,comInsts:{},comPinTodo:{},params:{},applyScope(e,n,i,o,r,s,a){const l=t(c,e,n,i,o,r,s);let d=c.comInsts[e];return d&&(!d.scopes&&(d.scopes=[]),d.scopes.push(l)),a&&(l.params=a),l},findWithInstIdAndPath(e){if(this.path===e)return this;let t,n=e,i=this;for(;i.parent;)if(i=i.parent,n=n.substring(0,n.lastIndexOf(":")),i.path===n){t=i;break}if(t){let o;function r(t){if(t.path!==e){if(t.comInsts)for(let e in t.comInsts){if(t.comInsts[e].scopes.find(r))return}}else o=t}return r(t),o}},getRoot(){let e=this;for(;e.parent;)e=e.parent;return e}};if(a)c.path=c.id;else{const e=[c.id];let t=c.parent;for(;t;)t.parent&&e.push(t.id),t=t.parent;c.path=e.reverse().join(":")}return c}return{applyScope:(e,n,i)=>t(void 0,e,n,i,void 0),start(){e={}},stop(){e={}}}}},15555:(e,t,n)=>{"use strict";var i;n.d(t,{C:()=>i}),function(e){e[e.FRAME=0]="FRAME",e[e.NODE=1]="NODE",e[e.PIN=2]="PIN",e[e.JOINT=3]="JOINT",e[e.CONNECTION=4]="CONNECTION"}(i||(i={}))},52400:(e,t,n)=>{"use strict";function i(e,t){if(!o(e,t))throw new Error("Invalid item type")}function o(e,t){return e&&"object"==typeof e&&e._type==t}function r(e){return e&&"object"==typeof e&&"ext"===e.type}function s(){let e="abcdefhijkmnprstwxyz",t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(20*Math.random()));return"u_"+t}var a;n.d(t,{DO:()=>a,Ed:()=>o,MT:()=>r,eA:()=>i,uR:()=>s}),function(e){e.each=function(e,...t){t.forEach((t=>{t&&t.forEach(e)}))},e.find=function(e,...t){let n;return t.find((t=>{if(t)return n=t.find((t=>e(t)))})),n}}(a||(a={}))},79777:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,bV:()=>d,mi:()=>u});var i=n(64012),o=n.n(i),r=n(5289),s=n(91737),a=n(18823),l=n(82245);function c({catelog:e}){const t=(0,s.lB)(a.A,{from:"parents"}),n=[],c=(0,i.useRef)();if((0,i.useMemo)((()=>{var t;null===(t=e.groups)||void 0===t||t.forEach((e=>{p(e)}))}),[]),t.catalogsRendered&&t.catalogsRendered[e.id])return o().createElement(o().Fragment,null,o().createElement("div",{key:e.id,ref:c,className:r.A.catelog,style:{display:t.activeCateId===e.id?"flex":"none"}},o().createElement("div",{className:r.A.scroll},e.groups&&e.groups.map(((e,t)=>{var i;if(!e.fixedAtBottom||!e.fixedAtBottom()){if(e.ifVisible&&!e.ifVisible())return;if(e.hasCatelog)return o().createElement("div",{key:e.id,className:r.A.group},o().createElement(u,{group:e,index:0}));if(e.catalogs)return o().createElement("div",{key:e.id,className:r.A.container},o().createElement(d,{group:e,index:0}));if(!(null===(i=e.items)||void 0===i?void 0:i.length))return;return o().createElement(l.m,{key:e.id,group:e,isChild:!1})}n.push(e)}))),n.length>0?o().createElement("div",{className:`${r.A.fixed} `},n.map(((e,t)=>o().createElement(l.m,{key:t,group:e})))):null))}function d({group:e,level:t}){if(e.ifVisible&&!e.ifVisible())return;const[n,s]=o().useState(0),[a,c]=(0,i.useMemo)((()=>[e.catalogs.map(((e,i)=>e.catalogs?o().createElement("div",{key:i,className:r.A.containerBody,style:{display:""+(i===n?"block":"none")}},o().createElement(d,{group:e,level:t+1})):o().createElement("div",{key:i,className:r.A.containerBody,style:{display:""+(i===n?"block":"none")}},e.items.map(((e,t)=>o().createElement(l.g,{key:t,item:e,idx:t})))))),1]),[n]);return c?o().createElement("div",{key:e.id,className:r.A.catelogGroup,style:{marginTop:15}},o().createElement("div",{className:r.A.containerBorder,style:{marginTop:0===t?28:16,paddingTop:18}},o().createElement("div",{className:r.A.containerCatelog},o().createElement("div",{className:r.A.btnGroup},e.catalogs.map(((e,t)=>o().createElement("div",{key:t,className:`${r.A.btn} ${n===t?r.A.activeBtn:""}`,onClick:()=>{n!==t&&s(t)}},o().createElement("div",{className:r.A.btnName},e.title)))))),a)):void 0}function u({group:e,index:t}){if(e.ifVisible&&!e.ifVisible())return;const n=void 0!==e.title?e.title:"",[i,a]=(0,s.HO)((()=>{let t=0;return[Object.keys(e.catelogMap).map((n=>o().createElement("div",{key:n,className:r.A.containerBody,style:{display:""+(n===e.catelog?"block":"none")}},e.catelogMap[n].map(((e,n)=>("function"==typeof e.ifVisible?(e._ifVisible=e.ifVisible(),e._ifVisible&&t++):t++,o().createElement(l.g,{key:n,item:e,idx:n+1,isChild:!0}))))))),t]}));return a?o().createElement("div",{key:e.id,className:r.A.catelogGroup},o().createElement("div",{className:r.A.itemTitle},n),o().createElement("div",{className:r.A.containerBorder,style:{marginTop:!n&&t?28:16,paddingTop:n?3:18}},o().createElement("div",{className:r.A.containerCatelog},o().createElement("div",{className:r.A.btnGroup},e.catelogAry.map((t=>o().createElement("div",{key:t,className:`${r.A.btn} ${t===e.catelog?r.A.activeBtn:""}`,onClick:()=>{var n,i,o,r;e.catelog!==t&&(e.catelog=t,(null===(i=null===(n=e.onCatelogChange)||void 0===n?void 0:n.value)||void 0===i?void 0:i.set)&&(null===(r=null===(o=e.onCatelogChange)||void 0===o?void 0:o.value)||void 0===r||r.set(t)))}},o().createElement("div",{className:r.A.btnName},t)))))),i)):void 0}function p(e){var t,n;const i={默认:[]};let o=["默认"];const{items:r,onCatelogChange:s}=e;let a=!1;r&&(e.items.forEach((e=>{const{catelog:t}=e;t||0===t?i[t]?i[t].push(e):(i[t]=[e],o.push(String(t))):i["默认"].push(e),p(e)})),o.length>1&&(a=!0),(null===(n=null===(t=e.onCatelogChange)||void 0===t?void 0:t.value)||void 0===n?void 0:n.get)&&(e.catelog=e.onCatelogChange.value.get()),i["默认"].length||(o=o.slice(1)),o.includes(e.catelog)||(e.catelog=o[0]),e.catelogMap=i,e.catelogAry=o,e.hasCatelog=a)}},18823:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91716);class o{constructor(){this.catelogs=[],this.catalogsRendered={},this._activeCateIdxCache={},this.queue=(0,i.c)(),this.groupStatus={}}get activeCateId(){return this._activeCateId}set activeCateId(e){if(this._activeCateId=e,this.catalogsRendered[e]=!0,this.catelogs.length>0){const t=this.catelogs.findIndex((({id:t})=>t===e));this._activeCateIdxCache[this.nowCatelogsId]=t}else delete this._activeCateIdxCache[this.nowCatelogsId]}setCatelogs(e){if(e){const t=e.id||this.focusModel.id;let n;this.nowCatelogsId=t;const i=this._activeCateIdxCache[t];if(Array.isArray(e)){if(this.catelogs=e,e.length>0){if("number"==typeof i){const t=e[i];t&&(n=t.id)}n&&e.find((({id:e})=>e===n))||(n=e[0].id)}}else if(Array.isArray(e.catalogAry)){if(this.catelogs=e.catalogAry,e.catalogAry.length>0){if("number"==typeof i){const t=e.catalogAry[i];t&&(n=t.id)}n&&this.catelogs.find((({id:e})=>e===n))||(n=this.catelogs[0].id)}"function"==typeof e.isValid&&(this.isValid=e.isValid)}else this.catelogs=void 0;this.catalogsRendered={},this.activeCateId=n}}isActiveCatelog(e){return this.activeCateId===e}switchCatelog(e){this.activeCateId=e}}},75422:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,f:()=>r});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M560 800l-10.464-416h-75.072L464 800h96z m-14.144-493.984c9.44-9.312 14.144-20.672 14.144-34.016 0-13.6-4.704-24.992-14.144-34.208A46.784 46.784 0 0 0 512 224c-13.12 0-24.448 4.608-33.856 13.792A45.856 45.856 0 0 0 464 272c0 13.344 4.704 24.704 14.144 34.016 9.408 9.312 20.704 13.984 33.856 13.984 13.12 0 24.448-4.672 33.856-13.984zM512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480 265.088 0 480-214.912 480-480 0-265.088-214.912-480-480-480z m0 64c229.76 0 416 186.24 416 416s-186.24 416-416 416S96 741.76 96 512 282.24 96 512 96z"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M757 894.1H267c-75.6 0-137.1-61.5-137.1-137.1V267c0-75.6 61.5-137.1 137.1-137.1h357.2c26.5 0 48 21.5 48 48s-21.5 48-48 48H267c-22.7 0-41.1 18.4-41.1 41.1v490c0 22.7 18.4 41.1 41.1 41.1h490c22.7 0 41.1-18.4 41.1-41.1V400.6c0-26.5 21.5-48 48-48s48 21.5 48 48V757c0 75.6-61.5 137.1-137.1 137.1z",fill:"#707070"}),i.createElement("path",{d:"M512 560c-12.3 0-24.6-4.7-33.9-14.1-18.8-18.8-18.8-49.1 0-67.9l334-334c18.8-18.7 49.1-18.7 67.9 0s18.8 49.1 0 67.9l-334.1 334c-9.3 9.4-21.6 14.1-33.9 14.1z",fill:"#707070"}))},82245:(e,t,n)=>{"use strict";n.d(t,{g:()=>m,m:()=>h});var i=n(96966),o=n(5289),r=n(75422),s=n(64012),a=n.n(s),l=n(91737),c=n(18823),d=n(32903),u=n(91716),p=n(85991),f=n(79777);function h({group:e,isChild:t,index:n,groupIndex:r}){var l;if(e.hasCatelog)return a().createElement(f.mi,{key:e.id,group:e,index:0});if(e.catalogs)return a().createElement(f.bV,{key:e.id,group:e,level:0});let c;if(e.ifVisible&&!e.ifVisible()&&(c=!0),!e.items||0===e.items.length)return;const d=void 0!==e.title?e.title:"";let u=null===(l=(0,p.yK)().groupStatus[e.id])||void 0===l?void 0:l.folded;void 0===u&&(u=e.folded);const h=t&&e.items&&e.items.length&&e.title,g=(0,s.useRef)();return(0,s.useLayoutEffect)((()=>{if(!c){const e=g.current,t=e.querySelectorAll(`.${o.A.item}`);let n=!0;t&&t.forEach((e=>{e.children.length>0&&(n=!1)})),n&&(e.style.display="none")}}),[c]),c?void 0:a().createElement("div",{key:e.id,ref:g,className:`\n        ${o.A.group}\n        ${u?o.A.folded:o.A.unfold}\n        ${"function"==typeof e.fixedAtBottom&&e.fixedAtBottom()?o.A.fixedAtBottom:""}\n      `,style:1===r&&n?{marginTop:15}:{}},""!==d?a().createElement("div",{className:o.A.groupTitle,style:{marginBottom:d&&!u?5:0},onClick:h?t=>function(e,t){t.folded=!t.folded,t.id&&((0,p.yK)().groupStatus[t.id]={folded:t.folded})}(0,e):null},a().createElement("div",{className:o.A.text},a().createElement("p",{dangerouslySetInnerHTML:{__html:d}}),e.description&&v(e.description)),h?a().createElement("div",{className:o.A.action},u?i.FI.ArrowRight:i.FI.ArrowDown):null):null,a().createElement("div",{style:{display:u?"none":"block"}},e.items&&e.items.map(((e,n)=>(e instanceof i.K9.Group&&!e.hasCatelog&&(r+=1),a().createElement(i.sr,{key:n,title:`编辑器 ${e.title} 发生错误`},a().createElement(m,{item:e,idx:n,isChild:t,groupIndex:r})))))))}function m({item:e,idx:t,isChild:n,groupIndex:o}){if(e){if(e instanceof i.K9.Group)return e.title,a().createElement(h,{group:e,isChild:!0,index:t,groupIndex:o});{const n=e.getUpdater;let i=`item_${t}`;return"function"==typeof n&&(0,l.HO)((()=>{n(),i=`item_${t}_${Date.now()}`})),a().createElement(g,{key:i,item:e,idx:t})}}}function g({item:e,idx:t}){const n=(0,l.lB)(c.A,{from:"parents"}),{context:r,emitLocale:f}=n,h=(0,l.J2)(i.Zm.Views,{expectTo:"parents"});if("function"==typeof e)return a().createElement("div",{className:o.A.item},e());if(e instanceof i.K9.SeperatorItem)return a().createElement("div",{className:o.A.sperator});if(e instanceof i.K9.RenderItem)return a().createElement("div",{className:o.A.item},"function"==typeof e.content?a().createElement(e.content,null):e.content);if(e instanceof i.K9.FunctionItem){const t=e.fn();if(t)return a().createElement("div",{className:o.A.item},t)}else{if(e instanceof i.K9.ErrorItem)return a().createElement("div",{className:`${o.A.item} ${o.A.error}`},a().createElement("div",{className:o.A.itemTitle},a().createElement("span",{dangerouslySetInnerHTML:{__html:e.title}})),a().createElement("div",{className:o.A.desc,dangerouslySetInnerHTML:{__html:e.description}}));if(e.$$typeof)return a().createElement("div",{className:o.A.item},e);{const{description:t,title:i,type:l,value:c,binding:m,options:g,_ifVisible:x,ifVisible:A,ele:w}=e;let E,C=!0;if(!e.type)return;let _=g;"function"==typeof g&&(_=g());const M=r.configs.editView,I=M.editorOptions;let k;I&&(k=I[e.type],_?"object"==typeof _&&"object"==typeof k&&(_=Object.assign({},k,_)):_=k);const P=(0,s.useMemo)((()=>{let t;"function"==typeof f.ifEnable&&f.ifEnable()&&(t={searchById:e=>f.searchById(e),edit(e){f.edit({value:e.value})}});return Object.assign({_onError_:p.aX,popView:h.popView,aiView:r.configs.aiView,locales:t,modules:{getAll(){const e=n.emitModule.getAll();if(e)return e}},scenes:{getAll(){const e=n.emitScene.getAll();if(e&&Array.isArray(e))return e.map((e=>({id:e.id,title:e.title,type:e.type,get components(){return e.getComTree()}})))}},connectors:{getAll:()=>n.emitConnector.getAll()},getDefaultOptions(e){if(e&&I)return I[e]}},e,{options:_})}),[]);if(!E){const e=(0,d.A)(P);e&&(C=e.showTitle,E=e.render())}const F=null==M?void 0:M.editorLoader;if(E||"function"!=typeof F||(E=F(P)),!E)return a().createElement("div",{className:o.A.item},C&&"string"==typeof e.title?a().createElement("div",{className:o.A.itemTitle},a().createElement("span",{className:o.A.tt,dangerouslySetInnerHTML:{__html:e.title}}),i&&C&&t&&v(t)):null,C&&"function"==typeof e.title?a().createElement("div",{className:o.A.itemTitle},a().createElement("span",{className:o.A.tt,dangerouslySetInnerHTML:{__html:e.title()}})):null,a().createElement("div",{className:o.A.notFound},"未找到编辑器 ",l));if(E&&(!A||x||A())){if((0,u.rs)(E.render,"object")&&(E=E.render,C=!1),l.match(/^_.+_$/g))return a().createElement(a().Fragment,null,E);{let n;if(C)if("string"==typeof e.title){let r;if(m){const t=m.get();t?(r=a().createElement("span",{className:`${o.A.atVar} ${o.A.atVarBinded}`,onClick:t=>y(e),"data-mybricks-tip":"已绑定变量"},t.title),E=null):r=a().createElement("span",{className:o.A.atVar,onClick:t=>y(e),"data-mybricks-tip":"绑定变量"})}n=a().createElement("div",{className:o.A.itemTitle},a().createElement("span",{className:o.A.tt,dangerouslySetInnerHTML:{__html:e.title}}),i&&t&&v(t),r)}else"function"==typeof e.title&&(n=a().createElement("div",{className:o.A.itemTitle},e.title()));const s=a().createElement(a().Fragment,null,n,E);if(e.selectable){let t;return r.isDesnModeOfBluePrint()&&(t="保留"),r.isDesnModeOfComponent()&&(t="保留"),a().createElement("div",{className:o.A.withCheck},a().createElement("div",{className:o.A.check},a().createElement(b,{item:e}),a().createElement("span",null,t)),a().createElement("div",{className:o.A.item},s))}return a().createElement("div",{className:o.A.item},s)}}}}}function y(e){const{binding:t}=e;t.set()}function b({item:e}){const[t,n]=(0,s.useState)(e.selected.get());return a().createElement("input",{"data-mybricks-tip":"保留为可编辑项",type:"checkbox",value:1,checked:t,onChange:t=>{const i=t.currentTarget.checked;n(i),e.selected.set(i)}})}function v(e){return a().createElement("div",{className:o.A.description,"data-mybricks-tip":e},r.G)}},62678:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(39816),r=n(18823),s=n(96966),a=n(75422),l=n(64012),c=n(64012);function d(){var e,t;const n=(0,i.lB)(r.A,{from:"parents"}),d=(0,i.J2)(class{constructor(){this.title=""}edit(e){this.catalog=e,this.title=e.title}setTitle(e){this.title=e}complete(){this.catalog&&(this.catalog.title=this.title,this.catalog.setTitle(this.title),this.catalog=void 0)}}),u=(0,l.useRef)(),[p,f]=(0,l.useState)(0);(0,l.useMemo)((()=>{f(0)}),[n.catelogs]);const h=(0,l.useCallback)((e=>{const t=u.current;let n=0;for(let e=0;e<t.children.length;e++)n+=t.children[e].offsetWidth;if(n<=t.offsetWidth)return;if(e.deltaX>0){if(t.offsetWidth-p>=n)return void f(t.offsetWidth-n);f(p-e.deltaX)}else{if(p>=0)return void f(0);f(p-e.deltaX)}}),[p]),m=n.cooperations;return c.createElement("div",{ref:u,className:o.A.editTabs,onWheel:h,style:{transform:`matrix(1, 0, 0, 1, ${p}, 0)`}},n.catelogs&&n.catelogs.map((e=>{const t=e.title,i=e.setTitle&&"function"!=typeof e.title;return c.createElement("div",{key:e.id,title:e.setTitle?"（双击编辑标题）":e.title,className:`${o.A.editTab} ${n.isActiveCatelog(e.id)?o.A.editTabActived:null}`,onClick:()=>n.switchCatelog(e.id),onDoubleClick:t=>{i&&d.edit(e)}},c.createElement("span",{className:o.A.title},"function"==typeof t?c.createElement(t,null):t),i?c.createElement(c.Fragment,null,c.createElement("span",{className:o.A.icon,"data-mybricks-tip":"双击编辑标题"},a.f),d.catalog?c.createElement("input",{className:o.A.editor,type:"text",value:d.title,ref:e=>{e&&(e.focus(),d.editor||(d.editor=e,e.select()))},onChange:e=>{d.setTitle(e.target.value)},onBlur:d.complete,onKeyDown:e=>{13===e.keyCode&&d.complete()}}):null):null)})),m?c.createElement("div",{className:`${o.A.editTab} ${o.A.coopTab} ${n.isActiveCatelog(m.id)?o.A.coopTabActived:null}`,onClick:()=>n.switchCatelog(m.id)},c.createElement("span",{className:`${o.A.title} ${(null===(t=null===(e=m.cooperation)||void 0===e?void 0:e.commentAry)||void 0===t?void 0:t.length)>0?o.A.hasCoops:""}`},s.FI.Cooperation)):null)}},68591:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{}},99685:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(11997),o=n(91737),r=n(18823),s=n(47366),a=n(57931),l=n(68591),c=n(64012);function d(){const e=(0,o.lB)(r.A,{from:"parents"}),t=e.cooperations,n=(0,o.J2)(l.A,(e=>e({uiModel:t})));if(e.activeCateId===e.cooperations.id)return c.createElement("div",{className:i.A.coop,style:{display:e.activeCateId===e.cooperations.id?"flex":"none"}},c.createElement("div",{className:i.A.scroll},c.createElement(a.A,{coopeCtx:n}),c.createElement(s.A,{coopeCtx:n})))}},57931:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(29303),o=n(64012),r=n.n(o),s=n(91737),a=n(96966);function l({coopeCtx:e}){var t;const{uiModel:n}=e,[l,c]=(0,o.useState)(!1),d=(0,o.useCallback)((()=>{var e;if(n.cooperation||(n.cooperation=new a.N6),(null===(e=n.cooperation.labelAry)||void 0===e?void 0:e.length)<=0){const e=new a.ed({name:"todo"});n.cooperation.addLabel(e)}else c(!0)}),[]),u=(0,o.useCallback)((e=>{n.cooperation.labelAry[n.cooperation.labelAry.length-1].name=e.value,c(!1)}),[]),p=(0,o.useCallback)((()=>{n.cooperation&&(n.cooperation.labelAry=[])}),[]),f=null===(t=n.cooperation)||void 0===t?void 0:t.labelAry;let h;return h=f&&f.length>0?r().createElement("div",{className:i.A.labels},f.map(((e,t)=>{const n=i.A[e.name];return r().createElement(o.Fragment,{key:t},t===f.length-1?r().createElement("label",{className:`${n} ${i.A.labelTitle}`},e.title):null)}))):r().createElement("div",{className:i.A.adder,"data-mybricks-tip":"添加标签"},"+"),r().createElement("div",{className:i.A.view,onClick:d},r().createElement("div",{className:i.A.tt},"标签"),h,r().createElement("span",{className:i.A.del,onClick:(0,s.Wj)(p).stop,"data-mybricks-tip":"{content:'清除',position:'left'}"},a.FI.garbage),l?r().createElement("div",{className:i.A.pop},a.ed.getAllDef().map((e=>r().createElement("div",{onClick:(0,s.Wj)((t=>{u(e)})).stop},e.label)))):null)}},47366:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(34648),o=n(64012),r=n(96966),s=n(91737),a=n(64012);function l({coopeCtx:e}){var t,n;const{uiModel:l}=e,c=null===(n=null===(t=l.cooperation)||void 0===t?void 0:t.commentAry)||void 0===n?void 0:n[0],[d,u]=(0,o.useState)(null==c?void 0:c.content),p=(0,o.useCallback)((e=>{d&&""!==d?(l.cooperation||(l.cooperation=new r.N6),0===l.cooperation.commentAry.length?l.cooperation.addComment(d):l.cooperation.commentAry[0].content=d):l.cooperation&&(l.cooperation.commentAry=[])}),[d]),f=(0,o.useCallback)((()=>{u(""),l.cooperation&&(l.cooperation.commentAry=[])}),[l]);return a.createElement("div",{className:i.A.editor},a.createElement("div",{className:i.A.tt},a.createElement("label",null,"评论"),a.createElement("span",{onClick:(0,s.Wj)(f).stop,"data-mybricks-tip":"{content:'清除',position:'left'}"},r.FI.garbage)),a.createElement("textarea",{ref:e=>{e&&e.focus()},value:d,onChange:e=>{u(e.target.value)},onBlur:p}))}},18368:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(53477);const o={},r={};class s{constructor(){this.status="done",this._chatGPTModel="GPT4oMini",this.actived=!1,this.response=[],this.loading=!1}get comModel(){return this._comModel}set comModel(e){this._comModel=e;const t=e.id;o[t]||(o[t]=[]),r[t]||(r[t]=[]),this.messages=o[t],this.response=r[t]}getLLMIcon(){return this.isLLMOfAliTongyiqianwen()?i.sK:this.isLLMOfBaiduWenxin()?i.w8:i.My}isLLMOfAliTongyiqianwen(){return"AliTongyi"===this._chatGPTModel}isLLMOfBaiduWenxin(){return"BaiduWenxin"===this._chatGPTModel}scrollContent(){this.contentEl.scrollTop=this.contentEl.scrollHeight}request({question:e,getSystemPrompts:t,getTools:n,emits:i}){const o=this.context.configs.aiView;let r,s;if("function"==typeof o.request?s=o.request:"function"==typeof o.requestAsStream&&(r=o.requestAsStream),"function"==typeof r||"function"==typeof s){const o=`${e}`;if(0===this.messages.length){const e=t();this.messages.push({role:"system",content:e})}if(this.messages.push({role:"user",content:o}),"function"==typeof s){let e;"function"==typeof n&&(e=n()),s(this.messages,e).then((e=>{const{content:t,tool_calls:n}=e;i.write(t),i.complete(n)})).catch((e=>{i.error(e)}))}else if("function"==typeof r)return r(this.messages,i)}}active(){this.actived=!0}minimize(){this.actived=!1}clear(){}clearMessages(){this.comModel&&(this.messages[this.comModel.id]=[]),this.response=[]}}},53895:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n(9866),r=n(64012);function s({ctx:e}){const t=(0,i.useCallback)((t=>{const n=e.comModel;if(n&&"Enter"===t.key){requestAnimationFrame((t=>{e.curRequest=""}));const i=t.target.value;if(!i||""===i)return void(e.curRequest="");const o={targetTitle:n.title,content:i,status:"loading"};e.response.push(o),e.status="ing";const r=e.response[e.response.length-1];e.request({question:i,getSystemPrompts:()=>n.getSystemPrompts(((e,t)=>e)),getTools:()=>n.getTools(),emits:{write(t){if(e.status="done",r.status="done",t){const n=(r.result||"")+t;r.result=n;let i=(r.resultHTML||"")+t;i=i.replace(/\n/g,"<br/>"),i=i.replace(/(\*\*)(.*?)(\*\*)/g,"<b>$2</b>"),r.resultHTML=i,requestAnimationFrame((t=>{e.scrollContent()}))}},complete(t){e.curResponse=r.result,console.log(e.curResponse);const n=e.curResponse||"";if(n){const i={};let o=n;o=o.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((e,t,n)=>(i[t]=n,`${t}代码`))),i.content=o,e.comModel.getTools?e.value.set(t):e.value.set(i),e.messages.push({role:"assistant",content:n})}},error(t){e.status="error",r.status="error",t instanceof Error?r.result=t.message:r.result=t}}})}}),[e.comModel]);let n;n="ing"===e.status?"处理中...":"请问您的问题是什么？";const s=(0,i.useRef)();return r.createElement("div",{className:o.A.executor},e.getLLMIcon(),r.createElement("textarea",{placeholder:n,disabled:"ing"===e.status,ref:e=>{e&&(s.current||(s.current=e,e.focus()))},onKeyDown:t,value:e.curRequest,onChange:t=>e.curRequest=t.target.value}))}},53477:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,sK:()=>r,w8:()=>s});var i=n(64012);i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M348.36 355.61a36 36 0 0 0-36 36v254.54a36 36 0 0 0 72 0V391.61a36 36 0 0 0-36-36zM737.21 367.55a36 36 0 0 0-50.84-2.72L544.71 492.1a36 36 0 0 0 0.64 54.12L687 667.63A36 36 0 1 0 733.86 613l-110.51-94.76 111.14-99.85a36 36 0 0 0 2.72-50.84z",fill:"#515151"}),i.createElement("path",{d:"M910 228.46c-26.1-22.88-61.73-43.81-105.91-62.2-41.66-17.34-89.85-31.72-139.36-41.6A788.76 788.76 0 0 0 511 109c-83.82 0-191.07 21.85-279.88 57-46.8 18.53-84.7 39.15-112.66 61.27-36.63 29-55.21 60.18-55.21 92.7V701c0 72.36 91.14 123.41 167.6 153.5 88.57 34.85 196 56.5 280.4 56.5 76.07 0 182.87-21.5 272.11-54.77 48.54-18.1 87.86-38.07 116.89-59.36 39.15-28.73 59-60 59-92.87V320c0-32.08-16.57-62.88-49.25-91.54zM887.25 704c0 6-7.75 18.79-29.6 34.82-23.33 17.12-57.72 34.39-99.44 49.95-80.59 30-179.83 50.23-247 50.23-76 0-173.31-19.73-254-51.5-89.48-35.21-122-71-122-86.5V320c0-15.5 32.59-51.47 122.38-87 79.75-31.6 179.2-52 253.41-52 88.36 0 187.58 19.34 265.42 51.74 76.15 31.69 110.83 67.45 110.83 87.26z",fill:"#515151"}));const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 1024C229.052632 1024 0 794.947368 0 512S229.052632 0 512 0s512 229.052632 512 512c0 116.77193-40.421053 231.298246-114.526316 321.122807L875.789474 806.175439c67.368421-83.087719 103.298246-186.385965 103.298245-294.175439C979.087719 253.754386 770.245614 44.912281 512 44.912281S44.912281 253.754386 44.912281 512s208.842105 467.087719 467.087719 467.087719c60.631579 0 116.77193-11.22807 172.912281-33.68421l15.719298 42.666666c-58.385965 24.701754-123.508772 35.929825-188.631579 35.929825z",fill:"#515151"}),i.createElement("path",{d:"M714.105263 761.263158V455.859649c0-24.701754 2.245614-56.140351 4.491228-89.824561h-2.245614c-6.736842 22.45614-11.22807 38.175439-15.719298 47.157894L529.964912 763.508772H494.035088l-170.666667-348.070176c-4.491228-8.982456-8.982456-24.701754-15.719298-49.403508h-2.245614c2.245614 22.45614 2.245614 51.649123 2.245614 94.315789V763.508772h-65.122807V300.912281h89.824561l152.701755 316.631579c11.22807 24.701754 20.210526 42.666667 22.45614 56.140351h2.245614c11.22807-29.192982 20.210526-47.157895 24.701754-58.385965l154.947369-314.385965h87.578947v460.350877h-62.877193z",fill:"#515151"})),r=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M939.7888 421.4144a248.832 248.832 0 0 0-21.376-204.3904 251.6608 251.6608 0 0 0-271.0656-120.7424A248.832 248.832 0 0 0 459.648 12.608a251.6864 251.6864 0 0 0-240.0896 174.2592 248.9216 248.9216 0 0 0-166.4 120.704 251.6992 251.6992 0 0 0 30.9504 295.1168 248.832 248.832 0 0 0 21.3888 204.3904 251.6864 251.6864 0 0 0 271.0656 120.7424 248.832 248.832 0 0 0 187.6864 83.6736 251.6736 251.6736 0 0 0 240.1664-174.3488 248.9216 248.9216 0 0 0 166.4-120.7168 251.6992 251.6992 0 0 0-31.04-295.0144zM564.352 946.2016a186.6624 186.6624 0 0 1-119.8208-43.328c1.5104-0.832 4.1728-2.2784 5.9008-3.3536L649.3184 784.64a32.3328 32.3328 0 0 0 16.3328-28.288V475.9296l84.0704 48.5376a3.008 3.008 0 0 1 1.6384 2.304v232.2176a187.4304 187.4304 0 0 1-187.008 187.2z m-402.1888-171.776a186.5472 186.5472 0 0 1-22.336-125.44c1.472 0.8832 4.0576 2.4576 5.9008 3.52l198.8992 114.8928a32.3712 32.3712 0 0 0 32.6656 0l242.8288-140.2112v97.0752a3.008 3.008 0 0 1-1.2032 2.5856l-201.0496 116.0832a187.392 187.392 0 0 1-255.7056-68.5056zM109.824 340.224a186.5088 186.5088 0 0 1 97.4336-82.0736c0 1.7152-0.1024 4.736-0.1024 6.848v229.7728a32.32 32.32 0 0 0 16.3328 28.288l242.816 140.1856-84.0576 48.5376a3.008 3.008 0 0 1-2.8416 0.256L178.3296 595.84A187.392 187.392 0 0 1 109.824 340.224z m690.688 160.7296L557.696 360.7424l84.0576-48.512a3.008 3.008 0 0 1 2.8288-0.256l201.088 116.0832a187.2256 187.2256 0 0 1-28.928 337.8176V529.2416a32.3072 32.3072 0 0 0-16.2304-28.288z m83.6736-125.9264c-1.4848-0.9088-4.0576-2.4704-5.9136-3.5328l-198.8864-114.88a32.4096 32.4096 0 0 0-32.6656 0L403.8912 396.8256v-97.088a3.008 3.008 0 0 1 1.2032-2.5856l201.0496-115.9808a187.2128 187.2128 0 0 1 278.0416 193.856zM358.1824 548.0576l-84.096-48.5376a3.008 3.008 0 0 1-1.6256-2.304V264.9984a187.2128 187.2128 0 0 1 307.008-143.744 172.8 172.8 0 0 0-5.9136 3.3408l-198.8864 114.88a32.32 32.32 0 0 0-16.3456 28.288l-0.1408 280.2944z m45.6704-98.4576L512 387.136l108.16 62.4256v124.8896L512 636.8768l-108.16-62.4256v-124.8512z",fill:"#d81e06"})),i.createElement("svg",{viewBox:"0 0 1040 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M367.632787 14.268852C360.918033 22.662295 327.344262 77.219672 293.770492 135.97377L231.659016 243.409836h-67.986885c-36.931148 0-71.344262 3.357377-76.380328 6.714754C77.219672 256.839344 0 387.777049 0 398.688525c0 4.196721 30.216393 58.754098 67.986885 123.383606L135.97377 637.901639l-30.216393 53.718033C88.970492 720.996721 75.540984 749.534426 75.540984 755.409836c0 5.036066 17.62623 39.44918 38.609836 75.540984l38.609836 67.147541h282.859016l26.859017 47.842623c41.967213 72.183607 49.521311 78.059016 110.793442 77.219672 111.632787-0.839344 107.436066 2.518033 181.298361-125.062295 66.308197-113.311475 66.308197-113.311475 100.721311-117.508197 27.698361-3.357377 36.931148-9.232787 47.003279-28.537705 6.714754-12.590164 12.590164-26.859016 12.590164-30.216393 0-4.196721 4.196721-17.62623 10.072131-31.055738 5.036066-12.590164 9.232787-26.019672 8.393443-30.216394-0.839344-3.357377 2.518033-5.87541 7.554098-5.875409 4.196721 0 5.87541-4.196721 3.357377-8.393443-2.518033-5.036066-20.983607-8.393443-40.288525-8.393443-35.252459 0-35.252459-0.839344-67.986885-58.754098-18.465574-32.734426-36.091803-56.236066-38.609836-52.878689-3.357377 4.196721-65.468852 110.793443-138.491803 237.534427-73.022951 126.740984-133.455738 231.659016-134.295082 233.337705-1.678689 1.678689-18.465574-26.019672-38.609836-60.432787l-36.931148-62.95082-140.170491-2.518033-140.170492-2.518033 35.252459-58.754098 35.252459-58.754098 68.826229-2.518033 67.986886-2.518033-133.455738-230.819672C168.708197 387.777049 109.114754 280.340984 109.114754 276.144262s31.055738-7.554098 69.665574-7.554098h68.826229l67.147541-117.508197c36.931148-64.629508 69.665574-117.508197 73.022951-117.508197C394.491803 33.57377 453.245902 137.652459 453.245902 150.242623c0 4.196721-13.429508 31.055738-29.37705 58.754098-15.947541 26.859016-29.377049 52.039344-29.377049 54.557377 0 2.518033 124.222951 5.87541 276.144263 6.714754l276.983606 2.518033-36.931147 59.593443-36.091804 60.432787 38.609836 67.986885c21.822951 36.931148 41.967213 67.986885 46.163935 67.986885 12.590164 0 5.036066-23.501639-27.698361-78.059016l-32.734426-57.07541 26.019672-43.645902c42.806557-73.022951 42.806557-72.183607 5.87541-145.206557-19.304918-36.931148-40.288525-71.344262-47.842623-77.219672-9.232787-6.714754-52.878689-10.072131-145.206557-10.072131H605.167213l-31.055738-52.878689c-16.786885-28.537705-34.413115-54.557377-40.288524-57.914754-5.036066-3.357377-41.967213-6.714754-81.416394-6.714754-58.754098 0-74.701639 2.518033-84.77377 14.268852z"}),i.createElement("path",{d:"M362.596721 426.386885C369.311475 444.013115 514.518033 688.262295 519.554098 691.619672c4.196721 3.357377 149.403279-237.534426 158.636066-264.393442 1.678689-4.196721-62.111475-7.554098-157.796721-7.554099-88.131148 0-159.47541 3.357377-157.796722 6.714754z"}))),s=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M96.20121136 636.3124965c-0.1472897-113.41305959-0.29457937-226.8261192-0.29457937-340.23917879 0-14.87625845 7.65906378-26.51214381 20.4732666-34.02391789 45.51251353-26.65943349 91.02502705-53.31886698 136.83211997-79.53643141 71.1409192-40.94653321 142.42912809-81.59848704 213.71733698-122.39773055 7.36448439-4.12411126 14.58167909-8.3955122 21.50429441-13.2560719 19.44223878-13.40336159 39.03176725-16.05457598 60.09419263-3.53495252 27.39588193 16.34915535 54.93905355 32.25644163 82.48222516 48.16372793 88.0792333 50.96223197 176.30575629 101.77717426 264.38498958 152.59211653 9.86840908 5.74429781 19.88410785 11.19401627 29.60522725 17.0856038 14.13981003 8.54280189 21.50429441 21.06242535 21.50429443 37.70616007 0 147.73155685 0.29457937 295.46311371-0.1472897 443.19467057 0 15.46541722-7.2171947 28.57419943-21.7988738 36.96971163-34.7603663 20.17868721-70.55176044 38.88447758-104.57567833 59.94690293-48.90017634 30.19438599-100.00969801 56.11737105-148.76258466 86.60633642-29.01606849 18.11663161-59.50503387 34.02391789-89.11026112 50.96223197-13.10878221 7.51177407-26.07027474 15.17083783-39.03176726 22.9771913-13.84523065 8.3955122-27.83775099 8.83738127-41.97756102 0.73644843-56.41195043-32.55102101-112.82390085-65.10204201-169.38314098-97.653063-61.86166887-35.64410444-123.72333775-71.1409192-185.4377169-106.78502365-11.19401627-6.48074626-22.24074286-12.81420285-32.99289009-19.88410785-11.48859565-7.65906378-17.08560379-19.14765941-17.08560378-32.69831069-0.1472897-34.7603663 0.1472897-69.52073264 0.29457938-104.28109895 1.62018657-0.58915875 1.62018657-1.62018657-0.29457938-2.65121438z m356.58833414-225.500512c2.20934532-1.76747625 4.41869063-3.68224221 6.77532565-5.15513907 68.93157389-39.62092601 137.86314777-79.24185204 206.94201135-118.86277807 2.79850407-1.62018657 6.48074626-1.62018657 6.62803594-6.18616688 0.1472897-4.8605597-4.12411126-4.71327001-6.77532564-6.18616688-40.65195383-23.56635005-81.59848704-46.83812071-122.10315117-70.84633984-16.79102442-10.01569877-32.84560039-8.54280189-48.45830728 0.58915876-45.9543826 26.51214381-91.46689612 53.61344636-137.27398903 80.42016953-31.96186226 18.70579035-64.21830387 37.11700133-96.32745581 55.67550198-18.41121097 10.60485751-27.54317163 25.33382629-27.24859225 47.72185885 0.88373813 89.55213018 0.58915875 179.10426036 0.14728969 268.65639053-0.1472897 20.17868721 9.27925033 33.58204881 25.33382629 43.15587853 31.3727035 18.70579035 63.18727606 37.11700133 95.14913832 54.93905355 10.89943689 6.03887719 21.06242535 13.99252034 35.79139414 18.41121096V505.51925374c6.48074626 19.58952848 18.55850066 34.02391789 36.67513226 44.6287754 27.83775099 16.20186565 63.18727606 12.51962347 86.31175705-10.45756784 26.95401286-26.65943349 28.72148912-62.89269668 12.81420282-90.14128893-16.34915535-28.42690974-43.59774757-37.55887038-74.38129233-38.73718787z m82.48222517 429.64401928c14.28709972-3.82953187 25.92298506-13.99252034 38.88447758-21.35700473 40.94653321-23.27177067 81.30390766-47.72185885 122.54502023-70.55176046 26.95401286-15.02354815 52.87699792-31.66728287 80.71474891-45.21793415 16.79102442-8.10093283 29.60522723-22.53532223 29.60522726-43.4504579 0.1472897-92.939793 0.29457937-185.73229631 0.14728969-278.6720893 0-11.19401627-5.15513907-13.99252034-13.84523067-7.06990501-26.51214381 20.76784598-57.29568854 34.46578693-86.16446735 51.25681135-54.49718448 31.81457257-109.14165865 63.33456576-163.78613282 95.00184862-8.54280189 4.8605597-11.78317502 10.45756784-11.63588535 20.47326662 0.29457937 96.18016613 0.1472897 192.50762194 0.1472897 288.68778806-0.29457937 3.5349525-1.47289687 7.65906378 3.38766282 10.8994369z",fill:"#066AF3"}),i.createElement("path",{d:"M96.20121136 636.3124965c1.91476594 1.03102783 1.91476594 2.06205563 0 3.09308345v-3.09308345z",fill:"#4372E0"}),i.createElement("path",{d:"M391.3697457 505.37196405c-5.44971845-44.33419602 13.84523065-74.08671296 61.4197998-94.55997955 30.93083443 1.17831749 58.03213699 10.31027814 74.38129233 38.5898982 15.75999659 27.39588193 14.13981003 63.48185543-12.81420282 90.14128893-23.27177067 22.97719129-58.47400606 26.65943349-86.31175705 10.45756783-18.11663161-10.60485751-30.34167568-25.03924691-36.67513226-44.62877541z",fill:"#002A9A"}))},41007:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(18368),r=n(53895),s=n(32583),a=n(96966),l=n(64012),c=n(64012);function d({comModel:e,title:t,value:n,options:d,ele:p,containerEle:f}){const h=(0,i.lB)(a.Ho,{from:"parents"}),m=(0,i.J2)(o.A,(i=>{i({context:h,comModel:{id:e.id,title:t,getSystemPrompts:d.getSystemPrompts,getUserPrompts:d.getUserPrompts,getTools:d.getTools},value:n})}));return(0,l.useEffect)((()=>{m.scrollContent()}),[m]),c.createElement("div",{className:s.A.view},c.createElement("div",{className:s.A.content,ref:e=>{e&&(m.contentEl=e)}},c.createElement(u,{ctx:m})),c.createElement(r.A,{ctx:m}))}function u({ctx:e}){return e.response.map(((e,t)=>{const n=[];return"loading"===e.status?n.push(c.createElement("span",{className:`${s.A[e.status]}`},"(处理中)")):"apiDone"===e.status?n.push(c.createElement("span",{className:`${s.A[e.status]}`},"设置OpenAI API Key完成")):"done"===e.status?n.push(c.createElement(p,{item:e})):"error"===e.status&&n.push(c.createElement("span",{className:`${s.A[e.status]}`},"(",e.result,")")),c.createElement(l.Fragment,{key:t},c.createElement("div",{className:`${s.A.request}`},c.createElement("label",null,"对于",e.targetTitle),c.createElement("span",null,e.content)),n)}))}function p({item:e}){if(e.result)return c.createElement("div",{className:`${s.A[e.status]}`,dangerouslySetInnerHTML:{__html:e.resultHTML}})}d.showTitle=!1},45782:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(71280),s=n(91737),a=n(96966),l=n(91716);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.J2)(a.Zm.Connector,{expectTo:"parents"}),p=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),f=(0,s.J2)({passed:void 0,con:t.get()}),h=(0,i.useMemo)((()=>u.getAll()),[]),m=(0,i.useCallback)((()=>{p.popView("选择连接器",(({close:e})=>{let n=[];return Array.isArray(h)&&(n=h.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.A.con} ${(null===(i=f.con)||void 0===i?void 0:i.id)===n.id?r.A.focus:""}`,onClick:i=>function(n){t.set(n),f.con=n,e()}(n)},o().createElement("div",{className:r.A.desc},o().createElement("div",{className:r.A.title},n.title),o().createElement("div",{className:r.A.time},"创建于：",(0,l.Yq)(n.createTime))),o().createElement("div",{className:r.A.typeIcon},n.icon))}))),o().createElement("div",{className:r.A.conList},n)}),{width:350,beforeEditView:!0})}),[]),g=(0,i.useCallback)((()=>{t.set(null),f.con=t.get()}),[]);let y;return f.con&&h&&(y=h.find((e=>e.id===f.con.id))),o().createElement("div",{className:`${r.A.editor} ${r.A[null==n?void 0:n.type]}`,onClick:m},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.A.tt,"data-mybricks-tip":"点击选择"},y?`${y.title}`:"[空]"),y?o().createElement("span",{className:r.A.type},y.icon):null,y?o().createElement("span",{className:r.A.del,onClick:(0,s.Wj)(g).stop,"data-mybricks-tip":"移除"},a.FI.garbage):null)}},26862:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(42512),s=n(91737),a=n(96966),l=n(91716);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.J2)(a.Zm.DataSource,{expectTo:"parents"}),p=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),f=(0,s.J2)({passed:void 0,ds:t.get()}),h=(0,i.useCallback)((()=>{p.popView("选择数据源",(({close:e})=>{let n=[];const i=u.getAll();return Array.isArray(i)&&(n=i.map(((n,i)=>{var s;return o().createElement("div",{key:i,className:`${r.A.con} ${(null===(s=f.ds)||void 0===s?void 0:s.id)===n.id?r.A.focus:""}`,onClick:i=>{return o=n,t.set(o),f.ds=o,void e();var o}},o().createElement("div",{className:r.A.title},n.title),o().createElement("div",{className:r.A.time},"创建于：",(0,l.Yq)(n.createTime)))}))),o().createElement("div",{className:r.A.conList},n)}),{width:350,beforeEditView:!0})}),[]);return o().createElement("div",{className:`${r.A.editor} ${r.A[null==n?void 0:n.type]}`},o().createElement("div",{className:r.A.btns},o().createElement("div",{className:r.A.selected,onClick:h},o().createElement("span",null,"已选择:"),o().createElement("span",null,f.ds?f.ds.title:"[空] 点击选择.."))))}},34240:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(65874),s=n(91737),a=n(96966),l=n(91716);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.J2)(a.Zm.DomainModel,{expectTo:"parents"}),p=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),f=(0,s.J2)({passed:void 0,con:t.get()}),h=(0,i.useMemo)((()=>u.getAll()),[]),m=(0,i.useCallback)((()=>{p.popView("选择连接器..",(({close:e})=>{let n=[];return Array.isArray(h)&&(n=h.map(((n,i)=>{var s;return o().createElement("div",{key:i,className:`${r.A.con} ${(null===(s=f.con)||void 0===s?void 0:s.id)===n.id?r.A.focus:""}`,onClick:i=>{return o=n,t.set(o),f.con=o,void e();var o}},o().createElement("div",{className:r.A.desc},o().createElement("div",{className:r.A.title},n.title),o().createElement("div",{className:r.A.time},"创建于：",(0,l.Yq)(n.createTime))),o().createElement("div",{className:r.A.typeIcon},n.icon))}))),o().createElement("div",{className:r.A.conList},n)}),{width:350,beforeEditView:!0})}),[]);let g;return f.con&&h&&(g=h.find((e=>e.id===f.con.id))),o().createElement("div",{className:`${r.A.editor} ${r.A[null==n?void 0:n.type]}`,onClick:m},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.A.tt},g?`${g.title}`:"[空] 点击选择.."),g?o().createElement("span",{className:r.A.type},g.icon):null)}},65323:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(21799),s=n(91737),a=n(96966);function l({value:e,options:t}){const n=(0,s.J2)(a.Zm.Page,{expectTo:"parents"}),l=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),c=(0,s.J2)({passed:void 0,page:e.get()}),d=(0,i.useMemo)((()=>n.getAll()),[]),u=(0,i.useCallback)((()=>{l.popView("选择页面..",(({close:t})=>{let n=[];return Array.isArray(d)&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.A.page} ${(null===(i=c.page)||void 0===i?void 0:i.id)===n.id?r.A.focus:""}`,onClick:i=>function(n){e.set(n),c.page=n,t()}(n)},o().createElement("div",{className:r.A.icon},n.icon),o().createElement("div",{className:r.A.title},o().createElement("div",{className:r.A.title},n.title)))}))),o().createElement("div",{className:r.A.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.page&&d&&(p=d.find((e=>e.id===c.page.id))),o().createElement("div",{className:`${r.A.editor} ${r.A[null==t?void 0:t.type]}`,onClick:u},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.A.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.A.type},p.icon):null)}},82580:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(30162),s=n(91737),a=n(96966);function l({title:e,value:t,comModel:n,options:l,ele:c,containerEle:d}){const u=(0,s.J2)(a.Zm.Permission,{expectTo:"parents"}),p=t.get();let f;p&&(f=u.searchById(p.id));let h="";f&&(h="register"===f.type?"注册为功能项":"跟随当前场景");const m=(0,i.useCallback)((()=>{u.edit({value:{get:()=>p,set(e){t.set({id:e.id,type:e.type,registerData:e.register,hintLink:e.hintLink,remark:e.remark,register(){e.modelId=n.id,u.register(e)}})}}})}),[]);return o().createElement("div",{className:`${r.A.editor}`,onClick:m},o().createElement("span",{className:r.A.tt},`${h}`),o().createElement("span",null,"编辑.."))}},76276:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(48086),s=n(91737),a=n(96966);function l({value:e,options:t}){const n=(0,s.J2)(a.Zm.Scenes,{expectTo:"parents"}),l=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),c=(0,s.J2)({passed:void 0,scene:e.get()}),d=(0,i.useMemo)((()=>n.getAll()),[]),u=(0,i.useCallback)((()=>{l.popView("选择场景..",(({close:t})=>{let n=[];return Array.isArray(d)&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.A.page} ${(null===(i=c.scene)||void 0===i?void 0:i.id)===n.id?r.A.focus:""}`,onClick:i=>function(n){e.set({id:n.id,title:n.title}),c.scene=n,t()}(n)},o().createElement("div",{className:r.A.icon}),o().createElement("div",{className:r.A.title},o().createElement("div",{className:r.A.title},n.title)))}))),o().createElement("div",{className:r.A.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.scene&&d&&(p=d.find((e=>e.id===c.scene.id))),o().createElement("div",{className:`${r.A.editor} ${r.A[null==t?void 0:t.type]}`,onClick:u},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.A.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.A.type},p.icon):null)}},81175:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(99579),s=n(91737),a=n(96966);function l({value:e,options:t}){const{options:n}=t,l=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),c=(0,s.J2)({themeId:e.get()}),d=(0,i.useCallback)((()=>{l.popView("选择风格",(({close:t})=>{let i=[];return Array.isArray(n)&&(i=n.map((n=>{const i=n.previewUrl;return o().createElement("div",{key:n.id,className:`${r.A.theme} ${c.themeId===n.id?r.A.focus:""}`,onClick:i=>function(n){e.set(n.id),c.themeId=n.id,t()}(n)},o().createElement("div",{className:r.A.preview},i?o().createElement("img",{src:i}):null),o().createElement("div",{className:r.A.title},o().createElement("div",{className:r.A.title},n.title)))}))),o().createElement("div",{className:r.A.themes},i)}),{width:350,beforeEditView:!0})}),[]),u=n.find((e=>e.id===c.themeId));return u?o().createElement("div",{className:`${r.A.editor}`,onClick:d},o().createElement("div",{className:r.A.preview},u.previewUrl?o().createElement("img",{src:u.previewUrl}):o().createElement("span",null,"<自定义>")),o().createElement("div",{className:r.A.title},u.title)):o().createElement("div",{className:`${r.A.editor} ${r.A.notFound}`,onClick:d},o().createElement("div",{className:r.A.preview},o().createElement("span",null,"<未找到该风格>")),o().createElement("div",{className:r.A.title}))}},72602:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n.n(i),r=n(5760);function s({title:e,value:t,options:n,ele:i,containerEle:s}){return o().createElement("div",{className:`${r.A.button} ${r.A[null==n?void 0:n.type]}`,onClick:t.set},e)}s.showTitle=!1},32903:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(81175),o=n(34240),r=n(45782),s=n(82580),a=n(65323),l=n(76276),c=n(96966),d=n(41007),u=n(26862),p=n(55380),f=n(90589),h=n(81093),m=n(72602),g=n(27810),y=n(92938),b=n(64012);const v={};function x(e,t){v[e.toUpperCase()]=function(e){const{type:n,options:i,ele:o}=e,r=t.showTitle;return{render:()=>b.createElement(t,Object.assign({},e)),showTitle:"function"==typeof r?r(e):void 0===r||r}}}function A(e){if(!e||!e.type)return;const{type:t,options:n,ele:i}=e,o=v[t.toUpperCase()];return o?o(e):void 0}x(c.Ut.AI,d.A),x(c.Ut.DATASOURCE,u.A),x(c.Ut.THEME_SELECT,i.A),x(c.Ut.DOMAINMODELSELECT,o.A),x(c.Ut.PERMISSION,s.A),x(c.Ut.CONNECTORSELECT,r.A),x(c.Ut.SCENE_SELECT,l.A),x(c.Ut.PAGE_SELECT,a.A),x(c.Ut.SELF,p.A),x(c.Ut.TEXT,f.A),x(c.Ut.NUMBER,h.A),x(c.Ut.BUTTON,m.A),x(c.Ut.INPUT_GROUP,g.A),x(c.Ut.INPUT_TABLE,y.A)},27810:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(2372),o=n(64012),r=n(91737),s=n(64012);function a(e){const{value:t,options:n}=e,a=(0,o.useRef)(),l=(0,r.J2)(class{save(){const e={},n=a.current.querySelectorAll("input");for(let t=0;t<n.length;t++)e[n[t].name]=n[t].value;t.set(e)}}),c=t.get()||{};return s.createElement("div",{className:i.A.editor,ref:a},n.map(((e,t)=>s.createElement("div",{key:t,className:i.A.item},s.createElement("span",{className:i.A.label},e.title,":"),s.createElement("input",{name:e.name,type:"text",value:c[e.name]||"",onChange:l.save})))))}},76754:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(60748),o=n(91737),r=n(64012);function s(e){const{value:t,options:n}=e,{columns:s}=n,a=(0,o.J2)(class{save(){const e=[],n=this.ele.querySelectorAll("tr");for(let t=0;t<n.length;t++){const i=n[t].querySelectorAll("input"),o={};for(let e=0;e<i.length;e++)o[i[e].name]=i[e].value;e.push(o)}t.set(e)}});return r.createElement("div",{className:i.A.editor},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,s.map(((e,t)=>r.createElement("td",{key:t},e.title))))),r.createElement("tbody",{ref:e=>e&&(a.ele=e)},r.createElement("tr",null,s.map(((e,t)=>r.createElement("td",{key:t},r.createElement("input",{name:e.name,type:"text",onBlur:a.save}))))))))}},92938:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=n(76754).A},81093:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(90589);function o(e){let t=Object.assign({},e);return e.options||(t.options={type:"number"}),(0,i.A)(t)}},55380:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);function o(e){const{value:t,options:n={},locales:o}=e,{locale:r,dom:s}=n,[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),u=t.get();(0,i.useMemo)((()=>{if(u&&"object"==typeof u&&u.id){l(!0);const e=o.searchById(u.id);d(e?e.getContent("zh"):"<未找到文案>")}else d(u)}),[]);const p=(0,i.useRef)(),f=(0,i.useCallback)((e=>{const n=s.innerText;t.set(n),p.current=void 0}),[]);(0,i.useCallback)((e=>{o.edit({value:{get:()=>({val:u,curText:c}),set(e){e?(l(!0),d(e.getContent("zh")),t.set({id:e.id})):(l(!1),d(""),t.set(c))}}})}),[c]);(0,i.useEffect)((()=>{s.contentEditable="true";const e=document.createRange();e.selectNodeContents(s);const n=window.getSelection();n.removeAllRanges(),n.addRange(e),s.focus();const i=e=>{f(e)},o=e=>{"Enter"===e.key&&(e.preventDefault(),s.blur())},r=e=>{e.cancelBubble=!0};return s.addEventListener("blur",i),s.addEventListener("keydown",o),s.addEventListener("mousedown",r),()=>{s.contentEditable="false",s.removeEventListener("blur",i),s.removeEventListener("keydown",o),s.removeEventListener("mousedown",r),a&&p.current&&(t.set(p.current.value),p.current=void 0)}}),[a])}},90589:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=n(30466).A},30466:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(57943),s=n(96966),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function l(e){const{value:t,options:n={},locales:l}=e,{locale:c,readonly:d=!1,focusNow:u=!1,selectContent:p=!0,onDestroy:f,type:h="text",width:m,widthAuto:g,height:y,zoom:b=1}=n,v=a(n,["locale","readonly","focusNow","selectContent","onDestroy","type","width","widthAuto","height","zoom"]),x=!!c&&l,[A,w]=(0,i.useState)(!1),[E,C]=(0,i.useState)(""),_=(0,i.useMemo)((()=>{const e=t.get();if(e&&"object"==typeof e&&e.id){w(!0);const t=l.searchById(e.id);C(t?t.getContent("zh"):"<未找到文案>")}else C(e);return e}),[]),M=(0,i.useMemo)((()=>{if(n.dom){let e;function t(n){n.childNodes&&n.childNodes.forEach((n=>{if(n.innerText===_)return!n.childNodes||1===n.childNodes.length&&"#text"===n.childNodes[0].nodeName?e=getComputedStyle(n):t(n),!1}))}return t(n.dom),e?{textAlign:e.textAlign,fontSize:e.fontSize,fontFamily:e.fontFamily,fontBold:e.fontWeight,height:y}:{height:y}}return{}}),[]),I=(0,i.useRef)(),k=(0,i.useCallback)((e=>{const n=e.target.value;"number"===h?""!==n&&t.set(Number(n)):t.set(n),I.current=void 0}),[]),P=(0,i.useCallback)((e=>{l.edit({value:{get:()=>({val:_,curText:E}),set(e){e?(w(!0),C(e.getContent("zh")),t.set({id:e.id})):(w(!1),C(""),t.set(E))}}})}),[E]);(0,i.useEffect)((()=>{I.current&&u&&(I.current.focus(),p&&I.current.select())}),[]);const F=!u&&(d||A);return F&&!A?o().createElement("div",{className:r.A.editor,style:{width:m}},o().createElement("p",null,E)):o().createElement("div",{className:r.A.editor,style:{width:m,height:y}},o().createElement("input",Object.assign({type:h,style:M,className:`${r.A.input}${d?` ${r.A.disabled}`:""}`,value:E,disabled:F,ref:e=>{e&&(I.current||(I.current=e))},onChange:e=>{C(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&k(e)},onBlur:e=>{k(e)}},v)),x?o().createElement("span",{className:A?r.A.useLocale:"",onClick:P,"data-mybricks-tip":"多语言"},s.FI.world):null)}},61345:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var i=n(64012),o=n(32903),r=n(85991),s=n(91737),a=n(96966),l=n(64012);function c(e){return{render:t=>l.createElement(d,{edtContext:e,edtDesc:t})}}function d({edtContext:e,edtDesc:t}){const{context:n,emitLocale:l}=e,{type:c,options:d,value:u}=t,p=(0,s.J2)(a.Zm.Views,{expectTo:"parents"});let f=d;"function"==typeof d&&(f=d());const h=n.configs.editView,m=h.editorOptions;let g;m&&(g=m[c],f?"object"==typeof f&&"object"==typeof g&&(f=Object.assign({},g,f)):f=g);const y=(0,i.useMemo)((()=>{let n;l.ifEnable()&&(n={searchById:e=>l.searchById(e),edit(e){l.edit({value:e.value})}});return Object.assign({_onError_:r.aX,popView:p.popView,locales:n,connectors:{getAll:()=>e.emitConnector.getAll()},getDefaultOptions(e){if(e&&m)return m[e]}},t,{options:f})}),[]);let b,v=!0;const x=(0,o.A)(y);x&&(v=x.showTitle,b=x.render());const A=null==h?void 0:h.editorLoader;return b||"function"!=typeof A||(b=A(y)),b}},98880:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(91737),o=n(96966),r=n(18823),s=n(62678),a=n(79777),l=n(99685),c=n(61345),d=n(85991),u=n(45810),p=n(64012);function f(){const e=(0,i.lB)(o.Ho,{from:"parents"}),t=(0,i.J2)(o.Zm.Component,{expectTo:"parents"}),n=(0,i.J2)(o.Zm.Message,{expectTo:"parents"}),f=(0,i.J2)(o.Zm.Snap,{expectTo:"parents"}),h=(0,i.J2)(o.Zm.Locale,{expectTo:"parents"}),m=(0,i.J2)(o.Zm.Scenes,{expectTo:"parents"}),g=(0,i.J2)(o.Zm.Module,{expectTo:"parents"}),y=(0,i.J2)(o.Zm.Connector,{expectTo:"parents"}),b=(0,i.J2)(r.A,(i=>i({fmodel:void 0,context:e,emitScene:m,emitModule:g,emitConnector:y,emitItems:t,emitMessage:n,emitSnap:f,emitLocale:h})),{to:"children"});(0,i.yx)(o.Zm.Editor,(e=>e((0,c.m)(b))),{from:"parent"}),(0,d.Ts)(b),(0,i.HO)((()=>{let t;if(0==e.focusModelAry.length&&(t=e.focusDefault),1==e.focusModelAry.length&&(t=e.focusModelAry[0]),t){if(!(b.focusModel!==t||t instanceof o.PQ&&t.state.editingId!==b.focusModelEditingId))return;b.cooperations=void 0,t instanceof o.PQ&&t.state.editingId&&(b.focusModelEditingId=t.state.editingId);const n=e.configs.editView;if("function"==typeof(null==n?void 0:n.render)){let i;b.focusModel=t,i="function"==typeof t.getConfigData?t.getConfigData():e.focusDefault.getConfigData();const o=n.render(i);b.renderedJSX=o}else"function"==typeof t.getConfigs&&(b.focusModel=t,requestAnimationFrame((()=>{if(t&&"function"==typeof t.getConfigs){const e=t.getConfigs();e&&b.setCatelogs(e)}})))}else b.cooperations=void 0}));let v,x=b.catelogs;return v=x&&x.length>0?x.map((e=>p.createElement(a.Ay,{key:e.id,catelog:e}))):[],b.cooperations&&v.push(p.createElement(l.A,{key:b.cooperations.id})),p.createElement("div",{className:u.A.editView},b.renderedJSX?p.createElement(o.sr,{title:"编辑器发生错误"},b.renderedJSX):p.createElement(p.Fragment,null,p.createElement(s.A,null),p.createElement(o.sr,{title:"编辑器发生错误"},v)))}},85991:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>a,aX:()=>c,yK:()=>l});var i=n(5289),o=n(64012),r=n.n(o);let s;function a(e){s=e}function l(){return s}function c(e,t){if(console.error(e),"render"===t)return r().createElement("div",{className:i.A.error},r().createElement("div",{className:i.A.itemTitle},"编辑器发生错误:"),r().createElement("div",{className:i.A.desc},e.message))}},50363:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>_,YP:()=>C});var i=n(64012),o=n.n(i),r=n(91737),s=n(96966),a=n(35003),l=n(77050),c=n(95947),d=n(99434),u=n(86392),p=n(76033),f=n(55939),h=n(57039),m=n(77645),g=n(28261),y=n(70954),b=n(47279),v=n(68400),x=n(15567),A=n(55569),w=n(34163);let E;function C(){return E}function _({viewModel:e,cssVars:t,comThemes:n}){const C=(0,r.J2)(s.Zm.Logs,{expectTo:"parents"}),_=(0,r.J2)(s.Zm.Role,{expectTo:"parents"}),I=(0,r.J2)(s.Zm.Module,{expectTo:"parents"}),k=(0,r.J2)(s.Zm.Component,{expectTo:"parents"}),P=(0,r.J2)(s.Zm.IOCAbout,{expectTo:"parents"}),F=(0,r.J2)(s.Zm.Snap,{expectTo:"parents"}),S=(0,r.J2)(s.Zm.Page,(e=>e({createPortal(e){const t=E.getCurrentCanvasElement();return(0,p.createPortal)(e,t)}})),{to:"children"}),T=(0,r.J2)(s.Zm.Views,{expectTo:"parents"}),O=(0,r.J2)(s.Zm.Message,{expectTo:"parents"}),D=(0,r.J2)(s.Zm.Debug,{expectTo:"parents"}),N=(0,r.J2)(s.Zm.Frame,{expectTo:"parents"}),j=(0,r.J2)(s.Zm.Editor,{expectTo:"parents"}),L=(0,r.J2)(s.Zm.WindowEvents,{expectTo:"parents"}),R=(0,r.J2)(s.Zm.Variable,{expectTo:"parents"}),B=(0,r.lB)(s.Ho,{from:"parents"}),$=(0,r.J2)(l.a),z=(0,r.J2)(s.Zm.Scenes,{expectTo:"parents"}),W=(0,r.J2)(s.Zm.Permission,{expectTo:"parents"}),U=(0,r.J2)(s.Zm.AI,{expectTo:"parents"});return E=(0,r.J2)(l.A,(i=>i({context:B,viewModel:e,cssVars:t,comThemes:n,mover:$,emitRole:_,emitLogs:C,emitDebug:D,emitFrame:N,emitEditor:j,emitWindowEvents:L,emitVariable:R,emitPage:S,emitViews:T,emitPermission:W,emitModule:I,emitItem:k,emitIOCAbout:P,emitAI:U,emitSnap:F,emitScenes:z,emitMessage:O})),{to:"children"},[e]),(0,r.yx)(s.Zm.Views,(e=>{e((0,x.A)((()=>E)))}),{from:"parents"}),(0,r.yx)(s.Zm.Command,(e=>{e((0,v.A)((()=>E)))}),{from:"parents"}),(0,r.yx)(s.Zm.Scenes,(e=>{e((0,u.A)((()=>E)))}),{from:"parents"}),(0,r.yx)(s.Zm.Frame,(e=>{e((0,b.N)((()=>E)))}),{from:"parents"}),(0,r.yx)(s.Zm.Component,(e=>{e((0,d.A)(E))}),{from:"parents"},[e]),(0,i.useEffect)((()=>{if(B.configs.isTypeOfMPA()&&!e.curHostId){if(B.pageMetaModel.pageAry.length>0){const e=B.pageMetaModel.pageAry[0].id;e&&z.setCurHostId(e)}e.curArtboardId=void 0}(0,h.T)(E),(0,m.T)(E),(0,g.Ts)(E),(0,y.T)(E),(0,w.v)()}),[]),o().createElement("div",{className:a.A.wrapper,tabIndex:-1,ref:e=>e&&(E.viewEle=e.parentElement)},B.configs.isTypeOfMPA()?o().createElement(A.A,null):null,E.viewEle?o().createElement(f.A,{viewCtx:E}):null,o().createElement(c.A,null),o().createElement(M,null))}function M(){if(!E.loaded)return o().createElement("div",{className:a.A.loading},o().createElement("div",null,"加载中..."))}},77050:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,a:()=>d});var i=n(22612),o=n(82517),r=n(53124),s=n(48616),a=n(24557),l=n(91716);class c{constructor(){this.lastStatusForHost={},this.curNavType="material",this.cssCanvas=i.A,this.cssArtboard=o.A,this.cssSlot=r.A,this.cssComNormal=s.A,this.navWidth=235,this.showNavPanel=!0,this.comlibJSLoaded=!0,this.placeholder={},this._snapXY={},this.uiCheckNodes=[]}createTempNote(e){this._templNote?this._templNote=void 0:this._templNote=e}setCurHostId(e){if(!e)return;const t=this.viewModel,n=t.curHostId;n&&(this.lastStatusForHost[n]={artBoardId:t.curArtboardId,left:this.viewModel.style.left,top:this.viewModel.style.top});const i=this.lastStatusForHost[e];if(i){let e;if(i.artBoardId)e=t.searchSlot(i.artBoardId);else{const n=t.getCurPageSlot();n.isTypeOfEmpty()?n.slots.length>0&&(e=n.slots[0]):e=n}e&&(this.emitItem.focus(void 0),setTimeout((t=>{this.focusArtboard(e.id)}))),this.viewModel.style.left=i.left,this.viewModel.style.top=i.top}else setTimeout((e=>{u(this)}));this.viewModel.curHostId=e}getComTheme(e){const t=this.comThemes;if(t){let n;return Object.values(t).find((t=>{if(n=t.find((t=>t.id===e)),n)return!0})),n}}getComThemeDefault(e){const t=this.comThemes;if(t){const n=t[e];if(n)return n.find((e=>e.isDefault))}}isOutlineTypeOfPages(){return!this.curOutlineType||"pages"===this.curOutlineType}isOutlineTypeOfModules(){return"modules"===this.curOutlineType}loadCSS(){[this.cssCanvas,this.cssArtboard,this.cssSlot,this.cssComNormal].forEach((e=>{const t=e.use({target:this.canvasShadowRoot}).locals;Object.assign(e,t)})),a.A.cssComNormal=this.cssComNormal}unloadCSS(){[this.cssCanvas,this.cssArtboard,this.cssSlot,this.cssComNormal].forEach((e=>{e.unuse()}))}addStyleAry(e,t){if(Array.isArray(e)){const n=this.canvasShadowRoot;e.forEach((e=>{n.appendChild(t?e.cloneNode(!0):e)}))}}removeStylesByLibId(e){const t=`style[data-libid='${e}']`;let n=document.head.querySelectorAll(t);n&&n.forEach((e=>{e.remove()})),n=this.canvasShadowRoot.querySelectorAll(t),n&&n.forEach((e=>{e.remove()}))}isViewTypeOfNormal(){const e=this.viewModel.viewType;return!e||"normal"===e}setViewTypeOfModule(){if("module"!==this.viewModel.viewType){const e=Object.assign({},this._lastViewInfo||{});this._lastViewInfo={left:this.viewModel.style.left,top:this.viewModel.style.top,focusSlotId:this.viewModel._curArtboardId},e.left?(this.viewModel.style.left=e.left,this.viewModel.style.top=e.top,this.emitScenes.switch(e.focusSlotId)):this.emitScenes.switch(void 0),this.viewModel.viewType="module"}}setViewTypeOfNormal(){if("normal"!==this.viewModel.viewType){const e=Object.assign({},this._lastViewInfo||{});this._lastViewInfo={left:this.viewModel.style.left,top:this.viewModel.style.top,focusSlotId:this.viewModel._curArtboardId},e.left?(this.viewModel.style.left=e.left,this.viewModel.style.top=e.top,this.emitScenes.switch(e.focusSlotId)):this.emitScenes.switch(void 0),this.viewModel.viewType="normal"}}isViewTypeOfModule(){return"module"===this.viewModel.viewType}scrolling(){this.scrollNow||requestAnimationFrame((e=>{this.scrollNow=()=>{};const t=this.viewModel.style;this._snapXY={left:t.left,top:t.top},void 0===this._scrollChecker&&(this._scrollChecker=setInterval((()=>{const e=Math.abs(t.left-this._snapXY.left),n=Math.abs(t.top-this._snapXY.top);e<=0&&n<=0?(clearInterval(this._scrollChecker),this._scrollChecker=void 0,this.renderJob&&requestAnimationFrame((e=>{this.renderJob(),this.renderJob=void 0})),this.scrollNow=void 0):this._snapXY={left:t.left,top:t.top}}),100))}))}disable(){this.disabledF=!0}enable(){this.disabledF=!1}isMainModule(e){return this.viewModel.getMainModuleSlot().id===e.id}getCurModuleSlot(){const e=this.viewModel,t=e.curArtboardId,n=e.getSlot(t);if(n)return n;if(this.context.configs.isTypeOfMPA()){const n=e.getCurPageSlot();if(n)return n.id===t?n:n.getSlot(t)}}focusPage(e){if(this.viewModel.curHostId===e)return;const t=this.viewModel.getSlot(e);t&&(this.emitScenes.setCurHostId(e),this.focusArtboard(t.id))}focusArtboard(e,t){if(!e){if(!this.viewModel.curArtboardId)return;return this.viewModel.curArtboardId=e,void this.emitScenes.switch(e)}if(this.viewModel.curArtboardId!==e){const n=this.viewModel.slots.find((t=>t.id===e));n&&!n.isOpening()&&n.open(),this.viewModel.curArtboardId=e,this.emitScenes.switch(e),t&&setTimeout((e=>{u(this,!0)}))}}anchor(e){let t;if(e)if(this.context.configs.isTypeOfMPA()){const e=this.viewModel.getCurPageSlot();e&&(t=e.slots[0])}else t=this.viewModel.slots[0];!function(e){const{viewModel:t}=e,n=t.canvasWrapEle,i=t.$el;if(n){const e=t.style;if(void 0===e.left&&(e.left=0),void 0===e.top&&(e.top=0),0!==e.left&&0!==e.top)return;const o=Math.ceil((n.offsetWidth-i.offsetWidth)/2);e.left=o;const r=Math.ceil((n.offsetHeight-i.offsetHeight)/2);e.top=r}}(this)}showOutlineFor(e){var t;void 0!==(null===(t=this._showOutlineFor)||void 0===t?void 0:t.timeTask)&&clearTimeout(this._showOutlineFor.timeTask),this._showOutlineFor=e}tryToClearOutline(e){if(!this._showOutlineFor)return;const t=()=>{this._showOutlineFor&&(this._showOutlineFor.onOutlinePanel||(this._showOutlineFor=void 0))};e?(this._showOutlineFor.onOutlinePanel=void 0,t()):this._showOutlineFor.timeTask=setTimeout(t,500)}scrollToShowScene(e,t){const n=()=>{void 0!==e?u(this,e):u(this)};t?n():requestAnimationFrame(n)}switchViewShowType(e){this.context.blur(),this.viewShowType=e}getViewWrapperElement(){return this.canvasShadowRoot.getElementById("_geoview-wrapper_")}getCurrentCanvasElement(){const e=this.viewModel.$el;return this.context.isDebugMode()?e.querySelector("[data-canvas='debug']"):this.getViewWrapperElement()}clearHoverModel(){this.hoverModel=void 0}clearPops(){this.showModeMenu=!1,this.showNavPanel=!1,this.context.exeBlurFns()}addUICheckNode(e){this.uiCheckNodes.push(e)}getUICheckNodes(){return this.uiCheckNodes}getUICheckNode(e){return this.uiCheckNodes[e]}clearUICheckNode(){this.uiCheckNodes=[]}getComDefAIPrompts(e){const t={title:e.title,type:e.namespace,data:e.data};let n;const i=e.ai;if(null==i?void 0:i.prompts){const t=i.prompts;if("function"==typeof t){let i;"object"==typeof e.data&&e.data&&(i=JSON.parse(JSON.stringify(e.data))),n=t({data:i})}else"string"==typeof t&&(n=t)}return{def:t,prompts:n}}}class d{show({x:e,y:t},n,i){this.x=e,this.y=t,n&&(this.model=n),this.type=i}hide(){this.container=void 0,this.model=void 0}}function u(e,t){const{context:n,viewModel:i,getCurModuleSlot:o}=e;let r=o();r||(n.configs.isTypeOfMPA()?r=i.getCurPageSlot():i.slots.length>0&&(r=i.slots[0])),function(e,t,n){var i;if(!e)return;const{context:o,viewModel:r,getCurModuleSlot:s}=t,a=r.style;let c;c=o.configs.isTypeOfMPA()&&e.isTypeOfEmpty()?null===(i=e.slots)||void 0===i?void 0:i[0]:e;if(null==c?void 0:c.$shellEl){const e=c.$shellEl,t=r.canvasTransEle,i=r.canvasWrapEle,o=(0,l.E9)(e,i),s=e.offsetWidth*a.zoom,d=(0,l.E9)(e,t);if(n)a.left=-1*d.x+(t.offsetWidth-d.w)/2*a.zoom;else if(o.x<-1*s||o.x>i.offsetWidth){const n=(0,l.E9)(e,t);a.left=-1*n.x+100*a.zoom}const u=e.offsetHeight*a.zoom;if(n)a.top=-1*d.y+(t.offsetHeight-d.h)/2*a.zoom;else if(o.y<-1*u||o.y>i.offsetHeight){const n=(0,l.E9)(e,t);a.top=-1*n.y+100*a.zoom}}}(r,e,t)}},42772:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i,o,r,s,a=n(91737),l=n(75856),c=n(24412),d=n(96966),u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends d.PQ{constructor(){super(...arguments),this.name=c.Ix,this.style=new l.N,this.slots=[],this.notes=[]}setThemes(e){this.themes=e}isRoot(){return!0}getCurPageSlot(){return this.curHostId?this.slots.find((e=>e.id===this.curHostId)):this.slots.length>0?this.slots[0]:void 0}addSlot(e){const t=new l.A(e);return this.slots.push(t),this.slots[this.slots.length-1]}getMainModuleSlot(){return this.slots[0]}deleteSlot(e){this.slots=this.slots.filter((t=>t.id!==e))}getSlot(e){return this.slots.find((t=>t.id===e))}searchSlot(e){if(this.slots){let t;return this.slots.find((n=>n.id===e?(t=n,!0):!(!n.slots||(t=n.searchSlot(e),!t))||n.comAry.find((n=>{if(n.slots)return n.slots.find((n=>{if(t=n.searchSlot(e),t)return!0}))})))),t}}changeOrder(e,t){const n=this.slots.indexOf(e);n!==t&&(e.updated(),n<t?(this.slots.splice(n,1),this.slots.splice(t-1,0,e)):(this.slots.splice(n,1),this.slots.splice(t,0,e)))}addComponent(e){return this.slots[0].addComponent(e)}addNote(e){return this.notes||(this.notes=[]),this.notes.push(e),e}removeNote(e){if(this.notes){const t=this.notes.find((t=>t.id===e));t&&(t.refComId&&this.slots.find((e=>{const n=e.searchCom(t.refComId);if(n)return n.noteInfo=void 0,!0})),this.notes=this.notes.filter((t=>t.id!==e)))}}searchModulesBySlotId(e){const t=[];if(this.slots)return this.slots.forEach((n=>{const i=n.searchModulesBySlotId(e);i&&t.push(...i)})),t.length>0?t:void 0}searchCom(e){let t;if(this.curHostId){const n=this.getCurPageSlot();n&&(t=n.searchCom(e))}return t||(this.slots?(this.slots.find((n=>{if(t=n.searchCom(e),t)return!0})),t):void 0)}searchComParentSlot(e){if(this.slots){let t;return this.slots.find((n=>{if(t=n.searchComParentSlot(e),t)return!0})),t}}searchComByDef(e){const t=[];if(this.slots)return this.slots.forEach((n=>{const i=n.searchComByDef(e);i&&t.push(...i)})),t.length>0?t:void 0}findVisiblePopup(){if(this.slots){let e;return this.slots.find(((t,n)=>{if(e=t.findVisiblePopup(),e)return!0})),e}}findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r,s){if(this.curHostId){const a=this.getCurPageSlot().findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r);if(s&&a&&!a.parent){const e=a.comAry.find((e=>e.asRoot));if(e&&e.slots&&e.slots.length>0)return e.slots[0]}return a}if(this.slots){let a;if(this.slots.find(((s,l)=>{if(s.isOpening()&&s.isVisible()&&(a=s.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r),a))return!0})),s&&a&&!a.parent){const e=a.comAry.find((e=>e.asRoot));if(e&&e.slots&&e.slots.length>0)return e.slots[0]}return a}}findHoveringSlot(){if(this.slots){let e;return this.slots.find((t=>(e=t.findHoveringSlot(),!!e||(t.slots?t.slots.find((t=>{if(e=t.findHoveringSlot(),e)return!0})):void 0)))),e}}getSummaryInfo(){let e=0,t=0;return this.slots.length>0&&this.slots.forEach((n=>{const{coms:i,slots:o}=n.getSummaryInfo();e+=i,t+=o})),{coms:e,slots:t}}clearDebugs(){this.slots.forEach((e=>{e.clearDebugs()}))}toJSON(e){const t={};return t.id=this.id,t.style=this.style.toJSON(),t.themes=this.themes,t.slots=[],this.slots.forEach((n=>{t.slots.push(n.toJSON(e))})),t}};u([a.Nt,p("design:type","function"==typeof(i="undefined"!=typeof HTMLElement&&HTMLElement)?i:Object)],f.prototype,"canvasWrapEle",void 0),u([a.Nt,p("design:type","function"==typeof(o="undefined"!=typeof HTMLElement&&HTMLElement)?o:Object)],f.prototype,"canvasTransEle",void 0),u([a.Nt,p("design:type","function"==typeof(r="undefined"!=typeof HTMLElement&&HTMLElement)?r:Object)],f.prototype,"popupEle",void 0),u([a.Nt,p("design:type","function"==typeof(s="undefined"!=typeof HTMLElement&&HTMLElement)?s:Object)],f.prototype,"$elForDebugCanvas",void 0),u([a.Nt,p("design:type",Object)],f.prototype,"selectZone",void 0),f=u([(0,a.yL)(c.MS+"geo.GeoViewModel")],f);const h=f},52853:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>o,n1:()=>r});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M385.011469 321.043513l319.507958 191.704775-319.507958 191.704774V321.043513z m569.363181 448.589173l-95.213371-95.021667a386.988038 386.988038 0 1 0-184.6756 184.547796l95.213371 95.085569a511.979551 511.979551 0 1 1 184.6756-184.611698z"})),r=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M849.771893 471.406898c0 47.250184 38.985059 85.576959 87.112957 85.57696 48.054754 0 87.112956-38.326775 87.112956-85.57696 0-47.323327-39.058202-85.723245-87.039814-85.723244-48.274182 0-87.186099 38.399918-87.186099 85.723244m-48.639895-185.124174c0 21.13824 8.557696 41.325626 23.771377 56.319879 15.140539 14.847968 35.693638 23.186236 57.051307 23.186236 44.69019 0 80.968969-35.620495 80.968969-79.506115 0-21.211383-8.557696-41.398768-23.771378-56.31988a81.26154 81.26154 0 0 0-57.124449-23.186236c-44.69019 0-80.895827 35.620495-80.895826 79.506116M678.910545 143.361887c0 40.447913 33.426214 73.288986 74.678697 73.288986 41.17934 0 74.605554-32.914215 74.605555-73.288986 0-40.594199-33.426214-73.435271-74.605555-73.435271-41.252483 0-74.678697 32.914215-74.678697 73.435271M506.952057 67.293479c0 37.083349 30.646791 67.291284 68.461567 67.291284A67.876426 67.876426 0 0 0 643.875192 67.293479c0-37.156492-30.719934-67.291284-68.461568-67.291285a67.876426 67.876426 0 0 0-68.461567 67.291285M319.121602 72.632896c0 33.791928 27.794226 61.22044 62.171295 61.22044s62.171295-27.428513 62.171296-61.22044A60.781584 60.781584 0 0 0 425.324803 29.259274a62.463866 62.463866 0 0 0-43.958763-17.846818c-34.377069 0-62.171295 27.35537-62.171295 61.22044M151.771103 158.356141a55.588452 55.588452 0 0 0 56.027309 55.076453 55.588452 55.588452 0 0 0 56.027308-55.076453c0-14.62854-5.924559-28.671939-16.457107-38.98506a56.319879 56.319879 0 0 0-39.497058-16.091394 55.588452 55.588452 0 0 0-56.100452 55.076454M38.034204 308.152391a50.029607 50.029607 0 1 0 84.845533 34.66964 48.713038 48.713038 0 0 0 14.62854-34.66964c0-27.062799-22.308524-49.005609-49.737037-48.932466-13.165686 0-25.819373 5.119989-35.108496 14.262826a48.713038 48.713038 0 0 0-14.701682 34.66964M0 493.93485a43.154193 43.154193 0 0 0 43.519907 42.78848 43.593049 43.593049 0 0 0 39.497058-20.699384 42.422766 42.422766 0 0 0 0-44.105049 43.593049 43.593049 0 0 0-39.497058-20.772527 43.154193 43.154193 0 0 0-43.519907 42.78848M46.079901 680.960735c0.073143 13.165686 7.241127 25.307374 18.724532 31.817075 11.556547 6.582843 25.819373 6.582843 37.302777 0a36.717636 36.717636 0 0 0-18.724532-68.680996 37.010206 37.010206 0 0 0-37.302777 36.863921m123.026022 152.283102c0 10.971405 5.851416 21.065098 15.506253 26.477658a31.451361 31.451361 0 0 0 31.085648 0 30.573649 30.573649 0 0 0-15.579396-57.124449 30.793077 30.793077 0 0 0-31.012505 30.646791m177.517334 89.599808c0 8.777124 4.827418 16.822821 12.434259 21.211383 7.753126 4.315419 17.188535 4.315419 24.868518-0.073142a24.429662 24.429662 0 0 0-12.507401-45.714188 24.64909 24.64909 0 0 0-24.795376 24.575947m200.118429 9.654837c0 6.582843 3.657135 12.653687 9.362265 15.871966 5.851416 3.291422 12.946258 3.291422 18.651389 0a18.358818 18.358818 0 0 0-9.362266-34.377069 18.578246 18.578246 0 0 0-18.651388 18.505103m185.928744-72.04556c0 6.729128 5.558845 12.214831 12.434259 12.214831 6.875414 0 12.434259-5.485703 12.434259-12.214831a12.361116 12.361116 0 0 0-12.434259-12.287974 12.361116 12.361116 0 0 0-12.434259 12.287974m137.947133-139.995129a6.143987 6.143987 0 0 0 2.925708 5.851416 6.363415 6.363415 0 0 0 6.582843 0 6.143987 6.143987 0 0 0-3.218279-11.410261 6.21713 6.21713 0 0 0-6.290272 5.558845"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 64a448.128 448.128 0 0 0 0 896 446.976 446.976 0 0 0 381.056-212.288c18.56-30.08 0-48.768-30.016-67.392-30.08-18.624-60.16-30.08-78.784 0A318.976 318.976 0 0 1 512 832a320 320 0 0 1 0-640c35.328 0 40.448-30.72 40.448-66.048S547.328 64 512 64z m447.68 469.568c6.784-177.92-84.672-327.616-220.224-407.616-30.464-17.92-47.104 1.92-65.088 32.384-17.92 30.4-30.464 59.904 0 77.824A319.744 319.744 0 0 1 832 512c0 35.328 33.664 40.576 61.056 52.864 27.328 12.288 65.28 3.968 66.624-31.296z",fill:"#515151"})));i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M123.92 555.9a32 32 0 0 1-14.82-60.38l719.19-374.9a32 32 0 0 1 29.59 56.76l-719.2 374.89a31.87 31.87 0 0 1-14.76 3.63z",fill:"#333333"}),i.createElement("path",{d:"M608.6 957.7a32 32 0 0 1-30.6-41.27l234.64-776.34a32 32 0 0 1 61.26 18.52L639.22 935a32 32 0 0 1-30.62 22.7zM505.92 580.44c-0.68 0-1.36 0-2.05-0.07l-381.46-24.12a32 32 0 1 1 4-63.88l381.5 24.13a32 32 0 0 1-2 63.94z",fill:"#333333"}),i.createElement("path",{d:"M608.14 957.32a32 32 0 0 1-30.87-23.63L475 556.82a32 32 0 1 1 61.77-16.76L639 916.93a32 32 0 0 1-22.51 39.26 31.61 31.61 0 0 1-8.35 1.13z",fill:"#333333"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M957.44 918.1952a38.92736 38.92736 0 0 1-38.92224 38.92736H105.48736A38.92224 38.92224 0 0 1 66.56 918.1952a38.92736 38.92736 0 0 1 38.92736-38.93248h813.03552a38.92736 38.92736 0 0 1 38.91712 38.93248zM511.91296 808.42752a38.9376 38.9376 0 0 1-38.93248-38.93248V105.80992a38.93248 38.93248 0 0 1 77.85984 0v663.69024a38.93248 38.93248 0 0 1-38.92736 38.92736z",fill:"#515151"}),i.createElement("path",{d:"M539.42784 796.77952a38.93248 38.93248 0 0 1-55.04 0L192.26624 504.64256a38.92224 38.92224 0 0 1 0-55.04512 38.912 38.912 0 0 1 55.04 0l292.12672 292.13184a38.912 38.912 0 0 1-0.00512 55.05024z",fill:"#515151"}),i.createElement("path",{d:"M484.38784 796.77952a38.93248 38.93248 0 0 1 0-55.05536l292.13696-292.12672a38.90176 38.90176 0 0 1 55.04512 0 38.912 38.912 0 0 1 0 55.04512l-292.14208 292.13696a38.93248 38.93248 0 0 1-55.04 0z",fill:"#515151"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m0-572.330667L330.965333 270.634667a42.666667 42.666667 0 0 0-60.330666 60.330666L451.669333 512l-181.034666 181.034667a42.666667 42.666667 0 1 0 60.330666 60.330666L512 572.330667l181.034667 181.034666a42.666667 42.666667 0 1 0 60.330666-60.330666L572.330667 512l181.034666-181.034667a42.666667 42.666667 0 0 0-60.330666-60.330666L512 451.669333z",fill:"#707070"})),i.createElement("svg",{viewBox:"0 0 2047 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M532.360032 1017.310429l67.88896-69.424909a23.03924 23.03924 0 0 0 0-32.050143l-334.836951-329.717119h1515.46999L1447.88822 914.401825a23.03924 23.03924 0 0 0 0 32.050142l67.888959 69.424909a21.81048 21.81048 0 0 0 31.333366 0l425.253167-419.109369 3.686278-3.583882 65.533838-64.612268a26.418328 26.418328 0 0 0 0-34.610058l-67.88896-66.96739L1547.008149 6.65578a21.81048 21.81048 0 0 0-31.23097 0l-67.991356 69.629703a23.03924 23.03924 0 0 0 0 31.947745l334.632157 329.71712h-1515.469989L600.146595 109.564384a23.03924 23.03924 0 0 0 0-32.050142L532.257635 8.19173a21.81048 21.81048 0 0 0-31.333366 0L75.773499 427.198702a110.281161 110.281161 0 0 0-3.686278 3.583882l-65.533837 64.612268a26.418328 26.418328 0 0 0 0 34.610058l67.888959 66.96739 426.584323 420.338129a21.81048 21.81048 0 0 0 31.435763 0z",fill:"#515151"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M671.807 927.804l-415.632-415.804 415.632-415.803 63.445 63.616-352.017 352.209 352.017 352.102z",fill:"#272636"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M321.11809 65.612347 257.085728 129.009236 638.078998 512.615007 253.882779 892.992247 317.372789 956.917162 765.594207 513.137916Z",fill:"#272636"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M959.429379 343.214852 890.590548 274.378068 511.268336 653.699256 131.944078 274.378068 63.105247 343.214852 501.1857 781.294282 521.348925 781.294282Z",fill:"#272636"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M942.317331 729.048104c-19.682078 19.532723-39.621946 38.806633-59.332667 58.30969C753.313119 655.834661 625.915652 522.019037 496.299349 390.442709 367.314222 522.316723 238.962318 654.82396 110.637011 787.357794c-21.140843-18.073958-39.141147-39.28641-60.355644-57.286713C197.743504 575.410254 347.705798 423.264927 496.299349 269.731421 645.193654 422.611245 793.833239 575.759089 942.317331 729.048104z",fill:"#272636"}))},55939:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(35003),s=n(7666),a=n(91737),l=n(76033);function c({viewCtx:e}){var t;const n=e.context,c=n.configs,{viewEle:d}=e,u=null===(t=c.geoView.nav)||void 0===t?void 0:t.float;(0,i.useMemo)((()=>{u&&(e.showNavPanel=!1)}),[]);const p=e.showNavPanel,f="material"===e.curNavType,h=n.isDebugMode(),m=(0,i.useRef)(),g=(0,i.useMemo)((()=>(p&&(m.current&&u||(m.current=[o().createElement(s.A,{showFloat:u})])),m.current)),[p]);return u?(0,l.createPortal)(o().createElement("div",{className:`${r.A.navs} ${r.A.navFloat} ${h||u&&!p?r.A.navHide:""}`,style:{width:332}},o().createElement("div",{className:r.A.panel,style:{display:f?"":"none"}},null==g?void 0:g[0])),d.parentElement):o().createElement(o().Fragment,null,o().createElement("div",{className:`${r.A.navs} ${h?r.A.navHide:""}`,style:{width:e.navWidth}},o().createElement("div",{className:r.A.titleBar},o().createElement("div",{className:`${r.A.tt} ${f?r.A.focus:""}`,onClick:t=>e.curNavType="material"},"组件")),o().createElement("div",{className:r.A.panel,style:{display:f?"":"none"}},g[0])),o().createElement("div",{className:r.A.sperV,onMouseDown:t=>function(e,t){let n=t.navWidth;(0,a.zg)(e,(({po:{x:e,y:i},epo:{ex:o,ey:r},dpo:{dx:s,dy:a}},l)=>{"moving"==l&&(t.navWidth=Math.max(n+=s,235))}))}(t,e)},o().createElement("div",null)))}},75856:(e,t,n)=>{"use strict";n.d(t,{A:()=>g,N:()=>h});var i,o,r,s=n(91737),a=n(96966),l=n(50528),c=n(91716),d=n(24412),u=n(74145),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let h=class{constructor(){this.zoom=1,this.justifyContent="flex-start",this.alignItems="flex-start"}getLayout(){return this.layout}getLayoutTitle(){const e=[];if(this.deviceType)switch(this.deviceType){case"mobile":e.push("手机");break;case"pc":e.push("PC")}return this.widthAuto&&e.push("宽度适应内容"),this.heightAuto&&e.push("高度适应内容"),this.widthFull&&e.push("宽度100%"),this.heightFull&&e.push("高度100%"),this.isLayoutSmart()?e.push("智能排版"):this.isLayoutAbsolute()?e.push("自由排版"):this.isLayoutOfFlexRow()?e.push("横向排版"):this.isLayoutOfFlexColumn()&&e.push("纵向排版"),e.join("-")}isLayoutAbsolute(){const e=this.layout;return!!e&&"absolute"==e.toLowerCase()}isLayoutSmart(){const e=this.layout;return!!e&&"smart"==e.toLowerCase()}isLayoutAbsoluteOrSmart(){return this.isLayoutAbsolute()||this.isLayoutSmart()}isLayoutOfFlex(){return!this.layout||!!this.layout&&this.layout.toLowerCase().match(/flex-row|flex-column/gi)}isLayoutOfFlexRow(){return!!this.layout&&"flex-row"==this.layout.toLowerCase()}isLayoutOfFlexColumn(){return!this.layout||!!this.layout&&"flex-column"==this.layout.toLowerCase()}isDisplayTypeOfMobile(){return this.width<=a.vm}setLayout(e){this.layout=e}getJustifyContent(){return this.justifyContent}setJustifyContent(e){this.justifyContent=e}getAlignItems(){return this.alignItems}setAlignItems(e){this.alignItems=e}toJSON(){return{left:this.left,top:this.top,backgroundColor:this.backgroundColor,backgroundImage:this.backgroundImage,backgroundRepeat:this.backgroundRepeat,backgroundPosition:this.backgroundPosition,backgroundSize:this.backgroundSize,paddingTop:this.paddingTop,paddingRight:this.paddingRight,paddingBottom:this.paddingBottom,paddingLeft:this.paddingLeft,layout:this.layout||"flex-column",justifyContent:this.justifyContent,alignItems:this.alignItems}}};p([s.Nt,f("design:type",Number)],h.prototype,"_width",void 0),p([s.Nt,f("design:type",Number)],h.prototype,"_height",void 0),h=p([(0,s.yL)(d.MS+"geo.SlotStyleModel")],h);let m=i=class extends a.PQ{close(){this._closed=!0}open(){this._closed=void 0}isOpening(){return!this._closed}get schema(){return this._schema}set schema(e){if("string"==typeof e)this._schema=[e];else if(Array.isArray(e))this._schema=e;else if(e)throw new Error("Invalid schema type.")}constructor(e){if(super(),this._rendered=-1,this.slots=[],this.comAry=[],this.style=new h,this.comsAddedInDebug=[],e){const{id:t,schema:n,capacity:i,title:o,showType:r,layout:s,style:a,asDefault:l,asRoot:c,type:d,template:u,proxyFor:p,deletable:f}=e;if(this.id=t,this.schema=n,this.capacity=i,this.title=o||"未命名",this.showType=r,a)for(let e in a)void 0!==a[e]&&(this.style[e]=a[e]);s&&["flex-row","flex-column","absolute","smart"].includes(s)&&this.style.setLayout(s),this._defaultF=l,this._rootF=c,this.type=d,this.template=u,this.proxyFor=p,this.deletable=f}}addNote(e){return this.notes||(this.notes=[]),this.notes.push(e),e.parent=this,this.notes[this.notes.length-1]}removeNote(e){if(this.notes){const t=this.notes.find((t=>t.id===e));t&&(t.refSceneId===this.id&&(this.noteInfo=void 0),t.refComId&&this.slots.find((e=>{const n=e.searchCom(t.refComId);if(n)return n.noteInfo=void 0,!0})),this.notes=this.notes.filter((t=>t.id!==e)))}}clearUpdated(){super.clearUpdated(),this.slots&&this.slots.forEach((e=>{e.clearUpdated()}))}clearDebugF(){this._debugF=void 0}clearDebugs(){this.clearDebugF(),this.comAry.forEach((e=>{e.clearDebug()}))}hasRootTemplate(){if(this.template&&this.template.asRoot)return!0}isShowTypeOfPopup(){return"popup"===this.showType}isShowTypeOfNormal(){if(!this.isTypeOfModule())return!this.showType||"normal"===this.showType}isShowTypeOfModule(){return"module"===this.showType||"module"===this.type}isTypeOfEmpty(){return"empty"===this.type}isTypeOfScope(){return"scope"===this.type}isTypeOfDefinedCom(){return"definedCom"===this.type}isTypeOfModule(){return"module"===this.type}get renderKey(){return this._renderKey||this.id}getInnerWidth(){return this.$el.offsetWidth-(parseFloat(this.style.paddingLeft)||0)-(parseFloat(this.style.paddingRight)||0)}setComZIndex(e,t){let n;this.comAry.find(((t,i)=>{if(t.id==e)return n=[i,t],!0}));let[i,o]=n;this.comAry.splice(i,1),"string"==typeof t&&("max"==t.toLowerCase()?this.comAry.push(o):"min"==t.toLowerCase()&&this.comAry.splice(0,0,o))}setLayout(e,t){if(this.style.layout!==e)if(this.style.setLayout(e),"absolute"===e||"smart"===e)this.comAry.forEach((e=>{if(e.$el){const n=e.style,i=(0,c.E9)(e.$el,this.$el);n.left=Math.ceil(i.x/t),n.top=Math.ceil(i.y/t)}}));else{const e=this.parent;if(e){const t=e.style;e.hasSlotWithAbsLayout()||(t.heightAuto&&"fit-content"!==t.height&&(t.height="fit-content"),t.widthAuto&&"fit-content"!==t.width&&(t.width="fit-content"))}}}isVisible(){const e=this.$el;if(e&&"hidden"!==this.$el.style.visibility&&e.clientWidth>0&&e.clientHeight>0)return!0}isRoot(){return"boolean"==typeof this._rootF?this._rootF:!this.parent}get root(){return(0,s.A1)((()=>{let e=this.parent;if(!e)return this;for(;e&&("function"!=typeof e.isRoot||!e.isRoot());)e=e.parent;return e}))}addSlot(e){const t=new i(e);return t.hostSlotId=this.id,this.slots.push(t),this.slots[this.slots.length-1]}getSlot(e){return this.slots.find((t=>t.id===e))}changeSubSlotOrder(e,t){const n=this.slots.indexOf(e);n!==t&&(this.updated(),n<t?(this.slots.splice(n,1),this.slots.splice(t-1,0,e)):(this.slots.splice(n,1),this.slots.splice(t,0,e)))}addComponent(e,t){if(!e)throw new Error("Invalid type for adding in slot.");if(this.comAry.indexOf(e)>=0)return;t||(e.parent=this),this.comAry.push(e);const n=this.comAry.length-1;return this.comAry[n]}removeComponent(e){const t=this.comAry.indexOf(e);t>=0&&this.comAry.splice(t,1)}changeOrder(e,t){const n=[];return this.comAry.forEach(((i,o)=>{o==t&&n.push(e),i.id!==e.id&&n.push(i)})),t==this.comAry.length&&n.push(e),this.comAry=n,e.parent=this,this.comAry[t]}upwards(e,t){const n=this.comAry;if(n.length>1){const i=n.indexOf(e);if(i>0){if(t)return n.splice(i,1),n.splice(0,0,e),!0;{let t=n[i-1],o=i-1;return t?this.comAry=this.comAry.map(((n,r)=>r===o?e:r===i?t:n)):(n.splice(i,1),n.splice(0,0,e)),!0}}}return!1}downwards(e,t){const n=this.comAry;if(n.length>1){const i=n.indexOf(e);if(i<n.length-1){if(t)return n.splice(i,1),n.push(e),!0;{let t=n[i+1],o=i+1;return t?this.comAry=this.comAry.map(((n,r)=>r===o?e:r===i?t:n)):(n.splice(i,1),n.push(e)),!0}}}return!1}copyIn(e,t){let n;this.state.isHovering()&&(this.state.hoverRecover(),n=!0);let i,o,r=new l.s(e),s=this.$el,a=e.$el;if(n){let e=(0,c.E9)(r.$el),t=(0,c.E9)(s);i=e.x-t.x,o=e.y-t.y}else if(t){let[e,t]=(0,c.cY)(20,80);i=e,o=t}else i=void 0!==r.style.left?r.style.left:20,o=void 0!==r.style.top?r.style.top:20;return r.style.left=i<0?Math.max(-1*a.clientWidth,i):Math.min(i,s.clientWidth),r.style.top=o<0?Math.max(-1*a.clientHeight,o):Math.min(o,s.clientHeight),this.comAry.push(r),r.parent=this,r}cutIn(e,t){return e.parent.delete(e),e.style.isPositionAbsoluteOrFixed()?(this.state.isHovering()&&this.state.hoverRecover(),this.comAry.push(e)):"number"==typeof t?this.comAry.splice(t,0,e):this.comAry.push(e),e.parent=this,e}searchModulesBySlotId(e,t){return t=t||[],this.comAry&&this.comAry.forEach((n=>{if(n.runtime.def.namespace===a.ZD.coms.module)n.slots[0].id===e&&t.push(n);else if(n.slots)return c.DO.each((n=>{n.searchModulesBySlotId(e,t)}),n.slots,n.runtime.model.slotAry)})),t}searchComByDef(e,t){if(t=t||[],this.comAry){this.comAry.find((n=>(n.runtime.def.namespace===e.namespace&&t.push(n),c.DO.find((n=>{n.searchComByDef(e,t)}),n.slots,n.runtime.model.slotAry))))}return t}searchSlot(e){if(this.id===e)return this;let t;return this.slots&&this.slots.find((n=>{if(t=n.searchSlot(e),t)return!0})),t||(this.comAry.find((n=>{if(n.slots)return n.slots.find((n=>{if(t=n.searchSlot(e),t)return!0}))})),t)}searchCom(e){if(this.slots){let t;if(this.slots.find((n=>{if(t=n.searchCom(e),t)return!0})),t)return t}if(this.comAry){let t;return this.comAry.find((n=>n.id==e?(t=n,!0):c.DO.find((n=>{if(t=n.searchCom(e),t)return!0}),n.slots,n.runtime.model.slotAry))),t}}searchComByTitle(e){if(this.comAry){let t;return this.comAry.find((n=>n.runtime.title==e?(t=n,!0):c.DO.find((n=>{if(t=n.searchComByTitle(e),t)return!0}),n.slots,n.runtime.model.slotAry))),t}}searchComParentSlot(e){if(this.comAry){let t;return this.comAry.find((n=>n.id==e?(t=this,!0):c.DO.find((n=>{if(t=n.searchComParentSlot(e),t)return!0}),n.slots,n.runtime.model.slotAry))),t}}release(e){if(e instanceof l.s){const t=this.comAry.indexOf(e);t>=0&&this.comAry.splice(t,1)}}delete(e){const t=n=>{if(n.comAry){const i=n.comAry.indexOf(e);return i>=0?(n.comAry.splice(i,1),!0):n.comAry.find((e=>{if(e.slots)return e.slots.find((e=>t(e)))}))}};if(e instanceof l.s)return!!t(this)||void 0;if(e instanceof i&&this.slots){const t=this.slots.indexOf(e);if(t>=0)return this.slots.splice(t,1),!0}}focus(){this.state.focus()}findHoveringSlot(){if(this.state.isHovering()){const e=this.comAry.find((e=>e.asRoot));return e&&e.slots&&e.slots.length>0?e.slots[0]:this}let e;return this.comAry.find((t=>{if(t instanceof l.s&&t.slots)return t.slots.find((t=>t.state.isHovering()?(e=t,!0):!!(e=t.findHoveringSlot())||void 0))})),e}findVisiblePopup(){let e;return this.comAry.find((t=>{if(t.isPopup&&t.isVisible())return e=t,!0;t.slots&&t.slots.find((t=>{if(e=t.findVisiblePopup(),e)return e}))})),e}findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r,s){var a;n=n||5,i=i||5;let d=new Set;function u(s,a,l){if(s.$el&&s.$el.offsetWidth)if(a&&a.locked){const a=s.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r,!0);Array.isArray(a)?a.forEach((e=>d.add(e))):d.add(s)}else{let u;if(a){const e=s.$el,t=a.$el,n=(0,c.E9)(t),i=(0,c.E9)(e,t);let o=0,r=0;u={x:n.x+i.x+r,y:n.y+i.y+o}}else u=(0,c.E9)(s.$el);let p=s.$el.clientWidth*o,f=s.$el.offsetHeight*o;if(l?(u.x-=50,u.y-=50,p+=100,f+=100):(u.x+=5,u.y+=5,p-=10,f-=10),Math.max(e+n,u.x+p)-Math.min(e,u.x)<n+p&&Math.max(t+i,u.y+f)-Math.min(t,u.y)<i+f){const a=s.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r,!0);a&&Array.isArray(a)?a.forEach((e=>d.add(e))):d.add(s)}}}if((null===(a=this.slots)||void 0===a?void 0:a.length)>0&&this.slots.find((e=>{if(u(e,void 0,!0),d.size>0)return!0})),d.size<=0&&this.comAry.forEach((e=>{if(e instanceof l.s&&(!r||e.id!==r.id)&&e.isVisible()&&e.slots){!function(e,t){e.isVisible()&&!e.state.isMoving()&&e.slots.forEach((n=>{u(n,e,t)}))}(e)}})),d.size>0){if(s)return Array.from(d);{const e=Array.from(d);return e.length>1?(e.sort(((e,t)=>{const n=e.$el;return n.offsetWidth*n.offsetHeight*-1})),e[0]):e[0]}}if(!this.parent&&this.$el){const r=(0,c.E9)(this.$el),a=this.$el.clientWidth,l=this.$el.offsetHeight,d={x:r.x-50,y:r.y-50,w:(a+100)*o,h:(l+100)*o};if(Math.max(e+n,d.x+d.w)-Math.min(e,d.x)<n+d.w&&Math.max(t+i,d.y+d.h)-Math.min(t,d.y)<i+d.h)return s?[this]:this}}getComTree(){const e=t=>{const n=[];return t.comAry.forEach((t=>{const i={id:t.id,title:t.runtime.title,slots:[]};n.push(i),t.slots&&t.slots.forEach((t=>{t.isTypeOfScope()||i.slots.push({id:t.id,title:t.title,coms:e(t)||[]})}))})),n};return e(this)}getSummaryInfo(){if(!this.comAry)return{coms:0,slots:0};let e=this.comAry.length,t=0;return this.comAry.forEach((n=>{var i;(null===(i=n.slots)||void 0===i?void 0:i.length)>0&&(t+=n.slots.length,n.slots.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.slots})))})),{coms:e,slots:t}}beforeToJSON(){this.style.isLayoutAbsoluteOrSmart()&&(this.layoutTemplate=(0,u.o)(this))}toJSON(e){var t,n;if(e){const e={};if(e.id=this.id,e.type=this.type,e.showType=this.showType,e.title=this.title,e.name=this.name,e.style=this.style.toJSON(),e.parentId=null===(t=this.parent)||void 0===t?void 0:t.id,this.comAry.length>0){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON(!0,"geo"))})),e.comAry=t}return e}{const e={};if(e.id=this.id,e.type=this.type,e.showType=this.showType,e.title=this.title,e.name=this.name,e.style=this.style.toJSON(),e.parentId=null===(n=this.parent)||void 0===n?void 0:n.id,e._rootF=this._rootF,this.comAry.length>0){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON())})),e.comAry=t}return e}}};p([s.Nt,f("design:type",Number)],m.prototype,"_rendered",void 0),p([s.Nt,f("design:type",Boolean)],m.prototype,"_offScreen",void 0),p([s.Nt,f("design:type",String)],m.prototype,"_pinTitle",void 0),p([s.Nt,f("design:type","function"==typeof(o="undefined"!=typeof HTMLElement&&HTMLElement)?o:Object)],m.prototype,"$shellEl",void 0),p([s.Nt,f("design:type","function"==typeof(r="undefined"!=typeof HTMLElement&&HTMLElement)?r:Object)],m.prototype,"$wrapEl",void 0),p([s.Nt,f("design:type",String)],m.prototype,"_renderKey",void 0),p([s.Nt,f("design:type",Boolean)],m.prototype,"_debugF",void 0),p([s.Nt,f("design:type",Object)],m.prototype,"_debugParams",void 0),p([s.Nt,f("design:type",Object)],m.prototype,"_debugOpenType",void 0),p([s.Nt,f("design:type",Array)],m.prototype,"comsAddedInDebug",void 0),m=i=p([(0,s.yL)(d.MS+"geo.SlotModel"),f("design:paramtypes",[Object])],m);const g=m},65989:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(91737),o=n(60607),r=n(64012),s=n.n(r),a=n(96966),l=n(99963),c=n(12287),d=n(24412),u=n(66422),p=n(77028),f=n(54467),h=n(67542),m=n(8875),g=n(87989);function y({viewCtx:e,slotModel:t}){const{emitItem:n,emitLogs:o,context:g,cssArtboard:y,viewModel:w,emitFrame:E}=e,C=(0,i.HO)((()=>function(e,t){const n=t.style,i=n.zoom,o={},r=t.isShowTypeOfModule();n.borderLeftWidth&&n.borderRightWidth&&n.borderTopWidth&&n.borderBottomWidth;let s=n.background;if(s)if("string"==typeof s)s=s.indexOf("url()")>=0?{backgroundColor:"RGBA(255,255,255,1)"}:{background:s};else if("object"==typeof s){const e=s.background;s="string"==typeof e?{background:e}:{backgroundColor:"RGBA(255,255,255,1)"}}else s={backgroundColor:"RGBA(255,255,255,1)"};else s=r?{}:{backgroundColor:"RGBA(255,255,255,1)"},n.backgroundImage&&(s.backgroundImage=n.backgroundImage),n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.backgroundRepeat&&(s.backgroundRepeat=n.backgroundRepeat),n.backgroundPosition&&(s.backgroundPosition=n.backgroundPosition),n.backgroundSize&&(s.backgroundSize=n.backgroundSize);const a={};for(let e in n)e.indexOf("Radius")>=0&&(a[e]=n[e]);const l={};t.state.isFocused()&&(l.outline=2/i+"px solid var(--mybricks-color-primary)");const c={};t.isShowTypeOfPopup()||(n.widthFact&&(c.minWidth=n.widthFact),n.heightFact&&(c.minHeight=n.heightFact));return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),s),l),a),c)}(0,t))),_=(0,i.HO)((()=>function(e,t){var n;const{context:i,viewModel:o,viewShowType:r}=e,s=o.style,a=t.style,l=i.configs.geoView,c="pc"===(null===(n=l.type)||void 0===n?void 0:n.toLowerCase()),u=t.isShowTypeOfModule();a.layout&&a.boxShadow,a.paddingTop&&a.paddingRight&&a.paddingBottom&&a.paddingLeft,a.borderLeftWidth&&a.borderRightWidth&&a.borderTopWidth&&a.borderBottomWidth,a.overflowX&&a.overflowY;const p={},f={};if(t.hasRootTemplate()){if(t._rendered<=0){const e=a.heightFact||a.height||s.height;p.height=e;const t=a.widthFact||a.width||s.width;p.width=t}return Object.assign(Object.assign({},p),f)}{const e=a._height||a.height||s.height;let t;a.isLayoutAbsoluteOrSmart()?p.height=e:a.isLayoutOfFlexColumn()?p.minHeight=e:p.height=e,u?t=a._width||a.width:(t=a._width||a.width||l.width||s.width,r&&c&&("mobile"===r?t=d.PP:"pc"===r&&(t=l.width||s.width))),"string"==typeof t&&(t=parseInt(t)),p.width=t;const n={};a.isLayoutOfFlex()&&(a.rowGap&&(n.rowGap=a.rowGap),a.columnGap&&(n.columnGap=a.columnGap),a.flexWrap&&(n.flexWrap=a.flexWrap));const i={},o={};for(let e in a)e.startsWith("padding")?("PADDINGLEFT"===e.toUpperCase()&&(p.width-=parseInt(a[e]||0)),"PADDINGRIGHT"===e.toUpperCase()&&(p.width-=parseInt(a[e]||0)),"PADDINGTOP"===e.toUpperCase()&&(p.height-=parseInt(a[e]||0)),"PADDINGBOTTOM"===e.toUpperCase()&&(p.height-=parseInt(a[e]||0)),i[e.replace("padding","margin")]=a[e]):e.startsWith("border")||e.startsWith("boxShadow")?i[e]=a[e]:e.startsWith("overflow")&&(o[e]=a[e]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),n),{width:t}),p),f),o)}}(e,t)));let M=g.configs.geoView.scenes;w.slots.length>1&&(M=!0),(0,r.useMemo)((()=>{if(t.getConfigs=n=>(0,l.J)(t,e),t.getListeners=()=>(0,c.J)(t,e),t.getAssist=()=>(0,u.s)(e),t.comAry.length<=0){const e=t.template;if(e)if(Array.isArray(e.coms))e.coms.forEach((e=>{const i=g.getComDef({namespace:e.namespace});if(i){const o=new a.Al(i);n.add({seedModel:o,toSlotId:t.id,state:"finish"},{indeed:!0,noFocus:!0});const r=t.searchCom(o.id);if(e.asFirst?r.asFirst=!0:e.asLast&&(r.asLast=!0),e.data&&"object"==typeof e.data){const t=r.runtime.model.data;for(let n in e.data)t[n]=e.data[n]}r.lockedSilent=!0}else o.error(`作为模版的组件[${e.namespace}]不存在`)}));else if(e.namespace){const i=g.getComDef({namespace:e.namespace});if(i){const o=new a.Al(i);e.asRoot&&(o.asRoot=!0),n.add({seedModel:o,toSlotId:t.id,state:"finish"},{indeed:!0,noFocus:!0});const r=t.searchCom(o.id);if(r.lockedSilent=!0,e.asFirst?r.asFirst=!0:e.asLast&&(r.asLast=!0),e.data&&"object"==typeof e.data){const t=r.runtime.model.data;for(let n in e.data)t[n]=e.data[n]}}else o.error(`作为模版的组件[${e.namespace}]不存在`)}}}),[]);const I=(0,i.HO)((()=>{const n=t.style,i=t.state,o=[y.artboard];return t.isTypeOfModule()&&o.push(y.module),n.isDisplayTypeOfMobile()&&o.push(a.iK.MOBILE),(g.isDebugMode()||e.artboardMoving)&&o.push(y.hidden),t._closed&&o.push(y.closed),i.isHovering()&&!i.isHoveringSilent()&&o.push(y.slotHover),M&&e.viewModel.curArtboardId===t.id&&o.push(y.now),i.isFocused()&&o.push(y.focusBoard),o.join(" ")})),k=(0,i.HO)((()=>{const e=t.style,n=[y.body];if(t.hasRootTemplate());else if(n.push(y.bodyOverFlowHidden),e&&(e.isLayoutOfFlexColumn()?n.push(y.lyFlexColumn):e.isLayoutOfFlexRow()?n.push(y.lyFlexRow):e.isLayoutAbsolute(),e.isLayoutOfFlex())){const t=e.getJustifyContent();t&&("FLEX-START"===t.toUpperCase()?n.push(y.justifyContentFlexStart):"CENTER"===t.toUpperCase()?n.push(y.justifyContentFlexCenter):"FLEX-END"===t.toUpperCase()?n.push(y.justifyContentFlexFlexEnd):"SPACE-AROUND"===t.toUpperCase()?n.push(y.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===t.toUpperCase()&&n.push(y.justifyContentFlexSpaceBetween));const i=e.getAlignItems();i&&("FLEX-START"===i.toUpperCase()?n.push(y.alignItemsFlexStart):"CENTER"===i.toUpperCase()?n.push(y.alignItemsFlexCenter):"FLEX-END"===i.toUpperCase()&&n.push(y.alignItemsFlexFlexEnd))}return(e._width||e._height)&&n.push(y.frozen),n.join(" ")})),P=(0,i.HO)((()=>{const e=t.style,n={};return t.isTypeOfModule()&&(n.transform=`translateX(${e.left||0}px) translateY(${e.top||0}px)`),n})),F=(0,r.useRef)();(0,r.useEffect)((()=>{const e=t.style;if(t.isTypeOfModule()&&!t._initAfterRefactorLayout){t._initAfterRefactorLayout=!0;let n=0;w.slots.find((e=>{if(e.isTypeOfModule()){if(e.id===t.id)return!0;n+=(e.style.width||600)+100}})),e.left=n,e.top=-1*(e.heightFact+100)}if(e.heightType&&("fit-content"===e.heightType&&(e.heightAuto=!0),delete e.heightType),t.isTypeOfModule()){const e=g.getComDef({namespace:a.ZD.coms.module});if(e){const n=e.outputs;n&&n.forEach((e=>{E.addOutputPin({slotId:t.id,pinHostId:e.id,type:"event",title:e.title,schema:e.schema})}))}}const n=new ResizeObserver((n=>{t.isVisible()&&(t._rendered<0||n.forEach((i=>{for(const i of n){const n=i.contentRect;(n.width>10||n.height>10)&&(e.widthFact=Math.ceil(n.width+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)),e.heightFact=Math.ceil(n.height+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)),t.state.isResizing()&&e.isLayoutAbsoluteOrSmart()&&t.comAry.forEach((t=>{t.style.xCenter&&(t.style.left=Math.ceil((e.widthFact-t.$el.offsetWidth)/2))})))}})))}));let o=!1;const r=new IntersectionObserver((e=>{if(e.length>0){const n=t.$wrapEl,r=t.$el;if(e[e.length-1].isIntersecting){if(o=!0,t._rendered<0&&requestIdleCallback((e=>{t._rendered=0}),{timeout:2e3}),F.current){const e=F.current;F.current=void 0,requestAnimationFrame((i=>{n.insertBefore(e,n.childNodes[0]),t._offScreen=void 0}))}}else(0,i.qA)((e=>{t._offScreen=!0})),o&&(F.current=r,1===t._rendered&&requestAnimationFrame((e=>{r.remove()})))}}));if(t.$wrapEl){if(t.hasRootTemplate()){const e=t.comAry[0];requestIdleCallback((t=>{e&&e.$el&&n.observe(e.$el)}))}else n.observe(t.$el);if(r.observe(t.$wrapEl),void 0===e.widthFact||void 0===e.heightFact){const n=t.$el;setTimeout((()=>{e.widthFact=Math.ceil(n.offsetWidth+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)),e.heightFact=Math.ceil(n.offsetHeight+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0))}))}}return t.$el&&(t.$el.onwheel=e=>!1),()=>{t.$wrapEl&&(n.unobserve(t.$wrapEl),r.unobserve(t.$wrapEl))}}),[]);const S=(0,r.useRef)();(0,r.useEffect)((()=>{g.withShiftKey?(S.current=e=>{n.hover(t)},t.$wrapEl.addEventListener("mouseover",S.current)):S.current&&t.$wrapEl.removeEventListener("mouseover",S.current)}),[g.withShiftKey]);const T=t._rendered>=0;return s().createElement("div",{key:t.id,className:I,style:P,"data-mybricks-artboard":t.id,onClick:(0,i.Wj)((i=>{e.focusArtboard(t.id),n.focus(t)})).stop,ref:e=>{e&&(t.$shellEl=e)}},s().createElement(m.A,{viewCtx:e,slotModel:t}),s().createElement("div",{style:C,className:y.bodyWrap,ref:e=>{e&&(t.$wrapEl=e)}},s().createElement("div",{className:k,style:_,ref:e=>{e&&(t.$el=e)},onDoubleClick:t=>{e.showNavPanel=!0}},s().createElement(p.A,{viewCtx:e,slotModel:t}),T?s().createElement(A,{slotModel:t,viewCtx:e}):s().createElement("div",{className:y.loading})),s().createElement(h.A,{viewCtx:e,slotModel:t}),s().createElement(f.A,{viewCtx:e,slotModel:t,dragging:({dx:e,dy:n,width:i,height:o})=>{i&&(t.style._width=i),o&&(t.style._height=o)}})),T?s().createElement(s().Fragment,null,s().createElement(x,{slotModel:t,viewCtx:e}),s().createElement(v,{slotModel:t,viewCtx:e})):null,s().createElement(b,{slotModel:t,viewCtx:e}))}function b({slotModel:e,viewCtx:t}){var n;const{cssArtboard:i}=t;if((null===(n=e.notes)||void 0===n?void 0:n.length)>0)return s().createElement("div",{className:i.notes},e.notes.map((e=>s().createElement(g.A,{key:e.id,note:e,css:i,viewCtx:t}))))}function v({slotModel:e,viewCtx:t}){const{context:n,emitItem:o,cssArtboard:l}=t,c=(0,r.useCallback)((e=>{o.focus(e),e.notifyEleChanged(!0)}),[]),d=(0,i.HO)((()=>{const t=[],n=e=>{e.comAry&&e.comAry.forEach((e=>{"none"===e.style.display&&t.push(s().createElement("div",{className:l.item,onClick:(0,i.Wj)((t=>{c(e)})).stop,"data-mybricks-tip":"{content:'点击显示',position:'right'}"},s().createElement("label",null,e.runtime.title),s().createElement("span",null,e.style.visibleOnce?a.FI.eye:a.FI.eyeClosed))),e.slots&&e.slots.forEach((e=>{n(e)}))}))};return n(e),t}));return s().createElement("div",{className:l.hiddenComs},d)}function x({slotModel:e,viewCtx:t}){return(0,i.HO)((()=>{if(e.comAry.length>0)return e.comAry.map(((e,n)=>{if(e&&e.runtime.isTemp)return s().createElement(o.A,{key:e.id,model:e,viewContext:t})}))}))}function A({slotModel:e,viewCtx:t}){const{context:n,viewModel:a,cssArtboard:l}=t,c=(0,i.HO)((()=>{if(e.comAry.length>0)return e.comAry.map(((e,n)=>{if(e&&!e.runtime.isTemp)return s().createElement(o.A,{key:e.id,model:e,viewContext:t})}));{const t=e.style,n=[l.empty];return t.isLayoutOfFlexRow()?n.push(l.emptyLayoutFlexRow):t.isLayoutOfFlexColumn()?n.push(l.emptyLayoutFlexColumn):t.isLayoutSmart()&&n.push(l.emptyLayoutSmart),s().createElement("div",{className:n.join(" ")},"双击添加内容")}}));return(0,r.useEffect)((()=>{e._rendered=1}),[]),c}},54467:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n(91737),r=n(64012);function s({viewCtx:e,slotModel:t,dragging:n}){var s;const{viewModel:a,emitItem:l,context:c,cssArtboard:d,emitSnap:u}=e,p=a.style.zoom,f=c.isDesnMode(),h=t.style,[m,g]=(0,i.useState)(null),y=(0,i.useCallback)(((i,r)=>{let s,a,d;c.isDebugMode()?(s=e.debugViewInfo.width,a=e.debugViewInfo.height):(s=t.$wrapEl.offsetWidth,a=t.$wrapEl.offsetHeight);const f=c.isDesnMode()?t.$wrapEl:e.getCurrentCanvasElement();(0,o.zg)(i,(({po:{x:e,y:i},epo:{ex:o,ey:m},dpo:{dx:y,dy:b},adpo:{adx:v,ady:x}},A)=>{if("start"==A&&c.isDesnMode()&&(l.focus(t),t.state.resizing(),d=u.start("改变组件尺寸",{target:t})),"moving"==A){if(d&&d.pause(),"x"==r||"xy"==r){const e=s+v/p;e>=10&&n({dx:y,width:Math.ceil(e)})}if("y"==r||"xy"==r){const e=a+x/p;e>=10&&n({dy:b,height:Math.ceil(e)})}g(`${f.offsetWidth} x ${f.offsetHeight}`)}"finish"==A&&(d&&(d.resume(),h._width&&(h.width=h._width,h._width=void 0),h._height&&(h.height=h._height,h._height=void 0),d.commit()),t.state.resizingRecover(),g(null))}))}),[f,p]);if(f&&t.hasRootTemplate()||t.isShowTypeOfPopup()||f&&!t.state.isFocused())return;let b=!0;const v="mobile"===(null===(s=c.configs.geoView.type)||void 0===s?void 0:s.toLowerCase());if(t.isTypeOfModule()||v&&(b=!1),c.isDesnMode())return r.createElement(r.Fragment,null,m?r.createElement("div",{className:d.resizeInfo},m):null,b?r.createElement("div",{className:d.resizeR,"data-mode-debug":c.isDesnMode(),onMouseDown:e=>y(e,"x")}):null,r.createElement("div",{className:d.resizeB,onMouseDown:e=>y(e,"y")}),b?r.createElement("div",{className:d.resizeRB,onMouseDown:e=>y(e,"xy")}):null);{const e=t.isShowTypeOfNormal(),n=t.isShowTypeOfModule();if(e&&!v)return r.createElement(r.Fragment,null,m?r.createElement("div",{className:d.resizeInfo},m):null,r.createElement("div",{className:d.resizeR,"data-mode-debug":c.isDesnMode(),onMouseDown:e=>y(e,"x")}),r.createElement("div",{className:d.resizeB,"data-mode-debug":c.isDesnMode(),onMouseDown:e=>y(e,"y")}));if(n)return r.createElement(r.Fragment,null,m?r.createElement("div",{className:d.resizeInfo},m):null,h.widthFull?r.createElement("div",{className:d.resizeR,"data-mode-debug":c.isDesnMode(),onMouseDown:e=>y(e,"x")}):null,h.heightFull?r.createElement("div",{className:d.resizeB,"data-mode-debug":c.isDesnMode(),onMouseDown:e=>y(e,"y")}):null)}}},8875:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(91737),s=n(96966),a=n(52853);function l({viewCtx:e,slotModel:t}){var n;const{context:l,viewModel:u,getCurModuleSlot:p,emitItem:f,emitSnap:h,cssArtboard:m}=e,g=(0,i.useCallback)((n=>{if(t.isTypeOfModule()){const e=t.style;let i,o,s;(0,r.zg)(n,(({po:{x:n,y:r},epo:{ex:a,ey:c},dpo:{dx:d,dy:u},adpo:{adx:p,ady:m}},g)=>{"start"===g&&(i=e.left||0,o=e.top||0,f.focus(t),s=h.start("移动模块",{target:t})),"moving"==g&&(s&&s.pauseNext(),e.left=i+p/l.geoZoom,e.top=o+m/l.geoZoom),"finish"==g&&s&&s.commit()}))}else{const i=p(),o={id:t.id};(0,r.zg)(n,(({po:{x:n,y:r},epo:{ex:s,ey:a},dpo:{dx:c,dy:d},adpo:{adx:p,ady:m}},g)=>{if("moving"==g&&(e.artboardMoving||(o.offsetX=s-n,o.offsetY=a-r,e.artboardMoving=o),e.artboardMoving.adx=p,e.artboardMoving.ady=m),"finish"==g&&e.artboardMoving){const n=e.artboardMoving.curIndex;if(void 0!==n){const o=h.start("更改场景顺序",{target:t});if(i.hostSlotId){u.getSlot(i.hostSlotId).changeSubSlotOrder(t,n)}else u.changeOrder(t,n),l.pageMetaModel&&l.pageMetaModel.changeOrder(t.id,n);o.commit(),requestAnimationFrame((n=>{e.focusArtboard(t.id),f.focus(t)}))}e.artboardMoving=void 0}}))}}),[]),y=(0,i.useCallback)((()=>{const n=()=>{e.clearPops(),e.activePlugin=void 0,f.focus(void 0),requestAnimationFrame((e=>{l.setModeDebug()}))};e.viewModel.curArtboardId!==t.id?(e.focusArtboard(t.id),setTimeout(n)):n()}),[]),b=(0,i.useCallback)((e=>{if(t.hasRootTemplate()&&t.comAry.length>0){const n=t.comAry[0];n.clearFocusArea(),f.focus(n),e.stopPropagation()}}),[]),v=l.configs.geoView;let x,A;"pc"===(null===(n=null==v?void 0:v.type)||void 0===n?void 0:n.toLowerCase())&&(x=414===t.style.width?"手机 - ":"PC - "),A=t.isTypeOfDefinedCom()?s.FI.Coms:t.isTypeOfModule()?s.FI.Module:t.isShowTypeOfPopup()?s.FI.Popup:s.FI.Scene;const w=(0,i.useCallback)((e=>{const n=t.style,i=h.start("Set Width Height",{target:t});switch(e){case"widthAuto":n.widthAuto=!n.widthAuto,n.widthAuto&&(n.widthFull=void 0);break;case"widthFull":n.widthFull=!n.widthFull,n.widthFull&&(n.widthAuto=void 0);break;case"heightAuto":n.heightAuto=!n.heightAuto,n.heightAuto&&(n.heightFull=void 0);break;case"heightFull":n.heightFull=!n.heightFull,n.heightFull&&(n.heightAuto=void 0)}i.commit()}),[]),E=(0,r.HO)((()=>{const e=t.style,n=[];let i,r;return t.isShowTypeOfModule()?(n.push(o().createElement("div",{className:`${e.widthAuto?m.iconActive:null}`,"data-mybricks-tip":"宽度适应内容",onClick:e=>w("widthAuto")},s.FI.fitContentW)),n.push(o().createElement("div",{className:`${e.widthFull?m.iconActive:null}`,"data-mybricks-tip":"宽度填充",onClick:e=>w("widthFull")},s.FI.fullWidth)),n.push(o().createElement("div",{className:`${e.heightAuto?m.iconActive:null}`,"data-mybricks-tip":"高度适应内容",onClick:e=>w("heightAuto")},s.FI.fitContentH)),n.push(o().createElement("div",{className:`${e.heightFull?m.iconActive:null}`,"data-mybricks-tip":"高度填充",onClick:e=>w("heightFull")},s.FI.fullHeight))):(n.push(o().createElement("div",{className:`${m.iconActiveDisabled}`,"data-mybricks-tip":"宽度填充"},s.FI.fullWidth)),n.push(o().createElement("div",{className:`${m.iconActiveDisabled}`,"data-mybricks-tip":"高度适应内容"},s.FI.fitContentH))),e.isLayoutSmart()?(i=s.FI.LayoutSmart,r="智能排版"):e.isLayoutAbsolute()?(i=s.FI.LayoutAbsolute,r="绝对排版"):e.isLayoutOfFlexColumn()?(i=s.FI.LayoutFlexColumn,r="纵向排版"):(i=s.FI.LayoutFlexRow,r="横向排版"),n.push(o().createElement("label",{className:m.layoutInfo,"data-mybricks-tip":"排版方式"},r)),n.push(o().createElement("span",{"data-mybricks-tip":"宽 x 高"},e.widthFact||e.width," x ",e.heightFact||e.height)),n}));return o().createElement("div",{className:`${m.boardTitle}`,onMouseDown:(0,r.Wj)(g).stop,onClick:b,style:{}},o().createElement("label",{className:m.icon},A),o().createElement(d,{viewCtx:e,slotModel:t}),t.noteInfo?o().createElement("span",{className:`${m.noteLabel}`,style:"left"===t.noteInfo.position?{left:2}:{right:2}},"[",t.noteInfo.label,"]"):null,o().createElement("div",{className:m.flex},l.configs.toplView?o().createElement("span",{className:m.debug,onClick:(0,r.Wj)(y).stop,"data-mybricks-tip":"调试当前场景"},a.Yz):null,o().createElement(c,{viewCtx:e,slotModel:t})),o().createElement("div",{className:m.desc},E))}function c({viewCtx:e,slotModel:t}){const{context:n,cssArtboard:i}=e;if(n.isDesnMode()&&t._pinTitle)return o().createElement("div",{className:i.pinTitle},t._pinTitle)}function d({viewCtx:e,slotModel:t}){const{context:n,emitSnap:s,emitScenes:a,cssArtboard:l}=e,[c,d]=o().useState(),u=n.configs.isTypeOfMPA()&&!t.hostSlotId?"(主场景)":null,p=(0,i.useCallback)((()=>{d(t.title)}),[]),f=(0,i.useCallback)((()=>{const e=c.trim();if(""!==e&&e!==t.title){const i=s.start("修改名称",{target:t});t.title=e,a.setTitle(t.id,e,"geoView"),t.hostSlotId&&n.pageMetaModel.updateScene(t.hostSlotId,t.id,{title:e}),i.commit()}d(void 0)}),[c]);if(void 0!==c)return o().createElement("label",{className:l.tt},o().createElement("input",{type:"text",value:c,ref:e=>{e&&e.focus()},onDoubleClick:(0,r.Wj)().stop,onMouseDown:(0,r.Wj)().stop,onChange:e=>d(e.target.value),onBlur:f,onKeyDown:(0,r.Wj)((e=>{"Enter"===e.key&&f()})).stop}));{const e=t.getUpdateTime();return o().createElement("label",{className:l.tt,onDoubleClick:(0,r.Wj)(p).stop},e?o().createElement("span",null,"*"):null,t.title,u?o().createElement("span",{className:l.ttDesc},u):null)}}},65244:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var i=n(91737),o=n(64012),r=n.n(o),s=n(67524),a=n(46517),l=n(55127),c=n(77050),d=n(96544),u=n(96966);let p;function f(){var e;p=(0,i.lB)(c.A,{from:"parents"});const{viewModel:t,context:n,loadCSS:f,unloadCSS:h}=p,m=t.style.zoom,g=n.isDebugMode(),y=(0,o.useRef)({zoom:m});(0,o.useMemo)(f,[]),(0,o.useMemo)((()=>{!function(){var e,t;const{context:n,viewModel:i,emitItem:o}=p,r=n.configs.geoView,s=null==r?void 0:r.width;void 0!==s&&"boolean"==typeof s.editable&&(i.style.widthEditable=s.editable);const a=null==r?void 0:r.height;void 0!==a&&"boolean"==typeof a.editable&&(i.style.heightEditable=a.editable);if(i.styleInited)return!0;if(i.styleInited=!0,r){let n,o;switch("absolute"==(null===(e=r.layout)||void 0===e?void 0:e.toLowerCase())?(i.style.setLayout("absolute"),i.slots[0].style.setLayout("absolute")):void 0===i.style&&i.style.setLayout("flex-column"),null===i.style.zoom&&(i.style.zoom=(null==r?void 0:r.zoom)||1),void 0!==i.style.width?n=i.style.width:void 0!==s&&("object"==typeof s?n=s.init:"number"==typeof s&&(n=s)),void 0!==i.style.height?o=i.style.height:void 0!==a&&("object"==typeof a?o=a.init:"number"==typeof a&&(o=a)),null===(t=null==r?void 0:r.type)||void 0===t?void 0:t.toLowerCase()){case"mobile":i.showType="mobile",o=o||l.vc.canvasMobile.height,n=n||l.vc.canvasMobile.width;break;case"pc":i.showType="pc",o=o||l.vc.canvasPC.height,n=n||l.vc.canvasPC.width}const c=i.getMainModuleSlot();if(c){if(!c.isTypeOfModule()&&!c.isShowTypeOfModule()){const e=c.style;i.style.height=e.height=o,i.style.width=e.width=n}}else i.style.height=o,i.style.width=n;if(null==r?void 0:r.style)for(let e in r.style)e.match(/^background(Image|Color)$/gi)&&(i.style[e]=r.style[e])}}(),y.current.zoom=m}),[]),(0,i.HO)((()=>{const{cssVars:e}=p;if(e){const t=[];e.forEach((e=>{t.push(`${e.name}:${e.value};`)})),function(e,t){let n=e.querySelector("#__themes__");n||(n=document.createElement("style"),n.setAttribute("id","__themes__"),e.appendChild(n));n.textContent=`\n:host {\n  ${t.join("\n")}\n}\n  `}(p.canvasShadowRoot,t)}})),(0,o.useMemo)((()=>{n.comLibAry&&n.comLibAry.forEach((e=>{e._loaded=!0,p.addStyleAry((0,i.AF)(e,"_styleArySingleton")),p.addStyleAry((0,i.AF)(e,"_styleAry"),!0)}))}),[n.comLibAry,null===(e=n.comLibAry)||void 0===e?void 0:e.length]),(0,o.useLayoutEffect)((()=>{requestAnimationFrame((e=>{p.anchor(!0)}))}),[]),(0,o.useEffect)((()=>((0,d.A)().then((e=>{for(let t in e){const n=e[t],i=document.createElement("style"),o=u.iK[t],r=n.map((e=>Array.from(e.cssRules).map((e=>e.cssText)).join("\n"))).join("\n");i.textContent=`.${o} { \n ${r} }`,p.canvasShadowRoot.appendChild(i)}})),()=>{h()})),[]);const b=(0,o.useMemo)((()=>{const e=[];return p.comlibJSLoaded&&(e.push(r().createElement(a.A,{key:"desnView"})),g&&e.push(r().createElement(s.A,{key:"debugView"}))),e}),[g]),v=t.style;return r().createElement("div",{className:p.cssCanvas.geoView,style:{transform:`scale(${v.zoom})`,transformOrigin:"0 0"},onMouseDown:(0,i.Wj)().stop,ref:e=>{e&&(t.$el=e)}},b)}},67524:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(91737),o=n(64012),r=n.n(o),s=n(77050),a=n(91716),l=n(96966),c=n(27883),d=n(24412),u=n(54467),p=n(52853),f=n(95947);function h(){const e=(0,i.lB)(s.A,{from:"parents"}),{getCurModuleSlot:t,emitMessage:n}=e;let o=e.getCurModuleSlot();if(!o){if(!(e.viewModel.slots.length>0))return void n.error("未找到画布");o=e.viewModel.slots[0]}if(t())return r().createElement(m,{viewCtx:e,mainSlotModel:o,_onError_:e=>{}})}function m({viewCtx:e,mainSlotModel:t}){const{context:n,viewModel:s,getCurModuleSlot:p,emitMessage:h,emitFrame:m,emitScenes:b,emitPage:v,cssArtboard:x}=e,A=p(),w=(0,o.useRef)([]),E=(0,o.useRef)([]);(0,o.useMemo)((()=>{e.debugSlotStartWith=A;const t=A.$wrapEl;e.debugViewInfo={width:t.offsetWidth},e.debugViewInfo.height=t.offsetHeight;e.getViewWrapperElement().childNodes.forEach(((e,t)=>{t>0&&(e.style.display="none")}))}),[A]),(0,o.useEffect)((()=>()=>{s.$elForDebugCanvas=void 0,s.curArtboardId!==e.debugSlotStartWith.id&&b.switch(e.debugSlotStartWith.id),e.debugSlotStartWith=void 0,w.current.length>0&&w.current.forEach((e=>{b.close(e.id)})),E.current.length>0&&E.current.forEach((e=>{e()}));const t=e.getViewWrapperElement();t&&t.childNodes.forEach(((e,t)=>{t>0&&(e.style.display="")}))}),[]);const C=(0,i.HO)((()=>function(e,t){var n;const{context:i,viewModel:o,viewShowType:r,getCurModuleSlot:s,isMainModule:a}=e,l=(o.style,o.$el,t.style),c=(t.$el,i.configs.geoView),u="mobile"===(null===(n=c.type)||void 0===n?void 0:n.toLowerCase()),p=!c.type||"pc"===c.type.toLowerCase(),f=t.isShowTypeOfPopup(),h={};t.isTypeOfModule()||(h.backgroundColor="RGBA(255,255,255,1)");const m={};t.isShowTypeOfModule()?(l.heightAuto||(m.height=e.debugViewInfo.height),m.width=e.debugViewInfo.width):u?(m.height=d.Q3,m.width=e.debugViewInfo.width):(p||f)&&(l.isLayoutAbsoluteOrSmart()||(m.minHeight=e.debugViewInfo.height),m.height=e.debugViewInfo.height,m.width=e.debugViewInfo.width);return Object.assign(Object.assign({},h),m)}(e,A))),_=A.style,M=(0,o.useMemo)((()=>{if(!n.configs.isTypeOfMPA()&&s.slots.length<=1)return{};const e=s.canvasWrapEle,t=(0,a.E9)(A.$wrapEl,s.canvasTransEle);(e.scrollLeft+e.offsetWidth<t.x||e.scrollLeft>t.x+A.style.width)&&(e.scrollLeft=t.x-100);const i={};return i.left=t.x/n.geoZoom,i.top=t.y/n.geoZoom,i}),[A.style.width]),[I,k]=(0,o.useState)(),[P,F]=(0,o.useMemo)((()=>{var t;try{const{viewModel:n,context:o,debugSlotStartWith:s,emitDebug:a,emitModule:l,emitLogs:d}=e,u=o.toJSON({forDebug:!0,needClone:!0,withMockData:!0}),p=o.configs.com||{},g=(0,i.o8)(p,!0),y=Object.assign({},g,{sceneId:s.id,debug:!0,observable:i.sH,debug:({resume:e,ignoreAll:t})=>(a.init(s.id,{resume:e,ignoreAll:t}),{log(e,t,n,r){if(!o.isDebugMode())return;const s=(0,i.o8)(n,!0,(e=>e instanceof Date?e.toString():e));requestIdleCallback((n=>{a.log("debug",e,t,s,r)}),{timeout:400})},onResume(){a.resume()}}),onError({comId:e,title:t,error:n}){n&&requestAnimationFrame((i=>{const o=["color:#FFF;background:#FF0000;font-weight:bold;border-radius: 10px;padding-top:2px;","",`组件${t}运行错误:${n.message}`];d.error("%c 错误 %c ",...o),m.onError("com",{comId:e},n)}))}});return y.env.runtime={debug:{prototype:"proto"===o.currentRole},onComplete(e){"function"==typeof e&&E.current.push(e)}},(null===(t=g.env)||void 0===t?void 0:t.renderCom)?y.env.renderCom=g.env.renderCom:y.env.renderCom=function(e,t){const n=Object.assign({sceneId:null},y,t);return o.renderWeb(e,n)},y.env.renderModule=function(e,t){const n=Object.assign({sceneId:null},y,t);return o.renderWeb(e,n)},y.env.canvas={get id(){return s.id},get type(){return"mobile"===o.configs.geoView.type?"mobile":s.isShowTypeOfModule()?"pc":s.style.isDisplayTypeOfMobile()?"mobile":"pc"},appendCom(e){e&&e.namespace&&e.data&&h.info(`添加组件：${e.namespace} 完成`)},css:{set(e,t){const n=(0,f.c)();n.removeStyleDom(e);const i=document.createElement("style");i.setAttribute("id",e),i.innerHTML=t,n.addStyleDom(i)},remove(e){(0,f.c)().removeStyleDom(e)}}},Object.defineProperty(y.env,"canvasElement",{get:()=>n.$elForDebugCanvas}),Object.defineProperty(y.env,"creatPortalElement",{get:()=>e.debugPopupEle}),y.comDefs=o.getAllComDef(),y.createPortal=e=>v.createPortal(r().createElement("div",null,e)),y.scenesLoader=({id:e})=>new Promise(((t,n)=>{b.load(e).then((n=>{if(n){const{slot:e,frame:i}=n;w.current.push(e);const o=(0,c.F8)({slot:e,frame:i});t(o)}else h.error(`未找到页面（id=${e}）`)}))})),y.scenesLoaded=({id:e,title:t})=>{},[u,y]}catch(e){return k(r().createElement("div",null,r().createElement("div",null,"渲染发生错误"),r().createElement("div",null,e.message))),console.error(e),[]}}),[]);(0,o.useMemo)((()=>{var e;if(P&&s.$elForDebugCanvas){const t=P.services;if(t){delete P.services;const i=null===(e=n.configs.toplView)||void 0===e?void 0:e.useService.debug;if("function"==typeof i)return void i(t).then((()=>{k(n.renderWeb(P,F))}))}k(n.renderWeb(P,F))}}),[s.$elForDebugCanvas]);const S=(0,o.useCallback)((e=>{let t,n=e.target;for(;n&&n!==s.$el&&n.id!==d.iS&&n!==document.body&&!n.getAttribute("data-canvas");){const e=n.scrollWidth-n.clientWidth,i=n.scrollHeight-n.clientHeight;n.style.overflow;if(e>=5||i>=5){t=!0;break}n=n.parentNode}t&&e.stopPropagation()}),[]);return r().createElement("div",{className:`${x.debugCanvas} ${(null==_?void 0:_.isDisplayTypeOfMobile())?l.iK.MOBILE:""}`,"data-canvas":"debug",style:Object.assign(Object.assign({},C),M),onClick:e=>{m.exeOutput("click",0)},onWheel:S,ref:e=>{e&&(s.$elForDebugCanvas=e)}},r().createElement(y,{viewCtx:e,slotModel:e.debugSlotStartWith}),r().createElement("div",{className:x.debugBody},I),r().createElement(u.A,{viewCtx:e,slotModel:e.debugSlotStartWith,dragging:({width:t,height:n})=>{t&&(e.debugViewInfo.width=t),n&&(e.debugViewInfo.height=n)}}),r().createElement(g,{viewCtx:e,position:{left:M.left,top:M.top}}))}function g({viewCtx:e,position:t}){const{viewModel:n,cssArtboard:i}=e,s=n.style,a=(0,o.useMemo)((()=>({transform:`translate(-${s.left+t.left}px, -${s.top+t.top}px)`})),[s.left,s.top]);return(0,o.useEffect)((()=>{const i=e.debugPopupEle,o=new ResizeObserver((e=>{e.forEach((t=>{for(const t of e){const e=t.contentRect;i.style.width=e.width+"px",i.style.height=e.height+"px"}}))})),r=new MutationObserver((function(e){e.forEach((function(e){e.target.style.transform.replace(/translate\(([^,]+),\s*([^,]+)\)/,((e,n,o)=>{i.style.transform=`translate(${-1*parseInt(n)-t.left}px,${-1*parseInt(o)-t.top}px)`}))}))}));return o.observe(n.canvasWrapEle),r.observe(n.canvasTransEle,{attributes:!0,childList:!1,subtree:!1}),()=>{e.debugPopupEle=void 0,o.disconnect(),r.disconnect()}}),[]),r().createElement("div",{className:i.popupBg,ref:t=>{t&&(e.debugPopupEle=t)},style:a})}function y({slotModel:e,viewCtx:t}){const{context:n,cssArtboard:i}=t;let s;s=e.isTypeOfDefinedCom()?l.FI.Coms:e.isTypeOfModule()?l.FI.Module:e.isShowTypeOfPopup()?l.FI.Popup:l.FI.Scene;const a=(0,o.useCallback)((()=>{t.clearPops(),n.setModeDesn()}),[]);return r().createElement("div",{className:i.boardTitle},r().createElement("label",{className:i.icon},s),r().createElement("div",{className:i.tt},e.title),r().createElement("div",{className:i.flex},r().createElement("div",{className:i.debugStop,onClick:a,"data-mybricks-tip":"返回设计"},r().createElement("span",null,p.Yz),r().createElement("span",null,p.n1))))}},46517:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(64012),r=n.n(o),s=n(8131),a=n(77050),l=n(65989);n(48555),n(289),n(80814),n(96966);function c(){const e=(0,i.lB)(a.A,{from:"parents"}),{viewModel:t,context:n,cssCanvas:c}=e;(0,o.useEffect)((()=>{e.isViewTypeOfModule()&&e.setViewTypeOfNormal()}),[]);const u=t.slots;if(0===u.length)return r().createElement(d,{viewCtx:e});if(n.configs.isTypeOfMPA()){const n=t.getCurPageSlot();return r().createElement(r().Fragment,null,u.map((t=>{var i;if(!t.hadDestroyed()&&t.id===(null==n?void 0:n.id)){const n=[];return t.isTypeOfEmpty()||n.push(r().createElement(l.A,{key:t.id,slotModel:t,viewCtx:e})),(null===(i=t.slots)||void 0===i?void 0:i.length)>0?t.slots.forEach((t=>{n.push(r().createElement(l.A,{key:t.id,slotModel:t,viewCtx:e}))})):t.isTypeOfModule(),n}})),r().createElement(s.ff,null))}return r().createElement(r().Fragment,null,u.map(((t,n)=>{if(!t.hadDestroyed())return r().createElement(l.A,{key:t.id,slotModel:t,viewCtx:e})})),r().createElement(s.ff,null))}function d({viewCtx:e}){}},6815:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i,o=n(91737),r=n(24412),s=n(96966),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends s.PQ{addItem(e){this.items.push({content:e.content,dateTime:(new Date).getTime()})}constructor(e){if(super(),this.items=[],"object"==typeof e){const{type:t,position:n}=e;this.type=t||"normal",this.position=n,this.createTime=(new Date).getTime()}}focus(){this._focused=!0}blur(){this._focused=void 0}};a([o.Nt,l("design:type","function"==typeof(i="undefined"!=typeof HTMLElement&&HTMLElement)?i:Object)],c.prototype,"bodyEl",void 0),a([o.Nt,l("design:type",Object)],c.prototype,"refPo",void 0),a([o.Nt,l("design:type",Boolean)],c.prototype,"_focused",void 0),c=a([(0,o.yL)(r.MS+"geo.NoteModel"),l("design:paramtypes",[Object])],c);const d=c},67542:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);function o({viewCtx:e,slotModel:t}){const{cssArtboard:n}=e,o=t.style,r=parseInt(o.paddingTop),s=parseInt(o.paddingRight),a=parseInt(o.paddingBottom),l=parseInt(o.paddingLeft);return i.createElement(i.Fragment,null,r>0&&i.createElement("div",{className:`${n.padding} ${n.paddingTop}`,style:{height:r}}),s>0&&i.createElement("div",{className:`${n.padding} ${n.paddingRight}`,style:{width:s}}),a>0&&i.createElement("div",{className:`${n.padding} ${n.paddingBottom}`,style:{height:a}}),l>0&&i.createElement("div",{className:`${n.padding} ${n.paddingLeft}`,style:{width:l}}))}},95947:(e,t,n)=>{"use strict";n.d(t,{A:()=>A,c:()=>x});var i=n(76033),o=n(64012),r=n.n(o),s=n(91716),a=n(91737),l=n(8131),c=n(79759),d=n(57400),u=n(77050),p=n(26823),f=n(65244),h=n(94588),m=n(24412),g=n(1950),y=n(31729),b=n(96966);let v;function x(){return{get canvasDom(){return v.viewModel.$el.cloneNode(!0)},addStyle(e){const t=v.canvasShadowRoot;if(t){const n=document.createElement("style");n.innerHTML=e,t.appendChild(n)}},addStyleDom(e){const t=v.canvasShadowRoot;t&&t.appendChild(e)},removeStyleDom(e){const t=v.canvasShadowRoot;if(t){const n=t.querySelector(`style#${e}`);n&&t.removeChild(n)}},addCSSLink(e){const t=v.canvasShadowRoot;if(t){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.appendChild(n)}},width(e){if("number"!=typeof e)return v.viewModel.style.width;v.viewModel.style.width=e},height(e){if("number"!=typeof e)return v.viewModel.style.height;v.viewModel.style.height=e}}}function A(){v=(0,a.lB)(u.A,{from:"parents"});const{emitItem:e,context:t,viewModel:n}=v,x=t.configs.geoView;(0,o.useMemo)((()=>{const e=`geo-${(0,s.uR)().replace(/\_/g,"").toLowerCase()}`;v.TagName=e,customElements.get(e)||customElements.define(e,class extends HTMLElement{constructor(){super()}connectedCallback(){var e,t;const n=this.attachShadow({mode:"open"}),i=window.getSelection;if(window.getSelection=function(){var e;const t=null===(e=document.activeElement.shadowRoot)||void 0===e?void 0:e.getSelection();return t||i.call(this)},Array.isArray(null===(e=x.theme)||void 0===e?void 0:e.css)&&x.theme.css.forEach((e=>{const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),n.appendChild(t)})),null===(t=x.theme)||void 0===t?void 0:t.style){const e=(0,h.B)(x.theme.style),t=document.createElement("style");t.dataset.defined=1,t.textContent=e,n.appendChild(t)}const o=document.createElement("div");o.id=m.iS,o.style.width="100%",o.style.height="100%",o.style.display="flex",o.tabIndex=1e3,n.appendChild(o),v.canvasShadowRoot=n,setTimeout((()=>{v.loaded=!0}),100)}disconnectedCallback(){this.shadowRoot.innerHTML=""}})}),[]);const A=(0,o.useCallback)((t=>{a.zg.event||(v.clearPops(),e.focus(void 0))}),[]),w=n.style,E=(0,o.useRef)();return(0,o.useEffect)((()=>{t.geoZoom=n.style.zoom;const e=E.current;e.addEventListener("wheel",(e=>{!function(e,t){const{viewModel:n}=t;t.scrolling();const{deltaX:i,deltaY:o}=e,r=n.style,s=1,a=e.shiftKey;let l,c;a?(l=Math.ceil(r.left-o/s),c=r.top):(l=Math.ceil(r.left-i/s),c=Math.ceil(r.top-o/s));n.canvasTransEle.style.transform=`translate(${l}px, ${c}px)`,r.left=l,r.top=c}(e,v)})),e.addEventListener("scroll",(function(e){return this.scrollTop=0,this.scrollLeft=0,!1})),e.addEventListener("focus",(function(e){}))}),[]),r().createElement(r().Fragment,null,r().createElement("div",{className:`${p.A.viewWrap}\n      ${t.withSpaceKey?p.A.movable:""}\n      ${v.curMovingCom?`${p.A.moveCom} ${p.A.disabled}`:""}`,onClick:A,ref:e=>{e&&(E.current=e)}},r().createElement("div",{className:`${p.A.canvasWrap}  ${t.withSpaceKey||v.scrollNow||v.disabledF?p.A.disabled:""}\n          ${v._templNote?p.A.noteAdding:""}`,onMouseDown:e=>{t.withSpaceKey&&function(e){const{viewModel:t,context:n}=v,i=(t.canvasWrapEle,t.style);(0,a.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:o},dpo:{dx:r,dy:s}},a)=>{if("moving"==a){i.left+=r,i.top+=s}}))}(e)},ref:e=>{e&&(n.canvasWrapEle=e)}},r().createElement("div",{className:`${p.A.canvasTrans} ${n.state.isEditing()?p.A.editing:""}`,style:{transform:`translate(${w.left}px, ${w.top}px)`,transformOrigin:"0 0"},ref:e=>e&&(n.canvasTransEle=e),onMouseDown:(0,a.Wj)().stop},r().createElement(l.u3,null),r().createElement(v.TagName,{id:b.MD}),r().createElement(l.tU,null),r().createElement(l.BD,null),r().createElement(g.A,null),r().createElement(l.Ww,null),r().createElement(l.LN,null),r().createElement("div",{className:p.A.editCover})),r().createElement(l.WO,null),r().createElement(y.A,{gvCtx:v}),r().createElement(d.A,{gvCtx:v}),r().createElement(c.A,null),r().createElement("div",{className:p.A.forPopup,ref:e=>e&&(n.popupEle=e)})),r().createElement(l.yK,null),r().createElement(l.OY,null)),v.canvasShadowRoot?(0,i.createPortal)(r().createElement(f.H,null),v.canvasShadowRoot.querySelector("div")):null)}},66422:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var i=n(96966),o=n(24412),r=n(81413),s=n(91737),a=n(28261);function l(e){const{context:t,getCurModuleSlot:n,emitItem:i,getComDefAIPrompts:l}=e,d=n();if(d)return{id:d.id,title:"智能助手",type:"scene",getPromptAppended(){},getFocusArea:()=>({title:`${d.title} 场景`}),getStartAIRole(){},getRoles:()=>[{id:"aiAssistant",title:"智能助手",placeholder:"我可以帮助您解答关于MyBricks使用的各类问题，包括功能介绍、如何使用等，请向我提问问题吧。",color:o.Jv}],getSystemPrompts:()=>(0,r.L)(e),checkIfRetry(e,t){if(t.knowledgeUpdated)return{message:"【知识库有更新】请关注之前的沟通，重新搭建"}},getInitKnowledge(){},loadKnowledge(e){if(e.require){let n;try{n=JSON.parse(e.require)}catch(e){throw e}if(n&&Array.isArray(n)){const e=[];return n.forEach((n=>{const i=t.getComDef({namespace:n.namespace});if(i){const t=(0,s.o8)(i.data,!0,(e=>e)),o={namespace:i.namespace,title:i.title,data:t,inputs:i.inputs,outputs:i.outputs};if(i.slots){const e=i.slots.filter((e=>{if(!e.defer)return!0}));e.length>0&&(o.slots=e)}i&&e.push({id:n.namespace,lib:n.namespace,item:n.namespace,docs:`\n组件 ${i.namespace} 定义：\n${JSON.stringify(o,null,2)}\n              `})}})),e}}},resetMessages({messages:e,mergeHistory:t,needToRetry:n}){let i;const o=e.find(((e,t)=>{if("string"==typeof e.content)return e.content.startsWith("【当前场景的UI文件】")}));if(o?o.content=s():e.splice(e.length-1,0,{role:"user",content:s()}),i=e,n){const e=i[i.length-1];e.content=`${e.content}\n\n注意：\n1、关注此前的各类问题，仔细分析用户的意图，以便更好地回答问题；\n2、关注【当前场景的UI文件】如果某文件需要修改代码，务必返回该文件的全部代码。\n        `}const r=[];return i.forEach(((e,t)=>{if(r.length<=0)r.push(e);else{if("user"===e.role){const t=e.content;if("string"==typeof t){const e=r[r.length-1];"user"===e.role&&(t.startsWith("【当前场景的UI文件】")?"assistant"!==e.role&&r.push({role:"assistant",content:"请给出当前场景的UI文件内容"}):t.startsWith("【历史消息记录】")?"assistant"!==e.role&&r.push({role:"assistant",content:"请给出当前模块的历史消息记录"}):r.push({role:"assistant",content:"请问您的问题是什么？"}))}}r.push(e)}})),r;function s(){const e=(0,a.s8)(d);return`【当前场景的UI文件】\nUI画布：\n${JSON.stringify(e,null,2)}\n\n注意： \n1、这是当前场景的UI画布描述；\n2、对于UI画布上的组件，其data字段非常重要、其中为用户配置的关于组件的各个属性；\n3、你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，所以，除非设计开发需要，尽量避免通过代码与用户进行沟通及问题确认；\n`}},execute:t=>new Promise(((n,i)=>{if(t.ui){let o;try{o=JSON.parse(t.ui)}catch(e){return void i(e)}c(o,e).then((e=>{n(e)})).catch((e=>{i("添加组件发生错误，请重新输入.")}))}}))}}function c(e,t){const{context:n,viewModel:o,emitItem:r,emitMessage:s,emitSnap:a,emitIOCAbout:l,emitPermission:c}=t;return new Promise(((t,n)=>{const i=[],o=e;if(Array.isArray(o))o.forEach((e=>{const t=d(e);t&&i.push(t)}));else{const e=d(o);e&&i.push(e)}i?t("已完成添加组件."):n("添加组件发生错误，请重新输入.")}));function d(e,t,s){const a=n.getComDef({namespace:e.namespace});if(!a)return!1;const l=new i.Al(a);r.add({seedModel:l,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==s?void 0:s.id},{noFocus:!0,indeed:!0});const c=o.searchCom(l.id);if(c){e.style&&(e.style.left&&(c.style.left=e.style.left),e.style.top&&(c.style.top=e.style.top),e.style.width&&(c.style.width=e.style.width),e.style.height&&(c.style.height=e.style.height));a.ai;if(e.data)for(let t in e.data)c.runtime.model.data[t]=e.data[t];return e.slots&&e.slots.forEach((e=>{const t=e.children;Array.isArray(t)&&t.forEach((t=>{d(t,c,c.getSlot(e.id))}))})),`已添加组件${a.title}`}}}},81413:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(61304),o=n(96966);function r(e){const{context:t}=e,n=(0,i._)({context:t}),r=[],s=t.configs.geoView.scenes;return s.adder&&s.adder.forEach((e=>{r.push(e.title)})),`\n<你的角色与任务>\n  你是MyBricks低代码平台（以下简称MyBricks平台或MyBricks）的资深应用及客服专家，经验丰富、实事求是、逻辑严谨。\n  你的任务是回答用户的各类问题，以及对于用户提出的搭建需求给出思路及建议。\n  \n  （注意：当前的SytemPrompts部分内容采用XML、Markdown以及JSON等格式进行描述）\n</你的角色与任务>\n\n<特别注意>\n  注意：\n   - 对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、逐步分析处理。\n   - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【知识库】开头，表示用户提供了组件定义的知识库（知识库为空也是符合预期的），这里的内容将作为后续搭建的重要参考；\n\n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n   \n  注意：\n   - 你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题。\n  \n  注意：\n   - 如果附件中有图片，请在设计开发中作为重要参考，进行详细的需求及设计分析，逐步思考，给出答案.\n</特别注意>\n\n${(0,o.FN)({sceneAddableAry:r})}\n\n${(0,o.bH)({comDefPrompts:n})}\n\n<按照以下情况分别处理>\n  请根据以下情况逐步思考，给出答案，首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  <当用户询问搭建思路的问题>\n    按照以下步骤完成：\n    1、总体分析，详细拆分所需要的场景、UI组件、逻辑组件；\n    2、针对UI以及交互两个方面，给出搭建思路；\n    \n    注意：\n      - 根据业务类型选择合理的组件，注意不要超出允许的范围；\n      - 禁止主观臆造不存在的组件；\n      - 对于交互逻辑的回答，组件之间的编排按照 ->(输入项)组件名称(关联输出项)-> 的格式给出\n  </当用户询问搭建思路的问题>\n  \n  <当用户希望了解某个组件的具体情况>\n      提示其在画布中添加该组件，然后选中该组件了解详情\n  </当用户希望了解某个组件的具体情况>\n \n  整个过程中要注意：\n  - 对于不清楚的问题，一定要和用户做详细的确认；\n  - 如果没有合适的组件，务必直接返回、并提示用户；\n  - 无需给出任何代码注释；\n  - 回答一定要简洁明了，尽量用概要的方式回答；\n  - 在回答与逻辑编排相关的内容时，无需给出示例流程；\n  - 回答问题请确保结果合理严谨、言简意赅，不要出现任何错误;\n  - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n</按照以下情况分别处理>\n\n<examples>\n  <example>\n    <user_query>有按钮组件吗？</user_query>\n    <assistant_response>\n      当前可以使用的组件中，有 **按钮** 、**工具条** 等组件可以作为按钮使用，当然也可以使用 **文本**、**矩形** 等组件来模拟按钮。\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>添加一个红色的文本，给一下搭建思路</user_query>\n    <assistant_response>\n      在UI面板中:\n      添加 **文本** 组件，然后在编辑面板中配置合适的样式，想了解文本组件的详情，请在画布中添加该组件，然后选中该组件进行对话问答。\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>如何搭建一个商品卡片</user_query>\n    <assistant_response>\n      UI面板:\n      添加 **卡片** 组件，在其中的插槽中其中添加 **文本**、**图片** 等组件\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>我想实现表单查询后刷新表格，思路是什么？</user_query>\n    <assistant_response>\n      UI面板:\n      1: 添加 **表单容器** 组件，设置其类型为 查询表单，在表单容器的插槽中其中添加 **文本框** 等组件；\n      2: 添加 **数据表格** 组件，根据需要添加对应的列；\n      \n      交互面板：\n      1: 在 **表单容器** 组件的 **提交** 事件卡片中，添加 **服务接口** 组件、**数据表格** 组件，做如下逻辑编排：\n        (提交) -> （调用）服务接口（结果） -> （设置数据源）数据表格\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>点击工具条中的编辑按钮，弹窗编辑数据后保存到数据库，这个怎么做？</user_query>\n    <assistant_response>\n      UI面板：\n      1: 当前场景，添加 **工具条** 组件；\n      2：新建 **对话框** 场景，在其中添加 **表单容器** 组件，在表单容器中添加其他合适的表单项组件；\n      \n      交互面板：\n      1: 在 **工具条** 组件的 **编辑** 事件卡片中，添加 **对话框** 场景、**服务接口** 组件，在配置面板中配置 **服务接口** 的接口，做如下逻辑编排：\n        (点击) -> （打开）对话框（确定）-> （调用）服务接口（结果）\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>帮我把现在场景中第一个按钮标题修改一下</user_query>\n    <assistant_response>\n      请您选中这个按钮，然后进行修改。\n    </assistant_response>\n  </example>\n  \n  <example>\n    <user_query>第一个按钮可以配置图标吗？</user_query>\n    <assistant_response>\n      请您选中这个按钮，然后观察右侧配置面板中是否有图标配置项。\n    </assistant_response>\n  </example>\n  \n</examples>\n\n`}},61304:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(96966),o=n(89563);function r({context:e}){const t=[];return e.getAllComDefArray((e=>!(e.namespace.indexOf("mybricks.comlib-template-compute")>=0)&&(!(e.namespace.indexOf("mybricks.domain.")>=0)&&(e.namespace!==i.ZD.coms.module&&(e.namespace!==i.ZD.coms.selection&&(e.namespace!==i.ZD.coms.group&&void 0)))))).filter((e=>e)).forEach((e=>{const n=(0,o.J)(e,!0);let i;if(e.slots){const t=e.slots.filter((e=>{if(!e.defer)return!0}));t.length>0&&(i=t)}t.push({title:e.title,type:e.rtType||"UI",namespace:e.namespace,slots:i,inputs:n.inputs,outputs:n.outputs})})),t.push({title:"变量",type:"js",description:"不同作用域插槽下的变量，可实现对数据进行存储等操作，对于不同场景的数据共享，可以创建全局变量",namespace:"mybricks.core.var",inputs:[{title:"获取值",outputs:[{title:"完成"}]},{title:"设置值",outputs:[{title:"完成"}]},{title:"重置值",outputs:[{title:"完成"}]}],outputs:[{title:"当值发生变化"}]}),`\n${JSON.stringify(t,null,2)}\n  `}},99963:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var i=n(96966),o=n(91716),r=n(19207),s=n(92133),a=n(23171),l=n(82192),c=n(64012);let d=[];function u(e,t){d=[];const{context:n,viewModel:o,emitItem:l,emitScenes:c,emitModule:u,emitFrame:f,emitSnap:h}=t,m=n.configs.geoView,g=[],y=new i.K9.Category({title:()=>e.title||"画布",setTitle(t){const n=h.start("修改名称",{target:e});e.title=t,c.setTitle(e.id,t,"geoView"),n.commit()}});if(g.push(y),!e.hasRootTemplate()){if(e.bizType){const x=m.scenes.adder;if(x){const A=x.find((t=>{if(t.bizType===e.bizType)return!0}));if(A&&Array.isArray(A.configs)){const w=new i.K9.Group;y.addGroup(w),A.configs.forEach((n=>{"function"==typeof n?w.addItem(n):"object"==typeof n&&(n&&n.type?w.addItem(p(t,{title:n.title,type:n.type,options:n.options,description:n.description,value:{get:()=>n.value.get({sceneId:e.id}),set(t){"function"==typeof n.value.set&&n.value.set({sceneId:e.id},t)}}})):w.addSeparator())})),w.addSeparator()}}}const v=new i.K9.Group("");if(y.addGroup(v),v.addItem((()=>(0,r.A)(e,t))),v.addItem(p(t,{title:"布局",type:"layout",description:"场景内组件的布局方式",value:{get(){const t=e.style,n={paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight};return t.isLayoutOfFlex()?Object.assign(Object.assign({},n),{flexDirection:t.isLayoutOfFlexRow()?"row":"column",alignItems:t.alignItems,justifyContent:t.justifyContent,rowGap:t.rowGap,columnGap:t.columnGap,flexWrap:t.flexWrap}):Object.assign(Object.assign({},n),{position:t.layout})},set(t){const n=e.style;n.paddingTop=t.paddingTop,n.paddingBottom=t.paddingBottom,n.paddingLeft=t.paddingLeft,n.paddingRight=t.paddingRight;const i=e.$el,r=(t.paddingLeft||0)+(t.paddingRight||0);n.width+r!==i.offsetWidth&&(n.width=i.offsetWidth-r);const s=(t.paddingTop||0)+(t.paddingBottom||0);if(n.height+s!==i.offsetHeight&&(n.height=i.offsetHeight-s),"smart"===t.position)e.setLayout(t.position,o.style.zoom);else if("absolute"===t.position)e.setLayout(t.position,o.style.zoom);else if("flex"===t.display){const{flexDirection:i,alignItems:r,justifyContent:s,columnGap:a,rowGap:l,flexWrap:c}=t;n.alignItems=r,n.justifyContent=s,n.columnGap=a,n.rowGap=l,n.flexWrap=c,"row"===i?e.setLayout("flex-row",o.style.zoom):"column"===i&&(n.isLayoutAbsoluteOrSmart()&&e.comAry.forEach((e=>{e.style.widthFull&&(e.style.width="100%")})),e.setLayout("flex-column",o.style.zoom))}}}})),v.addSeparator(),e.isShowTypeOfModule()){function E(e){return e.startsWith("background")||e.startsWith("padding")||e.startsWith("border")||e.startsWith("boxShadow")||e.startsWith("overflow")}v.addItem(p(t,{title:"样式",type:"styleNew",options:{plugins:["padding","background","border","boxshadow","overflow"],disabledSwitch:!0},description:"设置背景颜色及背景图片",binding:{with:"style.background"},value:{get(){"object"==typeof e.style.background&&(e.style.background=void 0);const t={};for(let n in e.style)E(n)&&(t[n]=e.style[n]);return t},set(t){if("object"==typeof t){for(let t in e.style)E(t)&&delete e.style[t];for(let n in t)E(n)&&(e.style[n]=t[n])}}}}))}else v.addItem(p(t,{title:"样式",type:"styleNew",options:{plugins:["background","overflow"],disabledSwitch:!0},description:"设置背景颜色及背景图片",binding:{with:"style.background"},value:{get(){"object"==typeof e.style.background&&(e.style.background=void 0);const t={};for(let n in e.style)(n.startsWith("background")||n.startsWith("overflow"))&&(t[n]=e.style[n]);return t},set(t){if("object"==typeof t){for(let t in e.style)(t.startsWith("background")||t.startsWith("overflow"))&&delete e.style[t];for(let n in t)(n.startsWith("background")||n.startsWith("overflow"))&&(e.style[n]=t[n])}}}}));if(e.isShowTypeOfModule());else{const C=new i.K9.Group({title:"事件"});v.addItem(C),C.addItem((()=>(0,s.A)(e,t)))}}f.getAllOutputs;const b=new i.K9.Group;return b.fixedAt="bottom",y.addGroup(b),b.addItem((0,a.A)(e,t)),g.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}function p(e,t){d.push(t);const{getCurModuleSlot:n,emitItem:r,emitSnap:s,emitVariable:a,emitViews:u}=e,p=n();if("object"==typeof t){let e;"function"==typeof t.ifVisible&&(e=()=>{if(d.indexOf(t)>=0){const e=t.ifVisible();return"boolean"==typeof e&&e}});let n=t.options;"function"==typeof n&&(n=t.options());const r={title:t.title,type:t.type,description:t.description,binding:function(){if(t.binding&&t.binding.with)return{get(){const e=p.bindingsFrom;if(e){const n=e[t.binding.with];if(n)return a.get(n)}},set(){let e,n=p.bindingsFrom;n&&(e=n[t.binding.with]);const i=a.getAll();u.popView("选择变量",(({close:o})=>c.createElement(l.A,{curVarId:e,varAry:i,bindVar:e=>{o(),n||(n=p.bindingsFrom={}),n[t.binding.with]=e.id,e.bind(p.id,t.binding.with,"slot")},removeBinding:e=>{o(),n[t.binding.with]=void 0,delete n[t.binding.with]}})),{width:350,beforeEditView:!0})}}}(),value:function(){let e,n=!1;return{get:()=>(n||(n=!0,e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e),e),set(i){(0,o.c)().push((()=>{try{e=i,n=!1;const o=s.start(`编辑模块${p.title} 的 ${t.title}`,{target:p});(t.value&&t.value.set||(()=>{}))(i),o.commit()}catch(e){throw e}}))}}}(),options:n,ifVisible:e};return new i.K9.EditItem(r)}throw new Error("Invalid typeof editor(function or object expect)")}},12287:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(91716);function o(e,t){var n;const{viewModel:o,context:r,emitItem:s,emitMessage:a,emitViews:l,emitSnap:c,emitFrame:d,emitScenes:u,emitWindowEvents:p}=t;function f(){r.focusModel&&r.reFocus()}const h=[{title:"调试",exe:()=>{const n=()=>{t.clearPops(),t.activePlugin=void 0,s.focus(void 0),requestAnimationFrame((e=>{r.setModeDebug()}))};t.viewModel.curArtboardId!==e.id?(t.focusArtboard(e.id),setTimeout(n)):n()}},{title:"隐藏",exe:()=>{u.close(e.id),s.blur()}},null,{title:"复制到剪切板",keys:["Ctrl+c"],exe:()=>{const t=l.copyFocus(e);t.from=e.id,(0,i.C)(JSON.stringify(t))&&a.info("已复制到剪切板.")}},null,{title:"前移",exe:()=>{const t=c.start("移动场景",{target:e}),n=o.slots.indexOf(e);o.changeOrder(e,n-1),t.commit(),requestAnimationFrame(f)}},{title:"后移",exe:()=>{const t=c.start("移动场景",{target:e}),n=o.slots.indexOf(e);o.changeOrder(e,n+2),t.commit(),requestAnimationFrame(f)}}];if(r.clipboard){const{type:e,json:t}=r.clipboard;e.match(/geoCom/)&&h.unshift({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{p.paste()}})}const m=r.configs;m.isTypeOfMPA();return((null===(n=m.geoView.scenes)||void 0===n?void 0:n.adder)||m.pageMetaLoader)&&(h.push(null),h.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{if(e.hostSlotId){const t=c.start("delete slot",{target:e});o.getSlot(e.hostSlotId).delete(e),r.pageMetaModel.deleteScene(e.hostSlotId,e.id),setTimeout((n=>{d.delete(e.id),t.commit(),s.focus(void 0)}))}else{const t=c.start("delete slot",{target:o});u.delete(e.id),setTimeout((n=>{d.delete(e.id),t.commit(),s.focus(void 0)}))}}})),h}},31729:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(72005),o=n(64012),r=n.n(o),s=n(91716),a=n(50528);function l({gvCtx:e}){const{curHoverSlot:t,curMovingCom:n,viewModel:o}=e,l={},c=[i.A.hoverSlot];if(t&&n&&(!(n instanceof a.s)||n.parent!==t)){let e;if(t===t.root)e=(0,s.E9)(t.$el,o.canvasWrapEle);else{const n=t.$el,i=t.parent.$el,r=(0,s.E9)(n,i),a=(0,s.E9)(i,o.canvasWrapEle);let l=0,c=0;e={x:r.x+a.x+c,y:r.y+a.y+l,w:r.w,h:r.h}}l.visibility="visible",l.width=e.w,l.height=e.h,l.top=e.y,l.left=e.x;const n=t.style;n.isLayoutOfFlexColumn()?c.push(i.A.layoutFlexColumn):n.isLayoutOfFlexRow()?c.push(i.A.layoutFlexRow):n.isLayoutSmart()&&c.push(i.A.layoutSmart)}return r().createElement("div",{className:c.join(" "),style:l})}},57400:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(79918),o=n(64012),r=n.n(o);function s({gvCtx:e}){const{placeholder:t}=e;return t&&"none"!==t.type&&r().createElement("div",{className:`${i.A.placeholder} ${"h"===t.type?i.A.placeholderH:i.A.placeholderV}`,style:{display:""+(void 0!==t.y?"block":"none"),top:t.y,left:t.x,height:t.h,width:t.w}},r().createElement("div",null))}},80686:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(24800),o=n(64012),r=n.n(o),s=n(91737),a=n(91716),l=n(77050),c=n(94606),d=n(67397),u=n(91566);function p(){const e=(0,s.lB)(l.A,{from:"parents"}),{mover:t,viewModel:n,selection:p}=e,f=t.model,h=null==f?void 0:f.style,m=(0,o.useMemo)((()=>{var e,i;const o=n.style.zoom;let r;if((r=null==t?void 0:t.model)&&r.$el&&!r.runtime.isTemp){const t=r.$el,s=r.parent.$el,l=(0,a.E9)(s,null,{noMyBorders:!0}),c=(0,a.E9)(n.canvasTransEle),d=[];let f=!0;const h=r.parent.comAry;if(h){const e=(0,a.E9)(t,s,{noRelativeBorders:!0}),n=[];h.forEach((t=>{if(t!==r&&t.isStyleLayoutAbsoluteOrFixed()&&!t._offScreen&&t.isVisible()){if(p&&p.coms.includes(t))return;const i=t.$el,o=(0,a.E9)(i,s,{noRelativeBorders:!0}),r=Math.max(e.x+e.w,o.x+o.w)-Math.min(e.x,o.x)-(e.w+o.w)<=u.S,l=Math.max(e.y+e.h,o.y+o.h)-Math.min(e.y,o.y)-(e.h+o.h)<=u.S;(r||l)&&n.push(t)}})),n.forEach((t=>{const i=t.$el,r=(0,a.E9)(i,s,{noRelativeBorders:!0}),l=Math.ceil(r.x/o),c=Math.ceil(r.y/o),u=Math.ceil(r.w/o),h=Math.ceil(r.h/o),m=[],g=[];n.forEach((e=>{if(e!==t&&e.isStyleLayoutAbsoluteOrFixed()&&e.isVisible()){if(p&&p.coms.includes(e))return;const t=e.$el,n=(0,a.E9)(t,s,{noRelativeBorders:!0}),i=Math.ceil(n.w/o),r=Math.ceil(n.h/o),d=Math.max(n.y/o,c),f=Math.min(n.y/o+r,c+h),y=n.x/o,b=Math.min(y+i,l+u)-(i+u-(Math.max(y+i,l+u)-Math.min(y,l)))/2,v=d-f;v>0&&m.push({id:e.id,dy:v,x0:n.x,w:i,x2:b,y0:f,y1:d,com:e});const x=Math.max(n.x/o,l),A=Math.min(n.x/o+i,l+u),w=n.y/o,E=Math.min(w+r,c+h)-(r+h-(Math.max(w+r,c+h)-Math.min(w,c)))/2,C=x-A;C>0&&g.push({id:e.id,dx:C,y0:n.y,h:r,y2:E,x0:A,x1:x,title:e.runtime.title,com:e})}})),d.push({id:t.id,title:t.runtime.title,type:"com",x:l,y:c,x2:l+u/2,y2:c+h/2,h,w:u,disY:m,disX:g}),e.x>l&&e.x+e.w<l+u&&e.y>c&&e.y+e.h<c+h&&(f=!1)}))}f&&!(null===(e=r.parent.parent)||void 0===e?void 0:e.isGroup())&&d.unshift({x:0,y:0,type:"slot",id:r.parent.id,comId:null===(i=r.parent.parent)||void 0===i?void 0:i.id,x2:l.w/o/2,y2:l.h/o/2,h:l.h/o,w:l.w/o,disY:[],disX:[]});const m=[];return r.state.resizingF&&r.slots&&r.slots.forEach((e=>{if(e.isVisible()&&e.style.isLayoutAbsoluteOrSmart()&&e.comAry){const n=e.$el,i=(0,a.E9)(n,t);m.push({model:e,dx0:i.x/o,dx1:t.offsetWidth-i.x/o-i.w/o,dy0:i.y/o,dy1:t.offsetHeight-i.y/o-i.h/o})}})),{ppo:l,vpo:c,others:d,slots:m.length>0?m:void 0}}}),[null==t?void 0:t.model,n.style.zoom,null==h?void 0:h.left,null==h?void 0:h.top]),g=(0,o.useMemo)((()=>{let i;const o=n.style.zoom;if((i=null==t?void 0:t.model)&&i.isStyleLayoutAbsolute()&&i.$el&&!i.runtime.isTemp&&m){const{ppo:n,vpo:r,others:s,slots:a}=m,l=i.$el,u=t.model.style;let p=6;"no-suggest"===t.type&&(p=1);const f={x:u.left,y:u.top},h=e.curHoverSlot;if(h&&h.id!==i.parent.id)return void u.clearSuggest();let g,y,b,v=u.left,x=u.top;if(s){const n={left:!1,right:!1,top:!1,bottom:!1};t.type&&"no-suggest"!==t.type&&!t.type.match(/left|right/)||(g=(0,c.A)(s,a,n,e,p)),t.type&&"no-suggest"!==t.type&&!t.type.match(/top|bottom/)||(y=(0,d.A)(s,a,n,e,p)),n.left||(u.suggestLeft=void 0),n.right||(u.suggestRight=void 0),n.top||(u.suggestTop=void 0),n.bottom||(u.suggestBottom=void 0)}return f.x=v,f.y=x,Object.assign({},{width:l.offsetWidth*o,height:l.offsetHeight*o,slotWidth:n.w,slotHeight:n.h,left:n.x-r.x,top:n.y-r.y},g,y,b)}}),[t,null==h?void 0:h.left,null==h?void 0:h.top,null==h?void 0:h.width,null==h?void 0:h.height]),y=n.style.zoom;if(g){let e,n;if(g.tipY||g.distanceAryX){const t=g.tipY||[],n=g.distanceAryX||[];let s,a;t.length>0&&(s=t[0],a=s.y1-s.y0),e=r().createElement(r().Fragment,null,t.map(((e,t)=>r().createElement(o.Fragment,{key:t},r().createElement("div",{className:i.A.tipV,style:{left:e.x,top:e.y00,height:e.y0-e.y00}}),r().createElement("div",{className:`${i.A.tipY} ${t>0?i.A.tipYNormal:""}`,style:{left:e.x,top:Math.min(e.y0,e.y1),height:Math.abs(e.y1-e.y0)}},"slot"===e.type||n.length>0||t>0||a===-g.height||Math.abs(a)<10?null:r().createElement("span",null,Math.ceil(a/y))),r().createElement("div",{className:i.A.tipV,style:{left:e.x,top:e.y1,height:e.y11-e.y1}})))),n.map(((e,t)=>r().createElement("div",{key:t,className:i.A.disH,style:{top:e.y2*y,left:e.x0*y,width:e.dx*y}},r().createElement("span",null,Math.ceil(e.dx))))))}if(g.tipX||g.distanceAryY){const e=g.tipX||[],t=g.distanceAryY||[];let s,a;e.length>0&&(s=e[0],a=s.x1-s.x0),n=r().createElement(r().Fragment,null,e.map(((e,n)=>r().createElement(o.Fragment,{key:n},r().createElement("div",{className:i.A.tipH,style:{top:e.y,left:e.x00,width:e.x0-e.x00}}),r().createElement("div",{className:`${i.A.tipX} ${n>0?i.A.tipXNormal:""}`,style:{top:e.y,left:Math.min(e.x0,e.x1),width:Math.abs(e.x1-e.x0)}},"slot"===e.type||t.length>0||n>0||a===-g.width||Math.abs(a)<10?null:r().createElement("span",null,Math.ceil(a/y))),r().createElement("div",{className:i.A.tipH,style:{top:e.y,left:e.x1,width:e.x11-e.x1}})))),t.map(((e,t)=>r().createElement("div",{key:t,className:i.A.disV,style:{left:e.x2*y,top:e.y0*y,height:e.dy*y}},r().createElement("span",null,Math.ceil(e.dy))))))}if(h){const o=t.model.$el,s=t.model.parent.$el,l={x:h.left,y:h.top,w:o.offsetWidth,h:o.offsetHeight};void 0!==h.suggestLeft?l.x=h.suggestLeft:void 0!==h.suggestMiddleX?l.x=h.suggestMiddleX-l.w/2:void 0!==h.suggestRight&&(l.x=h.suggestRight-l.w),void 0!==h.suggestTop?l.y=h.suggestTop:void 0!==h.suggestMiddleY?l.y=h.suggestMiddleY-l.h/2:void 0!==h.suggestBottom&&(l.y=h.suggestBottom-l.h);const c=(0,a.E9)(s,null,{noMyBorders:!0}),d=c.w,u=c.h,p=d/y-l.x-l.w,f=u/y-l.y-l.h;return r().createElement("div",{className:i.A.mover,style:{transform:`translateY(${g.top}px) translateX(${g.left}px)`,height:g.height,width:g.width}},r().createElement("div",{className:i.A.poX,style:{left:0,top:l.y*y+l.h*y/2,width:l.x*y}},r().createElement("span",null,r().createElement("label",null,"左"),Math.ceil(l.x))),r().createElement("div",{className:i.A.poY,style:{top:0,left:l.x*y+l.w*y/2,height:l.y*y}},r().createElement("span",null,r().createElement("label",null,"上"),Math.ceil(l.y))),r().createElement("div",{className:i.A.poRX,style:{left:l.x*y+l.w*y,top:l.y*y+l.h*y/2,width:(d/y-l.x-l.w)*y}},r().createElement("span",null,r().createElement("label",null,"右"),Math.ceil(p))),r().createElement("div",{className:i.A.poBY,style:{left:l.x*y+l.w*y/2,top:l.y*y+l.h*y,height:(u/y-l.y-l.h)*y}},r().createElement("span",null,r().createElement("label",null,"下"),Math.ceil(f))),e,n)}}}},91566:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});const i=6},94606:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var i=n(91737),o=n(91716);let r,s,a,l,c,d,u,p,f,h,m,g,y,b,v,x,A,w,E=!1;function C(e,t,n,C,k){x=e,A=n,s=C.mover,r=s.model,E="no-suggest"===s.type,a=s.model.style,l=C.viewModel.style.zoom;const P=r.$el;c={x:a.left,y:a.top},d=Math.ceil(k/l),u="number"==typeof a.width?a.width:P.offsetWidth,p="number"==typeof a.height?a.height:P.offsetHeight;const F=void 0!==a.suggestLeft?a.suggestLeft:a.left;m=a.left,g=F,y=a.top,f=a.left+u/2,h=F+u/2,b=u,v=p;let S=m,T=y;const O=[],D=function(){const e=[];x.forEach((t=>{const n=Math.max(t.y,c.y)-Math.min(t.y+t.h,c.y+v);e.push({other:t,distance:n})}));const t=e.sort(((e,t)=>"slot"===t.other.type?-1:e.distance-t.distance));return t.length>8?t.slice(0,8):t}();a.clearSuggest("x"),w=void 0,t&&t.forEach((e=>{const{model:t,dx0:n,dx1:r}=e,s=t.$el,c=s.offsetWidth;let p;if(t.comAry.find((e=>{const t=e.$el;if(Math.abs(t.offsetLeft+t.offsetWidth-c)<d&&Math.abs(u-P.offsetWidth)<d)return p=e,!0}))){const e=p.$el,c=(0,o.E9)(s,C.viewModel.canvasTransEle);S=a.suggestRight=m+n+(e.offsetLeft+e.offsetWidth/l)+r,A.left=!0,A.right=!0,O.push(function(e,t,n,o){return(0,i.A1)((()=>{const i=t.$el;let r,s,a,c,d=t.style.top;const u=e.$el,p=n.x/l,f=n.y/l;a=f,r=f+d,s=f+d+i.offsetHeight,c=f+u.offsetHeight;return{x:(p+i.offsetLeft+i.offsetWidth)*l-(o?1:0),y00:a*l,y0:r*l,y1:s*l,y11:c*l,type:"com"}}))}(t,p,c,!1))}})),D.find((({other:e,distance:t})=>{const n=Math.max(e.y+e.h,c.y+v)-Math.min(e.y,c.y)<=v+e.h;void 0===a.suggestLeft&&(function(e){return(!s.type||E||-1!=s.type.indexOf("left"))&&Math.abs(e.x-m)<d}(e)&&(S=a.suggestLeft=e.x,O.push(I(n,e,S,!0)),A.left=!0,w=e),function(e){if(w&&w!==e)return;const t=Math.abs(m-g)<d;if(a.suggestLeft==e.x&&b===e.w&&t)return!0;if(a.suggestLeft==e.x&&t)return;return(!s.type||E)&&Math.abs(e.x2-f)<d}(e)&&(0===O.length?(S=a.suggestLeft=Math.ceil(e.x2-b/2),O.push(I(n,e,e.x2))):O.push(M(O[0],{x:e.x2*l})),A.left=!0,w=e),function(e){if(void 0!==a.suggestRight)return;return Math.abs(e.x+e.w-m)<d}(e)&&(0===O.length?(S=a.suggestLeft=e.x+e.w,O.push(I(n,e,e.x+e.w))):O.push(M(O[0],{x:e.x+e.w})),A.left=!0)),void 0===a.suggestRight&&(function(e){if(w&&w!==e)return;const t=Math.abs(h-f)<d,n=Math.ceil(e.x2-b/2);if(a.suggestLeft==n&&b===e.w&&t)return!0;if(a.suggestLeft==n&&t)return;if(a.suggestLeft||a.suggestMiddleX)return;const i=(!s.type||E||-1!==s.type.indexOf("right"))&&Math.abs(e.x+e.w-m-b)<d;return i}(e)&&(0===O.length?(a.suggestRight=e.x+e.w,S=e.x+e.w-b,O.push(I(n,e,e.x+e.w))):O.push(M(O[0],{x:e.x*l+e.w*l})),A.left=!0,A.right=!0),function(e){if(void 0!==a.suggestLeft)return;return Math.abs(e.x-m-u)<d}(e)&&(0===O.length?(a.suggestRight=e.x,S=e.x+e.w-b,O.push(I(n,e,e.x))):O.push(M(O[0],{x:e.x})),A.left=!0,A.right=!0))}));let N=[];if(void 0===a.suggestLeft){const{distanceAry:e,sgx:t}=function(){let e;const t=[],n={y:c.y,h:v},i=x.map((e=>{if(e.id===r.id)return;if(!_(e,n))return;const t=Math.min(e.x+e.w,c.x+b),i=Math.max(e.x,c.x),o=i-t;return o>0?{dx:o,x0:t,x1:i,node:e}:void 0})).filter((e=>e));i.sort(((e,t)=>e.dx-t.dx)),i.find((i=>x.find((o=>{if(o!==i.node&&_(i.node,o))return o.disX.find((s=>{const{dx:a,title:l,y2:u,x0:p,x1:f}=s;if(o.id===r.id&&!_(n,{y:s.y0,h:s.h}))return;if(s.id===r.id&&!_(n,o))return;const h=a-i.dx;if(Math.abs(h)<d&&!t.find((({x0:e,x1:t})=>e===p||t===f))&&f>p){const n=i.node.x>c.x,l=n?-1*h:h;if(void 0===e)if(o.id===r.id||s.id===r.id){const n=Math.min(p,i.x0)+(Math.max(f,i.x1)-Math.min(p,i.x0))/2-b/2;e=Math.ceil(n),t.push({y2:u,x0:Math.min(p,i.x0),x1:i.x1+l,dx:a})}else e=c.x+l,t.push({y2:u,x0:e+(n?b:-1*a),x1:i.x1+l,dx:a});else t.push({y2:u,x0:i.x0,x1:i.x1+l,dx:a});return t.push({y2:u,x0:p,x1:f,dx:a}),x.forEach((e=>{e.disX.forEach((({dx:e,title:n,com:i,y2:o,x0:r,x1:s})=>{e===a&&!t.find((({x0:e,x1:t})=>e===r||t===s))&&s>r&&t.push({y2:o,x0:r,x1:s,dx:a})}))})),!0}}))}))));let o=a.left;void 0!==e&&(o=a.suggestLeft=e,A.left=!0);const s=[];return t.forEach((e=>{s.find(((t,n)=>t.y2===e.y2&&t.x0===e.x0&&t.x1===e.x1||(Math.max(t.x1,e.x1)-Math.min(t.x0,e.x0)<t.x1-t.x0+e.x1-e.x0||void 0)))||s.push(e)})),{sgx:o,distanceAry:s.length>=2?s:[]}}();N=e,S=t}return c.x=S,c.y=T,{x:S,y:T,tipY:O,distanceAryX:N}}function _(e,t){return Math.max(e.y+e.h,t.y+t.h)-Math.min(e.y,t.y)<t.h+e.h}function M(e,{x:t}){return{x:t,y00:e.y00,y0:e.y0,y1:e.y1,y11:e.y11}}function I(e,t,n,o){return(0,i.A1)((()=>{let i;i=void 0!==a.suggestTop?a.suggestTop:void 0!==a.suggestBottom?a.suggestBottom-v:c.y;let r,s,d,u;return e?(d=Math.min(t.y,i),r=Math.max(t.y,i),s=Math.min(t.y+t.h,i+v),u=Math.max(t.y+t.h,i+v)):(d=Math.min(t.y,i),r=Math.min(t.y+t.h,i+v),s=Math.max(t.y,i),u=Math.max(t.y+t.h,i+v)),{x:n*l-(o?2:0),y00:d*l,y0:r*l,y1:s*l,y11:u*l,type:t.type}}))}},67397:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var i=n(91737),o=n(91716);let r,s,a,l,c,d,u,p,f,h,m,g,y,b,v,x,A,w,E;function C(e,t,n,C,k){x=e,A=n,s=C.mover,r=s.model,E="no-suggest"===s.type,a=s.model.style,l=C.viewModel.style.zoom;const P=r.$el;c={x:a.left,y:a.top},d=Math.ceil(k/l),u="number"==typeof a.width?a.width:P.offsetWidth,p="number"==typeof a.height?a.height:P.offsetHeight;const F=void 0!==a.suggestTop?a.suggestTop:a.top;m=a.left,g=a.top,y=F,f=a.top+p/2,h=F+p/2,b=u,v=p;let S=m,T=g;const O=[],D=function(){const e=[];x.forEach((t=>{const n=Math.max(t.x,c.x)-Math.min(t.x+t.w,c.x+b);e.push({other:t,distance:n})}));const t=e.sort(((e,t)=>"slot"===t.other.type?-1:e.distance-t.distance));return t.length>8?t.slice(0,8):t}();a.clearSuggest("y"),w=void 0,t&&t.forEach((e=>{const{model:t,dy0:n,dy1:r}=e,s=t.$el,c=s.offsetHeight;let u;if(t.comAry.find((e=>{const t=e.$el;if(Math.abs(t.offsetTop+t.offsetHeight-c)<d&&Math.abs(p-P.offsetHeight)<d)return u=e,!0}))){const e=u.$el,c=(0,o.E9)(s,C.viewModel.canvasTransEle),d=g+n+(e.offsetTop+e.offsetHeight)+r;T=a.suggestBottom=d,A.top=!0,A.bottom=!0,O.push(function(e,t,n,o){return(0,i.A1)((()=>{const i=t.$el;let r,s,a,c,d=t.style.left;const u=e.$el,p=n.x/l,f=n.y/l;a=p,r=p+d,s=p+d+i.offsetWidth,c=p+u.offsetWidth;return{y:(f+i.offsetTop+i.offsetHeight)*l-(o?1:0),x00:a*l,x0:r*l,x1:s*l,x11:c*l,type:"com"}}))}(t,u,c,!1))}})),D.find((({other:e,distance:t})=>{const n=Math.max(e.x+e.w,c.x+b)-Math.min(e.x,c.x)<=b+e.w;void 0===a.suggestTop&&(function(e){return(!s.type||E||-1!=s.type.indexOf("top"))&&Math.abs(e.y-g)<d}(e)&&(T=a.suggestTop=e.y,O.push(I(n,e,T,!0)),A.top=!0,w=e),function(e){if(w&&w!==e)return;const t=Math.abs(g-y)<d;if(a.suggestTop==e.y&&v===e.h&&t)return!0;if(a.suggestTop==e.y&&t)return;return(!s.type||E)&&Math.abs(e.y2-f)<d}(e)&&(0===O.length?(T=a.suggestTop=Math.ceil(e.y2-v/2),O.push(I(n,e,e.y2))):O.push(_(O[0],{y:e.y2*l})),A.top=!0,w=e),function(e){if(void 0!==a.suggestBottom)return;return Math.abs(e.y+e.h-g)<d}(e)&&(0===O.length?(T=a.suggestTop=e.y+e.h,O.push(I(n,e,e.y+e.h))):O.push(_(O[0],{y:e.y+e.h})),A.top=!0)),void 0===a.suggestBottom&&(function(e){if(w&&w!==e)return;const t=Math.abs(h-f)<d;if(a.suggestTop==e.y&&v===e.h&&t)return!0;if((!s.type||E||-1!==s.type.indexOf("bottom"))&&Math.abs(e.y+e.h-g-v)<d&&void 0===a.suggestTop)return!0}(e)&&(0===O.length?(a.suggestBottom=e.y+e.h,T=e.y+e.h-v,O.push(I(n,e,e.y+e.h))):O.push(_(O[0],{y:e.y*l+e.h*l})),A.top=!0,A.bottom=!0),function(e){if(void 0!==a.suggestTop)return;return Math.abs(e.y-g-p)<d}(e)&&(0===O.length?(a.suggestBottom=e.y,T=e.y+e.h-v,O.push(I(n,e,e.y))):O.push(_(O[0],{y:e.y})),A.top=!0,A.bottom=!0))}));let N=[];if(void 0===a.suggestTop){const{distanceAry:e,sgy:t}=function(){let e;const t=[],n={x:c.x,w:b},i=x.map((e=>{if(e.id===r.id)return;if(!M(e,n))return;const t=Math.min(e.y+e.h,c.y+v),i=Math.max(e.y,c.y),o=i-t;return o>0?{dy:o,y0:t,y1:i,node:e}:void 0})).filter((e=>e));i.sort(((e,t)=>e.dy-t.dy)),i.find((i=>{if(i.id!==r.id&&M(i.node,n))return x.find((n=>{if(n!==i.node&&M(i.node,n))return n.disY.find((s=>{const{dy:a,title:l,x2:u,y0:p,y1:f}=s,h=a-i.dy;if(Math.abs(h)<d&&!o({y0:p,y1:f,x2:u})&&f>p){const l=i.node.y>c.y,d=l?-1*h:h;if(void 0===e)if(n.id===r.id||s.id===r.id){const n=Math.min(p,i.y0)+(Math.max(f,i.y1)-Math.min(p,i.y0))/2-v/2;e=Math.ceil(n),t.push({x2:u,y0:Math.min(p,i.y0),y1:i.y1+d,dy:a})}else e=c.y+d,t.push({x2:u,y0:e+(l?v:-1*a),y1:i.y1+d,dy:a});else t.push({x2:u,y0:i.y0,y1:i.y1+d,dy:a});return t.push({x2:u,y0:p,y1:f,dy:a}),x.forEach((e=>{e.disY.forEach((({dy:e,com:n,x2:i,y0:r,y1:s})=>{e===a&&!o({y0:r,y1:s,x2:i})&&s>r&&t.push({x2:i,y0:r,y1:s,dy:a})}))})),!0}}))}));function o({y0:e,y1:n,x2:i}){return t.find((({y0:t,y1:i,x2:o})=>{if(t===e||i===n)return!0}))}}));let o=a.top;void 0!==e&&(o=a.suggestTop=e,A.top=!0);const s=[];return t.forEach((e=>{s.find(((t,n)=>t.x2===e.x2&&t.y0===e.y0&&t.y1===e.y1||(Math.max(t.y1,e.y1)-Math.min(t.y0,e.y0)<t.y1-t.y0+e.y1-e.y0||void 0)))||s.push(e)})),{sgy:o,distanceAry:s.length>=2?s:[]}}();N=e,T=t}return c.x=S,c.y=T,{x:S,y:T,tipX:O,distanceAryY:N}}function _(e,{y:t}){return{y:t,x00:e.x00,x0:e.x0,x1:e.x1,x11:e.x11}}function M(e,t){return Math.max(e.x+e.w,t.x+t.w)-Math.min(e.x,t.x)<t.w+e.w}function I(e,t,n,o){return(0,i.A1)((()=>{let i;i=void 0!==a.suggestLeft?a.suggestLeft:void 0!==a.suggestRight?a.suggestRight-b:c.x;let r,s,d,u;return e?(d=Math.min(t.x,i),r=Math.max(t.x,i),s=Math.min(t.x+t.w,i+b),u=Math.max(t.x+t.w,i+b)):(d=Math.min(t.x,i),r=Math.min(t.x+t.w,i+b),s=Math.max(t.x,i),u=Math.max(t.x+t.w,i+b)),{y:n*l-(o?2:0),x00:d*l,x0:r*l,x1:s*l,x11:u*l,type:t.type}}))}},82978:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(91737),o=n(50528),r=n(93116),s=n(64012),a=n.n(s),l=n(91716),c=n(77050),d=n(33313),u=n(96966),p=n(60607),f=n(24412),h=n(34163),m=n(61111);function g(){var e,t;const n=(0,i.lB)(c.A,{from:"parents"}),{context:g,emitSnap:x,emitWindowEvents:A,cssComNormal:w}=n,E=(0,s.useRef)(),C=(0,s.useCallback)(((e,t)=>{const n=e.style,i=x.start("Set Width Height",{target:e});switch(t){case"widthAuto":(0,m.yp)(e,!n.widthAuto);break;case"widthFull":(0,m.cB)(e,!n.widthFull);break;case"heightAuto":(0,m.xx)(e,!n.heightAuto);break;case"heightFull":(0,m.fv)(e,!n.heightFull)}e.notifyEleChanged(!0),i.commit()}),[]),_=(0,i.HO)((()=>{var e,t;return(null===(e=n.mover)||void 0===e?void 0:e.model)?[]:null===(t=g.focusModelAry)||void 0===t?void 0:t.filter((e=>{if(e instanceof o.s&&!e.state.isMoving()&&!e.state.isResizing()){e.focusArea&&e.focusArea.listenForEleChanged(),e.runtime.title,e.state.isOpened(),e.listenForEleChanged(),e._offScreen;const t=e.style;return t.rotation,t.width&&t.height,t.widthAuto&&t.widthFull&&t.heightAuto&&t.heightFull,t.left&&t.right&&t.top&&t.bottom,!0}}))})),M=null==_?void 0:_[0],I=null==M?void 0:M.style,k=(0,s.useCallback)((e=>{e.state.editingTitleF=!0}),[]);(0,s.useMemo)((()=>{E.current=function(e,t,n,o){var s,c,m,g;const{context:y,viewModel:b,cssComNormal:x}=e;if((null===(c=null===(s=e.selection)||void 0===s?void 0:s.coms)||void 0===c?void 0:c.length)>1)return;const A=b.style.zoom;let w,E=t[0];if(E&&E.$el&&(w=E.$el)&&E.parent.$el&&!E.state.isMoving()){if(E.isSelection())return;if(!E.focusArea&&E.asRoot)return;if(E._offScreen)return;const t=(0,l.E9)(w,b.canvasTransEle),s=[];if(E.focusArea){E.focusArea.listenForEleChanged();const{title:t,ele:n,editorPath:o}=E.focusArea;if(n.isConnected){const c=[];if(o){const e=o[o.length-1];c.push(a().createElement("span",{key:0,className:`${r.A.parentBar} ${r.A.zoneBar}`,"data-mybricks-tip":"向上选择",onClick:(0,i.Wj)((t=>{e.model.focus(),e.ele.click()})).stop},u.FI.Return))}c.push(a().createElement("span",{key:"my",className:r.A.zoneBar,onClick:(0,i.Wj)().stop},t||n.title||"区域"));const d=v(E,n,e);d&&c.push(a().createElement("div",{key:"evtInfo",className:r.A.poInfo,onClick:(0,i.Wj)().stop},d));const p=(0,l.E9)(n,b.canvasTransEle);s.push({key:`${E.id}-area`,showPo:!1,title:c,width:n.offsetWidth*A,height:n.offsetHeight*A,left:Math.ceil(p.x),top:Math.ceil(p.y),margin:{top:0,right:0,bottom:0,left:0},get focusPassive(){return E.state.isFocusPassive()}})}return s}const c=y.getComDef(E.runtime.def),C=[],_=(0,d.LP)(void 0,E,y);if(_){const e=_[_.length-1];C.push(a().createElement("span",{key:0,className:r.A.parentBar,"data-mybricks-tip":"向上选择",onClick:(0,i.Wj)((t=>{e.model.focus(),e.ele.click()})).stop},u.FI.Return))}const M=E.runtime.title;let I,k;const P=[],F=E.style,S=[];let T,O,D;if(!E.asRoot){const e=E.$el;if(E.isStyleLayoutSmart()?(I="智能定位 ",k="",F.xCenter?k+="水平居中 ":(void 0!==F.left&&(k+="左"),void 0!==F.right&&(k+="右")),F.yCenter?k+="-垂直居中":(void 0!==F.top&&(k+="-上"),void 0!==F.bottom&&(k+="-下")),k+=""):I=E.isStyleLayoutAbsolute()?"自由定位 ":"排版定位 ",E.isStyleLayoutSmart()){const t=(0,l.E9)(E.parent.$el,b.canvasTransEle,{noMyBorders:!0}),n=(0,l.E9)(e,b.canvasTransEle),{x:i,y:o,w:s,h:c}=n,{x:d,y:u,w:p,h:f}=t;F.xCenter?(P.push(a().createElement("div",{className:r.A.infoRight,style:{top:o+c/2,left:i+s,width:d+p-(i+s)}})),P.push(a().createElement("div",{className:r.A.infoLeft,style:{top:o+c/2,left:d,width:i-d}}))):void 0!==F.right||F.rightFrozen?P.push(a().createElement("div",{className:r.A.infoRight,style:{top:o+c/2,left:i+s,width:d+p-(i+s)}})):P.push(a().createElement("div",{className:r.A.infoLeft,style:{top:o+c/2-1,left:d,width:i-d}})),void 0!==F.bottom||F.bottomFrozen?P.push(a().createElement("div",{className:r.A.infoBottom,style:{left:i+s/2,top:o+c,height:u+f-(o+c)}})):P.push(a().createElement("div",{className:r.A.infoTop,style:{left:i+s/2,top:u,height:o-u}}))}let t;if((null==c?void 0:c.editors)&&(t=c.editors.view||c.editors),t){const e=null==t?void 0:t["@resize"];if("function"==typeof e);else if("object"==typeof e){const{options:t}=e;let n;"function"==typeof t||(n=t),Array.isArray(n)?(T=n.find((e=>"width"===e)),O=n.find((e=>"height"===e)),D=n.find((e=>"asLine"===e))):"object"==typeof n&&(T=void 0!==n.width,O=void 0!==n.height,D=n.asLine)}const n=E.style;(null===(m=n.proxyStyle)||void 0===m?void 0:m.widthResizable)&&(T=!0),(null===(g=n.proxyStyle)||void 0===g?void 0:g.heightResizable)&&(O=!0)}E.isGroup()&&(T=!0,O=!0),S.push(a().createElement("div",{className:`${T?"":r.A.disabled} ${F.widthAuto?r.A.iconActive:null}`,"data-mybricks-tip":"宽度适应内容",onClick:e=>o(E,"widthAuto")},u.FI.fitContentW)),S.push(a().createElement("div",{className:`${T?"":r.A.disabled} ${F.widthFull?r.A.iconActive:null}`,"data-mybricks-tip":"宽度填充",onClick:e=>o(E,"widthFull")},u.FI.fullWidth)),S.push(a().createElement("div",{className:`${O?"":r.A.disabled} ${F.heightAuto?r.A.iconActive:null}`,"data-mybricks-tip":"高度适应内容",onClick:e=>o(E,"heightAuto")},u.FI.fitContentH)),S.push(a().createElement("div",{className:`${O?"":r.A.disabled} ${F.heightFull?r.A.iconActive:null}`,"data-mybricks-tip":"高度填充",onClick:e=>o(E,"heightFull")},u.FI.fullHeight)),S.push(a().createElement("label",{className:r.A.infoPo,"data-mybricks-tip":"定位方式"},I,k)),S.push(a().createElement("label",{className:r.A.infoPo,"data-mybricks-tip":"宽 x 高"},`${Math.ceil(e.offsetWidth)} x ${Math.ceil(e.offsetHeight)}`))}let N,j=null==c?void 0:c.title;C.push(a().createElement("span",{key:"my",className:r.A.comBar,onClick:(0,i.Wj)((()=>{})).stop},a().createElement("span",{className:`${r.A.move} ${E.asRoot?r.A.disabled:""}`,"data-mybricks-tip":"拖动组件",onMouseDown:(0,i.Wj)((t=>{const n={model:E,viewContext:e},i=(0,l.E9)(E.$el);(0,p.c)(t,n,{dx:0,dy:i.y-t.clientY})})).stop},u.FI.Movable),a().createElement("span",{className:r.A.title,"data-mybricks-tip":"双击编辑标题",onDoubleClick:(0,i.Wj)((e=>n(E))).stop},M||(null==c?void 0:c.title)),a().createElement(u.od,{context:e.context}))),(null==c?void 0:c.icon)?/^(https:|data:image)/.test(c.icon)&&(N=a().createElement("img",{className:r.A.comIcon,src:c.icon})):E.isModule()&&(N=a().createElement("span",{className:r.A.comIcon},u.FI.Module)),C.push(a().createElement("div",{key:"poInfo",className:r.A.poInfo,onClick:(0,i.Wj)().stop},N,M?a().createElement("label",{"data-mybricks-tip":"组件名称"},"(",j,")"):null,null==S?void 0:S.map((e=>e))));const L=v(E,w.querySelector(`:scope>.${x.append}`),e);let R;if(L&&C.push(a().createElement("div",{key:"evtInfo",className:r.A.evtInfo,onClick:(0,i.Wj)().stop},L)),c){let t,n;c.editors&&(t=c.editors.view||c.editors,t&&(n=t[f.g3])),"function"==typeof n&&(R=n((0,h.Q)({comId:E.id,context:y,model:E,emitItem:e.emitItem,emitMessage:e.emitMessage,emitSnap:e.emitSnap,emitIOCAbout:e.emitIOCAbout})))}const B=w.getBoundingClientRect(),$=B.width,z=Math.max(B.height,1),W=w.offsetWidth,U=Math.max(w.offsetHeight,1),V=E.style;if(!D){const e={key:E.id,showPo:E.isStyleLayoutAbsoluteOrFixed(),locked:E.locked,title:C,infoJXS:P,model:E,get focusPassive(){return E.state.isFocusPassive()},openedF:E.state.isOpened(),appendEditorsJSX:R,rectWidth:$,rectHeight:z,width:Math.max(W*A,1),height:Math.max(U*A,1),left:Math.ceil(t.x),top:Math.ceil(t.y),margin:{}};if(!E.isStyleLayoutAbsolute()){const n=V.getMarginTopAsNum(!0),i=V.getMarginBottomAsNum(!0),o=V.getMarginLeftAsNum(!0),r=V.getMarginRightAsNum(!0);e.width=Math.max((w.offsetWidth-o-r)*A,2),e.height=Math.max((U-n-i)*A,2),e.left=Math.ceil(t.x+o*A),e.top=Math.ceil(t.y+n*A),e.margin={top:n*A,right:r*A,bottom:i*A,left:o*A}}s.push(e)}return s.length>0?s:void 0}}(n,_,k,C)}),[_,null===(e=n.selection)||void 0===e?void 0:e.coms,null==I?void 0:I.xCenter,null==I?void 0:I.yCenter,null==I?void 0:I.right,null==I?void 0:I.bottom]);const P=n.hoverModel&&g.withShiftKey;if((null===(t=E.current)||void 0===t?void 0:t.length)>0)return E.current.map(((e,t)=>{var i,o,s;if(e.width>0&&e.height>0){const l=[r.A.focusBG];e.openedF&&l.push(r.A.opened),0===t&&l.push(r.A.focus),e.focusPassive&&l.push(r.A.passive),((null===(i=e.model)||void 0===i?void 0:i.lockedSilent)||(null===(o=e.model)||void 0===o?void 0:o.state.isEditing()))&&l.push(r.A.silent),e.multi&&l.push(r.A.multi);const c={};if(void 0!==(null===(s=e.model)||void 0===s?void 0:s.style.rotation)){const t=(e.rectHeight-e.height)/2,n=(e.rectWidth-e.width)/2;c.transform=`rotate(${e.model.style.rotation}deg)`,c.transformOrigin="center center",c.top=t,c.left=n}const d=!P&&g.configs.aiView&&"function"==typeof(null==M?void 0:M.getAssist);return a().createElement(a().Fragment,null,a().createElement("div",{className:l.join(" "),style:e?{width:e.width,height:e.height,left:e.left,top:e.top}:void 0},a().createElement("div",{className:r.A.borders,style:c},0!==t||P?null:a().createElement(a().Fragment,null,a().createElement("div",{className:e&&`${e.margin.top>0?r.A.margin:r.A.nMargin} ${r.A.marginTop}`,style:e?{height:Math.abs(e.margin.top),top:e.margin.top>0?-1*e.margin.top:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.right>0?r.A.margin:r.A.nMargin} ${r.A.marginRight}`,style:e?{width:Math.abs(e.margin.right),right:e.margin.right>0?-1*e.margin.right:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.bottom>0?r.A.margin:r.A.nMargin} ${r.A.marginBottom}`,style:e?{height:Math.abs(e.margin.bottom),bottom:e.margin.bottom>0?-1*e.margin.bottom:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.left>0?r.A.margin:r.A.nMargin} ${r.A.marginLeft}`,style:e?{width:Math.abs(e.margin.left),left:e.margin.left>0?-1*e.margin.left:0}:void 0}))),a().createElement("div",{style:{visibility:e.focusPassive?"hidden":"visible"}},e.appendEditorsJSX)),g.withShiftKey?null:e.infoJXS,a().createElement("div",{className:r.A.titleBar,style:{display:P?"none":"",left:e?e.left:0,top:e?e.top-47:0}},null==e?void 0:e.title,(null==e?void 0:e.model)?a().createElement(b,{key:e.model.id,box:e,gvCtx:n}):null),d?a().createElement(y,{key:M.id,model:M,box:e,gvCtx:n}):null)}}))}function y({box:e,model:t,gvCtx:n}){var o;const[l,c]=(0,s.useState)(!1),{viewModel:d,emitAI:p}=n,f=(0,s.useCallback)((e=>{p.request(e,{})}),[]),h=null===(o=t.state)||void 0===o?void 0:o.isAIWorking(),m=(0,s.useRef)();return(0,s.useEffect)((()=>{l&&(m.current.focus(),m.current.select())}),[l]),a().createElement("div",{className:`${r.A.aiBar} ${l?r.A.aiActived:""} ${h?r.A.aiRunning:""}`,"data-mybricks-tip":"向AI助手提问",onClick:(0,i.Wj)((e=>{h||c(!0)})).stop,style:{left:e?e.left-62:0,top:e?e.top:0}},l?a().createElement(a().Fragment,null,a().createElement("textarea",{ref:m,placeholder:"请描述您的问题",onBlur:e=>{c(!1)},onKeyDown:e=>{if("Enter"===e.key){const t=e.target,n=t.value;n&&(t.value="",c(!1),f(n))}}}),a().createElement("span",{className:r.A.commit},u.FI.Enter)):null)}function b({box:e,gvCtx:t}){const{model:n}=e,{emitSnap:o}=t,l=(0,s.useRef)(),[c,d]=(0,s.useState)(n.runtime.title);(0,s.useEffect)((()=>()=>{n.state.editingTitleF&&u(),l.current=void 0}),[]);const u=(0,s.useCallback)((()=>{if(n.state.editingTitleF=!1,c!==n.runtime.title){const e=o.start("Edit Title",{target:n});n.runtime.title=c,n.asRoot&&(n.parent.title=c),e.commit()}l.current=void 0}),[c,n]);if(n&&n.state.editingTitleF)return a().createElement("div",{className:r.A.titleEditor,onClick:(0,i.Wj)().stop},a().createElement("input",{key:n.id,ref:e=>{e&&(l.current||(l.current=e,e.select()))},onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u()},type:"text",value:c,onChange:e=>{d(e.target.value)}}))}function v(e,t,n){const{cssComNormal:i,emitMessage:o,emitItem:s}=n,l=[];if(!t)return;const c=t.querySelectorAll(`:scope>i.${i.events}`);return c.length>0&&c.forEach(((t,n)=>{if(t.dataset.json){const i=JSON.parse(t.dataset.json);Array.isArray(i)&&i.forEach((t=>{l.push(a().createElement("span",{key:"evt"+n,className:r.A.eventDef,onClick:n=>{return i=t,void requestAnimationFrame((t=>{s.focusScript(e.id,i.hostId)}));var i},"data-mybricks-tip":"流程卡片"},a().createElement("i",null,u.FI.Event),t.title))}))}})),l.length>0?l:void 0}},25192:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(22896),o=n(64012),r=n.n(o),s=n(50528),a=n(91716),l=n(91737),c=n(77050),d=n(75856),u=n(99341);function p(){var e;const t=(0,l.lB)(c.A,{from:"parents"}),{context:n,hoverModel:o,viewModel:p}=t;if(n.isDebugMode()||!o&&!n.withShiftKey)return;if(t.activePlugin)return;const f=function(e,t){var n;const{hoverModel:i,viewModel:o,context:r}=e;let l=i;!l&&r.withShiftKey&&r.focusModel instanceof s.s&&(l={model:r.focusModel.parent});if(l){const{model:i,opts:c}=l;if(i){if(i instanceof d.A){if(r.withShiftKey){const t=r.focusModel;if(t&&t instanceof s.s&&!t.state.isResizing()){return{refLines:(0,u.C)(t,e)}}}return}if(i instanceof s.s&&i&&!i.hadDestroyed()&&i.$el&&!i.locked&&i.parent.$el&&(c||!i.state.isFocused())&&!i.state.isMoving()&&!i.state.isResizing()){const l=r.getComDef(i.runtime.def);if(!1===(null===(n=null==l?void 0:l.editors)||void 0===n?void 0:n["@hover"]))return;i.listenForEleChanged();const d=(null==c?void 0:c.ele)||i.$el;i.isVisibleNow();if(d){const n=i.style,l=(0,a.E9)(d,o.canvasTransEle),p=i.isStyleLayoutAbsolute(),f=p?0:n.getMarginTopAsNum(!0),h=p?0:n.getMarginBottomAsNum(!0),m=p?0:n.getMarginLeftAsNum(!0),g=p?0:n.getMarginRightAsNum(!0),y=[],b=l.w,v=l.h;if(r.withShiftKey){const n=r.focusModel;if(n&&n instanceof s.s&&!n.state.isResizing()){const r=(0,a.E9)(n.$el,o.canvasTransEle);if(n&&n!==i){let o,s=n.parent.parent;for(;s;){if(s===i){o=!0,s=void 0;break}s=s.parent.parent}if(o){const t=(0,u.C)(n,e);y.push(...t)}else{{const e=Math.min(r.x+r.w,l.x+l.w),n=Math.max(r.x,l.x),i=Math.ceil(l.y+l.h/2);if(n-e){y.push({type:"x",size:Math.ceil((n-e)/t),y:i,x0:e,x1:n});const o=Math.min(r.y+r.h,i),s=Math.max(r.y,i),a=n===l.x?e:n;y.push({type:"y_",y0:o,y1:s,x:a})}}{const e=Math.min(r.y+r.h,l.y+l.h),n=Math.max(r.y,l.y),i=Math.ceil(l.x+l.w/2);if(n-e>0){y.push({type:"y",size:Math.ceil((n-e)/t),y0:e,y1:n,x:i});const o=Math.min(r.x+r.w,i),s=Math.max(r.x,i),a=n===l.y?e:n;y.push({type:"x_",x0:o,x1:s,y:a})}}}}}}return{model:i,title:(null==c?void 0:c.title)||i.runtime.title,rectHeight:v,rectWidth:b,width:Math.max((d.offsetWidth-m-g)*t,1),height:Math.max((d.offsetHeight-f-h)*t,1),left:l.x+m*t,top:l.y+f*t,margin:{top:n.marginTop||0,right:n.marginRight||0,bottom:n.marginBottom||0,left:n.marginLeft||0},refLines:y}}}}}return{margin:{top:0,right:0,bottom:0,left:0},refLines:[]}}(t,p.style.zoom);if(!f)return;let h,m;if(f.title&&f.width){h={width:f.width,height:f.height,transform:`translateX(${f.left}px) translateY(${f.top}px)`};if(void 0!==(null===(e=f.model)||void 0===e?void 0:e.style.rotation)){const e=(f.rectHeight-f.height)/2,t=(f.rectWidth-f.width)/2;m={},m.transform=`rotate(${f.model.style.rotation}deg)`,m.transformOrigin="center center",m.top=e,m.left=t}}else h={display:"none"};return r().createElement(r().Fragment,null,r().createElement("div",{className:i.A.shell,style:h,key:"hover-mask"},r().createElement("div",{className:i.A.hover,style:m}),f.refLines.length>0?null:r().createElement("div",{className:i.A.itemTitle},(null==f?void 0:f.title)||"无标题",null)),f.refLines.map(((e,t)=>"x"===e.type&&e.size>0?r().createElement("div",{className:i.A.refX,style:{top:e.y,left:e.x0,width:e.x1-e.x0}},r().createElement("label",null,e.size)):"x_"===e.type?r().createElement("div",{className:i.A.refX_,style:{left:e.x0,width:e.x1-e.x0,top:e.y}}):"y"===e.type&&e.size>0?r().createElement("div",{className:i.A.refY,style:{left:e.x,top:e.y0,height:e.y1-e.y0}},r().createElement("label",null,e.size)):"y_"===e.type?r().createElement("div",{className:i.A.refY_,style:{top:e.y0,height:e.y1-e.y0,left:e.x}}):void 0)))}},99341:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(91716);function o(e,t){const{viewModel:n}=t,o=n.style.zoom,r=e.parent,s=(0,i.E9)(e.$el,n.canvasTransEle),a=(0,i.E9)(r.$el,n.canvasTransEle,{noMyBorders:!0}),l=[],c=Math.ceil(s.x+s.w/2);{const e=a.y,t=s.y;l.push({type:"y",size:Math.ceil((t-e)/o),y0:e,y1:t,x:c})}{const e=s.y+s.h,t=a.y+a.h;l.push({type:"y",size:Math.ceil((t-e)/o),y0:e,y1:t,x:c})}const d=Math.ceil(s.y+s.h/2);{const e=a.x,t=s.x;l.push({type:"x",size:Math.ceil((t-e)/o),x0:e,x1:t,y:d})}{const e=s.x+s.w,t=a.x+a.w;l.push({type:"x",size:Math.ceil((t-e)/o),x0:e,x1:t,y:d})}return l}},8131:(e,t,n)=>{"use strict";n.d(t,{BD:()=>o.A,LN:()=>s.A,OY:()=>u.A,WO:()=>a.A,Ww:()=>c.A,ff:()=>l.A,tU:()=>r.A,u3:()=>i.A,yK:()=>d.A});var i=n(21773),o=n(82978),r=n(25192),s=n(60964),a=n(21594),l=n(17888),c=n(80686),d=(n(95148),n(67739),n(88949)),u=n(14938)},97317:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(91716),o=n(84990),r=n(73965),s=n(64012),a=n.n(s);function l({note:e,viewCtx:t,position:n,tempNote:s}){let l=e.refPo;const c=n||e.position,d={x:c.x,y:c.y};if(e.parent){const{viewModel:n}=t,o=n.style.zoom,r=e.parent,s=(0,i.E9)(r.$wrapEl,n.canvasTransEle);if(s&&(d.x=s.x+c.x*o,d.y=s.y+c.y*o),e.refComId){const t=r.searchCom(e.refComId);if((null==t?void 0:t.noteInfo)&&t.$el){const e=(0,i.E9)(t.$el,n.canvasTransEle);let o;o="left"===t.noteInfo.position?e.x-3:e.x+e.w-19,l={x:Math.ceil(o),y:Math.ceil(e.y-10)}}else l=void 0}}else if(e.refComId){const{viewModel:n}=t,o=n.searchCom(e.refComId);if(null==o?void 0:o.noteInfo){const e=(0,i.E9)(o.$el,n.canvasTransEle);let t;t="left"===o.noteInfo.position?e.x-3:e.x+e.w-19,l={x:t,y:e.y-10}}else l=void 0}if(l){const t=e.$el;let n=0,i=0;t&&(n=t.offsetWidth,i=t.offsetHeight);const{width:s,height:c,left:u,top:p,stPo:f,lines:h}=(0,o.D)(l,{x:d.x-30,y:d.y,noteWidth:n,noteHeight:i});return a().createElement("svg",{className:r.A.conToRef,style:{left:u,top:p,width:s+30,height:c+10}},a().createElement("polyline",{points:h,fill:"none"}),a().createElement("circle",{cx:f.left,cy:f.top,r:"3"}))}}},87989:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(26212),s=n(91737),a=n(91716),l=n(33372);function c({note:e,viewCtx:t,css:n}){(0,i.useMemo)((()=>{e.getConfigs=()=>(0,r.A)(e,t),e.getListeners=()=>(0,l.A)(e,t)}),[]);const{position:c}=e;if(!c)return;const d=e._focused,u=e.title?e.title:"未标题",p=d||e.pinUp,f={left:c.x,top:c.y};if(!e.parent){const e=t.context.geoZoom;f.left=c.x*e,f.top=c.y*e}return p?void 0:o().createElement("div",{className:`${n.note} ${p?n.noteOpen:""} ${d?n.noteFocus:""} ${e.pinUp?n.notePinUp:""}`,style:f,ref:t=>{t&&e.set$elOnce(t)},onClick:(0,s.Wj)().stop,onMouseDown:(0,s.Wj)((n=>function(e,t,n){const{emitSnap:i,emitItem:o,context:r}=n,l=r.geoZoom;let c;const d=t.position;let u=!1;const p=d.x,f=d.y;(0,s.zg)(e,(({po:{x:e,y:r},epo:{ex:s,ey:h},dpo:{dx:m,dy:g},adpo:{adx:y,ady:b}},v)=>{if("moving"==v&&(u=!0,c||(c=i.start("移动评论",{target:t})),d.x=Math.ceil(p+y/l),d.y=Math.ceil(f+b/l)),"finish"==v){if(t.refComId)if(t.parent){const e=t.parent,n=e.searchCom(t.refComId);if(null==n?void 0:n.noteInfo){const t=(0,a.E9)(n.$el,e.$wrapEl);d.x<(t.x+t.w/2)/l?n.noteInfo.position="left":n.noteInfo.position="right"}}else{const{viewModel:e}=n,i=e.searchCom(t.refComId);if(null==i?void 0:i.noteInfo){const n=(0,a.E9)(i.$el,e.canvasTransEle);d.x+t.$el.offsetWidth/2<n.x+n.w/2?i.noteInfo.position="left":i.noteInfo.position="right"}}c&&c.commit(),u||requestAnimationFrame((e=>{o.focus(t)}))}}),{exeIndeed:!0})}(n,e,t))).stop},o().createElement("div",{className:`${n.tip} ${e.refComId?n.tipRef:""}`},o().createElement("label",null,e.label||u.substring(0,1))))}},17362:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{get canvasWrapEle(){return this.viewCtx.viewModel.canvasWrapEle}get curLabel(){return this._maxLabel||(this._maxLabel=this.viewCtx.viewModel.notes.length),String(++this._maxLabel)}createNote(e){const t=this.tempNote;if(t){if(e)return e.addNote(t),this.tempNote=void 0,e.notes[e.notes.length-1];{const e=this.viewCtx.viewModel;return e.addNote(t),this.tempNote=void 0,e.notes[e.notes.length-1]}}}}},28594:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(73965),o=n(91737),r=n(97317),s=n(64012),a=n.n(s),l=n(96966);function c({note:e,viewCtx:t}){const n=(0,s.useMemo)((()=>{let e;const n=[],i=t.context.getPluginAry();return i&&i.forEach((e=>{var t,i;const o=null===(i=null===(t=e.contributes)||void 0===t?void 0:t.geoView)||void 0===i?void 0:i.note;"default"===(null==o?void 0:o.type)&&"function"==typeof o.render&&n.push(e)})),n.length>0&&(e=n[0]),e}),[]),l=(0,o.HO)((()=>{var i,o,r;return n?null===(r=null===(o=null===(i=n.contributes)||void 0===i?void 0:i.geoView)||void 0===o?void 0:o.note)||void 0===r?void 0:r.render({get data(){return t.context.getPluginData(n.name)},noteId:e.id,get noteViewDom(){return e.bodyEl},deleteNote(){const n=t.emitSnap.start("remove note",{target:e});if(t.viewModel.removeNote(e.id),e.refComId){const n=t.viewModel.searchCom(e.refComId);n&&(n.noteInfo=void 0)}t.emitItem.focus(void 0),n.commit()}}):a().createElement("div",null,"未找到插件")})),{viewModel:c}=t,u=c.style.zoom,p=e.position,f={left:p.x,top:p.y},h=e.title?e.title:"未标题";if(e.parent){const t=(0,o.E9)(e.parent.$wrapEl,c.canvasTransEle);t&&(f.left=t.x+p.x*u,f.top=t.y+p.y*u)}return a().createElement(a().Fragment,null,a().createElement("div",{className:`${i.A.note} ${i.A.noteFocus} ${e.pinUp?i.A.notePinUp:""}`,style:f,ref:t=>{t&&e.set$elOnce(t)},onClick:(0,o.Wj)().stop,onMouseDown:(0,o.Wj)((n=>function(e,t,n){const{emitSnap:i,emitItem:r,context:s}=n,a=s.geoZoom;let l;const c=t.position;let d=!1;const u=c.x,p=c.y;(0,o.zg)(e,(({po:{x:e,y:s},epo:{ex:f,ey:h},dpo:{dx:m,dy:g},adpo:{adx:y,ady:b}},v)=>{if("moving"==v&&(d=!0,l||(l=i.start("移动评论",{target:t})),c.x=Math.ceil(u+y/a),c.y=Math.ceil(p+b/a)),"finish"==v){if(t.refComId)if(t.parent){const e=t.parent,n=e.searchCom(t.refComId);if(null==n?void 0:n.noteInfo){const t=(0,o.E9)(n.$el,e.$wrapEl);c.x<(t.x+t.w/2)/a?n.noteInfo.position="left":n.noteInfo.position="right"}}else{const{viewModel:e}=n,i=e.searchCom(t.refComId);if(null==i?void 0:i.noteInfo){const n=(0,o.E9)(i.$el,e.canvasTransEle);c.x+t.$el.offsetWidth/2<n.x+n.w/2?i.noteInfo.position="left":i.noteInfo.position="right"}}l&&l.commit(),d||requestAnimationFrame((e=>{r.focus(t)}))}}),{exeIndeed:!0})}(n,e,t))).stop},a().createElement("div",{className:`${i.A.tip} ${e.refComId?i.A.tipRef:""}`},a().createElement("label",null,e.label||h.substring(0,1))),a().createElement(d,{note:e,viewCtx:t}),a().createElement("div",{className:i.A.items,ref:t=>{t&&(e.bodyEl=t)}},l)),a().createElement(r.A,{note:e,viewCtx:t,position:p}))}function d({note:e,viewCtx:t}){const{emitSnap:n,emitItem:r}=t,[c,d]=a().useState(),u=(0,s.useCallback)((()=>{d(e.title||"未标题")}),[]),p=(0,s.useRef)(),f=(0,s.useCallback)((()=>{const t=c.trim();if(""!==t&&t!==e.title){const i=n.start("修改名称",{target:e});e.title=t,i.commit()}d(void 0),p.current=void 0}),[c]);return void 0!==c?a().createElement("div",{className:i.A.title},a().createElement("input",{type:"text",value:c,ref:e=>{e&&(p.current||(p.current=e,e.select(),e.focus()))},onDoubleClick:(0,o.Wj)().stop,onMouseDown:(0,o.Wj)().stop,onChange:e=>d(e.target.value),onBlur:f,onKeyDown:(0,o.Wj)((e=>{"Enter"===e.key&&f()})).stop})):a().createElement("div",{className:i.A.title,onDoubleClick:(0,o.Wj)(u).stop},a().createElement("span",{className:i.A.label},e.label?`[${e.label}]`:""),a().createElement("span",{className:i.A.tt},e.title||"未标题"),a().createElement("span",{className:`${i.A.pin}`,onClick:(0,o.Wj)((t=>{e.pinUp=!e.pinUp,e.pinUp||r.focus(void 0)})).stop},l.FI.Pin))}},26212:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(96966),o=n(99051),r=n(64012),s=n.n(r),a=n(91716);function l(e,t){const n=new i.K9.Category("笔记"),r=new i.K9.Group;return n.addGroup(r),r.addItem((()=>s().createElement("div",{className:o.A.item},"创建于  ",(0,a.Yq)(e.createTime,"YYYY-mm-dd HH:MM:SS")))),[n]}},21773:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(61261),o=n(73965),r=n(64012),s=n.n(r),a=n(91737),l=n(17362),c=n(77050),d=n(6815),u=n(50528),p=n(87989),f=n(97317),h=n(91716),m=n(75856),g=n(28594);function y({slotModel:e}){const t=(0,a.lB)(c.A,{from:"parents"}),{context:n,viewModel:f,emitSnap:y}=t,v=(0,a.J2)(l.A,(e=>e({viewCtx:t})),{to:"children"}),x=(0,r.useCallback)((e=>{const{style:t,canvasWrapEle:n}=v.viewCtx.viewModel,i=(0,h.E9)(n),o=e.clientX-i.x-t.left,r=e.clientY-i.y-t.top;v.tempNote.refPo={x:o,y:r}}),[]),A=(0,r.useCallback)((e=>{setTimeout((e=>{const n=v.viewCtx.context.focusModel;if(!(n&&n instanceof u.s)){const e=y.start("create note",{target:f}),n=v.createNote();e.commit(),setTimeout((e=>{t.emitItem.focus(n)})),v.tempNote=void 0}})),w()}),[]),w=(0,r.useCallback)((()=>{v.canvasWrapEle.removeEventListener("mousemove",x),v.canvasWrapEle.removeEventListener("click",A)}),[]);(0,r.useEffect)((()=>{const e=e=>{!function(e,t){if(!t.viewCtx._templNote)return;if(e.target!==t.canvasWrapEle&&e.target!==t.viewEle)return;if(t.viewCtx._templNote=void 0,!t.viewCtx.context.isDebugMode()){const{style:n,canvasWrapEle:i}=t.viewCtx.viewModel,o=(0,h.E9)(i),r=e.clientX-o.x-n.left,s=e.clientY-o.y-n.top;t.tempNote=new d.A({position:{x:r,y:s,temp:!0}})}}(e,v)};return v.viewEle&&v.canvasWrapEle.addEventListener("click",e),()=>{v.canvasWrapEle.removeEventListener("click",e)}}),[]),(0,r.useEffect)((()=>{v.tempNote&&(v.canvasWrapEle.addEventListener("mousemove",x),v.canvasWrapEle.addEventListener("click",A))}),[v.tempNote]),(0,r.useEffect)((()=>{const e=v.tempNote;if(e){const n=v.viewCtx.context.focusModel;if(n)if(w(),n instanceof u.s)if(e.refPo=void 0,n.noteInfo)v.tempNote=void 0,t.emitMessage.warn("已存在该组件的评论.");else{const i=n.root,o=y.start("create note",{target:f});e.refComId=n.id;const r=v.curLabel;let s;e.label=r,e.title=n.runtime.title;const a=e.position,l=(0,h.E9)(i.$wrapEl,f.canvasTransEle);e.position={x:a.x-l.x,y:a.y-l.y};const c=(0,h.E9)(n.$el,f.canvasTransEle);s=e.position.x+e.$el.offsetWidth/2<c.x+c.w/2?"left":"right",n.noteInfo={position:s,label:r};const d=v.createNote(i);o.commit(),setTimeout((e=>{t.emitItem.focus(d)}))}else if(n instanceof m.A)if(e.refPo=void 0,n.noteInfo)v.tempNote=void 0,t.emitMessage.warn("已存在关联到该场景的评论.");else{const i=y.start("create note",{target:f});e.refSceneId=n.id;const o=v.curLabel;e.label=o,e.title=n.title;const r=e.position,s=(0,h.E9)(n.$wrapEl,f.canvasTransEle);e.position={x:r.x-s.x,y:r.y-s.y},n.noteInfo={label:o};const a=v.createNote(n);i.commit(),setTimeout((e=>{t.emitItem.focus(a)}))}else{const e=y.start("create note",{target:f}),n=v.createNote();e.commit(),setTimeout((e=>{t.emitItem.focus(n)})),v.tempNote=void 0}}}),[v.tempNote,n.focusModel]);const E=(0,a.HO)((()=>{var e;if((null===(e=t.viewModel.notes)||void 0===e?void 0:e.length)>0)return t.viewModel.notes.map((e=>s().createElement(p.A,{key:e.id,note:e,css:o.A,viewCtx:v.viewCtx})))})),C=(0,a.HO)((()=>{var e;const t=[];(null===(e=f.notes)||void 0===e?void 0:e.length)>0&&f.notes.forEach((e=>{(e._focused||e.pinUp)&&t.push(s().createElement(g.A,{key:e.id,note:e,viewCtx:v.viewCtx}))}));const n=e=>{e.notes&&e.notes.forEach((e=>{(e._focused||e.pinUp)&&t.push(s().createElement(g.A,{key:e.id,note:e,viewCtx:v.viewCtx}))}))};return f.slots.forEach((e=>{n(e),e.slots&&e.slots.forEach((e=>{n(e)}))})),t}),[]);return s().createElement("div",{className:i.A.noteView,ref:e=>{e&&(v.viewEle=e)}},E,C,s().createElement(b,null))}function b(){const e=(0,a.lB)(l.A,{from:"parents"}),t=e.tempNote;if(t){const{position:n}=t;return s().createElement(s().Fragment,null,s().createElement("div",{className:o.A.note,ref:e=>{e&&t.set$elOnce(e)},style:{left:n.x,top:n.y}},s().createElement("div",{className:o.A.items})),s().createElement(f.A,{note:t,viewCtx:e.viewCtx,tempNote:e.tempNote}))}}},33372:(e,t,n)=>{"use strict";function i(e,t){const{viewModel:n,emitSnap:i}=t;return[{title:"删除",keys:["Backspace","Delete"],exe:()=>{const t=i.start("itemDelete",{target:e});if(e.parent){const t=e.parent;if(e.refSceneId&&(t.noteInfo=void 0),e.refComId){const n=t.searchCom(e.refComId);n&&(n.noteInfo=void 0)}t.removeNote(e.id)}else{if(e.refComId){const t=n.searchCom(e.refComId);t&&(t.noteInfo=void 0)}n.removeNote(e.id)}t.commit()}}]}n.d(t,{A:()=>i})},84990:(e,t,n)=>{"use strict";function i(e,t){const{noteWidth:n,noteHeight:i}=t,o=e.x+5,r=e.y+5,s=t.x+5,a=t.y+5,l=Math.min(o,s),c=Math.min(r,a),d=Math.ceil(Math.abs(o-s)),u=Math.ceil(Math.abs(r-a)),p=Math.ceil(Math.min(d,u));let f={},h={};const m=[];a<r?s>o?(m.push([5,u+5]),m.push([p+5,u-p+5]),m.push([d+5,5]),m.push([d+25,5]),f={left:5,top:u+5},h={left:d+5,top:5}):(m.push([25,5]),m.push([5,5]),m.push([d-p+5,u-p+5]),m.push([d+5,u+5]),f={left:d+5,top:u+5},h={right:d,top:0}):s>o?(m.push([5,5]),m.push([p+5,p+5]),m.push([d+5,u+5]),m.push([d+25,u+5]),f={left:5,top:5},h={left:d,top:u}):s+n<o?(m.push([n,u+5]),m.push([5,u+5]),m.push([d-p+5,p+5]),m.push([d+5,5]),f={left:d+5,top:5},h={right:d,top:u}):(m.push([d+25,u+5]),m.push([5,u+5]),m.push([d-p+5,p+5]),m.push([d+5,5]),f={left:d+5,top:5},h={right:d,top:u});const g=m[0],y=m[1],b=m[2];g[1]===y[1]&&y[1]===b[1]&&m.splice(1,1);return{left:l,top:c,width:d,height:u,lines:m.map((e=>e.join(","))).join(" "),stPo:f,ctPo:h}}n.d(t,{D:()=>i})},95148:(e,t,n)=>{"use strict";n(96966),n(6192),n(64012),n(91737),n(77050),n(34163)},88949:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(545),n(64012),n(91737),n(77050),n(91716);function i(){}},17888:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(91737),o=n(77050),r=n(64012);function s(){const e=(0,i.lB)(o.A,{from:"parents"}),{viewModel:t,context:n,cssCanvas:s}=e,a=(t.style,[]);return n.isDesnModeOfBluePrint()&&a.push(r.createElement("div",{key:"master",className:s.blueprint},r.createElement("span",{className:s._0},"母版"),r.createElement("span",{className:s._1},"母版"),r.createElement("span",{className:s._2},"母版"),r.createElement("span",{className:s._3},"母版"))),a}},14938:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(1524),o=n(91737),r=n(64012),s=n(77050),a=n(64012);const l=300,c=2;function d(){const e=(0,o.lB)(s.A,{from:"parents"}),{viewModel:t,context:n,cssCanvas:r}=e;if(e.loaded&&t.slots.find((e=>e.isOpening())))return a.createElement("div",{className:i.A.scroll},a.createElement(p,{gvCtx:e}),a.createElement(u,{gvCtx:e}))}function u({gvCtx:e}){const{viewModel:t,context:n,cssCanvas:s}=e,{canvasWrapEle:d,$el:u}=t,p=t.style,h=p.zoom,m=l/h,[g,y]=(0,r.useState)(!1),b=(0,o.J2)(class{constructor(){this.height=m,this.top=-1*p.top,this.dy=0}},[h]),v=(0,r.useCallback)((e=>{const t=d.offsetHeight,n=u.offsetHeight*h,i=Math.max(1,n/t);(0,o.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:o},dpo:{dx:r,dy:s},adpo:{adx:a,ady:l}},c)=>{if("start"===c&&y(!0),"moving"===c){const e=Math.ceil(s*i);p.top-=e;const t=b.height;t<=m&&(b.top<=15?s>0&&(p.top-=10*e):b.top+t>=d.offsetHeight-5&&s<0&&(p.top-=10*e))}"finish"===c&&y(!1)}))}),[h]);return f(e,"top"),(0,r.useLayoutEffect)((()=>{const e=d.offsetHeight,t=u.offsetHeight*h,n=Math.max(1,t/e);let i=b.height;let o=e/2+(-1*p.top+e/2-((t-e)/2+e/2))/n-i/2,r=-1*p.top+m-e;const s=b.dy;o<=15?(o=15,s>r?i>20&&(i-=c):i<m&&(i+=c)):o+i>=d.offsetHeight-5?(s>r?i<m&&(i+=c):i>20&&(i-=c),o=d.offsetHeight-5-i):i=m,b.height=i,b.top=o,b.dy=r}),[p.top,h]),a.createElement("div",{id:"mybricks-geoview-scroll-y",className:`${i.A.scrollY} ${g?i.A.dragging:""}`,style:{transform:`translateY(${b.top}px)`,height:b.height},onMouseDown:(0,o.Wj)(v).stop},a.createElement("div",null))}function p({gvCtx:e}){const{viewModel:t,context:n,cssCanvas:s}=e,{canvasWrapEle:d,$el:u}=t,p=t.style,h=p.zoom,m=l/h,[g,y]=(0,r.useState)(!1),b=(0,o.J2)(class{constructor(){this.width=m,this.left=-1*p.left,this.dx=0}},[h]),v=(0,r.useCallback)((e=>{const t=d.offsetWidth,n=u.offsetWidth*h,i=Math.max(1,n/t);(0,o.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:o},dpo:{dx:r,dy:s},adpo:{adx:a,ady:l}},c)=>{if("start"===c&&y(!0),"moving"==c){const e=Math.ceil(r*i);p.left-=e;const t=b.width;t<=m&&(b.left<=15?r>0&&(p.left-=10*e):b.left+t>=d.offsetWidth-5&&r<0&&(p.left-=10*e))}"finish"===c&&y(!1)}))}),[h,b]);return f(e,"left"),(0,r.useLayoutEffect)((()=>{const e=d.offsetWidth,t=u.offsetWidth*h,n=Math.max(1,t/e);let i=b.width;let o=e/2+(-1*p.left+e/2-((t-e)/2+e/2))/n-i/2,r=-1*p.left+m-e;const s=b.dx;o<=15?(o=15,s>r?i>20&&(i-=c):i<m&&(i+=c)):o+i>=d.offsetWidth-5?(s>r?i<m&&(i+=c):i>20&&(i-=c),o=d.offsetWidth-5-i):i=m,b.width=i,b.left=o,b.dx=r}),[p.left,h]),a.createElement("div",{id:"mybricks-geoview-scroll-x",className:`${i.A.scrollX} ${g?i.A.dragging:""}`,style:{transform:`translateX(${b.left}px)`,width:b.width},onMouseDown:(0,o.Wj)(v).stop},a.createElement("div",null))}function f(e,t){const{viewModel:n,context:i,cssCanvas:s}=e,{canvasWrapEle:a,$el:l}=n,c=n.style,d=(0,r.useRef)(0);(0,o.HO)((()=>{n.slots.length>0&&n.slots.forEach((e=>{e._closed})),0===d.current?d.current++:setTimeout((()=>{c[t]+=1}))}))}},77028:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(91737),s=n(91716),a=n(61111);function l({viewCtx:e,slotModel:t}){const{emitItem:n,context:l,cssArtboard:c,viewModel:d}=e,u=d.style.zoom,p=(0,i.useCallback)((i=>{let o;const l=t.$el;(0,r.zg)(i,(({po:{x:i,y:r},epo:{ex:c,ey:d},dpo:{dx:u,dy:p},adpo:{adx:f,ady:h}},m)=>{var g;if("moving"==m){o||(e.selection&&n.blur(),e.focusArtboard(t.id),e.selection={justNow:!0,from:{x:c,y:d},to:{x:c,y:d},coms:[]},o=e.selection),o.to={x:c,y:d};const{from:i,to:r,coms:a}=o,u=Math.min(i.x,r.x),p=Math.max(i.x,r.x)-u,f=Math.min(i.y,r.y),h=Math.max(i.y,r.y)-f;t.comAry.forEach((e=>{const t=e.$el,n=(0,s.E9)(t,l),{x:i,y:o,w:r,h:c}=n,d=i,m=o;if(Math.max(d+r,u+p)-Math.min(d,u)<p+r&&Math.max(m+c,f+h)-Math.min(m,f)<h+c)a.indexOf(e)<0&&(a.push(e),e.state.selected());else{const t=a.indexOf(e);t>=0&&(a.splice(t,1),e.state.cancelSelected())}}))}if("finish"==m)if(o&&(null===(g=o.coms)||void 0===g?void 0:g.length)>0)if(1===o.coms.length){const t=o.coms[0];t.state.cancelSelected(),requestAnimationFrame((i=>{e.selection=void 0,t.focusArea&&(t.focusArea=void 0),n.focus(t)}))}else requestAnimationFrame((i=>{o.coms.sort(((e,n)=>t.comAry.indexOf(e)-t.comAry.indexOf(n))),n.focus(o.coms[0]),(0,a.zq)(e,o.coms,!0),o.justNow=!1,o=void 0}));else o&&requestAnimationFrame((()=>{e.selection=void 0,o.justNow=!1,o=void 0}))}),{relDom:l})}),[u]);return o().createElement("div",{className:c.selection,onMouseDown:(0,r.Wj)(p).stop})}},60964:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(91737),s=n(77050),a=n(69170),l=n(91716);function c(){const e=(0,r.lB)(s.A,{from:"parents"}),{selection:t,viewModel:n,getCurModuleSlot:i,isMainModule:c}=e;n.style.zoom;let d;if(t&&t.justNow){const e=i(),{from:r,to:s}=t;let c=0,u=0,p=r.x,f=s.x,h=r.y,m=s.y;const g=(0,l.E9)(e.$el,n.$el);c=g.x,u=g.y,p=r.x+c,f=s.x+c,h=r.y+u,m=s.y+u;const y=Math.min(p,f),b=Math.max(p,f)-y,v=Math.min(h,m),x=Math.max(h,m)-v;d=o().createElement("div",{className:a.A.zone,style:{left:y,top:v,width:b,height:x}})}return o().createElement("div",null,d)}},1950:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(77050),r=n(91716),s=n(12192),a=n(34163),l=n(64012);function c(){const e=(0,i.lB)(o.A,{from:"parents"});if(e.shortEditorFor){const{viewModel:t,context:n,emitEditor:o,emitItem:c,emitMessage:d,emitSnap:u,emitIOCAbout:p,emitPermission:f}=e,{ele:h,editor:m,curModel:g,model:y,focusAreaOpt:b}=e.shortEditorFor,v=(0,a.Q)({comId:y.id,comName:y.name,context:n,model:y,focusAreaOpt:b,emitItem:c,emitMessage:d,emitSnap:u,emitIOCAbout:p,emitPermission:f}),x=(0,r.E9)(h,t.canvasTransEle),A=n.geoZoom,w=Object.assign({focusNow:!0,width:Math.ceil(x.w/A)+2,widthAuto:!0,height:Math.ceil(x.h/A)+2,dom:h},m.options);let E;g.state.editing();const C=m.type,_=o.render({type:C,options:w,value:{get:()=>(E=m.value.get(v),E),set(t){if(g.state.editingRecover(),e.shortEditorFor=void 0,t!==E){const e=u.start("Change Value",{target:y});m.value.set(v,t),setTimeout((e=>{y.notifyEleChanged(!0)})),e.commit()}}}});if(_)return l.createElement("div",{className:s.A.editor,onClick:(0,i.Wj)().stop,style:{left:x.x-1,top:x.y-1,transform:`scale(${n.geoZoom})`,transformOrigin:"0 0"}},_)}return l.createElement("div",null)}},67739:(e,t,n)=>{"use strict";n(91737),n(77050)},21594:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(77050),r=n(91716),s=n(69444),a=n(64012),l=n(64012);const c=80;function d(){const e=(0,i.lB)(o.A,{from:"parents"}),{viewModel:t,getCurModuleSlot:n}=e,[d,u]=(0,i.HO)((()=>{if(e.artboardMoving){const{id:i,offsetX:o,offsetY:a}=e.artboardMoving,d=[],u={};let p=0;const f=n();if(f.hostSlotId){t.getSlot(f.hostSlotId).slots.forEach((e=>{if(!e.isTypeOfModule()){if(e.id===i){const n=(0,r.E9)(e.$el,t.canvasWrapEle);u.left=n.x-p*c+o-c/2,u.top=n.y+a-20}d.push(l.createElement("div",{className:`${s.A.thumb} ${e.id===i?s.A.cur:""}`,key:p},e.title)),p++}}))}else t.slots.forEach((e=>{if(!e.isTypeOfModule()){if(e.id===i){const n=(0,r.E9)(e.$el,t.canvasWrapEle);u.left=n.x-p*c+o-c/2,u.top=n.y+a-20}d.push(l.createElement("div",{className:`${s.A.thumb} ${e.id===i?s.A.cur:""}`,key:p},e.title)),p++}}));return[d,u]}return[]})),p=(0,i.HO)((()=>{if(e.artboardMoving){const i=e.artboardMoving,{id:o,adx:r,ady:a}=i,d=n();let u;if(d.hostSlotId){u=t.getSlot(d.hostSlotId).slots.filter((e=>{if(!e.isTypeOfModule())return!0}))}else u=t.slots.filter((e=>{if(!e.isTypeOfModule())return!0}));const p=u.findIndex((e=>e.id===o)),f=p*c+r+c/2,h={};return i.curIndex=void 0,u.find(((e,t)=>f>=t*c&&f<t*c+c/2?(h.left=t*c-2.5,void(p!==t&&(i.curIndex=t))):f>=t*c+c/2&&f<(t+1)*c?(h.left=Math.ceil((t+1)*c-2.5),void(p!==t&&(i.curIndex=t+1))):void 0)),f<=0?(h.left=-2.5,0!==p&&(i.curIndex=0)):f>u.length*c&&(h.left=u.length*c-2.5,p!==u.length-1&&(i.curIndex=u.length)),l.createElement("div",{className:s.A.placeholder,style:h})}}));if((0,a.useEffect)((()=>{e.artboardMoving&&e.emitItem.focus(void 0)}),[e.artboardMoving]),e.artboardMoving)return l.createElement("div",{className:s.A.thumbs,style:u},d,p)}},96544:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function o(){return i(this,void 0,void 0,(function*(){const e=function(e){const t=[];for(const n of Array.from(e)){if(n.href)continue;const e=n.cssRules||n.rules||"";if(0!==e.length)for(const n of e)n instanceof CSSMediaRule&&t.push(n)}return t}([...yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelectorAll("link"),t=[];for(const n of e)"stylesheet"===n.rel&&t.push(n.href);return yield Promise.all(t.map((e=>fetch(e).then((e=>e.text())).then((e=>{const t=new CSSStyleSheet;return t.replaceSync(e),t})).catch((e=>{console.error("Error loading external CSS file:",e)})))))}))}(),...Array.from(document.styleSheets)]),t={DESKTOP:[],TABLET:[],MOBILE:[]};return e.forEach((e=>{if(e.conditionText){const n=e.conditionText.match(/max-width:\s*(.*)px\)/);if(n&&n.length>=2){parseInt(n[1])<=575&&t.MOBILE.push(e)}const i=e.conditionText.match(/min-width:\s*(.*)px\)/);if(i&&i.length>=2){parseInt(i[1])>=768&&t.DESKTOP.push(e)}}})),t}))}},92133:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(64012),o=n.n(i),r=n(91737),s=n(33230);function a(e,t){return o().createElement(c,{slotModel:e,geoCtx:t})}class l{constructor(){this.items=[]}hasItem({keyName:e}){return this.items.find((t=>{if(t.id&&t.keyName===e)return!0}))}addItem(){this.items.find((e=>!e.id))||this.items.push({keyName:""})}}function c({slotModel:e,geoCtx:t}){var n;const{context:a,viewModel:c,emitFrame:u}=t,p=(0,r.J2)(l,(n=>{const i=u.getAllOutputs(e.id,"shortcut");n({slotModel:e,geoCtx:t,items:null==i?void 0:i.map((e=>({id:e.id,keyName:e.hostId})))})})),f=(0,i.useCallback)((()=>{p.addItem()}),[]);return o().createElement("div",{className:s.A.edt},o().createElement("div",{className:s.A.tt},"快捷键",o().createElement("span",{onClick:f},"+")),null===(n=p.items)||void 0===n?void 0:n.map((e=>o().createElement(d,{item:e,ctx:p}))))}function d({item:e,ctx:t}){const{slotModel:n,geoCtx:r}=t,{emitFrame:a,emitSnap:l}=r,c=(0,i.useCallback)((t=>{let n=t.key;" "===n&&(n="[空格]"),"Meta"!==n&&(t.ctrlKey||t.metaKey)&&(n=t.shiftKey?"ctrl+shift+"+n:"ctrl+"+n),e.keyName=`${n}`,t.preventDefault()}),[]),d=(0,i.useCallback)((()=>{if(!e.keyName)return;if(t.hasItem({keyName:e.keyName}))return;const i=e.keyName,o=`快捷键 ${i}`,r=l.start("添加快捷键",{target:n}),s=a.addOutputPin({slotId:n.id,pinHostId:i,type:"shortcut",title:"开始",schema:{type:"object",properties:{keyName:{type:"string"},target:{type:"object"}}},editable:!0});s?(e.id=s.id,a.bindDiagram(n.id,s.id,o),r.commit()):r.cancel()}),[]),u=(0,i.useCallback)((()=>{a.focusDiagram(n.id,e.keyName)}),[]);return o().createElement("div",{className:s.A.item},o().createElement("input",{type:"text",className:e.id?s.A.disabled:"",placeholder:"快捷键",onKeyDown:c,disabled:e.id,value:e.keyName,onChange:e=>{}}),e.id?o().createElement("button",{className:s.A.buttonEvtGo,onClick:u},"查看"):o().createElement("button",{className:s.A.buttonEvtNew,onClick:d},"新建"))}},19207:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(91737),s=n(47630),a=n(96966);function l(e,t){return o().createElement(d,{slotModel:e,geoCtx:t})}class c{_setWidth(e){this.width=e}_setHeight(e){this.height=e}snapCommit(e){const t=this.geoCtx.emitSnap.start("resize",{target:this.slotModel});e(),t.commit()}setWidth(e,t){const n=this.slotModel.style;"value"===e?/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)&&this.snapCommit((()=>{n.width=parseFloat(t)})):this.snapCommit((()=>{"auto"===e&&(n.widthAuto=t,n.widthFull=void 0),"full"===e&&(n.widthFull=t,n.widthAuto=void 0)}))}setHeight(e,t){"value"===e?/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)&&this.snapCommit((()=>{this.slotModel.style.height=parseFloat(t)})):this.snapCommit((()=>{"auto"===e?this.slotModel.style.heightAuto=t:"full"===e&&(this.slotModel.style.heightFull=t)}))}}function d({slotModel:e,geoCtx:t}){const n=e.style,l=(0,r.J2)(c,(i=>{i({slotModel:e,geoCtx:t,width:n._width||n.width||e.$el.offsetWidth,height:n._height||n.height||e.$el.offsetHeight})}),[n.width,n.height,n._width,n._height]),[d,u]=(0,i.useState)(!0),p=(0,i.useMemo)((()=>n.layout),[]);(0,i.useEffect)((()=>{p!==n.layout&&u(!d)}),[n.layout]);const f=n.widthAuto,h=n.widthFull,m=n.heightAuto,g=n.heightFull,y=e.isTypeOfModule()||e.isShowTypeOfModule();return o().createElement("div",{className:`${s.A.edt}`},o().createElement("div",{className:s.A.item},o().createElement("div",{className:s.A.tt},"宽"),o().createElement("input",{type:"text",value:l.width,onChange:e=>{l._setWidth(e.target.value)},onBlur:e=>{l.setWidth("value",e.target.value)},onKeyDown:e=>{"Enter"===e.key&&l.setWidth("value",e.target.value)}}),y?o().createElement("div",{className:s.A.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${f?s.A.active:""}`,onClick:e=>{l.setWidth("auto",!f)}},a.FI.fitContentW),o().createElement("span",{"data-mybricks-tip":"填充",className:`${h?s.A.active:""}`,onClick:e=>{l.setWidth("full",!h)}},a.FI.fullWidth)):null),o().createElement("div",{className:s.A.item},o().createElement("div",{className:s.A.tt},"高"),o().createElement("input",{type:"text",value:l.height,onChange:e=>{l._setHeight(e.target.value)},onBlur:e=>{l.setHeight("value",e.target.value)},onKeyDown:e=>{"Enter"===e.key&&l.setHeight("value",e.target.value)}}),y?o().createElement("div",{className:s.A.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${m?s.A.active:""}`,onClick:e=>{l.setHeight("auto",!m)}},a.FI.fitContentH),o().createElement("span",{"data-mybricks-tip":"填充",className:`${g?s.A.active:""}`,onClick:e=>{l.setHeight("full",!g)}},a.FI.fullHeight)):null))}},23171:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(34019),o=n(64012),r=n(64012);function s(e,t){const{emitItem:n,emitFrame:i}=t,o=[];!function e(t){t.comAry&&t.comAry.forEach((t=>{const n=t.runtime;n.upgrade&&o.push({title:n.title,version:n.upgrade.version,com:t}),t.slots&&t.slots.forEach((t=>{e(t)}))}))}(e);const s=i.getUpgradeInfo(e.id);if((null==s?void 0:s.length)>0&&o.push(...s),o.length>0)return r.createElement(a,{info:o,geoViewContext:t})}function a({info:e,geoViewContext:t}){const{viewModel:n,emitSnap:s,emitMessage:a,emitItem:l}=t,[c,d]=(0,o.useState)(e),u=c.map((e=>`${e.title}<label>(${e.version})</label>`)).join("、"),p=(0,o.useCallback)((e=>{const t=s.start("升级全部组件",{target:n});try{c.forEach((e=>{const{com:t}=e;l.upgrade(t,void 0,!0,!0)})),t.commit(),a.info(`共有 ${c.length} 个组件升级完成.`),d([])}catch(e){t.cancel()}}),[c]);return c.length>0?r.createElement("div",{className:i.A.info},r.createElement("div",{className:i.A.tt},e.length,"个组件可升级"),r.createElement("p",{dangerouslySetInnerHTML:{__html:u}}),r.createElement("button",{onClick:p},"升级全部")):r.createElement("div",{className:i.A.empty},"当前场景没有可升级的组件")}},289:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91716);class o{showNav(e){this.openRefEle=e;const t=(0,i.E9)(e,this.gvCtx.viewEle);this.showPageNav=t,this.gvCtx.context.registerBlur((()=>{this.openRefEle=void 0,this.showPageNav=void 0,this.adderClose=void 0}))}get pageMetaModel(){return this.gvCtx.context.pageMetaModel}hasScene(e){const{viewModel:t}=this.gvCtx;if(t.slots.some((t=>t.id==e)))return!0}newScene(e){this.pageMetaModel&&this.pageMetaModel.addPage(e)}addSceneInPage(e,t){this.pageMetaModel&&this.pageMetaModel.addScene(e,t)}getComAry(){var e;if(!this.pageMetaModel){const t=null===(e=this.gvCtx.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(e.isTypeOfDefinedCom())return{id:e.id,title:e.title}})).filter((e=>e)):[]}}getModuleAry(){var e;if(!this.pageMetaModel){const t=null===(e=this.gvCtx.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(e.isTypeOfModule())return{id:e.id,title:e.title}})).filter((e=>e)):[]}}getSceneAry(e){var t;if(this.pageMetaModel)return this.pageMetaModel.getPageAry();{const n=null===(t=this.gvCtx.viewModel)||void 0===t?void 0:t.slots;return n?n.map((t=>{if(e||!t.isTypeOfDefinedCom()&&!t.isTypeOfModule()){let e;return e=t.isShowTypeOfPopup()?"popup":t.isTypeOfModule()?"module":"scene",{id:t.id,title:t.title,type:e}}})).filter((e=>e)):[]}}}},79759:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(88307),o=n(57288),r=n(64012),s=n.n(r),a=n(91737),l=n(96966),c=n(52853),d=n(77050),u=n(40682),p=n(91206),f=n(289),h=n(16126);function m(){var e;const t=(0,a.lB)(d.A,{from:"parents"}),{context:n,viewModel:o,emitFrame:h,emitItem:m,emitMessage:y,focusArtboard:b,emitScenes:v,getCurModuleSlot:x}=t,A=(0,a.J2)(f.A,(e=>{e({gvCtx:t})})),w=n.isDebugMode(),E=n.configs,C=(0,a.HO)((()=>{const e=E.plugins;if(e&&Array.isArray(e)){const n=[];return e.forEach(((e,o)=>{var r,a,l;const c=null===(a=null===(r=null==e?void 0:e.contributes)||void 0===r?void 0:r.geoView)||void 0===a?void 0:a.appender;if(c){const o="object"==typeof c.icon?c.icon:c.title;n.push(s().createElement("div",{key:e.name,className:`${i.A.tab} ${(null===(l=t.activePlugin)||void 0===l?void 0:l.name)===e.name?i.A.btnActive:""}`,onClick:t=>_(t,e),"data-mybricks-tip":`{content:'${e.title}',position:'left'}`},s().createElement("span",null,o)))}})),n.length>0?s().createElement("div",{className:i.A.btnGroup},s().createElement("div",{key:"home",className:`${i.A.tab} ${t.activePlugin?"":i.A.btnActive}`,onClick:e=>_(e,"desn"),"data-mybricks-tip":"{content:'设计视图',position:'left'}"},s().createElement("span",null,l.FI.home)),n):null}})),_=(0,r.useCallback)(((e,i)=>{if(t.clearPops(),"object"==typeof i)t.activePlugin=i;else if(t.activePlugin=void 0,"desn"===i)n.setModeDesn();else if(w)n.setModeDesn();else{m.focus(void 0),requestAnimationFrame((e=>{n.setModeDebug()}))}}),[w]),M=(0,r.useCallback)((()=>{const e=n.currentRole||"dev";n.currentRole="proto"===e?"dev":"proto"}),[]),I=(0,r.useCallback)(((e,t)=>{t.createTempNote(e)}),[]),k=n.currentRole||"dev",P=[],F=t.context.getPluginAry();F&&F.forEach((e=>{var t,n;const i=null===(n=null===(t=e.contributes)||void 0===t?void 0:t.geoView)||void 0===n?void 0:n.note;"default"===(null==i?void 0:i.type)&&"function"==typeof i.render&&P.push(e)}));const S=null===(e=E.geoView.nav)||void 0===e?void 0:e.float;return s().createElement(s().Fragment,null,s().createElement(p.A,{ctx:A}),s().createElement("div",{className:i.A.toolbar},E.toplView?s().createElement(s().Fragment,null,s().createElement("div",{className:`${i.A.role} ${w?i.A.roleDisabled:""} ${i.A["role-"+k+"-switch"]}`,onClick:M,"data-mybricks-tip":`{content:'${"proto"===k?"切换到 开发模式":"切换到 原型模式"}',position:'left'}`},s().createElement("span",null,"proto"===k?"Pt":"Dev")),s().createElement("div",{className:`${i.A.btnGroup}`},s().createElement("div",{className:`${i.A.icon} ${w?i.A.debug:""} ${i.A["role-"+k]}\n                               ${w?i.A["role-"+k+"-debug"]:""}`,onClick:e=>_(e),"data-mybricks-tip":`{content:'${w?"返回设计":"调试当前场景"}',position:'left'}`},s().createElement("span",null,c.Yz),w?s().createElement("span",null,c.n1):null))):null,S?s().createElement(g,{ctx:A}):null,C,s().createElement("div",{className:i.A.normalbar},P.length>0?s().createElement("div",{className:`${i.A.btnGroup} ${i.A.comment}\n          ${w?i.A.showNavDisable:""}\n          ${t._templNote?i.A.btnActive:""}`},s().createElement("button",{onClick:(0,a.Wj)((e=>I(e,t))).stop,"data-mybricks-tip":"{content:'增加评论',position:'left'}"},l.FI.Cooperation)):null,s().createElement("div",{className:`${i.A.btnGroup} ${i.A.zoom}`},s().createElement("button",{onClick:(0,a.Wj)((e=>(0,u.n)(t))).stop,"data-mybricks-tip":"{content:'放大画布',position:'left'}"},l.FI.Down),s().createElement("div",{className:i.A.zoomInfo},100*o.style.zoom,"%"),s().createElement("button",{onClick:(0,a.Wj)((e=>(0,u.k)(t))).stop,"data-mybricks-tip":"{content:'缩小画布',position:'left'}"},l.FI.Down)))))}function g({ctx:e}){var t;const{gvCtx:n}=e,{context:c}=n,d=(0,r.useCallback)((()=>{n.showNavPanel||n.clearPops(),n.showNavPanel=!n.showNavPanel}),[]),u=(0,r.useCallback)((e=>{(0,h.RS)(e,{gvCtx:n})}),[]),p=(0,a.HO)((()=>{let e=0;return c.comLibAry&&c.comLibAry.forEach((t=>{if(!t.defined&&t.id!==l.ZD.id){t.latestComlib&&t.latestComlib.version!==t.version&&e++}})),e})),f=null===(t=c.configs.geoView.nav)||void 0===t?void 0:t.comShortcuts;let m;return f&&(m=f.map((e=>{const t=c.getComDef({namespace:e.namespace});if(!t)return;const n=t.title;let i=t.icon;return i=i&&"string"==typeof i&&(i.startsWith("http")||i.startsWith("data:image/"))?s().createElement("img",{src:i,alt:n}):i||l.FI.Coms,s().createElement("div",{className:`${o.A.button} ${o.A.btnNoBroder}\n          ${c.isDebugMode()?o.A.btnDisabled:""}\n        `,onClick:(0,a.Wj)((e=>u(t))).stop,onMouseDown:e=>{(0,h.AH)(t,e)},"data-mybricks-tip":`{content:'拖拽添加 ${n}',position:'left'}`},i)}))),s().createElement("div",{className:i.A.btnGroup},s().createElement("div",{className:`${o.A.button} ${o.A.btnNoBroder}\n          ${n.showNavPanel?o.A.btnActive:""}\n          ${c.isDebugMode()?o.A.btnDisabled:""}\n        `,onClick:(0,a.Wj)(d).stop,"data-mybricks-tip":"{content:'点击选择 组件与模块',position:'left'}"},l.FI.Coms,p?s().createElement("span",{"data-mybricks-tip":`{content:'${p} 个组件库待升级',position:'left'}`},p):null),m)}},91206:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(57288),o=n(80814),r=n(64012),s=n.n(r),a=n(30266),l=n(96966),c=n(91737);function d({ctx:e}){const{context:t,getCurModuleSlot:n}=e.gvCtx,r=t.isDebugMode(),l=t.configs;return l.isTypeOfMPA()?s().createElement(s().Fragment,null,s().createElement("div",{className:`${i.A.leftBtns} ${r?i.A.hidden:""}`},s().createElement(u,{ctx:e}),s().createElement(o.l,{ctx:e})),s().createElement(a.A,null)):s().createElement(s().Fragment,null,s().createElement("div",{className:`${i.A.leftBtns} ${r?i.A.hidden:""}`},s().createElement(o.A,{ctx:e}),l.geoView.scenes?s().createElement(o.l,{ctx:e}):null,s().createElement(p,{ctx:e})),s().createElement(a.A,null))}function u({ctx:e}){const t=(0,r.useCallback)((()=>{e.gvCtx.scrollToShowScene()}),[]);return s().createElement("div",{className:`${i.A.button} ${i.A.anchorForMPA}`,"data-mybricks-tip":"{content:'显示当前场景',position:'right'}",onClick:(0,c.Wj)(t).stop},l.FI.anchor)}function p({ctx:e}){const t=(0,r.useCallback)((()=>{e.gvCtx.scrollToShowScene()}),[]);return s().createElement("div",{className:`${i.A.button}`,"data-mybricks-tip":"{content:'显示当前场景',position:'right'}",onClick:(0,c.Wj)(t).stop},l.FI.anchor)}},30266:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(33313),o=n(23572),r=n(64012),s=n.n(r),a=n(91737),l=n(50528),c=n(77050);function d(){const e=(0,a.lB)(c.A,{from:"parents"}),{context:t,getCurModuleSlot:n}=e,r=n();if(!r)return;const d=[];r.isTypeOfEmpty()||r.hasRootTemplate()||d.push(s().createElement(u,{key:"home",type:"page",model:r,title:t.isDesnModeOfBluePrint()?"母版":r.title,gvCtx:e}));const p=t.focusModelAry.filter((e=>e instanceof l.s));let f,h;if(p&&(f=p[0],f&&f.$el&&f.runtime)){const n=t.getComDef(f.runtime.def);if(!f.locked&&f.focusArea){const{title:t,ele:n,editorPath:i}=f.focusArea;i&&i.forEach((({type:t,model:n,title:i,ele:o},r)=>{d.push(s().createElement(u,{key:r,type:t,model:n,ele:o,title:i,gvCtx:e}))})),d.push(s().createElement(u,{key:"my",type:"zone",model:f,ele:n,title:t||"区域",focused:!0,gvCtx:e}))}else h=(0,i.LP)(void 0,f,t),h&&h.forEach((({type:n,title:i,ele:o,model:r},a)=>{const l=!r.runtime.isBluePrint||t.isDesnModeOfBluePrint();d.push(s().createElement(u,{key:a,model:r,ele:o,type:n,handlable:l,title:i||"未命名",gvCtx:e}))})),d.push(s().createElement(u,{key:"my",type:"com",model:f,ele:f.$el,title:f.runtime.title||n.title,focused:!0,gvCtx:e}))}return s().createElement("ul",{className:o.A.navBar,style:{display:t.isDebugMode()?"none":"",left:67}},d)}function u({type:e,model:t,ele:n,title:i,handlable:c,gvCtx:d,focused:u}){const p=!1===c?{}:{"data-handlable":!0},f=(0,r.useCallback)((()=>{p["data-handlable"]&&("page"===e?d.emitItem.focus(t):t&&(t.focus(),n.click())),d.scrollToShowScene(!1)}),[t]),h=(0,r.useCallback)((o=>{if(p["data-handlable"]){let o;"page"===e||t&&(d.emitItem.hover(t,{title:i,ele:n}),o=t)}}),[t]),m=(0,r.useCallback)((()=>{p["data-handlable"]&&("page"===e||t&&d.emitItem.hover(void 0))}),[t]),g=(0,r.useCallback)((o=>{if(p["data-handlable"]){let r;"page"===e||t&&(d.emitItem.hover(t,{title:i,ele:n}),r=t);const s=(0,a.E9)(o.target,d.viewEle);d.showOutlineFor({id:r?r.id:void 0,x:s.x-2,y:s.y+s.h+2,com:r}),d.context.registerBlur((()=>{d.tryToClearOutline(!0)}),!0)}}),[]),y=[];return u&&y.push(o.A[e]),t instanceof l.s&&t.state.isOpened()&&y.push(o.A.opened),d._showOutlineFor&&(d._showOutlineFor.id||"page"!==e||y.push(o.A.hovered),t&&d._showOutlineFor.id===t.id&&y.push(o.A.hovered)),s().createElement("li",Object.assign({className:y.join(" ")},p,{onClick:(0,a.Wj)(f).stop}),s().createElement("label",{onMouseOver:(0,a.Wj)(h).stop,onMouseOut:(0,a.Wj)(m).stop},i||"(未定义)"),s().createElement("span",{onClick:(0,a.Wj)(g).stop,title:"点击显示大纲"},s().createElement("i",null),s().createElement("svg",{width:"10",height:"26"},s().createElement("path",{d:"M 0 0 L 8 13 L 0 26"}))))}},80814:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,l:()=>u});var i=n(64012),o=n.n(i),r=n(91737),s=n(57288),a=n(96336),l=n(97281),c=n(96966);function d({ctx:e}){const{gvCtx:t}=e,n=(0,i.useCallback)((n=>{e.openRefEle?e.openRefEle=void 0:(t.clearPops(),e.showNav(n.target))}),[]);return o().createElement(o().Fragment,null,o().createElement("div",{className:`${s.A.button} ${s.A.addModule} ${e.openRefEle?s.A.btnActive:""}`,onDoubleClick:(0,r.Wj)().stop,onClick:(0,r.Wj)((e=>n(e))).stop,"data-mybricks-tip":"{content:'大纲',position:'right'}"},"#"),o().createElement(a.A,{scenesCtx:e}))}function u({ctx:e,uiAdapter:t}){const{gvCtx:n}=e,{context:a,viewModel:d,getCurModuleSlot:u,emitSnap:p}=n,f=a.configs.isTypeOfMPA(),h=(0,i.useCallback)((t=>{if(e.showSceneAdderMenu=!e.showSceneAdderMenu,e.showSceneAdderMenu){let i;n.clearPops(),a.popMenu((({close:t})=>(a.configs.isTypeOfMPA()&&(i=p.start("新建场景",{target:d.getCurPageSlot()})),(0,l.N8)({close:t,finish({id:t,title:o,type:r,slot:s,frame:l}){e.showPageNav=void 0,a.configs.isTypeOfMPA()?("module"===r?e.newScene({id:t,title:o,type:r,slot:s,frame:l}):e.addSceneInPage(d.curHostId,{id:t,title:o,type:r,slot:s,frame:l}),i.commit(),i=void 0,n.scrollToShowScene()):e.newScene({id:t,title:o,type:r,slot:s,frame:l})}},n))),t.target,{position:"right,top",xOffset:9},(()=>{e.showSceneAdderMenu=void 0,i&&i.cancel(!0)}))}else n.clearPops()}),[]),m=f&&n.isOutlineTypeOfModules();if(!t){const t=d.curHostId,n=t&&!d.getSlot(t).isTypeOfModule();return o().createElement("div",{className:`${s.A.button} ${s.A.pageAdder}\n                ${f&&!n?s.A.btnDisabled:""}\n                ${e.showSceneAdderMenu?s.A.btnActive:""}\n                `,style:{display:m?"none":""},"data-mybricks-tip":"{content:'新建场景',position:'right'}",onClick:(0,r.Wj)(h).stop},c.FI.PageAdder2)}t({popMenu:h})}},96336:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(74486),s=n(76033),a=n(97281),l=n(91737),c=n(96966),d=n(62253);let u;function p({scenesCtx:e}){u=e;const{gvCtx:t}=e;if(u.openRefEle||t._showOutlineFor)return(0,s.createPortal)(o().createElement(f,null),t.viewEle.parentElement)}function f(){const{gvCtx:e}=u,{viewModel:t,emitSnap:n,context:s,emitScenes:p,focusPage:f,emitItem:h,emitMessage:m}=e,[g,y]=(0,i.useState)(""),b=(0,i.useCallback)((()=>{const{id:t,title:n,slot:i,frame:o}=(0,a.a3)(e);u.newScene({id:t,title:n,slot:i,frame:o}),m.info(`页面${n}已创建`)}),[]),v=(0,i.useCallback)(((e,n)=>{t.curHostId!==e.id&&(u.hasScene(e.id)?p.setCurHostId(e.id):p.load(e.id).then((()=>{p.setCurHostId(e.id)})))}),[]);let x;const A=u.showPageNav,w=s.configs.isTypeOfMPA(),E=e._showOutlineFor;return E?o().createElement("div",{className:`${r.A.pageNav} ${r.A.pageNavForTemp}`,style:{left:E.x,top:E.y},onWheel:(0,l.Wj)().stop,onClick:(0,l.Wj)((e=>{u.adderClose&&u.adderClose()})).stop},o().createElement("div",{className:r.A.outline},o().createElement(d.A,{rootCom:E.com}))):o().createElement("div",{className:`${r.A.pageNav} ${A?"":r.A.hidden}`,style:{left:A?A.x:""},onWheel:(0,l.Wj)().stop,onClick:(0,l.Wj)((e=>{u.adderClose&&u.adderClose()})).stop},o().createElement("div",{className:r.A.titleBar},o().createElement("span",null,w?"页面":"场景"),w?o().createElement("div",{className:`${r.A.btns} ${u.adderClose?r.A.btnsActive:null}`},o().createElement("button",{onClick:(0,l.Wj)((e=>b(e))).stop,"data-mybricks-tip":"{content:'新建页面',position:'right'}"},"+")):null),o().createElement("div",{className:r.A.pages},u.getSceneAry(!0).map(((e,n)=>{if((""===g||-1!==e.title.indexOf(g))&&!e._deleteTime){if("module"===e.type||"com"===e.type)return;const i=t.slots.find((t=>t.id==e.id));let s,a;i&&i.isOpening()&&(s=t.curHostId===i.id,s&&(x=i)),e.type&&"scene"!==e.type&&"normal"!==e.type?"popup"===e.type?a=c.FI.Popup:"module"!==e.type&&"com"!==e.type||(a=c.FI.Module):a=c.FI.Scene;const d=i&&i.isOpening();let u;return o().createElement("div",{key:e.id,className:`${r.A.page} ${i?r.A.editing:""}\n                     ${d?"":r.A.inVisible}`,onClick:(0,l.Wj)((t=>v(e,n))).stop},o().createElement("span",{className:r.A.checked},s?c.FI.CheckMark:null),o().createElement("span",{className:r.A.icon},a),o().createElement("span",{className:r.A.title},e.title),o().createElement("div",{className:r.A.handlers},u))}}))),o().createElement("div",{className:r.A.outline},o().createElement(d.A,null)))}},97281:(e,t,n)=>{"use strict";n.d(t,{N8:()=>d,a3:()=>c});var i=n(91737),o=n(96966),r=n(57288),s=n(64012),a=n.n(s),l=n(48555);function c(e,t){const{context:n,viewModel:o,emitFrame:r}=e,s=(0,i.uR)(),a=`${t||"页面"}${n.pageMetaModel.getAllPageLength()+1}`;return{id:s,title:a,slot:o.addSlot({id:s,title:a,type:"empty",deletable:!0}),frame:r.bindFrame({id:s,title:a,type:"empty"})}}function d({close:e,finish:t},n){var i;const{context:o,viewModel:s,focusArtboard:c,emitItem:d}=n,p=o.configs,f=p.geoView.scenes,h=o.configs.isTypeOfMPA();function m(){e();const{id:i,title:o,type:r,slot:s,frame:a}=(0,l.F)(n);t&&t({id:i,title:o,type:"module",slot:s,frame:a}),requestAnimationFrame((()=>{c(i),d.focus(s)}))}return n.isViewTypeOfModule()?a().createElement("div",{className:r.A.popMenu},a().createElement("div",{onClick:m},"模块")):a().createElement("div",{className:r.A.popMenu},null===(i=f.adder)||void 0===i?void 0:i.map(((i,o)=>i&&i.type&&i.title?a().createElement("div",{key:o,onClick:o=>{!function(i){let o=`新建 ${i.title}`;const{id:r,slot:a,frame:l}=u(i,o,e,n);let p;if(t&&t({id:r,title:o,type:i.type,slot:a,frame:l}),h){const e=s.getSlot(s.curHostId);p=1===e.slots.length}else p=1===s.slots.length;requestAnimationFrame((()=>{c(r),d.focus(a),p?n.scrollToShowScene(!0):n.scrollToShowScene()}))}(i)}},i.title):a().createElement("div",{key:o,className:r.A.sper}))),p.isTypeOfMPA()?null:a().createElement(a().Fragment,null,a().createElement("div",{className:r.A.sper}),a().createElement("div",{onClick:m},"模块")))}function u(e,t,n,r,s){var a,l,c,d;const{context:u,viewModel:p,emitFrame:f,emitMessage:h,getCurModuleSlot:m}=r,g=u.configs.isTypeOfMPA(),y=m(),b=null==y?void 0:y.style,v=(0,i.uR)();let x,A,w;if(g&&!s&&(w=p.getCurPageSlot()),"ai"===e.type){if(e.template&&e.template.namespace){if(!u.getComDef({namespace:e.template.namespace}))return void h.error(`未找到模板组件（namespace=${e.template.namespace}).`)}x=(w||p).addSlot({id:v,title:t,showType:"popup",template:e.template,style:{layout:(null===(a=e.template)||void 0===a?void 0:a.asRoot)?void 0:"smart",left:(null==b?void 0:b.left)||0,top:(null==b?void 0:b.top)||0},deletable:!0}),w&&(x.hostSlotId=w.id),x._rendered=0,A=f.bindFrame({id:v,title:t,type:"normal",inputs:[{id:"open",title:"打开",schema:{type:"follow",editable:!0}}],outputs:[]},null==w?void 0:w.id)}else if("popup"===e.type){if(e.template&&e.template.namespace){if(!u.getComDef({namespace:e.template.namespace}))return void h.error(`未找到模板组件（namespace=${e.template.namespace}).`)}x=(w||p).addSlot({id:v,title:t,showType:"popup",template:e.template,style:{layout:(null===(l=e.template)||void 0===l?void 0:l.asRoot)?void 0:"smart",left:(null==b?void 0:b.left)||0,top:(null==b?void 0:b.top)||0},deletable:!0}),w&&(x.hostSlotId=w.id),x._rendered=0,A=f.bindFrame({id:v,title:t,type:"popup",inputs:[{id:"open",title:"打开",schema:{type:"follow",editable:!0}}],outputs:[{id:"commit",title:"确定",schema:{type:"follow"}},{id:"cancel",title:"取消",schema:{type:"any"}},{id:"apply",title:"应用",schema:{type:"follow"}},{id:"close",title:"关闭",schema:{type:"follow"}}]},null==w?void 0:w.id)}else if("normal"===e.type){const n=u.configs.geoView;let i;(null===(c=e.template)||void 0===c?void 0:c.asRoot)||(i=(null===(d=e.template)||void 0===d?void 0:d.layout)||(null==n?void 0:n.layout)||"smart"),x=(w||p).addSlot({id:v,title:t,template:e.template,style:{layout:i,width:e.width,height:e.height,widthAuto:e.widthAuto,heightAuto:e.heightAuto,widthFull:e.widthFull,heightFull:e.heightFull,overflowX:"hidden",overflowY:"auto"},deletable:!0}),x.bizType=e.bizType,e.layout&&(x.style.layout=e.layout),w&&(x.hostSlotId=w.id);let r=[];Array.isArray(e._inputs)&&(r=e._inputs);let s=[];s=Array.isArray(e.events)?e.events:o.a8,A=f.bindFrame({id:v,title:t,inputs:e.inputs||[],outputs:e.outputs,_inputs:r,events:s},null==w?void 0:w.id)}return{id:v,slot:x,frame:A}}},24557:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{get context(){return this.viewContext.context}get emitLogs(){return this.viewContext.emitLogs}get emitPage(){return this.viewContext.emitPage}get emitMessage(){return this.viewContext.emitMessage}get emitItem(){return this.viewContext.emitItem}get emitVariable(){return this.viewContext.emitVariable}get emitViews(){return this.viewContext.emitViews}get emitPermission(){return this.viewContext.emitPermission}get emitSnap(){return this.viewContext.emitSnap}get emitIOCAbout(){return this.viewContext.emitIOCAbout}}},8171:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var i,o=n(91737),r=n(24412),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=i=class{constructor(e){e&&(this.type=e.type,this.ref=e.ref)}static create(e){if(e.type.toLowerCase().match(/^(top|left|center|right|bottom|middle|width|height)$/))return new i(e)}};l=i=s([(0,o.yL)(r.MS+"geo.ConstraintModel"),a("design:paramtypes",[Object])],l)},60607:(e,t,n)=>{"use strict";n.d(t,{A:()=>y,c:()=>b});var i=n(91737),o=n(96966),r=n(50528),s=n(23204),a=n(91716),l=n(84443),c=n(64012),d=n(98761),u=n(3144),p=n(24557),f=n(61111),h=n(24962),m=n(91237),g=n(64012);function y({renderKey:e,model:t,mode:n,data:a,_inputs:u,inputs:f,_outputs:h,outputs:y,scopePath:v,frameLabel:x,iterator:A,viewContext:w,template:E,index:C}){const{context:_,viewModel:M,emitLogs:I,emitItem:k}=w,P=_.getComDef(t.runtime.def),F=(0,i.J2)(p.A,(e=>{if(P&&!t.runtime.upgrade&&(t.runtime.def.version||(t.runtime.def.version=P.version),t.runtime.def.version!==P.version)){const e=`${t.runtime.def.version} > ${P.version}`;t.runtime.upgrade={info:e,version:P.version}}t.isBluePrint&&(t.runtime.isBluePrint=!0),e({viewContext:w,model:t,comDef:P})}),{to:"children"});if((0,c.useEffect)((()=>{F.comDef&&t.runtime.def.version!==F.comDef.version&&(F.comDef=_.getComDef(t.runtime.def))}),[t.runtime.def.version]),(0,c.useEffect)((()=>{const e=t.style,n=new ResizeObserver((n=>{if(!t.$el||!t.$el.isConnected||!t.isVisible())return;t.root._offScreen||n.forEach((n=>{const i=n.contentRect,o=Math.ceil(i.width),r=Math.ceil(i.height);o===e.widthFact&&r===e.heightFact||(e.widthFact=o,e.heightFact=r,t.notifyEleChanged(!0),t.state.isResizing()&&e.xCenter&&(e.xCenter=void 0))}))}));if(t.$el&&n.observe(t.$el),t.isStyleLayoutAbsolute()&&(void 0!==e.widthFact&&void 0!==e.heightFact||setTimeout((()=>{e.widthFact=t.$el.offsetWidth,e.heightFact=t.$el.offsetHeight})),void 0!==e.left&&t.$el&&t.parent.$el)){const n=t.parent.$el.offsetWidth,i=Math.abs((n-t.$el.offsetWidth)/2-e.left);e.xCenter?i>2&&(e.xCenter=void 0):i<2&&(e.xCenter=!0)}const i=new IntersectionObserver((e=>{if(e.length>0){const n=e[e.length-1];n.target.isConnected&&(n.isIntersecting?t._offScreen=void 0:t._offScreen=!0)}}));let o,s;const a=e=>{o||(o=!0,_.focusModel&&_.focusModel instanceof r.s&&(s=_.focusModel,k.focus(void 0)))},l=e=>{o=void 0,s&&(k.focus(s),s=void 0)},c=t.$el;return c&&(i.observe(c),c.onwheel=e=>!!t.state.isOpened()||(e.preventDefault(),!1),c.addEventListener("scroll",a,!0),c.addEventListener("scrollend",l,!0)),(0,m.gh)(F),()=>{const e=t.$el;e&&(n.unobserve(e),i.unobserve(e),e.removeEventListener("scroll",a,!0),e.removeEventListener("scrollend",l,!0),t._offScreen=!0)}}),[]),(0,c.useEffect)((()=>{const e=t.runtime;e.geo=t,e.title||(e.title=P.title),t.name||(t.name=(0,i.uR)());const n=t.style,o=n.width,r=n.height;return"100%"===o&&(n.widthFull=!0),"auto"!==o&&"fit-content"!==o||n.widthFull||(n.widthAuto=!0),"auto"!==r&&"fit-content"!==r||(n.heightAuto=!0),"100%"===r&&(n.heightFull=!0),()=>{}}),[t.selectComs]),!P)return I.error("组件定义错误",`未找到组件(${t.runtime.def.namespace}@${t.runtime.def.version})定义.`),g.createElement(d.A,{model:t,type:"error",msg:`未找到组件(${t.runtime.def.namespace}@${t.runtime.def.version})定义.`});if(_.configs.toplView){const e=t.runtime.topl;if(!((P.namespace===o.ZD.coms.selection||e&&e.isValid&&e.isValid())&&e.parent)){const e=`组件（${t.runtime.title}）格式错误.`;return I.error("组件错误",e),g.createElement(d.A,{model:t,type:"error",msg:e})}}const S=t.style;return P.namespace===o.ZD.coms.module?g.createElement(l.A,{mouseDown:b,index:C}):t.isPopup||"none"!==S.display||S.visibleOnce?g.createElement(s.A,{key:t.id,data:a,mode:n,_inputs:u,inputs:f,_outputs:h,outputs:y,mouseDown:b,template:E,index:C}):void 0}function b(e,t,n){const r=t.model;e.shiftKey||r.lockedSilent?function(e,t){const{model:n,viewContext:o}=t,{emitItem:r,viewModel:s,getCurModuleSlot:l}=o,c=s.style.zoom,d=l();if(!d)return;let u,p,m=n;const g=d.$el;(0,i.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:s},dpo:{dx:l,dy:d},adpo:{adx:y,ady:b}},v)=>{var x;if("moving"==v){if(!p){o.selection&&r.blur();const e=n.root,t=(0,a.E9)(g);if(u=(0,h.x)({rootView:e,ex:i+t.x,ey:s+t.y,zoom:c}),!u)return;m=u.parent,o.selection={inCom:m,justNow:!0,from:{x:i,y:s},to:{x:i,y:s},coms:[]},p=o.selection}p.to={x:i,y:s};const{from:e,to:t,coms:l}=p,d=Math.min(e.x,t.x),f=Math.max(e.x,t.x)-d,y=Math.min(e.y,t.y),b=Math.max(e.y,t.y)-y;u.comAry.forEach((e=>{const t=e.$el,n=(0,a.E9)(t,g),{x:i,y:o,w:r,h:s}=n,c=i,u=o;if(Math.max(c+r,d+f)-Math.min(c,d)<f+r&&Math.max(u+s,y+b)-Math.min(u,y)<b+s)l.indexOf(e)<0&&(l.push(e),e.state.selected());else{const t=l.indexOf(e);t>=0&&(l.splice(t,1),e.state.cancelSelected())}}))}if("finish"==v)if(p&&(null===(x=p.coms)||void 0===x?void 0:x.length)>0)if(1===p.coms.length){const e=p.coms[0];e.state.cancelSelected(),requestAnimationFrame((t=>{o.selection=void 0,r.focus(e)}))}else requestAnimationFrame((e=>{p.coms.sort(((e,t)=>u.comAry.indexOf(e)-u.comAry.indexOf(t))),r.focus(p.coms[0]),(0,f.zq)(o,p.coms,!0),p.justNow=!1,p=void 0}));else p&&requestAnimationFrame((()=>{o.selection=void 0,p.justNow=!1,p=void 0}))}),{relDom:g})}(e,t):function(e,t,n){const{model:r,viewContext:s}=t,{context:l,viewModel:c,emitSnap:d,emitItem:p,emitMessage:m}=s;if(r.isPopup)return;if(r.runtime.isBluePrint){if(!l.isDesnModeOfBluePrint())return}else if(l.isDesnModeOfBluePrint())return;let g,y,b,v,x,A,w,E,C,_,M,I=c.style.zoom,k=!1,P=r;(0,i.zg)(e,(({po:{x:e,y:t},epo:{ex:c,ey:F},dpo:{dx:S,dy:T},adpo:{adx:O,ady:D}},N)=>{var j;if(n&&(c+=n.dx,F+=n.dy),"moving"==N){if(!k){if(s.selection&&(M=(0,f.P1)(s,r.parent),s.selection.coms.forEach((e=>{e.state.moving()})),P=M),x=P.$el,!x)return;k=!0,s.selection||l.focusModel===r||p.blur(),C=r.root,b=(0,a.E9)(C.$el),E=(0,a.E9)(P.parent.$el),y=P.style,void 0!==y.right&&(y.rightFrozen=!0,y.left=P.$el.offsetLeft,y.right=void 0),void 0!==y.bottom&&(y.bottomFrozen=!0,y.top=P.$el.offsetTop,y.bottom=void 0),A={x:y.left,y:y.top,positionOfAbsolute:P.isStyleLayoutAbsoluteOrFixed()},w=P.parent;const e=P.parent.parent;return e&&e.isGroup()&&(_=e),void p.move(P,"start")}if(P.state.moving(),P.isStyleLayoutAbsoluteOrFixed()){g||(g=d.start("移动组件",{target:P,ignore({target:e}){if(P.isSelection()&&e){const t=(0,i.AF)(e);if(t instanceof o.JX&&t.id===P.id)return!0;if(t===(0,i.AF)(y))return!0}}}));const e=Math.ceil(A.x+O/I),t=Math.ceil(A.y+D/I);void 0!==y.right?y.right=E.w-e-x.offsetWidth:y.left=e,void 0!==y.bottom?y.bottom=E.h-t-x.offsetHeight:y.top=t}if(v=_||(null===(j=P.parent.parent)||void 0===j?void 0:j.locked)?P.parent:(0,h.x)({rootView:C,ex:c,ey:F,zoom:I,except:P}),s.curHoverSlot=v,v&&v.root.id===P.root.id){const e=P.parent;let t=P.parent.id===v.id;e.parent&&v.parent&&e.parent.id!==v.parent.id&&(t=!1)}_&&_.state.moving(),p.move(P,"ing",{x:c,y:F})}if("finish"==N){if(s.curHoverSlot=void 0,w&&w.style.isLayoutAbsoluteOrSmart()&&w.comAry.forEach((e=>{e!==P&&e.state.enable()})),!P.state.isMoving())return;if(requestAnimationFrame((e=>{y.clearSuggest()})),P.isStyleLayoutAbsolute()&&(y.rightFrozen&&(y.rightFrozen=void 0,y.right=E.w/I-y.left-x.offsetWidth,y.left=void 0),y.bottomFrozen&&(y.bottomFrozen=void 0,y.suggestBottom?y.bottom=E.h/I-y.suggestBottom:y.bottom=E.h/I-y.top-x.offsetHeight,y.top=void 0),_)){_.state.enable();const e=_.slots[0].comAry,t=_.style;let n=_.$el.offsetWidth,i=_.$el.offsetHeight;e.forEach((e=>{n=Math.min(n,e.style.left||0),i=Math.min(i,e.style.top||0)})),0!==n&&(t.left+=n,e.forEach((e=>{e.style.left-=n}))),0!==i&&(t.top+=i,e.forEach((e=>{e.style.top-=i})));let o=0,r=0;e.forEach((e=>{o=Math.max(o,e.style.left+e.$el.offsetWidth),r=Math.max(r,e.style.top+e.$el.offsetHeight)})),t.width=o,t.height=r,t.xCenter=void 0}P.state.enable();const e=p.move(P,"finish");let t,n=e;Array.isArray(e)&&(n=e.find((e=>e&&void 0!==e.insertOrder))),v&&(t=!0);const i=(0,a.E9)(C.$el),o=50;let h=!1;if(c<i.x||c>i.x+i.w||F<i.y-o||F>i.y+i.h+o?P.runtime.isTemp||(v=C,t=!0,h=!0):P.cancelIsTemp(),t&&function(e,t){if(t)return(null==t?void 0:t.parent)===e||e.parent===t||t.parent&&e.style.isPositionFixed()||t.parent&&e.runtime.isBluePrint&&!t.parent.runtime.isBluePrint?0:1;return-1}(P,v)){const e=v.isRoot()?null:v.parent.id,t=l.getComDef({namespace:P.runtime.def.namespace});if(!(0,u.Us)(v,t.schema))return void m.warn("组件类型不匹配");g||(g=d.start("移动组件",{target:P})),P.isSelection()?(p.cutToSlot(P.id,e,v.id,null==n?void 0:n.insertOrder),P.selectComs.forEach((t=>{p.cutToSlot(t.id,e,v.id,null==n?void 0:n.insertOrder)}))):p.cutToSlot(P.id,e,v.id,null==n?void 0:n.insertOrder)}else t&&n&&void 0!==n.insertOrder&&(g||(g=d.start("移动组件",{target:P})),p.changeOrder(P,n.insertOrder));const k=P.parent;if(P.isStyleLayoutAbsoluteOrFixed()){if(k!==w)if(A.positionOfAbsolute){const e=(0,a.E9)(P.$el,C.$el),t=(0,a.E9)(k.$el,C.$el),n={x:e.x-t.x,y:e.y-t.y},i=Math.ceil(n.x/I),o=Math.ceil(n.y/I);P.isSelection()?(y.left=i,y.top=o):(y.rightFrozen?(y.rightFrozen=void 0,y.left=void 0,y.right=t.w-x.offsetWidth-i):y.left=i,y.bottomFrozen?(y.bottomFrozen=void 0,y.top=void 0,y.bottom=t.h-x.offsetHeight-o):y.top=o)}else{const e=(0,a.E9)(k.$el),t={x:c-e.x,y:F-e.y};y.left=Math.ceil(t.x/I),y.top=Math.ceil(t.y/I),y.widthFull&&(y.width=x.offsetWidth),y.heightFull&&(y.height=x.offsetHeight)}else void 0!==y.suggestLeft&&(y.left=y.suggestLeft),void 0!==y.suggestTop&&(y.top=y.suggestTop),void 0!==y.suggestRight&&(y.left=y.suggestRight-x.offsetWidth),void 0!==y.suggestBottom&&(y.top=y.suggestBottom-x.offsetHeight);y.xCenter=void 0,y.yCenter=void 0;let e=y.left;void 0!==y.right&&(e=k.$el.offsetWidth-x.offsetWidth-y.right);let t=y.top;void 0!==y.bottom&&(t=k.$el.offsetHeight-x.offsetHeight-y.bottom);if(!(0,f.pu)(r,{x:e,y:t})){const e=Math.ceil((x.parentElement.offsetWidth-x.offsetWidth)/2);void 0!==y.left?Math.abs(y.left-e)<=1&&(y.xCenter=!0):void 0!==y.right&&Math.abs(y.right-e)<=1&&(y.xCenter=!0)}}else k!==w&&A.positionOfAbsolute&&(P.style.widthFull&&(y.width="100%"),P.style.heightFull&&(y.height="100%"));if(h&&(P.isSelection()?P.selectComs.forEach((e=>{e.setIsTemp()})):(P.setIsTemp(),y.left=c/I-b.x,y.top=F/I-b.y)),P.isStyleLayoutAbsoluteOrFixed()){const e=(0,a.E9)(x,C.$el);y.isPositionFixed()&&(void 0!==y.bottom?y.bottomAsFixed=i.h-e.y-x.offsetHeight:y.topAsFixed=e.y,void 0!==y.right?y.rightAsFixed=i.w-e.x-x.offsetWidth:y.leftAsFixed=e.x)}g&&g.commit(),setTimeout((()=>{P.notifyEleChanged(!0),M?(s.selection&&s.selection.coms.forEach((e=>{e.state.enable()})),p.delete(M)):P.state.isFocused()||p.reFocus(P)}))}}),{})}(e,t,n)}},10617:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(50528),o=n(91737),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class a extends i.s{constructor(e){super(void 0,e),this.forkAry=[]}}r([o.Nt,s("design:type",Object)],a.prototype,"_pluginExtJsx",void 0),r([o.Nt,s("design:type",Array)],a.prototype,"forkAry",void 0)},50528:(e,t,n)=>{"use strict";n.d(t,{s:()=>h});var i,o=n(91737),r=n(75856),s=n(96966),a=n(24412),l=n(3144),c=n(24557),d=n(8171),u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class f{constructor(e,t,n,i){this._eleChanged=0,this.ele=e,this.selectors=t,this.editorPath=n,this.title=i,this.elePre=e.previousSibling,this.eleNext=e.nextSibling}isSlot(){if(this.ele.getAttribute("data-slot-id"))return!0}isValid(){return this.ele.isConnected}clear(){this.ele.classList.remove(c.A.cssComNormal.editableFocus)}listenForEleChanged(){return this._eleChanged}notifyEleChanged(e){e?requestAnimationFrame((e=>{this._eleChanged=Math.random()})):this._eleChanged=Math.random()}}let h=class extends s.PQ{initAgain(){this._needInitAgain=!0}clearFocusArea(){this.focusArea=void 0}clearError(){this.error=void 0}get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}get style(){if(this.proxySlot&&this.proxySlot.style){return this.runtime.model.style}return this.runtime.model.style}set style(e){this.runtime.model.style=e}isModule(){return this.runtime.def.namespace===s.ZD.coms.module}isGroup(){return this.runtime.def.namespace===s.ZD.coms.group}isSelection(){return this.runtime.def.namespace===s.ZD.coms.selection}setIsTemp(){this.runtime.isTemp=!0,this.slots&&this.slots.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{e.setIsTemp()}))}))}cancelIsTemp(){this.runtime.isTemp=void 0,this.slots&&this.slots.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{e.cancelIsTemp()}))}))}hasConstraints(e){if(this.constraints)return this.constraints.find((t=>t.type===e))}addConstraint(e){const t=d.$.create(e);if(t){if(this.constraints){const e=this.constraints.findIndex((e=>e.type===t.type));e>=0&&this.constraints.splice(e,1)}else this.constraints=[];this.constraints.push(t)}}removeConstraint(e,t){if(this.constraints){const t=this.constraints.findIndex((t=>{if(t.type===e)return!0}));t>=0&&this.constraints.splice(t,1)}}hasSlotWithAbsLayout(){var e;return null===(e=this.slots)||void 0===e?void 0:e.find((e=>{if(e.style.isLayoutAbsoluteOrSmart())return!0}))}addBlurFn(e){this.state.isFocused()?this._blurFns.push(e):e()}listenForFocusAreaDeleted(){return this._focusAreaDeleted}notifyFocusAreaDeleted(){this._focusAreaDeleted=~this._focusAreaDeleted}isTypeOfCloudCom(){}forceRefresh(){this.runtime._upgrade=Math.random()+""}isEditorReserved(e,t){if(this.reservedEditorAry){const n=this.reservedEditorAry[e];if(n)return n.find((e=>e.id===t))}}reserveEditor(e,t){if(!this.isEditorReserved(e,t)){this.reservedEditorAry=this.reservedEditorAry||{};let n=this.reservedEditorAry[e];n||(n=this.reservedEditorAry[e]=[]),n.push({selector:e,id:t})}}abandonEditor(e,t){if(this.isEditorReserved(e,t)){this.reservedEditorAry=this.reservedEditorAry||{};let n=this.reservedEditorAry[e];n&&n.find(((e,i)=>{e.id===t&&n.splice(i,1)}))}}isStylePositionOfDefault(){return this.style.isStylePositionOfDefault()}isStyleLayoutSmart(){const e="smart"==this.parent.style.getLayout();return this.style.isPositionAbsolute()||!this.style.position&&e}isStyleLayoutAbsolute(){const e=this.parent.style.getLayout(),t="absolute"==e||"smart"==e;return this.style.isPositionAbsolute()||!this.style.position&&t}isStyleLayoutFixed(){return this.style.isPositionFixed()}isStyleLayoutAbsoluteOrFixed(){var e;const t=null===(e=this.parent.style)||void 0===e?void 0:e.isLayoutAbsoluteOrSmart();return this.runtime.isTemp||this.style.isPositionAbsoluteOrFixed()||!this.style.position&&t}isVisible(){const e=this.$el;if(e&&"hidden"!==e.style.visibility&&e.clientWidth>0&&e.clientHeight>0)return!0}isVisibleNow(){var e;if(this.$el&&"hidden"!==this.$el.style.visibility){if(!(null===(e=this.parent)||void 0===e?void 0:e.parent))return!0;if(this.parent.parent.isVisibleNow())return!0}return!1}getFocusedSelector(){const e=this.focusArea;if(e&&e.isValid()){return Object.keys(e.selectors)[0]}return a.A9}constructor(e,t){if(super(),this.init=!1,this.initDom=!1,this._needInitAgain=!1,this._focusAreaDeleted=0,this._blurFns=[],this.events={click:[],mouseenter:[]},this.debugs={},this._eleChanged=0,e){let t;e instanceof s.Al?(t=e.def,this.name=e.name,this.runtime=e.runtime,e.asRoot&&(this.asRoot=e.asRoot)):e instanceof s.JX&&(this.runtime=e),t&&t.slots&&t.slots.length>0&&t.slots.forEach((e=>{const{id:t,title:n,type:i,layout:o,schema:r,capacity:s,defer:a,default:l}=e;a||this.addSlot({id:t,title:n,type:i,layout:o,schema:r,capacity:s,asDefault:l})}))}this.getConfigs=void 0,this.getListeners=void 0,t?this.name=t:this.name||(this.name=(0,o.uR)())}getContentWidth(){return this.$el.firstChild.offsetWidth}listenForEleChanged(){return this._eleChanged}notifyEleChanged(e){e?requestAnimationFrame((e=>{this._eleChanged=Math.random()})):this._eleChanged=Math.random()}setFocusArea(e,t,n,i){this.focusArea=new f(e,t,n,i)}get root(){let e=this.parent;for(;e&&("function"!=typeof e.isRoot||!e.isRoot());)e=e.parent;return e}sayHi(e){this._sayHi=!0,this.setVisibleOnceVisible(),setTimeout((e=>{this._sayHi=void 0}),1500)}searchCom(e){if(this.slots){let t;return this.slots.find((n=>{if(n.comAry)return n.comAry.find((n=>n.id===e?(t=n,!0):(t=n.searchCom(e),!!t)))})),t}}getSlot(e){if(this.slots)return this.slots.find((t=>t.id===e))}removeSlot(e){if(this.slots){let t;const n=this.slots.find(((n,i)=>{if(n.id===e)return t=i,!0}));if(!n)throw new Error(`Slot(id=${e}) not found.`);return this.slots.splice(t,1),n}}setZIndex(e){this.parent.setComZIndex(this.id,e)}focus(){this.state.focus(),this.state.cancelAIWorkingDone(),this.setVisibleOnceVisible(),this.asRoot&&this.lockedSilent&&this.parent.focus()}addSlot({id:e,schema:t,title:n,type:i,capacity:o,layout:s,style:a,asDefault:l,asRoot:c}){const d=new r.A({id:e,schema:t,capacity:o,title:n,layout:s,style:a,asDefault:l,asRoot:c,type:i});return d.parent=this,(this.slots=this.slots||[]).push(d),d}addProxySlot(e){return(this.slots=this.slots||[]).push(e),e}invisible(){m(this,"hidden")}setVisible(){m(this,"visible")}setVisibleOnceVisible(){var e,t;this.style.isVisible()||(this.style.visibleOnce=!0),(null===(e=this.parent)||void 0===e?void 0:e.parent)&&(null===(t=this.parent)||void 0===t||t.parent.setVisibleOnceVisible())}hasFocusedChildren(){if(this.slots)return this.slots.find((e=>{if(e.comAry)return e.comAry.find((e=>!!e.state.isFocused()||e.hasFocusedChildren()))}))}hasFocusedParent(){var e;const t=null===(e=this.parent)||void 0===e?void 0:e.parent;return!!t&&(!!t.state.isFocused()||t.hasFocusedParent())}setVisibleOnceHidden(){var e,t;this.state.isFocused()||this.hasFocusedChildren()||(this.style.visibleOnce&&(this.style.visibleOnce=void 0,m(this,"hidden")),this.hadDestroyed()||(null===(e=this.parent)||void 0===e?void 0:e.parent)&&(null===(t=this.parent)||void 0===t||t.parent.setVisibleOnceHidden()))}blur(){this.state.cancelAIWorkingDone(),this.state.isFocused()&&(this.isSelection()&&(this.selectComs=void 0,this.parent.removeComponent(this)),requestAnimationFrame((e=>{this.setVisibleOnceHidden()})),this.focusArea&&this.focusArea.clear(),this.state.blur(),this.asRoot&&this.lockedSilent&&this.parent.blur(),requestAnimationFrame((e=>{this.state.isFocused()||this._blurFns.length>0&&(this._blurFns.forEach((e=>{try{e()}catch(e){console.error(e)}})),this._blurFns=[])})))}cutIn(e,t,n){if(this.slots){const i=this.slots.find((e=>e.id===t));if(i)return i.cutIn(e,n),!0}}toJSON(e){const t={};if(t.id=this.id,t.refId=this.runtime.refId,this.reservedEditorAry&&(t.reservedEditorAry=this.reservedEditorAry),this.slots&&this.slots.length>0){const n=[];this.slots.forEach((t=>{n.push(t.toJSON(e))})),t.slots=n}return t}dump(){return(0,o.Bh)(this,{uncompressed:!0,ignore:{parent:!0,runtime:!0}})}getSlotEditor({emitItem:e,context:t,emitSnap:n,emitIOCAbout:i,emitMessage:o}){let r=this;return{get(a){const c=r.getSlot(a);if(c)return{id:c.id,title:c.title,schema:c.schema,setSchema(e){c.schema=e},getStyle(){const e=c.style;return{width:e.width,height:e.height}},setStyle(e){e&&("height"in e&&(c.style.height=e.height),"width"in e&&(c.style.width=e.width))},get children(){const r=[];return c.comAry&&c.comAry.forEach((s=>{const a={id:s.id,title:s.runtime.title,get data(){return s.data},get namespace(){var e,t;return null===(t=null===(e=s.runtime)||void 0===e?void 0:e.def)||void 0===t?void 0:t.namespace},get inputs(){return i.getInputEditor(s.id)},get outputs(){return i.getOutputEditor(s.id)}};s.slots&&Object.assign(a,{get slots(){return s.getSlotEditor({emitItem:e,context:t,emitSnap:n,emitIOCAbout:i,emitMessage:o})}}),r.push(a)})),r.length>0?r:void 0},setTitle(t){e.setSlotTitle(r.id,c.id,t)},getLayout:()=>c.style.getLayout(),setLayout(e){e&&e.match(/flex-row|flex-column|absolute|smart/)&&c.setLayout(e,t.geoZoom)},getJustifyContent:()=>c.style.getJustifyContent(),setJustifyContent(e){e&&e.match(/flex-start|center|flex-end|space-around|space-between/)&&c.style.setJustifyContent(e)},getAlignItems:()=>c.style.getAlignItems(),setAlignItems(e){e&&e.match(/flex-start|center|flex-end/)&&c.style.setAlignItems(e)},cutInto(e){Array.isArray(e)&&e.length>0&&e.forEach((({id:e})=>{const t=r.root.searchCom(e);c.parent.cutIn(t,c.id)}))},addCom(n,i=!0,r){const a=t.getComDef({namespace:n});if(!a)return void o.warn("添加的组件不存在");if(a.singleton&&(0,l.B8)(t.model.mainModule.slot.comAry,a))return void o.warn(`${a.title}已存在，不能重复添加`);const d=new s.Al(a);return e.add(Object.assign(Object.assign({seedModel:d,state:"finish",deletable:!a.schema,isParasite:a.schema},r),{toComId:c.parent.id,toSlotId:c.id}),{indeed:!0,noFocus:!0}),d.id},clear(){c.comAry&&(0,l.gb)(c,e),c.comAry=[]},moveTo(e){if("number"==typeof e&&!isNaN(e)&&e>=0&&e<=r.slots.length-1){const t=r.slots.findIndex((e=>e.id===c.id)),n=r.slots[e];r.slots[e]=r.slots[t],r.slots[t]=n}},get _inputs(){return i.get_InputEditor(r.id,c.id)},get inputs(){return i.getInputEditor(r.id,c.id)},get outputs(){return i.getOutputEditor(r.id,c.id)},remove(){e.removeSlot(r.id,a)}}},add(t,n,i,o){if(1===arguments.length&&"object"==typeof arguments[0]){const{id:t,title:n,layout:i,schema:o,type:s,inputs:a,outputs:l}=arguments[0];e.addSlot({comId:r.id,id:t,title:n,layout:i,schema:o,type:s,inputs:a,outputs:l})}else e.addSlot({comId:r.id,id:t,title:n,layout:i,schema:o})},setTitle(t,n){e.setSlotTitle(r.id,t,n)},remove(t){e.removeSlot(r.id,t)}}}getConfigs(){throw new Error("Not implements")}getListeners(){throw new Error("Not implements")}setDebugContext(e,{_inputs:t,inputs:i,inputsCallable:o,_outputs:r,outputs:s,frames:a,inputParams:l},c="default",d){const u=new(0,n(10617).A)(this.name);let p;return u.parent=this.parent,u.runtime=this.runtime.clone(e),u.slots=this.slots,u._inputs=t,u.inputs=i,u.inputsCallable=o,u._outputs=r,u.outputs=s,u.frames=a,u.inputParams=l,this._pluginExtJsx&&(u._pluginExtJsx=this._pluginExtJsx),d&&-1!==d.indexOf(":")?(this.debugs[d+c]=u,p=this.getDebug(c,d)):(this.debugs[c]=u,p=this.getDebug(c)),{show:()=>(p.runtime.model.style.display="",!0),hide:()=>(p.runtime.model.style.display="none",!0),showOrHide(){const e=p.runtime.model.style.display;return p.runtime.model.style.display="none"===e?"":"none",!0}}}getDebug(e="default",t){return t?this.debugs[t+e]:this.debugs[e]}clearDebug(){this.debugs={},this.slots&&this.slots.forEach((e=>{e.comAry.forEach((e=>{e.clearDebug()}))}))}};function m(e,t){let n=e;for(n.runtime.model.style.display="visible"===t?"block":"none";n;)"function"!=typeof n.style.isVisible||n.style.isVisible()?n=n.parent?n.parent.parent:void 0:(n.$el&&("visible"===t?n.isStyleLayoutAbsoluteOrFixed()||(n.$el.style.position="relative"):n.$el.style.position="absolute",n.$el.style.visibility=t),n=void 0)}u([o.Nt,p("design:type",Boolean)],h.prototype,"initDom",void 0),u([o.Nt,p("design:type",Boolean)],h.prototype,"_needInitAgain",void 0),u([o.Nt,p("design:type",f)],h.prototype,"focusArea",void 0),u([o.Nt,p("design:type",Number)],h.prototype,"_focusAreaDeleted",void 0),u([o.Nt,p("design:type",Boolean)],h.prototype,"_offScreen",void 0),u([o.Nt,p("design:type",Array)],h.prototype,"_blurFns",void 0),u([o.Nt,p("design:type",Array)],h.prototype,"editorPath",void 0),u([o.Nt,p("design:type",Object)],h.prototype,"events",void 0),u([o.Nt,p("design:type",Object)],h.prototype,"debugs",void 0),u([o.Nt,p("design:type",Object)],h.prototype,"error",void 0),u([o.Nt,p("design:type",String)],h.prototype,"_errorMsg",void 0),u([o.Nt,p("design:type",Number)],h.prototype,"_eleChanged",void 0),u([o.Nt,p("design:type",Object)],h.prototype,"_pluginModel",void 0),u([o.Nt,p("design:type",Object)],h.prototype,"_pluginExtJsx",void 0),u([o.Nt,p("design:type",Boolean)],h.prototype,"_sayHi",void 0),u([o.Nt,p("design:type","function"==typeof(i=void 0!==s.ZP&&s.ZP)?i:Object),p("design:paramtypes",[Object])],h.prototype,"style",null),u([o.CP,p("design:type",Array)],h.prototype,"constraints",void 0),h=u([(0,o.yL)(a.MS+"geo.GeoComModel"),p("design:paramtypes",[Object,Object])],h)},91237:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>c,gh:()=>u});var i=n(64012),o=(n(81531),n(50116)),r=n(34163),s=n(65085),a=n(91716),l=n(64012);function c(e,t){var n;const{model:i,viewContext:a}=e,{context:c,emitLogs:u}=a,p=(null===(n=c.configs.geoView.ai)||void 0===n?void 0:n.EnhanceRender)||s.z;return new Proxy({},{get(n,s){if("comDef"===s||"comRef"===s){function a(t,n){if(t){const{selectors:s,inputs:a,outputs:l,slots:c}=t,d=i.runtime.model.extSourceCodes,u=(0,r.Q)(e),p=[];a&&!Array.isArray(a)&&p.push("inputs定义错误"),l&&!Array.isArray(l)&&p.push("outputs定义错误"),c&&!Array.isArray(c)&&p.push("slots定义错误");try{(0,o.$)(a,d,e,u)}catch(e){p.push(`inputs定义错误${e.message}`)}try{(0,o.aC)(l,d,n,e,u)}catch(e){p.push(`outputs定义错误${e.message}`)}try{(0,o.rE)(c,d,e,u)}catch(e){p.push(`slots定义错误${e.message}`)}if(p.length>0)throw new Error(`${p.join(",")},请修改代码.`)}}return function(e,n){if(n)if(t)t(n);else{i.runtime.title=n.title;try{a(n,":root")}catch(e){return function(t){return u.error("发生错误",`${e.message}`,{model:i}),l.createElement("div",{style:{color:"red",padding:5}},e.message,".")}}}return function(...t){return l.createElement(p,{data:i.runtime.model.data},e.call(this,...t))}}}if("renderCom"===s)return function(t,n){const{props:i,desc:o}=n;return l.createElement(d,{comContext:e,meta:{comDef:t,props:i,desc:o}})}}})}function d({comContext:e,meta:t}){const{model:n,viewContext:o}=e,{comDef:r,props:s,desc:a}=t;if("function"!=typeof r)throw new Error(`没有正确渲染组件${a.title}`);let c;r((e=>{c=e}));const{com:d,meta:u}=c,p=u.title,f=a.title||p,h=(0,i.useRef)();return(0,i.useEffect)((()=>{const e=h.current;if(e){const t=e.childNodes[0];t.title=f,t.dataset.aiZoneInstance=f,t.dataset.aiZoneDef=p}}),[h.current]),l.createElement("div",{ref:h,style:{display:"contents"}},d.call(this,s))}function u(e){const{model:t}=e;if(!t.runtime.model.extSourceCodes)return;const n=t.runtime.model.extSourceCodes.runtime;(0,o.Fu)((0,a.m4)(n),e),function(e){const{model:t}=e,n=t.runtime.model.extSourceCodes;let i;(null==n?void 0:n.config)&&(i=(0,a.m4)(n.config)),(0,o.a9)(i,n,e)}(e)}},55833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>getAssist});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34163),_qa_getSystemPrompts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36501),_comDev_execute_execute__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76456),_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24412),_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50116),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91716),_comDev_roles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39825),_utils_getFocusAreaTitle__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85901),_sdk__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96966);const C_HistoryStarter="【历史消息记录】\n注意：\n  - 这是此前的聊天记录，其中 [问题]是用户给到AI的内容，[回答]是AI返回的消息，AI的回答内容做了摘要处理）；\n  - 在AI返回的消息中，代码部分已经被摘要处理，在后续的处理过程中，如果需要返回代码文件，务必返回完整的代码文件内容，同时返回update.log更新日志文件作为修改的说明。\n  ";function getAssist(comContext,editors){var _a;const{model,context,emitSnap,emitItem}=comContext,comDef=context.getComDef(model.runtime.def),editContext=(0,_utils__WEBPACK_IMPORTED_MODULE_0__.Q)(comContext);let title=model.runtime.title,myPlaceholder,executor,prompts,aiDesc;const aiDef=null===(_a=comDef.editors)||void 0===_a?void 0:_a["@ai"];function hadCode(){const e=model.runtime.model.extSourceCodes;if(e&&(e.data||e.runtime||e.style))return!0}return aiDef&&(aiDesc="function"==typeof aiDef?aiDef(editContext):aiDef),{id:model.id,get title(){const e=null==aiDesc?void 0:aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];return e&&"object"==typeof e&&"comDev"===e.role?"AI程序员":"智能助手"},type:"geoCom",get active(){if(aiDesc){const e=aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];if(e&&"object"==typeof e)return e.active}},get error(){if(model.error)return model.error},setRequestState(e){const t=model.state;"ing"===e?(t.setAIWorking(),t.cancelAIWorkingDone()):(t.cancelAIWorking(),"done"===e&&t.setAIWorkingDone())},getStartAIRole(e){if(!hadCode())return e.asStart?e.attachments?"architect":void 0:e.changedPrompts&&e.attachments||e.attachments?"image":void 0},getFocusArea(){const e=model.focusArea;if(e&&e.isValid()){const t=Object.keys(e.selectors)[0],n=(0,_utils_getFocusAreaTitle__WEBPACK_IMPORTED_MODULE_7__.m)(model);return{title:`${e.title||"当前区域"}`,detail:n,selector:t}}return{title:model.runtime.title,selector:_constants__WEBPACK_IMPORTED_MODULE_6__.A9}},getRoles(){const e=null==aiDesc?void 0:aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];return e&&"object"==typeof e&&"comDev"===e.role?(0,_comDev_roles__WEBPACK_IMPORTED_MODULE_8__.A)(comContext,editContext,e):[{id:"comQA",title:"智能助手",placeholder:"我可以帮助您解答关于这个组件的各类问题，包括功能介绍、如何使用等，请向我提问问题吧。"}]},getSystemPrompts(e,t){var n;let i,o;const r=model.focusArea;if(r&&r.isValid()){let{ele:e,selectors:t,title:n}=r;for(let e in t)o={selector:e,title:r.title||"当前区域"}}if(aiDesc){const i=aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];if(i&&"object"==typeof i&&(null===(n=i.role)||void 0===n?void 0:n.toUpperCase())===_sdk__WEBPACK_IMPORTED_MODULE_5__.qT){const n=this.getRoles().find((t=>t.id===e.id));if(n&&n.getSystemPrompts)return n.getSystemPrompts(t)}}return i||(i=(0,_qa_getSystemPrompts__WEBPACK_IMPORTED_MODULE_1__.A)(comContext,{editContext,prompts,onlySelectors:o})),i},getInitKnowledge(){const e=aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];if(e&&"object"==typeof e&&"function"==typeof e.loadKnowledge){const t=model.runtime.model.extSourceCodes;if(t&&t.runtime){const n=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(t.runtime),i=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_3__.Rl)(n,"mybricks","style.less");if(i){const t=[];i.forEach((e=>{e.items&&e.items.forEach((n=>{t.push({lib:e.from,item:n})}))}));const n=e.loadKnowledge(t);if(n)return n.map((e=>{const t=getValidEditors(e);return{id:`${e.lib}_${e.item}`,lib:e.lib,item:e.item,docs:`\n以下知识来自 ${e.lib} 的 ${e.item}：\n\n${e.knowledge.docs}\n                  `,editors:t}}))}}}},loadKnowledge(e){if(!aiDesc)return;const t=aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];if(t&&"object"==typeof t&&"function"==typeof t.loadKnowledge){let n;if(e.require)try{n=JSON.parse(e.require)}catch(e){throw e}else if(e.runtime){const t=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_3__.Rl)(e.runtime,"mybricks","style.less","./style.less","react");t&&(n=[],t.forEach((e=>{e.items&&e.items.forEach((t=>{n.push({lib:e.from,item:t})}))})))}if(n&&n.length>0){const e=t.loadKnowledge(n);if(e&&e.length>0)return e.map((e=>{const t=getValidEditors(e);return{id:`${e.lib}_${e.item}`,lib:e.lib,item:e.item,docs:`\n以下知识来自 ${e.lib} 的 ${e.item}：\n\n${e.knowledge.docs}\n                  `,editors:t}}))}}},getVersion0(){const e=model.runtime.model.extSourceCodes;if(e&&e.runtime)return{data:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(e.data),runtime:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(e.runtime),style:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(e.style),config:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(e.config)}},checkIfRetry(response,opts){if(response.uiDesign){let uiDesign;opts.knowledgeUpdated&&opts.messages.push({role:"assistant",content:response.content});try{const code=response.uiDesign.replace("export","");uiDesign=eval(`(${code})()`)}catch(e){console.error(e)}const prompts=[];for(let e in uiDesign){const t=uiDesign[e];t&&prompts.push(`<${e}>\n${t}\n</${e}>\n`)}return{message:`请根据附件中的图片内容，参考以下方面进行模块开发:\n${prompts.join("\n")}\n\n注意：\n- 生成的界面尽最大可能美观大方；\n- 生成的界面布局要合理；\n- 重要信息需要通过色彩强调；\n\n          `}}if(opts.knowledgeUpdated)return opts.messages.push({role:"assistant",content:response.content}),{message:"【知识库有更新】请关注之前的沟通，重试一次"}},checkIfHasError(e){let t;if(e.update)if(e&&(e.data||e.runtime||e.style||e.config)){if(!e.runtime){const e=model.runtime.model.extSourceCodes;if(!e||!e.runtime)return"runtime文件未找到"}if(e.data){let n;n=Array.isArray(e.data)&&e.data.length>0?e.data[e.data.length-1]:e.data;try{JSON.parse(e.data)}catch(e){return t=`model文件的JSON格式不正确:${e.message}`,t}e.data=n}if(e.runtime){let n;if(n=Array.isArray(e.runtime)&&e.runtime.length>0?e.runtime[e.runtime.length-1]:e.runtime,"string"!=typeof n||n.indexOf("comDef")<0&&n.indexOf("comRef")<0)return t="runtime文件格式错误:未找到comDef或comRef函数",t;e.runtime=n}e.config&&Array.isArray(e.config)&&e.config.length>0&&(e.config=e.config[e.config.length-1])}else;},resetMessages({messages:e,mergeHistory:t,needToRetry:n}){const i=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.UL)(model.runtime);if(!i&&e.length>=4&&e.find((e=>{if("string"==typeof e.content)return e.content.startsWith("【知识库】")}))){const t="\n技术方面，关注以下方面：\n对于 runtime.jsx文件，注意：\n  - 在runtime.jsx中imports中对于类库的使用，注意不要超出【知识库】允许的范围；\n  - 模块的外层容器，应该尽量减少不必要的嵌套，对于类库中的模块本身是root模块的情况、不必再用一个常规容器包裹；\n  - 模块的外层容器，宽度与高度均采用100%；\n  - 对于卡片类型的模块，使其内容部分要能铺满卡片；\n\n总体注意：\n- 如果修改了代码文件，务必返回update.log文件；\n            ";e.forEach((e=>{if(Array.isArray(e.content)){const n=e.content.find((e=>"text"===e.type&&e.text));n&&(n.text=n.text.replace(t,""))}else"string"==typeof e.content&&e.content.indexOf(t)>=0&&(e.content=e.content.replace(t,""))}));const n=e[e.length-1];if(Array.isArray(n.content)){const e=n.content.find((e=>"text"===e.type&&e.text));e&&(e.text=`${e.text}\n${t}`)}else"string"==typeof n.content&&(n.content=`${n.content}\n${t}`);return e}let o;if(t){const t=[],n=[];for(let i=0;i<e.length-1;i++){const o=e[i];"system"===o.role&&t.push(o),"user"===o.role?"string"==typeof o.content?o.content.startsWith("【知识库】")?t.push(o):o.content.startsWith("【当前选区】")||o.content.startsWith("【源代码】")||n.push({role:"user",content:o.content}):n.push({role:"user",content:o.content}):"assistant"===o.role&&n.push({role:"assistant",content:o.content})}if(i&&t.push({role:"user",content:s(model)}),n.length>0){const e=n.map((e=>{if("user"===e.role){let t;const n=e.content;if(Array.isArray(n)){let e;n.find((t=>{t.text&&(e=t.text)})),t=e||""}else t=n.replace(C_HistoryStarter,"");return`[问题]\n${t}`}{let t=e.content;return t=t.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((e,t,n)=>{let i,o=t;return t&&t.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]/g,((e,t,n)=>{i=t,o=n})),""})),`[回答]\n${t}\n`}}));t.push({role:"user",content:`${C_HistoryStarter}\n            \n${e.join("\n")}\n              `})}(0,_utils_getFocusAreaTitle__WEBPACK_IMPORTED_MODULE_7__.m)(model)&&t.push({role:"user",content:a(model)}),t.push(e[e.length-1]),o=t}else{if((0,_utils__WEBPACK_IMPORTED_MODULE_4__.UL)(model.runtime)){e.find((e=>{if("string"==typeof e.content)return e.content.startsWith("【源代码】")}))||e.splice(e.length-1,0,{role:"user",content:s(model)})}const t=e.find((e=>{if("string"==typeof e.content)return e.content.startsWith("【当前选区】")})),n=a(model);t?t.content!==n&&e.splice(e.length-1,0,{role:"user",content:n}):e.splice(e.length-1,0,{role:"user",content:n}),o=e}if(n){const e=o[o.length-1];e.content=`${e.content}\n\n注意：\n1、关注此前的各类问题，仔细分析用户的意图，以便更好地回答问题；\n2、关注【源代码】如果某文件需要修改代码，务必返回该文件的全部代码。\n        `}const r=[];return o.forEach(((e,t)=>{if(r.length<=0)r.push(e);else{if("user"===e.role){const t=e.content;if("string"==typeof t){const e=r[r.length-1];"user"===e.role&&(t.startsWith("【源代码】")?"assistant"!==e.role&&r.push({role:"assistant",content:"请给出当前模块的最新源代码"}):t.startsWith("【历史消息记录】")?"assistant"!==e.role&&r.push({role:"assistant",content:"请给出当前模块的历史消息记录"}):t.startsWith("【当前选区】")?"assistant"!==e.role&&r.push({role:"assistant",content:"当前模块的选区是？"}):r.push({role:"assistant",content:"请问您的问题是什么？"}))}}r.push(e)}})),r;function s(e){return`【源代码】\n${i}\n注意： \n1、该源代码是当前模块的源码，但是同时要密切关注后续对话过程（非【历史消息记录】）中的代码，保持对问题处理的连贯性；\n2、你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，所以，除非设计开发需要，尽量避免通过代码与用户进行沟通及问题确认；\n3、如果需要修改其中某文件的代码，务必返回该文件的完整内容，同时返回update.log更新日志文件作为修改的说明；`}function a(e){return`【当前选区】${(0,_utils_getFocusAreaTitle__WEBPACK_IMPORTED_MODULE_7__.m)(e)}\n注意：\n  - 如果当前选区不是:root（整个模块），在后续的问题处理中需要重点关注；\n  - 即使当前选区不是整个模块，如果后续需要修改代码文件（runtime.jsx、style.less、model.json、config.js），请务必返回该文件的所有代码内容，不要返回“其余代码保持不变”、“其余样式保持不变”等内容。\n        `}},getInitResultVersion(){},execute:(e,t)=>new Promise(((n,i)=>{var o;if(aiDesc){const r=aiDesc[_constants__WEBPACK_IMPORTED_MODULE_6__.A9];if(r&&"object"==typeof r&&(null===(o=r.role)||void 0===o?void 0:o.toUpperCase())===_sdk__WEBPACK_IMPORTED_MODULE_5__.qT){if(e){let o,s,a,l;const c=model.runtime.model.extSourceCodes;c&&c.runtime&&(o=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(c.data),s=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(c.runtime),a=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(c.style),l=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.m4)(c.config)),!e.model&&o&&(e.model=o),e.runtime||(e.jsx&&(e.jsx.indexOf("comDef")>=0&&(e.runtime=e.jsx),e.model||e.json&&(e.model=e.json)),e.runtime||(e.runtime=s)),e.style||(e.less&&(e.style=e.less),e.style||(e.style=a)),!e.config&&l&&(e.config=l),(0,_comDev_execute_execute__WEBPACK_IMPORTED_MODULE_2__.A)(comContext,editContext,e,r,t,r).then((()=>{n()})).catch((e=>{i(e)}))}return}}n()}))}}function getDataPrompts(e){const t=e.knowledge.data;if(t){const e=[],n={};for(const i in t){const o=t[i];n[i]=o.defaultValue||null,e.push(`${i}（类型：${o.type},默认值：${o.defaultValue},描述：${o.description}）`)}return`${JSON.stringify(n,null,2)}\n各字段说明如下：\n${e.join("\n")}\n    `}}function getValidEditors(e){const{lib:t,item:n}=e,i=e.knowledge.editors;if(i){const e={};for(const o in i){const r=i[o];":root"===o?e[(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_3__.hI)(t,n)]=r:e[o]=r}return e}}},44391:(e,t,n)=>{"use strict";function i(e,t){e&&"object"==typeof e&&!Array.isArray(e)&&function(e,t){for(const e in t)e.match(/^_/)||(t[e]=void 0);for(const n in e){const i=e[n];t[n]=i}}(e,t)}n.d(t,{A:()=>i})},76456:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>execute});var _exeData__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44391),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24412),_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50116),_preview__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37237),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32910),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91716);function execute(comContext,editCtx,response,comAIDesc,ctx,rootDesc){return new Promise(((resolve,reject)=>{if(response){if(!response.update)return;if(!(response.model||response.runtime||response.style||response.config||Object.keys(response).find((e=>e.startsWith("configs")))||response.toolCallsMessage))return void resolve(!1);const{model:comModel,emitSnap,emitItem}=comContext;let extSourceCodes=comModel.runtime.model.extSourceCodes;function confirmFn({styleIndex}){return new Promise(((resolve,reject)=>{const codeRefresh=response.model||response.runtime||response.style||response.config;if(codeRefresh){const reFocus=()=>{const e=comModel.focusArea;emitItem.focus(void 0),comModel.notifyEleChanged(!0),setTimeout((()=>{if(e){const t=Object.keys(e.selectors)[0];if(t&&t!==_constants__WEBPACK_IMPORTED_MODULE_4__.A9){const e=comModel.$el.querySelector(t);e&&e.click()}}else emitItem.focus(comModel)}))};if("function"==typeof comAIDesc.execute){let dataJSON,nowData,enEditorsCode,config;try{response.model&&(dataJSON=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.D8)(response.model),nowData=JSON.parse(dataJSON))}catch(e){return reject(`model文件存在错误:${e.message}`)}try{if(response.config){enEditorsCode=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.XW)(response.config);const rCode=enEditorsCode.replace(/export default/,"");eval(`() => {\n                    return ${rCode}\n                  }`)()}}catch(e){return reject(`config文件存在错误:${e.message}`)}(0,_utils__WEBPACK_IMPORTED_MODULE_2__.iJ)(response.runtime,(0,_utils__WEBPACK_IMPORTED_MODULE_3__.m4)(extSourceCodes.runtime||""),comContext).then((e=>{const t=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.ec)(e),n=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.JO)(e);let i,o;Array.isArray(response.style)?(i=response.style[styleIndex],o=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.A2)(i)):(i=response.style,o=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.A2)(i)),(0,_exeData__WEBPACK_IMPORTED_MODULE_5__.A)(nowData,comModel.data),(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.YR)({runtime:n,style:o},comContext).then((()=>{const e=emitSnap.start("更新代码",{target:comModel});try{dataJSON&&((0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.yB)(nowData,n,comContext,rootDesc),dataJSON=JSON.stringify(nowData,null,2),extSourceCodes.data=encodeURIComponent(dataJSON)),response.runtime&&(extSourceCodes.runtime=encodeURIComponent(t),(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.Fu)(t,comContext,rootDesc)),i&&(extSourceCodes.style=encodeURIComponent(i)),enEditorsCode&&(extSourceCodes.config=encodeURIComponent(enEditorsCode)),(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_0__.a9)(enEditorsCode,extSourceCodes,comContext),e.commit(),reFocus(),resolve()}catch(t){return e.cancel(),void reject(t)}})).catch((e=>{reject(e)}))})).catch((e=>{reject(e)}))}else reFocus(),resolve()}else resolve()}))}extSourceCodes||(extSourceCodes=comModel.runtime.model.extSourceCodes={}),response.model||response.runtime||response.style||response.config?(0,_preview__WEBPACK_IMPORTED_MODULE_1__.A)(comContext,editCtx,response,comAIDesc,ctx,confirmFn).then((()=>{resolve()})).catch((e=>{reject(e)})):resolve()}}))}},37237:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>preview});var _ai_aiExt__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91237),_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91737),_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50116),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64012),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(32910),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91716),React=__webpack_require__(64012);function preview(comContext,editCtx,response,comAIDesc,ctx,confirmFn){return new Promise(((resolve,reject)=>{const{model:comModel,emitMessage,emitLogs}=comContext,extSourceCodes=comModel.runtime.model.extSourceCodes||{};let updateInfo;try{updateInfo=JSON.parse(response.update)}catch(e){updateInfo={summary:`update.log存在错误：${e.message}`}}if("function"==typeof comAIDesc.preview){let nowMeta;const mybricksSdk=(0,_ai_aiExt__WEBPACK_IMPORTED_MODULE_0__.Oq)(comContext,(e=>{nowMeta=e})),comId=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__.uR)();let nowData;if(response.model)try{nowData=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__.JW)(response.model,comModel)}catch(e){emitLogs.error("合并数据错误",e,{model:comModel})}else nowData=comModel.runtime.model.data;const nowConfig=response.config;let editors;if(nowConfig)try{const rCode=nowConfig.replace(/export default/,"");editors=eval(`() => {\n            return ${rCode}\n          }`)()}catch(e){throw e}(0,_utils__WEBPACK_IMPORTED_MODULE_4__.iJ)(response.runtime,(0,_utils__WEBPACK_IMPORTED_MODULE_5__.m4)(extSourceCodes.runtime||""),comContext).then((e=>{const t=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__.JO)(e);let n;response.style?Array.isArray(response.style)?(n=[],response.style.forEach((e=>{n.push((0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__.A2)(e))}))):n=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__.A2)(response.style):n=(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_2__.A2)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.m4)(extSourceCodes.style));const i=Object.assign(Object.assign({},editCtx),{data:nowData,slots:new Proxy({},{get:(e,t)=>({render:()=>React.createElement("div",{"data-temp-com":"slot"},"插槽")})}),inputs:new Proxy({},{get:(e,t)=>function(){emitMessage.info(`调用输入项${t}`)}}),outputs:new Proxy({},{get:(e,t)=>function(e){emitMessage.info(`调用输出项${t}，输出${e}`)}})}),o=(e,t)=>{e&&ctx.previewForConfirm((({styleIndex:t,onError:n})=>{const[o,r]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();if((0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)((()=>{const n=`style-${comId}`;let i=document.getElementById(n);i||(i=document.createElement("style"),i.id=n);const o=e[t].css.replaceAll("__id__",comId);i.innerText=o,document.head.appendChild(i)}),[t]),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>()=>{const e=`style-${comId}`,t=document.getElementById(e);t&&t.remove()}),[]),o)return React.createElement("div",{style:{color:"red",padding:10,fontSize:12}},o);{const o=e[t].com;return React.createElement(React.Fragment,null,React.createElement(o,Object.assign({},i,{_onError_:e=>{r(`运行错误：${e}`),n(e)}})))}}),{meta:Object.assign(Object.assign({comId},nowMeta),{editors,preview:!0,comAry:e,width:comModel.style.widthFact,height:comModel.style.heightFact,update:updateInfo}),confirm:({styleIndex:e,onError:t})=>new Promise(((n,i)=>{confirmFn({styleIndex:e}).then((()=>{n()})).catch((e=>{console.error(e),emitMessage.error(`组件存在错误：${e}`),t(e),i(e)}))}))}),t()};Array.isArray(n)?Promise.all(n.map(((e,n)=>comAIDesc.preview({id:comId,runtime:t,style:e},i,{mybricksSdk})))).then((e=>{o(e,resolve)})).catch((e=>{console.error(e),reject(e)})):comAIDesc.preview({id:comId,runtime:t,style:n},i,{mybricksSdk}).then((e=>{o([e],resolve)})).catch((e=>{console.error(e),reject(e)}))})).catch((e=>{reject(`runtime.jsx文件存在错误：${e.message}`)}))}else resolve()}))}},32910:(e,t,n)=>{"use strict";n.d(t,{iJ:()=>s});var i=n(24412),o=n(9968),r=n(51826);function s(e,t,n){const{model:s}=n,a=s.id;return new Promise(((n,l)=>{if(!e)return n(t);let c=!1;const d=[],u=(0,r.Y)().transformRender(e,(({libName:e,comName:t,tagName:n,type:r,attributeNames:s})=>{const l={};if("normalRoot"===r&&(c=!0,s.has("id")||(l.id=`${a}_root`)),"comRoot"===r&&(c?l[i.$5]="1":(l[i.$5]="1",s.has("id")||(l.id=`${a}_root`))),"com"===r||"comRoot"===r){const n=(0,o.a)(e,t);l[i.RO]=n,d.push({key:n,libName:e,comName:t})}if(Object.keys(l).length>0)return l}));s.runtime.model.extSourceCodes.defaultData=d,n(u)}))}},40986:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(73112),o=n(37044),r=n(59559),s=n(23835),a=n(60704),l=n(17672),c=n(9797),d=n(51173);function u(e,t,n){return{id:"dev",title:"开发者",get visible(){return!0},get placeholder(){return(0,i.y)(e)?"您可以继续完善当前组件的各项功能，或者添加-修改-删除输入项、输出项、插槽等。":"欢迎使用MyBricks智能开发助手，请尽量详细描述组件的功能与样式要求。\n您也可以通过上传或粘贴图片来辅助开发"},get attachment(){if(!(0,i.y)(e))return["image/png","image/jpeg","image/webp"]},getSystemPrompts(l){var c;let d;const u=(null===(c=l.knowledge)||void 0===c?void 0:c.length)>0,p=(0,i.y)(e);return d||(l.attachments&&!p&&(d=u?(0,o.A)(t,n):(0,r.A)(t,n)),d||(d=p||u?(0,s.A)(t,n):(0,a.A)(t,n)),d)},templates:[{title:"对话",get visible(){return(0,i.y)(e)}},(0,d.A)(e),(0,l.A)(e),(0,c.A)(e)]}}},23835:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(24412);function o(e,t){const n=t.getSystemPrompts(e),{langs:o,prompts:r}=n;let s=[];r&&r.split("\n").forEach((e=>{s.push(`    ${e}`)}));const a=`${o}、Less、mybricks`;return`\n<你的角色与任务>\n  你是MyBricks模块开发专家，技术资深、逻辑严谨、实事求是，同时具备专业的审美和设计能力。\n  你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题，所以，在沟通过程中，除非设计开发及演示需要，否则尽量避免返回代码。\n  \n  注意：在沟通与开发过程中，你需要严格遵守以下概念定义：\n    **模块的正式代码文件**\n      模块的代码文件是指model.json、runtime.jsx、style.less文件，你需要根据用户的需求，逐步分析、修改这些文件；\n      注意：\n        - 所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n          \`\`\`文件类型 file="文件名"\n          (文件内容)\n          \`\`\`\n        - 因为用户没有能力做差异化比对，所以如果需要返回模块的代码文件时，务必返回所修改文件的完整代码内容，不允许给出代码片段以及出现提示省略等情况；\n        \n    **示例代码文件**\n      如果作为示例，通过如下形式给出代码\n        \`\`\`语言类型\n        (代码内容)\n        \`\`\`\n      \n        例如\n        \`\`\`js\n        console.log('hello world')\n        \`\`\`\n        \n    **选区（selector）**\n      用户可以通过选区选择模块中的某个部分；\n      \n    **输入项（inputs）**\n      在runtime.jsx中模块comDef inputs数组中定义，模块可以通过输入项接收外部数据，在MyBricks平台中，输入项主要是在逻辑编排中接收外部数据；\n      \n    **输出项（outputs）**\n      在runtime.jsx中模块的comDef outputs数组中定义，模块可以通过输出项与外界进行互动，在MyBricks平台中，输出项主要是在逻辑编排中向外部传递数据；\n      \n    **插槽（slots）**\n      在runtime.jsx中模块的comDef slots数组中定义，模块可以通过插槽包含其他内容；\n</你的角色与任务>\n\n<特别注意>\n  注意：对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、结合多轮对话中的内容、逐步分析处理。\n    - 在多轮对话中，具备以下特征的消息需要特别关注：\n      system消息，包含了当前对话的上下文信息；\n      user消息，如果以【知识库】开头，表示用户提供了知识库中的信息；\n      user消息，如果以【源代码】开头，代表模块目前的源代码；\n      user消息，如果以【当前选区】开头，表示对于模块主要关注的范围；\n        注意：\n        - 请根据当前选区的情况，给出合理的建议;\n        - 任何时候如果返回某个代码文件，请务必返回该文件的完整代码内容，不允许给出代码片段以及出现提示省略等情况。\n        \n      user消息，如果以【历史消息记录】开头，表示用户此前提出的问题以及AI给予的回复内容，这些问题按照时间顺序排列；\n      \n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n      \n    - 在沟通过程中，除关注当前对话外，还需要注意历史消息记录，以便更好的理解用户的需求；\n   \n  注意：如果在对话过程中对模块的代码文件（model.json、runtime.jsx、style.less）进行了修改，务必返回所修改文件的完整内容，以及更新日志(update.log)、因为用户是根据update.log来作为更新判断的依据。\n    - 更新日志以update.log返回，在其中对于修改的文件内容进行简短的总结，格式如下：\n    \`\`\`json file="update.log"\n    {\n      "summary":"(修改内容的总结，不超过20字)",\n      "files":[\n        {\n          "name":"（文件名）",\n          "log":"(对该文件的更新的内容详细记录)"\n        }\n      ]\n    }\n    \`\`\`\n    \n  注意：如果无需修改模块的代码文件，则无需返回这些文件内容，仅返回对话内容即可。\n  \n  注意：在任何时候，当需要返回模块的正式代码文件时，你给出的该文件代码必须是完整的代码文件内容，不允许给出代码片段以及出现提示省略等情况。\n  \n  注意：如果附件中有图片，请在设计开发中作为重要参考，进行详细的需求及设计分析，逐步思考，给出答案.\n</特别注意>\n\n<MyBricks模块定义及文件说明>\n  MyBricks模块基于MVVM与响应式的特性，支持外部通过输入项(inputs)接收外部数据，或者通过输出项(outputs)与外界进行互动，\n  此外，还可以通过插槽(slots)包含其他内容，以及用户可以通过选区选择模块中的某个部分然后做修改。\n\n  当前模块的代码由model.json、runtime.jsx、style.less 三个文件构成，所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n  \`\`\`文件类型 file="文件名"\n  (文件内容)\n  \`\`\`\n  \n  1、model.json文件，为当前模块的model声明，在runtime中通过data进行引用。例如：\n  \`\`\`json file="model.json"\n  {\n    "title":"按钮",\n    "items":[\n      {\n        "title":"导航",\n        "url":"https://temp.im/200x100"\n      }\n    ]\n  }\n  \`\`\`\n  注意：\n  - 代码的语言类型是json；\n  - model.json文件要充分合理，构成模块的所有模型数据都应该体现在model.json中；\n  - 如果需要在model.json中定义数据，尽量不要出现空数据(null等），用户希望能尽早看到实际运行效果；\n  - 返回的结果严格符合JSON结构，不能使用JSX、不要给出任何注释、不要用...等省略符号，如果数据为空，请返回{};\n  \n 2、runtime.jsx文件，为模块的渲染逻辑，由一个通过comDef定义的函数构成，例如，下面是一个基于React与antd类库的模块：\n  \`\`\`jsx file="runtime.jsx"\n    import {useMemo} from 'react';\n    import {comDef} from 'mybricks';\n    import {Card,Button} from 'antd';\n    \n    import css from 'style.less';//style.less为返回的less代码\n    \n    export default comDef(({data,inputs,outputs,slots})=>{\n      useMemo(()=>{\n        inputs['u_i6']((val)=>{//监听输入项\n          data.title = val\n        })\n      },[])\n      \n      return (\n        <Card>\n          <Button className={css.button} onClick={e=>{\n            outputs['o_03'](data.title)\n          }}>{data.title}</Button>\n          <Card>{slots['s_u01'].render()}</Card>\n        </Card>\n      )\n    },{\n      title:'Banner',//模块标题\n      inputs:[//通过数组定义输入项\n        {id:'u_i6',title:'标题',schema:{type:'string'}}\n      ],\n      outputs:[//通过数组定义输出项\n        {id:'o_03',title:'点击标题',schema:{type:'string'}}\n      ],\n      slots:[//通过数组定义插槽\n        {id:'s_u01',title:'卡片内容'}//定义插槽\n      ]\n    })\n  \`\`\`\n  \n  对runtime文件的说明：\n  以下写法是固定的：\n    - import {comDef} from 'mybricks'//使用mybricks类库中的comDef包裹，注意这里必须使用mybricks类库，而且mybricks类库中仅提供了comDef这一个方法\n    - import css from 'style.less'\n    \n  runtime文件是一个jsx文件，禁止使用tsx(typescript)语法;\n  按照react的代码编写规范，runtime文件中所有参与循环的组件，必需通过key属性做唯一标识，而且作为react的最佳实践，不要使用index作为key；\n  通过comDef声明模块：\n    1）第一个参数是render函数；\n    2）第二个参数：\n      title:模块的标题；\n      inputs:定义模块的所有输入项，任何输入项的使用必须首先在inputs中进行声明；\n      outputs:定义模块的所有输出项，任何输出项的使用必须首先在outputs中进行声明；\n      slots:定义模块的所有插槽，任何插槽的使用必须首先在slots中进行声明；\n\n      inputs、outputs、slots的声明形式为：\n      [\n        {\n          id:'唯一标识',\n          title:'标题',\n          schema:{type:'string'}//合理的JSONSchema,type可以使用string、number、boolean、array、object，不允许使用其他类型\n        }\n      ]\n \n    对于render函数的参数说明：({data,inputs,outputs,slots})=>JSX.Element\n    data是一个Observable对象，代表该模块的model数据；\n    inputs是一个数组,代表该模块的输入项,仅提供对于输入项的输入监听，形如：\n    inputs['输入项的id'](val=>{})，其中，val为输入项的值，id为输入项的id。\n    inputs只能使用模块定义的输入项，严禁使用未定义的输入项。\n    \n    outputs是一个对象,代表该模块的输出项，提供对于输出项的输出方法，形如：\n    outputs['输出项的id'](val)，其中，'输出项的id'为输出项的id,val为输出项的值。\n    outputs只能使用模块定义的输出项，严禁使用未定义的输出项。\n    \n    slots是一个对象,代表该模块的插槽，提供对于插槽的渲染方法，形如：{slots['插槽的id'].render()}.\n  \n  3、style.less文件，为当前模块的样式代码,例如：\n  \`\`\`less file="style.less"\n    //style.less文件中的样式代码\n  \`\`\`\n  \n  style.less文件的注意事项：\n   - less文件，作为容器类的模块，最外层容器宽高应为100%以适应整个模块，不要做任何的假设，例如假设容器的宽度、高度等；\n   - 不能使用 :root作为选择器；\n   - 不能使用 :global作为选择器；\n   - 不要使用如下形式的代码 \${data.title}，因为在MyBricks平台中，不支持这种形式的代码；\n   - 在选择器中，多个单词之间使用驼峰的方式，不能使用-连接;\n   - 不能使用 @import引入其他的less文件、不要使用less的混合、函数、变量等；\n  \n</MyBricks模块定义及文件说明>\n\n<模块开发要求>\n  在设计开发MyBricks模块时，可以采用的技术方案来自：\n  \n  <技术栈及类库声明>\n    仅可以基于 ${a} 技术栈进行开发，同时，可以使用下面声明的类库，根据场景做合理的技术方案设计、不要超出声明的类库范围。\n    注意：\n      - 类库由markdown格式构成，尤其要关注其中的 "简介" 、"组件列表"或“组件声明”、“注意事项”以及“示例” 等部分。\n    \n    此外，对于类库中组件的详细说明，可以参考用户在【知识库】中提供的文档。\n    \n${s.join("\n")}\n  </技术栈及类库声明>\n\n  注意：\n  1、在runtime文件中，要严格参考 <技术栈及类库声明/> 中的内容，除其中允许使用的框架及类库之外、不允许使用其他任何库或框架；\n  2、不允许对上述可以使用的库做假设、例如主观臆造不存在的组件等，只能基于事实上提供的组件及知识库中的属性、API说明进行开发；\n  3、你要完成的是中文场景下的开发任务，请仔细斟酌文案、用语，在各类文案表达中尽量使用中文，但是对于代码、技术术语等，可以使用英文。\n  4、对于更新的结果，通过update.log（更新日志）给出总结；\n</模块开发要求>\n\n<按照以下情况分别处理>\n  对于用户的各类问题，结合【当前选区】，请按照以下不同的情况进行逐步思考，给出答案。\n  \n  首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  <当用户报告错误发生时>\n    详细分析用户的错误报告，按照以下步骤处理：\n    如果所需要的组件所在的类库，超出允许范围的类库时，按照以下步骤处理：\n      1、提醒用户当前类库不支持，对于不在当前允许类库范围内使用的组件，通过插槽的方式代替；\n      2、仅返回上述简单询问即可，返回等待进一步的确认。\n    否则，修复错误，并给出新的代码。\n  </当用户报告错误发生时>\n\n  <当用户询问修改了哪些内容时>\n    根据最近的对话记录、结合此前的【历史消息记录】，返回历次用户的要求、以及修改的详细内容即可，无需给出具体的代码。\n  </当用户询问修改了哪些内容时>\n\n  <当要求整理-清理模块>\n    当用户要求清除或整理（无效）代码时，指的是对于runtime.jsx、style.less及model.json部分，注意以下事项：\n      - runtime文件中的${i.RO}具备特殊用途，任何时候都不能随意修改及删除；\n  </当要求整理-清理模块>\n  \n  <对于多轮对话中的连续调整>\n    注意在多轮对话中，用户问题中的“同时”、“并且”、“此外”等词语，如果涉及代码的修改，要基于最近对话中出现的代码结果进行修改；\n  </对于多轮对话中的连续调整>\n  \n  <当存在附件图片时>\n    当用户提供了附件图片，要将附件中的图片作为重要参考，根据以下步骤处理：\n    1、确定图片对应模块的部分，如果不是【当前选区】则以图片中的内容为准，如果图片与模块完全无关，忽略本次任务，返回提示；\n    3、结合用户提出的问题，对图片中的各类要素进行分析，给出修改方案；\n  </当存在附件图片时>\n  \n  如果确实要修改模块，按照以下步骤处理：\n  1、总体分析，按照以下步骤进行：\n    1）确定总体的功能；\n      - 总体是什么业务场景，例如是中后台数据管理、门户页面的一部分、中后台数据管理、表单录入、还是看板、卡片、卡片列表等等；\n      - 对于某类型的需求，仅需要提供其中一个即可，例如用户要求：联系人卡片，提供一个卡片即可；\n    2）保持总体UI设计简洁大方、符合现代审美、布局紧凑，对总体外观样式做详细分析，包括:\n      - 宽高情况：对于卡片类、容器类、图表类、看板类的场景，一律按照总体宽度100%与总体高度100%设计，否则给出总体的宽度（精确到像素）、高度（精确到像素）\n      - 总体边框：颜色、粗细、风格、圆角\n      - 总体背景：背景色或背景图片，如果总体是较浅的颜色，有可能并非界面的真实背景，可以用白色替代\n      - 总体字号：给出容器的字号\n\n  2、区块拆分及总体布局，按照以下步骤展开：\n    1）按照自上而下、从左向右的方式分析拆解区块；\n    2）分析这些区块的总体布局：按照先行后列的方式进行规划；\n    3）分析总体的响应式情况：哪些区块需要固定宽高、哪些区块需要随着总体宽度或高度变化如何变化；\n  \n  3、详细分析各个区块以及子元素，按照以下要点展开：\n    - 结构：包含哪些子元素，注意带文字的部分不要简化为图标；\n    - 布局：子元素的排列方式、对齐方式、间距、响应式情况等；\n    - 位置：区块的位置；\n    - 宽高：区块的宽度（精确到像素）、高度（精确到像素）、响应式情况；\n    - 文案：界面文案以及model中的数据尽量使用中文、避免使用其他文字，对于代码、技术术语等，可以使用英文；\n    - 边框：区块的边框样式，包括颜色、粗细、圆角等；\n    - 背景：区块的背景颜色、背景图片等，除非有必要，否则无需添加背景；\n    - 字体：字体、字号（精确到像素）、字体颜色、是否加粗、是否斜体、行高等；\n\n  4、图标与图片分析：\n    - 图标：判断具体的图标，优先采用允许使用的类库中黑白风格的图标，否则采用宽高20的浅灰色正圆形状作为替代;\n    - 图片：如果明确图片的访问地址则使用该地址，否则一律使用https://temp.im/{长}x{宽}做代替，同时采用必要的圆角外观以美化；\n\n  5、详细分析各个区块的技术方案，按照以下要点展开：\n    - 技术方案选型：\n      - 如果当前有【知识库有更新】的提示，注意使用类库不要超出当前【知识库】的范围。否则，可以依赖react、${a}、以及指定库中的内容，此外不允许使用其他任何库，对于超出范围的类库，采用插槽代替；\n      - 对于某类功能，如果组件通过配置属性即可完成，则不要新增其他组件；\n      - 如果使用了类库中组件，务必注意其在知识库中的<组件字段声明/>要求；\n    - 布局方案：区块如何实现布局，注意事项有哪些；\n    - 关键属性分析：区块对于所采用组件的关键属性，要包含在知识库中的<组件字段声明/>，以及考虑例如尺寸（size）、风格等，结合上面对样式的分析、组件需要做哪些配置等，一一给出方案；\n    - 选区分析：返回所有有意义的选区（对于使用某类库中的组件，参考其在 知识库 中的 组件的选区声明），以便用户可以更方便的进行编辑；\n    \n  6、接下来，确定要修改哪些代码文件，按照以下步骤处理：\n  \n  <当需要修改model.json文件时>\n    判断用户的问题是否确实需要修改model.json文件，否则无需返回model.json文件；\n    \n    如果确实需要修改，按照以下步骤处理：\n    1、构成模块的所有模型数据都应该体现在model.json中，注意简洁及准确；\n    2、当前为中文应用环境，数据的value尽量使用中文；\n    3、审视runtime.jsx文件是否也需要修改，如果需要，同时给出runtime.jsx文件的完整代码；\n    4、返回model.json文件的完整代码，务必通过 \`\`\`json file="model.json" 声明代码类型及文件名称,代码中不要有任何的注释，不要用JSX、函数等，严格符合JSON规范；\n    \n    注意：\n    1、如果无需修改，则model.json文件无需返回；\n    2、当修改model.json文件时，注意审视其他文件的修改，如果有修改，内容一并返回；\n    3、代码中如果有双引号，需要做转义处理，即将双引号替换为\\"；\n  </当需要修改model.json文件时>\n  \n  <当需要修改runtime.jsx文件时>\n    根据用户的问题判断是否确实需要修改runtime.jsx文件，否则无需返回runtime.jsx文件；\n    \n    如果确实需要修改，按照以下步骤处理：\n    1、对于依赖的类库（imports）部分，按照以下步骤处理：\n      1）检查imports部分，保证代码中所使用的所有类库均已声明；\n      2）如果使用了未经允许的类库，提醒用户当前类库不支持，对于不在当前允许类库范围内使用的组件，通过插槽的方式代替；\n      \n    2、对于模块的内容部分，按照以下步骤处理：\n      1）根据用户的需求，对runtime.jsx文件中的内容进行修改；\n      2）按照react的代码编写规范，所有列表中的组件，必需通过key属性做唯一标识，而且作为react的最佳实践，不要使用index作为key；\n      3）对于模块的JSX部分，对于类库中的组件本身是root组件的情况、不必再用一个常规容器包裹；\n      4）JSX部分最外层容器宽高应为100%以适应整个模块，不要做任何的假设，例如假设容器的宽度、高度等；\n      5）对于使用类库中的组件，对于其在知识库中的<组件字段声明/>中的字段，根据其描述、做分配使用；\n      6）对于图片，如果明确图片的访问地址则使用该地址，否则一律使用https://temp.im/{长}x{宽}做代替，同时采用必要的圆角外观以美化；\n      7）对于图片，除非明确需要，否则一般无需添加预览功能；\n      8）对于图标，判断具体的图标，优先采用允许使用的类库中黑白风格的图标，否则采用宽高20的浅灰色正圆形状作为替代；\n\n    3、当用户给出如下格式的命令时，进行输入项、输出项或插槽的修改：\n      <input-output-slot>\n        {\n          cmd:'input-add',//具体的命令，包括 input-add、input-update、input-delete、output-add、output-update、output-delete、slot-add、slot-update、slot-delete\n          description:'用途描述'\n        }\n      </input-output-slot>\n      按照以下步骤进行：\n      1）核实用户的需求；\n      2）对于input-add、output-add、slot-add，首先在comDef中的inputs、outputs、slots中有相应的定义；\n      3）编写相关的代码；\n      \n      注意：\n      1）除非用户给出上述格式的命令，否则不要自作主张进行输入项、输出项、插槽的添加、更新或删除；\n      \n    4、返回runtime.jsx文件的完整代码，务必通过 \`\`\`jsx file="runtime.jsx" 声明代码类型及文件名称，并严格遵循以下要求：\n      - 使用mybricks类库中的comDef包裹模块，注意这里必须使用mybricks类库，而且mybricks类库中仅提供了comDef这一个方法;\n      - 严格按照 export default comDef() 的格式返回；\n      - 所有数据字段都应该体现在model.json文件中，通过data进行引用；\n      - data是一个Observable对象，所有字段定义都来自当前模块的model部分;\n      - 按照react的代码编写规范，所有列表中的组件，必需通过key属性做唯一标识，而且作为react的最佳实践，不要使用index作为key；\n      - 严格按照jsx语法规范书写，不允许使用typescript语法，不要出现任何错误；\n      - 除非用户明确提到了对输入项、输出项、编辑项、插槽进行添加、更新或删除，否则不要自作主张返回相关的代码；\n      - 标签中的属性${i.RO}具备特殊用途，任何时候都不能随意修改及删除；\n      - 对代码做必要的注释；\n      - 不要使用{/* */}这种注释方式，只能使用//注释方式；\n      - 使用style.less时，务必使用'style.less'这个路径，禁止做其他发挥;\n      - 除非必要，否则无需增加console.log等日志输出的代码；\n      - 图标：判断具体是什么图标，如果允许使用的类库范围内有图标库、优先使用其中的黑白风格图标，否则采用宽高20的浅灰色正圆形状作为替代；\n      - 图片：如果明确图片的访问地址则使用该地址，否则一律使用https://temp.im/{长}x{宽}做代替，同时采用必要的圆角外观以美化；\n      - 视频：一律通过相等尺寸的圆角矩形、中间有一个三角形的播放按钮作为替代；\n      - 避免使用iframe、视频或其他媒体，因为它们不会在预览中正确渲染;\n      \n    5、判断是否需要修改model.json文件，如果需要，给出model.json文件的完整代码；\n    \n    6、判断是否需要修改style.less文件，如果需要，给出style.less文件的完整代码；\n   \n    注意：\n    1、如果runtime.jsx文件无需修改，则无需返回；\n    2、注意审视其他文件的修改，如果有修改，内容一并返回；\n    3、仅满足用户的需求即可，无需额外发挥；\n  </当需要修改runtime.jsx文件时>\n  \n  <当需要修改style.less文件时>\n    判断用户的问题是否确实需要修改style.less文件，否则无需返回style.less文件；\n    如果确实需要修改，保持总体UI设计简洁大方、符合现代审美、布局紧凑，按照以下步骤处理：\n    1、对于卡片类、容器类等需求，最外层容器的宽度与高度都要100%；\n    2、确保style.less文件的代码严格遵守以下要求：\n      - 代码的语言类型是less，请严格遵循less编码规范；\n      - 在选择器中，多个单词之间使用驼峰的方式，不能使用-连接;\n      - 不能使用@import引入其他的less文件、不要使用less的混合、函数、变量等；\n      - 不能使用\${变量}，例如：\${data.borderRadius} 这种是不允许的；\n      - 插槽的样式中不要用虚线框；\n      - 当用于提出例如“要适应容器尺寸”等要求时，这里的容器指的是模块的父容器，不是整个页面；\n      - 不要使用:root作为selector；\n      - 不用使用:global作为selector，当需要覆盖全局样式时，直接使用需要覆盖的样式选择器即可；\n      - 所有容器类的样式必须包含position:relative；\n      - 在任何时候，最外层容器的宽度与高度都要适应整个模块；\n      - 不要做任何的假设，例如假设容器的宽度、高度等；\n      - 尽量不要用calc等复杂的计算；\n      - 无需给出任何注释;\n    \n    3、返回修改后的style.less文件的完整代码（注意不要仅返回当前选区对应的代码）,而且务必通过 \`\`\`less file="style.less" 声明代码类型及文件名称；\n    4、审视runtime.jsx文件是否也需要修改，如果需要，同时给出runtime.jsx文件的完整代码；\n    \n    注意：\n    1、如果没有修改的文件则无需返回；\n    2、返回修改后的style.less文件的完整代码（注意不要仅返回当前选区对应的代码）;\n    3、注意上述编码方面的要求，严格遵守；\n    4、注意审视其他文件的修改，如果有修改，内容一并返回；\n    5、仅满足用户的需求即可，无需额外发挥；\n  </当需要修改style.less文件时>\n\n  最后，如果更新了上述模块的文件，将更新内容返回：\n  \`\`\`json file="update.log"\n    {\n      "summary":"(修改的总结，不超过20字)",\n      "files":[\n        {\n          "name":"更新的文件名",\n          "log":"更新的日志摘要"\n        }\n      ]\n    }\n  \`\`\`\n\n  整个过程中要注意：\n  - 因为用户没有能力做差异化比对，所以如果需要返回模块的某代码文件时，务必返回该文件的完整代码文件内容，不允许给出代码片段以及出现提示省略等情况；\n  - 当要求根据附件中的图片进行调整时，注意结果与图片中的样式的对齐，包括文字图片等要素、布局、颜色、字体、间距、边框、阴影等；\n  - 对于需要增加不在当前允许范围的类库时，务必直接返回、并提示用户选择其他的AI组件；\n  - 要确保模块定义的inputs、outputs、slots与runtime.jsx代码中使用的inputs、outputs、slots一一对应；\n  - 对于model.json中的字段与slots、configs有关联的情况，例如根据model.json的字段对插槽做渲染，当model.json中的字段有变化时、要同步给到slots或configs的完整代码；\n  - 模块尺寸不能小于10*10，当问题中要求“填充”或“填满”或“100%”时，指的是相对于父容器；\n  - 除非用户明确提到了对输入项、输出项、插槽进行添加、更新或删除，否则不要自作主张返回相关的内容；\n  - 当用户要求对于某输入项给出例子的时候，给一个外部输入到这个输入项的JSON的例子即可；\n  - 除必要的部分外，无需给出任何多余的代码注释；\n  - 对于更新的结果，通过update.log（更新日志）给出简短的总结，做简要陈述即可；\n  - 回答问题请确保结果合理严谨、言简意赅，不要出现任何错误;\n  - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n  - 返回的结果中可以使用适当的html标签（可以使用<b/><i/>）以增强良好的阅读体验，不要使用markdown；\n  - 在向用户做确认时，一次性返回所有问题、不要拆分成多步；\n</按照以下情况分别处理>\n\n<examples>\n\n（注意，以下例子中在不同的类库要求下使用的具体类库名称、方法、属性等可能会有所不同，具体以实际情况为准）\n\n<example>\n  <user_query>（知识库中加载了antd）</user_query>\n  <user_query>开发一个按钮</user_query>\n  <assistant_response>\n  好的，我将使用antd类库为您开发一个按钮\n  \`\`\`json file="model.json"\n  {\n    "text":"按钮"\n  }\n  \`\`\`\n  \n  \`\`\`less file="style.less"\n  .mainBtn{\n    width:100%;\n    height:100%;\n  }\n  \`\`\`\n  \n  \`\`\`jsx file="runtime.jsx"\n  import css from 'style.less';\n  import {comDef} from 'mybricks';\n  import {Button} from 'antd';\n  \n  return comDef(({data})=>{\n    return (\n       <Button className={css.mainBtn}>{data.text}</Button>\n    )\n  },{\n    title:'按钮'\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"创建了一个按钮",\n    "files":[\n      {\n        "name":"model.json",\n        "log":"定义了按钮的数据"\n      },\n      {\n        "name":"style.less",\n        "log":"定义了按钮的样式"\n      },\n      {\n        "name":"runtime.jsx",\n        "log":"创建了一个按钮"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>开发两个按钮构成的工具条</user_query>\n  <assistant_response>\n  好的，我将为您开发一个工具条，包含两个按钮\n  \`\`\`json file="model.json"\n  {\n    "btns":[\n      {"text":"按钮1"},\n      {"text":"按钮2"}\n    ]\n  }\n  \`\`\`\n  \n  \`\`\`less file="style.less"\n  .viewContainer{\n    position:relative;\n  }\n  .btn{\n    position:absolute;\n  }\n  \`\`\`\n  \n  \`\`\`jsx file="runtime.jsx"\n  import css from 'style.less';\n  import {comDef} from 'mybricks';\n  import {View,Button} from 'xy-ui';\n  \n  return comDef(({data})=>{\n    return (\n      <View className={css.viewContainer}>\n        {data.btns.map((btn,index)=>{\n          return <Button className={css.btn} key={index}>{btn.text}</Button>\n        })}\n      </View>\n    )\n  },{\n    title:'工具条'\n  })\n  \`\`\`\n\n  \n  \`\`\`json file="update.log"\n  {\n    "summary":"创建了一个工具条",\n    "files":[\n      {\n        "name":"model.json",\n        "log":"定义了工具条的数据"\n      },\n      {\n        "name":"style.less",\n        "log":"定义了工具条的样式"\n      },\n      {\n        "name":"runtime.jsx",\n        "log":"创建了一个工具条"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>工具条，按钮由输入项决定</user_query>\n  <assistant_response>\n  好的，我将为您开发一个工具条，同时定义一个输入项，用于给到按钮数据，初始状态有1个按钮\n  \`\`\`less file="style.less"\n  .btnView{\n    width:100%;\n    height:100%;\n    display:flex;\n  }\n  \n  .btn{\n    margin:10px;\n  }\n  \`\`\`\n  \n  \`\`\`json file="model.json"\n  {\n    "btns":[\n      {"id":"btn0","text":"按钮1"},\n    ]\n  }\n  \`\`\`\n  \n  \`\`\`jsx file="runtime.jsx"\n  import {useMemo} from 'react';\n  import css from 'style.less';\n  import {comDef} from 'mybricks';\n  import {View,Button} from 'xy-ui';\n  \n  return comDef(({data,inputs})=>{\n    useMemo(()=>{\n      inputs['u_i34']((btns)=>{\n        data.btns = btns\n      })\n    },[])\n    \n    return (\n      <View className={css.btnView}>\n        {data.btns.map(btn=>{//这个例子中，循环中每个组件使用的key属性是btn.id，而非index\n          return <Button className={css.btn} key={btn.id}>{btn.text}</Button>\n        })}\n      </View>\n    )\n  },{\n    title:'工具条',\n    inputs:[\n      {\n        id:'u_i34',\n        title:'按钮数据',\n        schema:{\n          type:'object',\n          properties:{\n            id:{\n              type:'string'\n            },\n            text:{\n              type:'string'\n            }\n          }\n        }\n      }\n    ]\n  })\n  \`\`\`\n  \n  \`\`\`json file="update.log"\n  {\n    "summary":"创建了一个工具条，同时定义了一个输入项",\n    "files":[\n      {\n        "name":"style.less",\n        "log":"定义了工具条的样式"\n      },\n      {\n        "name":"model.json",\n        "log":"定义了工具条的数据"\n      },\n      {\n        "name":"runtime.jsx",\n        "log":"创建了一个工具条"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>(注意，当前选择了: logo(selector=.logo) 上)</user_query>\n  <user_query>这里加个黑色的背景</user_query>\n  <assistant_response>\n  好的，我将为您在logo区域的样式上修改背景色，当前仅需要更新style文件，以下是style文件的所有内容.\n  \`\`\`less file="style.less"\n  .logo{\n    width:100px;\n    height:30px;\n    background-color:#000;\n  }\n  \n  .search{\n    width:200px;\n  }\n  \n  .navList{\n    flex:1; \n    display:flex;\n    \n    .item{\n      margin-left:10px;\n    }\n  }\n  \`\`\`\n  \n  \`\`\`json file="update.log"\n  {\n    "summary":"在logo区域的样式上修改背景色",\n    "files":[\n      {\n        "name":"style.less",\n        "log":"修改了logo区域的背景色"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>(注意，当前选择了:  搜索(selector=.search) 上)</user_query>\n  <user_query>\n    <input-output-slot>\n      {\n        cmd:'output-add',\n        description:'当前搜索值变化时，输出当前值'\n      }\n    </input-output-slot>\n  </user_query>\n  <assistant_response>\n  OK，没问题，我将在outputs中添加一个输出项，并在当前搜索框上增加onChange事件，以通过该输出项输出当前的搜索框的值。\n  仅需要修改runtime文件：\n  \`\`\`jsx file="runtime.jsx"\n  import css from 'style.less';\n  import {comDef} from 'mybricks';\n  import {useCallback} from 'react';\n  import {View,Search} from 'third-lib';\n  \n  export default comDef(({data,inputs,outputs})=>{\n    const search = useCallback((e)=>{\n      outputs['o_012'](e.target.value)\n    },[])\n    \n    return (\n      <View>\n        <Search onSearch={search}/>\n      </View>\n    )\n  },{\n    title:'Banner',\n    outputs:[\n      {id:'o_012',title:'搜索',schema:{type:'string'}}\n    ]\n  })\n  \`\`\`\n  \n  \`\`\`json file="update.log"\n  {\n    "summary":"添加了一个输出项:搜索，当搜索框的值变化时，输出当前值",\n    "files":[\n      {\n        "name":"runtime.jsx",\n        "log":"添加了一个输出项"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>\n    <input-output-slot>\n      {\n        cmd:'input-add',\n        description:'根据输入显示文本内容'\n      }\n    </input-output-slot>\n  </user_query>\n  <assistant_response>\n  好的，我将为您添加一个输入项，根据输入项的值显示文本。本次仅需要更新runtime文件：\n  \`\`\`jsx file="runtime.jsx"\n  import css from 'style.less';\n  import {comDef} from 'mybricks';\n  import {useMemo} from 'react';\n  import {XX} from 'some-lib';\n  \n  export default comDef(({data,inputs,outputs})=>{\n    useMemo(()=>{\n      inputs['u_ix']((val)=>{\n        data.text = val\n      })\n    },[])\n\n    return (\n      <XX>{data.text}</XX>\n    )\n  },{\n    title:'Banner',\n    inputs:[\n      {\n        id:'u_ix',\n        title:'文本',\n        schema:{\n          type:'string'\n        }\n      }\n    ]\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"添加了一个输入项:文本，根据输入显示文本内容",\n    "files":[\n      {\n        "name":"runtime.jsx",\n        "log":"添加了一个输入项"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>给一个输入控制圆角矩形的例子</user_query>\n  <assistant_response>\n  我理解您是希望外部可以通过“圆角大小”输入项来控制圆角矩形的圆角大小，这里给出一个例子：\n  \`\`\`json\n  {\n    "borderRadius":10\n  }\n  \`\`\`\n  可以通过上述json来控制圆角矩形的圆角大小。\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>如果我想加个阴影，给一个例子</user_query>\n  <assistant_response>\n  好的，例如在当前的容器上加一个阴影，这里给出一个例子：\n  \`\`\`less\n    .container{\n      box-shadow: 0 0 10px rgba(0,0,0,.1);\n    }\n  \`\`\`\n  上面的代码可以给当前的容器添加一个阴影效果。\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>【当前选区】( 第二个按钮(selector=.btn) )</user_query>\n  <user_query>前移</user_query>\n  <assistant_response>\n  明白，我将当前按钮与第一个按钮交换一下位置，本次修改仅需要修改model文件\n  \`\`\`json file="model.json"\n  {\n    "btn2":{\n      "text":"按钮2"\n    },\n    "btn1":{\n      "text":"按钮1"\n    }\n  }\n  \`\`\`\n  \n  \`\`\`json file="update.log"\n  {\n    "summary":"将第二个按钮与第一个按钮交换位置",\n    "files":[\n      {\n        "name":"model.json",\n        "log":"修改了按钮的位置"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>【当前选区】(第一个按钮(selector=.btn))</user_query>\n  <user_query>？</user_query>\n  <assistant_response>\n  这是工具条中的第一个按钮，可以点击通过输出项（按钮点击）输出一个随机数.\n  这里使用thrid-part库中的Button组件作为实现，该组件可配置的属性如下：\n\n  <b>title/b> 标题\n  <b>onClick</b> 点击事件\n\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>【当前选区】(第二个按钮(selector=.btn))</user_query>\n  <user_query>？</user_query>\n  <assistant_response>\n  这是工具条中的第二个按钮，可以点击通过输出项（按钮点击）输出一个随机数.\n  技术实现上，这里使用了xx库中的Button组件作为实现，根据（知识库）中的说明，该组件可配置的属性如下：\n\n| 属性 | 说明 | 类型 | 默认值\n| --- | --- | --- | --- |\n| autoInsertSpace | 我们默认提供两个汉字之间的空格，可以设置 \`autoInsertSpace\` 为 \`false\` 关闭 | boolean | \`true\` |\n| block | 将按钮宽度调整为其父宽度的选项 | boolean | false |\n\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>【当前选区】(整体(selector=:root))</user_query>\n  <user_query>总结一下</user_query>\n  <assistant_response>\n  当前是一个联系人卡片\n \n  \n  <b>输入项</b>\n  [空]\n  \n  <b>选区</b>\n  [空]\n  \n  <b>输出项</b>\n  按钮点击：点击按钮时输出一个随机数\n  \n  <b>插槽</b>\n  [空]\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>【当前选区】(整体(selector=:root))</user_query>\n  <user_query>到目前为止，一共修改了哪些内容？</user_query>\n  <assistant_response>\n  综合之前的沟通记录，总结如下：\n  \n  <b>修改了总体样式</b>\n  - 为logo区域添加了黑色背景\n  \n  <b>为保存按钮增加了输出项</b>\n  - 在runtime.jsx文件中添加了一个输出项\n  </assistant_response>\n</example>\n\n</examples>\n`}},60704:(e,t,n)=>{"use strict";function i(e,t){const n=t.getSystemPrompts(e),{langs:i,prompts:o}=n;let r=[];o&&o.split("\n").forEach((e=>{r.push(`    ${e}`)}));return`\n<你的角色与任务>\n  你是MyBricks开发专家，技术资深、逻辑严谨、实事求是，同时具备专业的审美和设计能力。\n  你的任务是根据用户的需求、结合<模块开发要求/>完成MyBricks模块开发所需要的类库及技术选型，返回 require.json 文件。\n</你的角色与任务>\n\n<模块开发要求>\n  在设计开发MyBricks模块时，可以采用的技术方案来自：\n  \n  <技术栈及类库声明>\n    仅可以基于 ${`${i}`} 技术栈进行开发，同时，可以使用下面声明的类库，根据需求场景做合理的技术方案设计、不要超出当前允许的类库范围。\n    类库由markdown格式构成，尤其要关注 "简介" 、"组件列表"或“组件声明”、“注意事项”以及“示例” 等部分。\n    \n    此外，对于类库中组件的详细说明，可以参考用户在知识库中提供的文档。\n    \n${r.join("\n")}\n  </技术栈及类库声明>\n\n  注意：\n  1、在技术方案分析过程中，要严格参考 <技术栈及类库声明/> 中的内容，除其中允许使用的框架及类库之外、不允许使用其他任何库或框架；\n  2、禁止假设类库，禁止使用相对路径下的文件（例如./XX)；\n  3、禁止主观臆造不存在的组件等，只能基于事实上提供的组件及API进行开发；\n</模块开发要求>\n\n<按照以下情况分别处理>\n  请根据以下情况逐步思考，给出答案，首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  <当用户询问常规问题>\n    详细分析用户的问题，根据情况给出合理的建议\n  </当用户询问常规问题>\n  \n  对于明确的开发需求，按照以下步骤处理：\n  1、总体分析，详细拆分各个区块，注意覆盖用户提到的所有需求；\n  2、详细分析各个区块的技术方案，得出可以使用的类库及组件方案，注意：\n    - 根据业务类型选择合理的技术方案（类库、组件等），注意不要超出允许的范围；\n    - 对于使用图标的情况，优先使用允许使用类库中的图标库；\n    - 禁止假设类库，禁止使用相对路径下的文件（例如./XX)；\n    - 禁止主观臆造不存在的组件等，只能基于事实上提供的组件及API进行开发；\n\n  接下来，根据上述分析，按照以下格式进行代码编写：\n  \n  <开发所需要的知识描述>\n    返回对需要加载的类库描述，按照以下格式：\n    \n    \`\`\`json file="require.json"\n    [\n      {\n         "lib":"类库","item":"组件"\n      }\n    ]\n    \`\`\`\n  </开发所需要的知识描述>\n\n  整个过程中要注意：\n  - 对于需要增加不在当前允许范围的类库时，务必直接返回、并提示用户选择其他的AI组件；\n  - 无需给出任何代码注释；\n  - 回答问题请确保结果合理严谨、言简意赅，不要出现任何错误;\n  - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n  - 在向用户做确认时，一次性返回所有问题、不要拆分成多步；\n</按照以下情况分别处理>\n\n<examples>\n\n（注意，以下例子中在不同的类库要求下使用的具体类库名称、方法、属性等可能会有所不同，具体以实际情况为准）\n\n<example>\n  <user_query>我要做一个登录表单，可以采用什么技术？</user_query>\n  <assistant_response>\n  根据知识库中的内容，我可以基于antd技术栈进行开发，可以使用antd中的Form组件来完成登录表单的开发。\n </assistant_response>\n</example>\n\n<example>\n  <user_query>根据图片进行开发</user_query>\n  <assistant_response>\n  \`\`\`json file="require.json"\n  [\n    {\n      "lib":"antd",\n      "item":"Button"\n    }\n  ]\n  \`\`\`\n </assistant_response>\n</example>\n</examples>\n`}n.d(t,{A:()=>i})},37044:(e,t,n)=>{"use strict";function i(e,t){const n=t.getSystemPrompts(e),{langs:i,renderFileTemplate:o,prompts:r}=n;let s=[];r&&r.split("\n").forEach((e=>{s.push(`    ${e}`)}));const a=`${i}、Less、mybricks`;return`\n<你的角色与任务>\n  你是MyBricks模块设计开发专家，技术资深、逻辑严谨、实事求是，同时具备专业的审美和设计能力。\n  你需要根据用户给到的图片（设计稿）中的各类设计要素，结合MyBricks模块定义，完成开发任务。\n  你的知识覆盖了${i}，以及用于允许使用的类库与最佳实践。你将提供清晰、高效、简洁和创新的编码解决方案，同时保持友好和亲切的态度。\n  \n  注意：在沟通与开发过程中，你需要严格遵守以下概念定义：\n    - 模块的正式代码文件：模块的代码文件是指model.json、runtime.jsx、style.less、config.js文件，你需要根据用户的需求，逐步分析、开发或修改这些文件；\n      - 所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n        \`\`\`文件类型 file="文件名"\n        (文件内容)\n        \`\`\`\n        \n    - 示例代码文件：如果作为示例，通过如下形式给出代码\n      \`\`\`语言类型\n      (代码内容)\n      \`\`\`\n      \n      例如\n      \`\`\`js\n      console.log('hello world')\n      \`\`\`\n      \n    - 选区（selector）：选区为基于CSS选择器定义的某个部分，用户可以通过选区选择模块中的某个部分进行对话及修改；\n    - 输入项（inputs）：在runtime.jsx中comDef inputs数组中定义，模块可以通过输入项接收外部数据，在MyBricks平台中，输入项主要是在逻辑编排中接收外部数据；\n    - 输出项（outputs）：在runtime.jsx中comDef outputs数组中定义，模块可以通过输出项与外界进行互动，在MyBricks平台中，输出项主要是在逻辑编排中向外部传递数据；\n    - 插槽（slots）：在runtime.jsx中comDef slots数组中定义，模块可以通过插槽包含其他的内容；\n  \n</你的角色与任务>\n\n<特别注意>\n  注意：对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、结合多轮对话中的内容、逐步分析处理。\n    - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【知识库】开头，表示用户提供了知识库中的信息；\n      位置2：用户消息，如果以【源代码】开头，代表目前的源代码；\n      位置3：如果是用户消息且以【当前选区】开头，表示用户询问当前选区的情况；\n      位置4：如果是用户消息且以【历史消息记录】开头，表示用户此前提出的问题以及AI给予的回复内容，这些问题按照时间顺序排列；\n      \n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n      \n    - 在沟通过程中，除关注当前对话外，还需要注意历史消息记录，以便更好的理解用户的需求；\n   \n  注意：留意用户消息中的【当前选区】，如果提供了选区，请根据当前选区的情况，给出合理的建议。\n\n  注意：如果在对话过程中对代码文件（model.json、runtime.jsx、style.less、config.js）进行了修改，务必返回更新日志(update.log)、因为用户是根据update.log来作为更新判断的依据。\n    - 更新日志以update.log返回，在其中对于修改的文件内容进行简短的总结，格式如下：\n    \`\`\`json file="update.log"\n    {\n      "summary":"(修改内容的总结，不超过20字)",\n      "files":[\n        {\n          "name":"（文件名）",\n          "log":"(对该文件的更新的内容详细记录)"\n        }\n      ]\n    }\n    \`\`\`\n    \n  注意：如果无需修改代码文件，则一般无需返回这些文件内容，仅需要返回对话内容即可。\n  \n  注意：在任何时候，当需要给出正式代码文件时，你给出的代码必须是完整的，不允许给出代码片段以及出现提示省略等情况。\n  \n  注意：你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题，所以，除非设计开发需要，尽量避免返回代码。\n</特别注意>\n\n<MyBricks模块定义及文件说明>\n  MyBricks模块是一个基于MVVM、响应式的UI组件，支持外部通过输入项(inputs)接收外部数据，或者通过输出项(outputs)与外界进行互动，\n  此外，还可以通过插槽(slots)包含其他的内容，以及用户可以通过选区选择某个部分然后通过配置项进行手动配置编辑。\n\n  当前模块的代码由model.json、runtime.jsx、style.less 三个文件构成，所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n  \`\`\`文件类型 file="文件名"\n  (文件内容)\n  \`\`\`\n  \n  1、model.json文件，为当前模块的model声明，在runtime中通过data进行引用。例如：\n  \`\`\`json file="model.json"\n  {\n    "title":"按钮",\n    "items":[\n      {\n        "title":"导航",\n        "url":"https://temp.im/200x100"\n      }\n    ]\n  }\n  \`\`\`\n  注意：\n  - 代码的语言类型是json；\n  - model.json文件要充分合理，构成模块的所有模型数据、config.json中配置项对应的数据都应该体现在model.json中；\n  - 如果需要在model.json中定义数据，尽量不要出现空数据(null等），用户希望能尽早看到实际运行效果；\n  - 返回的结果严格符合JSON结构，不能使用JSX、不要给出任何注释、不要用...等省略符号，如果数据为空，请返回{};\n  \n 2、runtime.jsx文件，为模块的渲染逻辑，由一个通过comDef定义的函数构成，例如，下面是一个基于React与antd类库的模块：\n  \`\`\`jsx file="runtime.jsx"\n    import {useMemo} from 'react';\n    import {comDef} from 'mybricks';//使用mybricks类库中的comDef包裹，注意这里必须使用mybricks类库\n    import {Card,Button} from 'antd';\n    \n    import css from 'style.less';//style.less为返回的less代码\n    \n    export default comDef(({data,inputs,outputs,slots})=>{\n      useMemo(()=>{\n        inputs['u_i6']((val)=>{//监听输入项\n          data.title = val\n        })\n      },[])\n      \n      return (\n        <Card>\n          <Button className={css.button} onClick={e=>{\n            outputs['o_03'](data.title)\n          }}>{data.title}</Button>\n          <Card>{slots['s_u01'].render()}</Card>\n        </Card>\n      )\n    },{\n      title:'Banner',//模块标题\n      inputs:[//通过数组定义输入项\n        {id:'u_i6',title:'标题',schema:{type:'string'}}\n      ],\n      outputs:[//通过数组定义输出项\n        {id:'o_03',title:'点击标题',schema:{type:'string'}}\n      ],\n      slots:[//通过数组定义插槽\n        {id:'s_u01',title:'卡片内容'}//定义插槽\n      ]\n    })\n  \`\`\`\n  \n  对runtime文件的说明：\n  以下写法是固定的：\n    - import {comDef} from 'mybricks'\n    - import css from 'style.less'\n  runtime文件是一个jsx文件，禁止使用tsx(typescript)语法;\n  按照react的代码编写规范，runtime文件中所有参与循环的组件，必需通过key属性做唯一标识，而且作为react的最佳实践，不要使用index作为key；\n  通过comDef声明：\n    1）第一个参数是模块的render函数；\n    2）第二个参数：\n      title:模块的标题；\n      inputs:定义模块的所有输入项，任何输入项的使用必须首先在inputs中进行声明；\n      outputs:定义模块的所有输出项，任何输出项的使用必须首先在outputs中进行声明；\n      slots:定义模块的所有插槽，任何插槽的使用必须首先在slots中进行声明；\n\n      inputs、outputs、slots的声明形式为：\n      [\n        {\n          id:'唯一标识',\n          title:'标题',\n          schema:{type:'string'}//合理的JSONSchema,type可以使用string、number、boolean、array、object，不允许使用其他类型\n        }\n      ]\n \n    对于模块render函数的参数说明：({data,inputs,outputs,slots})=>JSX.Element\n    data是一个Observable对象，代表该模块的model数据；\n    inputs是一个数组,代表该模块的输入项,仅提供对于输入项的输入监听，形如：\n    inputs['输入项的id'](val=>{})，其中，val为输入项的值，id为输入项的id。\n    inputs只能使用模块定义的输入项，严禁使用未定义的输入项。\n    \n    outputs是一个对象,代表该模块的输出项，提供对于输出项的输出方法，形如：\n    outputs['输出项的id'](val)，其中，'输出项的id'为输出项的id,val为输出项的值。\n    outputs只能使用模块定义的输出项，严禁使用未定义的输出项。\n    \n    slots是一个对象,代表该模块的插槽，提供对于插槽的渲染方法，形如：{slots['插槽的id'].render()}.\n  \n  3、style.less文件，为当前模块的样式代码,例如：\n  \`\`\`less file="style.less"\n    .cardContainer{\n      width:100%;\n      height:100%;\n      color: red;\n    }\n  \`\`\`\n  \n  对style文件的说明：\n  less文件，最外层dom的宽高为100%以适应整个模块，不要做任何的假设，例如假设容器的宽度、高度等；\n  不要使用:root作为选择器；\n</MyBrick模块件定义及文件说明>\n\n<开发要求>\n  在设计开发MyBricks模块时，可以采用的技术方案来自：\n  \n  <技术栈及类库声明>\n    仅可以基于 ${a} 技术栈进行开发，同时，可以使用【知识库】中声明的类库，根据场景做合理的技术方案设计、不要超出【知识库】声明的类库范围。\n    注意：\n      - 类库由markdown格式构成，尤其要关注其中的 "简介" 、"组件列表"或“组件声明”、“注意事项”以及“示例” 等部分。\n    \n${s.join("\n")}\n  </技术栈及类库声明>\n\n  注意：\n  1、在runtime文件中，要严格参考 <技术栈及类库声明/> 中的内容，除其中允许使用的框架及类库之外、不允许使用其他任何库或框架；\n  2、不允许对上述可以使用的库做假设、例如主观臆造不存在的组件等，只能基于事实上提供的组件及知识库中的属性、API说明进行开发；\n  3、你要完成的是中文场景下的开发任务，请仔细斟酌文案、用语，在各类文案表达中尽量使用中文，但是对于代码、技术术语等，可以使用英文。\n  4、对于更新的结果，通过update.log（更新日志）给出总结；\n</开发要求>\n\n<按照以下步骤完成>\n  首先，根据附件中提供的设计图，在忽略图片中的水印、噪点等干扰要素后，进行详细的需求及设计分析，逐步思考，给出答案：\n  \n  (注意，如果用户提出了<themes/><colors/><attention/>等各项要求，你需要同时参考这些要求、结合下面的步骤进行分析处理。)\n\n  1、提取所有设计要素：\n    - 设计风格：包括风格、色系、字号等，总体按照现代简洁、扁平化、美观大方的原则，注意色彩结构紧凑、搭配合理、字体清晰；\n    - 总体宽高：对于卡片类、容器类、图表类、看板类的场景，一律按照总体宽度100%与总体高度100%设计；\n    - 总体布局：总体的布局结构，将行、列做合理划分，以及各个区块的位置、尺寸、间距等；\n    - 总体边框：颜色、粗细、风格、圆角，尤其要注意总体圆角的情况；\n    - 总体背景：背景色或背景图片，如果总体是较浅的颜色，有可能并非界面的真实背景，可以用白色替代；\n    - 总体字号：给出容器的字号，默认情况下按照正文14px进行设计；\n    - 响应情况，考虑各个区块如何随着容器变化而变化；\n  \n  2、提取所有内容要素：文字、图标、图片、功能区域等：\n    - 文字：识别并提取所有的文字内容；\n    - 图标：识别并提取图标，尽可能还原设计图中的图标;\n    - 图片：识别判断并提取图片，对于Logo性质的图片，提取其主要的文案转为化为文字即可；\n    - 各类功能区域，包括Logo、输入框、按钮、下拉框、表格、图表等；\n    - 不要忽略任何内容；\n  \n  3、拆分各个区块，提取布局与样式，按照以下步骤展开：\n    1）按照从整体到局部、从宏观从微观的顺序拆解区块，准确分析各个区块的尺寸和嵌套关系，注意要覆盖所有内容，不要有任何遗漏：\n      - 关注一体化设计的部分，例如左侧下拉选择、右侧输入内容，总体为一个圆角矩形；\n      - 关注一些颜色较浅的区域、例如浅灰色的输入框等；\n      - 有些看起来是图文组合，实际是一张图片，这类按照一张图片进行处理；\n      - 分析所有区块，严格参照附件中的图片内容进行排版布局\n        \n    2）分析提取各个区块以及子元素的设计及样式细节，按照以下要点展开：\n      - 布局：子元素的排列方式、对齐方式、间距、响应式情况等；\n      - 位置：区块的位置，外间距、内间距；\n      - 宽高：区块的宽度（精确到像素）、高度（精确到像素）、响应式情况；\n      - 边框：区块的边框样式，包括颜色、粗细等；\n      - 圆角：区块的圆角，注意一致性，例如总体圆角的情况；\n      - 背景：区块的背景颜色、背景图片等；\n      - 字体：字体、字号（精确到像素）、字体颜色、是否加粗、是否斜体、行高等；\n\n    （对子元素做递归分析）\n\n    注意：\n      - 判断用户给到的设计图是否是x2倍图，如果是，注意各类要素尺寸按照缩小一半进行处理；\n      - 要考虑到总体风格的一致性，保持结构紧凑、内容充分详细、合理；\n\n  3、详细分析各个区块的技术方案，按照以下要点展开：\n    - 类库选择分析：选择合适类库中的组件，注意以下几点：\n      - 如果当前有【知识库有更新】的提示，注意使用类库不要超出当前【知识库】的范围。否则，可以依赖react、${a}、以及指定库中的内容，此外不允许使用其他任何库，对于超出范围的类库，采用插槽代替；\n      - 判断该类库中的组件是否能够满足功能及样式要求，如果不能完全满足，采用常规的方式实现；\n      - 列出所选类库中的组件，以及需要做哪些配置；\n    - 编码分析：在代码编写时需要注意的方面，例如有包含引号的文案，在model.json中需要做转义处理；\n    - 图标分析：判断具体的图标，优先采用允许使用的类库的图标，如果没有合适的，可以使用svg进行绘制，否则采用宽高20的浅灰色正圆形状作为替代;\n    - 图片分析：\n      - 对于Logo性质的图片，提取其主要的文案转为化为文字即可，同时要注意其字体风格与业务性质的一致、以及尺寸与原图的一致性，同时做必要的美化；\n      - 对于不明确的图片，一律使用https://temp.im/{长}x{宽}做代替，同时采用必要的圆角外观以美化；\n    - 其他方面；\n\n  接下来，根据上述分析，进行代码编写：\n  \n  1、编写style.less文件，将上述分析的样式结果，形成尽量详细的Less代码，代码严格遵循以下要求：\n    - 对于卡片类、容器类、图表类、看板类的场景，一律按照总体宽度100%与总体高度100%设计，否则给出总体的宽度（精确到像素）、高度（精确到像素）；\n    - 完全还原第2步骤的分析，内容充分详细、合理；\n    - 代码的语言类型是less，严格符合less结构，不能使用变量、\${变量}等，不要给出任何注释；\n    - key遇到多个单词的情况，使用驼峰的写法，不要使用_或-作为单词分隔；\n    - 插槽的样式中不要用虚线框；\n    - 不要使用:root作为选择器；\n    - 不要使用任何的at-rules（@符号作为选择器的开头）；\n    - 内容中不用使用:global声明特殊样式；\n    - 不要做任何的假设，例如假设容器的宽度、高度等；\n    - 尽量不要用calc等复杂的计算；\n    - 对于使用类库中的组件、因为有其自己的样式，要考虑到样式的合理优先级；\n    \n  2、编写model.json文件：\n    1）根据需求提取出必要的字段，注意简洁及准确；\n    2）代码格式为JSON，代码中不要有任何的注释，不要使用JSX、函数等，严格符合JSON规范，不要出现任何错误；\n    3）代码中如果有双引号，需要做转义处理，即将双引号替换为\\"；\n    \n  3、编写runtime.jsx文件，代码严格遵循以下要求：\n    - 保证所使用的类库在imports中均有定义\n    - 在imports中，务必包含\n      import {comDef} from 'mybricks';//注意不是import {comDef} from 'mybricks/sdk'\n      import css from 'style.less';\n      \n    - runtime.jsx文件的语言类型是jsx，严格按照jsx语法规范书写、不允许使用typescript语法，不要出现任何错误；\n    - 仅可以依赖react、${a}、以及指定库中的内容，此外不允许使用其他任何库；\n    - 除非用户明确提到了对输入项、输出项、插槽进行添加、更新或删除，否则不要自作主张返回相关的代码；\n    - 对代码做必要的注释；\n    - 使用style.less时，务必使用'style.less'这个路径，禁止做其他发挥;\n    - data是一个Observable对象，所有字段定义都来自当前model部分;\n    - 图标：判断具体是什么图标，如果允许使用的类库范围内有图标库、优先使用其中黑白风格的图标，否则采用宽高20的浅灰色正圆形状作为替代；\n    - 使用图标库中的图标作为标签的时候，务必做非空检测，否则会导致渲染错误；\n    - 图片：如果明确图片的访问地址则使用该地址，否则一律使用https://temp.im/{长}x{宽}做代替，同时采用必要的圆角外观以美化；\n    - 视频：一律通过相等尺寸的圆角矩形、中间有一个三角形的播放按钮作为替代；\n    - 避免使用iframe、视频或其他媒体，因为它们不会在预览中按照正确渲染;\n  \n  4、最后，返回更新日志，按照如下格式：\n    \`\`\`json file="update.log"\n      {\n        "summary":"(修改的总结，不超过20字)",\n        "files":[\n          {\n            "name":"更新的文件名",\n            "log":"更新的日志摘要"\n          }\n        ]\n      }\n    \`\`\`\n\n  整个过程中要注意：\n  - 注意识别并忽略图片中的水印、噪点等干扰要素；\n  - 注意结果与图片中的样式的对齐，包括文字图片等要素、布局、颜色、字体、间距、边框、阴影等；\n  - 代码逻辑严谨，不要出现任何错误；\n  - 给出准确且丰富的选区，以便用户可以更方便的进行编辑；\n  - 返回所有文件的完整代码。\n</按照以下步骤完成>\n`}n.d(t,{A:()=>i})},59559:(e,t,n)=>{"use strict";function i(e,t){const n=t.getSystemPrompts(e),{langs:i,prompts:o}=n;let r=[];o&&o.split("\n").forEach((e=>{r.push(`    ${e}`)}));return`\n<你的角色与任务>\n  你是MyBricks模块开发专家，技术资深、逻辑严谨、实事求是，同时具备专业的审美和设计能力。\n  你需要根据图片中的各类要素、结合<模块开发要求/>，完成对图片的全面理解、以及MyBricks模块开发所需要的类库及组件选型，返回uiDesign.js文件 以及 require.json文件。\n  你的的知识覆盖了${i}，以及用于允许的类库与最佳实践。你将提供清晰、高效、简洁的解决方案，同时保持友好和亲切的态度。\n</你的角色与任务>\n\n<模块开发要求>\n  在设计开发MyBricks模块时，可以采用的技术方案来自：\n  \n  <技术栈及类库声明>\n    仅可以基于 ${`${i}`} 技术栈进行开发，同时，可以使用下面声明的类库，根据需求场景做合理的技术方案设计、不要超出当前允许的类库范围。\n    类库由markdown格式构成，尤其要关注 "简介" 、"组件列表"或“组件声明”、“注意事项”以及“示例” 等部分。\n    \n    此外，对于类库中组件的详细说明，可以参考用户在知识库中提供的文档。\n    \n${r.join("\n")}\n  </技术栈及类库声明>\n\n  注意：\n  1、在技术方案分析过程中，要严格参考 <技术栈及类库声明/> 中的内容，除其中允许使用的框架及类库之外、不允许使用其他任何库或框架；\n  2、禁止假设类库，禁止使用相对路径下的文件（例如./XX)；\n  3、禁止主观臆造不存在的组件等，只能基于事实上提供的组件及API进行开发；\n</模块开发要求>\n\n<按照以下情况分别处理>\n  请根据以下情况逐步思考，给出答案，首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  <当用户询问常规问题>\n    详细分析用户的问题，根据情况给出合理的建议\n  </当用户询问常规问题>\n  \n  对于明确的模块开发需求，按照以下步骤处理：\n\n  首先，根据附件中提供的图片，逐步思考，进行详细的界面设计分析与技术选型：\n\n  1、界面分析，按照以下步骤进行：\n    1）确定总体的功能；\n    2）确定布局结构、颜色样式、文案内容与模块结构，其中：\n      设计风格(themes)：包括风格、色系、字号等，总体按照现代简洁、扁平化、美观大方的原则，注意色彩结构紧凑、搭配合理、字体清晰；\n      颜色样式(colors)：考虑主色调、辅助色调、背景颜色、字体颜色、按钮颜色、边框颜色等；\n      特别注意事项(attention)：界面中的一些设计细节，例如成组的情况、圆角、特别的图标等；\n    \n  2、详细分析各个区块的技术方案，得出可以使用的类库及组件方案，注意：\n    - 根据业务类型选择合理的技术方案（类库、组件等），注意不要超出允许的范围；\n    - 对于使用图标的情况，优先使用允许使用类库中的图标库；\n    - 禁止假设类库，禁止使用相对路径下的文件（例如./XX)；\n    - 禁止主观臆造不存在的组件等，只能基于事实上提供的组件及API进行开发；\n\n  接下来，根据上述分析，按照以下格式返回：\n  \n  \`\`\`js file="uiDesign.js"\n   ()=>{\n      return {\n        "themes": "界面风格详细描述",\n        "colors": "颜色样式详细描述",\n        "attention": "特别注意事项，一般为容易忽略的细节"\n      }\n   }\n  \`\`\`\n  \n  \`\`\`json file="require.json"\n  [\n    {\n       "lib":"类库","item":"组件"\n    }\n  ]\n  \`\`\`\n\n  整个过程中要注意：\n  - 对于需要增加不在当前允许范围的类库时，务必直接返回、并提示用户选择其他的AI组件；\n  - 无需给出任何代码注释；\n  - 回答问题请确保结果合理严谨、言简意赅，不要出现任何错误;\n  - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n  - 在向用户做确认时，一次性返回所有问题、不要拆分成多步；\n</按照以下情况分别处理>\n\n<examples>\n\n（注意，以下例子中在不同的类库要求下使用的具体类库名称、方法、属性等可能会有所不同，具体以实际情况为准）\n\n<example>\n  <user_query>我要做一个登录表单，可以采用什么技术？</user_query>\n  <assistant_response>\n  根据知识库中的内容，我可以基于antd技术栈进行开发，可以使用antd中的Form组件来完成登录表单的开发。\n </assistant_response>\n</example>\n\n<example>\n  <user_query>根据图片进行开发</user_query>\n  <assistant_response>\n  界面分析：\n  \`\`\`js file="uiDesign.js"\n   export function(){\n      return {\n        "thems": \`界面采用简约的卡片式布局，整体背景采用浅紫色，内容区域使用纯白色背景，营造出清爽简洁的视觉效果。\`,\n        "colors": \`界面主色调为明亮的蓝紫色，用于突出按钮和重要文字。背景采用柔和的浅紫色，搭配纯白色的内容区域，形成层次分明的视觉层级。\`,\n        "attention": \`\n注意以下细节：\n- 截图中的总体背景没有意义，可以考虑去掉；\n- 图片中的电话区域选择与输入手机号为一体设计、整体圆角；\n- 验证码区域的获取验证码按钮为蓝色，按钮文字为白色；\n- 登录按钮在卡片的底部、水平居中；\n- 图标为扁平黑白风格；\n- 翻页按钮在右侧垂直居中，灰色背景、半圆形状，注意不要忽略；\n        \`\n      }\n   }\n  \`\`\`\n  \n  技术方案：\n  \`\`\`json file="require.json"\n  [\n    {\n      "lib":"antd",\n      "item":"Form"\n    },\n    {\n      "lib":"antd",\n      "item":"Input"\n    },\n    {\n      "lib":"antd",\n      "item":"Button"\n    }\n  ]\n  \`\`\`\n </assistant_response>\n</example>\n</examples>\n`}n.d(t,{A:()=>i})},17672:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(73112);function o(e){return{title:"输入项",get visible(){return(0,i.y)(e)},guides:[{title:"添加 输入项",description:"添加输入项，用于接收外部数据",form:[{title:"名称及用途",name:"description",placeholder:"该输入项的名称及用途，例如：数据源，用于给到组件中的表格数据",type:"textarea",required:!0}],validate(e){if(!e.description)return"请输入输入项的用途"},prompts:"\n<input-output-slot>\n  {\n    cmd:'input-add',\n    description:'{description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef inputs数组 中检查是否存在该输入项，如果存在，给出提示、且无需返回任何的代码说明；\n2、在runtime.jsx文件中的comDef inputs数组 中添加该输入项的定义，同时务必提供详细的schema；\n3、在runtime.jsx文件中添加对于该输入项的正确使用（监听代码）；\n4、返回runtime.jsx文件的完整内容；\n注意：\n无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"},r(e),s(e)]}}function r(e){const{model:t}=e,n=t.runtime.topl.inputPinsInModel;return{title:"更新 输入项",description:"更新输入项",form:[{title:"选择",name:"curId",type:"select",get options(){const e=[];if(n)for(let t of n)e.push({label:t.title,value:t.hostId});return e}},{title:"说明",name:"description",placeholder:"填写要更新的内容，例如：名称更新为数据源",type:"textarea"}],validate(e){if(!e.curId)return"请选择要更新的输入项"},prompts:"\n<input-output-slot>\n  {\n    cmd:'input-update',\n    description:'更新输入项 (id:{curId}) {description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef inputs数组 中更新该输入项的定义，注意不能改变id，参考用户的描述，更新标题及schema；\n2、如果有必要，在runtime.jsx文件中更新对于该输入项的正确使用（监听代码）；\n3、返回runtime.jsx文件的完整内容；\n注意：\n1、本次更新无需在代码中返回任何的注释；\n2、无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"}}function s(e){const{model:t}=e,n=t.runtime.topl.inputPinsInModel;return{title:"删除 输入项",description:"删除输入项",form:[{title:"选择",name:"curInput",type:"select",get options(){const e=[];if(n)for(let t of n)e.push({label:t.title,value:t.hostId});return e}},{title:"说明",name:"description",placeholder:"如有必要，补充相关的内容",type:"textarea"}],validate(e){if(!e.curInput)return"请选择要删除的输入项"},prompts:"\n<input-output-slot>\n  {\n    cmd:'input-delete',\n    description:'删除输入项 (id:{curInput}) {description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef inputs数组 中删除该输入项的定义；\n2、删除在runtime.jsx文件中与该输入项的相关代码；\n3、返回runtime.jsx文件的完整内容；\n注意：\n1、本次更新无需在代码中返回任何的注释；\n2、无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"}}},9797:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(73112);function o(e){return{title:"输出项",get visible(){return(0,i.y)(e)},guides:[{title:"添加 输出项",description:"添加输出项，用于向外部传递数据",form:[{title:"名称及用途",name:"description",placeholder:"该输出项的名称及用途，例如：点击时输出当前行数据",type:"textarea",required:!0}],validate(e){if(!e.description)return"请填写输出项的用途"},prompts:"\n<input-output-slot>\n  {\n    cmd:'output-add',\n    description:'{description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef outputs数组 中添加对于该输出项的定义，同时务必提供详细的schema；\n2、在runtime.jsx文件中添加对于使用该输出项的代码，参考知识库，注意选择合适的事件、调用API，以及选择合适的数据作为输出；\n3、返回runtime.jsx文件的完整内容；\n注意：\n无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"},r(e),s(e)]}}function r(e){const{model:t}=e,n=t.runtime.topl.outputPinsInModel;return{title:"更新 输出项",description:"更新输出项",form:[{title:"选择",name:"curId",type:"select",get options(){const e=[];if(n)for(let t of n)e.push({label:t.title,value:t.hostId});return e}},{title:"说明",name:"description",placeholder:"填写要更新的内容，例如：名称更新为查询，或者：单击改为双击",type:"textarea"}],validate(e){if(!e.curId)return"请选择要更新的输出项"},prompts:"\n<input-output-slot>\n  {\n    cmd:'input-update',\n    description:'更新输出项 (id:{curId}) {description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef outputs数组 中更新该输出项的定义，注意不能改变id，参考用户的描述，更新标题及schema；\n2、如果有必要，在runtime.jsx文件中更新对于该outputs项的使用代码；\n3、返回runtime.jsx文件的完整内容；\n注意：\n1、本次更新无需在代码中返回任何的注释；\n2、无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"}}function s(e){const{model:t}=e,n=t.runtime.topl.outputPinsInModel;return{title:"删除 输出项",description:"删除输出项",form:[{title:"选择",name:"curId",type:"select",get options(){const e=[];if(n)for(let t of n)e.push({label:t.title,value:t.hostId})}},{title:"说明",name:"description",placeholder:"如有必要，补充相关的内容",type:"textarea"}],validate(e){if(!e.curId)return"请选择要删除的输出项"},prompts:"\n<input-output-slot>\n  {\n    cmd:'input-delete',\n    description:'删除输出项 (id:{curId}) {description}，按照以下步骤进行:\n1、在runtime.jsx文件中的comDef outputs数组 中删除该输出项的定义；\n2、删除在runtime.jsx文件中与该输出项的相关代码；\n3、返回runtime.jsx文件的完整内容；\n注意：\n1、本次更新无需在代码中返回任何的注释；\n2、无需改动config.js文件的任何内容；'\n  }\n</input-output-slot>"}}},51173:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(73112);function o(e){return{title:"UI",get visible(){return(0,i.y)(e)},guides:[{title:"生成更多风格..",description:"检查组件可能存在的错误并尝试修复",form:[{name:"description",placeholder:"我将为您生成5个不同的风格，请补充或需要强调的内容",type:"textarea",required:!1}],prompts:"（忽略当前选区，面向整个模块）{description}，生成5个不同的风格样式文件。\n\n注意：\n1、仅返回5个style.less文件，返回的样式文件必须使用style.less作为文件名，不要使用其他文件名；\n2、各风格要有明显的差异，包括布局排版、色调色系等；\n3、务必返回修改文件的全部内容，不要出现“其他代码省略”等内容；\n5、返回update.log，同时给出总结性的简要说明；\n    '\n  }\n</config>"},{title:"根据图片调整..",description:"检查组件可能存在的错误并尝试修复",useImage:!0,form:[{name:"description",placeholder:"（粘贴图片在这里）补充您的要求或需要强调的内容",type:"textarea",pasteForImage:!0,required:!1}],prompts:"（忽略当前选区，面向整个组件）{description}，对于当前组件，结合用户附件中的图片，确定图片所对应组件的区域，按照以下步骤进行：\n1、检查图片是否与组件相关，如果不相关，返回提示即可；\n2、如果相关，确定对应组件的区域，按照以下步骤进行：\n  1）检查该区域的各个部分、包括文字、图标等，与附件中的图片对照，如果有遗漏、多余、错误的内容，调整该区域与图片内容保持一致；\n  2）检查该区域的样式，包括字体、颜色、边框、阴影、行列的安排、对齐方式等，要调整与图片保持一致；\n  4）仅修改必要的文件、无需修改config.js文件；\n  5）返回修改后文件的全部代码，其他文件内容无需返回；\n\n注意：\n1、由于图片的截图方式和比例等原因，当不确定图片中的字体大小和尺寸等信息时，尽量参考原代码中的大小和尺寸信息；\n2、除需要修改的文件外，无需返回其他文件的任何内容；\n3、务必返回修改文件的全部内容，不要出现“其他代码省略”等内容；\n    '\n  }\n</config>"},{aiRole:"image",title:"添加图标..",description:"检查组件可能存在的错误并尝试修复",form:[{name:"description",placeholder:"请填写图标描述",type:"textarea",required:!0}],prompts:"请根据用户的要求完成生成svg图标的任务，以下是用户的要求\n{description}\n按照以下步骤完成：\n1、根据用户的描述，使用svg生成相应的图标内容；\n2、在当前选区的合适位置插入生成的图标内容；\n3、返回修改后的runtime.jsx文件以及update.log文件，并给与简要总结说明；\n\n注意：\n1、生成的图标内容必须是svg格式，风格要与当前组件保持一致；\n    '\n  }\n</config>"}]}}},39825:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(40986);function o(e,t,n){return[(0,i.A)(e,t,n)]}},73112:(e,t,n)=>{"use strict";function i(e){const{model:t}=e,n=t.runtime.model.extSourceCodes;return!(!n||!(n.data||n.runtime||n.style))}n.d(t,{y:()=>i})},36501:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(64483),o=n(96966);function r(e,{editContext:t,prompts:n,onlySelectors:r}){const{context:s,model:a}=e,l=s.getComDef(a.runtime.def),c=[],d=s.configs.geoView.scenes;d.adder&&d.adder.forEach((e=>{c.push(e.title)}));return`\n<你的角色与任务>\n  你是MyBricks低代码平台（以下简称MyBricks平台或MyBricks）的资深应用及客服专家，经验丰富、实事求是、逻辑严谨。\n  你的任务是回答用户的各类问题，以及对于用户提出的搭建需求给出思路及建议。\n  \n  （注意：当前的SytemPrompts部分内容采用XML、Markdown以及JSON等格式进行描述）\n</你的角色与任务>\n  \n<特别注意>\n  注意：\n    - 对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、逐步分析处理。\n    - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【知识库】开头，表示用户提供了组件定义的知识库（知识库为空也是符合预期的），这里的内容将作为后续搭建的重要参考；\n\n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n   \n  注意：\n   - 你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题。\n   - 回答问题一定要注意简洁性，不要过于冗长及重复，以免用户无法理解。\n  \n  注意：\n   - 回答问题时，根据情况做如下区分：\n      1、一些偏静态的需求建议在UI面板做相应的操作（例如选中组件的某个部分）、然后在编辑面板中通过编辑项完成。\n        [注意]\n        a: 回答中的表单项务必在上下文中存在定义，禁止自由发挥；\n        b: 编辑项的联动是通过data.XX来完成的；\n        c: 编辑项的execute函数可能会改变data.XX的值；\n        c: 如果对应的编辑项有ifVisible函数或ifVisibleInGroup函数，则需要分析ifVisible以及ifVisibleInGroup中的JS代码、对于data.XX的字段进行推理判断，如果其中任一不满足条件则不给出该编辑项的建议；\n      \n      2、一些动态的需求则建议通过逻辑编排的方式完成，逻辑编排是以数据流的方式完成，分为以下两种：\n        a: 该组件与其他组件的互动;\n        b: 在当前组件的作用域插槽（slot的type为scope)中与子组件的编排互动，有些可以从插槽的inputs(插槽的输出项)开始，有些则可以从单独的起点组件开始；\n    \n      3、一些与包含/组合相关的需求则倾向通过插槽完成，但是要注意有些插槽只有在某些编辑项开启后才能使用；\n</特别注意>\n\n${(0,o.FN)({sceneAddableAry:c})}\n\n${(0,o.bH)()}\n  \n<当前组件定义>\ntitle:\n${l.title}\n\nmodel：\n${JSON.stringify(a.runtime.model.data||{},null,2)}\n\n配置项：\n${(0,i.K5)(l,t,r)}\n\n样式：\n${(0,i.Hw)(l,t,r)}\n\n插槽：\n${(0,i.pr)(l)}\n\n输入项与输出项：\n${(0,i.yT)(a)}\n${n||""}\n\n</当前组件定义>\n  \n<examples>\n  <example>\n    <user_query>（对于标签页组件）怎样居中显示标签？</user_query>\n    <assistant_response>\n      在UI面板中，选中**当前组件**，勾选编辑面板的 **标签页/标签居中**。\n    </assistant_response>\n  </example>\n\n  <example>\n    <user_query>（对于工具条组件）如何配置按钮的权限？</user_query>\n    <assistant_response>\n      在UI面板中，选中当前组件的 **按钮区域** ，在编辑面板中的 **高级/权限信息配置** 中，编辑该按钮的权限信息\n    </assistant_response>\n  </example>\n\n  <example>\n    <user_query>（对于标签页组件）如何配置标签的图标？</user_query>\n    <assistant_response>\n      在UI面板中，选中当前组件的 **标签区域** ，在编辑面板中勾选 **显示图标**，可以进一步勾选图标自定义等进行下一步操作\n    </assistant_response>\n  </example>\n\n  <example>\n    <user_query>（对于按钮组件）为什么看不到上传图标的编辑项？</user_query>\n    <assistant_response>\n      在UI面板中，选中当前组件，在编辑面板中、打开 **按钮/图标**，打开 **按钮/图标配置/自定义**，这样就可以看到上传的编辑项了\n    </assistant_response>\n    \n    （以下是对这个答案的分析）\n    因为上传这个编辑项中有ifVisible函数，其返回为true需要打开 按钮/图标配置/自定义 开关，而可以使用 按钮/图标配置/自定义 则需要先打开 按钮/图标 开关\n  </example>\n\n  <example>\n    <user_query>（对于按钮组件）如何点击后提示消息？</user_query>\n    <assistant_response>\n      通过逻辑编排实现，从当前组件的 点击 连接到 消息提示组件即可\n    </assistant_response>\n  </example>\n\n  <example>\n    <user_query>（对于表单容器组件）怎样给其中的表单项数据源？</user_query>\n    <assistant_response>\n      通过逻辑编排实现，在交互面板的 表单容器/表单容器 插槽中，从 设置数据源 连接到 该表单项的相关输入项即可\n    </assistant_response>\n    \n    （以下是对这个答案的分析）\n    表单项组件是表单容器在插槽中的子组件，所以逻辑编排是从这个插槽的 设置数据源 开始 连接到这个表单项的相关输入项\n  </example>\n\n</examples>\n\n      `}},64483:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>a,K5:()=>l,pr:()=>r,yT:()=>s});var i=n(15558),o=n(91716);function r(e){const t=e.slots,n=null==t?void 0:t.map((e=>({id:e.id,title:e.title,type:e.type,description:e.description,schema:e.schema,outputs:e.inputs})));return n?`\n该组件具备以下插槽能力(插槽中可以包含其他组件，以JSON的方式描述):\n${JSON.stringify(n,null,2)}\n\n注意：\n - type为scope的插槽称之为作用域插槽，只有作用域插槽才可以在其中进行逻辑编排；\n - inputs为插槽的输出项，outputs为插槽的输入项；\n - 在作用域插槽内做逻辑编排时，可以从插槽的inputs(插槽的输出项)开始，也可以从单独的起点组件开始；\n - 当前组件作用域插槽中的组件，只能与同在该插槽中的组件进行编排，不能与插槽外的其他组件进行编排。\n  `:""}function s(e){const{runtime:t}=e,n=t.topl,i=n.getAllInputsInfo(),o=n.getAllOutputsInfo();let r,s;return r=i?i.map((e=>({title:e.title,schema:e.schema,description:e.description}))):[],s=o?o.map((e=>({title:e.title,schema:e.schema,description:e.description}))):[],`\n输入项:\n${JSON.stringify(r,null,2)}\n\n输出项:\n${JSON.stringify(s,null,2)}\n\n注意:\n - 这里只是当前组件的输入项与输出项，组件的作用域插槽无法使用这些输入项与输出项，在作用域插槽中，只能使用插槽的输入项与输出项参与逻辑编排。\n  `}function a(e,t,n){const r={};(0,i.K)(e,n,t,((e,t)=>{let n=r[t.selector];n||(n=r[t.selector]={selector:t.selector,selectorTitle:t.selectorTitle,editAry:[]});const i=n.editAry,{type:s,catelog:a,title:l,target:d,options:u,ifVisible:p,description:f}=e;let h="",m="";(null==t?void 0:t.cateTitle)&&(h=`${t.cateTitle}/`),(null==t?void 0:t.groupTitle)&&(m=`${t.groupTitle}/`);const g={};if("function"==typeof p&&(g.ifVisible=(0,o.bj)(p)),s){g.title=`${h}${m}${l}`;const t=c(e);Object.assign(g,t),i.push(g)}else if(u&&Array.isArray(u)){const e=[];u.map((t=>{if(!t)return;let n;if("string"==typeof t?n=t:"object"==typeof t&&t.type&&(n=t.type),n){let t,i;switch(n){case"font":t="字体",i="字体、字号、颜色、粗细、行高、间距";break;case"border":t="边框",i="边框、圆角";break;case"background":t="背景",i="背景";break;case"padding":t="内间距";break;case"margin":t="外间距";break;default:t=n,i=n}let o=`${h}${m}${a?`${a}/`:""}${l}/${t}`;o=function(e){let t=e.split("/");return[...new Set(t)].join("/")}(o);const r=Object.assign({},{title:o,description:`${i}`},g);e.push(r)}})),e.forEach((e=>{i.push(e)}))}}));const s=[];for(let e in r){const t=r[e];s.push(`${t.selectorTitle},可以在编辑面板中修改配置以下样式(以JSON的方式描述)：\n${JSON.stringify(t.editAry,null,2)}\n    `)}return s.join("\n")}function l(e,t,n){const r={};(0,i.e)(e,n,t,((e,t)=>{let n=r[t.selector];n||(n=r[t.selector]={selector:t.selector,selectorTitle:t.selectorTitle,editAry:[]});const i=n.editAry,{type:s,title:a,options:l,value:d,ifVisible:u,description:p}=e;let f="",h="",m=null==t?void 0:t.groupIfVisible;(null==t?void 0:t.cateTitle)&&(f=`${t.cateTitle}/`),(null==t?void 0:t.groupTitle)&&(h=`${t.groupTitle}/`);const g={title:`${f}${h}${a}`,description:p};"function"==typeof u&&(g.ifVisible=(0,o.bj)(u)),"function"==typeof m&&(g.ifVisibleInGroup=(0,o.bj)(m));const y=c(e);Object.assign(g,y),i.push(g)}));const s=[];for(let e in r){const t=r[e];s.push(`${t.selectorTitle},可以在编辑面板中编辑配置以下内容(以JSON的方式描述)：\n${JSON.stringify(t.editAry,null,2)}\n    `)}return s.join("\n")}function c(e){const{type:t,title:n,options:i,ifVisible:r,description:s}=e,a={};switch(t.toUpperCase()){case"_EVENT":a.description="以事件的方式触发逻辑编排";break;case"BUTTON":a.description=s||"点击按钮";break;case"TEXT":a.description=s||"修改文本";break;case"SWITCH":a.description=s||"切换开关";break;case"SLIDER":a.description=s||"滑动",a.options=(0,o.O$)(i);break;case"ARRAY":a.description="以列表的方式进行编辑（添加、编辑、删除）",i&&"object"==typeof i&&(a.options=(0,o.O$)(i));break;case"ARRAYCHECKBOX":a.description=s||"多选",i&&"object"==typeof i&&(a.options=(0,o.O$)(i));break;case"SELECT":case"RADIO":case"CHECKBOX":a.description=s||"选择下拉框",a.options=(0,o.O$)(i);break;case"_PERMISSION":a.description="配置权限信息（在弹出的权限编辑面板中进行配置）",a.options=[{title:"无"},{title:"注册为功能项",list:[{title:"权限代码",description:"可以在自己的权限中台中配置权限代码，然后在这里填写"},{title:"显示名称",description:"作为功能项时显示的标题"},{title:"无权限时",description:"当没有权限时的UI处理",options:[{title:"隐藏"},{title:"提示链接"}]},{title:"链接地址",description:"当无权限/提示链接 选择时可填写"},{title:"备注"}]}];break;default:a.description=s||"编辑",i&&"object"==typeof i&&(a.options=(0,o.O$)(i))}return a}},62774:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(64012),o=n.n(i);Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler");const r=Symbol.for("react.provider"),s=(Symbol.for("react.context"),Symbol.for("react.forward_ref")),a=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo")),l=(Symbol.for("react.lazy"),Symbol.for("react.offscreen"),"data-com-id"),c=(0,i.createContext)({_key:null,_data:null}),d=c.Provider,u=({children:e})=>{if((0,i.isValidElement)(e)){const{type:t}=e;switch(Object.prototype.toString.call(t)){case"[object String]":return o().createElement(m,null,e);case"[object Object]":return o().createElement(g,null,e);case"[object Function]":return o().createElement(x,null,e);case"[object Symbol]":return o().createElement(A,null,e);default:return e}}return e},p=({_data:e,children:t})=>{if(e)return o().createElement(d,{value:{_data:e}},o().createElement(p,null,t));const{_key:n,_data:r}=(0,i.useContext)(c);if(!r)return t;if(Array.isArray(t))return i.Children.map(t,(e=>o().createElement(p,null,e)));if((0,i.isValidElement)(t)){const{props:e}=t,s=e[l];return s?s!==n?o().createElement(d,{value:{_key:s,_data:r}},o().createElement(u,null,t)):o().createElement(u,null,(0,i.cloneElement)(t,{[l]:null})):o().createElement(u,null,t)}return t},f=p,h=({type:e,render:t,next:n})=>{if(!e.__airender__)if(e.__ori__){n(e.__ori__),e.__airender__=!0}else{const i=t;n(i),e.__airender__=!0,e.__ori__=i}},m=({children:e})=>{const{_key:t,_data:n}=(0,i.useContext)(c),{props:r}=e,{children:s}=r;return t?(0,i.cloneElement)(e,{[l]:t,children:s?o().createElement(d,{value:{_key:null,_data:n}},o().createElement(p,null,s)):null}):(0,i.cloneElement)(e,{children:s?o().createElement(p,null,s):null})},g=({children:e})=>{const{type:t}=e;switch(t.$$typeof){case s:return o().createElement(y,null,e);case r:return o().createElement(b,null,e);case a:return o().createElement(v,null,e);default:return e}},y=({children:e})=>{const{props:t,ref:n,type:r}=e,s=t.children;if(s&&"function"==typeof s){const t=s;return(0,i.cloneElement)(e,{children:(...e)=>o().createElement(p,null,t(...e))})}return r.__airender__||h({type:r,render:r.render,next:e=>{r.render=(...t)=>{const n=e(...t);return o().createElement(p,null,n)}}}),e},b=({children:e})=>{const{props:t}=e,{children:n}=t;return n?(0,i.cloneElement)(e,{children:o().createElement(p,null,n)}):e},v=({children:e})=>{const{type:t,props:n}=e;if("function"==typeof t.type){const e=t.type(n);return o().createElement(p,null,e)}if(t.type.$$typeof===s){const i=t.type.render(n,e.ref);return o().createElement(p,null,i)}return e},x=({children:e})=>{const{type:t,props:n}=e;return t.prototype instanceof i.Component?(t.__airender__||h({type:t,render:t.prototype.render,next:e=>{t.prototype.render=function(){const t=e.call(this);return o().createElement(p,null,t)}}}),e):o().createElement(p,null,t(n))},A=({children:e})=>{const{props:t}=e,{children:n}=t;return n?(0,i.cloneElement)(e,{children:o().createElement(p,null,n)}):e}},65085:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var i=n(62774),o=n(64012);function r({children:e,data:t}){return o.createElement(i.A,{_data:t},e)}},85901:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var i=n(24412);function o(e){const t=e.focusArea;if(!t||!t.isValid())return"整体(selector = :root)";{const n=Object.keys(t.selectors)[0];function o(e,t,n){const i=t.querySelectorAll(`:scope ${e}`);if(i.length>1){let t=1;return i.forEach(((e,i)=>{e===n&&(t=i+1)})),`第${t}个(${e})`}return e}let r;const s=t.ele,a=s.getAttribute(i.RO);if(a){r=`[${i.RO}="${a}"]${n}`;const l=e.$el.querySelectorAll(`:scope ${r}`);if(l.length>1){let c=1;l.forEach(((e,n)=>{e===t.ele&&(c=n+1)})),r=`第${c}个(${r})`}else r=`${r}`}else{let d=t.ele;for(;d&&d!==e.$el&&d!==document.body;){const u=d.getAttribute(i.RO);if(u){const p=o(`[${i.RO}="${u}"]`,e.$el,d),f=d.querySelectorAll(`:scope ${n}`);if(f.length>1){let h=1;f.forEach(((e,t)=>{e===s&&(h=t+1)})),r=`${p}组件 下的 第${h}个(${n})`}else r=`${p}组件 下的 ${n}`;break}d=d.parentElement}}if(!r){const m=e.$el.querySelectorAll(`:scope ${n}`);if(m.length>1){let g=1;m.forEach(((e,n)=>{e===t.ele&&(g=n+1)})),r=`第${g}个：${n}`}else r=`${n}`}if(r)return`${t.title}(${r}) ）`}}},9968:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var i=n(91737);function o(e,t){return`${e.replace(/[^0-9a-zA-Z]/g,"_")}/${t.replace(/[^0-9a-zA-Z]/g,"_")}/${(0,i.uR)("",3)}`}},21538:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$7:()=>get_Inputs,GP:()=>getInputs,Y_:()=>getConfigs,_$:()=>getEnv,eM:()=>getComLogger,gd:()=>getStyle,kk:()=>get_Outputs,nC:()=>get_Env,p9:()=>computeStyle,wb:()=>getOnError,zS:()=>getOutputs});var _mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91737),_ComContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24557),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64012),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_geoUtil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3144),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(34163),_canvas_ViewWrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(95947),_ai_aiExt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91237);function getOnError(e,t){return function(){let n,i;for(let e=0;e<arguments.length;e++){const t=arguments[e];"string"==typeof t?n=t:"object"==typeof t&&t instanceof Error&&(i=t)}(n||i)&&(requestAnimationFrame((t=>{e._errorMsg=n||i.message})),t.emitLogs.error(`${e.runtime.title}发生错误`,n,{model:e}),i&&console.error(i))}}function get_Env(e,t,n){return{loadCSSLazy(e){const n=e.use({target:t.canvasShadowRoot}).locals;Object.assign(e,n)},currentScenes:{close(){if(n){const n=e.root;t.emitScenes.close(n.id)}}}}}function getEnv(comContext,debugMode,forModule){const{model,viewContext}=comContext,{context,emitPage,emitItem,emitModule}=viewContext,comCfg=context.configs.com,cfgEnv=null==comCfg?void 0:comCfg.env;return Object.assign(debugMode?{}:{searchComDefAry:e=>(0,_geoUtil__WEBPACK_IMPORTED_MODULE_2__.fI)(context.comLibAry,e)},{get mybricksSdk(){return(0,_ai_aiExt__WEBPACK_IMPORTED_MODULE_5__.Oq)(comContext)},getModuleJSON(e){const t=emitModule.get(e);if(t)return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.AF)(t.json)},renderCom(e,t){const n=Object.assign({},{debug:!0,observable:_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.sH,debugLogger(e,t,n){},onError({comId:e,error:t}){}},t);return delete n.env.edit,n.comDefs=context.getAllComDef(),context.renderWeb(e,n)},renderModule(e,t){const n=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.o8)(comCfg,!0),i=Object.assign({},n,{debug:!0,observable:_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.sH,debugLogger(e,t,n){},onError({comId:e,error:t}){}},t);return i.env.getModuleJSON=function(e){const t=emitModule.get(e);if(t)return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.AF)(t.json)},i.env.edit={},i.env.canvas={css:{set(e,t){const n=(0,_canvas_ViewWrap__WEBPACK_IMPORTED_MODULE_4__.c)();n.removeStyleDom(e);const i=document.createElement("style");i.setAttribute("id",e),i.innerHTML=t,n.addStyleDom(i)},remove(e){(0,_canvas_ViewWrap__WEBPACK_IMPORTED_MODULE_4__.c)().removeStyleDom(e)}}},i.comDefs=context.getAllComDef(),i.scenesLoader=({id:e})=>new Promise(((e,t)=>{})),context.renderWeb(e,i)},canvas:{get id(){return model.root.id},get scale(){return viewContext.viewModel.style.zoom},pinMsgInTitle(e){if(!model.asRoot)throw new Error("Only root com can pin msg in title");const t=model.root;e?t._pinTitle=e:delete t._pinTitle},get type(){let e;return e=debugMode?viewContext.debugSlotStartWith:model.root,"mobile"===context.configs.geoView.type?"mobile":e.isShowTypeOfModule()?"pc":e.style.isDisplayTypeOfMobile()?"mobile":"pc"},isValid(e){if(context.configs.pageMetaLoader)return console.log(context.pageMetaModel.hasScene(e)),context.pageMetaModel.hasScene(e);return!!viewContext.viewModel.getSlot(e)},get zoom(){return viewContext.viewModel.style.zoom},get themes(){return viewContext.viewModel.themes},open(e,t,n){viewContext.emitScenes.debug(e,t,n,"geoView")},css:{set(e,t){const n=(0,_canvas_ViewWrap__WEBPACK_IMPORTED_MODULE_4__.c)();n.removeStyleDom(e);const i=document.createElement("style");i.setAttribute("id",e),i.innerHTML=t,n.addStyleDom(i)},remove(e){(0,_canvas_ViewWrap__WEBPACK_IMPORTED_MODULE_4__.c)().removeStyleDom(e)}}},get canvasElement(){return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.A1)((()=>viewContext.getCurrentCanvasElement()))},createPortal:e=>emitPage.createPortal(react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:model.id},e)),get edit(){if(!forModule)return debugMode?void 0:{get hovered(){const e=model.state;return!e.isResizing()&&e.isHovering()},focusPaasive(){const e=model.state.focusPassive();return()=>{e()}},regBlur(e){"function"==typeof e&&model.addBlurFn(e)},get focusArea(){const e=model.focusArea;if(e&&e.isValid()&&e.ele.classList.contains(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A.cssComNormal.editableFocus))return e}}},get runtime(){return!(!debugMode&&!forModule)&&Object.assign({debug:{},getUserToken:()=>context.envVars.debug.userToken,getEnvType:()=>context.envVars.debug.envType,getEnvParam(name){const params=context.envVars.debug.envParams;if("string"==typeof params){let obj;try{eval(`obj = ${params}`)}catch(e){throw new Error(`解析环境参数错误:${e.message}`)}return obj[name]}}},{})}},cfgEnv||{})}function computeStyle(){var e;const t=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A),{model:n,context:i,emitItem:o,emitSnap:r,comDef:s,viewContext:a}=t,l="no-suggest"!==(null===(e=a.mover)||void 0===e?void 0:e.type);if(null==s?void 0:s.editors){const e=s.editors.view||s.editors;e&&"function"==typeof e["@willMount"]&&e["@willMount"]((0,_utils__WEBPACK_IMPORTED_MODULE_3__.Q)(t))}const c=n.style,d=n.runtime.isTemp||c.isPositionAbsoluteOrFixed()||n.isStyleLayoutAbsoluteOrFixed(),u=n.hasSlotWithAbsLayout(),{bottom:p,right:f,width:h,widthAuto:m,height:g,heightAuto:y,marginTop:b=0,marginLeft:v=0,marginBottom:x=0,marginRight:A=0,visibility:w}=c;let E,C,_=h,M=g;if(n.state.isResizing()){const e=c.resizingSnapLeft;if(e&&d){const t=l&&void 0!==c.suggestLeft?c.suggestLeft:c.left;_=e.oriLeft-t+e.oriWidth}const t=c.resizingSnapRight;t&&l&&c.suggestRight&&(_=c.suggestRight-t.oriLeft,c.suggestLeft=c.suggestRight-_);const n=c.resizingSnapTop;if(n&&d){const e=l&&void 0!==c.suggestTop?c.suggestTop:c.top;M=n.oriTop-e+n.oriHeight}const i=c.resizingSnapBottom;i&&l&&c.suggestBottom&&(M=c.suggestBottom-i.oriTop,c.suggestTop=c.suggestBottom-M)}d?(E=_,C=M):(E="number"==typeof _?_+(v>0?v:0)+(A>0?A:0):_,C="number"==typeof M?M+(b>0?b:0)+(x>0?x:0):M);let I={};const k=c.toCSS();for(let e in k)"width"!==e&&"height"!==e&&(d&&e.match(/^padding/)||(I[e]=k[e]));let P;if(c.isVisible()||(I.width="100%",I.visibility="hidden",I.position="absolute"),d){const e=n.$el;P={position:"absolute",width:E,height:C,zIndex:c.zIndex},y&&!u&&(P.height="fit-content"),m&&!u&&(P.width="fit-content");let t=c.left;l&&void 0!==c.suggestLeft&&(t=c.suggestLeft),!c.resizingSnapRight&&l&&void 0!==c.suggestRight&&(t=c.suggestRight-e.offsetWidth);let i=c.top;l&&void 0!==c.suggestTop&&(i=c.suggestTop),!c.resizingSnapBottom&&l&&void 0!==c.suggestBottom&&(i=c.suggestBottom-e.offsetHeight),void 0!==f?P.right=f:P.left=t,void 0!==p?P.bottom=p:P.top=i}else P={},P.height=!y||u?C:"fit-content",!m||u?(P.width=E,P.flexShrink=0):P.width="fit-content";if(I=Object.assign(I,P),c.ext)for(let e in c.ext)I[e]=c.ext[e];return(0,_geoUtil__WEBPACK_IMPORTED_MODULE_2__.MX)(I),delete I.display,c.visibleOnce&&(I.visibility="visible",n.isPopup||(I.position="")),I}function getRTParentSlot(e,t,n,i){const{comDef:o,emitLogs:r,emitIOCAbout:s}=t,a=e.parent;if(a){const e=a.parent;if(e){if(s.getSlot_IOInfo(e.id,a.id))return{get _inputs(){return new Proxy({},{get(t,i){if(e.runtime.topl)return t=>{e.runtime.topl._exeFrame_Input(a.id,i,t,n)}}})}}}}}function getComLogger(e,t){const{emitLogs:n}=t;return{trace(t,i){n.info(e.runtime.title+(i?`-${i}`:""),t)},info(t,i){n.info(e.runtime.title+(i?`-${i}`:""),t)},warn(t,i){n.warn(e.runtime.title+(i?`-${i}`:""),t)},error(t,i){n.error(e.runtime.title+(i?`-${i}`:""),t)}}}function getStyle(e){const{model:t,context:n}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A);return e?{get position(){return e.style.position},get display(){return e.style.display},set display(t){if("string"!=typeof t||!t.match(/initial|block|none/g))throw new Error("Invalid value");e.style.display=t},get width(){return e.style.width},set width(t){e.style.width=t},get height(){return e.style.height},set height(t){e.style.height=t}}:{get position(){return t.style.position},get display(){return t.style.display},set display(e){if("string"!=typeof e||!e.match(/block|none/g))throw new Error("Invalid value");t.style.display=e},get width(){return t.$el.offsetWidth},get height(){return t.$el.offsetHeight}}}function getConfigs(){return new Proxy({},{get(e,t,n){}})}function get_Inputs(){const{model:e,context:t,emitIOCAbout:n,emitSnap:i}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A),o={};return new Proxy({},{get(n,i,r){const s=t.getComDef(e.runtime.def);let a;if(!a&&s._inputs&&(a=s._inputs.find((e=>e.id===i))),"_refresh"===i&&(a={id:"_refresh"}),a)return function(e){o[i]||(o[i]=!0)}}})}function getInputs(e){const{model:t,context:n,emitIOCAbout:i,emitSnap:o}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A),r={};return new Proxy({},{get(i,o,s){const a=n.getComDef(t.runtime.def);let l;if(t.runtime.model.inputAry&&(l=t.runtime.model.inputAry.find((e=>e.hostId===o))),!l&&a.inputs&&(l=a.inputs.find((e=>e.id===o))),"_refresh"===o&&(l={id:"_refresh"}),l)return function(t){if(!r[o]&&(r[o]=!0,e&&"object"==typeof e)){const n=e[o];"function"==typeof n&&n(t)}}}})}function get_Outputs(){const{model:e,context:t,emitIOCAbout:n,emitSnap:i}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.lB)(_ComContext__WEBPACK_IMPORTED_MODULE_6__.A);return new Proxy({},{get(n,i,o){const r=t.getComDef(e.runtime.def);let s;if(!s&&r._outputs&&(s=r._outputs.find((e=>e.id===i))),s)return function(e){}}})}function getOutputs(e,t,{context:n}){return new Proxy({},{get(i,o,r){const s=n.getComDef(e.runtime.def);if(!s)return;let a;if(e.runtime.model.outputAry&&(a=e.runtime.model.outputAry.find((e=>e.hostId===o))),!a&&s.outputs&&(a=s.outputs.find((e=>e.id===o))),a){const e=function(e){if(t&&"object"==typeof t){const n=t[o];"function"==typeof n&&n(e)}};return e.getConnections=function(){return[]},e}}})}},82192:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9418),o=n(96966),r=n(91737),s=n(64012);function a({curVarId:e,varAry:t,bindVar:n,removeBinding:o}){return s.createElement("div",{className:i.A.view},s.createElement("div",{className:i.A.toolbar}),s.createElement("div",{className:i.A.content},s.createElement(l,{curVarId:e,cur:t,bindVar:n,removeBinding:o})))}function l({curVarId:e,cur:t,bindVar:n,removeBinding:a}){const{title:c,varAry:d,parent:u}=t;return s.createElement(s.Fragment,null,d.length>0?s.createElement(s.Fragment,null,c?s.createElement("div",{className:i.A.catelog},c):null,d.length>0?d.map(((t,l)=>{const c=e===t.id;return s.createElement("div",{key:l,className:`${i.A.var} ${c?i.A.curVar:""}`,onClick:e=>n(t)},s.createElement("label",null,"@"),s.createElement("span",{className:i.A.name},t.title),c?s.createElement("span",{className:i.A.icon,onClick:(0,r.Wj)((e=>a(t))).stop},o.FI.garbage):null)})):s.createElement("div",{className:i.A.empty},"变量为空")):null,u?s.createElement(l,{curVarId:e,cur:u,bindVar:n,removeBinding:a}):null)}},60493:(e,t,n)=>{"use strict";n.d(t,{J:()=>y});var i=n(96966),o=n(24412),r=n(78365),s=n(33433),a=n(34163),l=n(86202),c=n(45773),d=n(23171),u=n(33313),p=n(95253),f=n(59299),h=n(61111),m=n(79333),g=i.K9.Group;function y(e,t){let n;(0,l.Ts)();const{model:y,comDef:b,context:v,viewContext:x}=e,A=y.focusArea,w=A&&A.isValid();n=w?A.isSlot()?(0,l.Bh)(e):(0,l._j)(e,t):function(e,t){var n,f,h,y,b,v;const{model:x,comDef:A,context:w,emitItem:E,emitIOCAbout:C,emitSnap:_,viewContext:M}=e,I=[],k=o.A9;if(!A){const e=`${x.runtime.def.namespace} not found`,t=new i.K9.Category(e);return I.push(t),I}if(!A.editors)return I;const P=x.$el.firstChild,F=A.editors.view||A.editors;let S=F[o.A9];S||(S=[]);const T=null===(f=null===(n=F[o.PN])||void 0===n?void 0:n[x.id])||void 0===f?void 0:f[k],{parentComModel:O,parentComDef:D,appendEdtGroup:N}=(0,u.mD)(x,w);let j,L;const R=(0,a.Q)(e),B=null==F?void 0:F["@resize"],$=x.style;if("function"==typeof S||"object"==typeof S&&"function"==typeof S.items){let n;n="function"==typeof S?S:S.items;const o=[];o.push({type:"default",title:null,items:[]}),o.push({type:"normal",title:null,items:null}),o.push({type:"normal",title:null,items:null}),n(R,o[0],o[1],o[2]);const r=o[0].title||x.runtime.title||A.title,s=new i.K9.Category({title:r});let c;if(I.push(s),o[0].items){if(c=(0,l.SL)(k,o[0].items,e,R,P,P,t),N){const{context:n,viewContext:i,emitItem:o,emitIOCAbout:r,emitSnap:s}=e;j={id:x.id,comId:x.id,comName:x.name,comDef:D,model:O,context:n,viewContext:i,emitItem:o,emitIOCAbout:r,emitSnap:s},L=(0,a.Q)(j);const d=(0,l.SL)(k,N,j,L,P,P,t);c[0]=[...d[0],...c[0]]}const n=null==F?void 0:F["@connector"];if(n&&"object"==typeof n){const t=(0,m.X)({comContext:e,comEdtContext:R,connectorEdt:n});c[0]=[t,...c[0]]}}if(z(s,c,!0),(null===(h=o[1].items)||void 0===h?void 0:h.length)>0){const n=new i.K9.Category(o[1].title||"无标题");I.push(n);z(n,(0,l.SL)(k,o[1].items,e,R,P,P,t))}if((null===(y=o[2].items)||void 0===y?void 0:y.length)>0){const n=new i.K9.Category(o[2].title||"无标题");I.push(n);z(n,(0,l.SL)(k,o[2].items,e,R,P,P,t))}(0,p.N)(I,e,R,k,F,N,j)}else{const n=new i.K9.Category({title:x.runtime.title||A.title,setTitle(e){x.runtime.title=e}});I.push(n);let o=S;T&&T.items&&Array.isArray(o)&&(o=o.concat(T.items));z(n,(0,l.SL)(k,o,e,R,P,P,t),!(!w.isDesnModeOfBluePrint()&&x.runtime.isBluePrint)),x.isGroup()&&(0,c.A)(e,n),F&&(0,p.N)(I,e,R,k,F,N,j)}function z(t,n,o){var a,c,u,p,f,h,m;if(n){const[o,r]=n,s=new i.K9.Group({onCatelogChange:"object"==typeof r?(0,l.hX)({selector:k,comContext:e,edtContext:R,editor:Object.assign(Object.assign({},r),{value:{get(){var e;if("function"==typeof(null===(e=r.value)||void 0===e?void 0:e.get))return r.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=r.value)||void 0===n?void 0:n.set)&&r.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:P}):void 0});s.addItems(o),s.items&&t.addGroup(s)}if(x.slots,x.isModule()){const n=new g;if(t.addGroup(n),x.proxySlot){const n=C.getSlotIOInfo(x.id,x.proxySlot.id);if(n){if((null===(a=n.configs)||void 0===a?void 0:a.length)>0){const i=new g;t.addGroup(i),n.configs.forEach((t=>{var n;const o=null===(n=t.extValues)||void 0===n?void 0:n.config;let r;const s=null==o?void 0:o.description,a=t.editor;if(!a)return;let c=(a.type||"text").toUpperCase();i.addItem((0,l.hX)({selector:k,comContext:e,edtContext:R,editor:{title:t.title,type:c,options:r,description:s,value:{get({data:e}){if(e.configs){const n=e.configs[t.hostId],i=null==o?void 0:o.defaultValue;let r=n;const s=(null==a?void 0:a.schemaType)||"string";return void 0!==r?"array"===s?Array.isArray(n)||(r=i||[]):"object"===s?(Array.isArray(n)||"object"!=typeof n)&&(r=i||{}):"string"===s?"string"!=typeof r&&(r=i||""):"number"===s?"number"!=typeof r&&(r=i||0):"boolean"===s&&"boolean"!=typeof r&&(r=i||!1):r=i,r}},set({data:e},n){let i=n;e.configs=Object.assign({},e.configs,{[t.hostId]:i})}}}}))}))}if((null===(c=n.outputs)||void 0===c?void 0:c.length)>0){const o=new g({title:"事件"});t.addGroup(o),n.outputs.forEach((t=>{o.addItem((0,l.hX)({selector:k,comContext:e,edtContext:R,editor:{title:t.title,type:i.Ut.EVENT,options:{outputId:t.hostId}}}))}))}}}}if(o)if(x.lockedSilent){const n=new g({id:"commmon-editors"});t.addGroup(n);const o=new i.K9.Group({});o.fixedAt="bottom",t.addGroup(o),(0,l.jL)(o,e,R)}else{const n=new i.K9.Group({});n.fixedAt="bottom",t.addGroup(n);const o=null===(f=null===(p=null===(u=w.configs.editView)||void 0===u?void 0:u.geoCom)||void 0===p?void 0:p.commonEditors)||void 0===f?void 0:f.enable;if(void 0===o||o){const t=new g({id:"commmon-editors"});n.addItem(t),t.addItem((()=>(0,r.A)(e))),(0,l.jL)(t,e,R),x.isStyleLayoutAbsoluteOrFixed()||t.addItem((0,l.hX)({selector:k,comContext:e,edtContext:R,editor:{title:"外边距",type:"inputNumber",options:[{title:"上",width:55},{title:"下",width:55},{title:"左",width:55},{title:"右",width:55}],value:{get:()=>[$.marginTop,$.marginBottom,$.marginLeft,$.marginRight],set({style:e},[t,n,i,o]){$.marginTop=t,$.marginBottom=n,$.marginRight=o,$.marginLeft=i}}},ele:P,sysEditor:!0}));const i=null===(m=null===(h=w.configs.editView)||void 0===h?void 0:h.geoCom)||void 0===m?void 0:m.appendEditors;Array.isArray(i)&&i.forEach((n=>{"string"==typeof n.title&&"string"==typeof n.type&&"object"==typeof n.value&&t.addItem((0,l.hX)({selector:k,comContext:e,edtContext:R,editor:{title:n.title,type:n.type,description:n.description,value:{get(){if("function"==typeof n.value.get)return n.value.get(R)},set(e,t){"function"==typeof n.value.set&&n.value.set(R,t)}}},ele:P,sysEditor:!0}))}))}n.addItem((0,s.A)(e))}if(x.asRoot&&x.lockedSilent){const e=new i.K9.Group({});e.fixedAt="bottom",t.addGroup(e),e.addItem((0,d.A)(x.parent,M))}}if("object"==typeof B||(null===(b=$.proxyStyle)||void 0===b?void 0:b.widthResizable)||(null===(v=$.proxyStyle)||void 0===v?void 0:v.heightResizable)||x.asRoot||x.isGroup()){const t=(0,l.LI)(e,R);I.forEach((e=>{e.addGroup(t)}))}return I}(e,t);const E=null==n?void 0:n.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)));if(w)return E;{const n=v.configs.editView.panelAppender;if("function"==typeof n){const e=n("com",{id:y.id,title:y.runtime.title||b.title,def:b,data:y.data,spm:{get:()=>y.runtime.model.spm,set(e){y.runtime.model.spm=e}}});if(e&&"object"==typeof e&&"string"==typeof e.title&&"function"==typeof e.render){const t=new i.K9.Category(e.title||"未命名"),n=new i.K9.Group("");t.addGroup(n),n.addItem(new i.K9.FunctionItem(e.render)),E.push(t)}}return(0,h.gI)(b)&&(0,f.q)({comContext:e,catalogAry:E,onlyShortcuts:t}),E}}},12595:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var i=n(96966),o=n(24412),r=n(86202),s=n(64012);function a(e,t){(0,r.Ts)();const n=function(e,t){const{model:n,comDef:a,context:l,emitItem:c,emitIOCAbout:d,emitSnap:u,viewContext:p}=e,f=[],h=o.A9,m=new i.K9.Category("错误的组件"),g=new i.K9.Group("");g.addItem((()=>s.createElement("div",{style:{fontStyle:"italic",color:"red"}},t))),m.addGroup(g);const y=new i.K9.Group("");return y.fixedAt="bottom",y.addItem((0,r.hX)({selector:h,comContext:e,edtContext:{},editor:{title:"删除",type:"button",options:{type:"danger"},value:{set(e,t){const i=u.start("itemDelete",{target:n});c.delete(n),c.focus(void 0),i.commit()}}},sysEditor:!0})),m.addGroup(y),f.push(m),f}(e,t);return null==n?void 0:n.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}},3582:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(24412),o=n(50116),r=n(44391),s=n(91716);function a(e,t,n){var a;const{model:l,comDef:c,emitLogs:d}=e,u=l.runtime.model;let p,f=u.extSourceCodes;f||(f=u.extSourceCodes={});const h=null===(a=c.editors)||void 0===a?void 0:a["@ai"];h&&(p="function"==typeof h?h(t):h);const m=p[i.A9];function g(e){try{e()}catch(e){throw e}}return[{title:"model.json",type:"code",catelog:"数据",options:{title:"Data",language:"json",encodeValue:!1,minimap:{enabled:!1},autoSave:!1,preview:!1},value:{get:({data:e})=>f.data,set({data:e,id:t},n){g((()=>{let e;if(f.data&&(e=(0,s.m4)(f.data)),e!==n){f.data=encodeURIComponent(n);try{const e=JSON.parse(n);(0,r.A)(e,l.data)}catch(e){d.error("数据解析错误",e.message,{model:l}),console.error(e)}}}))}}},{title:"style.less",type:"code",catelog:"样式",options:{title:"Less",language:"less",encodeValue:!1,minimap:{enabled:!1},autoSave:!1,preview:!1},value:{get:({data:e})=>f.style,set({data:t,id:n},i,r,{setUndoCallback:a}){let l;f.style&&(l=(0,s.m4)(f.style)),l!==i&&g((()=>{f.style=encodeURIComponent(i),f._updatedByUser=!0;const t=(0,o.A2)(i);(0,o.YR)({style:t},e),a((()=>{const t=f.style,n=(0,s.m4)(t),i=(0,o.A2)(n);(0,o.YR)({style:i},e)}))}))}}},{title:"runtime.jsx",type:"code",catelog:"JSX",options:{title:"编辑自定义JSX",language:"typescript",encodeValue:!1,minimap:{enabled:!1},eslint:{parserOptions:{ecmaVersion:"2020",sourceType:"module"}},babel:!1,autoSave:!1,preview:!1,isTsx:!0},value:{get:({data:e})=>f.runtime,set({data:t,id:n},i,a,{setUndoCallback:c}){let d;f.runtime&&(d=(0,s.m4)(f.runtime)),d!==i&&g((()=>{f.runtime=encodeURIComponent(i),f._updatedByUser=!0,(0,o.Fu)(i,e,m),i=(0,o.JO)(i);const t=f.data;if(t){const e=(0,s.m4)(t),n=JSON.parse(e);(0,r.A)(n,l.data)}(0,o.YR)({runtime:i},e).then((()=>{})),c((()=>{const t=f.data;if(t){const e=(0,s.m4)(t),n=JSON.parse(e);(0,r.A)(n,l.data)}const n=f.runtime;let i=(0,s.m4)(n);(0,o.Fu)(i,e,m),i=(0,o.JO)(i),(0,o.YR)({runtime:i},e).then((()=>{}))}))}))}}}]}},59299:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,q:()=>l});var i=n(86202),o=n(34163),r=n(24412),s=n(96966),a=n(3582);function l({comContext:e,catalogAry:t,onlyShortcuts:n}){const l=(0,o.Q)(e),c=e.model.$el,d=t[0],u=(0,a.A)(e,l,d),p=new s.K9.Group;d.addGroup(p);const f=(0,i.SL)(r.A9,u,e,l,c,c,n),[h,m]=f;p.addItems(h)}function c({comContext:e,catalogAry:t,onlyShortcuts:n}){const l=(0,o.Q)(e),c=e.model.$el,d=new s.K9.Category("代码");t.push(d);const u=(0,a.A)(e,l,d),p=new s.K9.Group;d.addGroup(p);const f=(0,i.SL)(r.A9,u,e,l,c,c,n),[h,m]=f;p.addItems(h)}},79333:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var i=n(86202),o=n(96966),r=n(24412),s=o.K9.Group;function a({comContext:e,comEdtContext:t,connectorEdt:n}){const o=new s;return o.addItem((0,i.hX)({selector:r.A9,comContext:e,edtContext:t,editor:{title:"连接器",type:"_connectorSelect",description:"绑定连接器，实现数据直接获取",value:{get({data:e}){const i=n.get;if("function"==typeof i)return i(t)},set({data:e},i){const o=()=>{const e=n.set;"function"==typeof e&&e(t,i)};if(i)o();else{const e=n.remove;"function"==typeof e?e(t):o()}}}}})),o}},31708:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var i=n(96966),o=n(24412),r=n(34163),s=n(64012),a=i.K9.Group;function l(e){let t;const{model:n}=e,s=n.focusArea;return t=s&&s.isValid()?function(e){var t;const{model:n,comDef:s}=e,a=(0,r.Q)(e),l=[],d=(n.$el,n.focusArea);if(d&&d.isValid()&&s.editors){const u=s.editors.view||s.editors,p=(null===(t=u[o.PN])||void 0===t?void 0:t[n.id])||{};let{ele:f,selectors:h}=d;function m(e,t,n){if(t){const[n,o,r]=t,s=new i.K9.Group;s.addItems(n),s.items&&e.addGroup(s)}}h&&Object.keys(h).forEach((t=>{const n=u[t]||p[t];function o(n){var o,r,s;const u=[];u.push({type:"default",title:null,items:[]}),u.push({type:"normal",title:null,items:null}),u.push({type:"normal",title:null,items:null});const p=n(a,u[0],u[1],u[2]);if((null==p?void 0:p.title)&&(d.title=p.title),(null===(o=u[0].items)||void 0===o?void 0:o.length)>0){const n=c(t,u[0].items,e,a),[o,r,s]=n,d=new i.K9.Category(u[0].title||r||"区域");l.push(d),m(d,n,t)}if((null===(r=u[1].items)||void 0===r?void 0:r.length)>0){const n=c(t,u[1].items,e,a),o=new i.K9.Category(u[1].title||"无标题");l.push(o),m(o,n,t)}if((null===(s=u[2].items)||void 0===s?void 0:s.length)>0){const n=c(t,u[2].items,e,a),o=new i.K9.Category(u[2].title||"无标题");l.push(o),m(o,n,t)}}if("function"==typeof n)o(n);else if("object"==typeof n&&"function"==typeof n.items)o(n.items),(null==n?void 0:n.title)&&(d.title=n.title);else{const o=c(t,n,e,a);if(o){let[e,t,n]=o,r=new i.K9.Group;if(e){let n=new i.K9.Category(t||"区域");l.push(n),n.addGroup(r),r.addItems(e)}}}}))}return l}(e):function(e){var t,n;const{model:s,comDef:a,context:l,emitItem:d,emitIOCAbout:u,emitSnap:p,viewContext:f}=e,h=[],m=o.A9;let g,y;a.editors&&(g=a.editors.view||a.editors,g&&(y=g[o.A9]));y||(y=[]);const b=(0,r.Q)(e);if("function"==typeof y||"object"==typeof y&&"function"==typeof y.items){let o;o="function"==typeof y?y:y.items;const r=[];r.push({type:"default",title:null,items:[]}),r.push({type:"normal",title:null,items:null}),r.push({type:"normal",title:null,items:null}),o(b,r[0],r[1],r[2]);const l=s.runtime.title||a.title,d=new i.K9.Category(l);let u;if(h.push(d),r[0].items&&(u=c(m,r[0].items,e,b)),v(d,u),(null===(t=r[1].items)||void 0===t?void 0:t.length)>0){const t=new i.K9.Category(r[1].title||"无标题");h.push(t);v(t,c(m,r[1].items,e,b))}if((null===(n=r[2].items)||void 0===n?void 0:n.length)>0){const t=new i.K9.Category(r[2].title||"无标题");h.push(t);v(t,c(m,r[2].items,e,b))}}else{const t=new i.K9.Category({title:s.runtime.title||a.title,setTitle(e){s.runtime.title=e}});h.push(t);v(t,c(m,y,e,b))}function v(e,t){if(t){const[n,o]=t,r=new i.K9.Group({});r.addItems(n),r.items&&e.addGroup(r)}}return h}(e),null==t?void 0:t.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}function c(e,t,n,i){const{comDef:o,model:r}=n;let s,a=[];if(!Array.isArray(t)&&"object"==typeof t){if(!t.items)return;if("function"==typeof t.items)t=t.items(i);else{if(!Array.isArray(t.items))throw new Error(`Invalid value type for selector(${e}) in component(${o.namespace}),expect {items:[],title:string}.`);t=t.items}s=t.title}return t&&t.forEach((t=>{if("function"==typeof t||t.type)a.push(u({selector:e,comContext:n,edtContext:i,editor:t}));else if("object"==typeof t)if(Array.isArray(t.items)){const o=d(e,n,i,t);o.items&&o.items.length>0&&a.push(o)}else if("function"==typeof t.items){const o=d(e,n,i,t);o.items&&o.items.length>0&&a.push(o)}})),[a,s]}function d(e,t,n,i){let o;"function"==typeof i.ifVisible&&(o=()=>{const e=i.ifVisible(n);return"boolean"==typeof e&&e});const r=new a({title:i.title});if(Array.isArray(i.items))i.items.forEach((i=>{if(Array.isArray(i.items)){const o=d(e,t,n,i);r.addItem(o)}else("function"==typeof i||i.type||Array.isArray(i.items))&&r.addItem(u({selector:e,comContext:t,edtContext:n,editor:i}))}));else if("function"==typeof i.items){const o=i.items(n);Array.isArray(o)&&o.forEach((i=>{if(Array.isArray(i.items)){const o=d(e,t,n,i);r.addItem(o)}else("function"==typeof i||i.type||Array.isArray(i.items))&&r.addItem(u({selector:e,comContext:t,edtContext:n,editor:i}))}))}return r}function u({selector:e,comContext:t,edtContext:n,editor:o}){const{model:r,context:a,emitSnap:l,emitLogs:c,emitVariable:d,viewContext:u}=t;if((!r.runtime.isBluePrint||a.isDesnModeOfBluePrint()||o.id&&r.isEditorReserved(e,o.id))&&("function"==typeof o&&(o=o(n)),"object"==typeof o)){if(s.isValidElement(o))return;if(o.type&&"_event"===o.type.toLowerCase()){let e=o.options;if("function"==typeof e)try{e=()=>{const e=o.options(n);return e&&"object"==typeof e&&!Array.isArray(e)?e:{options:e}}}catch(e){return console.error(e),new i.K9.ErrorItem({title:`${o.title}.options 发生错误.`,description:e.message})}return{title:o.title,type:o.type,options:e}}}}},11462:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(91716);function r(e){const{emitItem:t,viewContext:n,emitSnap:r}=e,{context:a,viewModel:l}=n;if(!n.selection)return;const c=n.selection.coms,d=c[0].parent,u=new i.K9.Category(`选中了${c.length}个组件`);let p=new i.K9.Group;u.addGroup(p);let f=c[0].parent;if(c.find((e=>{if(e.parent!==f)return!0})))return[u];if(d.style.isLayoutAbsoluteOrSmart()){p.addItem(s(n,{title:"对齐",type:"select",options:[{label:"居左",value:"left"},{label:"水平居中",value:"center"},{label:"居右",value:"right"},{label:"------------------------------",value:"-"},{label:"居上",value:"top"},{label:"垂直居中",value:"middle"},{label:"居下",value:"bottom"}],value:{get(){let e,t;c.forEach((n=>{const i=(0,o.E9)(n.$el,d.$el);e=void 0===e?i.x:Math.min(e,i.x),t=void 0===t?i.x+i.w:Math.max(t,i.x+i.w)}));const n=e+(t-e)/2;let i,r,s=!0,a=!0,l=!0;if(c.forEach((i=>{const r=(0,o.E9)(i.$el,d.$el);s&=r.x===e,a&=r.x===Math.ceil(n-r.w/2),l&=r.x===t-r.w})),s)return"left";if(a)return"center";if(l)return"right";c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);i=void 0===i?t.y:Math.min(i,t.y),r=void 0===r?t.y+t.h:Math.max(r,t.y+t.h)}));const u=i+(r-i)/2;let p=!0,f=!0,h=!0;return c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);p&=t.y===i,f&=t.y===Math.ceil(u-t.h/2),h&=t.y===r-t.h})),p?"top":f?"middle":h?"bottom":void 0},set(e){const t=a.geoZoom;let n,i;c.forEach((e=>{const r=(0,o.E9)(e.$el,d.$el);n=void 0===n?r.x/t:Math.min(n,r.x/t),i=void 0===i?r.x/t+r.w:Math.max(i,r.x/t+r.w)}));const r=n+(i-n)/2;let s,l;"left"===e&&c.forEach((e=>{e.style.left=Math.ceil(n)})),"center"===e&&c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);e.style.left=Math.ceil(r-t.w/2)})),"right"===e&&c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);e.style.left=i-t.w})),c.forEach((e=>{const n=(0,o.E9)(e.$el,d.$el);s=void 0===s?n.y/t:Math.min(s,n.y/t),l=void 0===l?n.y/t+n.h:Math.max(l,n.y/t+n.h)}));const u=s+(l-s)/2;"top"===e&&c.forEach((e=>{e.style.top=s})),"middle"===e&&c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);e.style.top=u-t.h/2})),"bottom"===e&&c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el);e.style.top=l-t.h}))}}}));let e=p;c.length>2&&(e=new i.K9.Group({title:"分布"}),u.addGroup(e),e.addItem(s(n,{title:"水平平均分布",type:"button",value:{set(e){let t,n,i=0;c.forEach((e=>{const r=(0,o.E9)(e.$el,d.$el);i+=r.w,t=void 0===t?r.x:Math.min(t,r.x),n=void 0===n?r.x+r.w:Math.max(n,r.x+r.w)}));const r=(n-t-i)/(c.length-1),s=[...c].sort(((e,t)=>e.style.left-t.style.left));s.forEach(((e,t)=>{if(t>0){const n=s[t-1];e.style.left=n.style.left+n.$el.offsetWidth+r}}))}}})),e.addItem(s(n,{title:"水平分布（根据数值）",type:"text",options:{type:"number"},value:{get(){const e=[...c].sort(((e,t)=>e.style.left-t.style.left));let t;if(e.forEach(((n,i)=>{if(i>0){const o=e[i-1];if(void 0===t)t=n.style.left-o.style.left-o.$el.offsetWidth;else if(!1!==t){n.style.left-o.style.left-o.$el.offsetWidth!==t&&(t=!1)}}})),"number"==typeof t)return t},set(e){const t=e,n=[...c].sort(((e,t)=>e.style.left-t.style.left));n.forEach(((e,i)=>{if(i>0){const o=n[i-1];e.style.left=Math.ceil(o.style.left+o.$el.offsetWidth+t)}}))}}})),e.addItem(s(n,{title:"垂直平均分布",type:"button",value:{set(e){let t,n,i=0;c.forEach((e=>{const r=(0,o.E9)(e.$el,d.$el);i+=r.h,t=void 0===t?r.y:Math.min(t,r.y),n=void 0===n?r.y+r.h:Math.max(n,r.y+r.h)}));const r=(n-t-i)/(c.length-1),s=[...c].sort(((e,t)=>e.style.top-t.style.top));s.forEach(((e,t)=>{if(t>0){const n=s[t-1];e.style.top=n.style.top+n.$el.offsetHeight+r}}))}}})),e.addItem(s(n,{title:"垂直分布（根据数值）",type:"text",options:{type:"number"},value:{get(){const e=[...c].sort(((e,t)=>e.style.top-t.style.top));let t;if(e.forEach(((n,i)=>{if(i>0){const o=e[i-1];if(void 0===t)t=n.style.top-o.style.top-o.$el.offsetHeight;else if(!1!==t){n.style.top-o.style.top-o.$el.offsetHeight!==t&&(t=!1)}}})),"number"==typeof t)return t},set(e){const t=e,n=[...c].sort(((e,t)=>e.style.top-t.style.top));n.forEach(((e,i)=>{if(i>0){const o=n[i-1];e.style.top=o.style.top+o.$el.offsetHeight+t}}))}}}))),e.addSeparator(),e.addItem(s(n,{title:"创建组",type:"button",value:{set(e,n){var r;const s=a.getComDef({namespace:i.ZD.coms.group}),u=new i.Al(s);t.add({seedModel:u,toComId:null===(r=d.parent)||void 0===r?void 0:r.id,toSlotId:d.id,state:"finish"},{indeed:!0,noFocus:!0});const p=d.searchCom(u.id),f=l.style.zoom;let h,m,g,y;c.forEach((e=>{const t=(0,o.E9)(e.$el,d.$el),n=e.$el.getBoundingClientRect(),i=n.width/f,r=n.height/f;void 0===h?(h=t.x/f,m=t.y/f,g=h+i,y=m+r):(h=Math.min(t.x/f,h),m=Math.min(t.y/f,m),g=Math.max(t.x/f+i,g),y=Math.max(t.y/f+r,y))}));const b=p.style;b.left=h,b.top=m,b.width=Math.ceil(g-h),b.height=Math.ceil(y-m);const v=d.$el;c.forEach((e=>{p.cutIn(e,"content");const t=e.style;if(t.xCenter=void 0,void 0!==t.right){const e=v.offsetWidth-h-b.width;t.right=t.right-e}else t.left=t.left-h;if(void 0!==t.bottom){const e=v.offsetHeight-m-b.height;t.bottom=t.bottom-e}else t.top=t.top-m})),t.focus(p)}}}))}return[u]}function s(e,t){const{getCurModuleSlot:n,emitItem:o,emitSnap:r,emitVariable:s,emitViews:a}=e,l=n();if("object"==typeof t){let e;"function"==typeof t.ifVisible&&(e=()=>{const e=t.ifVisible();return"boolean"==typeof e&&e});let n=t.options;"function"==typeof n&&(n=t.options());const o={title:t.title,type:t.type,description:t.description,value:function(){let e;return{get:()=>(e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e,e),set(e){const n=t.value&&t.value.set||(()=>{}),i=r.start("组操作",{target:l});n(e),i.commit()}}}(),options:n,ifVisible:e};return new i.K9.EditItem(o)}throw new Error("Invalid typeof editor(function or object expect)")}},45773:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(86202),o=n(96966),r=n(34163);function s(e,t){const{model:n,viewContext:s}=e,{viewModel:a,emitSnap:l,emitItem:c,context:d}=s,u=new o.K9.Group,p=(0,r.Q)(e),f=n.slots[0];u.addItem((0,i.hX)({selector:":root",comContext:e,edtContext:p,editor:{title:"布局",type:"layout",description:"组内组件的布局方式",value:{get(){const e=f.style;return e.isLayoutOfFlex()?{flexDirection:e.isLayoutOfFlexRow()?"row":"column",alignItems:e.alignItems,justifyContent:e.justifyContent,rowGap:e.rowGap,columnGap:e.columnGap,flexWrap:e.flexWrap}:{position:e.layout}},set(e,t){const i=n.style,o=f.style,r=f.$el,s=()=>{void 0!==i.width&&"fit-content"!==i.width||(i.width=r.offsetWidth),void 0!==i.height&&"fit-content"!==i.height||(i.height=r.offsetHeight)};if("smart"===t.position)s(),f.setLayout(t.position,a.style.zoom);else if("absolute"===t.position)s(),f.setLayout(t.position,a.style.zoom);else if("flex"===t.display){const{flexDirection:e,alignItems:n,justifyContent:i,columnGap:r,rowGap:s,flexWrap:l}=t;o.alignItems=n,o.justifyContent=i,o.columnGap=r,o.rowGap=s,o.flexWrap=l,"row"===e?f.setLayout("flex-row",a.style.zoom):"column"===e&&(o.isLayoutAbsoluteOrSmart()&&f.comAry.forEach((e=>{e.style.widthFull&&(e.style.width="100%")})),f.setLayout("flex-column",a.style.zoom))}}}}}));const h=d.getComDef(n.runtime.def);h.outputs&&(u.addSeparator(),h.outputs.forEach((t=>{u.addItem((0,i.hX)({selector:":root",comContext:e,edtContext:p,editor:{title:t.title,type:"_event",options:{outputId:t.id}}}))}))),u.addSeparator(),u.addItem((0,i.hX)({selector:":root",comContext:e,edtContext:p,editor:{title:"解散组",type:"button",value:{set(e,t){const i=n.parent,o=n.style,r=l.start("解散组",{target:i});[...n.slots[0].comAry].forEach((e=>{i.cutIn(e);const t=e.style;t.left=t.left+o.left,t.top=t.top+o.top})),c.delete(n),c.blur(),r.commit()}}}})),t.addGroup(u)}},95253:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var i=n(96966),o=n(91737),r=n(24412),s=n(86202);function a(e,t,n,a,l,c,d){var u,p,f,h;const{viewContext:m,model:g,comDef:y}=t,{comThemes:b}=m,v=g.style,x=b[y.namespace]||[],A=x.find((e=>e.isDefault)),w=new i.K9.Category("样式"),E=(0,o.sH)({v:!0}),C=null==c?void 0:c.style,_=C&&("object"==typeof C||Array.isArray(C));if(_){const e=[],{model:t}=d;if(Array.isArray(C)){const e=o=>{const r=[];if(Array.isArray(o))o.forEach((o=>{if(o.items){const t=e(o.items);if(t.length>0){const e=new i.K9.Group({ifVisible:"function"==typeof o.ifVisible?()=>o.ifVisible(n):void 0,title:o.title,onCatelogChange:(()=>{const e=o.catelogChange;if(e)return{value:{get:()=>e.value.get(n),set(t){e.value.set(n,t)}}}})(),folded:o.folded});e.addItems(t),r.push(e)}}else{const e=P(o,d,t.$el.firstChild,!0);r.push(e)}}));else{const e=P(C,d,t.$el.firstChild,!0);r.push(e)}return r},o=e(C);if(o.length>0){const e=new i.K9.Group;e.addItems(o),w.addGroup(e)}}else{const n=P(C,d,t.$el.firstChild,!0);if(e.push(n),e.length>0){const t=new i.K9.Group;t.addItems(e),w.addGroup(t)}}const o=w.groups;o.length>0&&o[o.length-1].addSeparator()}const M=null===(p=null===(u=l[r.PN])||void 0===u?void 0:u[g.id])||void 0===p?void 0:p[a];let I=null===(f=l[a])||void 0===f?void 0:f.style;if((null==M?void 0:M.style)&&(I||(I=[]),I.push(...M.style)),I){const e=t.model.$el.firstChild,o=r=>{const l=[];if(Array.isArray(r)){let c=[];const d=()=>{if(c.length>0){const i=(0,s.SL)(a,c,t,n,void 0,e,!1,k);if(c=[],i){const[e,t]=i;if(e.length>0)return e}}};r.forEach((t=>{if(t.value)c.push(t);else{if(c.length>0){const e=d();e&&l.push(...e)}if(t.items){const e=o(t.items);if(e.length>0){const o=new i.K9.Group({ifVisible:"function"==typeof t.ifVisible?()=>t.ifVisible(n):void 0,title:t.title,onCatelogChange:(()=>{const e=t.catelogChange;if(e)return{value:{get:()=>e.value.get(n),set(t){e.value.set(n,t)}}}})(),folded:t.folded});o.addItems(e),l.push(o)}}else if(t.catalogs){const e=new i.K9.Group({ifVisible:"function"==typeof t.ifVisible?()=>t.ifVisible(n):void 0,title:t.title,folded:t.folded});if(t.catalogs){const n=o(t.catalogs);e.catalogs=n}l.push(e)}else{const i=d();i&&l.push(...i);const o=P(t,n,e);l.push(o)}}}));const u=d();u&&l.push(...u)}else{const t=P(r,n,e);l.push(t)}return l};if(x.length>0){const e=new i.K9.Group;e.addItem((0,s.hX)({selector:a,comContext:t,edtContext:n,editor:{title:"风格",type:"_themeSelect",options:()=>({options:[...x.sort((e=>e.isDefault?-1:1)).map((e=>e)),{id:r.gE,title:"自定义"}]}),value:{get(){var e;return v.themesId?v.themesId:A?A.id:(null===(e=v.styleAry)||void 0===e||e.length,r.gE)},set(e,t){if(t===r.gE){let e=v.themesId;!e&&A&&(e=A.id);const t=x.find((t=>t.id===e));t&&t.styleAry&&Array.isArray(t.styleAry)&&t.styleAry.forEach((e=>{v.addStyle(e.selector,e.css)}))}else v.clearStyleAry();v.themesId=t}}}})),w.addGroup(e)}const l=o(I);if(l.length>0){const e=new i.K9.Group;_&&(e.title=y.title),e.addItems(l),w.addGroup(e)}}function k(e){E.v=!E.v}function P(e,n,i,o){if("function"==typeof e)return;const r=(0,s.qp)(a,e,t,n,{ifRefresh:()=>E.v,rootDom:i,appendEditors:c,withParentEdtCtx:o,parentComContext:d});return(0,s.hX)({selector:a,comContext:t,edtContext:n,editor:r})}(null===(h=w.groups)||void 0===h?void 0:h.length)>0&&e.push(w)}},86202:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>A,LI:()=>v,SL:()=>_,Ts:()=>b,_j:()=>w,hX:()=>E,jL:()=>x,qp:()=>C});var i=n(34163),o=n(96966),r=n(91737),s=n(24412),a=n(60607),l=n(82192),c=n(23204),d=n(29499),u=n(11187),p=n(61111),f=n(50116),h=n(59299),m=n(64012),g=o.K9.Group;let y=[];function b(){y=[]}function v(e,t){var n,i;const{model:r,comDef:s,context:a,emitItem:l,emitIOCAbout:c,emitSnap:u,viewContext:p}=e,f=r.style,h=r.$el.firstChild;let m;if(s.editors&&(m=s.editors.view||s.editors),!m||!h)return;const g=r.parent.style.isLayoutAbsoluteOrSmart();const y=null==m?void 0:m["@resize"];let b,v;if("object"==typeof y){const{options:e}=y;b="function"==typeof e?e(t):e,"function"==typeof y.ifVisible&&(v=(...e)=>{const t=y.ifVisible(...e);return"boolean"==typeof t&&t})}else b=[],(null===(n=f.proxyStyle)||void 0===n?void 0:n.widthResizable)&&b.push("width"),(null===(i=f.proxyStyle)||void 0===i?void 0:i.heightResizable)&&b.push("height");r.isGroup()&&(b=["width","height"]);const x=new o.K9.Group({});let A,w;return Array.isArray(b)?(A=!!b.find((e=>"asLine"===e)),w=!!b.find((e=>"rotatable"===e))):"object"==typeof b&&(A=!!b.asLine,w=!!b.rotatable),x.addItem((()=>(0,d.A)({options:b||["width"],ifVisible:v,asLine:A,rotatable:w,value:{set(e,{state:n}){!function(e,{d:n,adx:i}){var o;const{left:s,top:a,width:l,height:c,widthReverse:d,heightReverse:u}=e;if(void 0!==s){const e=s-(void 0!==f.left?f.left:0);"left"===n?r.isStyleLayoutAbsoluteOrFixed()&&(f.left=s):"number"!=typeof f.width?f.width=h.offsetWidth+e:f.width+=e}const p=r.hasSlotWithAbsLayout();if(void 0!==l&&(g?("100%"===f.width&&(f.widthFull=!0),p||(f.widthAuto=void 0)):(p||(f.widthAuto=void 0),f.widthFull=void 0),f.width=l),void 0!==a){const e=a-f.top;"top"===n&&r.isStyleLayoutAbsoluteOrFixed()?(h.offsetHeight,f.top=a):("number"!=typeof f.height&&(f.height=h.offsetHeight+e),f.height+=e)}if(void 0!==c&&(g?p||(f.heightAuto=void 0):(p||(f.heightAuto=void 0),f.heightFull=void 0),f.height=c),void 0!==l||void 0!==c){void 0!==d&&(f.widthReverse=d),void 0!==u&&(f.heightReverse=u);const e={widthReverse:d,heightReverse:u};void 0!==c&&(e.height=c),void 0!==l&&(e.width=l),"function"==typeof y?y(arguments[0],e):"object"==typeof y&&"function"==typeof(null===(o=y.value)||void 0===o?void 0:o.set)&&y.value.set(t,e)}requestAnimationFrame((e=>{r.notifyEleChanged()}))}(...arguments),"start"===n&&r.state.editing(),"finish"===n&&(r.state.editingRecover(),l.reFocus(r))}}},e))),x}function x(e,t,n){var i,o;const{model:r,comDef:s,context:a,emitItem:l,emitIOCAbout:c,emitSnap:d,viewContext:f}=t,h=r.style,m=r.$el.firstChild;let g;if(s.editors&&(g=s.editors.view||s.editors),g){const s=r.parent.style.isLayoutAbsoluteOrSmart();let l,c;const d=null==g?void 0:g["@resize"];if("function"==typeof d);else if("object"==typeof d){const{options:e}=d;let t;t="function"==typeof e?e(n):e,Array.isArray(t)?(l=t.find((e=>"width"===e)),c=t.find((e=>"height"===e))):"object"==typeof t&&(l=void 0!==t.width,c=void 0!==t.height)}(null===(i=h.proxyStyle)||void 0===i?void 0:i.widthResizable)&&(l=!0),(null===(o=h.proxyStyle)||void 0===o?void 0:o.heightResizable)&&(c=!0),r.isGroup()&&(l=!0,c=!0),e.addItem((()=>(0,u.A)({options:{width:{title:"宽",disabled:!l},height:{title:"高",disabled:!c}},value:{sync:!0,get(){let e,t;if(m){const n=a.geoZoom,i=m.getBoundingClientRect();e="number"==typeof h.width?h.width:Math.ceil(i.width/n),t="number"==typeof h.height?h.height:Math.ceil(i.height/n)}else e=h.width,t=h.height;return s?{width:{value:e,auto:h.widthAuto,fill:h.widthFull||"100%"===h.width},height:{value:t,auto:h.heightAuto,flex:h.heightFull}}:{width:{value:e,auto:h.widthAuto,fill:"100%"===h.width},height:{value:t,auto:h.heightAuto,flex:"100%"===h.height}}},set(e){var t;let i;if(l&&(void 0!==e.widthAuto&&(0,p.yp)(r,e.widthAuto),void 0!==e.widthFull&&(0,p.cB)(r,e.widthFull),void 0!==e.width&&(h.width=e.width,h.widthAuto=void 0,s||(h.widthFull=void 0))),c&&(void 0!==e.heightAuto&&(0,p.xx)(r,e.heightAuto),void 0!==e.heightFull&&(0,p.fv)(r,e.heightFull),void 0!==e.height&&(h.height=e.height,h.heightAuto=void 0,s||(h.heightFull=void 0))),"function"==typeof d?i=d:"object"==typeof d&&"function"==typeof(null===(t=d.value)||void 0===t?void 0:t.set)&&(i=d.value.set),i){const e={width:h.width,height:h.height};h.widthAuto?e.width="fit-content":h.widthFull&&(e.width="100%"),h.heightAuto?e.height="fit-content":h.heightFull&&(e.height="100%"),d.value.set(n,e)}r.notifyEleChanged(!0)}}},t)))}}function A(e){var t,n;const{model:r,comDef:s,viewContext:a}=e,{context:l,viewModel:c}=a,u=[],p=r.focusArea;if(p&&p.isValid()){const p=new o.K9.Category("插槽");u.push(p);const f=r.focusArea.ele.getAttribute("data-slot-id");let h=null===(t=r.slots)||void 0===t?void 0:t.find((e=>e.id===f)),m=(0,i.Q)(e);if(!h&&s.schema&&r.parent){const e=r.parent.parent;e&&(h=null===(n=e.slots)||void 0===n?void 0:n.find((e=>e.id===f)),m=(0,i.Q)(Object.assign({comId:e.id,comName:e.name,context:l,model:e},a)))}if(h){const t=new o.K9.Group;p.addGroup(t),t.addItem(E({selector:"[data-slot-id]",comContext:e,edtContext:m,editor:{type:"layout",value:{get(){const e=h.style,t={paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight};return e.isLayoutOfFlex()?Object.assign(Object.assign({},t),{flexDirection:e.isLayoutOfFlexRow()?"row":"column",alignItems:e.alignItems,justifyContent:e.justifyContent,rowGap:e.rowGap,columnGap:e.columnGap,flexWrap:e.flexWrap}):Object.assign(Object.assign({},t),{position:e.layout})},set(e,t){const n=h.style;if(n.paddingTop=t.paddingTop,n.paddingBottom=t.paddingBottom,n.paddingLeft=t.paddingLeft,n.paddingRight=t.paddingRight,"smart"===t.position)h.setLayout(t.position,c.style.zoom);else if("absolute"===t.position)h.setLayout(t.position,c.style.zoom);else if("flex"===t.display){const{flexDirection:e,alignItems:i,justifyContent:o,columnGap:r,rowGap:s,flexWrap:a}=t;n.alignItems=i,n.justifyContent=o,n.columnGap=r,n.rowGap=s,n.flexWrap=a,"row"===e?h.setLayout("flex-row",c.style.zoom):"column"===e&&h.setLayout("flex-column",c.style.zoom)}}}}})),t.addItem((()=>(0,d.A)({options:["width","height"],value:{set(e,{state:t}){"ing"===t&&(void 0!==e.height&&(h.style.height=e.height),void 0!==e.width&&(h.style.width=e.width))}}},h,e)))}}return u}function w(e,t){var n;const{model:r,comDef:a}=e,l=(0,i.Q)(e),c=[],d=r.$el,u=r.focusArea;if(u&&u.isValid()&&a.editors){const m=a.editors.view||a.editors,g=(null===(n=m[s.PN])||void 0===n?void 0:n[r.id])||{};let{ele:y,selectors:b}=u;function v(t,n,i){if(n){const[r,s,a]=n,c=new o.K9.Group({onCatelogChange:"object"==typeof a?E({selector:i,comContext:e,edtContext:l,editor:Object.assign(Object.assign({},a),{value:{get(){var e;if("function"==typeof(null===(e=a.value)||void 0===e?void 0:e.get))return a.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=a.value)||void 0===n?void 0:n.set)&&a.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:y}):void 0});c.addItems(r),c.items&&t.addGroup(c)}}function x({selector:t,editors:n}){var i;const a=null==n?void 0:n.style;if(!a)return;if(c.find((e=>{if("样式"===e.title)return!0})))return;const u={v:!0};function p(e){u.v=!u.v}const f=new o.K9.Category("样式");function h(n){let i,o,c;if(n.target?"function"==typeof n.target?i=n.target(l):("string"==typeof n.target||Array.isArray(n.target))&&(i=n.target):i=function(e){const n=t.split(/\s/).map((t=>{var n;if(t.match(/^\[.*\]$/)){const i=t.substring(1,t.length-1),o=e.ele.getAttribute(i);if(void 0!==o){if("object"==typeof a){const e=null===(n=a.options)||void 0===n?void 0:n.target;if(e)return`[${i}=${o}] ${e}`}return`[${i}=${o}]`}}return t})).join(" ");return n}(r.focusArea),n.domTarget?"function"==typeof n.domTarget?o=n.domTarget(l):("string"==typeof n.domTarget||Array.isArray(n.domTarget))&&(o=n.domTarget):o=i,"function"==typeof n.ifVisible&&(c=(...e)=>{const t=n.ifVisible(...e);return"boolean"==typeof t&&t}),i&&"string"==typeof i&&0===i.indexOf("[data-com-id")){const e=r.focusArea.ele.getAttribute(s.RO);e&&(o=`[${s.RO}="${e}"]`,i=`[${s.RO}="${e}"]`)}const p=r.runtime.model.style;return E({selector:t,comContext:e,edtContext:l,editor:{title:n.title||"常规",type:s._Q,description:"常规样式",catelog:n.catelog,ifVisible:c,ifRefresh:()=>u.v,options:()=>({get targetDom(){let e;try{if("string"==typeof o)o=o.replace(/\{id\}/gi,r.id),e=d.querySelector(":scope "+o);else if(Array.isArray(o)&&o.length>0){o[0].replace(/\{id\}/gi,r.id);e=d.querySelector(":scope "+o[0])}}catch(e){}return e},plugins:n.options,comId:r.id,selector:i,defaultOpen:n.folded||!0,disabledSwitch:!n.folded}),value:{get({focusArea:e}){if("string"==typeof i){const e=p.getStyle(i);if(e)return e.css}else if(Array.isArray(i)&&i.length>0){const e=p.getStyle(i[0]);if(e)return e.css}},set({focusArea:e},t){var o;let r=t;"function"==typeof(null===(o=n.valueProxy)||void 0===o?void 0:o.set)&&(r=n.valueProxy.set({focusArea:e,selector:i},t)),r&&("string"==typeof i?(p.addStyle(i,t,n.global),p.themesId=s.gE):Array.isArray(i)&&i.length>0&&(i.forEach((e=>{p.addStyle(e,t,e.global)})),p.themesId=s.gE))}}}})}const m=function n(i){const r=[];if(Array.isArray(i)){let s=[];const a=()=>{if(s.length>0){const n=_(t,s,e,l,void 0,y,!1,p);if(s=[],n){const[e,t]=n;if(e.length>0)return e}}};i.forEach((e=>{if(e.value)s.push(e);else{if(s.length>0){const e=a();e&&r.push(...e)}if(e.items){const t=n(e.items);if(t.length>0){const n=new o.K9.Group({ifVisible:"function"==typeof e.ifVisible?()=>e.ifVisible(l):void 0,title:e.title,onCatelogChange:e.catelogChange});n.addItems(t),r.push(n)}}else{const t=a();let n;t&&r.push(...t),n="function"==typeof e?e:h(e),r.push(n)}}}));const c=a();c&&r.push(...c)}else{const e=h(i);r.push(e)}return r}(a);if(m.length>0){const e=new o.K9.Group;e.addItems(m),f.addGroup(e)}(null===(i=f.groups)||void 0===i?void 0:i.length)>0&&c.push(f)}if(b){const A=(0,f.s3)(r);Object.keys(b).forEach(((n,i)=>{if(n===A&&c.find((e=>{if("样式"===e.title)return!0})))return;const r=m[n]||g[n];function s(i){var r,s,a;const p=[];p.push({type:"default",title:null,items:[]}),p.push({type:"normal",title:null,items:null}),p.push({type:"normal",title:null,items:null});const f=i(l,p[0],p[1],p[2]);if((null==f?void 0:f.title)&&(u.title=f.title),(null===(r=p[0].items)||void 0===r?void 0:r.length)>0){const i=_(n,p[0].items,e,l,d,y,t),[r,s,a]=i,u=new o.K9.Category(p[0].title||s||"区域");c.push(u),v(u,i,n)}if((null===(s=p[1].items)||void 0===s?void 0:s.length)>0){const i=_(n,p[1].items,e,l,d,y,t),r=new o.K9.Category(p[1].title||"无标题");c.push(r),v(r,i,n)}if((null===(a=p[2].items)||void 0===a?void 0:a.length)>0){const i=_(n,p[2].items,e,l,d,y,t),r=new o.K9.Category(p[2].title||"无标题");c.push(r),v(r,i,n)}}const a=g[n];if("function"==typeof r)s(r);else if("object"==typeof r&&"function"==typeof r.items)s(r.items),r.title&&("string"==typeof r.title?u.title=r.title:"function"==typeof r.title&&(u.title=r.title({focusArea:u}))),x({selector:n,editors:r});else{let s=r;a&&a.items&&Array.isArray(s)&&(s=s.concat(a.items));const u=_(n,s,e,l,d,y,t);if(u){let[t,r,s]=u,a=new o.K9.Group({onCatelogChange:"object"==typeof s?E({selector:n,comContext:e,edtContext:l,editor:Object.assign(Object.assign({},s),{value:{get(){var e;if("function"==typeof(null===(e=s.value)||void 0===e?void 0:e.get))return s.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=s.value)||void 0===n?void 0:n.set)&&s.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:y}):void 0});if(t){let e;0===i?(e=new o.K9.Category(r||"区域"),c.push(e)):e=c[c.length-1],e.addGroup(a),a.addItems(t)}}x({selector:n,editors:r})}}))}}return(0,p.gI)(a)&&(0,h.G)({comContext:e,catalogAry:c,onlyShortcuts:t}),c.length>0?c.filter((e=>{if(e.groups.length>0){let t=0;if(e.groups.forEach((e=>{e.items&&e.items.forEach((e=>{e&&"function"!=typeof e&&(t+=1)}))})),t>0)return e}})):c}function E({selector:e,comContext:t,edtContext:n,editor:i,ele:d,sysEditor:u,sameAsShortcut:p,onValueChanged:f}){const{model:h,context:g,emitSnap:b,emitLogs:v,emitVariable:x,viewContext:A}=t;if(!h.runtime.isBluePrint||g.isDesnModeOfBluePrint()||i.id&&h.isEditorReserved(e,i.id)){if(y.push(i),"function"==typeof i&&(i=i(n)),"function"==typeof i)return i;if("object"==typeof i){if(m.isValidElement(i))return new o.K9.FunctionItem((()=>i));let w,E,_,M=i.options;if("function"==typeof M)try{M=()=>{const e=i.options(n);return e&&"object"==typeof e&&!Array.isArray(e)?e:{options:e}}}catch(e){return console.error(e),new o.K9.ErrorItem({title:`${i.title}.options 发生错误.`,description:e.message})}if("function"==typeof i.ifVisible&&(w=()=>{const e=y.indexOf(i)>=0;if(!h.hadDestroyed()&&e)return(0,r.A1)((()=>{if(!h.focusArea||h.focusArea.isValid())return(0,r.TY)((()=>{const e=i.ifVisible(n);return"boolean"==typeof e&&e}))}))}),i.id&&(u||(g.isDesnModeOfBluePrint()&&h.runtime.isBluePrint&&(E=!0),g.isDesnModeOfComponent()&&(E=!0))),"style"===i.type){_=C(e,i,t,n,{rootDom:h.$el.firstChild});const o=_.value;_.value={get:()=>o.get(),set(e){const t=b.start(`编辑组件${h.runtime.title} 的 ${i.title}`,{target:h});o.set(r,e),t.commit()}};const r=_.ifVisible;r&&(_.ifVisible=()=>r(n))}else _={catelog:i.catelog,title:i.title,type:i.type,selector:i.selector,description:i.description,selectable:E,selected:{get:()=>h.isEditorReserved(e,i.id),set(t){t?h.reserveEditor(e,i.id):h.abandonEditor(e,i.id)}},binding:function(){if(i.binding&&i.binding.with)return{get(){const e=h.runtime.model.bindingsFrom;if(e){const t=e[i.binding.with];if(t){return x.get(t,h.id)}}},set(){let e,t=h.runtime.model.bindingsFrom;t&&(e=t[i.binding.with]);const n=x.getAllBaseOn(h.id);A.emitViews.popView("选择变量",(({close:o})=>m.createElement(l.A,{curVarId:e,varAry:n,bindVar:e=>{o();const n=b.start("绑定变量",{target:h});t||(t=h.runtime.model.bindingsFrom={}),t[i.binding.with]=e.id;const r=e.initValue;x.notifyBindings(e.id,r,!0),n.commit()},removeBinding:e=>{o();const n=b.start("解绑变量",{target:h});t[i.binding.with]=void 0,delete t[i.binding.with],n.commit()}})),{width:350,beforeEditView:!0})}}}(),value:{get(){var t;if((e===s.A9||h.focusArea&&h.focusArea.isValid())&&(!h.focusArea||h.focusArea.isValid())){let e;try{null===(t=i.value)||void 0===t||t.sync,e=(i.value&&i.value.get||(()=>{}))(n)}catch(e){throw console.error(e),v.error(`编辑器(${i.title}.value.get)发生错误.`,e.message),e}return"object"==typeof e&&e&&(e=(0,r.o8)(e,!0)),null==e?null:e}},set(e,t){if(!g.isDebugMode()&&void 0!==e){const o=b.start(`编辑组件${h.runtime.title} 的 ${i.title}`,{target:h}),s=i.value&&i.value.set||(()=>{});i.selector&&(null==t?void 0:t.ele)&&(n.focusArea={ele:t.ele,dataset:t.ele.dataset});try{(0,r.GV)((({ary:i,bat:r})=>{s(n,e,t,{setUndoCallback(e){"function"==typeof e&&o.setUndoCallback(e)}});const l=[],d=[];i.forEach((e=>{let t,n=e.nodeInfo.parent;for(;n;){if(n.component===a.A){t=!0;break}n=n.parent}t?l.push(e):d.push(e)})),l.length>0?(r((()=>{l.forEach((e=>{h.hadDestroyed()&&e.nodeInfo.comoponent===c.A||e.update()}))})),d.length>0&&requestAnimationFrame((()=>{r((()=>{d.forEach((e=>{e.update()}))}))}))):r((()=>{d.forEach((e=>{e.update()}))}))}))}catch(e){return console.error(e),void v.error(`编辑器(${i.title}.value.set)发生错误.`,e.message)}h.focusArea?Promise.resolve().then((e=>{h.focusArea.notifyEleChanged(!0),h.focusArea&&!h.focusArea.isValid()&&(h.focusArea=void 0,h.notifyFocusAreaDeleted())})):setTimeout((e=>{h.notifyEleChanged(!0)})),"ing"===(null==t?void 0:t.state)&&h.state.editing(),t&&t.state&&"finish"!==t.state?o.wait():(h.state.editingRecover(),o.commit()),"function"==typeof f&&f(e)}}},options:M,ifVisible:w,ifRefresh:i.ifRefresh,ele:d,comModel:t.model,comEle:t.model.$el,canvasEle:A.viewModel.canvasWrapEle,zoom:A.viewModel.style.zoom};return p=void 0!==p?p:"shortcut"===i.sameAs,new o.K9.EditItem(_,p)}}}function C(e,t,n,i,{ifRefresh:o,rootDom:r,appendEditors:a,withParentEdtCtx:l,parentComContext:c}){const{viewContext:d,model:u,comDef:p}=n,{comThemes:f}=d,h=u.style,m=(f[p.namespace]||[]).find((e=>e.isDefault)),g="string"==typeof t.target?t.target:e;let y,b;return t.target?"function"==typeof t.target?y=t.target(i,l?{childId:u.id}:void 0):("string"==typeof t.target||Array.isArray(t.target))&&(y=t.target):y=g,t.domTarget?"function"==typeof t.domTarget?b=t.domTarget(i,l?{childId:u.id}:void 0):("string"==typeof t.domTarget||Array.isArray(t.domTarget))&&(b=t.domTarget):b=y,{title:t.title,catelog:t.catelog,type:s._Q,ifVisible:(...e)=>{if(h.themesId===s.gE){if("function"==typeof t.ifVisible){const n=t.ifVisible(...e);return"boolean"==typeof n&&n}return!0}if(m||void 0!==h.themesId)return!1;if(!h.themesId&&"function"==typeof t.ifVisible){const n=t.ifVisible(...e);return"boolean"==typeof n&&n}return!0},ifRefresh:o,options(){var e;return{get targetDom(){let e;try{if(b===s.A9)e=r;else if("string"==typeof b)b=b.replace(/\{id\}/gi,u.id),e=r.parentNode.querySelectorAll(`#${u.id} ${b}`);else if(Array.isArray(b)&&b.length>0){const t=b[0].replace(/\{id\}/gi,u.id);e=r.parentNode.querySelectorAll(`#${u.id} ${t}`)}}catch(e){console.error(e)}return e},plugins:(null===(e=t.options)||void 0===e?void 0:e.plugins)||t.options,comId:u.id,selector:y,defaultOpen:t.folded||!0,disabledSwitch:!t.folded}},value:{get(){if(a&&c){const e=c.model.runtime.model.style,t=`.${u.id} ${y}`,n=e.getStyle(t);if(n)return n.css}else{const e=h.getStyle(y);if(e)return e.css}},set(e,n){var i;if(a&&c){const e=c.model.runtime.model.style,i=`.${u.id} ${y}`;e.addStyle(i,n,t.global),e.themesId=s.gE}else{let e=n;"function"==typeof(null===(i=t.valueProxy)||void 0===i?void 0:i.set)&&(e=t.valueProxy.set({selector:y},n)),e&&h.addStyle(y,n,t.global,l),h.themesId=s.gE}}}}}function _(e,t,n,i,r,s,a,l){const{comDef:c,model:d}=n;let u,p,f=[];if(!Array.isArray(t)&&"object"==typeof t){if(!t.items)return;if("string"==typeof t.title?u=t.title:"function"==typeof t.title&&(u=t.title(i)),"function"==typeof t.items)t=t.items(i);else{if(!Array.isArray(t.items))throw new Error(`Invalid value type for selector(${e}) in component(${c.namespace}),expect {items:[],title:string}.`);t=t.items}p=t.catelogChange}return t&&t.forEach((t=>{if("function"==typeof t||t.type)f.push(E({selector:e,comContext:n,edtContext:i,editor:t,ele:s,onValueChanged:l}));else if("object"==typeof t)if(Array.isArray(t.items)){const o=M(e,n,i,t,s,l);o.items&&o.items.length>0&&f.push(o)}else if("function"==typeof t.items){const o=M(e,n,i,t,s,l);o.items&&o.items.length>0&&f.push(o)}else t.catalogs&&Array.isArray(t.catalogs)||t.type||f.push(new o.K9.SeperatorItem)})),[f,u,p]}function M(e,t,n,i,o,r){let s;"function"==typeof i.ifVisible&&(s=()=>{const e=i.ifVisible(n);return"boolean"==typeof e&&e});const a=new g({title:i.title,description:i.description,sameAsShortcut:"shortcut"===i.sameAs,catelog:i.catelog,onCatelogChange:"object"==typeof i.catelogChange?E({selector:e,comContext:t,edtContext:n,editor:Object.assign(Object.assign({},i.catelogChange),{value:{get(){var e;if("function"==typeof(null===(e=i.catelogChange.value)||void 0===e?void 0:e.get))return i.catelogChange.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=i.catelogChange.value)||void 0===n?void 0:n.set)&&i.catelogChange.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:o}):void 0,ifVisible:s,folded:i.folded});if(Array.isArray(i.items))i.items.forEach((i=>{if(Array.isArray(i.items)){const r=M(e,t,n,i,o);a.addItem(r)}else("function"==typeof i||i.type||Array.isArray(i.items))&&a.addItem(E({selector:e,comContext:t,edtContext:n,editor:i,ele:o,onValueChanged:r}))}));else if("function"==typeof i.items){const s=i.items(n);Array.isArray(s)&&s.forEach((i=>{if(Array.isArray(i.items)){const r=M(e,t,n,i,o);a.addItem(r)}else("function"==typeof i||i.type||Array.isArray(i.items))&&a.addItem(E({selector:e,comContext:t,edtContext:n,editor:i,ele:o,onValueChanged:r}))}))}return a}},33313:(e,t,n)=>{"use strict";n.d(t,{K5:()=>s,LP:()=>a,fK:()=>o,mD:()=>r});var i=n(24412);function o(e){if(e.editors){let t=e.editors.layout||e.editors;if(t)return t}}function r(e,t){let n,o,r;const s=t.getComDef(e.runtime.def);if(s.schema&&e.parent&&(n=e.parent.parent,n&&(o=t.getComDef(n.runtime.def),o.editors))){const e=o.editors.view||o.editors;if(e){const t=s.schema;Array.isArray(t)?t.find((t=>{if(r=e[`${i.m5}(${t})`],r)return!0})):r=e[`${i.m5}(${t})`]}}return{parentComModel:n,parentComDef:o,appendEdtGroup:r}}function s(e,t,n){var o;let s=e&&e.editors;if(s){const e=s.layout||s;if(e){const s=Object.keys(e),a=null===(o=e[i.PN])||void 0===o?void 0:o[t.id];if(a&&Object.keys(a).forEach((e=>{s.find((t=>t===e))||s.push(e)})),s){const o=s.map((t=>{if("logic"!==t&&t!==i.PN){let n=e,i=e[t];return i||(i=null==a?void 0:a[t],i&&(n=a)),{selector:t,edtAry:i,viewOn:n}}})).filter((e=>e));if(!s.find((e=>":slot"===e))){const{parentComModel:e,appendEdtGroup:i}=r(t,n);if(i&&i[":slot"])return o;o.push({selector:"[data-slot-id]",edtAry:[],viewOn:{"[data-slot-id]":{title:"插槽",items:[{title:"test",type:"button",value:{set(){}}}]}}})}return o}}}return[]}function a(e,t,n){if(!t.$el)return;const i=[];function o(e){let t;if(e.parent&&!e.parent.isRoot()&&(t=e.parent.parent)){return a(e.$el,t,n)}}if(void 0===e)return o(t);{const r=n.getComDef(t.runtime.def),a=s(r,t,n);let l=e.parentNode;for(;l&&l!==t.$el.firstChild;){const e=l.parentNode;e&&a.find((({selector:n,edtAry:o,viewOn:r})=>{if("*"!==n){let r;try{r=e.querySelectorAll(n)}catch(t){try{r=e.querySelectorAll(":scope"+n)}catch(e){}}if(r){if([].indexOf.call(r,l)>=0){let e;e="string"==typeof o.title?o.title:l.title||"未标题",i.push({type:"zone",model:t,ele:l,title:e})}}}})),l=l.parentNode}i.push({type:"com",model:t,title:t.runtime.title||r.title,ele:t.$el});const c=o(t);return c?c.concat(i.reverse()):i.reverse()}}},33433:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(69089),o=n(96966),r=n(64012),s=n(91737),a=n(64012);function l(e){return a.createElement(c,{comContext:e})}function c({comContext:e}){const{model:t,comDef:n,emitItem:l,emitViews:c}=e,d=t.runtime.upgrade,[u,p]=(0,r.useState)(!0),f=(0,r.useCallback)((()=>{l.help(t)}),[]),h=(0,r.useCallback)((()=>{t.state.helpingRecover(),p(!1)}),[]);return(0,s.HO)((()=>{t.state.isHelping()&&f()})),a.createElement("div",{className:i.A.comInfo},a.createElement("div",{className:i.A.info},n.title,a.createElement("span",{className:i.A.version},"(",t.runtime.def.version,")"),a.createElement("span",{className:i.A.docs,onClick:f},o.FI.tip,"组件说明")),d&&u?a.createElement("div",{className:`${i.A.upgrade}`},a.createElement("div",null,o.FI.alert,a.createElement("span",null,"发现新版本",d.version," ")),a.createElement("div",null,a.createElement("button",{onClick:()=>{l.upgrade(t),h()}},"升级"),a.createElement("button",{onClick:()=>{l.upgrade(t,"all"),h()}},"升级全部"))):null)}},78365:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(83837),o=n(64012),r=n(91737),s=n(91716),a=n(96966),l=n(61111),c=n(64012);function d(e){if(e.context.isDesnMode())return c.createElement(p,{comContext:e})}class u{saveX(){let e=this.x;if(e=""==e?0:e,/^-?\d+(\.\d+)?$/.test(e)){const t=this.model,n=t.style,i=this.emitSnap.start(`修改组件 ${t.runtime.title} 的X坐标`,{target:t}),o=parseFloat(e),r=t.root,a=(0,s.E9)(t.$el,r.$el);void 0!==n.right?(n.right=o,n.isPositionFixed()&&(n.rightAsFixed=r.$el.offsetWidth-a.x-t.$el.offsetWidth)):(n.left=o,n.isPositionFixed()&&(n.leftAsFixed=a.x)),n.suggestLeft=void 0,i.commit(),t.notifyEleChanged(!0)}}setX(e){this.x=e.target.value}saveY(){let e=this.y;if(e=""==e?0:e,/^-?\d+(\.\d+)?$/.test(e)){const t=this.model,n=t.style,i=this.emitSnap.start(`修改组件 ${t.runtime.title} 的Y坐标`,{target:t}),o=parseFloat(e),r=t.root,a=(0,s.E9)(t.$el,r.$el);void 0!==n.bottom?(n.bottom=o,n.isPositionFixed()&&(n.bottomAsFixed=r.$el.offsetHeight-a.y-t.$el.offsetHeight)):(n.top=o,n.isPositionFixed()&&(n.topAsFixed=a.y)),n.suggestTop=void 0,i.commit(),t.notifyEleChanged(!0)}}setY(e){this.y=e.target.value}}function p({comContext:e}){const{model:t,viewContext:n,emitItem:d,emitMessage:p}=e,{context:f,viewModel:h,emitSnap:m}=n,g=t.style,y=(0,r.J2)(u,(e=>{var n;const i=f.configs.geoView;e({forMobile:"mobile"===(null===(n=null==i?void 0:i.type)||void 0===n?void 0:n.toLowerCase()),viewModel:h,model:t,emitSnap:m})}));(0,r.HO)((()=>{const e=t.style,n=t.$el,i=t.parent.$el,o=t.parent.style.getLayout(),r="absolute"==o||"smart"==o,a="relative"===e.position||!r&&!e.position,l="absolute"===e.position||r&&!e.position;if(a){const e=(0,s.E9)(n,t.root.$el);y.position="relative",y.x=Math.ceil(e.x),y.y=Math.ceil(e.y)}else{let t,o;l?y.position="absolute":"fixed"===e.position&&(y.position="fixed"),t=void 0!==e.suggestLeft?e.suggestLeft:void 0!==e.suggestRight?e.suggestRight-n.offsetWidth:void 0!==e.right?e.right:e.left,o=void 0!==e.suggestTop?e.suggestTop:void 0!==e.suggestBottom?e.suggestBottom-n.offsetHeight:void 0!==e.bottom?e.bottom:e.top,e.rightFrozen?y.x=Math.ceil(i.offsetWidth-t-n.offsetWidth):y.x=Math.ceil(t),e.bottomFrozen?y.y=Math.ceil(i.offsetHeight-o-n.offsetHeight):y.y=Math.ceil(o)}}));const b=(0,o.useCallback)((e=>{const n=m.start(`修改组件 ${t.runtime.title} 的位置方式`,{target:t});e(),n.commit()}),[]),v=(0,o.useCallback)((e=>{const n=e.target.value;b((()=>{if("relative"===y.position){const e=(0,s.E9)(t.$el,t.root.$el);g.left=e.x,g.top=e.y}if("relative"===n)t.$el.style.display="relative",g.position=n,requestAnimationFrame((e=>{d.reFocus(t)}));else if("fixed"===n){g.position=n;const e=t.$el,i=t.root.$el,o=(0,s.E9)(e,i);void 0!==g.right?g.leftAsFixed=o.x:g.rightAsFixed=i.offsetWidth-o.x-e.offsetWidth,void 0!==g.bottom?g.topAsFixed=o.y:g.bottomAsFixed=i.offsetHeight-o.y-e.offsetHeight,requestAnimationFrame((e=>{d.reFocus(t)}))}else g.position=n,requestAnimationFrame((e=>{d.reFocus(t)}))}))}),[]),x=(0,o.useCallback)((e=>{y.showXToolbar=!1;const n=t.$el,i=t.root.$el,o=t.parent.$el.offsetWidth;b((()=>{const r=(0,s.E9)(n,i);if("left"===e)g.xCenter=void 0,void 0!==g.right&&(g.left=o-g.right-n.offsetWidth,g.right=void 0,g.isPositionFixed()&&(g.leftAsFixed=r.x));else if("center"===e){if((0,l.pu)(t))return void p.warn("当前组件被其他组件覆盖，无法居中对齐");if(g.xCenter=!0,g.left=Math.ceil((o-n.offsetWidth)/2),g.right=void 0,g.isPositionFixed()){const e=(0,s.E9)(t.parent.$el,i);g.leftAsFixed=g.left+e.x}t.notifyEleChanged(!0)}else"right"===e&&(g.xCenter=void 0,void 0!==g.left&&(g.right=o-g.left-n.offsetWidth,g.left=void 0,g.isPositionFixed()&&(g.rightAsFixed=i.offsetWidth-r.x-n.offsetWidth)))}))}),[]),A=(0,o.useCallback)((e=>{const n=t.$el,i=t.root.$el,o=t.parent.$el.offsetHeight;b((()=>{const e=(0,s.E9)(n,i);void 0!==g.bottom?(g.top=o-g.bottom-n.offsetHeight,g.bottom=void 0,g.isPositionFixed()&&(g.topAsFixed=e.y)):(g.bottom=o-g.top-n.offsetHeight,g.top=void 0,g.isPositionFixed()&&(g.bottomAsFixed=i.offsetHeight-e.y-n.offsetHeight))}))}),[]),w=(0,r.HO)((()=>{const e=n.getCurModuleSlot(),o=null==e?void 0:e.template;if(t.parent.style.isLayoutAbsoluteOrSmart())return c.createElement("select",{value:y.position,className:i.A.po,onChange:v},c.createElement("option",{value:"absolute"},"智能","absolute"===y.position?" *":""),c.createElement("option",{value:"fixed"},"固定","fixed"===y.position?" *":""));{let n,r;if(o){const i=t.parent.style,o=t.parent.parent;(null==o?void 0:o.parent)===e?i.isLayoutAbsoluteOrSmart()?r=!0:n=!0:n=!1}else n=t.parent.style.isLayoutAbsolute();return c.createElement("select",{value:y.position,className:i.A.po,disabled:n,onChange:v},r?null:c.createElement("option",{value:"relative"},"排版","relative"===y.position?" *":""),c.createElement("option",{value:"absolute"},"自由","absolute"===y.position?" *":""),c.createElement("option",{value:"fixed"},"固定","fixed"===y.position?" *":""))}})),E=(0,r.HO)((()=>{if("relative"===y.position)return c.createElement(c.Fragment,null,c.createElement("label",null,"X"),c.createElement("input",{type:"text",value:y.x,readOnly:!0,style:{opacity:.5}}),c.createElement("label",null,"Y"),c.createElement("input",{type:"text",value:y.y,readOnly:!0,style:{opacity:.5}}));if("absolute"===y.position||"fixed"===t.style.position){const e=g.xCenter,t=void 0!==g.right||g.rightFrozen,n=(g.yCenter,void 0!==g.bottom||g.bottomFrozen);return c.createElement(c.Fragment,null,y.showXToolbar?c.createElement("div",{className:i.A.xToolbar},c.createElement("span",{onClick:e=>{x("left")},"data-mybricks-tip":"左对齐"},a.FI.ArrowLeftLongHandled),c.createElement("span",{onClick:e=>{x("center")},"data-mybricks-tip":"水平居中对齐"},a.FI.AlignCenter),c.createElement("span",{onClick:e=>{x("right")},"data-mybricks-tip":"右对齐"},a.FI.ArrowRightLongHandled)):null,c.createElement("label",{onClick:e=>{y.showXToolbar=!y.showXToolbar},className:`${i.A.handler} ${e||t?i.A.attention:""}`,"data-mybricks-tip":e?"水平居中对齐":t?"向右对齐":"向左对齐"},e?a.FI.AlignCenter:t?a.FI.ArrowRightLongHandled:a.FI.ArrowLeftLongHandled,"X"),c.createElement("input",{type:"text",value:y.x,onChange:y.setX,onBlur:e=>{y.saveX()},onKeyDown:e=>{"Enter"===e.key&&y.saveX()}}),c.createElement("label",{onClick:A,className:`${i.A.handler} ${n?i.A.attention:""}`,"data-mybricks-tip":n?"向下对齐":"向上对齐"},n?a.FI.ArrowDownLongHandled:a.FI.ArrowTopLongHandled,"Y"),c.createElement("input",{type:"text",value:y.y,onChange:y.setY,onBlur:e=>{y.saveY()},onKeyDown:e=>{"Enter"===e.key&&y.saveY()}}))}}));return c.createElement("div",{className:`${i.A.edt}`},c.createElement("div",{className:i.A.tt},"位置"),c.createElement("div",{className:`${i.A.content}`},w,c.createElement("div",{className:i.A.options},E)))}},11187:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(91737),s=n(74963),a=n(96966);function l(e,t){if(t.context.isDesnMode())return o().createElement(d,{editConfig:e,comContext:t})}class c{snapCommit(e){const t=this.comContext.emitSnap.start("resize",{target:this.comContext.model});e(),t.commit()}setWidth(e,t){if("value"===e){if(/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)){const e=this.comContext.model.$el.offsetWidth;t!==e&&this.snapCommit((()=>{this.value.set({width:parseFloat(t)})}))}}else this.snapCommit((()=>{"auto"===e?this.value.set({widthAuto:t}):"fill"===e&&this.value.set({widthFull:t})}))}setHeight(e,t){if("value"===e){if(/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)){const e=this.comContext.model.$el.offsetHeight;t!==e&&this.snapCommit((()=>{this.value.set({height:parseFloat(t)})}))}}else this.snapCommit((()=>{"auto"===e?this.value.set({heightAuto:t}):"flex"===e&&this.value.set({heightFull:t})}))}}function d({editConfig:e,comContext:t}){const{model:n}=t,l=n.style,{value:d,options:u=[]}=e,p=(0,r.J2)(c,(e=>{const n=d.get();e({comContext:t,val:n,value:d})}),[]),[f,h]=(0,i.useState)({width:0,height:0});(0,r.HO)((()=>{n.listenForEleChanged();const e=d.get();h({width:Math.ceil(e.width.value),height:Math.ceil(e.height.value)})}));n.isStyleLayoutAbsolute();const m=n.isStyleLayoutAbsolute(),g=u.width.disabled,y=u.height.disabled,b=g||!m&&l.widthFull,v=y||!m&&l.heightFull;return o().createElement("div",{className:`${s.A.edt} ${n.isPopup?s.A.disable:""}`},o().createElement("div",{className:s.A.item},o().createElement("div",{className:s.A.tt},"宽"),o().createElement("input",{type:"text",value:f.width,onChange:e=>{const t=e.target.value;h({width:t,height:f.height})},disabled:b,onKeyDown:e=>{"Enter"===e.key&&p.setWidth("value",f.width)},onBlur:e=>{p.setWidth("value",f.width)}}),o().createElement("div",{className:s.A.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${l.widthAuto?s.A.active:""} ${g?s.A.disabled:""}`,onClick:e=>{g||p.setWidth("auto",!l.widthAuto)}},a.FI.fitContentW),o().createElement("span",{"data-mybricks-tip":"填充",className:`${l.widthFull?s.A.active:""} ${g?s.A.disabled:""}`,onClick:e=>{g||p.setWidth("fill",!l.widthFull)}},a.FI.fullWidth))),o().createElement("div",{className:s.A.item},o().createElement("div",{className:s.A.tt},"高"),o().createElement("input",{type:"text",value:f.height,onChange:e=>{const t=e.target.value;h({height:t,width:f.width})},disabled:v,onKeyDown:e=>{"Enter"===e.key&&p.setHeight("value",f.height)},onBlur:e=>{p.setHeight("value",f.height)}}),o().createElement("div",{className:s.A.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${l.heightAuto?s.A.active:""} ${y?s.A.disabled:""}`,onClick:e=>{y||p.setHeight("auto",!l.heightAuto)}},a.FI.fitContentH),o().createElement("span",{"data-mybricks-tip":"填充",className:`${l.heightFull?s.A.active:""} ${y?s.A.disabled:""}`,onClick:e=>{y||p.setHeight("flex",!l.heightFull)}},a.FI.fullHeight))))}},59946:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91716);class o{refreshPo(e){const t=this.comContext,{viewContext:n,model:o}=t,{viewModel:r,mover:s}=n,a=t.model.$el.children[0],l=(0,i.E9)(a,r.canvasTransEle);this.showTips=e,o.isStyleLayoutAbsoluteOrFixed()&&s.show(l,o,e)}finishPo(){this.showTips=void 0;const e=this.comContext,{viewContext:t,model:n}=e,{viewModel:i,mover:o}=t;o.hide()}}},29499:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(76033),o=n(91737),r=n(91716),s=n(96966),a=n(64012),l=n.n(a),c=n(94539),d=n(59946);let u,p;function f(e,t){if(!t.model)return;const n=t.model.id;return p!==n&&t.context.isDesnMode()?(p=n,l().createElement(h,{key:n,editConfig:e,comContext:t})):void 0}function h({editConfig:e,comContext:t}){const{options:n,value:i,asLine:r}=e,{model:s,viewContext:c,context:f}=t,h=s.$el;if(u=(0,o.J2)(d.A,(e=>{e({comModel:s,comContext:t,comEle:h,value:i,asLine:r,top:{},right:{},bottom:{},left:{}})})),(0,a.useEffect)((()=>()=>{p=void 0}),[]),(0,o.HO)((()=>{s.listenForEleChanged()})),!s.hadDestroyed()&&!s.state.isMoving()&&!s.state.isSelected()&&s.state.isFocused()&&!s._offScreen){if(Array.isArray(n)){if(!r&&-1==n.indexOf("width")&&-1==n.indexOf("height"))return}else if("object"==typeof n&&void 0===n.width&&void 0===n.height)return;return l().createElement(m,{comContext:t,editConfig:e})}}function m({comContext:e,editConfig:t}){const{model:n,viewContext:d,context:p}=e,f=n.$el,{viewModel:h}=d,m=h.style.zoom,b=h.canvasTransEle,{options:v,asLine:x,rotatable:A}=t,w=n.isStyleLayoutAbsolute(),E=n.style,C=w?0:E.getMarginTopAsNum(!0),_=w?0:E.getMarginBottomAsNum(!0),M=w?0:E.getMarginLeftAsNum(!0),I=w?0:E.getMarginRightAsNum(!0);n&&n.$el&&n.listenForEleChanged(),(0,a.useLayoutEffect)((()=>{const e=f,t=(0,r.E9)(e,b),i=t.x+t.w/2-e.offsetWidth*m/2,o=t.y+t.h/2-e.offsetHeight*m/2,s=(0,r.E9)(e,n.parent.$el);let a=o,l=i+e.offsetWidth*m,c=o+e.offsetHeight*m,d=i,p=e.offsetWidth,h=e.offsetHeight;n.asRoot&&(a-=2,l+=2,c+=2,d-=2,p+=4,h+=4);const g=p*m-4,y=h*m-4;u.shellTop=a,u.shellRight=l,u.shellBottom=c,u.shellLeft=d,u.top=C*m-4,u.right=g-I*m,u.bottom=y-_*m,u.left=M*m-3,u.comTop=s.y+C,u.comLeft=s.x+M,u.comRight=s.x+p*m,u.comBottom=s.y+h*m}),[E.marginTop,E.marginLeft,E.marginRight,E.marginBottom,E.top,E.left,E.width,E.height,m,n._eleChanged]);const k=(0,o.HO)((()=>{n.listenForEleChanged();const e=f.children[0],t=e.offsetWidth,i=e.offsetHeight,o=[],r=n.parent.style.isLayoutAbsoluteOrSmart(),s=n.hasSlotWithAbsLayout(),a=n.style,d=a.widthFull,h=a.widthAuto,g=a.heightFull,b=a.heightAuto;let A;const w=t*m,E=i*m,C=w>13||E>13;let _;v.indexOf("width")>=0&&C&&(A=!(!n.asRoot&&!s)||(
//!comStyle.widthAuto &&
r||!d)),v.indexOf("height")>=0&&C&&(_=!(!n.asRoot&&!s)||(
//!comStyle.heightAuto &&
r||!g));const M=n.state.isMoving()||u.showTips?"hidden":"visible",I=n.state.isOpened();if(p.withShiftKey||(x&&(!a.heightReverse&&!a.widthReverse||a.heightReverse&&a.widthReverse?(o.push(l().createElement("div",{key:"0",className:`${c.A.handlerH} ${I?c.A.opened:""} ${c.A.asLine}`,style:{left:-3,top:-3,cursor:"nw-resize",visibility:M},onMouseDown:e=>y(e,"left-top")})),o.push(l().createElement("div",{key:"2",className:`${c.A.handlerV} ${I?c.A.opened:""} ${c.A.asLine}`,style:{bottom:-3,right:-3,cursor:"se-resize",visibility:M},onMouseDown:e=>y(e,"bottom-right")}))):(o.push(l().createElement("div",{key:"1",className:`${c.A.handlerH} ${I?c.A.opened:""} ${c.A.asLine}`,style:{right:-3,top:-3,cursor:"ne-resize",visibility:M},onMouseDown:e=>y(e,"top-right")})),o.push(l().createElement("div",{key:"3",className:`${c.A.handlerV} ${I?c.A.opened:""} ${c.A.asLine}`,style:{left:-3,bottom:-3,cursor:"sw-resize",visibility:M},onMouseDown:e=>y(e,"left-bottom")})))),A&&E>16&&(o.push(l().createElement("div",{key:"left",className:`${c.A.handlerX} ${I?c.A.opened:""} ${d||h?c.A.full:""}`,"data-show-hander":i>60,style:{top:u.top+3,left:u.left+1,height:u.bottom-u.top,visibility:M},onMouseDown:e=>y(e,"left")})),o.push(l().createElement("div",{key:"right",className:`${c.A.handlerX} ${I?c.A.opened:""} ${d||h?c.A.full:""}`,"data-show-hander":i>60,style:{top:u.top+3,left:u.right+1,height:u.bottom-u.top,visibility:M},onMouseDown:e=>y(e,"right")}))),_&&w>16&&(o.push(l().createElement("div",{key:"top",className:`${c.A.handlerY} ${I?c.A.opened:""} ${g||b?c.A.full:""}`,"data-show-hander":t>60,style:{top:u.top+2,left:u.left+3,width:u.right-u.left,visibility:M},onMouseDown:e=>y(e,"top")})),o.push(l().createElement("div",{key:"bottom",className:`${c.A.handlerY} ${I?c.A.opened:""} ${g||b?c.A.full:""}`,"data-show-hander":t>60,style:{top:u.bottom+1,left:u.left+3,width:u.right-u.left,visibility:M},onMouseDown:e=>y(e,"bottom")})))),A&&_){const e=d||g||h||b;o.push(l().createElement("div",{key:"0",className:`${c.A.handlerH} ${I?c.A.opened:""} ${e?c.A.full:""}`,style:{left:u.left,top:u.top+1,cursor:"nw-resize",visibility:M},onMouseDown:e=>y(e,"left-top")})),o.push(l().createElement("div",{key:"1",className:`${c.A.handlerH} ${I?c.A.opened:""} ${e?c.A.full:""}`,style:{left:u.right,top:u.top+1,cursor:"ne-resize",visibility:M},onMouseDown:e=>y(e,"top-right")})),o.push(l().createElement("div",{key:"2",className:`${c.A.handlerV} ${I?c.A.opened:""} ${e?c.A.full:""}`,style:{left:u.right,top:u.bottom,cursor:"se-resize",visibility:M},onMouseDown:e=>y(e,"bottom-right")})),o.push(l().createElement("div",{key:"3",className:`${c.A.handlerV} ${I?c.A.opened:""} ${e?c.A.full:""}`,style:{left:u.left,top:u.bottom,cursor:"sw-resize",visibility:M},onMouseDown:e=>y(e,"left-bottom")}))}return o})),P=(0,o.HO)((()=>{if(A||p.isRoleOfProto()){const e=n.state.isOpened();return l().createElement("div",{className:`${c.A.rotate} ${e?c.A.opened:""}`,onMouseDown:g,style:{left:u.left+(u.right-u.left)/2-3,top:u.bottom+12}},s.FI.Refresh)}})),F=(0,o.HO)((()=>{if(u.showTips){const e=f.children[0];let t=e.offsetWidth,n=e.offsetHeight;if(u.asLine){const e=Math.ceil(Math.sqrt(t*t+n*n));return l().createElement("div",{className:c.A.tip,style:{left:u.left+(u.right-u.left)/2+3,top:u.bottom}},l().createElement("span",null,e))}return l().createElement("div",{className:c.A.tip,style:{left:u.left+(u.right-u.left)/2+3,top:u.bottom}},l().createElement("span",null,t),"×",l().createElement("span",null,n))}}));if(p.isDebugMode())return;if(n.state.isEditing()&&!u.showTips)return;const S={left:u.shellLeft,top:u.shellTop,width:u.shellRight-u.shellLeft,height:u.shellBottom-u.shellTop};return void 0!==n.style.rotation&&(S.transform=`rotate(${n.style.rotation}deg)`,S.transformOrigin="center center"),(0,i.createPortal)(l().createElement("div",{className:c.A.shell,style:S},k,P,F),b)}function g(e){const{comContext:t}=u,{model:n,viewContext:i,emitSnap:s}=t;let a,l,c;(0,o.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:d,dy:u},adpo:{adx:p,ady:f}},h)=>{if("start"==h){const e=(0,r.E9)(n.$el);l={x:i,y:e.y+e.h/2},c=n.style.rotation||0,a=s.start("改变组件尺寸",{target:n})}if("moving"==h){a.pauseNext();let e=180*Math.atan2(i-l.x,o-l.y)/Math.PI;e=c+Math.ceil(360-(e+360)%360),355<e&&e<365&&(e=0),-5<e&&e<5&&(e=0),85<e&&e<95&&(e=90),175<e&&e<185&&(e=180),265<e&&e<275&&(e=270),n.style.rotation=e}"finish"==h&&a.commit()}))}function y(e,t){const{comContext:n}=u,{model:i,viewContext:r}=n,s=i.$el,a=i.parent.$el,{emitSnap:l,context:c}=r,d=i.style,p=i.isStyleLayoutAbsolute(),f=r.viewModel.style.zoom,h=i.parent;let m,g,y,b,v,x,A;const w=p?0:d.marginLeft||0,E=p?0:d.marginRight||0,C=p?0:d.marginTop||0,_=p?0:d.marginBottom||0;let M=d.widthReverse,I=d.heightReverse;const k=u.asLine;(0,o.zg)(e,(({po:{x:e,y:n},epo:{ex:o,ey:r},dpo:{dx:p,dy:P},adpo:{adx:F,ady:S}},T)=>{if("start"==T&&(i.state.resizing(),u.refreshPo(t),y=t.indexOf("top")>=0,b=t.indexOf("bottom")>=0,v=t.indexOf("left")>=0,x=t.indexOf("right")>=0,void 0!==d.right&&(d.rightFrozen=!0,d.left=i.$el.offsetLeft,d.right=void 0),void 0!==d.bottom&&(d.bottomFrozen=!0,d.top=i.$el.offsetTop,d.bottom=void 0),g=s.offsetWidth-(w+E),v&&(d.resizingSnapLeft={oriLeft:void 0!==d.left?d.left:0,oriWidth:g}),x&&(d.resizingSnapRight={oriLeft:d.left,oriWidth:g}),m=s.offsetHeight-(C+_),y&&(d.resizingSnapTop={oriTop:void 0!==d.top?d.top:0,oriHeight:m}),b&&(d.resizingSnapBottom={oriTop:d.top,oriHeight:m}),h.style.isLayoutAbsoluteOrSmart()&&h.comAry.forEach((e=>{e!==i&&e.state.disable()})),A=l.start("改变组件尺寸",{target:i})),"moving"==T){let e,t,n,i,o,r;A.pauseNext(),c.withShiftKey&&(e=!1,t=!1);const s=S/f,a=F/f;if(y&&(n=d.resizingSnapTop.oriTop+s,r=d.resizingSnapTop.oriHeight-s),b&&(r=d.resizingSnapBottom.oriHeight+s),k&&(y||b)&&Math.abs(r)<=10&&(r=1),!c.withShiftKey&&r<=1){I=!I;const e=Math.sign(s)*m;if(y){y=!1,b=!0;const t=d.resizingSnapTop.oriTop+e;d.resizingSnapBottom={oriTop:t,oriHeight:-e},d.resizingSnapTop=void 0,0!==r&&u.value.set({top:Math.ceil(t),height:Math.abs(r)},{d:"top",state:"ing"})}else if(b){b=!1,y=!0;const t=d.resizingSnapBottom.oriTop-e;d.resizingSnapTop={oriTop:t,oriHeight:e},d.resizingSnapBottom=void 0}}else y&&u.value.set({top:Math.ceil(n),height:Math.ceil(r),heightReverse:I},{d:"top",state:"ing"}),b&&u.value.set({height:Math.ceil(r),heightReverse:I},{state:"ing"});if(t||(v&&(i=d.resizingSnapLeft.oriLeft+a,o=d.resizingSnapLeft.oriWidth-a),x&&(o=d.resizingSnapRight.oriWidth+a)),k&&(v||x)&&Math.abs(o)<=10&&(o=1),!c.withShiftKey&&o<=1){M=!M;const e=Math.sign(a)*g;if(v){v=!1,x=!0;const t=d.resizingSnapLeft.oriLeft+e;d.resizingSnapRight={oriLeft:t,oriWidth:-e},d.resizingSnapLeft=void 0,0!==o&&u.value.set({left:Math.ceil(t),width:Math.abs(o)},{d:"left",state:"ing"})}else if(x){x=!1,v=!0;const t=d.resizingSnapRight.oriLeft-e;d.resizingSnapLeft={oriLeft:t,oriWidth:e},d.resizingSnapRight=void 0}}else v&&u.value.set({left:Math.ceil(i),width:Math.ceil(o),widthReverse:M},{d:"left",state:"ing"}),x&&u.value.set({width:Math.ceil(o),widthReverse:M},{state:"ing"});if(c.withShiftKey){const e=g/m;if(o/r>=e){if(r=o/e,y){const e=d.resizingSnapTop.oriHeight-r;n=d.resizingSnapTop.oriTop+e/f}}else if(o=r*e,v){const e=d.resizingSnapLeft.oriWidth-o;i=d.resizingSnapLeft.oriLeft+e/f}}}if("finish"===T){if(setTimeout((e=>{d.rightFrozen&&(d.rightFrozen=void 0,d.right=a.offsetWidth-d.left-s.offsetWidth,d.left=void 0),d.bottomFrozen&&(d.bottomFrozen=void 0,d.bottom=a.offsetHeight-d.top-s.offsetHeight,d.top=void 0)})),d.resizingSnapLeft||d.resizingSnapRight){const e=Math.ceil(s.offsetWidth-(w+E));e>0&&(d.width=e)}if(d.resizingSnapTop||d.resizingSnapBottom){const e=Math.ceil(s.offsetHeight-(C+_));e>0&&(d.height=e)}setTimeout((e=>{d.clearResizingSnaps(),d.clearSuggest()})),i.state.resizingRecover(),u.value.set({},{state:"finish"}),A.commit(),h.style.isLayoutAbsoluteOrSmart()&&h.comAry.forEach((e=>{e!==i&&e.state.enable()})),u.finishPo()}}),{relDom:i.parent.$el})}},81531:(e,t,n)=>{"use strict";n.d(t,{ag:()=>o,np:()=>r});var i=n(24412);function o(e,t,n,o){var r,s;const a=t.editors;if(o){let t;a[i.PN]||(a[i.PN]={}),t=a[i.PN][e.id],t||(t=a[i.PN][e.id]={});let r=t[n];return r||(r=t[n]={title:o.title,asRoot:o.asRoot,items:[],style:[]}),r}return null===(s=null===(r=a[i.PN])||void 0===r?void 0:r[e.id])||void 0===s?void 0:s[n]}function r(e,t,n){var o;const r=null===(o=t.getComDef(e.runtime.def).editors[i.PN])||void 0===o?void 0:o[e.id];if(r)for(let e in r)n(e,r[e])&&delete r[e]}},86352:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});class i{constructor(){this.areaAry=[]}refreshPo(e,t){this.showTips={type:e,value:t}}finishPo(){this.showTips=void 0;const e=this.comContext,{viewContext:t,model:n}=e,{viewModel:i,mover:o}=t;o.hide()}}},15335:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(76033),o=n(91737),r=n(91716),s=n(64012),a=n.n(s),l=n(47583),c=n(86352),d=n(33313),u=n(60864),p=n(1785),f=n(68104);let h;const m=10,g=5;function y(e,t){const{model:n,context:i}=t;if(i.isDesnMode()&&n.focusArea)return a().createElement(b,{editConfig:e,comContext:t})}function b({editConfig:e,comContext:t}){const{options:n,value:i,asLine:r,requestAI:s}=e,{model:l,context:d}=t;if(h=(0,o.J2)(c.A,(e=>{const n=l.$el;e({comModel:l,comContext:t,requestAI:s,comEle:n,value:i,asLine:r,top:{},right:{},bottom:{},left:{}})})),(0,o.HO)((()=>{l.focusArea.listenForEleChanged()})),!l.hadDestroyed()&&!l.state.isMoving()&&!l.state.isSelected()&&l.state.isFocused()&&!l._offScreen)return a().createElement(v,{comContext:t,editConfig:e})}function v({comContext:e,editConfig:t}){const{model:n,viewContext:c,context:u}=e,p=n.focusArea,m=p.ele,{viewModel:y}=c,b=y.style.zoom,v=y.canvasTransEle,{options:C,asLine:_,rotatable:M}=t;m&&p.listenForEleChanged();const I=getComputedStyle(m);(0,s.useLayoutEffect)((()=>{const e=m,t=(0,r.E9)(e,v),i=t.x+t.w/2-e.offsetWidth*b/2,s=t.y+t.h/2-e.offsetHeight*b/2;let a=s,l=i+e.offsetWidth*b,c=s+e.offsetHeight*b,p=i,g=e.offsetWidth,y=e.offsetHeight;n.asRoot&&(a-=2,l+=2,c+=2,p-=2,g+=4,y+=4);const x=g*b-4,A=y*b-4,w=getComputedStyle(m,null),E=parseInt(w.marginTop),C=parseInt(w.marginBottom),_=parseInt(w.marginLeft),M=parseInt(w.marginRight);h.marginTop=E,h.marginLeft=_,h.marginRight=M,h.marginBottom=C,h.shellTop=a,h.shellRight=l,h.shellBottom=c,h.shellLeft=p,h.top=-4,h.right=x,h.bottom=A,h.left=-3;const I=(0,f.i)(m);h.editableCssProperties=I||[];const k=u.getComDef(n.runtime.def),P=h.comEle,F=[];(0,d.K5)(k,n,u).forEach((({selector:e,edtAry:t})=>{e.match(/^\:|\@|\*/)||P.querySelectorAll(e).forEach((t=>{if(t!==m){const n=(0,r.E9)(t,P);F.push({id:(0,o.uR)(),selector:e,ele:t,position:n})}}))})),F.length>0&&(h.areaAry=F)}),[b,p._eleChanged]);const k=(0,o.HO)((()=>{if(n.listenForEleChanged(),u.withShiftKey)return;const e=n.state.isResizing()?{display:"none"}:{};if("absolute"===I.position)return a().createElement("div",{className:`${l.A.handerMove}`,style:e,"data-mybricks-tip":"移动位置",onMouseDown:e=>A(e)});const t=h.editableCssProperties;if(!t)return;const i=t.filter((e=>{if(e.startsWith("margin"))return!0}));if(i.length<=0)return;const o=i.indexOf("marginLeft")>=0,r=i.indexOf("marginTop")>=0,s=i.indexOf("marginRight")>=0,c=i.indexOf("marginBottom")>=0,d=[];if(r){let t=h.marginTop||0;t>0?d.push(a().createElement("div",{key:"top",className:`${l.A.handlerTop}`,"data-mybricks-tip":`上边距:${t}`,style:Object.assign({top:-1*Math.abs(t),height:Math.abs(t)},e),onMouseDown:e=>E(e,"marginTop")})):d.push(a().createElement("div",{key:"top",className:`${0==t?l.A.handlerTopE:l.A.handlerTopM}`,"data-mybricks-tip":`上边距:${t}`,style:Object.assign({top:0,height:Math.abs(t)},e),onMouseDown:e=>E(e,"marginTop")}))}if(c){let t=h.marginBottom||0;t>0?d.push(a().createElement("div",{key:"bottom",className:`${t>0?l.A.handlerBottom:l.A.handlerBottomM}`,"data-mybricks-tip":`下边距:${t}`,style:Object.assign({bottom:-1*Math.abs(t),height:Math.abs(t)},e),onMouseDown:e=>E(e,"marginBottom")})):d.push(a().createElement("div",{key:"bottom",className:`${0==t?l.A.handlerBottomE:l.A.handlerBottomM}`,"data-mybricks-tip":`下边距:${t}`,style:Object.assign({bottom:0,height:Math.abs(t)},e),onMouseDown:e=>E(e,"marginBottom")}))}if(o){let t=h.marginLeft||0;t>0?d.push(a().createElement("div",{key:"left",className:`${t>0?l.A.handlerLeft:l.A.handlerLeftM}`,"data-mybricks-tip":`左边距:${t}`,style:Object.assign({left:-1*Math.abs(t),width:Math.abs(t)},e),onMouseDown:e=>E(e,"marginLeft")})):d.push(a().createElement("div",{key:"left",className:`${0==t?l.A.handlerLeftE:l.A.handlerLeftM}`,"data-mybricks-tip":`左边距:${t}`,style:Object.assign({left:0,width:Math.abs(t)},e),onMouseDown:e=>E(e,"marginLeft")}))}if(s){let t=h.marginRight||0;t>0?d.push(a().createElement("div",{key:"right",className:`${t>0?l.A.handlerRight:l.A.handlerRightM}`,"data-mybricks-tip":`右边距:${t}`,style:Object.assign({right:-1*Math.abs(t),width:Math.abs(t)},e),onMouseDown:e=>E(e,"marginRight")})):d.push(a().createElement("div",{key:"right",className:`${0==t?l.A.handlerRightE:l.A.handlerRightM}`,"data-mybricks-tip":`右边距:${t}`,style:Object.assign({right:0,width:Math.abs(t)},e),onMouseDown:e=>E(e,"marginRight")}))}return d})),P=(0,o.HO)((()=>{if(n.listenForEleChanged(),u.withShiftKey)return;const e=h.editableCssProperties;if(!e)return;let t=!!e.find((e=>"width"===e)),i=!!e.find((e=>"height"===e));const o=m.offsetWidth,r=m.offsetHeight;r<=1&&(i=!1);const s=[];const c=o*b,d=r*b,p=n.state.isResizing()||h.showTips?"hidden":"visible",f=n.state.isOpened();return t&&d>26&&s.push(a().createElement("div",{key:"right",className:`${l.A.handlerX} ${f?l.A.opened:""} `,"data-show-hander":r>60,style:{top:h.top+3,left:h.right+1,height:h.bottom-h.top,visibility:p},onMouseDown:e=>w(e,"right")})),i&&c>16&&s.push(a().createElement("div",{key:"bottom",className:`${l.A.handlerY} ${f?l.A.opened:""} `,"data-show-hander":o>60,style:{top:h.bottom+1,left:h.left+3,width:h.right-h.left,visibility:p},onMouseDown:e=>w(e,"bottom")})),t&&i&&s.push(a().createElement("div",{key:"2",className:`${l.A.handlerV} ${f?l.A.opened:""} `,style:{left:h.right,top:h.bottom,cursor:"se-resize",visibility:p},onMouseDown:e=>w(e,"bottom-right")})),s})),F=(0,o.HO)((()=>{p.listenForEleChanged();const e=h.showTips;if(e){if("size"===e.type){let e=m.offsetWidth,t=m.offsetHeight;if(h.asLine){const n=Math.ceil(Math.sqrt(e*e+t*t));return a().createElement("div",{className:l.A.tip,style:{left:h.left+(h.right-h.left)/2+3,top:h.bottom}},a().createElement("span",null,n))}return a().createElement("div",{className:l.A.tip,style:{left:h.left+(h.right-h.left)/2+3,top:h.bottom}},a().createElement("span",null,e),"×",a().createElement("span",null,t))}if("margin"===e.type){const e=getComputedStyle(m),t=parseInt(e.marginLeft),n=parseInt(e.marginRight),i=parseInt(e.marginTop),o=parseInt(e.marginBottom);return a().createElement("div",{className:l.A.tip,style:{left:h.left+(h.right-h.left)/2+3,top:h.bottom}},a().createElement("span",null,"左:",t),a().createElement("span",null,"右:",n),a().createElement("span",null,"上:",i),a().createElement("span",null,"下:",o))}if("position"===e.type){const t=e.value,n=[];return void 0!==t.left&&n.push(a().createElement("span",{key:"left"},"左:",t.left)),void 0!==t.right&&n.push(a().createElement("span",{key:"right"},"右:",t.right)),void 0!==t.top&&n.push(a().createElement("span",{key:"top"},"上:",t.top)),void 0!==t.bottom&&n.push(a().createElement("span",{key:"bottom"},"下:",t.bottom)),a().createElement("div",{className:l.A.tip,style:{left:h.left+(h.right-h.left)/2+3,top:h.bottom}},n)}}})),S=(0,o.HO)((()=>{if(h.placeholder){const e=n.$el,t=(0,r.E9)(m,e),{type:i}=h.placeholder,o=h.areaAry.find((e=>e.id===h.placeholder.id)),{ele:s,position:c}=o,d=(0,r.E9)(s,m),u={left:d.x,top:d.y,width:d.w,height:d.h},p=c.x-t.x,f=c.x+c.w-t.x,y=c.y-t.y,b=c.y+c.h-t.y,v=[l.A.placeholder],x={};return"left"===i&&(x.left=p,x.top=y,x.width=g,x.height=c.h),"right"===i&&(x.left=f,x.top=y,x.width=g,x.height=c.h),"top"===i&&(x.left=p,x.top=y-g,x.width=c.w,x.height=g),"bottom"===i&&(x.left=p,x.top=b,x.width=c.w,x.height=g),i.indexOf("absolute"),"absolute-left-top"===i&&(x.left=p,x.top=y+5,v.push(l.A.absoluteLeftTop)),"absolute-top-right"===i&&(x.left=f-20,x.top=y+5,v.push(l.A.absoluteTopRight)),"absolute-right-bottom"===i&&(x.left=f-20,x.top=b-15,v.push(l.A.absoluteRightBottom)),"absolute-left-bottom"===i&&(x.left=p,x.top=b-15,v.push(l.A.absoluteLeftBottom)),a().createElement(a().Fragment,null,a().createElement("div",{className:v.join(" "),style:x}),a().createElement("div",{className:l.A.areaHolder,style:u}))}})),T=(0,o.HO)((()=>{if(h.inArea){const e=n.$el,t=(0,r.E9)(m,e),{ele:i,position:o}=h.inArea,s={left:o.x-t.x,top:o.y-t.y,width:o.w,height:o.h};return a().createElement("div",{className:l.A.inArea,style:s})}}));if((0,s.useEffect)((()=>(m.addEventListener("mousedown",x),()=>{m.removeEventListener("mousedown",x)})),[]),u.isDebugMode())return;if(n.state.isEditing()&&!h.showTips)return;const O={left:h.shellLeft,top:h.shellTop,width:h.shellRight-h.shellLeft,height:h.shellBottom-h.shellTop};if(!O.width||!O.height)return;void 0!==n.style.rotation&&(O.transform=`rotate(${n.style.rotation}deg)`,O.transformOrigin="center center");const D=[l.A.shell];return"absolute"===I.position&&D.push(l.A.moveable),(0,i.createPortal)(a().createElement("div",{className:D.join(" "),style:O},F,T,S,k,P),v)}const x=(0,o.Wj)((e=>{if(e.shiftKey)!function(e){const{comContext:t}=h,{model:n,viewContext:i,emitSnap:s}=t,a=n.$el,l=n.focusArea,c=l.ele;if(h.areaAry.length<=0)return;let d,p;(0,o.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:s,dy:f},adpo:{adx:g,ady:y}},b)=>{if("start"==b&&(n.state.resizing(),d=(0,r.E9)(a),p=(0,r.E9)(c,a)),"moving"==b){h.placeholder=void 0,h.inArea=void 0;const e=i-d.x,t=o-d.y,n=(0,u.bW)({cx:e,cy:t},h);if(n){h.inArea=n;const{ele:i,position:o}=n,{x:r,y:s,w:a,h:l}=o;if(c.contains(i))return;if(i.contains(c)?e>=r-m&&e<=r+m?h.placeholder={id:n.id,type:"left"}:e>=r+a-m&&e<=r+a+m?h.placeholder={id:n.id,type:"right"}:t>=s-m&&t<=s+m?h.placeholder={id:n.id,type:"top"}:t>=s+l-m&&t<=s+l+m&&(h.placeholder={id:n.id,type:"bottom"}):e>=r-m&&e<=r+m?i.previousElementSibling!==c&&(h.placeholder={id:n.id,type:"left"}):e>=r+a-m&&e<=r+a+m?i.nextElementSibling!==c&&(h.placeholder={id:n.id,type:"right"}):t>=s&&t<=s+l/2?i.previousElementSibling!==c&&(h.placeholder={id:n.id,type:"top"}):t>=s+l/2&&t<=s+l&&i.nextElementSibling!==c&&(h.placeholder={id:n.id,type:"bottom"}),!h.placeholder&&(0,u.gF)(p,n)){const i=20,o=20,c=e>=r&&e<=r+i,d=e>=r+a-i&&e<=r+a,u=t>=s&&t<=s+o,p=t>=s+l-o&&t<=s+l;if(c&&u?h.placeholder={id:n.id,type:"absolute-left-top"}:u&&d?h.placeholder={id:n.id,type:"absolute-top-right"}:d&&p?h.placeholder={id:n.id,type:"absolute-right-bottom"}:p&&c&&(h.placeholder={id:n.id,type:"absolute-left-bottom"}),!h.placeholder){const i={id:n.id,type:"absolute"},o=e-r;o<a/2?i.left=o:i.right=a-o;const c=t-s;c<l/2?i.top=c:i.bottom=l-c,h.placeholder=i}}}}if("finish"===b){if(n.state.resizingRecover(),h.placeholder){const{type:e,id:t,left:n,top:i}=h.placeholder,o=h.areaAry.find((e=>e.id===t)),{ele:r,position:s}=o,c=l.selectors,d=Object.keys(c);let p=(0,u.Mr)(l.ele,d[0]);const f=a.querySelectorAll(p);f.length>1&&f.forEach(((e,t)=>{if(e===l.ele)return p=`${p}:nth-child(${t+1})`,!1}));let m=(0,u.Mr)(r,o.selector);const g=a.querySelectorAll(m);let y;if(g.length>1&&g.forEach(((e,t)=>{if(e===o.ele)return m=`${m}:nth-child(${t+1})`,!1})),"left"===e?y=`${m}区域的左侧，并与其在同一行里`:"right"===e?y=`${m}区域的右侧，并与其在同一行里`:"top"===e?y=`${m}区域之前`:"bottom"===e&&(y=`${m}区域之后`),"absolute-left-top"===e)y=`${m}区域的内部左上角`;else if("absolute-top-right"===e)y=`${m}区域的内部右上角`;else if("absolute-right-bottom"===e)y=`${m}区域的内部右下角`;else if("absolute-left-bottom"===e)y=`${m}区域的内部左下角`;else if("absolute"===e){const e=JSON.parse(JSON.stringify(h.placeholder));delete e.id,delete e.type,y=`${m}区域的内部，相对位置为${JSON.stringify(e)}`}h.requestAI({message:`将区域(${p}) 移动到 ${y}\n注意:\n1）以上各区域通过CSS选择器定位；\n2）不用质疑新方案的合理性，执行用户的命令即可；\n3）要保持 ${m} 的位置不变;\n4）不要删除任何内容；\n`},{asPrivate:!0,confirmMsg:`确定将当前区域移动到 ${y} 吗？`})}h.placeholder=void 0,h.inArea=void 0}}))}(e);else{const{comContext:t}=h,{model:n,viewContext:i,context:o}=t,r=n.focusArea,s=r.ele;s&&r.listenForEleChanged();"absolute"===getComputedStyle(s).position&&A(e)}})).stop;function A(e){const{comContext:t}=h,{model:n,viewContext:i}=t,{emitSnap:s,context:a}=i,l=i.viewModel.style.zoom,c=n.focusArea,d=c.ele;let u,f,m,g,y,b;(0,o.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:a,dy:v},adpo:{adx:x,ady:A}},w)=>{if("start"==w){n.state.resizing(),h.value.set({},{state:"start"}),b=s.start("改变组件位置",{target:n});let e=d.parentNode;for(;e&&e!==n.$el;){const t=getComputedStyle(e);if("relative"===t.position||"absolute"===t.position)break;e=d.parentNode}y=(0,p.K)(d,["left","right","top","bottom"]);const t=(0,r.E9)(d,e);u=Math.ceil(t.x/l),m=Math.ceil(e.offsetWidth-(t.x/l+t.w/l)),f=Math.ceil(t.y/l),g=Math.ceil(e.offsetHeight-(t.y/l+t.h/l))}if("moving"==w){const e=A/l,t=x/l,n={transform:"none"};y.left&&(n.left=Math.ceil(u+t)),y.right&&(n.right=Math.ceil(m-t)),y.top&&(n.top=Math.ceil(f+e)),y.bottom&&(n.bottom=Math.ceil(g-e)),h.value.set(n,{state:"ing"}),h.refreshPo("position",n),c.notifyEleChanged()}"finish"===w&&(h.value.set({},{state:"finish"}),n.state.resizingRecover(),b.commit(),h.finishPo())}),{relDom:n.parent.$el})}function w(e,t){const{comContext:n}=h,{model:i,viewContext:r}=n,s=i.focusArea,a=s.ele,{emitSnap:l,context:c}=r,d=r.viewModel.style.zoom;let u,p,f,m,g;h.asLine;let y,b,v,x;(0,o.zg)(e,(({po:{x:e,y:n},epo:{ex:o,ey:r},dpo:{dx:c,dy:A},adpo:{adx:w,ady:E}},C)=>{if("start"==C&&(i.state.resizing(),u=t.indexOf("top")>=0,p=t.indexOf("bottom")>=0,f=t.indexOf("left")>=0,m=t.indexOf("right")>=0,y=a.offsetWidth-0,b=a.offsetHeight-0,h.value.set({},{state:"start"}),g=l.start("改变组件尺寸",{target:i})),"moving"==C){g.pauseNext();const e=E/d,t=w/d,n={};u&&(x=Math.ceil(b-e),n.height=x),p&&(x=Math.ceil(b+e),n.height=x),f&&(v=Math.ceil(y-t),n.width=v),m&&(v=Math.ceil(y+t),n.width=v),h.value.set(n,{state:"ing"}),h.refreshPo("size",n),s.notifyEleChanged()}"finish"===C&&(h.value.set({},{state:"finish"}),i.state.resizingRecover(),g.commit(),s.notifyEleChanged(),h.finishPo())}),{relDom:i.parent.$el})}function E(e,t){const{comContext:n}=h,{model:i,viewContext:r}=n,s=i.focusArea,{emitSnap:a,context:l}=(s.ele,r),c=r.viewModel.style.zoom;let d,u,p,f,m,g,y,b,v;(0,o.zg)(e,(({po:{x:e,y:n},epo:{ex:o,ey:r},dpo:{dx:l,dy:x},adpo:{adx:A,ady:w}},E)=>{if("moving"==E){m||(i.state.resizing(),d=t.indexOf("marginTop")>=0,u=t.indexOf("marginBottom")>=0,p=t.indexOf("marginLeft")>=0,f=t.indexOf("marginRight")>=0,h.value.set({},{state:"start"}),g=h.marginLeft,y=h.marginTop,b=h.marginRight,v=h.marginBottom,m=a.start("改变组件尺寸",{target:i}));const e=w/c,n=A/c;let o,r,l,x;const E={};d&&(l=Math.ceil(y+e),E.marginTop=l),u&&(r=Math.ceil(v+e),E.marginBottom=r),p&&(o=Math.ceil(g+n),E.marginLeft=o),f&&(x=Math.ceil(b+n),E.marginRight=x),h.refreshPo("margin",E),h.value.set(E,{state:"ing"}),s.notifyEleChanged()}"finish"===E&&(h.value.set({},{state:"finish"}),i.state.resizingRecover(),m.commit(),s.notifyEleChanged(),h.finishPo())}),{relDom:i.parent.$el})}},60864:(e,t,n)=>{"use strict";function i(e,t){const{ele:n,position:i}=t,{x:o,y:r,w:s,h:a}=i,{x:l,y:c,w:d,h:u}=e;if(o<=l&&r<=c&&l+d<=o+s&&c+u<=r+a)return!0}function o(e,t){const n=e.getAttribute("data-com-key");return`${t}${n?'[data-com-key="'+n+'"]':""}`}function r({cx:e,cy:t},n){const i=n.areaAry.map((n=>{const{id:i,selector:o,position:r,ele:s}=n,{x:a,y:l,w:c,h:d}=r;if(a<=e&&e<=a+c&&l<=t&&t<=l+d)return n}));if(i.length>0)return i.sort(((e,t)=>e.position.w*e.position.h-t.position.w*t.position.h)),i[0]}n.d(t,{Mr:()=>o,bW:()=>r,gF:()=>i})},98761:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(24557),r=n(64012),s=n(12595),a=n(10736),l=n(64012);function c({model:e,type:t,msg:n}){const c=(0,i.lB)(o.A,{from:"parents"}),{cssComNormal:f}=c.viewContext;(0,r.useMemo)((()=>{e.getConfigs=function(){return(0,s.J)(c,n)},e.getListeners=function(){return(0,a.J)(c)}}),[]);const h=(0,i.HO)((()=>[f.com,f.desn,f.error].join(" ")));return l.createElement("div",{onClick:(0,i.Wj)(p).stop,ref:t=>t&&(e.$el=t),onMouseOver:(0,i.Wj)(d).stop,onMouseOut:(0,i.Wj)(u).stop,className:h},l.createElement("p",null,n))}function d(){const{model:e,context:t,emitItem:n,emitSnap:r}=(0,i.lB)(o.A);n.hover(e)}function u(){const{emitItem:e}=(0,i.lB)(o.A);e&&e.hover(null)}function p(e){const t=(0,i.lB)(o.A),{model:n,comDef:r,context:s,emitItem:a,emitSnap:l}=t;s.isDebugMode()||a.focus(n)}},84443:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(91737),o=n(64012),r=n.n(o),s=n(24557),a=n(60493),l=n(10736),c=n(21538),d=n(34163),u=n(33313);function p({mouseDown:e}){const t=(0,i.lB)(s.A,{from:"parents"}),{comDef:n,model:p,emitItem:h,viewContext:m}=t,{context:g,cssComNormal:y,emitIOCAbout:b}=m;(0,o.useMemo)((()=>{p.getConfigs=function(){return(0,a.J)(t)},p.getListeners=function(){return(0,l.J)(t)}}),[]),(0,o.useLayoutEffect)((()=>{var e;if(!p.init){p.init=!0;const i=p.$el;if(i){const e=i.children[0];if(e){const o=p.parent.style.isLayoutAbsoluteOrSmart(),r=p.style;if(void 0===p.style.width&&!o){const t=e.offsetWidth;i.classList.add(y.fullWidth),t!==e.offsetWidth?(p.style.width="100%",requestAnimationFrame((()=>{p.notifyEleChanged()}))):t===p.$el.parentElement.offsetWidth?p.style.width="100%":p.style.width="fit-content",i.classList.remove(y.fullWidth)}if(void 0===r.width||void 0===r.height){const i=(0,u.fK)(n);if(i){const n=i["@resize"];if("object"==typeof n){const{options:i}=n;let s;if("function"==typeof i){s=i((0,d.Q)(t))}else s=i;if(s){if(o&&!r.widthAuto){const e=p.parent.$el;e.offsetWidth>=300?p.style.width=e.offsetWidth/3:e.offsetWidth>=200?p.style.width=e.offsetWidth/2:e.offsetWidth>=100?p.style.width=4*e.offsetWidth/5:p.style.width=e.offsetWidth-10}let t,n;Array.isArray(s)?(t=s.find((e=>"width"===e)),n=s.find((e=>"height"===e))):"object"==typeof s&&(t=void 0!==s.width,n=void 0!==s.height),void 0===r.height&&n&&(r.height=e.offsetHeight)}}}}}}if(p.proxySlot){const t=b.getSlotIOInfo(p.id,p.proxySlot.id);if(t&&(null===(e=t.configs)||void 0===e?void 0:e.length)>0){const e=p.runtime.model.data;e.configs={},t.configs.forEach((t=>{var n;const i=t.extValues;if(i&&void 0!==(null===(n=i.config)||void 0===n?void 0:n.defaultValue))try{const n=i.config.defaultValue;let o;o="string"==typeof n?JSON.parse(n):n,e.configs[t.hostId]=o}catch(e){console.error("设置模块的configs默认值失败",e)}}))}}}}),[]);const v=(0,i.HO)((()=>{const e=[p.id,y.com,y.module,y.desn],t=p.runtime,n=p.style,i=p.state,o=n.isPositionAbsoluteOrFixed();return i.isOpened()&&e.push(y.opened),g.isConfigAsBluePrint()&&!t.isBluePrint&&e.push(y.opacity),g.isConfigAsBluePrint()||!t.isBluePrint||p.reservedEditorAry||e.push(y.ignore),p.locked&&e.push(y.locked),p._sayHi&&e.push(y.sayHi),n.isPositionAbsolute()&&e.push(y.abs),n.isPositionFixed()&&e.push(y.fixed),!o&&p.parent.style.isLayoutOfFlexColumn()&&"100%"===n.height&&e.push(y.flex),i.isSelected()&&e.push(y.selected),i.isMoving()&&(p.isStyleLayoutAbsoluteOrFixed()?e.push(y.absMoving):e.push(y.staticMoving)),e.join(" ")})),x=(0,i.HO)((()=>(0,c.p9)()));return(0,o.useEffect)((()=>{p.state.isFocused()&&h.focus(p)}),[]),(0,o.useLayoutEffect)((()=>{(0,i.A1)((()=>{p.state.isFocused()&&!p.focusArea&&h.reFocus(p)}))}),[p.listenForFocusAreaDeleted(),p.listenForEleChanged()]),r().createElement("div",{ref:e=>{e&&p.set$elOnce(e)},style:x,className:v,onMouseOver:(0,i.Wj)((e=>function(e){const{model:t,context:n,emitItem:i,emitSnap:o}=e;i.hover(t)}(t))).stop,onMouseOut:(0,i.Wj)((e=>function(e){const{emitItem:t}=e;t&&t.hover(null)}(t))).stop,onClick:(0,i.Wj)((e=>function(e){const{model:t,comDef:n,context:i,emitItem:o,emitSnap:r}=e;if(i.isDebugMode())return;let s=t.state;if(s.isMoving())return void o.focus(t);s.isEnabled()&&o.focus(t)}(t))).stop,onDoubleClick:(0,i.Wj)().stop,onMouseDown:(0,i.Wj)((n=>e(n,t))).stop},!p.proxySlot||p.proxySlot.hadDestroyed()?r().createElement("div",{className:y.error},"模块已被删除"):r().createElement(f,{comContext:t,moduleSlot:p.proxySlot,data:p.runtime.model.data}))}function f({comContext:e,moduleSlot:t,data:n}){const{model:s,comDef:a,viewContext:l}=e,{emitModule:d,cssComNormal:u}=l;(0,o.useMemo)((()=>{n.definedId=t.id}),[]);const[p,f]=(0,i.HO)((()=>{const e=d.get(t.id);return!e||e.deleted?[,null==e?void 0:e.title]:[String(Math.random()),e.title]})),h=a.runtime,m=s.parent.style.isLayoutAbsoluteOrSmart(),g=(0,o.useMemo)((()=>{const e=s.style,n=t.style;let i=e.proxyStyle;return i||(i=e.proxyStyle={}),{set widthAuto(t){if(i.widthAuto!==t)if(i.widthAuto=t,e.widthAuto=t,t)if(e.widthFull=!1,i.widthFull=!1,i.widthResizable=!1,m){if(void 0===e.width){const t=s.$el;t&&t.offsetWidth>0?e.width=t.offsetWidth:e.width=n.width||"fit-content"}}else e.width="fit-content";else if(m&&void 0===e.width){const t=s.$el;t&&t.offsetWidth>0?e.width=t.offsetWidth:e.width=n.width||"fit-content"}},set widthFull(t){if(i.widthFull!==t)if(i.widthFull=t,i.widthResizable=t,e.widthFull=t,t)if(e.widthAuto=!1,i.widthAuto=!1,m){if(void 0===e.width){const t=s.$el;t&&t.offsetWidth>0?e.width=t.offsetWidth:e.width=n.width||"100%"}}else e.width="100%";else e.width!==n.width&&(e.width=n.width)},set heightAuto(t){i.heightAuto!==t&&(i.heightAuto=t,i.heightResizable=t,e.heightAuto=t,t?e.height="fit-content":"fit-content"===e.height&&(e.height=void 0))},set heightFull(t){if(i.heightFull!==t)if(i.heightFull=t,i.heightResizable=t,e.heightFull=t,t)if(e.heightAuto=!1,i.heightAuto=!1,m){if(void 0===e.height){const t=s.$el;t&&t.offsetHeight>0?e.height=t.offsetHeight:e.height=n.height||"100%"}}else e.height="100%";else e.height!==n.height&&(e.height=n.height)}}}),[m]);return p?r().createElement(h,{key:p,id:s.id,data:n,style:g,env:(0,c._$)(e,!1)}):r().createElement("div",{className:u.error},f," 已被删除")}},26262:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(64012),o=n.n(i);class r extends o().Component{constructor(e){super(e)}componentDidCatch(e,t){const n=this.props.model;n&&(n.error=e)}render(){const e=this.props.model,t=e.error;if(t){const n=this.props.emitLogs;if(n){const i=t.message;n.error("组件发生错误",i,{model:e})}return o().createElement(s,{props:this.props,error:t})}return this.props.children}}function s({props:e,error:t}){(0,i.useEffect)((()=>{const t=e.model;if(t.error){const n=e.emitItem;setTimeout((e=>{n.reFocus(t)}))}}),[]);const n=e.cssComNormal;return o().createElement("div",{className:n.errorRT},"function"==typeof e.render?e.render():o().createElement("div",{className:n.tt},e.title),o().createElement("div",{className:n.info},t.message),o().createElement("div",{className:n.stack},t.stack))}},23204:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var i=n(91737),o=n(64012),r=n.n(o),s=n(24557),a=n(21538),l=n(33313),c=n(35700),d=n(60493),u=n(10736),p=n(3144),f=n(96966),h=n(24412),m=n(34163),g=n(55833),y=n(94588),b=n(31708),v=n(11462),x=n(5716),A=n(65518),w=n(99874),E=n(26262);function C({data:e,mode:t,inputs:n,outputs:c,mouseDown:p,template:C,index:k}){var P,F,S;const T=(0,i.lB)(s.A,{from:"parents"}),{comDef:O,model:D,context:N,emitItem:j,emitLogs:L,emitMessage:R,viewContext:B}=T,{cssComNormal:$}=B,z=D.runtime,W=(0,o.useMemo)((()=>N.isConfigAsBluePrint()&&z.isBluePrint||!N.isConfigAsBluePrint()&&!z.isBluePrint),[]);let U;(0,o.useMemo)((()=>{D.getConfigData=()=>({type:"component",get data(){return D.data}}),D.getConfigs=e=>{var t,n;if((null===(n=null===(t=B.selection)||void 0===t?void 0:t.coms)||void 0===n?void 0:n.length)>1)return(0,v.A)(T);if(D.isSelection())return(0,v.A)(T);const i=(0,d.J)(T,e);D.getAssist=()=>(0,g.A)(T,i);let o={catalogAry:i},r=D.focusArea;if(r){let e="";if("object"==typeof r.selectors)for(let t in r.selectors)e+=`${t}:${r.selectors[t]}`;else e=r.selectors;o.id=`${D.id}-${e}`}else o.id=D.id;return o},D.getListeners=()=>D.isSelection()?(0,x.A)(T):W?(0,u.J)(T):void 0,D.isSelection()||(D.getCooperations=()=>{if(!D.focusArea)return D})}),[]),(0,i.HO)((()=>{const e=D.style,t=B.canvasShadowRoot,n=t.querySelector(`style[id="${D.id}-style"]`);n&&t.removeChild(n);let i=e.styleAry;const o=[];if(!i){const t=(0,l.fK)(O);if(t)for(let e in t){const n=t[e];if(n){const t=n.style;if(t)if(Array.isArray(t))t.forEach((e=>{if(Array.isArray(e),"string"==typeof e.target){const t=e.initValue;if(t&&Object.keys(t).length>0){const n=e.target.replace(/\{id\}/gi,D.id);D.style.addStyle(n,t)}}}));else if("object"==typeof t&&(!t.target||"string"==typeof t.target)){const n=t.initValue;if(n&&Object.keys(n).length>0){let i=t.target||e;i=e.replace(/\{id\}/gi,D.id),D.style.addStyle(e,n)}}}}i=e.styleAry}const r=e=>{e&&e.forEach((e=>{const{selector:t,css:n,global:i,withParentComId:r}=e,s=(0,y.B)(n),a=e=>{if(i)o.push(`${e} {${s}}`);else{let t="";r&&D.parent.parent&&(t=`.${D.parent.parent.id}`),e===h.A9?o.push(`#${h.iS} ${t} .${D.id} > *:first-child{${s}}`):o.push(`#${h.iS} ${t} .${D.id} ${e} {${s}}`)}};if(Array.isArray(t))t.forEach(((e,t)=>{const n=e.replace(/\{id\}/gi,D.id);a(n)}));else{const e=t.replace(/\{id\}/gi,D.id);a(e)}}))};if(D.style.themesId===h.gE)r(i);else{let e;e=D.style.themesId?B.getComTheme(D.style.themesId):B.getComThemeDefault(z.def.namespace),e?e.styleAry&&Array.isArray(e.styleAry)&&r(e.styleAry):i&&r(i)}if(o.length>0){const e=document.createElement("style");e.setAttribute("id",`${D.id}-style`),e.setAttribute("type","text/css"),e.innerHTML=o.join("\n"),t.appendChild(e)}})),(0,o.useEffect)((()=>()=>{if(D.hadDestroyed()){D.initDom=!1;const{viewModel:e,context:t,canvasShadowRoot:n}=B,i=n.querySelector(`style[id="${D.id}-style"]`);i&&n.removeChild(i)}}),[]);const V=(0,o.useCallback)((()=>{D.$el&&(t&&"normal"!=t||requestIdleCallback((e=>{const t=B.canvasShadowRoot;_(t,`.${D.id}-hover:hover{cursor: pointer;}`,{temp:D.id});let n=!1;(0,l.K5)(O,D,N).forEach((({selector:e,edtAry:i})=>{if(":slot"===e&&(n=!0),e.match(/^\:|\@|\*/)){if(":root"===e){let e=!1;"object"==typeof i&&i["@dblclick"]&&(e=!0),e&&(_(t,`.${$.desn}#${D.id}:not(.${$.focusPaasive})[data-handlable] :not([contenteditable='true']):hover{\n                  position:relative;\n                }`,{temp:D.id}),_(t,`.${$.desn}#${D.id}:not(.${$.focusPaasive})[data-handlable] :not([contenteditable='true']):hover:before{\n                  ${(0,h.MM)()}\n                }`,{temp:D.id}))}}else{let n,o;Array.isArray(i)||"object"!=typeof i||"function"==typeof i?o=i:(i.title&&(n=i.title),(Array.isArray(i.items)||"function"==typeof i.items)&&(o=i.items),i["@dblclick"]&&(o=i));let r=!1,s=!1;"function"==typeof o?s=!0:"object"==typeof i&&(i.style||i["@dblclick"])?(s=!0,i["@dblclick"]&&(r=!0)):Array.isArray(o)&&(o=o.filter((e=>e)),s=o.find((e=>e&&(e.type||Array.isArray(e.items)||"function"==typeof e)))),W&&s&&(r?(_(t,`.${$.desn}#${D.id}:not(.${$.focusPaasive})[data-handlable] ${e}:not(.${$.editableFocus}):not(.slot):not([contenteditable='true']):hover{\n                  position:relative;\n                }`,{temp:D.id}),_(t,`.${$.desn}#${D.id}:not(.${$.focusPaasive})[data-handlable] ${e}:not(.${$.editableFocus}):not(.slot):not([contenteditable='true']):hover:before{\n                  ${(0,h.MM)(`${n||""} 双击编辑`)}\n                }`,{temp:D.id})):_(t,`.${$.desn}#${D.id}:not(.${$.focusPaasive})[data-handlable] ${e}:not(.${$.editableFocus}):not(.slot):not([contenteditable='true']):hover{\n                  ${(0,h.a4)(`${n||""}`)}\n                }`,{temp:D.id}))}}))})))}),[]);(0,o.useEffect)((()=>{D._needInitAgain&&(D._needInitAgain=!1,V())}),[D._needInitAgain]),(0,o.useLayoutEffect)((()=>(D.initDom||(D.initDom=!0,V()),()=>{requestIdleCallback((e=>{if(D.hadDestroyed()){const e=B.canvasShadowRoot.querySelectorAll(`style[data-temp=${D.id}]`);e&&e.forEach((e=>e.remove()))}}))})),[]),(0,o.useLayoutEffect)((()=>{if(!D.init){D.init=!0;const e=D.$el;if(e){const t=e.children[0];if(t){const n=D.parent.style.isLayoutAbsoluteOrSmart(),i=D.style;if(void 0===D.style.width&&!n){const n=t.offsetWidth;e.classList.add($.fullWidth),n!==t.offsetWidth?(D.style.width="100%",requestAnimationFrame((()=>{D.notifyEleChanged()}))):n===D.$el.parentElement.offsetWidth?D.style.width="100%":D.style.width="fit-content",e.classList.remove($.fullWidth)}if(void 0===i.width||void 0===i.height){const e=(0,l.fK)(O);if(e){const o=e["@resize"];if("object"==typeof o){const{options:e}=o;let r;if("function"==typeof e){r=e((0,m.Q)(T))}else r=e;if(r){if(n&&!i.widthAuto&&(void 0===i.width||"100%"===i.width||i.widthFull)){const e=D.parent.$el;e.offsetWidth>=300?i.width=Math.ceil(e.offsetWidth/3):e.offsetWidth>=200?i.width=Math.ceil(e.offsetWidth/2):e.offsetWidth>=100?i.width=Math.ceil(4*e.offsetWidth/5):i.width=Math.ceil(e.offsetWidth-10),i.widthFull=!0}let e,o;Array.isArray(r)?(e=r.find((e=>"width"===e)),o=r.find((e=>"height"===e))):"object"==typeof r&&(e=void 0!==r.width,o=void 0!==r.height),void 0===i.height&&o&&(i.height=t.offsetHeight)}}}}}}}}),[]),(0,o.useLayoutEffect)((()=>{(0,i.A1)((()=>{D.state.isFocused()&&!D.focusArea&&j.reFocus(D)}))}),[D.listenForFocusAreaDeleted(),D.listenForEleChanged()]);const H=(0,o.useCallback)((e=>{if(!D.isPopup){D.isPopup=!0;const e=D.style;e.display="none",e.position="fixed",e.height="100%",e.top=0,e.left=0}return e}),[]),[G,J]=(0,i.HO)((()=>{var t;if(D.hadDestroyed())return[,];const o=(0,i.A1)((()=>N.getComDef({namespace:z.def.namespace,version:z.def.version})));let s,l;if(!o||"function"!=typeof o["runtime.edit"]&&"function"!=typeof o.runtime)s=`"${z.def.namespace}" not found`;else{const i="function"==typeof o["runtime.edit"]?o["runtime.edit"]:o.runtime;l=D.id+"dev",z._upgrade?l+=z._upgrade:o._upgrade&&(l+=o._upgrade);const d=i;if("function"==typeof d){const i={};i._env=(0,a.nC)(D,T);let o=e||D.data;s=r().createElement(d,Object.assign({key:l,id:D.id,name:D.name,data:o,env:(0,a._$)(T)},i,{title:z.title,style:(0,a.gd)(D),createPortal:H,slots:M(D,"dev",B),modules:(0,w.w)(D,B),configs:(0,a.Y_)(),_inputs:(0,a.$7)(),inputs:(0,a.GP)(n),_outputs:(0,a.kk)(),outputs:(0,a.zS)(D,c,{context:N}),logger:(0,a.eM)(D,B),"data-info":null===(t=z.upgrade)||void 0===t?void 0:t.info,onError:(0,a.wb)(D,B),_onError_:(e,t)=>{if(D.error=e,console.error(e),L.error(`组件异常 ${e.message}`,e.stack.replace(/\/n/gi,"<br/>"),{model:D}),"render"===t)return r().createElement("div",{className:$.error},z.title,"组件发生错误:",r().createElement("br",null),e.message)}}))}}return"function"==typeof C?[l,C({id:D.id,index:k,name:D.name,jsx:s,getJsx:e=>({jsx:s})})]:[l,s]})),K=(0,i.HO)((()=>{const e=[D.id,$.com,$.desn];D.isSelection()&&e.push($.selection),T.comDef.isCloudComponent&&e.push($.defined),D.isGroup()&&e.push($.group);const t=D.style,n=D.state,i=t.isPositionAbsoluteOrFixed();if(n.isOpened()&&e.push($.opened),N.isConfigAsBluePrint()&&!z.isBluePrint&&e.push($.opacity),N.isConfigAsBluePrint()||!z.isBluePrint||D.reservedEditorAry||e.push($.ignore),z.isTemp&&e.push($.temp),D.locked&&e.push($.locked),D._sayHi&&e.push($.sayHi),t.isPositionAbsolute()&&e.push($.abs),t.isPositionFixed()&&e.push($.fixed),!i&&D.parent.style.isLayoutOfFlexColumn()&&"100%"===t.height&&!D.parent.isShowTypeOfPopup()&&D.parent._rendered){const t=D.parent.$el;if(t){const n=getComputedStyle(t);"flex"===n.display&&"column"===n.flexDirection&&e.push($.flex)}}return n.isSelected()&&e.push($.selected),(n.isMoving()||D.state.isResizing())&&(D.isStyleLayoutAbsoluteOrFixed()?D.isGroup()?e.push($.groupMoving):e.push($.absMoving):e.push($.staticMoving)),n.isDisabled()&&(D.slots&&D.slots.find((e=>e.state.isHovering()))||e.push($.disabled)),e.join(" ")}));(0,i.HO)((()=>{if(z.topl){const e=z.topl.getAllOutputsInfo();if(e){const t=n=>{D.$el||requestIdleCallback(t,{timeout:3e3});D.$el.querySelectorAll(`:scope>.${$.append} i.${$.events}`).forEach((e=>{e.remove()}));const i=(t,n)=>{if(Array.isArray(t))t.forEach((e=>{i(e,n)}));else if(Array.isArray(t.groups))i(t.groups,n);else if(Array.isArray(t.items))i(t.items,n);else if(t&&"string"==typeof t.type&&"_event"===t.type.toLowerCase()){let i;"function"==typeof t.options?i=t.options():"object"==typeof t.options&&(i=t.options),i&&"object"==typeof i&&i.outputId&&e.find((e=>{if(e.hostId===i.outputId&&e.connections.length>0)return n.push(e),!0}))}};D.addBlurFn((()=>{(0,l.K5)(O,D,N).forEach((({selector:e,edtAry:t})=>{if(":slot"!==e&&!e.match(/^\@|\*/))if(":root"!==e||D.focusArea){if(!e.startsWith(":child")){const t=B.canvasShadowRoot;let n;try{let o;o=e.indexOf("::")<0?`.${$.desn}#${D.id} ${e}:not(.slot)`:`.${$.desn}#${D.id} ${e}`,n=t.querySelectorAll(o),requestIdleCallback((()=>{n.forEach((t=>{t.querySelectorAll(`:scope>i.${$.events}`).forEach((e=>{e.remove()})),D.setFocusArea(t,{[e]:!0},void 0,void 0);const n=(0,b.O)(T),o=[];if(i(n,o),o.length>0){const e=document.createElement("i");e.classList.add($.events),e.innerText=o.length+"",e.dataset.json=JSON.stringify(o),t.appendChild(e)}})),D.focusArea=void 0}))}catch(e){console.warn(e)}}}else{const e=(0,b.O)(T),t=[];if(i(e,t),t.length>0){const e=document.createElement("i");e.classList.add($.events),e.dataset.json=JSON.stringify(t),e.innerText=t.length+"";D.$el.querySelector(`.${$.append}`).appendChild(e)}}}))}))};requestIdleCallback(t)}}}));const q=O.parasitic||D.state.isEditing()?void 0:(0,i.Wj)((e=>p(e,T))).stop,Y=N.isConfigAsBluePrint(),X=Y&&z.isBluePrint||!Y&&!z.isBluePrint||!Y&&z.isBluePrint&&D.reservedEditorAry,Z=Object.assign(D.locked?{}:{onMouseOver:(0,i.Wj)((e=>(0,A.yD)(e,U,T))).stop,onMouseOut:(0,i.Wj)((e=>(0,A.T_)(T))).stop,onClick:(0,i.Wj)((e=>(0,A.jM)(e,U,T))).stop,onDoubleClick:(0,i.Wj)((e=>(0,A.h0)(e,T))).stop,onMouseDown:q},X?{"data-handlable":1}:{});D.state.isOpened()?Z.onWheel=e=>{let t,n=e.target,i=D.$el;for(;n&&n!==i&&n.id!==h.iS&&!n.dataset.mybricksArtboard&&n!==document.body;){const e=n.scrollWidth-n.clientWidth,i=n.scrollHeight-n.clientHeight;if(e>=5||i>=5){t=!0;break}n=n.parentNode}t&&e.stopPropagation()}:Z.onWheel=void 0;const Q=(0,i.HO)(a.p9),ee=(0,i.HO)(I),te=D.style;let ne,ie=!1,oe=!1,re=!1;if(D.parent.style.isLayoutAbsoluteOrSmart()&&!D.state.isResizing()&&((te.widthFull||"100%"===te.width)&&(oe=!0),te.widthAuto&&(ie=!0),te.heightAuto&&(re=!0)),D.error){let e;ne=null,e=D.error.stack?null===(P=D.error.stack)||void 0===P?void 0:P.replace(/\/n/gi,"<br/>"):D.error.message,L.error(`组件异常 ${D.error.message}`,e,{model:D})}else if(ne=r().createElement(E.A,{key:G,title:`${z.title} 组件发生错误`,model:D,emitLogs:L,emitItem:j,cssComNormal:$},J),(void 0!==te.marginLeft||void 0!==te.marginRight||void 0!==te.marginTop||void 0!==te.marginBottom)&&K.indexOf($.flex)>-1){const e={};void 0!==te.marginLeft&&(e.paddingLeft=te.marginLeft),void 0!==te.marginRight&&(e.paddingRight=te.marginRight),void 0!==te.marginTop&&(e.paddingTop=te.marginTop),void 0!==te.marginBottom&&(e.paddingBottom=te.marginBottom),ne=r().createElement("div",{className:$.contentWithFlexMargin,style:e},ne)}return r().createElement("div",Object.assign({id:D.id,ref:e=>{e&&(U=e,D.set$elOnce(e))},style:Q,className:K,"data-info":null===(F=z.upgrade)||void 0===F?void 0:F.info},Z),ne,r().createElement("div",{className:$.append,style:ee},te.isPositionFixed()?r().createElement("span",null,f.FI.positionFixed):null,D.locked?r().createElement("span",null,f.FI.lock):null,D.noteInfo?r().createElement("span",{className:`${$.noteLabel}`,style:"left"===D.noteInfo.position?{left:2}:{right:2}},"[",D.noteInfo.label,"]"):null,D.error?r().createElement("div",{className:$.error},D.error.message):null,z.upgrade?r().createElement("span",{className:$.upgrade}):null,oe?r().createElement(r().Fragment,null,r().createElement("span",{className:$.flexX0}),r().createElement("span",{className:$.flexX1})):null,ie?r().createElement(r().Fragment,null,r().createElement("span",{className:$.autoX0}),r().createElement("span",{className:$.autoX1})):null,null===(S=T.maskAry)||void 0===S?void 0:S.map(((e,t)=>r().createElement("div",{key:t,className:$.mask,style:{left:e.left,top:e.top,width:e.width,height:e.height}})))),D.state.isMoving()?r().createElement("div",{className:$.moving}):null,D.state.isAIWorking()?r().createElement("div",{className:$.aiWorking}):null,D.state.isAIWorkingDone()?r().createElement("div",{className:$.aiWorkingDone}):null)}function _(e,t,n){const i=document.createElement("style");if(n&&"object"==typeof n)for(let e in n)i.dataset[e]=n[e];i.textContent=t,e.appendChild(i)}function M(e,t,n){const{context:i,emitItem:o,emitMessage:s}=n,a=e.runtime,l={};return e.slots&&e.slots.forEach(((t,d)=>{l[t.id]={id:t.id,get title(){return t.title},set title(e){t.title=e},get _inputs(){return new Proxy({},{get:(e,t,n)=>e=>{}})},get inputs(){return new Proxy({},{get(e,n,i){if(a.topl){const e=a.topl.getFrame(t.id);if(e&&e.inputPins){const t=e.inputPins.find((e=>e.hostId===n));if(t){const e=function(e){};return e.getConnections=function(){return t.conAry.map((e=>({})))},e}}}}})},get outputs(){return new Proxy({},{get(e,n,i){if(a.topl){const e=a.topl.getFrame(t.id);if(e&&e.outputPins){if(e.outputPins.find((e=>e.hostId===n)))return e=>{}}}}})},render(e){let i;return e&&"object"==typeof e&&void 0!==e.key&&(i=e.key),r().createElement(c.A,{key:i,model:t,options:e||{},viewContext:n})},get size(){return t.comAry.length},addCom(n,r=!0,a){let l;"string"==typeof n?l={namespace:n}:n&&"object"==typeof n&&(l=n);const c=i.getComDef(l);if(!c)return void s.warn("添加的组件不存在");const{data:d,title:u,rtType:h,schema:m,version:g,singleton:y,namespace:b}=c;if(y&&(0,p.B8)(i.model.mainModule.slot.comAry,c))return void s.warn(`${u}已存在，不能重复添加`);const v=new f.Al(c);r&&t.comAry.forEach((e=>{o.delete(e)})),o.add(Object.assign(Object.assign({seedModel:v,state:"finish",deletable:!m,isParasite:m},a),{toComId:e.id,toSlotId:t.id,noFocus:!0}))},clear(){t.comAry&&(0,p.gb)(t,o),t.comAry=[]},moveTo(n){if("number"==typeof n&&!isNaN(n)&&n>=0&&n<=e.slots.length-1){const i=e.slots.findIndex((e=>e.id===t.id)),o=e.slots[n];e.slots[n]=e.slots[i],e.slots[i]=o}}}})),l}function I(){const e=(0,i.lB)(s.A),{model:t,context:n,emitItem:o,emitSnap:r,comDef:a}=e,l=t.style,c=t.isStyleLayoutAbsolute(),{marginTop:d=0,marginLeft:u=0,marginBottom:p=0,marginRight:f=0}=l;return{top:c?0:d,left:c?0:u,bottom:c?0:p,right:c?0:f}}},65518:(e,t,n)=>{"use strict";n.d(t,{T_:()=>d,h0:()=>l,jM:()=>u,yD:()=>c});var i=n(89422),o=n(91716),r=n(61111),s=n(50528),a=n(24412);function l(e,t){const{model:n,context:o,viewContext:r}=t,s=(0,i._)(e.target,t);if(s){let e;s.forArea&&(s.model!==n||!n.focusArea&&n.state.isOpened())&&(e={ele:s.ele,selectors:s.selectors}),r.shortEditorFor={curModel:n,model:s.model,ele:s.ele,editor:s.editor,focusAreaOpt:e}}else if(n.asRoot)return}function c(e,t,n){var i;const{model:o,comDef:r,context:s,emitItem:a,viewContext:l}=n;if(!o.lockedSilent&&!(null===(i=o.parent.state)||void 0===i?void 0:i.isHovering())){if(o.runtime.isBluePrint){if(!s.isConfigAsBluePrint()&&!o.reservedEditorAry)return}else if(s.isConfigAsBluePrint())return;o.state.hover(),a.hover(n.model)}}function d(e){e.model.state.hoverRecover(),e.emitItem.hover(null)}function u(e,t,n,l){var c,d,u;const{model:p,context:f,viewContext:h,emitItem:m}=n,{cssComNormal:g}=h;if(p.runtime.isBluePrint){if(!f.isConfigAsBluePrint()&&!p.reservedEditorAry)return void m.blur()}else if(f.isConfigAsBluePrint())return void m.blur();if(p.state.isMoving()&&p.state.isSelected())return;if(e.shiftKey){if((null===(c=h.selection)||void 0===c?void 0:c.inCom)===p)return;return(0,r.O7)(h,p.parent,p)?void(f.focusModel&&f.focusModel instanceof s.s&&(f.focusModel.state.editingId=(0,o.uR)())):void 0}p.$el=t;const y=function(e){h.clearHoverModel(),e.state.editingId=(0,o.uR)(),m.focus(e)};let b=p.state;if(b.isMoving())return void y(p);const v=l?null:(0,i.r)(e.target,n),x=p.$el.querySelectorAll(`.${g.editableFocus}`);if(!v||(null===(u=null===(d=x[0])||void 0===d?void 0:d.classList)||void 0===u?void 0:u.value)!==v.ele.classList.value){if(x.length>0)for(let e=0;e<x.length;e++)x[e].classList.remove(g.editableFocus);if(b.isEnabled()){if(v){const{title:e,ele:t,editorAry:n,editorPath:i}=v;let o;setTimeout((()=>{t.classList.add(g.editableFocus)})),e?"string"==typeof e?o=e:"function"==typeof e&&(o=e({data:p.data,focusArea:{ele:t,dataset:t.dataset}})):(o||(o=t.getAttribute("title")),o||(o=n.title)),p.setFocusArea(t,t._vc_init_.selectors,i,o)}else p.focusArea=void 0;y(p)}else if(b.isFocused())if(v){const{title:e,ele:t,editorAry:n,editorPath:i}=v;let r;if(setTimeout((()=>{t.classList.add(g.editableFocus)})),e)"string"==typeof e?r=e:"function"==typeof e&&(r=e({data:p.data,focusArea:{ele:t,dataset:t.dataset}}));else{const e=t.getAttribute(a.RO);if(e){const t=e.split("/");r=t.length>=2?t[1]:t.length>=1?t[0]:e}r||(r=t.getAttribute("title"))}p.setFocusArea(t,t._vc_init_.selectors,i,r),p.state.editingId=(0,o.uR)(),m.reFocus(p)}else(e.target===p.$el||p.focusArea)&&(p.focusArea=void 0,p.state.editingId=(0,o.uR)(),m.reFocus(p))}}},5716:(e,t,n)=>{"use strict";function i(e){const{model:t,viewContext:n}=e,{emitItem:i,emitSnap:o,mover:r,emitViews:s}=n,{style:a}=t;let l;function c(){setTimeout((()=>{l.shift(),l.length<=0?(l=void 0,r.hide()):c()}),l.length<=0?300:100)}function d(e){t.isStyleLayoutAbsoluteOrFixed()&&(a.clearSuggest(),e(),r.show({x:a.left,y:a.top},t,"no-suggest"),t.notifyEleChanged(!0),l||(l=[],c()),l.push(1))}let u=[{title:"上移",keys:["ArrowUp"],exe:()=>{d((()=>{a.top-=1}))}},{title:"下移",keys:["ArrowDown"],exe:()=>{d((()=>{a.top+=1}))}},{title:"向左",keys:["ArrowLeft"],exe:()=>{d((()=>{a.left-=1}))}},{title:"向右",keys:["ArrowRight"],exe:()=>{d((()=>{a.left+=1}))}}];return u.push({title:"删除选中的组件",keys:["Backspace","Delete"],exe:()=>{i.delete(t);const e=t.parent,n=o.start("删除多个组件",{target:e});t.selectComs.forEach(((e,t)=>{i.delete(e)})),n.commit(),i.blur()}}),u}n.d(t,{A:()=>i})},10736:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(96966),o=n(91716),r=n(61111);function s(e){const{model:t,viewContext:n,comDef:s,emitSnap:l,emitItem:c,emitMessage:d,emitViews:u,emitPermission:p}=e,{style:f}=t,{mover:h,viewModel:m,context:g}=n,y=t.parent;if(t.isModule()&&!t.proxySlot)return[{title:"删除",keys:["Backspace","Delete"],exe:()=>{var e;const i=l.start("itemDelete",{target:t});(null===(e=n.selection)||void 0===e?void 0:e.coms.length)>1?n.selection.coms.forEach((e=>{c.delete(e)})):(c.delete(t),c.focus(void 0)),i.commit()}}];if(t.asRoot){function E(){g.focusModel&&g.reFocus()}return[{title:"复制当前场景",keys:["ctrl+c"],exe:()=>{const e=u.copyFocus(y);e.from=y.id,(0,o.C)(JSON.stringify(e))&&d.info("已复制到剪切板.")}},null,{title:"前移",exe:()=>{const e=l.start("移动场景",{target:y}),t=m.slots.indexOf(y);m.changeOrder(y,t-1),e.commit(),requestAnimationFrame(E)}},{title:"后移",exe:()=>{const e=l.start("移动场景",{target:y}),t=m.slots.indexOf(y);m.changeOrder(y,t+2),e.commit(),requestAnimationFrame(E)}},null,{title:"删除当前场景",keys:["Backspace","Delete"],exe:()=>{const{emitFrame:e,emitScenes:i}=n,o=y.id;if(y.hostSlotId){const i=m.getSlot(y.hostSlotId),o=l.start("删除场景",{target:y});(0,r.vt)(t,n),i.delete(y),g.pageMetaModel.deleteScene(y.hostSlotId,y.id),e.delete(y.id),o.commit()}else{const s=l.start("删除场景",{target:y});(0,r.vt)(t,n),e.delete(o),i.delete(o),y.destroy(),c.focus(void 0),s.commit()}c.focus(void 0)}}]}let b;function v(){setTimeout((()=>{f.clearSuggest(),b.shift(),b.length<=0?(b=void 0,h.hide()):v()}),b.length<=0?300:100)}function x(e){if(t.isStyleLayoutAbsoluteOrFixed()){f.clearSuggest();const i=l.start("移动",{target:t});!function(e){const i=t=>{const n=t.$el,i=t.parent.$el;e?f.rightFrozen&&(f.right=i.offsetWidth-f.left-n.offsetWidth,f.left=void 0,f.rightFrozen=void 0):void 0!==f.right&&(f.left=i.offsetWidth-f.right-n.offsetWidth,f.rightFrozen=!0,f.right=void 0)};n.selection?n.selection.coms.forEach((e=>{i(e)})):i(t)}(),n.selection?n.selection.coms.forEach((t=>{e(t.style)})):e(f),i.commit(),h.show({x:f.left,y:f.top},t,"no-suggest"),t.notifyEleChanged(!0),b||(b=[],v()),b.push(1)}}let A=[];t.isStyleLayoutAbsoluteOrFixed()?(A=[{title:"位置上移",keys:["ArrowUp"],exe:()=>{x((e=>{const t=g.withShiftKey?10:1;void 0!==e.bottom?e.bottom+=t:e.top-=t}))}},{title:"位置下移",keys:["ArrowDown"],exe:()=>{x((e=>{const t=g.withShiftKey?10:1;void 0!==e.bottom?e.bottom-=t:e.top+=t}))}},{title:"位置左移",keys:["ArrowLeft"],exe:()=>{x((e=>{const t=g.withShiftKey?10:1;void 0!==e.right?e.right+=t:e.left-=t}))}},{title:"位置右移",keys:["ArrowRight"],exe:()=>{x((e=>{const t=g.withShiftKey?10:1;void 0!==e.right?e.right-=t:e.left+=t}))}}],y.comAry.length>1&&A.unshift({title:"移至最前",exe:()=>{const e=l.start("itemZIndex",{target:t});t.setZIndex("max"),e.commit()}},{title:"移至最后",exe:()=>{const e=l.start("itemZIndex",{target:t});t.setZIndex("min"),e.commit()}},null)):y.comAry.length>1&&(A=[{title:"置顶",exe:()=>{a("bottom",e)}},{title:"向上调整",exe:()=>{a("down",e)}},{title:"向下调整",exe:()=>{a("up",e)}},{title:"置底",exe:()=>{a("top",e)}}]);const w=[{title:"复制到剪切板",keys:["Ctrl+c"],exe:()=>{var e;const i=(null===(e=n.selection)||void 0===e?void 0:e.coms.length)||0;if(i>1){const e=u.copyFocus(n.selection.coms);e.from=t.id,(0,o.C)(JSON.stringify(e))&&d.info(`已复制 ${i}个组件 到剪切板.`)}else{if(t.focusArea)return;const e=u.copyFocus();e.from=t.id,(0,o.C)(JSON.stringify(e))&&d.info("已复制到剪切板.")}}},null,{get title(){return"none"!==f.display?"隐藏":"显示"},exe:()=>{const e=l.start(`显示/隐藏 组件${t.runtime.title}`,{target:t});"none"!==f.display?(t.style.display="none",c.blur(),d.info("组件已设置为运行时隐藏.")):(f.display="block",f.visibleOnce&&(f.visibleOnce=void 0),d.info("组件已设置为运行时显示.")),e.commit()}},{get title(){return t.locked?"锁打开":"锁定"},exe:()=>{const e=l.start(`锁定/打开锁 组件${t.runtime.title}`,{target:t});t.locked=!t.locked,e.commit(),d.info("组件已设置为锁定.")}}];return A.unshift({title:"编辑权限",exe:()=>{p.edit({value:{get:()=>t.runtime.model.permissions,set(e){const n=l.start(`设置 组件${t.runtime.title} 的权限`,{target:t});e.isTypeOfNone()?(p.remove(e.id),t.runtime.model.permissions=void 0):(e.modelId=t.id,p.register(e),t.runtime.model.permissions={id:e.id}),n.commit()}}})}}),(null==s?void 0:s.namespace)===i.ZD.coms.group&&(w.push(null),w.push({title:"解散",exe:()=>{const e=t.parent,n=t.style,i=l.start("dissolve group",{target:e});t.slots[0].comAry.forEach((t=>{e.cutIn(t);const i=t.style;i.left=i.left+n.left,i.top=i.top+n.top})),c.delete(t),c.blur(),i.commit()}})),(null==s?void 0:s.namespace)===i.ZD.coms.module&&w.unshift({title:"跳转到定义..",exe:()=>{const e=t.proxySlot;n.emitItem.focus(void 0),n.focusArtboard(e.id,!0),setTimeout((t=>{n.emitItem.focus(e)}))}}),w.push(null),w.push({title:"查看交互引用",exe:()=>{c.filterScript(t.id)}}),t.lockedSilent||w.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{var e;const i=l.start("itemDelete",{target:t});(null===(e=n.selection)||void 0===e?void 0:e.coms.length)>1?n.selection.coms.forEach((e=>{c.delete(e)})):(c.delete(t),c.focus(void 0)),i.commit()}}),w.push({title:"组件说明",exe:()=>{c.help(t)}}),w.push({title:"更多",items:A}),w}function a(e,t){const{emitItem:n,model:i,emitSnap:o}=t,r=o.start(`更改 组件${i.runtime.title} 的层级`,{target:i});i.isStyleLayoutAbsoluteOrFixed()?"top"===e?n.upwards(i,!0):"up"===e?n.upwards(i):"down"===e?n.downwards(i):"bottom"===e&&n.downwards(i,!0):"top"===e?n.downwards(i,!0):"up"===e?n.downwards(i):"down"===e?n.upwards(i):"bottom"===e&&n.upwards(i,!0),i.notifyEleChanged(!0),r.commit()}},99874:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(96966),o=n(91737);function r(e,t){return{get(e){const{context:n,viewModel:r,emitModule:s,emitDebug:a,emitLogs:l}=t,c=s.get(e);if(c){if(r.getSlot(c.id))return{render({data:e}){var t;n.getComDef({namespace:i.ZD.coms.module});const r=n.configs.com||{},s=(0,o.o8)(r,!0),d=Object.assign({},s,{debug:!0,observable:o.sH,debug:({resume:e,ignoreAll:t})=>({log(e,t,n,i){const r=(0,o.o8)(n,!0,(e=>e instanceof Date?e.toString():e));requestIdleCallback((n=>{a.log("debug",e,t,r,i)}),{timeout:400})},onResume(){}}),onError({comId:e,title:t,error:n}){requestAnimationFrame((e=>{const i=["color:#FFF;background:#FF0000;font-weight:bold;border-radius: 10px;padding-top:2px;","",`组件${t}运行错误:${n.message}`];l.error("%c 错误 %c ",...i)}))}});d.env.runtime={debug:{prototype:"proto"===n.currentRole},onComplete(e){}},(null===(t=s.env)||void 0===t?void 0:t.renderCom)?d.env.renderCom=s.env.renderCom:d.env.renderCom=function(e,t){const i=Object.assign({sceneId:null},d,t);return n.renderWeb(e,i)};const u=Object.assign({sceneId:null},d);return n.renderWeb(c.json,u)}}}throw new Error(`Module[${e}] not found.`)}}}},89422:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,r:()=>s});var i=n(33313);function o(e,t){const{model:n,context:i}=t;let o=r(n,i,e);if(!o){const t=n.parent.parent;t&&(o=r(t,i,e))}return o}function r(e,t,n){const o=t.getComDef(e.runtime.def),r=e.$el.firstChild,s=(0,i.K5)(o,e,t);if(s){const t=[];let i,o,a,l,c;if(s.forEach((({selector:n,edtAry:i,viewOn:o})=>{if(!n.match(/^:|\@|\*/)){let i,s,a=o[n];if(Array.isArray(a)||"object"!=typeof a||"function"==typeof a||(a.title&&(s=a.title),a["@dblclick"]&&(i=a["@dblclick"])),i){let o;try{o=r.querySelectorAll(n)}catch(t){console.log(e.$el),o=r.querySelectorAll(":scope"+n)}o.length>0&&t.push({selector:n,eles:o,dblclickEditor:i})}}})),t.length>0){let e=n;do{if(t.find((({selector:t,title:n,dblclickEditor:r,eles:s})=>[].find.call(s,(s=>{if(e===s)return i=n,o=s,a=t,o._vc_init_?o._vc_init_.selectors[t]=!0:o._vc_init_={selectors:{[t]:!0}},l||(l=r),!0})))))break;e=e.parentNode}while(e.parentNode)}return o?{model:e,forArea:!0,ele:o,selectors:{[a]:!0},editor:l}:(s.find((t=>{var n;if(":root"===t.selector){const i=null===(n=t.edtAry)||void 0===n?void 0:n["@dblclick"];i&&(c={model:e,ele:r,selectors:{[a]:!0},editor:i})}})),c)}}function s(e,t){const{model:n,comDef:o,context:r}=t,s=n.$el.firstChild,a=[];let l,c,d;if(function(e){(0,i.K5)(e,n,r).forEach((({selector:e,edtAry:t,viewOn:i})=>{if(!e.match(/^:|\@|\*/)){let t,o=i[e],r=!1;if(Array.isArray(o)||"object"!=typeof o||"function"==typeof o||(o.title&&(t=o.title),o.style||(Array.isArray(o.items)||"function"==typeof o.items)&&(o=o.items)),"function"==typeof o||"object"==typeof o&&o.style?r=!0:Array.isArray(o)&&(r=o.find((e=>"function"==typeof e||e.type||Array.isArray(e.items)))),r){let i;try{i=s.parentNode.querySelectorAll(e)}catch(t){console.log(n.$el),i=s.querySelectorAll(":scope"+e)}i.length>0&&a.push({selector:e,title:t,edtAry:o,eles:i})}}}))}(o),a.length>0){let t=e;do{if(a.forEach((({selector:e,title:n,edtAry:i,eles:o})=>{[].find.call(o,(o=>{if(t===o)return l=n,c=o,c._vc_init_?c._vc_init_.selectors[e]=!0:c._vc_init_={selectors:{[e]:!0}},d||(d=i),!0}))})),c)break;t=t.parentNode}while(t.parentNode)}if(c){return{editorPath:(0,i.LP)(c,n,r),title:l,ele:c,editorAry:d}}}},42813:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(18873),o=n(64012),r=n.n(o),s=n(72433),a=n(91737),l=n(96966),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function d({myCtx:e}){var t;if("function"==typeof(null===(t=e.viewCtx.context.configs)||void 0===t?void 0:t.comLibAdder))return r().createElement("div",{className:i.A.bottom},r().createElement("div",{className:i.A.btn,onClick:(0,a.Wj)((()=>function(e){return c(this,void 0,void 0,(function*(){const{viewCtx:t,emitMessage:n,emitLogs:i,emitSnap:o}=e,{context:r}=t,a=yield r.configs.comLibAdder();if(a){function c(t){const n=o.start(`添加组件库:${t.title}`);(0,s.j0)(t),n.commit(),e.scrollTo(1e3)}"string"==typeof a?(0,l.q4)(a).then(c):"object"==typeof a&&c(a)}else i.error("添加组件库失败."),n.error("添加组件库失败.")}))}(e))).stop},r().createElement("span",null,"+"),"添加组件库"))}},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(92433),o=n(64012),r=n.n(o),s=n(91737),a=n(96966),l=n(483),c=n(72433),d=n(68495),u=n(42813),p=n(48712),f=n(77050),h=n(16126),m=n(1677);let g,y;function b({mode:e,model:t,showFloat:n}){var b,v,x;const A=(0,s.lB)(f.A,{from:"parents"}),w=(0,s.J2)(a.Zm.Snap,{expectTo:"parents"}),E=(0,s.J2)(a.Zm.Message,{expectTo:"parents"}),C=(0,s.J2)(a.Zm.Component,{expectTo:"parents"}),_=(0,s.J2)(a.Zm.Logs,{expectTo:"parents"}),M=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),{context:I}=A;g||(g=null===(v=null===(b=I.configs)||void 0===b?void 0:b.com)||void 0===v?void 0:v.env),y=(0,s.J2)(i.A,(i=>{i({viewCtx:A,emitLogs:_,emitSnap:w,emitItems:C,emitViews:M,emitMessage:E,showFloat:n,mode:e,model:t,renderedLib:[]})}),{to:"children"}),(0,o.useMemo)((()=>{let e=[];if(I.comLibAry){const t=[],n=[],i=[];I.comLibAry.forEach((e=>{e.defined?t.push(e):e.id===a.ZD.id?n.push(e):i.push(e)}));t.concat(n).concat(i).forEach((t=>{if(t){if(!1===t.visible||t.target&&"ui"!==t.target)return;const n=t.comAray;(t.defined||(null==n?void 0:n.length)>0)&&e.push({id:t.id,namespace:t.namespace,title:t.title,version:t.version,latestComlib:t.latestComlib,defined:t.defined,comAray:n})}}))}y.libAry=e}),[I.comLibAry,null===(x=I.comLibAry)||void 0===x?void 0:x.length]),(0,c.nu)(y);const k=(0,o.useMemo)((()=>{var e,t;const n=null===(t=null===(e=I.configs.geoView.nav)||void 0===e?void 0:e.comlibs)||void 0===t?void 0:t.view;if("function"==typeof n)return n({addComInstance(e){if(e.namespace){const t=I.getComDef(e);if(t)return(0,h.RS)(t),!0}},dragToAddComInstance(e,t){if(t&&e.namespace){const n=I.getComDef(e);if(n)return(0,h.AH)(n,t),!0}}})}),[]);return k?r().createElement("div",{className:`${l.A.panel} ${A.curMovingCom?l.A.disabled:""}`,ref:e=>e&&(y.comsPanelNode=e)},k):r().createElement("div",{className:`${l.A.panel} ${A.curMovingCom?l.A.disabled:""}`,ref:e=>e&&(y.comsPanelNode=e)},r().createElement(d.A,null),r().createElement("div",{className:l.A.comlibs,ref:e=>e&&(y.bodyEle=e)},r().createElement(m.A,{myCtx:y,key:A.showNavPanel}),y.libAry.map(((e,t)=>{const n=`${e.id}_${e.version}`;return r().createElement(p.g,{key:n,comLib:e})}))),r().createElement(u.A,{myCtx:y}))}},92433:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);class o{constructor(){this.show=!1,this.renderedLib=[],this.searchTxt=""}scrollTo(e){this.bodyEle.scrollTop=2*this.bodyEle.scrollHeight}search(e){this.searchTxt=e}showDocs(e){const t=e.docs;this.emitViews.popView(e.title,(()=>i.createElement("iframe",{src:t,frameBorder:0,style:{height:"100%",width:"100%"}})),{onClose(){}})}ifComEnable(e){return(void 0===e.enable||!1!==e.enable)&&((void 0===e.visibility||!1!==e.visibility)&&(!(e.rtType&&!e.rtType.match(/vue|react|popup/gi))||void 0))}}},1677:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(64012),o=n.n(i),r=n(91737),s=n(96966),a=n(16126),l=n(63361),c=n(91716);function d({myCtx:e}){const{viewCtx:t}=e,{emitModule:n,context:d,viewModel:u}=t,p=(0,i.useCallback)(((e,n,i)=>{const o=d.getComDef({namespace:s.ZD.coms.module}),r=new s.Bu(o,{title:n.title,slotId:n.id});"click"===i?(0,a.RS)(o,{gvCtx:t,seedModel:r}):"drag"===i&&(0,a.AH)(o,e,{seedModel:r,start(){t.clearPops()}})}),[]),f=(0,r.HO)((()=>{const t=(n.getAll()||[]).map((t=>{const n=e.searchTxt;if(""!==n&&t.title.indexOf(n)<0){const e=c.iA.convertToPinyin(t.title);if(e&&e.indexOf(n.toUpperCase())<0)return}return o().createElement("div",{key:t.id,className:`${l.A.module}`,onClick:(0,r.Wj)((e=>p(e,t,"click"))).stop,onMouseDown:(0,r.Wj)((e=>p(e,t,"drag"))).stop},o().createElement("div",{className:l.A.preview},o().createElement("img",{src:t.previewImageData})),o().createElement("div",{className:l.A.title},t.title))}));return t.length>0?t:void 0}));if(f)return o().createElement("div",{className:l.A.modules},o().createElement("div",{className:l.A.tt},"模块"),o().createElement("div",{className:l.A.body},f))}},68495:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(47779),o=n(91737),r=n(96966),s=n(64012),a=n.n(s),l=n(92433);function c(){const e=(0,o.lB)(l.A,{from:"parents"}),t=(0,s.useRef)();return(0,s.useEffect)((()=>{if(e.viewCtx.showNavPanel){e.searchTxt="";const n=t.current;n.focus(),n.select()}}),[e.viewCtx.showNavPanel]),a().createElement("div",{className:i.A.toolbar},a().createElement("div",{className:i.A.search},r.FI.search,a().createElement("input",{type:"text",ref:t,placeholder:"搜索组件及模块",value:e.searchTxt,onChange:t=>e.search(t.target.value)})))}},7666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=n(3375).A},16126:(e,t,n)=>{"use strict";n.d(t,{AH:()=>b,Ii:()=>g,RS:()=>y,X$:()=>m});var i=n(96966),o=n(72433),r=n(3062),s=n(47032),a=n(91737),l=n(56845),c=n(91716),d=n(64012),u=n.n(d),p=n(48712),f=n(50363),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function m(e,t){const{mainIdx:n,title:i}=e;if((0,o.s4)(e))return;if(void 0===n||n<0)return u().createElement("div",{className:r.A.groupWrap,key:i},u().createElement("div",{className:r.A.comGroupTitle},i),u().createElement(p.D,{comLib:e,level:t+1}));const s=e.comAray[n||0],a=[r.A.comGroupWrap];return u().createElement("div",{key:s.namespace,className:a.join(" ")},g(e,s))}function g(e,t){var n,l,p;const f=(0,o.yK)(),m=null===(n=f.viewCtx.context.configs.com)||void 0===n?void 0:n.disabled,[g,v]=(0,d.useState)(!1);if(m&&m.find((e=>e===t.namespace)))return;const x=f.searchTxt;if(""!==x&&t.title.indexOf(x)<0){const e=c.iA.convertToPinyin(t.title);if(e&&e.indexOf(x.toUpperCase())<0){const e=t.namespace.substring(t.namespace.lastIndexOf(".")+1);if(e&&e.toUpperCase().indexOf(x.toUpperCase())<0)return}}let A;return A=t.previewImg?u().createElement("div",{className:s.A.previewImg},u().createElement("img",{src:t.previewImg})):"string"==typeof t.icon?"./icon.png"!==t.icon&&/^(https:|data:)/.test(t.icon)?u().createElement("div",{className:s.A.comIcon},u().createElement("img",{className:s.A.img,src:t.icon})):u().createElement("div",{className:s.A.comIcon},u().createElement("div",{className:s.A.comIconFallback},null===(l=t.title)||void 0===l?void 0:l.substr(0,1))):"object"==typeof t.icon?u().createElement("div",{className:s.A.comIcon},t.icon):u().createElement("div",{className:s.A.comIcon},u().createElement("div",{className:s.A.comIconFallback},null===(p=t.title)||void 0===p?void 0:p.substr(0,1))),u().createElement("div",{key:t.namespace,className:`${s.A.comItem} ${t.previewImg?s.A.withPreview:""}`,"data-mybricks-tip":t.title,onMouseDown:n=>{e._managing||b(t,n)},onClick:n=>{e._managing||y(t)}},A,u().createElement("div",{className:s.A.title},t.title),u().createElement("div",{className:r.A.hover},t.docs?u().createElement("span",{className:r.A.icon,onClick:(0,a.Wj)((e=>f.showDocs(t))).stop},i.FI.tip):null),e.defined?u().createElement(u().Fragment,null,u().createElement("div",{className:s.A.moreBtns,onClick:(0,a.Wj)((e=>{v(!g)})).stop,onMouseDown:(0,a.Wj)().stop},u().createElement("span",null,i.FI.More)),u().createElement("div",{className:s.A.comMenu,style:{display:g?"block":"none"},onClick:(0,a.Wj)((e=>{v(!1)})).stop},u().createElement("div",{className:s.A.menuContent},u().createElement("span",{onClick:(0,a.Wj)((e=>{v(!1)})).stop},i.FI.Close),u().createElement("div",{onClick:(0,a.Wj)((n=>{v(!1),function(e,t){h(this,void 0,void 0,(function*(){const n=(0,o.yK)(),{viewCtx:i,emitItems:r}=n,s=i.context.configs.comLibLoader,a=e.namespace,l=e.version,c=yield s({cmd:"upgradeCom",comNamespace:a,libId:t.id,version:t.version});if((0,o.Dy)(c),c.comAray){const e=c.comAray.find((e=>e.namespace===a));e.version!==l&&r.upgradeAllForDef(e)}}))}(t,e)})).stop},"更新"),u().createElement("div",{onClick:(0,a.Wj)((n=>{v(!1),function(e,t){h(this,void 0,void 0,(function*(){const n=(0,o.yK)(),i=n.viewCtx.context.configs.comLibLoader,r=yield i({cmd:"deleteCom",comNamespace:e.namespace,comVersion:e.version,libId:t.id});(0,o.Dy)(r),n.emitMessage.info(`已删除组件 ${e.title}@${e.version}`)}))}(t,e)})).stop},"删除")))):null)}function y(e,t){var n,r;let s=null==t?void 0:t.gvCtx;if(!s){const e=(0,o.yK)();s=e.viewCtx}const{context:a,emitSnap:l,emitItem:c}=s,d=()=>{const n=s.getCurModuleSlot();if(!n)return;const o=(null==t?void 0:t.seedModel)||new i.Al(e);if(o instanceof i.Bu&&(n.isTypeOfModule()||n.isTypeOfDefinedCom()))return;const r=l.start("向画布中添加组件"),a=n.template;if(a&&!a.coms&&a.asRoot){const e=n.comAry[0];if(e&&e.runtime.def.namespace===a.namespace&&e.slots.length>0){const t=c.add({seedModel:o,toComId:e.id,toSlotId:e.slots[0].id,state:"finish"},{indeed:!0});r.commit({target:t})}else r.cancel()}else{const e=c.add({seedModel:o,toSlotId:n.id,state:"finish"},{indeed:!0});r.commit({target:e})}},u=null===(r=null===(n=a.configs.geoView.nav)||void 0===n?void 0:n.comlibs)||void 0===r?void 0:r.onComClick;if("function"==typeof u){const t=u(e);"boolean"==typeof t&&t?d():"object"==typeof t&&"function"==typeof t.then&&t.then((e=>{"boolean"==typeof e&&e&&d()}))}else d()}function b(e,t,n){let o=(0,f.YP)();const{context:r,viewModel:s,emitMessage:d,emitItem:u,emitSnap:p}=o;if(0===s.slots.length)return;const h=s.style.zoom;let m,g,y,b=-1,v=null==n?void 0:n.seedModel;(0,a.zg)(t,(({po:{x:a,y:f},epo:{ex:x,ey:A},dpo:{dx:w,dy:E}},C)=>{var _,M;if(b){if(-1===b){if("start"==C)return o.showNavPanel=!1,v||(v=new i.Al(e)),m=t.target.cloneNode(!0),m.style.width=50,m.style.height=50,document.body.appendChild(m),o.curMovingCom=!0,y=s.findVisiblePopup(),void("function"==typeof(null==n?void 0:n.start)&&n.start());if("moving"==C){m.style.top=`${f+E}px`,m.style.left=`${a+w}px`;const e=x,t=A;if(g=(v.runtime.def.rtType,s.findSlotByPo({x:e,y:t,zoom:h},{},!0)),o.curHoverSlot=g,g){let e=!1;v instanceof i.Bu&&g.root.id===v.slotId&&(e=!0)}const n=v.runtime.model.style;let r;n.left=e*h,n.top=t*h,g&&g.parent&&(r=g.parent.id),u.add({seedModel:v,state:"ing",toComId:r,toSlot:null==g?void 0:g.id})}if("finish"==C){o.curMovingCom=void 0,document.body.removeChild(m);const t=null===(M=null===(_=r.configs.geoView.nav)||void 0===_?void 0:_.comlibs)||void 0===M?void 0:M.onComClick,a=!0,d=e=>{if(g&&v instanceof i.Bu){const e=g.root;if(g.isTypeOfDefinedCom()||e.isTypeOfDefinedCom())return;if(e.id===v.slotId)return}const t=x,o=A,r=g?(0,c.E9)(g.$el):{x:0,y:0},a=s.style.zoom,d=v.runtime.model.style;let f,h;d.left=Math.ceil((t-r.x)/a),d.top=Math.ceil((o-r.y)/a),(null==g?void 0:g.style.isLayoutAbsoluteOrSmart())&&(d.visibility="hidden"),g&&g.parent&&(f=g.parent.id),e&&(h=p.start("添加组件",{target:g}));const m=u.add({seedModel:v,state:e?"finish":"cancel",toComId:f,toSlotId:null==g?void 0:g.id},{noFocus:!0});if(Array.isArray(m)||m instanceof i.PQ){let e;m instanceof i.PQ?m instanceof l.sz?e=m:m.runtime instanceof i.JX&&(e=m.runtime.geo):[e]=m,e&&((null==n?void 0:n.onCompleted)&&n.onCompleted(e),e.isStyleLayoutAbsolute()?setTimeout((t=>{const n=e.$el,i=e.style;i.left=Math.ceil(d.left-n.offsetWidth/2),i.top=Math.ceil(d.top-n.offsetHeight/2),i.visibility="visible",u.focus(e),e.notifyEleChanged()})):u.focus(e)),h&&h.commit()}else console.warn("添加组件失败,coms数据结构异常",m),h&&h.cancel()};if(a)if("function"==typeof t){const n=t(e);"boolean"==typeof n&&n?d(!0):"object"==typeof n&&"function"==typeof n.then?n.then((e=>{d(!("boolean"!=typeof e||!e))})).catch((e=>{d(!1)})):d(!1)}else d(a);else d(a);o.curHoverSlot=void 0}}}else b=1,d.warn(`${e.title}已存在，不能重复添加`)}),{document:s.canvasWrapEle.ownerDocument})}},48712:(e,t,n)=>{"use strict";n.d(t,{D:()=>p,g:()=>u});var i=n(64012),o=n.n(i),r=n(3062),s=n(96966),a=n(91737),l=n(72433),c=n(16126),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function u({comLib:e}){const t=(0,i.useCallback)((e=>{e._toggle=!e._toggle}),[]),n=(0,l.yK)(),{context:c}=n.viewCtx,u=(0,i.useCallback)((e=>d(this,void 0,void 0,(function*(){if(!confirm(`确定要删除 ${e.title} 吗？`))return;const t=c.configs.comLibLoader,i=n.emitSnap.start("移除组件库");(yield t({cmd:"deleteComLib",libId:e.id,libNamespace:e.namespace,version:e.version}))?(c.removeComLib(e.id),i.commit()):i.cancel}))),[]);if(e.defined)return o().createElement("div",{className:`${r.A.comlib} ${n.showFloat?r.A.withFloat:null}`},o().createElement("div",{className:r.A.header,onClick:n=>t(e)},o().createElement("div",{className:r.A.title},e._toggle?s.FI.triangle_right:s.FI.triangle_down,o().createElement("span",{className:r.A.name},e.title))),o().createElement("div",{className:r.A.body,style:{display:e._toggle?"none":""}},o().createElement(p,{comLib:e,level:1})));{const i=e.latestComlib&&e.latestComlib.version!==e.version;return o().createElement("div",{className:`${r.A.comlib} ${n.showFloat?r.A.withFloat:null}`},o().createElement("div",{className:r.A.header,onClick:n=>t(e)},o().createElement("div",{className:r.A.title},e._toggle?s.FI.triangle_right:s.FI.triangle_down,o().createElement("span",{className:r.A.name},e.title),o().createElement("span",{className:r.A.version},"(",e.version,")")),o().createElement("div",{className:r.A.icons},o().createElement("span",{onClick:(0,a.Wj)((t=>u(e))).stop,"data-mybricks-tip":"删除组件库"},s.FI.garbage))),o().createElement("div",{className:r.A.body,style:{display:e._toggle?"none":""}},i?o().createElement("div",{className:r.A.upgrade,onClick:(0,a.Wj)((()=>function(e){return d(this,void 0,void 0,(function*(){const{viewCtx:t,emitMessage:n,emitLogs:i,emitSnap:o}=(0,l.yK)(),{context:r}=t,a=yield r.configs.comLibLoader({cmd:"upgradeComLib",libId:e.id,libNamespace:e.namespace,libVersion:e.version});if(a){function c(e){const t=o.start("更新组件库");(0,l.j0)(e),t.commit()}"string"==typeof a?(0,s.q4)(a).then(c):"object"==typeof a&&c(a)}else i.error("添加组件库失败."),n.error("添加组件库失败.")}))}(e))).stop},"（存在新版本 ",e.latestComlib.version,", 点击升级）"):null,o().createElement(p,{comLib:e,level:1})))}}function p({comLib:e,level:t}){const n=[];let s=[],u=[];const p=(0,l.yK)();if(e.comAray.forEach((n=>{if(!p.ifComEnable(n))return;let i;n.hasOwnProperty("comAray")?(n.version=e.version,n.id=e.id,i=(0,c.X$)(n,t)):i=(0,c.Ii)(e,n),i&&u.push(i)})),e.defined&&u.push(o().createElement("div",{key:"addDefined",onClick:(0,a.Wj)((()=>function(e){return d(this,void 0,void 0,(function*(){const t=(0,l.yK)().viewCtx.context.configs.comLibLoader,n=yield t({cmd:"addUICom",libId:e.id,libVersion:e.version});(0,l.Dy)(n)}))}(e))).stop,className:r.A.addDefined},"+")),u.length>0){let e=o().createElement("div",{key:"noCatalog",className:r.A.basicList},u);s.push(e)}return n.push({id:e.id,content:s}),n.map((({id:e,content:t},n)=>o().createElement(i.Fragment,{key:e},t)))}},72433:(e,t,n)=>{"use strict";n.d(t,{Dy:()=>l,j0:()=>c,nu:()=>r,s4:()=>a,yK:()=>s});var i=n(91716);let o;function r(e){o=e}function s(){return o}function a(e){return!1===e.visible||!e.comAray.some((e=>{if(e.hasOwnProperty("comAray"))return!a(e);const{enable:t,visibility:n}=e;return(void 0===t||!1!==t)&&((void 0===n||!1!==n)&&o.ifComEnable(e))}))}function l(e){const{viewCtx:t,emitMessage:n,emitLogs:i,libAry:r}=o,{context:s,removeDomsBySelector:a,addStyleAry:l}=t;if(s.comLibAry){const t=s.comLibAry.find((e=>{if(e.defined)return!0}));if(t&&(e.comAray&&e.comAray.forEach((e=>{if(t.comAray){t.comAray.find((t=>t.namespace===e.namespace))||t.comAray.push(e)}})),t.comAray)){const n=t.comAray.filter(((t,n)=>{if(e.comAray){const n=e.comAray.find((e=>e.namespace===t.namespace));if(n&&t.version!==n.version){for(let e in n)t[e]=n[e];t._upgrade=Math.random()}if(!n)return t._upgrade=Math.random(),!1}return!0}));n.length!==t.comAray.length&&t.comAray.splice(0,t.comAray.length,...n)}}}function c(e){const{viewCtx:t,emitMessage:n,emitLogs:r,emitItems:s,libAry:a}=o,{context:l,removeStylesByLibId:c,addStyleAry:d}=t,u=l.comLibAry.find((t=>t.id===e.id));if(u){if(e.version===u.version){const t=`已存在组件库 ${e.title}@${e.version}.`;return r.warn(t),void n.warn(t)}if((0,i.gz)(e.version,u.version)){c(u.id),d(e._styleAry,!0);const t=l.comLibAry.indexOf(u);l.comLibAry.splice(t,1,e);const p=e.comAray;a.find(((t,n)=>{t.id===u.id&&(o.activeLib=a[n]={id:e.id,title:e.title,version:e.version,latestComlib:e.latestComlib,comAray:p})}));let f=[];u.comAray.forEach((e=>{Array.isArray(e.comAray)?f=f.concat(e.comAray):f.push(e)}));let h=[];e.comAray.forEach((e=>{Array.isArray(e.comAray)?h=h.concat(e.comAray):h.push(e)}));const m=[];f.forEach(((e,t)=>{const n=h.find((t=>t.namespace===e.namespace));if(!n)return;const o=s.upgradeAllForDef(n);o&&m.push(`${e.title}(${e.namespace}) 更新了 ${Object.keys(o).length} 个组件.`);const r=(0,i.uR)();e._upgrade=n._upgrade=r})),m.length>0&&m.forEach((e=>{n.warn(e)})),r.info(`已将组件库 ${u.title} 更新到版本 ${e.version}.`),n.info(`已将组件库 ${u.title} 更新到版本 ${e.version}.`)}else r.error("当前存在更高版本的组件库."),n.error("当前存在更高版本的组件库.")}else l.comLibAry.push(e),o.activeLib=l.comLibAry[l.comLibAry.length-1],r.info(`已添加组件库 ${e.title}@${e.version}.`),n.info(`已添加组件库 ${e.title}@${e.version}.`)}},55127:(e,t,n)=>{"use strict";n.d(t,{vc:()=>i});const i={canvas:{type:"mobile",layout:"default",overflowY:"hidden"},canvasMobile:{height:736,width:414},canvasPC:{height:800,width:1024},canvasCustom:{height:400,width:750}}},24412:(e,t,n)=>{"use strict";n.d(t,{$5:()=>i,A9:()=>u,Ix:()=>l,Jv:()=>s,MM:()=>v,MS:()=>c,PN:()=>p,PP:()=>m,Q3:()=>g,RO:()=>o,_Q:()=>d,a4:()=>b,g3:()=>f,gE:()=>y,iS:()=>r,m5:()=>h});const i="data-as-root",o="data-com-id",r="_geoview-wrapper_",s="#FA6400",a="#5b6b73",l="geo",c="xg.desn.designer.stageview.",d="STYLENEW",u=":root",p=":_ext",f=":focus-mask",h=":child",m=414,g=667,y="_defined",b=e=>`\n  outline: 1px dashed ${a} !important;\n  outline-offset: -1px !important;\n  /* background: transparent; */\n  `,v=()=>`\n    position: absolute;\n    content:' ';\n    width: 100%;\n    height: 100%;\n    top: 0px !important;\n    left: 0px !important;\n    z-index: 10000 !important;\n    border: 1px dashed ${a} !important;\n    overflow: hidden !important;\n    pointer-events: auto !important;\n    clear: both;\n    box-sizing: border-box !important;\n    transform: none !important;\n    transition: none !important;\n    cursor: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNSIgaGVpZ2h0PSIzNSIgZmlsbD0ibm9uZSI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMTU1XzM4MTc1KSI+PHBhdGggZmlsbD0iIzkwRUU5MCIgc3Ryb2tlPSIjMDA4MDAwIiBkPSJtMTYuMTU4IDE1LjUyNi0uOTQ5LS4zMTYuMzE3Ljk0OCA0LjM4NyAxMy4xNjMuNDE2IDEuMjQ4LjUxOC0xLjIxIDIuNTg2LTYuMDQ0IDUuOTIyLTIuNDY2IDEuMjMzLS41MTQtMS4yNjctLjQyMi0xMy4xNjMtNC4zODdaIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMTU1XzM4MTc1IiB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIHg9Ii0yIiB5PSItMSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9ImhhcmRBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNCAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzExNTVfMzgxNzUiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTE1NV8zODE3NSIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=') 16 16, auto;\n    background: transparent;\n  `},3144:(e,t,n)=>{"use strict";n.d(t,{B8:()=>a,MX:()=>i,Us:()=>o,fI:()=>s,gb:()=>l});!function(){var e=/[\w-]+/g,t=/#[\w-]+/g,n=/\.[\w-]+/g,i=/\[[^\]]+\]/g,o=/\:(?!not)[\w-]+(\(.*\))?/g,r=/\:\:?(after|before|first-letter|first-line|selection)/g;function s(e){return[].slice.call(e)}function a(e){var t=e.media&&e.media.mediaText;return e.disabled||t&&t.length&&!window.matchMedia(t).matches?[]:s(e.cssRules)}function l(e,t){var n=e.match(t);return n?n.length:0}function c(s){for(var a,c,d=[0,0,0],u=s.split(" ");"string"==typeof(a=u.shift());)c=l(a,r),d[2]+=c,c&&(a=a.replace(r,"")),c=l(a,o),d[1]+=c,c&&(a=a.replace(o,"")),c=l(a,i),d[1]+=c,c&&(a=a.replace(i,"")),c=l(a,t),d[0]+=c,c&&(a=a.replace(t,"")),c=l(a,n),d[1]+=c,c&&(a=a.replace(n,"")),d[2]+=l(a,e);return parseInt(d.join(""),10)}function d(e,t){for(var n,i,o=t.split(","),r=0;n=o.shift();)u(e,n)&&(r=(i=c(n))>r?i:r);return r}function u(e,t){return(e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||e.msMatchesSelector).call(e,t)}}();function i(e){Object.keys(e).forEach((t=>{let n=e[t];n&&("number"==typeof n&&(n=""+n),["paddingTop","paddingBottom","paddingLeft","paddingRight","left","top","right","bottom","height","width"].includes(t)?n=n.match(/[0-9]+$/gi)?`${n}px`:n:"backgroundImage"===t?n=n.match(/^url\(/gi)?n:`url(${n})`:t.match(/(margin|padding)/gi)&&-1==n.indexOf("px")&&(n=n.split(",").map((e=>e+"px")).join(" ")),e[t]=n)}))}function o(e,t){return!(e.schema&&!e.isRoot())||!!t&&(!!("*"===t||Array.isArray(t)&&t.find((e=>"*"===e)))||!(e.schema&&!t||!e.schema&&t)&&e.schema.find((e=>{if("string"==typeof t){if(r(e,t))return!0}else if(Array.isArray(t))return t.find((t=>r(e,t)))})))}function r(e,t){if(!t)return!1;if("*"===t)return!0;if(e!=t){let n=e.indexOf("*");if(n>0&&(e=e.substring(0,n)),n=t.indexOf("*"),n>0&&(t=t.substring(0,n)),t.indexOf(e)<0)return!1}return!0}function s(e,t){const n=[];if(e&&(e=e.filter((e=>(void 0===e.visible||e.visible)&&e._visible)))){function i(e){e.find((e=>{const{namespace:o,version:s,schema:a,title:l,comAray:c}=e;Array.isArray(c)&&i(c),r(t,a)&&n.push({namespace:o,version:s,title:l,schema:a})}))}e.forEach((e=>{i(e.comAray)}))}return n.length>0?n:void 0}function a(e,t){return e.find((e=>{var n,i;return(null===(i=null===(n=e.runtime)||void 0===n?void 0:n.def)||void 0===i?void 0:i.namespace)===t||(Array.isArray(e.slots)?e.slots.find((e=>a(e.comAry,t))):void 0)}))}function l(e,t){const n=e.comAry.length;for(let i=0;i<n;i++){const n=e.comAry[0];t.delete(n),Array.isArray(n.slots)&&n.slots.forEach((e=>{l(e,t)}))}}},28261:(e,t,n)=>{"use strict";let i;function o(e){i=e}function r(){const{context:e,viewModel:t}=i;if(!e.configs.isTypeOfMPA()){return t.slots.map((e=>s(e)))}return{}}function s(e){const{context:t,viewModel:n}=i,o=e=>{if(e.comAry){const n=[];e.comAry.forEach((e=>{const i=e.runtime,r=i.def,s=i.model;let a;if(e.slots){a={};e.runtime.topl;e.slots.forEach((e=>{a[e.id]=o(e)}))}const l={id:i.id,name:e.name,title:i.title,namespace:r.namespace,version:r.version,style:s.style,data:s.data,slots:a},c=t.getComDef(r);if(c){const e=c.ai;if(e){const t=e["@toTemplateJSON"];"function"==typeof t&&(l.data=t({data:s.data}))}}n.push(l)}));const i=e.style.widthFact,r=e.style.heightFact,s=Object.assign({},e.style,{width:i,height:r});return{id:e.id,title:e.title,type:e.type,showType:e.showType,comAry:n,style:s}}};let r;return e&&(r=o(e)),r}n.d(t,{$N:()=>r,Ts:()=>o,s8:()=>s})},68400:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(34163);function r(e){return{exec(t,...n){const r=e();if("ui.addComs"===t)return function(e,t){const{context:n,viewModel:r,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d}=t;return new Promise(((t,n)=>{const i=[],o=e.data;if(Array.isArray(o))o.forEach((e=>{const t=u(e);t&&i.push(t)}));else{const e=u(o);e&&i.push(e)}i?t("已完成添加组件."):n("添加组件发生错误，请重新输入.")}));function u(e,t,p){const f=n.getComDef({namespace:e.type});if(!f)return!1;const h=new i.Al(f);s.add({seedModel:h,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==p?void 0:p.id},{noFocus:!0,indeed:!0});const m=r.searchCom(h.id);if(m){if(e.data&&"object"==typeof e.data){const t=e.data=Object.assign({},m.runtime.model.data,e.data);m.runtime.model.data=t}const t=f.ai;if(t&&"function"==typeof t["@create"])try{const i=(0,o.Q)({comId:m.id,context:n,model:m,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d},{def:e});t["@create"](i)}catch(e){console.error(e)}if(e.slots)for(let t in e.slots){const n=e.slots[t];Array.isArray(n)&&n.forEach((e=>{u(e,m,m.getSlot(t))}))}return`已添加组件${f.title}`}}}(n[0],r)}}}},99434:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(96966),o=n(50528),r=n(75856),s=n(3144),a=n(91716),l=n(35084),c=n(36348),d=n(91092),u=n(69548),p=n(61111);function f(e){const{viewModel:t,mover:n,emitItem:a,emitFrame:f,emitPermission:m,context:g,emitMessage:y,emitAI:b}=e;return{getCanvasElement(){const e=t.$el;if(e)return g.isDebugMode()?e.querySelector("[data-canvas='debug']"):e.children[0]},help(t){t instanceof o.s&&(0,u.A)(t,e)},getDocs(n){const i=t.searchCom(n);if(void 0!==i)return(0,c.A)(i,e)},exist:e=>void 0!==t.searchCom(e.id)?{id:e.id,result:!0,info:void 0}:{id:e.id,result:!1,info:`组件 ${e.title}(namespace=${e.def.namespace}) 在布局视图中不存在.`},add(r,l){if(!r||"object"!=typeof r)return;const{state:c,seedModel:u,toComId:f,toSlotId:m,json:v,deletable:x,isParasite:A,debugProxy:w}=r;if(!(u instanceof o.s)&&!(u instanceof i.JX)&&u.runtime.hasUI())if("ing"===c){const t=u.runtime.model.style;t&&n.show({x:t.left,y:t.top},u),t.isPositionAbsoluteOrFixed()||"popup"===u.runtime.def.rtType||h(u,e,n)}else{if("finish"===c){let r;if(n.hide(),f&&m){r=t.searchCom(f).getSlot(m)}r||(r=m?t.searchSlot(m):t.getMainModuleSlot());const c=r.root;try{u.init({cancel(){requestAnimationFrame((()=>{a.delete(h),a.focus(void 0)}))},viewSlot:c})}catch(e){console.error(e)}e.focusArtboard(c.id);const h=new o.s(u);g.isDesnModeOfBluePrint()&&(h.runtime.isBluePrint=!0),A&&(h.isParasite=!0),(null==l?void 0:l.withoutInit)&&(h.init=!0);const v=u.def;if(u instanceof i.Bu){h.runtime.title=u.title;const e=t.slots.find((e=>e.id===u.slotId));h.proxySlot=e}let x;const w=r===e.curHoverSlot;if((null==l?void 0:l.indeed)||w)if(null==l?void 0:l.indeed){if(!(0,s.Us)(r,v.schema))return void y.warn("组件类型不匹配");x=r.addComponent(h)}else{const t=e.placeholder;if(t&&void 0!==t.index){const e={insertOrder:t.index};if(t.y=void 0,t.index=void 0,!(0,s.Us)(r,v.schema))return void y.warn("组件类型不匹配");x=r.changeOrder(h,e.insertOrder)}else x=r.addComponent(h)}if(!x)return;const E=null==r?void 0:r.parent;if(E&&E instanceof o.s){const t=(0,d.kd)(i.W1.CHILD_ADD,E,h,r,e);"boolean"!=typeof t||t?(0,d.i4)(i.W1.PARENT_UPDATED,x,r,e):a.delete(x)}else(0,d.i4)(i.W1.PARENT_UPDATED,x,r,e);if(g.isDebugMode()||!x||l&&l.noFocus||requestAnimationFrame((e=>{x.notifyEleChanged(!0),a.focus(x,{noBlur:!0})})),h.isStyleLayoutAbsoluteOrFixed()){const e=h.style;void 0===e.left&&(e.left=0),void 0===e.top&&(e.top=0)}else h.style.reset();return(0,p.gI)(v)&&b.enable(),x}"cancel"===c&&(n.hide(),e.placeholder&&void 0!==e.placeholder.index&&(e.placeholder.y=void 0,e.placeholder.index=void 0))}},findFirstScopedSlot(e){var n;const i=t.searchCom(e);if(i){function o(e){if(e.slots){const t=e.slots.find((e=>e.isTypeOfScope()&&e.isVisible()?e:e.comAry?e.comAry.find((e=>o(e))):void 0));if(t)return{comId:e.id,slotId:t.id}}}const r=o(i);if(r)return r;{let s=i.parent;for(;s;){if(s.isTypeOfScope())return{comId:s.parent.id,slotId:s.id};s=null===(n=s.parent)||void 0===n?void 0:n.parent}}}},addSlot:({comId:e,id:n,title:i,type:o,schema:r,inputs:s,outputs:a})=>(t.searchCom(e).addSlot({id:n,title:i,schema:r,type:o}),!0),setSlotTitle(e,n,i){const o=t.searchCom(e).getSlot(n);if(o)return o.title=i,!0},removeSlot(e,n){const i=t.searchCom(e),o=i.getSlot(n);return o&&o.comAry&&o.comAry.forEach((e=>{a.delete(e)})),i.removeSlot(n),!0},getFocus(){const e=g.focusModelAry;if(e){const t=e.find((e=>e instanceof o.s));if(t)return t.runtime}},reFocus(){e.showNavPanel=!1},focus(t,n){if(e.clearPops(),t){if(t instanceof o.s){const n=t.root.id;return void e.focusArtboard(n)}}else g.blur()},focusFork(e){if(!e)return;const n=g.getComDef(e.runtime.def),{rtType:i}=n;if(i&&null===i.match(/react|vue/gi))return!1;if(e instanceof o.s)return t.state.disable(),!1;if(t.state.enable(),g.isDebugMode())return!1;let r=t.searchCom(e.id);return r?(setTimeout((()=>{const e=r.$el,t=g.model.mainModule.slot,n=t.scrollEle,i=e.getBoundingClientRect(),o=n.getBoundingClientRect();(o.height<i.y||i.y<o.y)&&(i.height>o.height?n.scrollTop=t.style.top+i.y-o.y-100:n.scrollTop=t.style.top+(i.top-o.height/2+i.height/2))})),a.focus(r),!0):void 0},hover(n,s){if(g.isDebugMode())return;if(!n||null==n)return void(e.hoverModel=void 0);if(n instanceof r.A)return void(e.hoverModel={model:n,type:"slot",opts:s});let a;if(n instanceof o.s)a=n;else if(n instanceof i.PQ){const e=n.id;a=t.searchCom(e)}if(a)if(e.activePlugin&&"plugin"===a._for){const e=g.getPluginOn("hover");e&&e.forEach((e=>e(a)))}else a instanceof o.s&&(!s&&e.hoverModel&&e.hoverModel.model.id===a.id||(e.hoverModel={model:a,opts:s}))},sayHi(e,n){if(g.isDebugMode()||"geoView"===n)return;const i=t.searchCom(e);i&&i.sayHi((()=>{}))},move(i,r,s,a){if("ing"===r&&t.state.editing(),"finish"===r&&t.state.editingRecover(),i instanceof o.s){const t=e.curHoverSlot;if("ing"==r)e.curMovingCom=i,s&&n.show(s,i),e.placeholder.type="none",(null==t?void 0:t.style.isLayoutOfFlex())&&h(i,e,n,!0);else if("finish"==r&&(e.curMovingCom=void 0,n.hide(),e.placeholder)){const t={insertOrder:e.placeholder.index};return e.placeholder.y=void 0,e.placeholder.index=void 0,t}}},upwards(e,t){if(e instanceof o.s)return e.parent.upwards(e,t)},downwards(e,t){if(e instanceof o.s)return e.parent.downwards(e,t)},changeOrder(e,n){const i=t.searchCom(e.id);i.parent.changeOrder(i,n)},cutToSlot:(n,o,r,s)=>{var a;const l=t.searchCom(n),c=void 0!==s&&s;if(!l)return;let u,p=null===(a=l.parent)||void 0===a?void 0:a.parent;if(p&&(u=(0,d.kd)(i.W1.CHILD_REMOVE,p,l,l.parent,e)),"boolean"!=typeof u||u){function h(e,t){var n;e.runtime.def.namespace!==i.ZD.coms.definedCom&&(t.isRoot()||t.isTypeOfScope())&&(null===(n=e.slots)||void 0===n?void 0:n.length)>0&&e.slots.forEach((e=>{e.isTypeOfScope()||e.comAry.forEach((e=>{const n=t.parent;f.cutComToMe(e.id,null==n?void 0:n.id,t.id),h(e,t)}))}))}if(null==o){const m=e.getCurModuleSlot();m.cutIn(l,c),(0,d.i4)(i.W1.PARENT_UPDATED,l,m,e),h(l,m)}else{const g=t.searchCom(o),y=g.getSlot(r);let b=(0,d.kd)(i.W1.CHILD_ADD,g,l,y,e);if("boolean"!=typeof b||b){g.cutIn(l,r,c),(0,d.i4)(i.W1.PARENT_UPDATED,l,y,e);let v=y;for(;v&&!v.isTypeOfScope()&&!v.isRoot();)v.parent&&(v=v.parent.parent);v&&h(l,v)}}}},paste:t=>(0,l.I)(t,e),delete:n=>{var r;if(!n.runtime||!n.runtime.hasUI()||n.forkedFrom)return;const s=t.searchCom(n.id);if(!s)return!1;if(n instanceof o.s){let o,l=null===(r=n.parent)||void 0===r?void 0:r.parent;if(l&&(o=(0,d.kd)(i.W1.CHILD_REMOVE,l,n,n.parent,e)),void 0===o||o){const o=n.runtime.def.namespace;if(o!==i.ZD.coms.definedCom&&s.slots)for(;s.slots.length;){const e=s.slots[0];a.removeSlot(s.id,e.id)}if(!s.parent.delete(s)){t.searchComParentSlot(s.id).delete(s)}if(e.activePlugin){const e=g.getPluginOn("delete");e&&e.forEach((e=>e({id:n.id,def:{namespace:o}})))}return m.removeByModelId(n.id),n.destroy(),!0}}}}}function h(e,t,n,o){const{viewModel:r,placeholder:s,context:l,getCurModuleSlot:c}=t,d=c(),u=t.curHoverSlot;if(!u)return void(s.type="none");if(o){if(e.root.id!==u.root.id)return void(s.type="none")}if(e instanceof i.Bu&&e.slotId===u.root.id)return void(s.type="none");if(l.isDesnModeOfBluePrint()&&u.parent&&!u.parent.runtime.isBluePrint)return s.type="none",void(s.index=void 0);if(u&&u.style.isLayoutAbsoluteOrSmart())return s.type="none",void(s.index=void 0);const p=u||e.parent||d,f=p.$el,h=r.style.zoom,m=r.canvasWrapEle,g=(0,a.E9)(m),y={width:30,height:30,top:n.y-g.y,left:n.x-g.x};let b,v;if(e.parent?(b={x:y.left,y:y.top},v={w:y.width,h:y.height}):(b={x:y.left/h,y:y.top/h},v={w:y.width/h,h:y.height/h}),u&&u.style.isLayoutAbsoluteOrSmart())return void(s.index=void 0);const x=(0,a.E9)(f,m);n.container={left:x.x,top:x.y,width:x.w*h,height:x.h*h};const A=p.comAry.filter((e=>!e.runtime.isTemp));if(p.style.isLayoutOfFlexRow()){s.type="v",s.x=x.x,s.y=x.y,s.w=10,s.h=f.offsetHeight*h,s.index=void 0;A.find(((e,t)=>{let n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed()){const e=(0,a.E9)(n,m);if(e.x+n.offsetWidth/2>b.x)return s.index=t,s.x=e.x,!0}}))||(A.slice().reverse().find(((e,t)=>{let n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed())return s.x=(0,a.E9)(n,m).x+n.clientWidth*h,!0})),s.index=A.length)}else{let e=f.offsetWidth;s.type="h",s.x=x.x,s.h=10,s.w=e*h,s.index=void 0,(A.length<=0||!A[0].asFirst)&&(s.y=x.y);if(!A.find(((e,t)=>{const n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed()){const i=(0,a.E9)(n,m);if(!e.asFirst&&i.y+n.offsetHeight/2>b.y)return s.index=t,s.x=x.x,s.y=i.y,!0}}))){const e=A.length;let t=A.length;A.slice().reverse().find(((n,i)=>{0===i?n.asFirst&&(t=1):n.asLast||(t=e-i);let o=n.$el;if(!n.asLast&&o&&!n.style.isPositionAbsoluteOrFixed())return s.x=x.x,s.y=(0,a.E9)(o,m).y+o.clientHeight*h,!0})),s.index=t}}}},47279:(e,t,n)=>{"use strict";function i(e){return{getUIComDefTree(t,n){const{viewModel:i,context:o,emitItem:r}=e();let s,a;if(n?(a=i.searchCom(n),s=a.getSlot(t)):s=i.searchSlot(t),s){const e=t=>{if(t&&(a&&!t.isTypeOfDefinedCom()||!a)){const n=[];return t.comAry.forEach((t=>{const i=o.getComDef(t.runtime.def),s={id:t.id,title:t.runtime.title,def:i,isVisible:t.isVisible(),hover(){t.$el&&r.hover(t)},hoverLeave(){t.$el&&r.hover(null)},slots:[]};n.push(s),t.slots&&t.slots.forEach((t=>{t.isTypeOfScope()||s.slots.push({id:t.id,title:t.title,coms:e(t)||[]})}))})),n}};return e(s)}},delete(t){const n=e(),{viewModel:i,emitItem:o,emitSnap:r,focusArtboard:s}=n,a=i.getSlot(t);if(a)try{o.delete(a),i.deleteSlot(t)}catch(e){}return!0}}}n.d(t,{N:()=>i})},36348:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(5430),o=n(64012),r=n.n(o);function s(e,t){const{context:n}=t;if(n.getComDef(e.runtime.def)){let t;return t=e.slots?e.slots.map((e=>r().createElement("div",{key:e.id,className:i.A.slot},e.title,r().createElement("div",{className:i.A.borders},r().createElement("div",{className:i.A.slotT}),r().createElement("div",{className:i.A.slotR}),r().createElement("div",{className:i.A.slotB}),r().createElement("div",{className:i.A.slotL}))))):r().createElement("div",{className:i.A.empty},"[无]"),r().createElement("div",{className:i.A.info},r().createElement("div",{className:i.A.tt},"插槽"),t)}}},35084:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var i=n(50528),o=n(96966),r=n(91092),s=n(75856),a=n(91716),l=n(61111),c=n(91737);function d(e,t){const{viewModel:n,getCurModuleSlot:d,emitItem:u,context:p}=t,{from:f,rt:h,_type_:m}=e;return new Promise((e=>{const g=d();if(h){function y(e,l){var d;const h=e.geo;if(h){const e=g.searchCom(f);let m;const y=p.focusModel;if(y&&(y instanceof i.s&&y!==e?(null===(d=y.slots)||void 0===d?void 0:d.length)>0&&y.slots.find(((e,t)=>{if(e.isVisible())return m=e,!0})):y instanceof s.A&&(m=y)),!m){const t=null==e?void 0:e.parent;m=t&&t.root===g.root?t:g||n.slots[0]}const b=m.addComponent(h);if(e&&m===e.parent){const t=m.parent;if(t&&t instanceof i.s){const n=t.runtime.model.style,i=n.getStyleAryByPrefix(`.${e.id}`);i&&i.forEach((t=>{const{selector:i,css:o,global:r,withParentComId:s}=t,a=i.substring(e.id.length+2),l=`.${b.id} ${a}`;n.addStyle(l,(0,c.o8)(o),r,s)}))}}const v=e=>{if(e.proxySlot){const t=e.proxySlot.slotId;if(t){const i=n.searchSlot(t);e.proxySlot=i||void 0}else e.proxySlot=void 0}e.slots&&e.slots.forEach((e=>{e.comAry.forEach((t=>{e.isTypeOfScope(),v(t)}))}))};v(h);const x=b.style;if(x.clearPosition(),x.reset(),m.style.isLayoutAbsoluteOrSmart())if(e&&e.parent===m){const[e,t]=(0,a.cY)(20,30);x.left=(x.left||0)+e,x.top=(x.top||0)+t}else{const e=Math.min(m.style.widthFact/2,m.style.heightFact/2),[t,n]=(0,a.cY)(Math.ceil(e/2),e);x.left=t,x.top=n}requestAnimationFrame((e=>{const n=null==m?void 0:m.parent;if(n){const e=(0,r.kd)(o.W1.CHILD_ADD,n,h,m,t);"boolean"!=typeof e||e?(0,r.i4)(o.W1.PARENT_UPDATED,h,m,t):u.delete(h)}else(0,r.i4)(o.W1.PARENT_UPDATED,h,m,t);return l&&u.focus(b),b.notifyEleChanged(!0),b}))}else;}"geoComAry"===m?(h.forEach((e=>{y(e)})),setTimeout((e=>{u.focus(void 0),(0,l.zq)(t,h.map((e=>e.geo)))})),e(g)):"geoCom"===m&&(y(h,!0),e(g))}e(g)}))}},86392:(e,t,n)=>{"use strict";function i(e){return{setTitle(t,n,i){if("geoView"!==i){const i=e(),{context:o,viewModel:r}=i,s=r.searchSlot(t);s&&(s.title=n)}},setCurHostId(t){e().setCurHostId(t)},switch(t){const n=e(),{context:i,viewModel:o,focusArtboard:r}=n;if(t){if(i.isDesnMode()&&o.curArtboardId!==t){n.viewModel.searchSlot(t)&&(r(t),setTimeout(n.anchor))}}else r(t)},getAll(){const t=e(),{viewModel:n}=t;return n.slots},debug(t,n,i,o){const r=e(),s=r.viewModel.getSlot(t),a=r.getCurModuleSlot();s&&!s._debugF&&("popup"!==s.showType&&r.emitScenes.close(a.id),s._debugF=!0,s._debugParams=n,s._debugOpenType=i,r.focusArtboard(t))},close(t){const n=e(),{context:i,viewModel:o}=n,r=o.slots;if(r.length>0){const e=r.find((e=>e.id===t));if(e){e.close();o.curArtboardId===e.id&&requestAnimationFrame((e=>{o.curArtboardId=void 0}))}}},delete(t){const n=e(),{viewModel:i,emitItem:o,emitSnap:r,focusArtboard:s}=n;i.deleteSlot(t)}}}n.d(t,{A:()=>i})},69548:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(37954),o=n(64012);function r(e,t){const{context:n,emitViews:i}=t,r=n.getComDef(e.runtime.def);i.popView(r.title,(n=>o.createElement(s,{model:e,gvCtx:t})),{width:400,onClose(){e.state.helpingRecover()}})}function s({model:e,gvCtx:t}){const{context:n,emitItem:r}=t,s=n.getComDef(e.runtime.def),a=r.getDocs(e.id);let l;return a&&(l=a.map(((e,t)=>o.createElement("div",{key:t,style:{borderTop:"1px solid #EEE",paddingTop:10}},e)))),o.createElement("div",{className:i.A.comDocs},o.createElement("div",{className:i.A.item,style:{borderBottom:"1px solid #EEE",paddingBottom:10}},o.createElement("label",null,"ID:")," ",e.id),o.createElement("div",{className:i.A.item},o.createElement("label",null,"作者:")," ",s.author),o.createElement("div",{className:i.A.item},o.createElement("label",null,"版本:")," ",e.runtime.def.version),o.createElement("div",{className:i.A.item},o.createElement("label",null,"namespace:")," ",e.runtime.def.namespace),l)}},91092:(e,t,n)=>{"use strict";function i(e,t,n,i){var o;const{context:r,emitIOCAbout:s,emitItem:a,emitSnap:l,emitMessage:c}=i,d=r.getComDef(t.runtime.def);let u;if(d&&d.editors){const i=d.editors.view||d.editors;if(i){const d=i[e];d&&(u=d({id:t.id,get data(){return t.data},get inputs(){return s.getInputEditor(t.id)},get outputs(){return s.getOutputEditor(t.id)},get parent(){var e;const n=null===(e=t.parent)||void 0===e?void 0:e.parent;if(n){const e=r.getComDef(n.runtime.def),t=e.editors.view||e.editors;if(t)return new Proxy({},{get(e,i){if("string"==typeof i&&i.startsWith("@")){const e=t[i];if("function"==typeof e)return function(){const t={data:n.data,get inputs(){return s.getInputEditor(n.id)},get outputs(){return s.getOutputEditor(n.id)},get slots(){return n.getSlotEditor({emitItem:a,context:r,emitSnap:l,emitIOCAbout:s,emitMessage:c})}};return e(t,...arguments)}}}})}}},{title:n.title,schema:null===(o=n.schema)||void 0===o?void 0:o[0]}))}}return u}function o(e,t,n,i,o){const{context:r,emitIOCAbout:s,emitItem:a,emitSnap:l,emitMessage:c}=o,d=r.getComDef(t.runtime.def);let u;if(d&&d.editors){const o=d.editors.view||d.editors;if(o){const d=o[e];if(d)try{u=d({get def(){const e=r.getComDef(n.runtime.def);return{namespace:e.namespace,title:e.title,schema:e.schema}},get data(){return t.data},get children(){return{get(e){const t=i.comAry.find((t=>t.id===e));if(t){const e=r.getComDef(t.runtime.def),i=e.editors.view||e.editors;if(i)return new Proxy({},{get(e,t){if("string"==typeof t&&t.startsWith("@")){const e=i[t];if("function"==typeof e)return()=>e({data:n.data})}}})}}}},get inputs(){return r.configs.toplView?s.getInputEditor(t.id):{get:()=>({setSchema(){}})}},get outputs(){return r.configs.toplView?s.getOutputEditor(t.id):{get:()=>({setSchema(){}})}},get input(){return s.getInputEditor(t.id)},get output(){return s.getOutputEditor(t.id)},get slots(){return r.configs.toplView?t.getSlotEditor({emitItem:a,context:r,emitSnap:l,emitIOCAbout:s,emitMessage:c}):{get:()=>({inputs:{get:()=>({setSchema(){}})}})}}},{id:n.id,name:n.name,title:n.runtime.title,get data(){return n.data},get inputDefs(){return r.getComDef(n.runtime.def).inputs},get outputDefs(){return r.getComDef(n.runtime.def).outputs},get dom(){return n.$el}},{id:i.id})}catch(e){console.error(e),u=void 0}}}return u}n.d(t,{i4:()=>i,kd:()=>o})},15567:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(40682);function o(e){return{zoomIn(){const t=e();(0,i.n)(t)},zoomOut(){const t=e();(0,i.k)(t)}}}},56845:(e,t,n)=>{"use strict";n.d(t,{$N:()=>u.$N,$P:()=>d.A,AH:()=>f.AH,GJ:()=>a.A,QY:()=>p.Q,Us:()=>l.Us,cX:()=>o.c,sz:()=>s.s,tf:()=>c.A,u_:()=>r.A,zC:()=>i.Ay});var i=n(50363),o=n(95947),r=n(42772),s=n(50528),a=n(75856),l=n(3144),c=n(57039),d=n(77645),u=n(28261),p=n(34163),f=n(16126);n(70954)},70954:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});n(96966);let i;function o(e){i=e}},50783:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91737);class o{constructor(){this.width=220,this.navHeight=120,this.placeholder={}}focusItem(e){setTimeout((t=>{const n=(0,i.E9)(e._ele,this.itemsEle),o=this.bodyEle.offsetHeight,r=this.bodyEle.offsetWidth;n.y>this.bodyEle.scrollTop+o?this.bodyEle.scrollTop=n.y-o+100:n.y<o&&(this.bodyEle.scrollTop=n.y-30),n.x>this.bodyEle.scrollLeft+r?this.bodyEle.scrollLeft=n.x-r+100:n.x<r&&(this.bodyEle.scrollLeft=n.x-30)}))}get pageMetaModel(){return this.geoViewContext.context.pageMetaModel}hasScene(e){const{viewModel:t}=this.geoViewContext;if(t.slots.some((t=>t.id==e)))return!0}newScene(e){this.pageMetaModel&&this.pageMetaModel.addPage(e)}getModuleAry(){var e;if(!this.pageMetaModel){const t=null===(e=this.geoViewContext.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(e.isTypeOfModule())return{id:e.id,title:e.title}})).filter((e=>e)):[]}}getPageAry(){return this.pageMetaModel.getPageAry()}getSceneAry(e){var t;if(this.pageMetaModel)return this.getPageAry();{const n=null===(t=this.geoViewContext.viewModel)||void 0===t?void 0:t.slots;return n?n.map((t=>{if(e||!t.isTypeOfDefinedCom()&&!t.isTypeOfModule()){let e;return e=t.isShowTypeOfPopup()?"popup":t.isTypeOfModule()?"module":"scene",{id:t.id,title:t.title,type:e}}})).filter((e=>e)):[]}}}},55569:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(64012),o=n.n(i),r=n(91716),s=n(91737),a=n(6109),l=n(77050),c=n(50783),d=n(5222),u=n(62253);let p;function f(){const e=(0,s.lB)(l.A,{from:"parents"}),{context:t,getCurModuleSlot:n}=e;return p=(0,s.J2)(c.A,(t=>{t({comNodeMap:{},geoViewContext:e})})),o().createElement("div",{className:`${a.A.view} ${p.isDragging?a.A.dragging:""}`,style:{width:p.width},ref:e=>e&&(p.viewEle=e),onClick:e=>{t.exeBlurFns()}},o().createElement("div",{className:a.A.body,ref:e=>e&&(p.bodyEle=e)},o().createElement(d.A,{ctx:p}),o().createElement(u.A,{ctx:p})),o().createElement("div",{className:a.A.sperV,onMouseDown:e=>function(e){let{x:t,y:n,w:i,h:o}=(0,r.E9)(p.viewEle);(0,s.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:o},dpo:{dx:r,dy:s}},a)=>{"moving"==a&&(p.width=Math.max(i+=r,220))}))}(e)},o().createElement("div",null)))}},41075:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(1755),o=n(64012),r=n.n(o);function s({myCtx:e}){const{placeholder:t}=e;return t&&r().createElement("div",{className:`${i.A.placeholder} ${t.emptySlot?i.A.coverSlot:""}`,style:{display:""+(void 0!==t.y?"block":"none"),top:t.y||0,left:t.x||0,height:t.emptySlot?22:3}})}},62253:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(64012),o=n.n(i),r=n(91716),s=n(41075),a=n(96966),l=n(56845),c=n(91737),d=n(9733),u=n(96279),p=n(77050),f=n(50783);let h;function m({rootCom:e,ctx:t}){if(t)h=t;else{const e=(0,c.lB)(p.A,{from:"parents"});h=(0,c.J2)(f.A,(t=>{t({comNodeMap:{},geoViewContext:e})}))}const{getCurModuleSlot:n,context:i}=h.geoViewContext;let r;return e?(h.curSlotAry=e.slots,o().createElement("div",{className:`${d.A.view} ${h.isDragging?d.A.dragging:""}`},o().createElement("div",{className:d.A.body,ref:e=>e&&(h.bodyEle=e)},o().createElement("div",{className:d.A.items,ref:e=>e&&(h.itemsEle=e)},o().createElement("div",{className:d.A.zoneAbsolute}),o().createElement("div",{ref:e=>e&&(h.normalItemsEle=e)},o().createElement(y,{com:e,idx:0})))),o().createElement(s.A,{myCtx:h}))):(r=n(),r&&!r._closed?(h.curSlotAry=[r],o().createElement(o().Fragment,null,i.configs.isTypeOfMPA()?o().createElement("div",{className:d.A.sceneTitle},"（",r.title,"）"):null,o().createElement("div",{className:`${d.A.view} ${h.isDragging?d.A.dragging:""}`},o().createElement("div",{className:d.A.body,ref:e=>e&&(h.bodyEle=e)},r.comAry.length>0?o().createElement("div",{className:d.A.items,ref:e=>e&&(h.itemsEle=e)},o().createElement(g,{slot:r,asRoot:!0})):o().createElement("div",{className:d.A.empty},"组件为空")),o().createElement(s.A,{myCtx:h})))):void 0)}function g({slot:e,asRoot:t}){const n=e.comAry;return t?o().createElement(o().Fragment,null,o().createElement("div",{className:d.A.zonePops},n.filter((e=>e.isPopup)).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t})))),o().createElement("div",{className:d.A.zoneAbsolute},n.filter((e=>!e.isPopup&&e.isStyleLayoutFixed())).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t})))),o().createElement("div",{ref:e=>e&&(h.normalItemsEle=e)},n.filter((e=>!e.isPopup&&!e.isStyleLayoutFixed())).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t}))))):o().createElement(o().Fragment,null,n.map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t}))))}function y({com:e}){var t;const{geoViewContext:n}=h,{emitItem:s,emitSnap:u,emitMessage:p,context:f}=n,m=e.runtime,g=m.def,y=n.context.getComDef(g),v=m.isBluePrint,x=!e.isPopup&&e.isStyleLayoutFixed(),A=g.namespace===a.ZD.coms.module,w=e.style.isVisible(),E=e.state.isFocused(),C=null===(t=m.upgrade)||void 0===t?void 0:t.info,_=w&&(!v||f.isDesnModeOfBluePrint()),M=!e.locked&&y,I=(0,i.useCallback)((t=>{s.hover(e)}),[_]),k=(0,i.useCallback)((e=>{s.hover(null)}),[_]),P=(0,i.useCallback)((t=>{e.focusArea=void 0,requestAnimationFrame((()=>{s.focus(e,{noBlur:!0})}))}),[w]),F=(0,i.useCallback)((()=>{const t=e.style;if(!t.isVisible()){const n=u.start("设置组件可见",{target:e});t.display="block",t.visibleOnce&&(t.visibleOnce=void 0),n.commit(),p.info("组件已设置为运行时可见.")}}),[]),S=(0,i.useCallback)((()=>{const t=u.start("unlock com",{target:e});e.locked=void 0,t.commit(),p.info("组件已解除锁定.")}),[]);if(n.context.isDesnModeOfBluePrint()&&!v)return;let T,O,D;(null==y?void 0:y.icon)?T=/^(https:|data:image)/.test(y.icon)?o().createElement("img",{className:d.A.comIcon,src:y.icon}):o().createElement("div",{className:d.A.comIcon},o().createElement("span",null,m.title.substring(0,1))):A&&(T=o().createElement("div",{className:d.A.comIcon},a.FI.Module)),M&&(O=e.isPopup?t=>function(e,t){const{geoViewContext:n,placeholder:i}=h,{viewModel:o}=n;let s,a;(0,c.zg)(e,(({po:{x:e,y:n},epo:{ex:l,ey:c},dpo:{dx:d,dy:u}},p)=>{if("start"==p){h.isDragging=!0;const e=o.slots[0].comAry;s=e.filter((e=>e.isPopup))}"moving"==p&&(a=void 0,s.find(((e,t)=>{const n=e,o=e.__ele__;if(o){const e=(0,r.E9)(o),s=o.offsetHeight;if(c>=e.y&&c<e.y+s/2?a={slot:n.parent,index:t,x:e.x,y:e.y-2,w:e.w,h:e.h}:c>=e.y+s/2&&c<=e.y+e.h&&(a={slot:n.parent,index:t+1,x:e.x,y:e.y+e.h,w:e.w,h:e.h}),a)return i.x=a.x,i.y=a.y,i.slot=a.slot,i.emptySlot=a.emptySlot,!0}}))),"finish"==p&&(h.isDragging=void 0,i.slot=void 0,i.y=void 0,a&&t.parent.changeOrder(t,a.index))}))}(t,e):t=>function(e,t){const{geoViewContext:n,bodyEle:i,itemsEle:o,normalItemsEle:s,placeholder:a}=h,{emitItem:d,emitMessage:u,viewModel:p,context:f,emitSnap:m}=n,{getComDef:g}=f,y=p.slots[0].comAry,b=t.__ele__,v=t;let x,A,w,E;(0,c.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:c},dpo:{dx:f,dy:C}},_)=>{var M;if("start"==_&&(h.isDragging=!0,b.style.opacity="0.3",x=(0,r.E9)(o),A=(0,r.E9)(i),E=(0,r.E9)(s)),"moving"==_&&(n<A.x&&(i.scrollLeft-=10),n>A.x+A.w&&(i.scrollLeft+=10),c<A.y&&(i.scrollTop-=10),c>A.y+A.h&&(i.scrollTop+=10),c<x.y?(w={slot:v.root,y:-1},a.x=x.x,a.y=x.y,a.emptySlot=!1):c>x.y+x.h?(w={slot:v.root,y:1/0},a.x=x.x,a.y=x.y+x.h-1,a.emptySlot=!1):(w=function(e){const t=(n,i)=>{let o;const s=n.comAry;if(s&&s.find(((n,i)=>{const s=n,a=n.__ele__;if(a&&!n.isPopup){const t=(0,r.E9)(a),n=a.offsetHeight;if(e>=t.y&&e<=t.y+n/2)return o={slot:s.parent,index:i,x:t.x,y:t.y,w:t.w,h:t.h},o;if(e>=t.y+n/2&&e<=t.y+t.h)return o={slot:s.parent,index:i+1,x:t.x,y:t.y+t.h,w:t.w,h:t.h},o}if(n.slots&&n.slots.find(((i,s)=>{const a=i.__ele__,l=a.nextSibling,c=(0,r.E9)(a),d=(0,r.E9)(l),u=a.offsetHeight+d.h;if(e>c.y&&e<c.y+u){if(o=t(i),!o){const t=i.comAry.length;o=0===t?Object.assign({slot:i,index:0,emptySlot:!0,item:n},c):e<d.y||d.y-e<2?{slot:i,index:0,item:n,x:d.x,y:d.y}:{slot:i,index:t,item:n,x:d.x,y:c.y+u-2}}return!0}})))return o})),!o&&i){const t=(0,r.E9)(h.normalItemsEle);e<=t.y&&(o={slot:n,index:0,x:t.x,y:t.y-2})}return o};if(h.curSlotAry){let e;return h.curSlotAry.find((n=>(e=t(n,!0),e))),e}}(c),w?(a.x=w.x,a.y=w.y,a.slot=w.slot,a.emptySlot=w.emptySlot):0===s.childNodes.length&&(w={slot:p,emptySlot:!0,index:0,x:E.x,y:E.y-2,w:E.w,h:E.h},a.x=w.x,a.y=w.y,a.emptySlot=w.emptySlot))),"finish"==_){if(h.isDragging=void 0,b.style.opacity="1",a.slot=void 0,a.y=void 0,!w)return;let e;if(-1===w.y)d.cutToSlot(v.id,void 0,v.parent.id,0),e=!0;else if(w.y===1/0)d.cutToSlot(v.id,void 0,v.parent.id,y.length),e=!0;else{const t=w.slot;if(function(e,t){if(e.parent===t)return!1;function n(e){return!!e.slots&&e.slots.find((e=>e===t||(e.comAry?e.comAry.find((e=>n(e))):void 0)))}return!n(e)}(v,t)){const n=g(v.runtime.def);if(!(0,l.Us)(t,n.schema))return void u.warn("组件类型不匹配");t.style.isLayoutAbsoluteOrSmart()&&(v.style.top=30,v.style.left=30);const i=m.start("move com",{target:t});d.cutToSlot(v.id,null===(M=t.parent)||void 0===M?void 0:M.id,t.id,w.index),i.commit(),e=!0}else if(v.parent.id===t.id){const t=m.start("move com",{target:v.parent});v.parent.changeOrder(v,w.index),t.commit(),e=!0}}e&&v.notifyEleChanged(!0)}}))}(t,e)),y?e.errorMsg&&(D=e.errorMsg):D="（未定义）";const N=o().createElement("div",Object.assign({ref:t=>t&&!e.isPopup&&(e.__ele__=t),className:`${d.A.item} ${v?d.A.blueprint:""}\n          ${E?d.A.active:""} ${A?d.A.module:""}\n          ${w?"":d.A.hidden} ${!M&&E?d.A.noMovable:""}\n          ${e._errorMsg?d.A.error:""}\n        `},_?{"data-handlable":!0}:{},{onClick:(0,c.Wj)(P).stop,onMouseDown:(0,c.Wj)(O).stop,onMouseEnter:I,onMouseLeave:k}),T,o().createElement("div",{className:d.A.comItemContent},o().createElement("div",{className:`${d.A.comName}`},m.title,C&&o().createElement("span",null,a.FI.circle),D?o().createElement("span",{className:d.A.noDef},D):null),o().createElement("div",{className:d.A.icons},x&&o().createElement("span",null,a.FI.positionFixed),e.locked&&o().createElement("span",{onClick:(0,c.Wj)(S).stop,"data-mybricks-tip":"{content:'解锁'}"},a.FI.lock),!w&&o().createElement("span",{onClick:(0,c.Wj)(F).stop,"data-mybricks-tip":"{content:'显示该组件'}"},a.FI.eyeClosed))));let j;return e.slots&&(j=o().createElement("div",{className:`${d.A.items} ${v?d.A.blueprintItems:""}`},o().createElement(b,{slots:e.slots,comClick:P}))),e.isPopup?o().createElement("div",{className:`${e.isPopup?d.A.popup:""}`,onClick:P,ref:t=>t&&(e.__ele__=t)},N,j):j?o().createElement(o().Fragment,null,N,j):N}function b({slots:e,comClick:t}){const n=h.placeholder;return e.map((e=>o().createElement(i.Fragment,{key:e.id},o().createElement("div",{ref:t=>t&&(e.__ele__=t),className:`${d.A.item} ${d.A.slot} ${(null==n?void 0:n.slot)===e?d.A.placeholder:""}`,onClick:(0,c.Wj)((()=>{e.__fold__=!e.__fold__})).stop},o().createElement("div",{className:`${d.A.icon} ${e.comAry.length<=0?d.A.iconHidden:""}`},e.__fold__?u.Z.ArrowRight:u.Z.ArrowDown),o().createElement("span",{className:`${d.A.comName} ${d.A.slotName}`},e.title,"(",e.id,")")),o().createElement("div",{className:`${d.A.items} ${d.A.slots}`,style:{display:e.__fold__?"none":"block"}},o().createElement(g,{slot:e})))))}},5222:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(11552),o=n(91737),r=n(96966),s=n(64012),a=n.n(s),l=n(97281),c=n(48555),d=n(32075);let u;function p({ctx:e}){u=e;const{geoViewContext:t}=u,{context:n,emitScenes:r,emitSnap:d}=t,p=(0,s.useCallback)((()=>{const{id:e,title:n,type:i,slot:o,frame:s}=(0,c.F)(t);u.newScene({id:e,title:n,type:i,slot:o,frame:s}),setTimeout((()=>{r.setCurHostId(o.id)}))}),[]),h=(0,s.useCallback)((()=>{const e=d.start("create page"),{id:i,title:o,slot:s,frame:a}=(0,l.a3)(t,"画布");u.newScene({id:i,title:o,slot:s,frame:a}),n.cooperationAry&&n.addCooperation({type:"canvas",canvasId:i,users:[{id:"me",name:"我",isMe:!0,writeable:!0,readable:!0}]}),e.commit({target:s}),setTimeout((()=>{r.setCurHostId(s.id)}))}),[]),g=(0,s.useCallback)((e=>{n.popMenu((({close:e})=>{function n(n){e(),"page"===n?(t.curOutlineType="pages",h()):"module"===n&&(t.curOutlineType="modules",p())}return a().createElement("div",{className:i.A.createMenu},a().createElement("div",{onClick:e=>n("page")},"场景画布"),a().createElement("div",{onClick:e=>n("module")},"模块"))}),e.target,{},(()=>{}))}),[]),y=n.hasGlobalPermission();return a().createElement("div",{className:`${i.A.pages}`,onWheel:(0,o.Wj)().stop},a().createElement("div",{className:i.A.titleBar},a().createElement("label",{className:`${i.A.tab} ${t.isOutlineTypeOfPages()?i.A.activeTab:""}`,onClick:e=>{t.curOutlineType="pages"}},"画布与模块"),y?a().createElement("span",{className:i.A.btns,onClick:(0,o.Wj)(g).stop},"+"):null),a().createElement("div",{className:i.A.content,style:{height:u.navHeight}},a().createElement(m,null),a().createElement(f,null)),a().createElement("div",{className:i.A.sperH,onMouseDown:e=>function(e,t){let n=t.navHeight;(0,o.zg)(e,(({po:{x:e,y:i},epo:{ex:o,ey:r},dpo:{dx:s,dy:a}},l)=>{"moving"==l&&(t.navHeight=Math.max(n+=a,70))}))}(e,u)},a().createElement("div",null)))}function f(){const[e,t]=(0,s.useState)("");return a().createElement("div",null,u.getPageAry().map(((t,n)=>a().createElement(h,{key:t.id,page:t,searchName:e}))))}function h({page:e,searchName:t}){const{geoViewContext:n}=u,{context:l,viewModel:c,focusArtboard:p,emitSnap:f,emitItem:h,emitMessage:m,emitScenes:g}=n,x=(0,s.useCallback)((e=>{c.curHostId!==e.id&&(g.setCurHostId(e.id),u.hasScene(e.id)?(h.blur(),p(e.id)):g.load(e.id).then((()=>{h.blur(),p(e.id)})))}),[]),A=l.hasCanvasPermission(e.id),w=(0,s.useRef)();if((""===t||-1!==e.title.indexOf(t))&&!e._deleteTime){if("module"===e.type||"com"===e.type)return;const t=c.slots.find((t=>t.id==e.id));let s,l;t&&t.isOpening()&&(s=c.curHostId===t.id),"scene"===e.type||"normal"===e.type?l=r.FI.Scene:"popup"===e.type?l=r.FI.Popup:"module"!==e.type&&"com"!==e.type||(l=r.FI.Module),t&&t.isTypeOfEmpty()&&(l=r.FI.Page);const p=t&&t.isOpening();return a().createElement("div",{key:e.id,className:`${i.A.page} ${s?i.A.focused:""}\n                     ${p?"":i.A.inVisible}`,onClick:(0,o.Wj)((t=>x(e))).stop,onDoubleClick:t=>{A&&w.current.active(e.title)}},l?a().createElement("span",{className:i.A.icon},l):null,a().createElement("span",{className:i.A.title},e.title),a().createElement(y,{id:e.id,renameFn:t=>{w.current.active(e.title)},deleteFn:t=>{const i=u.getPageAry(),o=i.findIndex((t=>t.id===e.id)),r=i[o+1]||i[o-1],s=f.start("delete page",{target:c});if(c.curHostId===e.id){c.getSlot(e.id).slots.forEach((e=>{(0,d._)(e,n)}))}g.delete(e.id),s.commit(),h.focus(void 0),r&&x(r)}}),a().createElement(b,{def:e=>{w.current=e},updateFn:t=>{if(t!==e.title){const n=f.start("update page",{target:c});e.title=t,n.commit()}}}),a().createElement(v,{id:e.id}))}}function m(){const{geoViewContext:e}=u,{context:t,viewModel:n,emitScenes:i}=e;return a().createElement("div",null,n.slots.filter((e=>{if(e.isTypeOfModule())return!0})).map(((e,t)=>a().createElement(g,{key:e.id,slot:e}))))}function g({slot:e}){const{geoViewContext:t}=u,{context:n,viewModel:l,emitScenes:c,emitSnap:d,emitItem:p,emitFrame:f}=t,[h,m]=(0,s.useState)(""),g=(0,s.useCallback)((e=>{l.curHostId!==e.id&&c.setCurHostId(e.id)}),[]),x=(0,s.useRef)();if(""!==h&&-1===e.title.indexOf(h))return;const A=n.hasCanvasPermission(e.id);let w;e.isOpening()&&(w=l.curHostId===e.id);const E=r.FI.Module;return a().createElement("div",{key:e.id,className:`${i.A.page} ${w?i.A.focused:""}`,onClick:(0,o.Wj)((t=>g(e))).stop,onDoubleClick:t=>{A&&x.current.active(e.title)}},E?a().createElement("span",{className:i.A.icon},E):null,a().createElement("span",{className:i.A.title},e.title),a().createElement(y,{id:e.id,renameFn:t=>{x.current.active(e.title)},deleteFn:t=>{const n=d.start("delete module",{target:l});c.delete(e.id),setTimeout((t=>{f.delete(e.id),n.commit()})),p.focus(void 0)}}),a().createElement(b,{def:e=>{x.current=e},updateFn:t=>{if(t!==e.title){const n=d.start("update modile",{target:l});e.title=t,n.commit()}}}),a().createElement(v,{id:e.id}))}function y({id:e,renameFn:t,deleteFn:n}){const{geoViewContext:l}=u,{context:c,viewModel:d,focusArtboard:p,emitSnap:f,emitItem:h,emitMessage:m,emitScenes:g}=l,y=c.hasCanvasPermission(e),b=(0,s.useCallback)((o=>{c.popMenu((({close:o})=>{function r(){o(),t()}function s(){o();const t=c.configs.permission;t&&"function"==typeof t.cancelCanvas&&t.cancelCanvas({id:e}).then((e=>{e&&c.updateCooperation(e)}))}function l(){o();const t=c.configs.permission;t&&"function"==typeof t.applyCanvas&&t.applyCanvas({id:e,writeable:!0,readable:!0}).then((e=>{e&&c.updateCooperation(e)}))}function d(){o(),n()}if(c.cooperationAry){const t=c.hasCanvasPermission(e);return c.hasGlobalPermission()?t?a().createElement("div",{className:i.A.pageMenu},a().createElement("div",{onClick:e=>r()},"重命名"),a().createElement("div",{onClick:e=>s()},"解除编辑权限"),a().createElement("div",{onClick:e=>d()},"删除")):a().createElement("div",{className:i.A.pageMenu},a().createElement("div",{onClick:e=>r()},"重命名"),a().createElement("div",{onClick:e=>l()},"申请编辑权限"),a().createElement("div",{onClick:e=>d()},"删除")):t?a().createElement("div",{className:i.A.pageMenu},a().createElement("div",{onClick:e=>s()},"解除编辑权限")):a().createElement("div",{className:i.A.pageMenu},a().createElement("div",{onClick:e=>l()},"申请编辑权限"))}return a().createElement("div",{className:i.A.pageMenu},a().createElement("div",{onClick:e=>r()},"重命名"),a().createElement("div",{onClick:e=>d()},"删除"))}),o.target,{position:"right,top"},(()=>{}))}),[y,e]);return a().createElement("div",{className:i.A.handlers,onClick:(0,o.Wj)((e=>{b(e)})).stop},a().createElement("span",null,r.FI.More))}function b({updateFn:e,def:t}){const{geoViewContext:n}=u,{context:i}=n,[o,r]=(0,s.useState)();(0,s.useEffect)((()=>{t({active(e){r(e)}})}),[]);if(i.hasGlobalPermission()&&void 0!==o)return a().createElement("input",{type:"text",value:o,ref:e=>{e&&e.focus()},onChange:e=>{const t=e.target.value;r(t)},onBlur:t=>{e(o),r(void 0)},onKeyDown:t=>{13===t.keyCode&&(e(o),r(void 0))}})}function v({id:e}){const{geoViewContext:t}=u,{context:n,viewModel:o,focusArtboard:r,emitSnap:s,emitItem:l,emitMessage:c,emitScenes:d}=t,p=n.getCooperationByCanvasId(e);if(p&&p.users)return a().createElement("div",{className:i.A.users},p.users.map((e=>{let t=`${e.name}`;e.writeable?t+=" (正在编辑)":t+=" (正在查看)";const n=e.avatarUrl;if(n)return a().createElement("div",{className:`${i.A.avatar} ${e.writeable?i.A.writeable:i.A.readonly}`,"data-mybricks-tip":t},a().createElement("img",{src:n,alt:""}));{const n=(e.name||"未知").charAt(0).toUpperCase();return a().createElement("div",{className:`${i.A.userName} ${e.writeable?i.A.writeable:i.A.readonly}`,"data-mybricks-tip":t},n)}})))}},96279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(64012);const o={ArrowRight:i.createElement("svg",{t:"1636448144846",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1189",width:"16",height:"16"},i.createElement("path",{d:"M249.311159 881.975333 619.286492 512 249.311159 142.024667 327.012845 64.322981 774.688841 512 327.012845 959.677019Z","p-id":"1190"})),ArrowDown:i.createElement("svg",{t:"1636448051484",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9844",width:"16",height:"16"},i.createElement("path",{d:"M881.975333 249.311159 512 619.286492 142.024667 249.311159 64.322981 327.012845 512 774.688841 959.677019 327.012845Z","p-id":"9845"}))}},77645:(e,t,n)=>{"use strict";let i;function o(e){i=e}function r({keyword:e}){const{viewModel:t}=i;if(!t||!t.slots)return;const n=[];return t.slots.forEach((t=>{const i=[];s({rtn:i,slot:t,keyword:e}),t.slots&&t.slots.forEach((t=>{s({rtn:i,slot:t,keyword:e})})),i.length>0&&n.push({id:t.id,title:t.title,results:i})})),n.length>0?n:void 0}function s({rtn:e,slot:t,keyword:n}){t.comAry&&t.comAry.forEach((t=>{const o=t.runtime;let r;if(o.title.indexOf(n)>=0||o.id.indexOf(n)>=0)r={desc:"(名称或ID匹配)"};else{const e=o.searchInModelData(n);e&&(r={desc:`${e}`})}r&&e.push(Object.assign(Object.assign({},r),{type:"com",id:t.id,title:t.runtime.title,focus(){const e=t.root;i.focusArtboard(e.id,!0),i.emitItem.focus(e),setTimeout((e=>{i.emitItem.focus(t)}))}})),t.slots&&t.slots.forEach((t=>{s({rtn:e,slot:t,keyword:n})}))}))}n.d(t,{A:()=>r,T:()=>o})},98742:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(64012);function o({viewCtx:e,slotModel:t}){const{cssArtboard:n}=e,o=t.style;if(o.isLayoutAbsoluteOrSmart())return i.createElement(i.Fragment,null,o.paddingTop>0&&i.createElement("div",{className:`${n.padding} ${n.paddingTop}`,style:{height:o.paddingTop}}),o.paddingRight>0&&i.createElement("div",{className:`${n.padding} ${n.paddingRight}`,style:{width:o.paddingRight}}),o.paddingBottom>0&&i.createElement("div",{className:`${n.padding} ${n.paddingBottom}`,style:{height:o.paddingBottom}}),o.paddingLeft>0&&i.createElement("div",{className:`${n.padding} ${n.paddingLeft}`,style:{width:o.paddingLeft}}))}},35700:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(60607),o=n(91737),r=n(64012),s=n.n(r),a=n(21538),l=n(96966),c=n(98742);function d({model:e,mode:t,frameLable:n,scopePath:d,options:u={},viewContext:p}){const{context:f,cssSlot:h}=p,m=(0,o.HO)((()=>{var n;const r="function"==typeof u.wrap;let l;return(null===(n=e.comAry)||void 0===n?void 0:n.length)>0&&(l=e.comAry.map(((e,n)=>{if(e.runtime.hasUI()){let l;if("function"==typeof u){const t=e.runtime;l=u({namespace:t.def.namespace,version:t.def.version,title:t.title},n)}e.name||(e.name=(0,o.uR)());const c=e.runtime.model.data,d=s().createElement(i.A,{key:e.id,model:e,mode:t,data:c,_inputs:(null==l?void 0:l._inputs)||u._inputs,_outputs:(null==l?void 0:l._outputs)||u._outputs,inputs:(null==l?void 0:l.inputs)||u.inputs,outputs:(null==l?void 0:l.outputs)||u.outputs,viewContext:p,template:u.itemWrap,index:n});return r?{index:n,id:e.id,name:e.name,jsx:d,getJsx:({index:n})=>({jsx:s().createElement(i.A,{key:e.id,model:e,mode:t,data:c,_inputs:(null==l?void 0:l._inputs)||u._inputs,_outputs:(null==l?void 0:l._outputs)||u._outputs,inputs:(null==l?void 0:l.inputs)||u.inputs,outputs:(null==l?void 0:l.outputs)||u.outputs,viewContext:p,template:u.itemWrap,index:n})}),get style(){return e.runtime.model.style},get def(){const t=f.getComDef(e.runtime.def),n={title:t.title,namespace:t.namespace,version:t.version};for(const e in t)e.startsWith("_")&&"_inputs"!==e&&"_outputs"!==e&&(n[e]=(0,o.o8)(t[e]));return n},inputs:{},get outputs(){return(0,a.zS)(e,void 0,{context:f})}}:d}}))),r?u.wrap(l):l})),g=(0,o.HO)((()=>{const{cssSlot:t}=p,n=[t.slot,"slot"];e.state.isHovering()&&!e.state.isHoveringSilent()&&n.push(t.slotHover);const i=e.style;if(f.isDebugMode()||(n.push(t.desn),0==e.comAry.length&&(n.push(t.empty),i.isLayoutOfFlexColumn()?n.push(t.emptyLayoutFlexColumn):i.isLayoutOfFlexRow()?n.push(t.emptyLayoutFlexRow):i.isLayoutSmart()&&n.push(t.emptyLayoutSmart),e.isTypeOfScope()&&n.push(t.emptyForScope)),e.state.isFocused()&&n.push(t.focus)),i&&"function"!=typeof u.wrap){i.isLayoutOfFlexColumn()?n.push(t.lyFlexColumn):i.isLayoutOfFlexRow()&&n.push(t.lyFlexRow);const e=i.getJustifyContent();e&&("FLEX-START"===e.toUpperCase()?n.push(t.justifyContentFlexStart):"CENTER"===e.toUpperCase()?n.push(t.justifyContentFlexCenter):"FLEX-END"===e.toUpperCase()?n.push(t.justifyContentFlexFlexEnd):"SPACE-AROUND"===e.toUpperCase()?n.push(t.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===e.toUpperCase()&&n.push(t.justifyContentFlexSpaceBetween));const o=i.getAlignItems();o&&("FLEX-START"===o.toUpperCase()?n.push(t.alignItemsFlexStart):"CENTER"===o.toUpperCase()?n.push(t.alignItemsFlexCenter):"FLEX-END"===o.toUpperCase()&&n.push(t.alignItemsFlexFlexEnd))}return n.join(" ")})),y=(0,o.HO)((()=>{var t;if((null===(t=e.comAry)||void 0===t?void 0:t.length)<=0&&e.title){const t=e.style.getLayoutTitle();return s().createElement("div",{className:h.title},e.isTypeOfScope()?s().createElement("span",{className:h.scoped},l.FI.SlotScoped):s().createElement("span",null,l.FI.Slot),s().createElement("p",null,t))}})),b=(0,o.HO)((()=>{const t=e.style,n=Object.assign({},null==u?void 0:u.style);return t.isLayoutOfFlex()&&(t.rowGap&&(n.rowGap=t.rowGap),t.columnGap&&(n.columnGap=t.columnGap),t.flexWrap&&(n.flexWrap=t.flexWrap)),void 0!==t.height&&(n.height=t.height),void 0!==t.width&&(n.width=t.width),n}),[null==u?void 0:u.style]);return(0,r.useEffect)((()=>{const t=new ResizeObserver((t=>{if(!e.isVisible())return;const n=e.style;t.forEach((i=>{for(const i of t){const t=i.contentRect;if(t.width>0&&(n.widthFact=Math.ceil(t.width)),t.height>0&&(n.heightFact=Math.ceil(t.height)),n.isLayoutAbsoluteOrSmart()){let t,i=!1,o=e.parent;for(;o;){if(o.state.isResizing()){i=!0;break}const e=o.parent.parent;e?o=e:(t=o.parent,o=void 0)}(i||t.state.isResizing())&&e.comAry.forEach((e=>{e.style.xCenter&&(e.style.left=Math.ceil((n.widthFact-e.$el.offsetWidth)/2))}))}}}))}));return e.$el&&(t.observe(e.$el),e._rendered=1),()=>{e.$el&&t.unobserve(e.$el)}}),[]),s().createElement("div",{ref:t=>{t&&e.set$elOnce(t)},"data-title":(null==u?void 0:u.title)||e.title||"拖拽组件到这里","data-isslot":1,"data-slot-id":e.id,className:g,style:b},m,y,s().createElement(c.A,{viewCtx:p,slotModel:e}))}},74145:(e,t,n)=>{"use strict";function i(e){if(e.style.isLayoutAbsoluteOrSmart()){const t=e.comAry;if(t){const e=t.sort((e=>e.style.top)),n=[];return e.forEach((e=>{const t=e.style,i=e.runtime,o=t.toJSON();o.position="",o.marginTop=t.top,o.marginLeft=t.left,delete o.top,delete o.left,n.push({type:"block",comAry:[{type:"com",id:e.id,name:e.name,def:i.def,title:i.title,style:o}]})})),n}}}n.d(t,{o:()=>i})},32075:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});n(91716);var i=n(59200);function o(e,t){const{context:n,emitItem:o,emitMessage:r,emitSnap:s,emitIOCAbout:a,emitPermission:l}=t,c=e=>{const t=n.getComDef(e.runtime.def);if(t){let d;if((null==t?void 0:t.editors)&&(d=t.editors.view||t.editors),d){const t=d["@delete"];if(t&&"function"==typeof t){t((0,i.A)({comId:e.id,context:n,model:e,emitItem:o,emitMessage:r,emitSnap:s,emitIOCAbout:a,emitPermission:l}))}}e.slots&&e.slots.forEach((e=>{e.comAry.forEach((e=>{c(e)}))}))}};e.comAry.forEach((e=>{c(e)}))}},89563:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(91716),o=n(91737);function r(e,t){const n=(0,o.AF)(e),r=function(e,t){const n=e.slots;if(!n)return;const i=null==n?void 0:n.map((e=>t?e.title:{title:e.title,defer:e.defer,description:e.description}));if(t)return i.length<=0?"无":[...new Set(i)];return i}(n,t),s=function(e,t){var n,i;if(t){const t=(null===(n=e.inputs)||void 0===n?void 0:n.map((e=>`${e.title}${e.description?"("+e.description+")":""}`)))||[];return t.push("显示"),t.push("隐藏"),t.push("显示/隐藏"),t}{const t=e.outputs,n=(null===(i=e.inputs)||void 0===i?void 0:i.map((n=>{var i;let o=[];return t&&(Array.isArray(n.rels)?n.rels.forEach((e=>{t.find((t=>{t.id===e&&o.push({title:t.title})}))})):(null===(i=e.rtType)||void 0===i?void 0:i.indexOf("js"))>=0&&(o=t.map((e=>({title:e.title}))))),{title:n.title,description:n.description,outputs:o}})))||[];return n.push({title:"显示"}),n.push({title:"隐藏"}),n.push({title:"显示/隐藏"}),n}}(n,t),a=function(e,t){var n,i;if(t){return null===(n=e.outputs)||void 0===n?void 0:n.map((e=>`${e.title}${e.description?"("+e.description+")":""}`))}return null===(i=e.outputs)||void 0===i?void 0:i.map((e=>({title:e.title,description:e.description})))}(n,t),l={data:(0,i.O$)(n.data),namespace:n.namespace,description:n.description};return l.slots=r,s&&(l.inputs=s),a&&(l.outputs=a),l}},40682:(e,t,n)=>{"use strict";n.d(t,{k:()=>s,n:()=>r});var i=n(91716),o=n(50528);function r(e){const{viewModel:t,context:n,emitItem:i}=e,r=t.style,s=n.focusModel;s&&s instanceof o.s&&setTimeout((e=>{i.reFocus(s)}));const l=a(e);.13===r.zoom?(r.zoom=.25,l()):r.zoom<1?(r.zoom+=.25,l()):r.zoom<8&&(r.zoom+=1,l()),n.geoZoom=r.zoom}function s(e){const{viewModel:t,context:n,emitItem:i}=e,r=t.style,s=n.focusModel;s&&s instanceof o.s&&setTimeout((e=>{i.reFocus(s)}));const l=a(e);r.zoom>.25?r.zoom>1?(r.zoom-=1,l()):(r.zoom-=.25,l()):(r.zoom=.13,l()),n.geoZoom=r.zoom}function a(e){const{viewModel:t}=e,n=t.style,o=n.zoom;return function(){const e=t.canvasWrapEle,r=t.$el,s=(0,i.E9)(r,e),a=(e.offsetWidth/2-s.x)/o*(n.zoom-o),l=(e.offsetHeight/2-s.y)/o*(n.zoom-o);n.left-=a,n.top-=l}}},61111:(e,t,n)=>{"use strict";n.d(t,{O7:()=>g,P1:()=>y,cB:()=>p,fv:()=>h,gI:()=>l,pu:()=>d,vt:()=>c,xx:()=>f,yp:()=>u,zq:()=>m});var i=n(96966),o=n(50528),r=n(91716),s=n(59200),a=n(24412);function l(e){var t,n,i;return"comDev"===(null===(i=null===(n=null===(t=e.editors)||void 0===t?void 0:t["@ai"])||void 0===n?void 0:n[a.A9])||void 0===i?void 0:i.role)}function c(e,t){const{context:n,emitItem:i,emitMessage:o,emitSnap:r,emitIOCAbout:a,emitPermission:l}=t,c=n.getComDef(e.runtime.def);if(c){let t;if((null==c?void 0:c.editors)&&(t=c.editors.view||c.editors),t){const c=t["@delete"];if(c&&"function"==typeof c){return c((0,s.A)({comId:e.id,context:n,model:e,emitItem:i,emitMessage:o,emitSnap:r,emitIOCAbout:a,emitPermission:l}))}}}}function d(e,t){const n=e.parent,i=n.$el,o=e.$el,s=t||(0,r.E9)(o,i);return!!n.comAry.find((t=>{if(t===e||!t.isVisible())return;const n=(0,r.E9)(t.$el,i,{noRelativeBorders:!0});return s.x>n.x&&s.x+o.offsetWidth<n.x+n.w&&s.y>n.y&&s.y+o.offsetHeight<n.y+n.h||void 0}))}function u(e,t){const n=e.style;if(n.widthFull=void 0,n.widthAuto=t,n.widthAuto){e.hasSlotWithAbsLayout()||(n.width="fit-content")}else n.width=n.widthFact}function p(e,t){const n=e.style;if(n.widthAuto=void 0,n.widthFull=t,n.widthFull){e.parent.style.isLayoutAbsoluteOrSmart()||(n.width="100%")}else n.width=n.widthFact}function f(e,t){const n=e.style;if(n.heightFull=void 0,n.heightAuto=t,n.heightAuto){e.hasSlotWithAbsLayout()||(n.height="fit-content")}else n.height=n.heightFact}function h(e,t){const n=e.style;if(n.heightAuto=void 0,n.heightFull=t,n.heightFull){e.parent.style.isLayoutAbsoluteOrSmart()||(n.height="100%")}else n.height=n.heightFact}function m(e,t,n){if(t)return e.selection&&!n||(e.selection={},e.context.registerBlur((()=>{if(e.selection)return e.selection.coms.forEach((e=>{e.state.cancelSelected(),e.state.enable()})),e.selection=void 0,!1}))),e.selection.coms=t,setTimeout((e=>{t.forEach((e=>{e.state.selected()}))})),t.sort(((e,t)=>e.parent.comAry.indexOf(e)-e.parent.comAry.indexOf(t))),!0}function g(e,t,n){var i;const{context:r,emitItem:s}=e;let a;const l=null===(i=e.selection)||void 0===i?void 0:i.coms;if(l){if(l.includes(n))n.state.cancelSelected(),a=l.filter((e=>e!==n));else if(l.length>1){if(l[0].parent!==n.parent)return!1;a=[...l,n]}if(a.length<=1){e.selection=void 0;const t=a[0];return t&&(t.state.cancelSelected(),s.focus(t)),!0}if(0==a.length)return e.selection=void 0,s.blur(),!0}else{const e=r.focusModel;if(e&&e instanceof o.s&&e.parent===n.parent){if(e===n)return!1;e!==n&&(a=[r.focusModel,n])}}return m(e,a)}function y(e,t){var n;const{viewModel:o,context:s,selection:a,emitItem:l}=e,c=o.style.zoom;let d,u,p,f,h=t.comAry.find((e=>e.runtime.def.namespace===i.ZD.coms.selection));if(!h){const e=s.getComDef({namespace:i.ZD.coms.selection}),c=new i.Al(e);h=l.add({seedModel:c,toComId:null===(n=t.parent)||void 0===n?void 0:n.id,toSlotId:t.id,state:"finish"},{indeed:!0,noFocus:!0})[0];const p=h.style;p.position="absolute",h.style=new Proxy(p,function(){const e={},t=a.coms;return t&&t.forEach((t=>{const n=t.style;e[t.id]={left:n.left,right:n.right,top:n.top,bottom:n.bottom}})),{get:(e,t,n)=>e[t],set(n,i,s,a){if(n[i]=s,"left"===i||"top"===i){const n=o.style.zoom;if(h.$el){const i=(0,r.E9)(h.$el,h.parent.$el),o=i.x/n-d,s=i.y/n-u;t&&t.forEach((t=>{const n=e[t.id],i=t.style;void 0!==i.right?i.right=n.right-o:i.left=n.left+o,void 0!==i.bottom?i.bottom=n.bottom-s:i.top=n.top+s}))}}return!0}}}())}a.coms.forEach((e=>{const n=(0,r.E9)(e.$el,t.$el),i=e.$el,o=i.offsetWidth,s=i.offsetHeight;void 0===d?(d=n.x/c,u=n.y/c,p=d+o,f=u+s):(d=Math.min(n.x/c,d),u=Math.min(n.y/c,u),p=Math.max(n.x/c+o,p),f=Math.max(n.y/c+s,f))})),h.selectComs=a.coms;const m=h.style;try{m.left=d}catch(e){console.error(e)}return m.top=u,m.width=p-d,m.height=f-u,h}},15558:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,e:()=>o});var i=n(24412);function o(e,t,n,o){let r;if(e.editors&&(r=e.editors.view||e.editors),!r)return;const s=(t,i,r,a)=>{if(!Array.isArray(r)&&"object"==typeof r){if(!r.items)return;if("function"==typeof r.items){if(a){const o={},a={},l={};if(r.items(n,o,a,l),o.items){const n=o.title||i.cateTitle||e.title;s(t,Object.assign({},i,{cateTitle:n}),o.items)}if(a.items){const e=a.title||"第二个分类";s(t,Object.assign({},i,{cateTitle:e}),a.items)}if(l.items){const e=l.title||"第三个分类";s(t,Object.assign({},i,{cateTitle:e}),l.items)}return}r=r.items(n)}else{if(!Array.isArray(r.items))throw new Error(`Invalid value type for selector(${t}) in component(${e.namespace}),expect {items:[],title:string}.`);r=r.items}}Array.isArray(r)&&r.forEach((e=>{let r;r="function"==typeof e?e(n):e,"object"==typeof r&&(Array.isArray(r.items)?s(t,Object.assign({},{groupTitle:r.title,groupIfVisible:r.ifVisible},i),e):r.type&&o(r,i))}))};for(let n in r)if(!n.match(/^@/)){if(t&&t.length>0&&t.indexOf(n)<0)continue;let o,a,l=r[n];n===i.A9?(o="当选中 组件整体 时",a=e.title):l.title?(a=l.title,o=`当选中组件的 ${l.title} 区域时`):(a=n,o=`当选中组件的 ${n} 区域时`),l&&o&&s(n,{selector:n,cateTitle:a,selectorTitle:o},l,!0)}}function r(e,t,n,o){let r;if(e.editors&&(r=e.editors.view||e.editors),!r)return;const s=(e,t,i)=>{Array.isArray(i)&&i.forEach((i=>{let r;r="function"==typeof i?i(n):i,"object"==typeof r&&(Array.isArray(r.items)?s(e,Object.assign({},t,{groupIfVisible:r.ifVisible,groupTitle:r.title}),r.items):o(r,t))}))};for(let e in r)if(!e.match(/^@/)){if(t&&t.length>0&&t.indexOf(e)<0)continue;let n,o,a=r[e];a.style&&(e===i.A9?n="当选中当前组件 时":a.title?(o=a.title,n=`当选中 ${a.title} 区域时`):(o=e,n=`当选中 ${e} 区域时`),a&&n&&s(e,{selector:e,cateTitle:"样式",selectorTitle:n},a.style))}}},94588:(e,t,n)=>{"use strict";function i(e){return Object.keys(e).map((t=>{return`${n=t,n.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e[t]};`;var n})).join(";\n")}n.d(t,{B:()=>i})},50116:(e,t,n)=>{"use strict";n.d(t,{$:()=>w,A2:()=>f,Fu:()=>v,JO:()=>b,JW:()=>p,Rl:()=>h,XW:()=>g,YR:()=>_,a9:()=>C,aC:()=>E,ec:()=>y,hI:()=>I,rE:()=>k,s3:()=>x,yB:()=>m});var i=n(81531),o=n(91737),r=n(24412),s=n(15335),a=n(34163),l=n(91716),c=n(51826),d=n(96966),u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function p(e,t){const n=t.runtime.model.data;if(e){const t=(0,l.D8)(e);try{const e=JSON.parse(t),i=(0,o.o8)(n);return Object.assign(i,e),(0,o.sH)(i)}catch(e){throw e}}return n}function f(e){if(!e)return e;return`\n    #__id__{\n      ${e.replace(/:global\(([^)]*)\)/gi,((e,t)=>t))}\n    }\n  `}function h(e,...t){if(!e)return;const n=/import\s+([\s\S]*?)\s+from\s+['"]([^'"]+)['"]/g,i=[];let o;for(;null!==(o=n.exec(e));){const e=o[1].trim().replace(/[{}]/g,"").split(",").map((e=>{const[t,n]=e.split(" as ").map((e=>e.trim()));return{name:t,alias:n||null}})),n=o[2].trim();t.includes(n)||i.push({items:e.map((e=>e.name)),from:n})}return i}function m(e,t,n,i){const{model:o}=n;if(o.runtime.model.extSourceCodes.defaultData){const e=h(t,"mybricks","style.less","react");if(e){const t=[];e.forEach((e=>{e.items&&e.items.forEach((n=>{t.push({lib:e.from,item:n})}))}))}}}function g(e){return e}function y(e){if(!e)return e;let t=e;return t=t.replace(/import\s+{[^}]*}[^;]*from\s+['"][^'"]*mybricks\/[^'"]*['"]/,"import {comDef} from 'mybricks'"),t.match(/import\s+{[^}]*}[^;]*from\s+['"]mybricks['"]/)||(t=`import {comDef} from 'mybricks'\n${t}`),t=t.replace(/import\s+css[^;]*from\s+['"][^'"]*style.less['"]/,"import css from 'style.less'"),t.match(/import\s+css[^;]*from\s+['"]style.less['"]/)||(t=`import css from 'style.less'\n${t}`),t}function b(e){if(!e)return e;let t=y(e);return t=t.replace(/import css from ['"][^'"]*style.less['"]/,"const css = new Proxy({}, { get(target, key) { return key } })"),t}function v(e,t){var n;const{model:i,comDef:o,emitSnap:s}=t,a=i.runtime.model;let l=a.extSourceCodes;if(l||(l=a.extSourceCodes={}),!o)return;const c=null===(n=o.editors)||void 0===n?void 0:n["@ai"];if(!c)return;const d=c[r.A9];i.runtime.model.extSourceCodes.defaultEditors=void 0;const u=h(e,"mybricks","style.less","react");if(u){const e=[],n=[];if(u.forEach((e=>{e.items&&e.items.forEach((t=>{n.push({lib:e.from,item:t})}))})),n.length>0){const o=d.loadKnowledge(n);o&&o.forEach((n=>{const i=n.knowledge.editors,o={};let s;if(i)for(let e in i){const a=i[e],l={title:a.title,style:[],items:[]};if(Array.isArray(a.style)&&(l.style=a.style.map((e=>A(e,t)))),Array.isArray(a.items)&&(l.items=a.items.map((e=>A(e,t)))),e===r.A9){const e=I(n.lib,n.item);o[e]=l,s=e}else o[e]=l}e.push({lib:n.lib,com:n.item,editors:o,rootSelector:s})}));const s=x(i);e.push({editors:{[s]:{style:[{type:"style"}]}},rootSelector:s})}e.length>0&&(i.runtime.model.extSourceCodes.defaultEditors=e)}}function x(e){return`[${r.RO}]:not(#${e.id} > [${r.RO}])`}function A(e,t){if("style"===e.type)return e;if(e.value&&"object"==typeof e.value){const{model:n,comDef:i,emitSnap:s}=t,a=n.$el,l=e.value,c=e=>{let t;if(e&&(t=e.ele.getAttribute(r.RO)),t)return t;let n=e.ele;for(;n&&n!==a;){if(n.getAttribute,t=n.getAttribute(r.RO),t)return t;n=n.parentElement}};return Object.assign(Object.assign({},e),{value:{get(e){const{element:t,focusArea:n}=e,i=c(n);if(!i)throw Error("Can not find keyId");let o=e.data[i];o||(o=e.data[i]={});return l.get(Object.assign(Object.assign({},e),{data:o}))},set(e,n){const{element:i,focusArea:r}=e,s=c(r);if(!s)throw Error("Can not find keyId");const a=e.data[s],d=new Proxy(a,{set:(e,t,n)=>(e[t]=n,!0),get(e,t){const n=e[t];return Array.isArray(n)?new Proxy(n,{set:(e,t,n)=>(e[t]=n,!0),get(e,t){if("string"==typeof t&&t.match(/^\d+$/)){const n=parseInt(t);return e[n]||(e[n]={}),e[n]}return e[t]}}):n}});l.set(Object.assign(Object.assign({},e),{data:d}),n),e.data[s]=Object.assign({},d),function(e,t){const{model:n,comDef:i,emitSnap:r}=e,s=n.runtime.model;let a=s.extSourceCodes;if(a&&"data"===t){const e=(0,o.o8)(s.data);for(const t in e)t.startsWith("_")&&delete e[t];const t=JSON.stringify(e,null,2);a.data=t}}(t,"data")}}})}return e}function w(e,t,n,i){e=e||[],t.inputs||(t.inputs=[]);const o=t.inputs,{inputs:r}=i,{deleteIds:s,addIdsMap:a}=(0,l.ZG)(o,e);s.forEach((e=>{const t=r.get(e);t&&t.remove(e)})),t.inputs=e.map((e=>{var{id:t,title:n,schema:i}=e,o=u(e,["id","title","schema"]);if(a[t])r.add(t,n,i);else{const e=r.get(t);e&&(e.setTitle(n),e.setSchema(i))}return Object.assign(Object.assign({},o),{id:t,title:n,schema:i})}))}function E(e,t,n,o,r){e=e||[];const{model:s,comDef:a}=o;t.outputs||(t.outputs=[]);const c=t.outputs,{outputs:d}=r,p=(0,i.ag)(s,a,n,{}),{deleteIds:f,addIdsMap:h}=(0,l.ZG)(c,e);f.forEach((e=>{const t=d.get(e);t&&t.remove(e),p.items=p.items.filter((t=>t.id!==e))})),t.outputs=e.map((e=>{var{id:t,title:i,schema:o}=e,r=u(e,["id","title","schema"]);if(h[t])d.add(t,i,o);else{const e=d.get(t);e&&(e.setTitle(i),e.setSchema(o))}const s=p.items.find((e=>"_Event"===e.type&&e.options.outputId===t));return s?s.title!==i&&(s.title=i):p.items.push({id:t,title:i,type:"_Event",options:{outputId:t}}),Object.assign(Object.assign({},r),{targetSelector:n,id:t,title:i,schema:o})}))}function C(e,t,n){setTimeout((()=>{!function(e,t,n){const{model:o,viewContext:a}=n,d=o.$el;(0,i.np)(o,a.context,((e,t)=>{if(":root"===e)return t.items=[],t.style=[],!1;{const e=t.items.some((e=>"_Event"===e.type));return t.items=[],t.style=[],!e}}));const u={};let p;const f=t.style;if(f){const e=(0,l.m4)(f);if(p=(0,c.Y)().parseLess(e),p)for(let e in p){if(e.startsWith("@"))continue;if(!u[e]){e.split(",").forEach((e=>{u[e]={title:e,style:[{type:"style",target:e}]}}))}}}const h=t.defaultEditors;h&&h.length>0&&h.forEach((e=>{const{rootSelector:t}=e;let n;if(e.editors)for(const i in e.editors){const o=e.editors[i];if(n=u[i],n)n.style?o.style&&o.style.forEach((e=>{"style"===e.type&&n.style.find((e=>"style"===e.type))||n.style.push(e)})):n.style=o.style,n.items?o.items&&o.items.forEach((e=>{"style"===e.type&&n.items.find((e=>"style"===e.type))||n.items.push(e)})):n.items=o.items;else{let e=!1;if(d){const t=d.querySelector(i);if(p)for(let n in p)try{if(t===d.querySelector(n)){e=!0;break}}catch(e){}}e||(n=u[i]={title:o.title,style:o.style,items:o.items})}n&&(n.type=t===i?"comRoot":"comChild")}}));const m=[],g=(e,t)=>{const{type:l,title:c,style:d,items:u,realSelector:p,targetEle:f}=t,h=(0,i.ag)(o,a.context.getComDef(o.runtime.def),e,{title:c});let m;u&&"function"==typeof u.forEach?u.forEach((({title:t,type:i,options:s,value:a})=>{"style"===i?h.style.push({title:t,target:e,options:s,valueProxy:{set({focusArea:e,selector:t},i){const s=function(e,t){const n=t||e.focusArea.ele,i=n.getAttribute(r.RO);if(i)return`[${r.RO}="${i}"]`}(o,f)||p||t;M({selector:s,css:i},n)}}}):h.items.push({title:t,type:i,options:s,value:a})})):h.items.push((()=>{})),d?d.forEach((({title:t,type:i,options:o,value:r})=>{"style"===i?h.style.push({title:t,target:e,options:o,valueProxy:{set({focusArea:e,selector:t},i){M({selector:p||t,css:i},n)}}}):h.style.push({title:t,type:i,options:o,value:r})})):h.style.push((()=>{}));const g=[],y=()=>(0,s.A)({options:g,requestAI({message:e},t){a.emitAI.request(e,t)},value:{set(t,{state:i}){if("start"===i)return void(m=e);const o={};for(let e in t)e.match(/width|height|left|right|top|bottom|marginLeft|marginTop|marginRight|marginBottom/gi)?o[e]=t[e]+"px":o[e]=t[e];M({selector:m,css:o},n)}}},n);h.items.find(((e,t)=>{if("_resizer"===e.type)return h.items.splice(t,1),!0}))&&g.push("width","height"),h.items.push((()=>y)),h.style&&h.style.push(y)};if(o.$el)for(const e in u)if(":root"!==e)try{let t=d.querySelectorAll(`:scope > ${e}`);if(t&&0!==t.length||(t=d.querySelectorAll(`${e}`)),t&&1===t.length){const n=t[0];if(n){const t=n.offsetWidth,i=n.offsetHeight;if(t>=d.offsetWidth&&i>=d.offsetHeight){m.push({selector:e,selectorDesc:u[e],targetEle:n});continue}}}g(e,u[e])}catch(e){console.warn(e)}const y=u[r.A9];if(y){let e=[],t=[];const{title:n,items:i,style:o}=y;i&&(e=i),o&&(t=o),g(r.A9,{title:"组件整体",items:e,style:t})}m&&m.forEach((({selector:e,selectorDesc:t,targetEle:n})=>{if(t){let i=[],o=[];t.items&&i.push(...t.items),t.style&&o.push(...t.style),(i.length>0||o.length>0)&&g(r.A9,{title:"组件整体",items:i,style:o,realSelector:e,targetEle:n})}}));!function(e){const{model:t,viewContext:n}=e,o=t.runtime.topl.outputPinsInModel;if(o&&o.length>0){const e=(0,i.ag)(t,n.context.getComDef(t.runtime.def),r.A9,{title:t.runtime.title});e.items=e.items.filter((e=>"_Event"!==e.type));const s=e.items;o.forEach((e=>{s.find((t=>"_Event"===t.type&&t.options.outputId===e.hostId))||s.push({id:e.id,title:e.title,type:"_Event",options:{outputId:e.hostId}})}))}}(n)}(0,t,n)}))}function _(e,t){return new Promise(((n,i)=>{var o,s;const{model:l,comDef:c,emitSnap:u}=t;let p;const f=null===(o=c.editors)||void 0===o?void 0:o["@ai"],h=(0,a.Q)(t);f&&(p="function"==typeof f?f(h):f);const m=p[r.A9];if(m&&"object"==typeof m&&(null===(s=m.role)||void 0===s?void 0:s.toUpperCase())===d.qT){const t=m.execute;if("function"==typeof t)return void t(h,e).then((()=>{l.clearError(),n()})).catch((e=>{i(e)}))}}))}function M({selector:e,css:t},n){const{model:i,comDef:o,emitSnap:r}=n,s=i.runtime.model;let a=s.extSourceCodes;a||(a=s.extSourceCodes={}),a.style||(a.style="");let d;const u=function(e){const t=(0,c.Y)().parseLess(e);return{find(e){for(let n in t)if(e(t[n],n))return t[n]},append(e,n){t[e]=n},toString:()=>(0,c.Y)().stringifyLess(t)}}((0,l.m4)(a.style)),p=u.find(((t,n)=>{if(n.trim()===e.trim())return!0}));if(p&&"object"==typeof p)for(let e in t)p[e]=t[e];else u.append(e,t);d=u.toString(),a.style=d,a._updatedByUser=!0;_({style:f(d)},n)}function I(e,t){let n=`${e}-${t}`;return n=n.replace(/[^0-9a-zA-Z]/g,"/"),`[${r.RO}^="${n}"]`}function k(e,t,n,i){e=e||[],t.slots||(t.slots=[]);const o=t.slots,{slots:r}=i,{deleteIds:s,addIdsMap:a}=(0,l.ZG)(o,e);s.forEach((e=>{const t=r.get(e);t&&t.remove(e)})),t.slots=e.map((e=>{var{id:t,title:n,schema:i}=e,o=u(e,["id","title","schema"]);if(a[t])r.add(t,n,i);else{const e=r.get(t);e&&e.setTitle(n)}return Object.assign(Object.assign({},o),{id:t,title:n,schema:i})}))}},59200:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(91737),o=n(3144),r=n(95947);function s({comId:e,comName:t,context:n,model:s,focusAreaOpt:a,emitItem:l,emitMessage:c,emitSnap:d,emitIOCAbout:u,emitPermission:p},f={}){let h,m,g;if(a)h=a.ele,m=a.selectors;else{const e=(0,i.A1)((()=>s.focusArea));e&&(h=e.ele,m=e.selectors)}if(h){const e=h;let t,n=e.parentNode;null!==n&&(g={ele:e,get index(){let i=Object.keys(m).join("");i.endsWith("*")&&(i=i.substring(0,i.length-1));try{t=n.querySelectorAll(i)}catch(e){t=n.querySelectorAll(":scope"+i)}return[].indexOf.call(t,e)},dataset:e.dataset})}const y=s.style,b={id:e||s.id,name:t||s.name,get index(){return g?g.index:0},undo:function(){let e;return{start(t){e=d.start(t||"组件编辑",{target:s})},cancel(){e&&e.cencel()},commit(){e&&e.commit()}}}(),style:{get width(){return y.widthAuto?"auto":y.widthFull?"100%":y.width},set width(e){"auto"===e&&(y.widthAuto=!0,y.widthFull=void 0),"100%"===e&&(y.widthFull=!0,y.widthAuto=void 0),"number"==typeof e&&(s.style.width=e)},get widthAuto(){return y.widthAuto},set widthAuto(e){e?(y.widthAuto=!0,y.widthFull=void 0):y.widthAuto=void 0},get height(){return y.heightAuto?"auto":y.heightFull?"100%":y.height},set height(e){"auto"===e&&(y.heightAuto=!0,y.heightFull=void 0),"100%"===e&&(y.heightFull=!0,y.heightAuto=void 0),"number"==typeof e&&(y.height=e)},get heightAuto(){return y.heightAuto},set heightAuto(e){e?(y.heightAuto=!0,y.heightFull=void 0):y.heightAuto=void 0},get flex(){if(y.widthFull)return!0},set flex(e){y.widthFull=!!e||void 0},get top(){return s.style.top},set top(e){s.style.top=e},get right(){return s.style.right},set right(e){s.style.right=e},get bottom(){return s.style.bottom},set bottom(e){s.style.bottom=e},get left(){return s.style.left},set left(e){s.style.left=e},get display(){return s.style.display},set display(e){s.style.display=e}},css:{set(e,t){const n=(0,r.c)();n.removeStyleDom(e);const i=document.createElement("style");i.setAttribute("id",e),i.innerHTML=t,n.addStyleDom(i)},remove(e){(0,r.c)().removeStyleDom(e)}},get data(){return s.data},title:s.runtime.title,focusArea:g,get slot(){return this.slots},get slots(){return s.getSlotEditor({emitItem:l,context:n,emitSnap:d,emitIOCAbout:u,emitMessage:c})},get parent(){var e;const t=null===(e=s.parent)||void 0===e?void 0:e.parent;if(t){const e=n.getComDef(t.runtime.def),i=e.editors.view||e.editors;if(i)return new Proxy({},{get(e,n){if("string"==typeof n&&n.startsWith("@")){const e=i[n];if("function"==typeof e)return function(){const n={data:t.data,get inputs(){return u.getInputEditor(t.id)},get outputs(){return u.getOutputEditor(t.id)}};return e(n,...arguments)}}}})}},getChildByName(e){let t;const n=s.slots;if(n&&n.find((n=>{if(t=n.comAry.find((t=>t.name===e)),t)return!0})),t)return{id:t.id,title:t.title,def:t.runtime.def,data:t.data}},removePermission(e){p.remove(e)},get inputs(){return u.getInputEditor(s.id)},get outputs(){return n.configs.toplView?u.getOutputEditor(s.id):{get:()=>({setSchema(){}})}},get input(){return this.inputs},get output(){return this.outputs},get diagram(){return{edit(e){setTimeout((t=>{l.editDiagram(s.id,e)}))}}},get env(){var e;const t=null===(e=n.configs.com)||void 0===e?void 0:e.env;return Object.assign(t,{get message(){return{warn(e){"string"==typeof e&&c.warn(e)}}},searchComDefAry:e=>(0,o.fI)(n.comLibAry,e)})},get element(){return s.$el.firstChild},domChanged(){s.notifyEleChanged()}};if("object"==typeof f)for(let e in f)b[e]=f[e];return b}},34163:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i.A,v:()=>r});var i=n(59200),o=n(51826);function r(){(0,o.T)()}},48555:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(91737),o=n(91716);function r(e){const{context:t,viewModel:n,emitSnap:r,focusArtboard:s}=e;let a;if(t.pageMetaModel){a=`模块${t.pageMetaModel.getAllPageLength()+1}`}else a=`模块${n.slots.length}`;const l=r.start(`添加模块 ${a}`,{target:n}),{id:c,slot:d,frame:u}=function(e,t){var n;const{context:r,viewModel:s,emitFrame:a,emitItem:l,emitModule:c,getCurModuleSlot:d}=t,u=d(),p=(0,i.uR)();let f,h,m;if(null==u?void 0:u.$wrapEl){const e=(0,o.E9)(u.$wrapEl,s.canvasTransEle);m=u.isTypeOfModule()?{x:e.x+u.$wrapEl.offsetWidth+100,y:e.y}:{x:e.x,y:e.y-300}}else m={x:300,y:0};f=s.addSlot({id:p,title:e,type:"module",style:{layout:"smart",left:m.x,top:m.y,overflowX:"hidden",overflowY:"auto"},deletable:!0}),f._rendered=0,f._initAfterRefactorLayout=!0;const g=null===(n=r.configs.geoView.module)||void 0===n?void 0:n.width;f.style.width=void 0!==g?g:300;return f.style.height=200,h=a.bindFrame({id:p,title:e,type:"module"}),setTimeout((e=>{c.register(p,{slot:f,frame:h})})),{id:p,slot:f,frame:h}}(a,e);return l.commit(),{id:c,title:a,type:"module",slot:d,frame:u}}},24962:(e,t,n)=>{"use strict";function i({rootView:e,ex:t,ey:n,zoom:i,except:o}){const r=e.findSlotByPo({x:t,y:n,zoom:i},o,!0);let s;if(r)return 1===r.length||r.sort(((e,t)=>{const n=e.$el;return e===(null==o?void 0:o.parent)?-1*n.offsetWidth*n.offsetHeight:n.offsetWidth*n.offsetHeight*-1/1e3})),s=r[0],s}n.d(t,{x:()=>i})},51826:(e,t,n)=>{"use strict";let i;function o(){Promise.all([n.e(57),n.e(559)]).then(n.bind(n,90559)).then((({transformRender:e,EnhanceRender:t,parseLess:n,stringifyLess:o})=>{i={transformRender:e,EnhanceRender:t,parseLess:n,stringifyLess:o}}))}function r(){return{get transformRender(){return i.transformRender},get EnhanceRender(){return i.EnhanceRender},get parseLess(){return i.parseLess},get stringifyLess(){return i.stringifyLess}}}n.d(t,{T:()=>o,Y:()=>r})},1785:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var i=n(96966);function o(e,t){const n=function(e){var t;const n={},o=[],r=(null===(t=document.getElementById(i.MD))||void 0===t?void 0:t.shadowRoot)||document;for(let t=0;t<r.styleSheets.length;t++)try{const n=r.styleSheets[t],i=n.cssRules?n.cssRules:n.rules;for(let t=0;t<i.length;t++){const n=i[t];if(n instanceof CSSStyleRule){const{selectorText:t}=n;e.matches(t)&&o.push(n)}}}catch(e){}o.length>0&&o.forEach((e=>{const{selectorText:t,style:i}=e;for(let e in i){const t=i[e];void 0!==t&&""!==t&&(n[e]=t)}}));const s=e.style;for(let e in s){const t=s[e];void 0!==t&&""!==t&&(n[e]=t)}return n}(e),o={};return t.forEach((e=>{n[e]&&(o[e]=n[e])})),o}},57039:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,T:()=>a});var i=n(96966),o=n(91737),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let s;function a(e){s=e}function l(e){return r(this,void 0,void 0,(function*(){if(!s)return;const{context:t,viewModel:n,emitFrame:r,emitLogs:a}=s;if(!n||!n.slots)return;if((0,o.gO)())return;const l=[],d=[];function u(t){if(t.comAry){const n=t.comAry.filter((n=>{var o,r;if(!n.runtime&&(d.push("删除 未知组件."),e))return!1;if(n.parent!==t&&(n.parent=t),"scope"===n.parent.type&&n.runtime.topl&&n.parent.id!==(null===(o=n.runtime.topl.parent)||void 0===o?void 0:o.id)){const t=n.parent.parent;if(t){const i=t.runtime.topl.frames.find((e=>e.id===n.parent.id));i&&(e&&(n.runtime.topl.parent=i,i.comAry.find((e=>e.id===n.id))||i.comAry.push(n.runtime.topl)),d.push(`组件${n.runtime.title} 存在错误数据`))}}if(n.runtime.def.namespace===i.ZD.coms.selection&&(d.push("无效的 选区."),e))return!1;if((null===(r=n.runtime.topl)||void 0===r?void 0:r._F_)&&(d.push("无效的 未知组件."),e))return!1;if(n.slots){const t=[];n.slots.forEach((e=>{n.slots.filter((t=>t.id===e.id)).length>1&&t.find((t=>t.id===e.id))||t.push(e)})),t.length!==n.slots.length&&(e&&(n.slots=t),d.push(`组件${n.runtime.title} 存在错误数据`)),t.forEach((e=>{l.push((()=>{u(e)}))}))}return!0}));n.length<t.comAry.length&&e&&(t.comAry=n)}}t.configs.isTypeOfMPA()||n.curHostId&&(n.curHostId=void 0),n.slots.forEach((e=>{l.push((()=>{u(e)}))}));for(let e=0;e<l.length;e++)yield c(),l[e]();return d}))}function c(){return r(this,void 0,void 0,(function*(){return new Promise((e=>{requestIdleCallback((()=>{e()}))}))}))}},71336:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91716);class o{constructor(e){if(!e&&!this.id)try{this.id=(0,i.uR)()}catch(e){if(!(e instanceof TypeError))throw e}}}},93010:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i,o=n(91737),r=n(41733),s=n(71336),a=n(91716),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class{constructor(){this.aiWorkingF=!1,this.aiWorkingDoneF=!1,this.contextMenuF=!1,this.hoverF=!1,this.hoverFSilent=!1,this.openedF=!1,this.helpingF=!1,this.editingF=!1,this.editingTitleF=!1,this.resizingF=!1,this.runningF=!1,this._fTimeAry=[],this.now=0}isAIWorking(){return this.aiWorkingF}setAIWorking(){this.aiWorkingF=!0}cancelAIWorking(){this.aiWorkingF=!1}isAIWorkingDone(){return this.aiWorkingDoneF}setAIWorkingDone(){this.aiWorkingDoneF=!0}cancelAIWorkingDone(){this.aiWorkingDoneF=!1}pushFocusedTime(){this._fTimeAry.push((new Date).getTime()),this._fTimeAry.length>2&&this._fTimeAry.splice(0,this._fTimeAry.length-2)}popContextMenu(){this.contextMenuF=!0}cancelContextMenuPopped(){this.contextMenuF=!1}isContextMenuPopped(){return this.contextMenuF}isSelected(){return this._selected}selected(){this._selected=!0}cancelSelected(){this._selected=!1}open(){this.openedF=!0}openRecover(){this.openedF=!1}isOpened(){return this.openedF}disable(){this.now=-1}isDisabled(){return-1==this.now}static isDisabled(e){return-1==e}enable(){this.now=0,this._fTimeAry=[],this.editingF=!1,this.runningF=!1,this.editingTitleF=!1}isEnabled(){return 0==this.now}static isEnabled(e){return 0==e}isEnabledOrAbove(){return this.now>=0}static isEnabledOrAbove(e){return e>=0}hover(e){e?this.hoverFSilent=!0:this.hoverF=!0}hoverRecover(){this.hoverF=!1,this.hoverFSilent=!1}isHovering(){return this.hoverF||this.hoverFSilent}isHoveringSilent(){return this.hoverFSilent}editing(){this.editingF=!0}isEditing(){return this.editingF}editingRecover(){this.editingF=!1}isHelping(){return this.helpingF}helping(){this.helpingF=!0}helpingRecover(){this.helpingF=!1}focus(){this.now=2,this.pushFocusedTime()}focusPassive(){return this._focusPassive=!0,()=>{this._focusPassive=void 0}}focusedTimeRefresh(){this.pushFocusedTime()}get focusedStepTime(){let e=this._fTimeAry,t=e[e.length-1];return e.length>=2?t-e[e.length-2]:t-(new Date).getTime()}isFocused(){return 2==this.now}isFocusPassive(){return this._focusPassive}static isFocused(e){return 2==e}blur(e){this.now=0,this.editingTitleF=!1,this._fTimeAry=[],this.editingRecover(),e&&-1!=e.indexOf("open")||this.openRecover()}moving(){this.now=3}isMoving(){return 3==this.now}static isMoving(e){return 3==e}resizing(){this.resizingF=!0}isResizing(){return this.resizingF}resizingRecover(){this.resizingF=void 0}running(){this.runningF=!0}isRunning(){return this.runningF}runningRecover(){this.runningF=!1}};l([o.Nt,c("design:type",Boolean)],d.prototype,"aiWorkingF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"aiWorkingDoneF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"contextMenuF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"hoverF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"hoverFSilent",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"openedF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"helpingF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"editingF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"editingTitleF",void 0),l([o.Nt,c("design:type",String)],d.prototype,"editingId",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"resizingF",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"runningF",void 0),l([o.Nt,c("design:type","function"==typeof(i="undefined"!=typeof Array&&Array)?i:Object)],d.prototype,"_fTimeAry",void 0),l([o.Nt,c("design:type",Object)],d.prototype,"now",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"_focusPassive",void 0),l([o.Nt,c("design:type",Boolean)],d.prototype,"_selected",void 0),d=l([(0,o.yL)(r.MS+"ModelState"),c("design:paramtypes",[])],d);class u extends s.A{constructor(){super(...arguments),this.state=new d}get $el(){return this.__el__}set $el(e){this.__el__=e}set$elOnce(e){if(e){let t=this.__el__;if(t)if((0,a.sT)(e)){if(t.isConnected)return;{let n=t;for(;n;){if(n.parentNode===document.body)return;if(null===n.parentNode)return void(this.__el__=e);n=n.parentNode}}}else t.nodeType&&(t.parent||(this.__el__=e));else this.__el__=e}}updated(){this._updateTime=(new Date).getTime()}getUpdateTime(){return this._updateTime}clearUpdated(){this._updateTime=void 0}focus(){this.state.focus()}blur(){this.state.blur()}hadDestroyed(){return this.__destroied__}destroy(){return!!this.__destroied__||(this.__destroied__=!0,(0,o.i7)(this),!1)}}l([o.Nt,c("design:type",Number)],u.prototype,"_updateTime",void 0),l([o.Nt,o.CP,c("design:type",Object)],u.prototype,"__el__",void 0),l([o.Nt,o.CP,c("design:type",Object),c("design:paramtypes",[Object])],u.prototype,"$el",null)},55974:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i,o=n(91737),r=n(42342),s=n(41733),a=n(71336),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=i=class extends a.A{constructor(){super(...arguments),this.model={data:void 0,bindingsFrom:void 0,bindingsTo:void 0,inputAry:[],outputAry:[],outputEvents:{},style:new r.A,permissions:void 0,spm:void 0,extSourceCodes:void 0},this._forked={data:{},style:{}}}forkData(e,t){if(t)return(0,o.o8)(this.model.data);let n=this._forked.data[e];return n||(n=0===Object.keys(this._forked.data).length?this.model.data:(0,o.o8)(this.model.data),this._forked.data[e]=n),n}hasUI(e){const t=this.def.rtType;return!(!t&&e)&&(!(t&&!t.match(/react|vue|popup|vuePopup/gi))||void 0)}get autorun(){return this._autoRun||this.hasUI()}setDebugContext(e,t,n,i){if(this.geo)return this.geo.setDebugContext(e,t,n,i)}addForkContext(e,t,n){if(this.geo)return this.geo.addForkContext(e,t,n)}searchInModelData(e){const t=this.model.data,n=t=>{let n;try{if(n=decodeURIComponent(t),n){const t=n.indexOf(e);if(t>=0){let e;return e=t<40?n.substring(0,t):n.substring(t-40,t),e+=n.substring(t,t+40),`.. ${e.replace(/\n\t/g," ")} ..`}}}catch(e){}},i=e=>{for(let t in e){const o=e[t];let r;if("string"==typeof o){if(r=n(o),r)return r}else if(o&&"object"==typeof o)if(Array.isArray(o)){if(o.find(((e,t)=>{if(r=i(e),r)return r})),r)return r}else if(r=i(o),r)return r}};if(t&&"object"==typeof t){const e=i(t);if(e)return e}}clone({getBindingValue:e}){const t=new i;t.id=this.id,t.title=this.title,t.def=this.def,t.__cloned=!0;const n=this.model,r=(0,o.o8)(n.data),s=n.bindingsFrom;return s&&Object.keys(s).forEach((t=>{const n=e(s[t],t);let i=r;if(i){const e=t.split(".");e.forEach(((t,o)=>{o>=1&&(o===e.length-1?i[t]=n:i=i[t])}))}})),t.model={data:r,inputAry:(0,o.o8)(n.inputAry),outputAry:(0,o.o8)(n.outputAry),script:(0,o.o8)(n.script),style:n.style.clone(),permissions:(0,o.o8)(n.permissions)},t.geo=this.geo,t.topl=this.topl,this.cloned=t,t}toJSON(e,t){const n=this.model;if(e){const i={};return i.id=this.id,i.def=this.def,i.autorun=this.autorun,this.title&&(i.title=this.title),"geo"===t&&this.geo&&(i.style=n.style.toJSON(),this.topl||(i.model={data:(0,o.o8)(n.data),outputEvents:n.outputEvents?(0,o.o8)(n.outputEvents):void 0}),Object.assign(i,this.geo.toJSON(e))),"topl"===t&&(i.model={data:(0,o.o8)(n.data),style:n.style.clone(),outputEvents:n.outputEvents?(0,o.o8)(n.outputEvents):void 0},void 0!==n.script&&(i.model.script=(0,o.o8)(n.script)),n.permissions&&(i.model.permissions=(0,o.o8)(n.permissions)),this.topl&&Object.assign(i,this.topl.toJSON(e))),i}{const e={};return e.id=this.id,e.def=this.def,e.title=this.title,e.model={data:(0,o.o8)(n.data),style:n.style.clone(),permissions:n.permissions},void 0!==n.script&&(e.model.script=(0,o.o8)(n.script)),n.permissions&&(e.model.permissions=(0,o.o8)(n.permissions)),t?("geo"===t&&this.geo&&Object.assign(e,this.geo.toJSON()),"topl"===t&&this.topl&&Object.assign(e,this.topl.toJSON())):(this.geo&&(e.geo=this.geo.toJSON()),this.topl&&(e.topl=this.topl.toJSON())),e}}};l([o.Nt,c("design:type",Object)],d.prototype,"modelForToJSON",void 0),l([o.Nt,c("design:type",Object)],d.prototype,"_forked",void 0),l([o.Nt,c("design:type",Object)],d.prototype,"upgrade",void 0),l([o.Nt,c("design:type",String)],d.prototype,"_upgrade",void 0),l([o.Nt,c("design:type",d)],d.prototype,"cloned",void 0),d=i=l([(0,o.yL)(s.MS+"ComRuntimeModel")],d);const u=d},43769:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(55974),o=n(71336),r=n(91737);class s extends o.A{constructor(e,t,n){if(super(),this.deletable=!0,e){this.def=e,this.name=(0,r.uR)();const{namespace:o,version:s,rtType:a,title:l,style:c,data:d}=e,u=this.runtime=new i.A;u.title=n||l;let p=e.namespace.substring(e.namespace.lastIndexOf(".")+1)+(0,r.uR)("_",3).replace(/\-/gi,"_");u.refId=p,u.def={namespace:o,version:s,rtType:a},t&&(u._autoRun=!0);const f=u.model;if("object"==typeof c)for(const e in c)f.style[e]=c[e];if(d){if("object"!=typeof d)throw new Error("data in component must be an object.");f.data=JSON.parse(JSON.stringify(d))}else f.data={}}}init({cancel:e,viewSlot:t}){if(this._inited)return;this._inited=!0;const n=this.def,i=this.runtime,o=i.model,r=o.style;(()=>{if(n.editors){const s=n.editors["@init"];if("function"==typeof s){const n=this,a=(e,t)=>({id:e.id,title:e.title,rels:e.rels,setTitle(n){t&&(e.title=n)},get connectionCount(){},get schema(){return e.schema},setSchema(n){(t||"follow"===e.schema.type)&&(e.schema=n)},remove(){if(t){const e=t.find((e=>e.hostId===e.id));t.splice(t.indexOf(e),1)}},setRels(n){t&&(e.rels=n)}});s({get env(){return{canvas:{get id(){if(t)return t.id},get type(){if(t)return t.style.isDisplayTypeOfMobile()?"mobile":"pc"}}}},get data(){return o.data},get style(){return{get width(){return r.widthAuto?"auto":r.widthFull?"100%":r.width},set width(e){"auto"!==e&&"fit-content"!==e||(r.widthAuto=!0,r.widthFull=void 0),"100%"===e&&(r.widthFull=!0,r.widthAuto=void 0),r.width=e},get widthAuto(){return r.widthAuto},set widthAuto(e){e?(r.widthAuto=!0,r.widthFull=void 0):r.widthAuto=void 0},get height(){return r.heightAuto?"auto":r.heightFull?"100%":r.height},set height(e){"auto"!==e&&"fit-content"!==e||(r.heightAuto=!0,r.heightFull=void 0),"100%"===e&&(r.heightFull=!0,r.heightAuto=void 0),r.height=e},get heightAuto(){return r.heightAuto},set heightAuto(e){e?(r.heightAuto=!0,r.heightFull=void 0):r.heightAuto=void 0},get top(){return r.top},set top(e){r.top=e},get right(){return r.right},set right(e){r.right=e},get bottom(){return r.bottom},set bottom(e){r.bottom=e},get left(){return r.left},set left(e){r.left=e},get display(){return r.display},set display(e){r.display=e}}},isAutoRun:()=>i.autorun,setAutoRun(e){i._autoRun=e},get input(){return{get(e){if(!e){const e=[];i.model.inputAry.forEach((t=>{e.push({id:t.hostId,title:t.title})}));const t=n.def.inputs;return t&&t.forEach((t=>{e.push({id:t.id,title:t.title})})),e}let t=i.model.inputAry.find((t=>t.hostId===e));if(t)return a(t,i.model.inputAry);const o=n.def.inputs;return o&&(t=o.find((t=>t.id===e)),t)?a(t):void 0},add(e,t,n,o,r){i.model.inputAry.push({hostId:e,title:t,schema:n,deletable:o,conMax:r})}}},get output(){return{get(e){if(!e){const e=[];i.model.outputAry.forEach((t=>{e.push({id:t.hostId,title:t.title})}));const t=n.def.outputs;return t&&t.forEach((t=>{e.push({id:t.id,title:t.title})})),e}let t=i.model.outputAry.find((t=>t.hostId===e));if(t)return a(t,i.model.outputAry);const o=n.def.outputs;return o&&(t=o.find((t=>t.id===e)),t)?a(t):void 0},add(e,t,n,o,r){i.model.outputAry.push({hostId:e,title:t,schema:n,deletable:o,conMax:r})}}},setDesc(e){n.description=e}},{cancel:e})}}})()}get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}addInputPin(e){this.runtime.model.inputAry.push(e)}addOutputPin(e){this.runtime.model.outputAry.push(e)}}},42342:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i,o=n(91737),r=n(41733),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=i=class{constructor(){this.display="block"}findIndexBySelector(e){let t;return t=Array.isArray(e)?this.styleAry.findIndex((t=>{const n=t.selector;if(Array.isArray(n)&&n.length===e.length&&!n.find(((t,n)=>{if(e.indexOf(t)<0)return!0})))return!0})):this.styleAry.findIndex((t=>{if(t.selector===e)return!0})),t}addStyle(e,t,n,i){this.styleAry||(this.styleAry=[]);const o=this.findIndexBySelector(e);o>=0&&this.styleAry.splice(o,1),t&&this.styleAry.push({selector:e,css:t,global:n,withParentComId:i})}appendStyle(e,t){this.styleAry||(this.styleAry=[]);const n=this.findIndexBySelector(e);if(n>=0){const e=this.styleAry[n];e.css=Object.assign(Object.assign({},e.css),t)}else this.addStyle(e,t)}removeStyle(e){if(this.styleAry){const t=this.findIndexBySelector(e);t>=0&&this.styleAry.splice(t,1)}}getStyle(e){if(this.styleAry){const t=this.findIndexBySelector(e);if(t>=0)return this.styleAry[t]}}getStyleAryByPrefix(e){if(this.styleAry)return this.styleAry.filter((t=>{if(0===t.selector.indexOf(e))return t}))}clearStyleAry(){this.styleAry=void 0}_getMarginAsNum(e,t){const n=this[e];return void 0===n?0:t?n>=0?n:0:n}getMarginTopAsNum(e){return this._getMarginAsNum("marginTop",e)}getMarginRightAsNum(e){return this._getMarginAsNum("marginRight",e)}getMarginBottomAsNum(e){return this._getMarginAsNum("marginBottom",e)}getMarginLeftAsNum(e){return this._getMarginAsNum("marginLeft",e)}toCSS(){const e={width:this.width,height:this.height,display:this.display,[this.marginTop<0?"marginTop":"paddingTop"]:this.marginTop,[this.marginRight<0?"marginRight":"paddingRight"]:this.marginRight,[this.marginBottom<0?"marginBottom":"paddingBottom"]:this.marginBottom,[this.marginLeft<0?"marginLeft":"paddingLeft"]:this.marginLeft,visibility:this.visibility};return this.rotation&&(e.transform=`rotate(${this.rotation}deg)`,e.transformOrigin="center center"),e}isVisible(){return this.display&&("block"===this.display||"inline-block"===this.display)}isStylePositionOfDefault(){return!this.position}isPositionRelative(){const e=this.position;return!!/relative/gi.test(e)}isPositionAbsoluteOrFixed(){const e=this.position;return!!/absolute|fixed/gi.test(e)}isPositionAbsolute(){const e=this.position;return!!/absolute/gi.test(e)}isPositionSmart(){const e=this.position;return!!/smart/gi.test(e)}isPositionFixed(){const e=this.position;return!!/fixed/gi.test(e)}clearPosition(){this.position=void 0}clearResizingSnaps(){this.resizingSnapLeft=void 0,this.resizingSnapRight=void 0,this.resizingSnapTop=void 0,this.resizingSnapBottom=void 0}clearSuggest(e){e&&"x"!==e||(this.suggestLeft=void 0,this.suggestMiddleX=void 0,this.suggestRight=void 0),e&&"y"!==e||(this.suggestTop=void 0,this.suggestMiddleY=void 0,this.suggestBottom=void 0)}reset(){this.left=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0}clone(){const e=new i;for(const t in this)e[t]=this[t];const t=(0,o.o8)(this);return Object.assign(e,t),"fit-content"===this.width&&(e.maxWidth=this.width),e}toValues(e){const t={};return e.forEach((e=>{t[e]=this[e]})),t}toJSON(){const e={},t=this.isPositionAbsolute()||this.isPositionFixed()||this.isPositionSmart();for(const n in this)t&&n.match(/^margin/gi)||"function"!=typeof this[n]&&"factPosition"!==n&&(e[n]=this[n]);return void 0===e.position&&(e.position=this.factPosition),"fit-content"===this.width&&(e.maxWidth=this.width),e}};s([o.Nt,a("design:type",Boolean)],l.prototype,"rightFrozen",void 0),s([o.Nt,a("design:type",Boolean)],l.prototype,"bottomFrozen",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestLeft",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestMiddleX",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestRight",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestTop",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestMiddleY",void 0),s([o.Nt,a("design:type",Number)],l.prototype,"suggestBottom",void 0),s([o.Nt,a("design:type",Object)],l.prototype,"resizingSnapLeft",void 0),s([o.Nt,a("design:type",Object)],l.prototype,"resizingSnapRight",void 0),s([o.Nt,a("design:type",Object)],l.prototype,"resizingSnapTop",void 0),s([o.Nt,a("design:type",Object)],l.prototype,"resizingSnapBottom",void 0),l=i=s([(0,o.yL)(r.MS+"ComStyle")],l);const c=l},58388:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,ed:()=>u});var i,o=n(91737),r=n(41733),s=n(91716),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class{addLabel(e){this.labelAry.push(e)}addComment(e){const t=new p;t.content=e,this.commentAry.push(t)}constructor(){this.labelAry=[],this.commentAry=[]}};c=a([(0,o.yL)(r.MS+"CooperationModel"),l("design:paramtypes",[])],c);const d=c;let u=i=class{get title(){if(this.name)switch(this.name){case"todo":return"待完成";case"doing":return"进行中";case"done":return"已完成"}}get color(){if(this.name)switch(this.name){case"todo":return"#FA6400";case"doing":return"#039afd";case"done":return"#5bbd0b"}}constructor(e){e&&(this.name=e.name,this.creatorId=e.creatorId,this.creatorName=e.creatorName,this.createTime=(new Date).getTime(),this.description=e.description)}static getAllDef(){return[{value:"todo",label:"待完成",color:"#f38c23"},{value:"doing",label:"进行中",color:"#0baebd"},{value:"done",label:"已完成",color:"#5bbd0b"}]}clone(){return new i(this)}};a([o.Nt,l("design:type",Object),l("design:paramtypes",[])],u.prototype,"title",null),a([o.Nt,l("design:type",Object),l("design:paramtypes",[])],u.prototype,"color",null),u=i=a([(0,o.yL)(r.MS+"cooper.LabelModel"),l("design:paramtypes",[Object])],u);let p=class{constructor(){this.pubDate||(this.pubDate=(new Date).getTime())}getTimeFormat(){return(0,s.Yq)(this.pubDate)}};p=a([(0,o.yL)(r.MS+"cooper.CommentModel"),l("design:paramtypes",[])],p)},84794:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i,o,r,s,a=n(39503),l=n(91737),c=n(91716),d=n(41733),u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class f{constructor(){this.mode="Desn",this.themes={colorPrimary:"#FA6400"},this.debugEnable=!0,this.showMode="normal",this.geoZoom=1,this._pluginOn={},this.focusModelAry=[],this._registedBlur=[],this._designerVersion=0,this.envVars={scripts:{getUserToken:()=>"_envVars_.getUserToken()",getEnvType:()=>"_envVars_.getEnvType()",getEnvParam:e=>`_envVars_.getEnvParam('${e}')`},debug:{userToken:void 0,envType:void 0,envParams:void 0}}}get currentRole(){return this._currentRole}set currentRole(e){this._currentRole=e,"proto"===e?(this.themes.colorPrimary="#438c06",document.body.style.setProperty(d.Jc.colorPrimary,this.themes.colorPrimary)):(this.themes.colorPrimary="#FA6400",document.body.style.setProperty(d.Jc.colorPrimary,this.themes.colorPrimary))}isRoleOfDev(){return!this.currentRole||"dev"===this.currentRole}isRoleOfProto(){return"proto"===this.currentRole}setCooperationAry(e){const t=this.cooperationAry;if(t){const n=t.filter((t=>{if(!e.find((e=>e.type===t.type&&e.canvasId===t.canvasId)))return t})),i=[...e,...n];this.cooperationAry=i}else this.cooperationAry=e}addCooperation(e){if(this.cooperationAry||(this.cooperationAry=[]),e.users){let t;this.cooperationAry.find((e=>e.users.find((e=>{if(e.isMe&&e.avatarUrl)return t=e,!0})))),t&&e.users.forEach((e=>{e.isMe&&!e.avatarUrl&&(e.avatarUrl=t.avatarUrl)}))}this.cooperationAry.push(e)}updateCooperation(e){if(this.cooperationAry){let t;this.cooperationAry.find(((n,i)=>{if(n.type===e.type&&n.canvasId===e.canvasId)return t=i,!0})),void 0!==t?this.cooperationAry.splice(t,1,e):this.cooperationAry.push(e)}}getCooperationByCanvasId(e){if(this.cooperationAry)return this.cooperationAry.find((t=>"canvas"===t.type&&t.canvasId===e))}hasGlobalPermission(){return!this.cooperationAry||0===this.cooperationAry.length||this.cooperationAry.find((e=>{if("global"===e.type&&e.users&&e.users.find((e=>{if(e.isMe&&e.writeable)return!0})))return!0}))}hasCanvasPermission(e){return!this.cooperationAry||0===this.cooperationAry.length||this.cooperationAry.find((t=>{if("canvas"===t.type&&t.canvasId===e){const e=t.users;if(e&&e.find((e=>{if(e.isMe&&e.writeable)return!0})))return!0}}))}popMenu(e,t,n,i){this._popup={type:"menu",jsxFn:e,targetElement:t,options:n,onClose:i}}set pageLoader(e){}registerBlur(e,t){"function"==typeof e&&(t?this._registedBlur.push({once:!0,fn:e}):this._registedBlur.push(e))}getPluginAry(){var e;return null===(e=this.configs)||void 0===e?void 0:e.plugins}getPlugin(e){var t;const n=null===(t=this.configs)||void 0===t?void 0:t.plugins;if(n)return n.find((t=>t.namespace===e))}setPluginOn(e,t,n){let i=this._pluginOn[e];i||(this._pluginOn[e]=i={}),i[t]=n}getPluginOn(e,t){if(!t){const t=[];return Object.values(this._pluginOn).forEach((n=>{const i=n[e];"function"==typeof i&&t.push(i)})),t.length>0?t:void 0}{const n=this._pluginOn[t];if(n)return n[e]}}initPluginDataset(e){this._pluginDataset=e}getPluginData(e){let t;if(this._pluginDataset){t=this._pluginDataset[e];const n=this.getPluginAry();if(!t&&Array.isArray(n)){const i=n.find((t=>t.namespace===e));if(i&&i.data){if("function"==typeof i.data)try{t=new(0,i.data)}catch(e){throw new Error(`Invalid data in Plugin(${i.title}) \n ${e.message}`)}else{if("object"!=typeof i.data)throw new Error(`Invalid data type in Plugin(${i.title})`);t=(0,l.o8)(i.data)}this._pluginDataset[e]=t}}}return t}focusOn(e){if("function"==typeof e){if(this.focusModelAry)return this.focusModelAry.find(e)}else if(this.focusModelAry)return this.focusModelAry.find((t=>t===e))}focus(e){-1===this.focusModelAry.indexOf(e)&&(e?this.reFocus(e):this.blur())}reFocus(e){!e&&this.focusModelAry.length>0&&(e=this.focusModelAry[0]),e&&(this.blur(),"object"==typeof e&&e&&("function"==typeof e.focus&&e.focus(),this.focusModel=e,this.focusModelAry.push(e)))}exeBlurFns(){this._registedBlur.forEach(((e,t)=>{try{if("function"==typeof e){!1===e()&&this._registedBlur.splice(t,1)}else if("object"==typeof e){const n=e.fn();(e.once||!1===n)&&this._registedBlur.splice(t,1)}}catch(e){console.error(e)}}))}blur(){this.focusModelAry.forEach((e=>{"function"==typeof e.blur&&e.blur()})),this.focusModel=void 0,this.focusModelAry=[],this.exeBlurFns()}getMode(){return this.mode}isDebugEnable(){return this.debugEnable}setDebugDisable(){this.debugEnable=!1}setDebugEnable(){this.debugEnable=!0}isDesnMode(){return"Desn"===this.mode}setModeDesn(){this.mode="Desn"}isDesnModeOfNormal(){return this.isDesnMode()&&(!this._configs.desnMode||"normal"===this._configs.desnMode)}setModeDesnOfNormal(){this._configs.desnMode="normal"}isConfigAsBluePrint(){return"blueprint"===this._configs.desnMode}isDesnModeOfBluePrint(){return this.isDesnMode()&&this.isConfigAsBluePrint()}setModeDesnOfBluePrint(){this._configs.desnMode="blueprint"}isDesnModeOfComponent(){return this.isDesnMode()&&"component"===this._configs.desnMode}setModeDesnOfComponent(){this._configs.desnMode="component"}isDebugMode(){return"Debug"===this.mode}setModeDebug(){this.mode="Debug"}isShowModelFullScreen(){return"fullscreen"===this.showMode}setShowModelFullScreen(){this.showMode="fullscreen"}setShowModelNormal(){this.showMode="normal"}get useLatestFeatures(){return!0}get configs(){return this._configs}set configs(e){const t=this;if(!t._configs&&"object"==typeof e&&e){if(!e.comLibLoader||"function"!=typeof e.comLibLoader)throw new Error("Invalid comLibLoader config.");t._configs={};for(let n in e)t._configs[n]=e[n];t._configs.isTypeOfMPA=()=>{const e=t._configs;if("function"==typeof e.pageMetaLoader){const t=e.type;if(t&&"MPA"===t.toUpperCase())return!0}return!1}}}appendConfigs(e,t){this._configs[e]||(this._configs[e]=t)}set comLibAry(e){this._comLibAry=e.filter((e=>e))}get comLibAry(){return this._comLibAry}addComLib(e){this.comLibAry.find((t=>t.id===e.id))||this.comLibAry.push(e)}removeComLib(e){this.comLibAry.find((t=>t.id===e))&&(this.comLibAry=this.comLibAry.filter((t=>t.id!==e)))}getAllComDef(){if(this.comLibAry){const e={},t=n=>{n.forEach((n=>{n.comAray?t(n.comAray):e[`${n.namespace}-${n.version}`]=n}))};return this.comLibAry.forEach((e=>{const n=e.comAray;n&&Array.isArray(n)&&t(n)})),e}}getComDefAryByConnectorSchema(e){const t=[];if(this.comLibAry){const n=i=>{i.forEach((i=>{var o;i.comAray?n(i.comAray):(null===(o=i.connector)||void 0===o?void 0:o.schema)&&(0,c.NV)(e,i.connector.schema)&&t.push(i)}))};return this.comLibAry.forEach((e=>{const t=e.comAray;t&&Array.isArray(t)&&n(t)})),t}}getComDef(e){if(this.comLibAry){const{namespace:t,version:n}=e,i=[];let o;function r(e){return e.find((e=>Array.isArray(e.comAray)?r(e.comAray):e.namespace===t&&(i.push(e),n&&e.version===n)?(o=e,!0):void 0))}return this.comLibAry.forEach((e=>{if(e.comAray)return r(e.comAray)})),!o&&i.length>0?(i.sort(((e,t)=>(0,c.gz)(t.version,e.version))),i[0]):(0,l.AF)(o)}}addComDef(e){if(this.comLibAry){let t=this.comLibAry.find((e=>e.defined));t||(t={id:"mylib",defined:!0,title:"我的组件",comAray:[]},this.comLibAry.push(t)),t.comAray.push(e)}}getAllComDefArray(e){const t=[];return function t(n,i){n.forEach((n=>{if(n.comAray)t(n.comAray,i);else{if(void 0!==n.visibility&&!n.visibility||e&&!1===e(n))return;i.push(n)}}))}(this.comLibAry,t),t}}f.DESIGNER_VERSION=.2,u([l.CP,p("design:type",Object)],f.prototype,"clipboard",void 0),u([l.CP,p("design:type",Object)],f.prototype,"_pluginOn",void 0),u([l.Nt,p("design:type",Object)],f.prototype,"focusModel",void 0),u([l.Nt,p("design:type","function"==typeof(i="undefined"!=typeof Array&&Array)?i:Object)],f.prototype,"focusModelAry",void 0),u([l.Nt,p("design:type",Object)],f.prototype,"_registedBlur",void 0),u([l.CP,p("design:type","function"==typeof(o=void 0!==a.Sc&&a.Sc)?o:Object)],f.prototype,"_configs",void 0),u([l.CP,p("design:type","function"==typeof(r=void 0!==a.Sc&&a.Sc)?r:Object),p("design:paramtypes",["function"==typeof(s=void 0!==a.Sc&&a.Sc)?s:Object])],f.prototype,"configs",null)},57695:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n.n(i),r=n(47587);class s extends o().Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const e=this.state.errorInfo;if(e){const t=this.props.onError,n=this.props.model,i=this.props.emitLogs;let s;return s=this.state.error?this.state.error.toString():e.componentStack,i&&i.error("组件发生错误",s,{model:n}),"function"==typeof t&&t(s),o().createElement("div",{className:r.A.errorRT},"function"==typeof this.props.render?this.props.render():o().createElement("div",{className:r.A.tt},this.props.title),o().createElement("div",{className:r.A.info},this.state.error&&this.state.error.toString()),o().createElement("div",{className:r.A.stack},e.componentStack))}return this.props.children}}},37536:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(41733),r=n(71336),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.A{constructor(e){if(super(),e)for(const t in e)this[t]=e[t]}ifContentValid(e){if(!this.content)return!1;if(this.content)if(e){const t=this.content[e];if(t&&""!==t)return!0}else if(!Object.keys(this.content).find((e=>!this.content[e]||""===this.content[e])))return!0;return!1}ifMatch(e,t){if(this.content){const n=this.content[t];if(n)return n.indexOf(e)>-1}return!1}getContent(e){if(this.content)return this.content[e]}setContent(e,t){this.content||(this.content={}),this.content[t]=e}toHTML(){const e=this.id,t=this.content;if(t){const n=[`<div style="color:#AAA;">Id<span>${e}</span></div>`];return Object.keys(t).forEach((e=>{n.push(`<div>${t[e]}<span>(${e})</span></div>`)})),`<div>${n.join("")}</div>`}}};l=s([(0,i.yL)(o.MS+"LocaleItemModel"),a("design:paramtypes",[Object])],l);const c=l},59492:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(43769);class o extends i.A{constructor(e,t){super(e),this.title=t.title,this.slotId=t.slotId}}},42661:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(91737),o=n(41733),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let a=class{constructor(e){this.openedPageAry=[],e?(Array.isArray(e.openedPageAry)&&(this.openedPageAry=e.openedPageAry),Array.isArray(e.pageAry)?this.pageAry=e.pageAry:this.pageAry=[]):this.pageAry=[]}hasPage(e){const t=this.pageAry.find((t=>t.id===e));return!(!t||t._deleteTime)}hasScene(e){let t;return this.pageAry.find((n=>{if(n.slot){if(n.slot.id===e)return t=n,!0;if(n.slot.slots&&(t=n.slot.slots.find((t=>t.id===e)),t))return!0}})),!(!t||t._deleteTime)}getPageById(e){let t;return this.pageAry.find((n=>n.id===e?(t=n,!0):n.scenes?n.scenes.find((n=>{if(n.id===e)return t=n,!0})):void 0)),t}getSceneById(e){let t;return this.pageAry.find((n=>{if(n.scenes)return n.scenes.find((n=>{if(n.id===e)return t=n,!0}))})),t}getAllPageLength(){return this.pageAry.length}getPageAry(){return this.pageAry}changeOrder(e,t){const n=this.openedPageAry.find((t=>t.id===e));if(n){n._upateTime=(new Date).getTime();const e=this.openedPageAry.indexOf(n);if(e===t)return;e<t?(this.openedPageAry.splice(e,1),this.openedPageAry.splice(t-1,0,n)):(this.openedPageAry.splice(e,1),this.openedPageAry.splice(t,0,n))}}addPage(e){e._upateTime=(new Date).getTime(),this.pageAry.push(e),this.openedPageAry.push(e)}addScene(e,t){const n=this.getPageById(e);if(n){let e=n.scenes;e||(e=n.scenes=[]),e.push(t),n._upateTime=(new Date).getTime()}}deleteScene(e,t){if(this.pageAry){const n=this.pageAry.find((t=>t.id===e));if(n&&n.scenes){const e=n.scenes.find((e=>e.id===t));e&&(e._deleteTime=(new Date).getTime())}}}updateScene(e,t,n){if(this.pageAry){const i=this.pageAry.find((t=>t.id===e));if(i){const e=i.scenes.find((e=>e.id===t));e&&(e._upateTime=(new Date).getTime(),n.title&&(e.title=n.title),n.slot&&(e.slot=n.slot),n.frame&&(e.frame=n.frame))}}}updatePage(e,t){if(this.pageAry){const n=this.pageAry.find((t=>t.id===e));n&&(n._upateTime=(new Date).getTime(),t.title&&(n.title=t.title),t.slot&&(n.slot=t.slot),t.frame&&(n.frame=t.frame))}}setPageTitle(e,t){if(this.pageAry){const n=this.pageAry.find((t=>t.id===e));n&&(n._upateTime=(new Date).getTime(),n.title=t)}}deletePage(e){if(this.pageAry){const t=this.pageAry.find((t=>t.id===e));t&&(t._deleteTime=(new Date).getTime()),this.closePage(e)}}openPage(e){const t=this.pageAry.find((t=>t.id===e));t&&!this.openedPageAry.find((t=>t.id===e))&&this.openedPageAry.push(t)}closePage(e){if(this.openedPageAry){const t=this.openedPageAry.findIndex((t=>t.id===e));t>=0&&this.openedPageAry.splice(t,1)}}reset(){this.pageAry.forEach((e=>{delete e._upateTime}))}};a=r([(0,i.yL)(o.MS+"PageMetaModel"),s("design:paramtypes",[Object])],a);const l=a},8666:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(41733),r=n(71336),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.A{constructor(e){if(super(),this.type="none",this.register={},e){const{type:t,register:n}=e;t&&(this.type=t),n&&(this.register=n)}}isTypeOfNone(){return"none"===this.type}};l=s([(0,i.yL)(o.MS+"PermissionModel"),a("design:paramtypes",[Object])],l);const c=l},71098:(e,t,n)=>{"use strict";function i({sceneAddableAry:e}){return`\n<MyBricks平台>\n  MyBricks是用来搭建各类应用UI界面的生产力工具，用户可以通过拖拽、配置等方式，快速搭建出各类应用的UI界面。\n  \n  MyBricks产品由以下功能区域构成：\n  左侧的插件面板、中间的工作区（由UI面板、交互面板构成）、右侧的配置面板、底部的状态面板.\n  \n  ## 插件面板\n  位于左侧，提供各类常用插件，主要包括：\n    - 连接器：用于配置应用的服务接口等，用户可以通过连接器配置应用的服务接口；\n    - 文件工具：可以导入、导出MyBricks文件；\n  \n  ## UI面板\n  位于工作区的上半部分，搭建并调试UI界面的工作区域，功能如下：\n    - 新建场景：左上角的“添加场景”按钮，可以新建场景；\n    - 查看当前场景的大纲：左上角的“#”按钮，可以查看当前聚焦场景中的组件列表；\n    - 调试：右上角的“调试”按钮，可以调试当前场景；\n    - 组件库面板：右上角的“添加组件与模块”按钮，可以打开组件库面板：\n      - 组件库面板可以查看所有可用的UI组件；\n      - 通过拖拽或点击组件到场景中，实现UI界面的搭建；\n      - 点击“添加组件库”，可以添加其他的组件库；\n      \n    - 对画布总体进行缩放：右上角的“缩放画布”，可以对画布进行缩放；\n  \n  ## 交互面板\n  位于工作区的下半部分，用户可以通过拖拽、连线等方式，对组件进行逻辑编排，实现组件之间的数据交互；\n  \n  ## 配置面板\n  位于右侧，用户可以通过配置面板对组件进行配置，包括组件的属性、样式等；\n  \n  ## 状态面板\n  位于底部，显示当前应用的复杂度统计信息（从L1到L5、复杂度依次递增），以及搭建时长、错误信息等内容。\n  \n  \n  在MyBricks的概念体系里，无论何种应用，从设计角度都可以拆分成：UI画布与交互编排两个主要部分，其中UI画布用于搭建UI界面，交互编排用于实现逻辑交互。\n  \n  <UI画布>\n   对于UI画布，主要由画布、场景、组件组成，一个应用由多个画布组成，一个画布由多个场景组成，一个场景由多个组件组成，以下是对这些概念的详细说明：\n   **画布（Canvas）**\n   画布是一组场景的集合，用户可以在画布上新建、删除场景，对场景进行排序等；\n   \n   **场景（Scene）**\n   场景按照功能划分，分为页面、对话框、抽屉等类型，用户可以在场景上拖拽、配置组件，实现UI界面的搭建；\n   当前可以添加的场景包括：${e.join("、")}；\n   \n   **组件（Component）**\n   组件是UI界面的最小单元，用户可以在画布上拖拽组件，对组件进行配置，实现UI界面的搭建；\n    \n   注意：\n    - 场景中仅可添加UI组件(type=UI)，无法添加非UI组件、包括js、js-auto、Fx、变量等计算组件；\n    - 组件可以通过插槽包含其他的组件，例如布局容器的插槽中可以嵌套按钮组件，表单容器的插槽中可以嵌套输入框组件等；\n    - 没有插槽的组件无法嵌套添加其他的组件；\n  </UI画布>\n \n  <交互编排>\n   对于交互编排，主要由各类交互卡片（类似流程图）构成，用户在这些交互卡片中可以对组件进行逻辑编排，以下是对这些概念的详细说明：\n\n   # 逻辑编排\n   > MyBricks基于数据流的方式，通过 输出项 连接到 输入项 的方式，实现数据交互；\n   \n     **输出项（output）**\n     数据流出的端口，输出项由id、title、schema等信息构成。\n      - 数据可能从交互卡片或者组件流出\n      - 组件有输出项、卡片也可能有输出项\n      - 组件的输出项往往对应某事件，例如按钮组件的点击事件，对应一个输出项\n     \n     **输入项（inputs）**\n     数据流入的端口，输入项由id、title、schema等信息构成.\n      - 数据可能从交互卡片或者组件流入\n      - 组件有输入项、卡片也可能有输入项\n\n     注意：\n      - 输出项只能与输入项进行连接\n      - 输出项无法添加任何组件，只能连接到组件的输入项\n     \n   # 交互卡片\n   > MyBricks提供了以下几类卡片：\n   \n     **场景（Scene）卡片**\n     用于描述场景初始化（打开）时的交互流程，当场景打开时被触发；\n     - 场景卡片的输出项：打开\n        \n     **事件卡片**\n     用户描述组件的事件触发流程，当组件的事件触发时触发，例如按钮点击时触发\n     - 事件卡片一般有一个输出项；\n      \n  </交互编排>\n</MyBricks平台>\n\n`}function o(e){let t="";return(null==e?void 0:e.comDefPrompts)&&(t=`\n    <允许使用的组件>\n        下面以JSON的形式声明了可以使用的所有组件的摘要信息：\n        \n    ${e.comDefPrompts}\n    \n    注意：\n      - 以上只是摘要信息，当需要使用这些组件做搭建或给出搭建建议时，需要判断其是否在【知识库】中有定义，如果没有需要通过requre加载；\n      - 在【知识库】中有组件的详细定义，在实际搭建中，可以参考【知识库】中的组件定义；\n      - 显示/隐藏 输入项，可以通过输入的数据决定该组件显示还是隐藏。\n    </允许使用的组件>\n    `),`\n<MyBricks组件>\n   MyBricks组件是构成场景、画布的重要基础，支持外部通过输入项(input)接收外部数据，或者通过输出项(output)与外界进行互动，\n   此外，还可以通过插槽(slot)包含其他内容，以及用户可以通过通过配置项进行手动配置编辑。\n\n   MyBricks组件由以下几个部分构成：\n    - title：组件的标题，用于描述组件的功能；\n    - description：组件的描述，用于描述组件的功能、特性等信息；\n    - namespace：定义该组件的命名空间，用于唯一标识某类组件；\n    - type：组件的类型，可取值为UI或js或js-autorun，用于区分UI组件与计算组件；\n    - model：组件的数据模型，用于描述组件的属性、状态等信息；\n    - slots：组件的插槽，用于描述组件的插槽信息，插槽可以嵌套其他组件，插槽根据type区分、分为布局插槽与作用域插槽；\n    - inputs：组件的输入项，外界可以通过输入项与组件进行通信；\n    - outputs：组件的输出项，组件可以通过输出项与外界进行通信。\n  \n    注意：\n    1、只有UI组件在UI面板的场景中可用于界面的搭建，所有类型的组件都可以参与逻辑编排；\n    2、插槽中可以嵌套其他组件，插槽分为三类：场景插槽、组件普通插槽与组件作用域插槽。插槽由以下几个部分构成(JSON格式)：\n      - id：插槽的唯一标识；\n      - title：插槽的标题；\n      - type：插槽的类型，可取值为null或scope，用来区分普通插槽与作用域插槽；\n      - outputs：插槽的输出项，用于当前范围内数据的输出，在逻辑编排时，可以与插槽内的组件输入项进行连接；\n      - inputs：插槽的输入项，用于当前范围内数据的输入，在逻辑编排时，可以与插槽内的组件输出项进行连接；\n      \n      组件的普通插槽，主要用于在UI画布中组件的嵌套，不可以进行逻辑编排，在交互面板中也无法看到；\n      组件的作用域插槽，可以进行逻辑编排，此外：\n      1）可以创建该作用域范围的变量组件（可简称变量）,变量可用于数据的存取，可参与逻辑编排;\n      2）可以创建Fx卡片,Fx卡片可用于对于重复出现的逻辑进行封装，具备一个输入项与一个输出项;\n    3、UI类型组件的 显示/隐藏 输入项，可以通过输入的数据决定该组件显示还是隐藏；\n\n${t}\n</MyBricks组件>\n`}n.d(t,{F:()=>i,b:()=>o})},47265:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var i,o=n(91716);!function(e){class t{constructor(e,t,n,i,o){this.title=e,this.description=t,n&&(this.sameAsShortcut=n),i&&(this.onCatelogChange=i),this.catelog=o}}e.Category=class extends t{constructor(e){"string"==typeof e?super(e):"object"==typeof e&&(super(e.title),this.setTitle=e.setTitle),this.id=(0,o.uR)()}addGroup(e){(this.groups||(this.groups=[])).push(e)}};class n extends t{constructor(e){if(e)if("object"==typeof arguments[0]){const{id:t,title:n,description:i,sameAsShortcut:o,onCatelogChange:r,ifVisible:s,catelog:a,folded:l}=e;super(n,i,o,r,a),"function"==typeof s&&(this.ifVisible=s),this.id=t,this.folded=l}else super(arguments[0],arguments[1],arguments[2]);else super();this.id||(this.id=(0,o.uR)())}addSeparator(){(this.items||(this.items=[])).push(new r)}addItem(e){e&&((this.items||(this.items=[])).push(e),(e instanceof n||e instanceof i)&&e.sameAsShortcut&&(this.shortcuts||(this.shortcuts=[])).push(e))}addItems(e){e&&e.forEach((e=>{e&&this.addItem(e)}))}fixedAtBottom(){return"bottom"===this.fixedAt}}e.Group=n;e.ErrorItem=class extends t{constructor(e,t){super(e.title,e.description,t)}};class i extends t{constructor(e,t){super(e.title,e.description,t),this.type=e.type,e.selector&&(this.selector=e.selector),this.binding=e.binding,this.value=e.value,this.options=e.options,"function"==typeof e.ifVisible&&(this.ifVisible=e.ifVisible),"function"==typeof e.ifRefresh&&(this.ifRefresh=e.ifRefresh),"function"==typeof e.getUpdater&&(this.getUpdater=e.getUpdater),this.selected=e.selected,this.selectable=e.selectable,e.ele&&(this.ele=e.ele),e.comModel&&(this.comModel=e.comModel),e.comEle&&(this.comEle=e.comEle),e.canvasEle&&(this.canvasEle=e.canvasEle),this.catelog=e.catelog,e.edtContext&&(this.edtContext=e.edtContext),e.zoom&&(this.zoom=e.zoom)}}e.EditItem=i;class r extends t{}e.SeperatorItem=r;e.FunctionItem=class extends t{constructor(e){super(),this.fn=e}};e.RenderItem=class extends t{constructor(e,t,n){super(e),this.content=t,this.props=n}}}(i||(i={}))},41733:(e,t,n)=>{"use strict";n.d(t,{CK:()=>s,Jc:()=>b,MD:()=>i,MS:()=>o,Ut:()=>d,W1:()=>c,ZD:()=>a,a8:()=>p,iK:()=>h,nm:()=>g,oj:()=>y,qK:()=>m,qT:()=>r,v5:()=>u,vm:()=>f});const i="_mybricks-geo-webview_",o="xg.desn.sdk.",r="COMDEV",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAIxJREFUOE+tkgEKgDAMA7OXqS9Tf6Y/k4AZsVsdiIUxGLu0aVvwMUrCzQB4VgA7gC3+i6CAAwAPg1AjILAHxCQSWCgq0EtpyrKyKXayCgcF+C2fBOiVwbcuqBIpMN2A/MrSK8hPDEHKNsz4K1j9+xxjc2LGh+e4AD4Kb0hsErKVkzpn5ltUlyIDh6t/Ad3mKA/tblYeAAAAAElFTkSuQmCC";var a,l,c,d;!function(e){e.id="mybricks-core-comlib",e.namespacePre="mybricks.core-comlib.",e.coms={var:e.namespacePre+"var",frameIn:e.namespacePre+"frame-input",frameOut:e.namespacePre+"frame-output",fn:e.namespacePre+"fn",service:e.namespacePre+"service",scenes:e.namespacePre+"scenes",module:"mybricks.core-comlib.module",group:e.namespacePre+"group",selection:e.namespacePre+"selection",aiJx:e.namespacePre+"js-ai"}}(a||(a={})),function(e){e.INIT="_init_"}(l||(l={})),function(e){e.PARENT_UPDATED="@parentUpdated",e.CHILD_ADD="@childAdd",e.CHILD_REMOVE="@childRemove",e.DOMAIN_MODEL_UPDATED="@domainModelUpdated",e.DOMAIN_MODEL_REMOVED="@domainModelRemoved",e.CONNECTOR_UPDATED="@connectorUpdated",e.CONNECTOR_REMOVED="@connectorRemoved",e.INPUT_CONNECTED="@inputConnected",e.INPUT_DIS_CONNECTED="@inputDisConnected",e.INPUT_REMOVED="@inputRemoved",e.OUTPUT_REMOVED="@outputRemoved",e.INPUT_UPDATED="@inputUpdated",e.OUTPUT_UPDATED="@outputUpdated",e.OUTPUT_CONNECTED="@outputConnected",e.OUTPUT_DIS_CONNECTED="@outputDisConnected",e.SLOT_OUTPUT_UPDATED="@slotOutputUpdated",e.SLOT_INPUT_UPDATED="@slotInputUpdated",e.SLOT_INPUT_CONNECTED="@slotInputConnected",e.SLOT_OUTPUT_CONNECTED="@slotOutputConnected",e.SLOT_INPUT_DIS_CONNECTED="@slotInputDisConnected",e.SLOT_OUTPUT_DIS_CONNECTED="@slotOutputDisConnected"}(c||(c={})),function(e){e.LABEL="_label",e.AI="_ai",e.SCHEMA="_schema",e.SCHEMA_VALUE="_schemaValue",e.TYPE_CHANGE="_typeChange",e.DATASOURCE="_dataSource",e.THEME_SELECT="_themeSelect",e.DOMAINMODELSELECT="_domainModelSelect",e.PERMISSION="_permission",e.CONNECTORSELECT="_connectorSelect",e.SCENE_SELECT="_sceneSelect",e.PAGE_SELECT="_pageSelect",e.EVENT="_EVENT",e.SELF="SELF",e.TEXT="TEXT",e.NUMBER="NUMBER",e.INPUTNUMBER="INPUTNUMBER",e.BUTTON="BUTTON",e.TEXTAREA="TEXTAREA",e.RADIO="RADIO",e.SLIDER="SLIDER",e.SELECT="SELECT",e.SWITCH="SWITCH",e.COLORPICKER="COLORPICKER",e.SCRATCH="SCRATCH",e._TEXT_="_TEXT_",e.COMSIZE="_COMSIZE",e.RESIZER="_RESIZER_",e.RESIZERH="_RESIZERH_",e.RESIZERV="_RESIZERV_",e.SERVICESELECT="SERVICESELECT",e.TREESELECT="TREESELECT",e.INPUT_GROUP="inputGroup",e.INPUT_TABLE="inputTable",e.STYLE="STYLE",e.COMSELECTOR="COMSELECTOR"}(d||(d={}));const u=[{type:"number",title:"数字",strokeColor:"#4460B8",fillColor:"#8297DA"},{type:"boolean",title:"布尔",strokeColor:"#ff0000",fillColor:"#f8bcbc"},{type:"string",title:"字符",strokeColor:"#88a409",fillColor:"#b4cb9a"},{type:"object",title:"对象",strokeColor:"#9727d0",fillColor:"#e4b1f8"},{type:"indexObject",title:"索引对象",strokeColor:"#c4049d",fillColor:"#eab9fd"},{type:"array",title:"数组",strokeColor:"#ce980f",fillColor:"#ecc86a"},{type:"list",title:"数组",strokeColor:"#ce980f",fillColor:"#ecc86a"},{type:"tuple",title:"元组",strokeColor:"#ce6903",fillColor:"#f1be83"},{type:"enum",title:"枚举",strokeColor:"#02be8d",fillColor:"#aee3de"},{type:"any",title:"任意",strokeColor:"#999",fillColor:"#FFF"},{type:"follow",title:"跟随",strokeColor:"#999",fillColor:"#FFF"},{type:"unknown",title:"未知",strokeColor:"#999",fillColor:"#DDD"}],p=[{id:"click",title:"点击",type:"event",schema:{type:"any"}},{id:"scroll",title:"滚动",schema:{type:"object",properties:{scrollTop:{type:"number"},scrollLeft:{type:"number"}}}},{id:"load",title:"加载完成",schema:{type:"any"}},{id:"unload",title:"卸载",schema:{type:"any"}}],f=414,h={MOBILE:"media-mobile",TABLET:"media-tablet",DESKTOP:"media-desktop"},m=[{id:"_open",hostId:"_open",title:"打开",schema:{type:"follow"}}],g=[{id:"open",hostId:"open",title:"打开",schema:{type:"follow"}}],y=[{id:"commit",title:"确定",schema:{type:"follow"}},{id:"cancel",title:"取消",schema:{type:"any"}},{id:"close",title:"关闭",schema:{type:"any"}},{id:"apply",title:"应用",schema:{type:"follow"}}],b={colorPrimary:"--mybricks-color-primary"}},44326:(e,t,n)=>{"use strict";var i;n.d(t,{Z:()=>i}),function(e){e.Note=class{};e.WindowEvents=class{};e.AI=class{};e.Command=class{};e.Editor=class{};e.Env=class{};e.Scenes=class{};e.Page=class{};e.DataSource=class{};e.Label=class{};e.Variable=class{};e.DomainModel=class{};e.Locale=class{};e.Permission=class{};e.Connector=class{};e.File=class{};e.ComLib=class{};e.Find=class{};e.Snap=class{};e.Message=class{};e.Module=class{};e.Views=class{};e.Diagram=class{};e.FxFrame=class{};e.Frame=class{};e.Component=class{};e.Role=class{};e.LowCode=class{};e.Debug=class{};e.Logs=class{};e.IOCAbout=class{}}(i||(i={}))},68534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArrowDown:()=>r,ArrowRight:()=>o});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M249.311159 881.975333 619.286492 512 249.311159 142.024667 327.012845 64.322981 774.688841 512 327.012845 959.677019Z"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M881.975333 249.311159 512 619.286492 142.024667 249.311159 64.322981 327.012845 512 774.688841 959.677019 327.012845Z"}))},4904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Breakpoint:()=>s,Debug:()=>o,IgnoreBreakpoint:()=>a,IgnoreForDebug:()=>c,Resume:()=>r,Stop:()=>l});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M1022.06544 583.40119c0 11.0558-4.034896 20.61962-12.111852 28.696576-8.077979 8.077979-17.639752 12.117992-28.690436 12.117992L838.446445 624.215758c0 72.690556-14.235213 134.320195-42.718941 184.89915l132.615367 133.26312c8.076956 8.065699 12.117992 17.634636 12.117992 28.690436 0 11.050684-4.034896 20.614503-12.117992 28.691459-7.653307 8.065699-17.209964 12.106736-28.690436 12.106736-11.475356 0-21.040199-4.041036-28.690436-12.106736L744.717737 874.15318c-2.124384 2.118244-5.308913 4.88424-9.558703 8.283664-4.259 3.3984-13.180184 9.463536-26.78504 18.171871-13.598716 8.715499-27.415396 16.473183-41.439808 23.276123-14.029528 6.797823-31.462572 12.966313-52.289923 18.49319-20.827351 5.517667-41.446971 8.28571-61.842487 8.28571L552.801776 379.38668l-81.611739 0 0 571.277058c-21.668509 0-43.250036-2.874467-64.707744-8.615215-21.473057-5.734608-39.960107-12.749372-55.476499-21.039175-15.518438-8.289804-29.541827-16.572444-42.077328-24.867364-12.541641-8.290827-21.781072-15.193027-27.739784-20.714787l-9.558703-8.93244L154.95056 998.479767c-8.500605 8.921183-18.699897 13.386892-30.606065 13.386892-10.201339 0-19.335371-3.40454-27.409257-10.202363-8.079002-7.652284-12.437264-17.10968-13.080923-28.372188-0.633427-11.263531 2.659573-21.143553 9.893324-29.647227l128.787178-144.727219c-24.650423-48.464805-36.980239-106.699114-36.980239-174.710091L42.738895 624.207571c-11.057847 0-20.61655-4.041036-28.690436-12.111852-8.079002-8.082072-12.120039-17.640776-12.120039-28.696576 0-11.050684 4.041036-20.61962 12.120039-28.689413 8.073886-8.072863 17.632589-12.107759 28.690436-12.107759l142.81466 0L185.553555 355.156836l-110.302175-110.302175c-8.074909-8.077979-12.113899-17.640776-12.113899-28.691459 0-11.04966 4.044106-20.61962 12.113899-28.690436 8.071839-8.076956 17.638729-12.123109 28.691459-12.123109 11.056823 0 20.612457 4.052293 28.692482 12.123109l110.302175 110.302175 538.128077 0 110.303198-110.302175c8.070816-8.076956 17.632589-12.123109 28.690436-12.123109 11.050684 0 20.617573 4.052293 28.689413 12.123109 8.077979 8.070816 12.119015 17.640776 12.119015 28.690436 0 11.050684-4.041036 20.614503-12.119015 28.691459l-110.302175 110.302175 0 187.448206 142.815683 0c11.0558 0 20.618597 4.034896 28.690436 12.113899 8.076956 8.069793 12.117992 17.638729 12.117992 28.683273l0 0L1022.06544 583.40119 1022.06544 583.40119zM716.021162 216.158085 307.968605 216.158085c0-56.526411 19.871583-104.667851 59.616796-144.414087 39.733956-39.746236 87.88256-59.611679 144.411017-59.611679 56.529481 0 104.678084 19.865443 144.413064 59.611679C696.156742 111.48921 716.021162 159.631674 716.021162 216.158085L716.021162 216.158085 716.021162 216.158085 716.021162 216.158085z",fill:"#272636"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M219.428571 73.142857v877.714286H73.142857V73.142857zM365.714286 73.142857l585.142857 438.857143-577.828572 438.857143L365.714286 599.771429",fill:"#707070"})),s=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 0a512 512 0 1 0 512 512 512.731429 512.731429 0 0 0-512-512z",fill:"#515151"})),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M722.456929 95.88015a463.580524 463.580524 0 0 0-210.456929-47.940075A468.853933 468.853933 0 0 0 43.146067 516.314607 455.910112 455.910112 0 0 0 95.88015 726.292135zM295.790262 931.475655a461.183521 461.183521 0 0 0 216.209738 53.213484 468.374532 468.374532 0 0 0 468.374532-468.374532 461.183521 461.183521 0 0 0-53.213483-216.209738zM0.28764 956.068914L956.212734 0.14382l67.835206 67.787266-955.925094 955.925094z",fill:"#707070"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 0c-282.784 0-512 229.216-512 512s229.216 512 512 512 512-229.216 512-512-229.216-512-512-512zM512 928c-229.76 0-416-186.24-416-416s186.24-416 416-416 416 186.24 416 416-186.24 416-416 416zM320 320l384 0 0 384-384 0z",fill:"#515151"})),c=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4263",width:"14",height:"14"},i.createElement("path",{d:"M512 0C229.234286 0 0 229.234286 0 512s229.234286 512 512 512 512-229.234286 512-512S794.765714 0 512 0zM109.714286 512a400.514286 400.514286 0 0 1 81.68-243.017143l563.622857 563.622857A400.514286 400.514286 0 0 1 512 914.285714C289.828571 914.285714 109.714286 734.171429 109.714286 512z m722.891428 243.017143L268.982857 191.394286A400.514286 400.514286 0 0 1 512 109.714286c222.171429 0 402.285714 180.114286 402.285714 402.285714a400.514286 400.514286 0 0 1-81.68 243.017143z",fill:"#515151"}))},56427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{pad:()=>r,pc:()=>o,phone:()=>s});var i=n(64012);const o=i.createElement("svg",{t:"1645763830270",className:"icon",viewBox:"0 0 1194 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2360",width:"32",height:"32"},i.createElement("path",{d:"M1110.189521 84.477146v627.87068h-1027.42475v-627.87068zM1118.180602 0H76.486065A76.486065 76.486065 0 0 0 0 76.486065v642.140468a76.486065 76.486065 0 0 0 76.486065 76.486065H553.667781v144.410256H356.744705a42.238573 42.238573 0 0 0 0 84.477146h479.464883a42.238573 42.238573 0 0 0 0-84.477146h-198.06466v-144.410256h480.035674a76.486065 76.486065 0 0 0 76.486065-76.486065V76.486065A76.486065 76.486065 0 0 0 1118.180602 0z",fill:"#5E5C5C","p-id":"2361"})),r=i.createElement("svg",{t:"1646647319338",className:"icon",viewBox:"0 0 1280 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14214",width:"32",height:"32"},i.createElement("path",{d:"M1152 1024H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h1024a128 128 0 0 1 128 128v768a128 128 0 0 1-128 128z m-511.424-155.968a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM91.392 89.024v743.552h1097.216V89.024z",fill:"#515151","p-id":"14215"})),s=i.createElement("svg",{t:"1645764158783",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12671",width:"32",height:"32"},i.createElement("path",{d:"M785.078857 113.810286H238.921143V819.2H785.078857zM568.868571 56.905143a11.410286 11.410286 0 0 0-11.410285-11.410286H443.648a11.410286 11.410286 0 0 0-11.410286 11.410286v11.410286a11.410286 11.410286 0 0 0 11.410286 11.410285h113.810286a11.410286 11.410286 0 0 0 11.410285-11.410285V56.905143z m-56.905142 898.852571a45.494857 45.494857 0 1 0-45.494858-45.494857 45.641143 45.641143 0 0 0 45.568 45.494857zM785.005714 1024H238.848a68.461714 68.461714 0 0 1-68.242286-68.242286V68.169143a68.461714 68.461714 0 0 1 68.242286-68.242286h546.157714a68.461714 68.461714 0 0 1 68.242286 68.242286v887.442286A68.461714 68.461714 0 0 1 785.078857 1024z","p-id":"12672"}))},89048:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tip:()=>o});var i=n(64012);const o=i.createElement("svg",{t:"1636448330297",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2098",width:"16",height:"16"},i.createElement("path",{d:"M560 800l-10.464-416h-75.072L464 800h96z m-14.144-493.984c9.44-9.312 14.144-20.672 14.144-34.016 0-13.6-4.704-24.992-14.144-34.208A46.784 46.784 0 0 0 512 224c-13.12 0-24.448 4.608-33.856 13.792A45.856 45.856 0 0 0 464 272c0 13.344 4.704 24.704 14.144 34.016 9.408 9.312 20.704 13.984 33.856 13.984 13.12 0 24.448-4.672 33.856-13.984zM512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480 265.088 0 480-214.912 480-480 0-265.088-214.912-480-480-480z m0 64c229.76 0 416 186.24 416 416s-186.24 416-416 416S96 741.76 96 512 282.24 96 512 96z","p-id":"2099"}))},36891:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(8788),o=n(32706),r=n(56427),s=n(89048),a=n(14897),l=n(67987),c=n(4904),d=n(68534),u=n(387),p=n(53858);const f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},p),u),i),o),r),s),a),l),c),d)},387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LayoutAbsolute:()=>o,LayoutFlex:()=>l,LayoutFlexColumn:()=>s,LayoutFlexRow:()=>a,LayoutSmart:()=>r});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M504.448 519.552m-151.189333 0a151.189333 151.189333 0 1 0 302.378666 0 151.189333 151.189333 0 1 0-302.378666 0Z"}),i.createElement("path",{d:"M504.448 124.714667c-218.069333 0-394.858667 176.768-394.858667 394.837333s176.789333 394.858667 394.858667 394.858667 394.837333-176.789333 394.837333-394.858667S722.517333 124.714667 504.448 124.714667z m0 64c182.72 0 330.837333 148.117333 330.837333 330.837333s-148.117333 330.858667-330.837333 330.858667S173.589333 702.272 173.589333 519.552c0-182.72 148.138667-330.837333 330.858667-330.837333z"}),i.createElement("path",{d:"M519.552 10.666667a32 32 0 0 1 32 32v98.922666a32 32 0 1 1-64 0V42.666667a32 32 0 0 1 32-32zM519.552 850.410667a32 32 0 0 1 32 32V981.333333a32 32 0 0 1-64 0v-98.922666a32 32 0 0 1 32-32z"}),i.createElement("path",{d:"M10.666667 519.552a32 32 0 0 1 32-32h98.922666a32 32 0 1 1 0 64H42.666667a32 32 0 0 1-32-32zM850.410667 519.552a32 32 0 0 1 32-32H981.333333a32 32 0 0 1 0 64h-98.922666a32 32 0 0 1-32-32z"})),r=i.createElement("svg",{t:"1709352057636",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"44125",width:"16",height:"16"},i.createElement("path",{d:"M816.892 92.772H626.335v76.224h190.557c21.03 0 38.112 17.082 38.112 38.11v190.559h76.222V207.107c0-63.122-51.213-114.335-114.334-114.335zM168.993 207.107c0-21.028 17.049-38.11 38.114-38.11h190.557V92.772H207.107c-63.161 0-114.334 51.213-114.334 114.334v190.559h76.22V207.107zM168.993 816.892V626.334h-76.22v190.56c0 63.16 51.174 114.333 114.334 114.333h190.557v-76.224H207.107c-21.065 0-38.114-17.045-38.114-38.111zM855.004 816.892c0 21.066-17.083 38.11-38.112 38.11H626.335v76.224h190.557c63.121 0 114.334-51.173 114.334-114.334V626.334h-76.222v190.558zM511.998 359.553c-84.187 0-152.445 68.262-152.445 152.447 0 84.188 68.258 152.446 152.445 152.446S664.446 596.188 664.446 512c-0.002-84.184-68.261-152.447-152.448-152.447z","p-id":"44126"})),s=i.createElement("svg",{width:"12",height:"12",viewBox:"0 0 8 11",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M4 10.207L.646 6.854l.708-.708L3.5 8.293V0h1v8.293l2.146-2.147.708.708L4 10.207z",fillRule:"evenodd",fillOpacity:"1",stroke:"none"})),a=i.createElement("svg",{width:"12",height:"12",viewBox:"0 0 11 7",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10.707 3.5L7.354.146l-.708.708L8.793 3H.5v1h8.293L6.646 6.146l.708.708L10.707 3.5z",fillRule:"evenodd",fillOpacity:"1",stroke:"none"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M213.312 341.312h597.376v-128H213.312v128z m384 469.376v-384h-384v384h384z m85.376 0h128v-384h-128v384zM170.688 128h682.624c23.552 0 42.688 19.072 42.688 42.688v682.624a42.688 42.688 0 0 1-42.688 42.688H170.688A42.688 42.688 0 0 1 128 853.312V170.688C128 147.072 147.072 128 170.688 128z",fill:"#515151"}))},8788:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddPoint:()=>ie,AlignCenter:()=>ae,AlignMiddle:()=>le,ArrowDownLongHandled:()=>c,ArrowLeftLongHandled:()=>s,ArrowRightLongHandled:()=>a,ArrowTopLongHandled:()=>l,Check:()=>he,CheckMark:()=>R,Clear:()=>pe,Close:()=>fe,CloseEmail:()=>se,ComsAdd:()=>D,Cooperation:()=>L,Copy:()=>z,CursorMove:()=>ee,Dissolve:()=>J,Down:()=>Z,Event:()=>K,EventRef:()=>Y,EventStat:()=>q,Filter:()=>Q,Folder:()=>T,GoPosition:()=>U,Help:()=>G,History:()=>me,Layer:()=>te,Minimize:()=>ue,ModuleView:()=>O,More:()=>ne,Movable:()=>V,OpenEmail:()=>re,PageAdder:()=>ce,PageAdder2:()=>de,Pin:()=>B,Position:()=>W,Private:()=>$,Refresh:()=>H,RemovePoint:()=>oe,SearchPrecise:()=>k,Slot:()=>j,SlotScoped:()=>N,UnLock:()=>f,Up:()=>X,ZIndex:()=>u,alert:()=>d,alignDefault:()=>r,anchor:()=>C,circle:()=>g,command:()=>o,eye:()=>h,eyeClosed:()=>m,fitContentH:()=>w,fitContentW:()=>x,fullHeight:()=>E,fullWidth:()=>A,garbage:()=>M,home:()=>P,layout:()=>_,lock:()=>p,master:()=>y,positionAbsolute:()=>v,positionFixed:()=>b,search:()=>I,setting:()=>F,world:()=>S});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M736 896c-88.224 0-160-71.776-160-160l0-96-128 0 0 96c0 88.224-71.776 160-160 160s-160-71.776-160-160 71.776-160 160-160l96 0 0-128-96 0c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160l0 96 128 0 0-96c0-88.224 71.776-160 160-160s160 71.776 160 160-71.776 160-160 160l-96 0 0 128 96 0c88.224 0 160 71.776 160 160s-71.776 160-160 160zM640 640l0 96c0 52.928 43.072 96 96 96s96-43.072 96-96-43.072-96-96-96l-96 0zM288 640c-52.928 0-96 43.072-96 96s43.072 96 96 96 96-43.072 96-96l0-96-96 0zM448 576l128 0 0-128-128 0 0 128zM640 384l96 0c52.928 0 96-43.072 96-96s-43.072-96-96-96-96 43.072-96 96l0 96zM288 192c-52.928 0-96 43.072-96 96s43.072 96 96 96l96 0 0-96c0-52.928-43.072-96-96-96z"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22"},i.createElement("path",{d:"M219.272533 218.555733h248.6272v248.6272H219.272533zM556.100267 218.555733h248.6272v248.6272h-248.6272zM219.272533 556.817067h248.6272v248.6272H219.272533zM556.100267 556.817067h248.6272v248.6272h-248.6272z"})),s=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M928 464H247.936l322.048-322.24-56.56-56.688-418.608 418.56 418.608 418.56 56.56-56.352L247.936 544H928z",fill:"#515151"})),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M96 560L776.064 560 454.016 882.24l56.56 56.688 418.608-418.56-418.608-418.56-56.56000001 56.352L776.064 480 96 480z",fill:"#515151"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M480 896V250.4L237.6 493.6 192 448l274.4-274.4L512 128l45.6 45.6L832 448l-45.6 45.6L544 250.4V896h-64z"})),c=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M544 128v645.6l242.4-242.4L832 576l-274.4 274.4L512 896l-45.6-45.6L192 576l45.6-45.6L480 773.6V128h64z"})),d=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M900.4032 847.4624 123.5968 847.4624c-33.792 0-62.8736-12.1856-87.1424-36.4544C12.1856 786.7392 0 757.76 0 723.8656 0 695.9104 4.4032 677.4784 13.2096 668.672L13.2096 666.5216l397.2096-613.4784L410.4192 50.7904C436.9408 16.896 470.8352 0 512 0s75.0592 16.896 101.4784 50.7904l0 2.2528 397.2096 613.4784L1010.688 668.672C1019.5968 686.3872 1024 704.8192 1024 723.8656 1024 757.76 1011.8144 786.7392 987.5456 811.008 963.2768 835.2768 934.2976 847.4624 900.4032 847.4624zM44.1344 684.1344C38.2976 701.7472 35.328 715.0592 35.328 723.8656c0 23.552 8.8064 44.1344 26.5216 61.7472 17.6128 17.6128 38.2976 26.5216 61.7472 26.5216l776.8064 0c23.552 0 44.1344-8.8064 61.7472-26.5216C979.8656 768 988.672 747.4176 988.672 723.8656c0-8.8064-2.9696-22.1184-8.8064-39.7312L582.656 70.656C566.4768 47.104 542.9248 35.328 512 35.328c-30.9248 0-54.4768 11.776-70.656 35.328L44.1344 684.1344zM553.984 704C542.208 717.2096 528.1792 723.8656 512 723.8656c-16.1792 0-30.5152-6.2464-43.008-18.7392-12.4928-12.4928-18.7392-26.8288-18.7392-43.008 0-16.1792 6.2464-30.1056 18.7392-41.8816C481.4848 608.3584 495.8208 602.5216 512 602.5216c16.1792 0 30.208 5.8368 41.984 17.6128 11.776 11.776 17.6128 25.7024 17.6128 41.8816C571.5968 678.2976 565.76 692.224 553.984 704zM459.0592 512 459.0592 229.4784c0-14.6432 5.12-27.2384 15.4624-37.4784C484.7616 181.76 497.2544 176.5376 512 176.5376c14.7456 0 27.2384 5.2224 37.4784 15.4624 10.3424 10.3424 15.4624 22.8352 15.4624 37.4784L564.9408 512c0 14.7456-5.12 27.2384-15.4624 37.4784C539.2384 559.8208 526.7456 564.9408 512 564.9408c-14.7456 0-27.2384-5.12-37.4784-15.4624C464.1792 539.2384 459.0592 526.7456 459.0592 512z",fill:"#e0620d"})),u={top:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512.401569 140.54902l404.279215 404.198902-73.487059 73.487058-279.230745-279.170509V1024h-103.92596V339.887686L181.649569 618.23498l-73.446902-73.487058L460.03702 192.953725v-0.401568h0.361411L512.361412 140.54902h0.060235zM933.647059 0v100.392157H90.352941V0h843.294118z",fill:"#333333"})),up:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M511.995907 113.852024c-26.862811 0-48.638767 21.775956-48.638767 48.638767L463.35714 912.382876c0 26.862811 21.775956 48.638767 48.638767 48.638767l0 0c26.862811 0 48.638767-21.775956 48.638767-48.638767L560.634674 162.491815C560.634674 135.629004 538.858718 113.852024 511.995907 113.852024L511.995907 113.852024zM546.514071 77.968769c-18.99461-18.99461-48.701189-20.084431-66.352197-2.433422L121.890095 433.807127c-17.649985 17.651009-16.561188 47.357588 2.433422 66.352197l0 0c18.99461 18.99461 48.701189 20.084431 66.352197 2.433422l358.272803-358.272803C566.598502 126.669958 565.508681 96.963379 546.514071 77.968769L546.514071 77.968769zM477.484905 77.968769c-18.99461 18.99461-20.084431 48.701189-2.433422 66.352197l358.272803 358.272803c17.649985 17.649985 47.357588 16.561188 66.352197-2.433422l0 0c18.99461-18.99461 20.084431-48.701189 2.433422-66.352197L543.837102 75.535347C526.187117 57.884338 496.479515 58.97416 477.484905 77.968769L477.484905 77.968769z",fill:"#272636"})),down:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512.213871 908.72251c26.78197 0 48.492434-21.710464 48.492434-48.492434L560.706305 112.595404c0-26.78197-21.710464-48.492434-48.492434-48.492434l0 0c-26.78197 0-48.492434 21.710464-48.492434 48.492434l0 747.634672C463.721437 887.012046 485.431901 908.72251 512.213871 908.72251L512.213871 908.72251zM477.79906 944.498318c18.937305 18.937305 48.554856 20.024056 66.152653 2.426259l357.195262-357.195262c17.597797-17.597797 16.511046-47.214325-2.426259-66.152653l0 0c-18.937305-18.937305-48.554856-20.024056-66.152653-2.426259l-357.194238 357.195262C457.775005 895.943462 458.861756 925.561014 477.79906 944.498318L477.79906 944.498318zM546.620495 944.498318c18.937305-18.937305 20.024056-48.554856 2.426259-66.152653l-357.195262-357.195262c-17.597797-17.597797-47.214325-16.511046-66.152653 2.426259l0 0c-18.937305 18.937305-20.024056 48.554856-2.426259 66.152653l357.195262 357.195262C498.065639 964.522374 527.683191 963.435623 546.620495 944.498318L546.620495 944.498318z",fill:"#272636"})),bottom:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M518.52549 883.45098L114.246275 479.252078l73.487058-73.487058 279.210667 279.170509V0h103.946039v684.112314l278.387451-278.347294 73.426824 73.487058L570.910118 831.046275v0.401568h-0.361412L518.565647 883.45098h-0.040157zM97.28 1024v-100.392157h843.294118v100.392157h-843.294118z",fill:"#333333"}))},p=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18"},i.createElement("path",{d:"M735.984 428.816h52.016c33.136 0 60 26.608 60 59.424v380.32C848 901.408 821.136 928 788 928h-552C202.864 928 176 901.392 176 868.576v-380.32c0-32.832 26.864-59.44 60-59.44h52.016v-110.944c0-122.544 100.304-221.872 224-221.872 123.728 0 224.032 99.328 224.032 221.872V428.8h-0.064v0.016z m-367.808 0h288V315.2c0-78.768-64.48-142.624-144-142.624s-144 63.84-144 142.624v113.616z",fill:"#333333","p-id":"10265"})),f=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M768 64c105.856 0 192 86.144 192 192v192h-128V256c0-35.296-28.704-64-64-64h-128c-35.296 0-64 28.704-64 64v192h16c26.4 0 48 21.6 48 48v480c0 26.4-21.6 48-48 48h-544C21.6 1024 0 1002.4 0 976v-480c0-26.4 21.6-48 48-48H448V256c0-105.856 86.144-192 192-192h128z",fill:"#515151"})),h=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 192C298.666667 192 116.48 324.693333 42.666667 512c73.813333 187.306667 256 320 469.333333 320s395.52-132.693333 469.333333-320c-73.813333-187.306667-256-320-469.333333-320zM512 725.333333c-117.76 0-213.333333-95.573333-213.333333-213.333333s95.573333-213.333333 213.333333-213.333333 213.333333 95.573333 213.333333 213.333333-95.573333 213.333333-213.333333 213.333333z m0-341.333333c-70.826667 0-128 57.173333-128 128s57.173333 128 128 128 128-57.173333 128-128-57.173333-128-128-128z",fill:"#333333"})),m=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 298.666667c117.76 0 213.333333 95.573333 213.333333 213.333333 0 27.733333-5.546667 53.76-15.36 78.08l124.586667 124.586667c64.426667-53.76 115.2-123.306667 146.346667-202.666667-73.813333-187.306667-256-320-469.333334-320-59.733333 0-116.906667 10.666667-169.813333 29.866667l92.16 92.16C458.24 304.213333 484.266667 298.666667 512 298.666667zM85.333333 182.186667l97.28 97.28 19.626667 19.626666A503.637333 503.637333 0 0 0 42.666667 512c73.813333 187.306667 256 320 469.333333 320 66.133333 0 129.28-12.8 186.88-35.84l17.92 17.92L841.813333 938.666667 896 884.48 139.52 128 85.333333 182.186667zM321.28 418.133333l66.133333 66.133334c-2.133333 8.96-3.413333 18.346667-3.413333 27.733333 0 70.826667 57.173333 128 128 128 9.386667 0 18.773333-1.28 27.733333-3.413333l66.133334 66.133333c-28.586667 14.08-60.16 22.613333-93.866667 22.613333-117.76 0-213.333333-95.573333-213.333333-213.333333 0-33.706667 8.533333-65.28 22.613333-93.866667z m183.893333-33.28l134.4 134.4 0.853334-6.826666c0-70.826667-57.173333-128-128-128l-7.253334 0.426666z",fill:"#AAA"})),g=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M514.048 128q79.872 0 149.504 30.208t121.856 82.432 82.432 122.368 30.208 150.016q0 78.848-30.208 148.48t-82.432 121.856-121.856 82.432-149.504 30.208-149.504-30.208-121.856-82.432-82.432-121.856-30.208-148.48q0-79.872 30.208-150.016t82.432-122.368 121.856-82.432 149.504-30.208z",fill:"#FF0000"})),y=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M912 64H960v192h-64V128h-160V64h176z m-800 0H64v192h64V128h160V64H112zM896 896h-160v64h224v-256h-64v192zM64 384h64v192H64v-192z m0 320h64v192H64v-192z m0 192h224v64H64v-64z m352 0h192v64h-192v-64z m480-480h64v192h-64v-192zM416 64h192v64h-192V64z",fill:"#000000"})),b=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M951 299.269L724.726 72.995c-12.445-12.445-32.81-12.445-45.255 0s-12.445 32.81 0 45.255l6.844 6.844-399.412 191.022-15.786-15.786c-12.445-12.445-32.81-12.445-45.255 0s-12.445 32.81 0 45.255l196.42 196.42L64 960l417.996-358.282 196.415 196.415c12.445 12.445 32.81 12.445 45.255 0s12.445-32.81 0-45.255l-15.786-15.786L898.902 337.68l6.844 6.843c12.445 12.445 32.81 12.445 45.255 0 12.444-12.444 12.444-32.809-0.001-45.254z",fill:"#333333"})),v=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M508.5 61.7c-193.9 0-351 157.2-351 351s269.7 544.1 351 544.1 351-350.2 351-544.1-157.1-351-351-351z m0 527.6c-97.5 0-176.6-79-176.6-176.6s79-176.6 176.6-176.6 176.6 79 176.6 176.6S606 589.3 508.5 589.3z",fill:"#515151"})),x=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M170.667 75c17.496 0 31.713 14.042 31.995 31.47l0.005 0.53v811c0 17.673-14.327 32-32 32-17.497 0-31.713-14.042-31.996-31.47l-0.004-0.53V107c0-17.673 14.327-32 32-32z m682.666 0c17.497 0 31.713 14.042 31.996 31.47l0.004 0.53v811c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.995-31.47l-0.005-0.53V107c0-17.673 14.327-32 32-32z m-256 192.079c17.673 0 32 14.327 32 32V725.92c0 17.673-14.327 32-32 32H426.667c-17.673 0-32-14.327-32-32V299.08c0-17.673 14.327-32 32-32z"})),A=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M790.917 319.004l0.377 0.37 170.336 170.37c6.247 6.249 9.37 14.437 9.37 22.626v0.13c0 9.706-4.321 18.403-11.145 24.271L791.03 705.625c-12.495 12.498-32.757 12.5-45.254 0.004-12.373-12.37-12.499-32.352-0.376-44.877l0.372-0.377L861.623 544.5H163.111l115.854 115.875c12.37 12.373 12.493 32.355 0.367 44.877l-0.371 0.378c-12.373 12.37-32.355 12.492-44.878 0.366l-0.377-0.37L63.37 535.256c-6.332-6.333-9.455-14.66-9.368-22.96L54 512.5c0-9.713 4.327-18.415 11.159-24.283L233.97 319.375c12.496-12.498 32.757-12.5 45.255-0.005 12.373 12.371 12.499 32.353 0.376 44.878l-0.371 0.377L163.375 480.5h698.51l-115.85-115.875c-12.37-12.373-12.493-32.355-0.367-44.878l0.371-0.377c12.373-12.37 32.355-12.492 44.878-0.366z"})),w=i.createElement("svg",{t:"1716469047330",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"52161",width:"14",height:"14"},i.createElement("path",{d:"M918 821.333c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H107c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h811zM725.921 394.667c17.673 0 32 14.327 32 32v170.666c0 17.673-14.327 32-32 32H299.08c-17.673 0-32-14.327-32-32V426.667c0-17.673 14.327-32 32-32z m192.079-256c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H107c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h811z","p-id":"52162"})),E=i.createElement("svg",{t:"1716469302776",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"52875",width:"14",height:"14"},i.createElement("path",{d:"M512.38 970.999l0.12 0.001c-9.706 0-18.403-4.321-24.271-11.145L319.375 791.03c-12.498-12.495-12.5-32.757-0.004-45.254 12.37-12.373 32.352-12.499 44.877-0.376l0.377 0.372L480.5 861.625V163.11L364.625 278.965c-12.373 12.37-32.355 12.493-44.877 0.367l-0.378-0.371c-12.37-12.373-12.492-32.355-0.366-44.878l0.37-0.377L489.744 63.37c6.333-6.332 14.66-9.455 22.96-9.368L512.5 54c9.713 0 18.415 4.327 24.283 11.159L705.625 233.97c12.498 12.496 12.5 32.757 0.005 45.255-12.371 12.373-32.353 12.499-44.878 0.376l-0.377-0.371L544.5 163.376v698.509l115.875-115.85c12.373-12.37 32.355-12.493 44.878-0.367l0.377 0.371c12.37 12.373 12.492 32.355 0.366 44.878l-0.37 0.377-170.37 170.336c-6.255 6.253-14.453 9.376-22.65 9.37h-0.211l-0.015-0.001z","p-id":"52876"})),C=i.createElement("svg",{viewBox:"0 0 1027 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M482.071 912.12v81.75a30.13 30.13 0 0 0 60.26 0v-81.75c-10.446 0-20.087 1.606-31.335 1.606s-18.48-0.803-28.925-1.607z m60.26-800.44V30.13a30.13 30.13 0 0 0-60.26 0v81.55c10.044 0 20.087-1.406 30.13-1.406s19.684 0.602 30.13 1.406zM111.478 482.07H31.134a30.13 30.13 0 0 0 0 60.26h80.345c0-10.044-1.406-20.087-1.406-30.13s0.803-20.488 1.406-30.13z m885.204 0h-84.765c0 9.843 1.607 20.087 1.607 30.13s0 20.086-1.607 30.13h84.765a30.13 30.13 0 0 0 0-60.26z"}),i.createElement("path",{d:"M911.918 482.071A401.726 401.726 0 0 0 542.33 111.68c-10.043 0-20.086-1.406-30.13-1.406s-20.085 0-30.129 1.406A401.726 401.726 0 0 0 111.48 482.07c0 9.843-1.406 20.087-1.406 30.13s0 20.086 1.406 30.13a401.726 401.726 0 0 0 370.592 369.788c9.642 0 19.082 1.607 28.925 1.607s20.086 0 31.334-1.607A401.726 401.726 0 0 0 911.918 542.33c0-10.043 1.607-20.086 1.607-30.13s-0.803-20.487-1.607-30.129zM542.33 851.861c-10.244 0-20.086 1.606-31.334 1.606s-20.087 0-28.925-1.607a341.467 341.467 0 0 1-310.333-309.53c0-10.043-1.406-20.086-1.406-30.13s0-20.085 1.406-30.129A341.467 341.467 0 0 1 482.07 171.94c9.843 0 20.087-1.406 30.13-1.406s20.086 0 30.13 1.406A341.467 341.467 0 0 1 851.658 482.07a296.474 296.474 0 0 1 1.607 30.13c0 10.043 0 20.086-1.607 30.13A341.467 341.467 0 0 1 542.33 851.86z"}),i.createElement("path",{d:"M362.759 512a150.647 150.647 0 1 0 301.294 0 150.647 150.647 0 1 0-301.294 0z"})),_=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M0 568.888889h455.111111V0H0v568.888889z m0 455.111111h455.111111v-341.333333H0v341.333333z m568.888889 0h455.111111V455.111111h-455.111111v568.888889z m0-1024v341.333333h455.111111V0h-455.111111z",fill:"#707070"})),M=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M242.526316 215.578947v700.631579c0 0.080842-0.080842 0-0.080842 0h539.109052H781.473684V215.578947H242.526316z m646.682947 0H889.263158v700.631579c0 59.553684-48.343579 107.789474-107.708632 107.789474H242.445474A107.681684 107.681684 0 0 1 134.736842 916.210526V215.578947h0.053895A53.786947 53.786947 0 0 1 80.842105 161.684211c0-29.776842 23.983158-53.894737 53.948632-53.894737H404.210526a107.789474 107.789474 0 1 1 215.578948 0h269.419789C919.013053 107.789474 943.157895 131.718737 943.157895 161.684211c0 29.776842-23.983158 53.894737-53.948632 53.894736zM565.894737 377.128421c0-29.696 23.929263-53.76 53.894737-53.76 29.776842 0 53.894737 24.064 53.894737 53.76v377.532632A53.706105 53.706105 0 0 1 619.789474 808.421053c-29.776842 0-53.894737-24.064-53.894737-53.76v-377.532632z m-215.578948 0c0-29.696 23.929263-53.76 53.894737-53.76 29.776842 0 53.894737 24.064 53.894737 53.76v377.532632A53.706105 53.706105 0 0 1 404.210526 808.421053c-29.776842 0-53.894737-24.064-53.894737-53.76v-377.532632z"})),I=i.createElement("svg",{viewBox:"0 0 1057 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M835.847314 455.613421c0-212.727502-171.486774-385.271307-383.107696-385.271307C241.135212 70.35863 69.648437 242.869403 69.648437 455.613421c0 212.760534 171.486774 385.271307 383.091181 385.271307 109.666973 0 211.769567-46.525883 283.961486-126.645534a384.891436 384.891436 0 0 0 99.14621-258.625773zM1045.634948 962.757107c33.560736 32.421125-14.583725 83.257712-48.144461 50.853103L763.176429 787.28995a449.79975 449.79975 0 0 1-310.436811 123.953408C202.735255 911.243358 0 707.269395 0 455.613421S202.735255 0 452.739618 0C702.760497 0 905.495752 203.957447 905.495752 455.613421a455.662969 455.662969 0 0 1-95.330989 279.716846l235.486702 227.42684z"})),k=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M452.923 905.846C202.791 905.846 0 703.055 0 452.923S202.791 0 452.923 0s452.923 202.791 452.923 452.923-202.791 452.923-452.923 452.923z m0-78.77a374.154 374.154 0 1 0 0-748.307 374.154 374.154 0 0 0 0 748.308z"}),i.createElement("path",{d:"M315.077 452.923a137.846 137.846 0 1 0 275.692 0 137.846 137.846 0 1 0-275.692 0zM452.923 39.385q19.692 0 19.692 19.692V177.23q0 19.692-19.692 19.692t-19.692-19.692V59.077q0-19.692 19.692-19.692zM452.923 708.923q19.692 0 19.692 19.692V846.77q0 19.693-19.692 19.693t-19.692-19.693V728.615q0-19.692 19.692-19.692zM177.23 472.615q0 19.693-19.692 19.693H39.385q-19.693 0-19.693-19.693 0-19.692 19.693-19.692h118.153q19.693 0 19.693 19.692zM886.154 472.615q0 19.693-19.692 19.693H748.308q-19.693 0-19.693-19.693 0-19.692 19.693-19.692h118.154q19.692 0 19.692 19.692zM727.216 727.215q27.849-27.848 55.698 0l222.793 222.794q27.85 27.85 0 55.698-27.849 27.85-55.698 0L727.216 782.914q-27.85-27.849 0-55.698z"})),P=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 115.2a51.2 51.2 0 0 1 30.72 10.24l358.4 268.8A51.2 51.2 0 0 1 921.6 435.2v384a102.4 102.4 0 0 1-102.4 102.4H204.8a102.4 102.4 0 0 1-102.4-102.4V435.2a51.2 51.2 0 0 1 20.48-40.96l358.4-268.8a51.2 51.2 0 0 1 30.72-10.24m0-102.4a153.6 153.6 0 0 0-92.16 30.72l-358.4 268.8A153.6 153.6 0 0 0 0 435.2v384a204.8 204.8 0 0 0 204.8 204.8h614.4a204.8 204.8 0 0 0 204.8-204.8V435.2a153.6 153.6 0 0 0-61.44-122.88l-358.4-268.8A153.6 153.6 0 0 0 512 12.8z"}),i.createElement("path",{d:"M640 665.6H384a51.2 51.2 0 0 0 0 102.4h256a51.2 51.2 0 0 0 0-102.4z","p-id":"8469"})),F=i.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"setting",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"})),S=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M854.4 800.9c0.2-0.3 0.5-0.6 0.7-0.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-0.2-0.3-0.5-0.5-0.7-0.8-1.1-1.3-2.1-2.5-3.2-3.7-0.4-0.5-0.8-0.9-1.2-1.4l-4.1-4.7-0.1-0.1c-1.5-1.7-3.1-3.4-4.6-5.1l-0.1-0.1c-3.2-3.4-6.4-6.8-9.7-10.1l-0.1-0.1-4.8-4.8-0.3-0.3c-1.5-1.5-3-2.9-4.5-4.3-0.5-0.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-0.3-0.3-0.7-0.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-0.3 0.3-0.7 0.6-1 1-1 0.9-2 1.9-3 2.9-0.5 0.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-0.3 0.3-4.8 4.8-0.1 0.1c-3.3 3.3-6.5 6.7-9.7 10.1l-0.1 0.1c-1.6 1.7-3.1 3.4-4.6 5.1l-0.1 0.1c-1.4 1.5-2.8 3.1-4.1 4.7-0.4 0.5-0.8 0.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-0.2 0.3-0.5 0.5-0.7 0.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c0.2 0.3 0.5 0.6 0.7 0.9l3.1 3.7c0.4 0.5 0.8 0.9 1.2 1.4l4.1 4.7c0 0.1 0.1 0.1 0.1 0.2 1.5 1.7 3 3.4 4.6 5l0.1 0.1c3.2 3.4 6.4 6.8 9.6 10.1l0.1 0.1c1.6 1.6 3.1 3.2 4.7 4.7l0.3 0.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l0.3-0.3c1.6-1.6 3.2-3.1 4.7-4.7l0.1-0.1c3.3-3.3 6.5-6.7 9.6-10.1l0.1-0.1c1.5-1.7 3.1-3.3 4.6-5 0-0.1 0.1-0.1 0.1-0.2 1.4-1.5 2.8-3.1 4.1-4.7 0.4-0.5 0.8-0.9 1.2-1.4a99 99 0 0 0 3.3-3.7z m4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4z m-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1z m59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-0.3 1.2A445.02 445.02 0 0 0 540 640.9z m0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l0.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540z m-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-0.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484z m-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l0.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1z m0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540z m228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4z m292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z",fill:"#8a8a8a"})),T=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M85.312 153.6v716.8h853.376V288H471.36L364.416 153.6h-279.04zM0 64h404.288L511.36 198.4H1024V960H0V64z",fill:"#262626"})),O=i.createElement("svg",{t:"1716198582927",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28360",width:"14",height:"14"},i.createElement("path",{d:"M64 64h384v384H64V64z m0 512h384v384H64V576z m512 0h384v384H576V576z m192-128c106.039 0 192-85.961 192-192S874.039 64 768 64s-192 85.961-192 192 85.961 192 192 192z",fill:"","p-id":"28361"})),D=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M513.832 182c17.496 0.023 31.695 14.083 31.954 31.513l0.004 0.529-0.349 266.458H811c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H545.357l-0.347 266.542c-0.024 17.673-14.37 31.981-32.042 31.958-17.497-0.023-31.695-14.083-31.955-31.513l-0.003-0.529 0.347-266.458H214c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h267.441l0.349-266.542c0.023-17.673 14.369-31.981 32.042-31.958z"})),N=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512.09 65.08C265.15 64.36 64.72 264.79 64.72 512.45c0 108.8 39.37 208.29 104.51 286.31l128.84-128.84c-50.83-102.35-29.35-225.47 50.82-305.64l50.11-50.1 310.65 310.64-50.11 50.11c-80.17 80.17-204 100.93-305.63 50.82L225.06 854.59c78 65.14 177.51 104.51 287 105.22 246.94-0.71 447.4-201.14 447.4-447.36 0-247.66-200.46-448.09-447.37-447.37zM493.6 318l145.23-145.26 43.72 43.72-145.22 145.23z m212.51 212.5l-43.73-43.72 145.23-145.26 43.73 43.73z",fill:"#515151"})),j=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M510.272 59.04l435.2 233.6v473.6l-435.2 230.4-435.2-233.6v-470.4l435.2-233.6z m0 108.8l-339.2 182.4v358.4l339.2 179.2 339.2-182.4v-355.2l-339.2-182.4z",fill:"#515151"}),i.createElement("path",{d:"M561.472 555.04v403.2h-96v-403.2l-352-201.6 48-83.2 352 201.6 348.8-201.6 48 83.2z","p-id":"10446",fill:"#515151"})),L=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M482.2 959.1l-4.8-0.3H62.9V526.4c-0.1-3.9 0-7.7 0-11v-4.6c0-60.6 11.9-119.2 35.3-174.4 22.6-53.3 55-101.4 96.1-142.5 41.2-41.2 89.1-73.4 142.5-96.1 55.2-23.4 114-35.3 174.4-35.3 60.6 0 119.2 11.9 174.4 35.3 53.3 22.6 101.4 55 142.5 96.1 41.2 41.2 73.4 89.1 96.1 142.5 23.4 55.2 35.3 114 35.3 174.4 0 60.6-11.9 119.2-35.3 174.4-22.6 53.3-55 101.4-96.1 142.5-41.2 41.2-89.1 73.4-142.5 96.1-55.2 23.4-114 35.3-174.4 35.3-2.7 0-5.6 0.1-8.7 0.3-3.7 0.1-7.6 0.3-11.8 0.3-2.8-0.1-5.7-0.2-8.5-0.6z m401.2-448.3c0-205.2-167-372.2-372.3-372-205.3 0-372.3 167-372.3 372.3v5.4c0 2.9-0.1 5.7 0 8.1v358.5h373.7c204.7-0.7 370.9-167.4 370.9-372.3z",fill:"#515151"}),i.createElement("path",{d:"M291.6 531.1m-58.7 0a58.7 58.7 0 1 0 117.4 0 58.7 58.7 0 1 0-117.4 0Z",fill:"#515151"}),i.createElement("path",{d:"M516.5 531.1m-58.7 0a58.7 58.7 0 1 0 117.4 0 58.7 58.7 0 1 0-117.4 0Z",fill:"#515151"}),i.createElement("path",{d:"M743.3 531.1m-58.7 0a58.7 58.7 0 1 0 117.4 0 58.7 58.7 0 1 0-117.4 0Z",fill:"#515151"})),R=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8"},i.createElement("path",{fill:"#333",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M1.176 2.824 3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z"})),B=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M51.2 1024a50.816 50.816 0 0 1-36.032-15.104 50.432 50.432 0 0 1-5.12-66.24l212.864-288L56.128 487.744a51.328 51.328 0 0 1-7.872-61.952c8-12.608 76.608-112.704 229.248-74.88l8.192 0.704a275.2 275.2 0 0 1 20.864 2.432c32.32 5.248 89.472-20.672 139.008-62.976 47.552-40.448 78.208-87.68 78.208-120.256 0-7.552-0.128-15.616-0.32-23.488-1.28-30.592-3.2-77.632 31.936-112.768a114.112 114.112 0 0 1 155.712-5.44c24.512 24 276.288 275.52 278.912 278.208 21.696 21.632 33.664 50.432 33.664 81.088 0 30.656-11.84 59.392-33.472 81.024-35.008 35.008-82.304 33.024-113.472 31.68-7.36-0.192-15.488-0.32-23.04-0.32-30.72 0-67.584 21.568-103.552 60.672-50.752 55.232-82.048 126.528-79.36 158.464 1.152 10.24 3.2 28.352 3.584 30.912 36.864 149.44-63.04 217.6-74.56 224.896a51.072 51.072 0 0 1-62.912-7.232L374.72 798.72l-293.696 215.232A49.792 49.792 0 0 1 51.136 1024z",fill:"#707070"})),$=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 98.430412L822.058137 204.853007c28.652237 9.721295 47.58318 36.326943 47.58318 66.514122v335.128844c0 146.842715-238.939192 271.172958-357.641317 317.732844-119.213772-46.048238-357.641317-169.355187-357.641317-317.732844V270.855481c0-30.187178 18.930942-56.792827 47.58318-66.514121L512 98.430412M488.975881 4.287347L104.217268 135.780649c-28.652237 9.721295-47.58318 36.326943-47.583179 66.514122v399.596379c0 270.149664 455.365911 422.10885 455.365911 422.10885s455.365911-151.959186 455.365911-420.573909V203.318065c0-29.675531-18.930942-56.28118-47.583179-66.514122L535.024119 3.7757c-14.837766-5.116471-31.210473-5.116471-46.048238 0.511647z"}),i.createElement("path",{d:"M777.54484 422.30302l-299.313548 287.545666-79.816946-72.14224-124.330244-117.678831c-9.209648-9.721295-14.326119-23.024119-14.326118-36.838591-0.511647-28.652237 23.024119-52.188003 52.188003-52.69965 13.814471-0.511647 27.628943 4.604824 37.861885 14.326119l124.84189 121.772007L701.309424 349.137486c9.721295-9.721295 23.024119-15.349413 36.83859-15.349412 29.163884 0.511647 52.188003 24.047413 52.188004 52.69965 0 12.791177-5.116471 25.582355-13.814472 35.303649l1.023294 0.511647z"})),z=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M878.272 981.312H375.36a104.64 104.64 0 0 1-104.64-104.64V375.36c0-57.792 46.848-104.64 104.64-104.64h502.912c57.792 0 104.64 46.848 104.64 104.64v502.912c-1.6 56.192-48.448 103.04-104.64 103.04z m-502.912-616.96a10.688 10.688 0 0 0-10.944 11.008v502.912c0 6.208 4.672 10.88 10.88 10.88h502.976c6.208 0 10.88-4.672 10.88-10.88V375.36a10.688 10.688 0 0 0-10.88-10.944H375.36z",fill:"#515151"}),i.createElement("path",{d:"M192.64 753.28h-45.312a104.64 104.64 0 0 1-104.64-104.64V147.328c0-57.792 46.848-104.64 104.64-104.64h502.912c57.792 0 104.64 46.848 104.64 104.64v49.92a46.016 46.016 0 0 1-46.848 46.912 46.08 46.08 0 0 1-46.848-46.848v-49.984a10.688 10.688 0 0 0-10.944-10.944H147.328a10.688 10.688 0 0 0-10.944 10.88v502.976c0 6.208 4.672 10.88 10.88 10.88h45.312a46.08 46.08 0 0 1 46.848 46.912c0 26.496-21.824 45.248-46.848 45.248z",fill:"#515151"})),W=i.createElement("svg",{t:"1713164597294",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"39392",width:"14",height:"14"},i.createElement("path",{d:"M505.173333 79.644444c-204.8 0-370.915556 168.391111-370.915555 377.742223 0 209.351111 370.915556 525.653333 370.915555 525.653333s370.915556-318.577778 370.915556-525.653333c0-209.351111-166.115556-377.742222-370.915556-377.742223z m0 484.693334c-93.297778 0-166.115556-75.093333-166.115555-166.115556 0-93.297778 75.093333-166.115556 166.115555-166.115555 93.297778 0 166.115556 75.093333 166.115556 166.115555s-72.817778 166.115556-166.115556 166.115556z",fill:"","p-id":"39393"})),U=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M522.51 936.48L395.2 663.01a30.265 30.265 0 0 0-17.96-15.96L87.47 551.73c-26.02-8.56-28.16-44.53-3.35-56.12L794.2 163.87c24.27-11.34 50.2 12.14 41.33 37.41L578.45 933.73c-8.98 25.59-44.5 27.33-55.94 2.75z",fill:"#19191A"})),V=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M448 160H320v128h128v-128zM448 448H320v128h128V448z m-128 288h128v128H320v-128z m384-576H576v128h128v-128zM576 448h128v128H576V448z m128 288H576v128h128v-128z",fill:"#515151"})),H=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M782.954667 240.512C713.365333 170.901333 617.834667 127.701333 511.765333 127.701333 299.605333 127.701333 128.234667 299.541333 128.234667 511.701333 128.234667 723.861333 299.605333 895.701333 511.765333 895.701333 690.794667 895.701333 840.085333 773.312 882.794667 607.701333L782.954667 607.701333C743.594667 719.552 637.034667 799.701333 511.765333 799.701333 352.874667 799.701333 223.765333 670.592 223.765333 511.701333 223.765333 352.832 352.874667 223.701333 511.765333 223.701333 591.445333 223.701333 662.485333 256.832 714.325333 309.141333L559.765333 463.701333 895.765333 463.701333 895.765333 127.701333 782.954667 240.512Z"})),G=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 0C229.696 0 0 229.696 0 512s229.696 512 512 512 512-229.696 512-512-229.696-512-512-512z m0 931.2A419.712 419.712 0 0 1 92.8 512 419.712 419.712 0 0 1 512 92.8 419.712 419.712 0 0 1 931.2 512 419.712 419.712 0 0 1 512 931.2z",fill:"#515151"}),i.createElement("path",{d:"M507.328 192.256c-75.904 3.52-134.528 41.856-165.184 108.032A246.848 246.848 0 0 0 320 396.288l89.664 0.128c0-0.32 0.512-31.168 14.912-60.736 16.96-34.944 44.544-52.096 86.848-54.016 41.792-1.92 71.68 10.24 88.64 36.096 16.896 25.792 15.36 55.68 11.968 62.528-13.696 23.488-40.96 51.52-60.8 72.064-9.728 9.984-18.112 18.56-24.448 26.048a410.688 410.688 0 0 1-4.608 5.248c-20.096 22.976-57.6 65.728-57.6 156.352h89.6c0-56.96 18.88-78.464 35.456-97.344l5.568-6.4c4.416-5.184 12.16-13.184 20.416-21.696 23.04-23.808 54.656-56.32 73.856-89.216 23.04-39.232 18.304-102.912-11.2-151.488-19.712-32.448-68.032-86.272-170.944-81.6zM448 768a64 64 0 1 0 128 0 64 64 0 0 0-128 0z",fill:"#515151"})),J=i.createElement("svg",{t:"1715341147679",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5199",width:"16",height:"16"},i.createElement("path",{d:"M460 182.784c0 29.3376-23.7888 53.12-53.12 53.12L181.12 235.904c-29.3312 0-53.12-23.7824-53.12-53.12L128 181.12c0-29.3376 23.7888-53.12 53.12-53.12l225.76 0c29.3312 0 53.12 23.7824 53.12 53.12L460 182.784zM896 182.784c0 29.3376-23.7888 53.12-53.1136 53.12L617.1264 235.904c-29.3376 0-53.1264-23.7824-53.1264-53.12L564 181.12c0-29.3376 23.7888-53.12 53.1264-53.12l225.76 0c29.3248 0 53.1136 23.7824 53.1136 53.12L896 182.784zM460 842.88c0 29.3376-23.7888 53.12-53.1136 53.12L181.12 896c-29.3376 0-53.1264-23.7824-53.1264-53.12l0-1.664c0-29.3376 23.7888-53.12 53.1264-53.12l225.76 0c29.3248 0 53.1136 23.7824 53.1136 53.12L459.9936 842.88zM182.7776 564c29.3376 0 53.12 23.7888 53.12 53.1136l0 225.76c0 29.3376-23.7824 53.1264-53.12 53.1264l-1.664 0c-29.3376 0-53.12-23.7888-53.12-53.1264L127.9936 617.1136c0-29.3248 23.7824-53.1136 53.12-53.1136L182.7776 564zM182.784 128c29.3376 0 53.12 23.7888 53.12 53.1136l0 225.7664c0 29.3376-23.7824 53.1264-53.12 53.1264L181.12 460.0064c-29.3376 0-53.12-23.7888-53.12-53.1264L128 181.1136C128 151.7888 151.7824 128 181.12 128L182.784 128zM592.7936 591.3728c25.1264-25.1264 65.8752-25.1264 90.9888-0.0192l193.376 193.3696c25.1264 25.1328 25.1264 65.8816 0 91.008l-1.4336 1.4208c-25.1264 25.1328-65.8624 25.1328-91.0016 0L591.36 683.7824c-25.1136-25.1136-25.12-65.856 0.0064-90.9824L592.7936 591.3728zM842.8864 128c29.3376 0 53.1136 23.7888 53.1136 53.1136l0 225.7664c0 29.3376-23.776 53.1264-53.1136 53.1264l-1.664 0c-29.3376 0-53.1264-23.7888-53.1264-53.1264L788.096 181.1136c0-29.3248 23.7888-53.1136 53.1264-53.1136L842.8864 128zM877.1584 592.7872c25.1264 25.1264 25.1264 65.8816 0.0192 90.9952l-193.3696 193.376c-25.1328 25.1264-65.8816 25.1264-91.008 0l-1.4208-1.4336c-25.1328-25.1264-25.1328-65.8624 0-91.0016L784.7488 591.36c25.1136-25.1136 65.856-25.1264 90.9824 0L877.1584 592.7872z",fill:"#272636","p-id":"5200"})),K=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M805.7 451.8h-55.3c-68.6-0.1-146.7-0.3-146.7-0.3l88.5-322.7v-10.4c0-5.2-5.2-10.4-10.4-15.6-10.4-10.4-26-10.4-36.4 0L130.1 540c-5.2 5.2-4.2 19.6-4.2 19.6s-1 6.4 4.2 11.6c5.2 5.2 10.4 5.2 20.8 5.2h270.7l-88.5 317.5v5.2c-5.2 10.4 0 15.6 5.2 20.8 5.2 5.2 10.4 5.2 20.8 5.2 5.2 0 15.6 0 20.8-5.2l515.3-437.3c5.2-5.2 6.2-10.6 6.2-15.9s-5.4-10.3-9-12.1c-3.5-1.8-7-2.1-38.3-2.1",fill:"#707070"})),q=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512z m0-981.333333a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667zM343.466667 853.333333l100.266666-291.2-187.733333-24.405333 437.76-366.933333-110.506667 298.666666 184.746667 21.333334z",fill:"#515151"})),Y=i.createElement("svg",{viewBox:"0 0 1267 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M257.231185 970.467051l-126.519129 36.517467a19.501985 19.501985 0 0 1-24.670012-21.549694l13.700145-93.853303a19.501985 19.501985 0 0 1 3.071563-7.995814l164.35298-246.553848a19.501985 19.501985 0 0 0-10.433562-29.447998L13.7489 526.065563a19.501985 19.501985 0 0 1-10.579827-29.252978L319.637537 9.019181a19.501985 19.501985 0 0 1 26.23017-6.191881l109.893687 64.502816a19.501985 19.501985 0 0 1 6.3869 27.595309l-184.976329 278.878389a19.501985 19.501985 0 0 0 8.678383 28.765428l253.525807 106.773369a19.501985 19.501985 0 0 1 8.775894 28.716673l-280.048508 424.411953a19.501985 19.501985 0 0 1-10.872356 7.995814z m991.383417-70.694697a76.057742 76.057742 0 0 1-74.985133 74.985133h-375.07193a76.057742 76.057742 0 0 1-74.985133-75.033888 76.057742 76.057742 0 0 1 74.985133-74.985133h375.07193a76.057742 76.057742 0 0 1 74.985133 74.985133z m0-375.07193a76.057742 76.057742 0 0 1-74.985133 74.985133h-375.07193a76.057742 76.057742 0 0 1-74.985133-74.985133 76.057742 76.057742 0 0 1 74.985133-75.033888h375.07193a76.057742 76.057742 0 0 1 74.985133 75.033888z m0-375.023175a76.057742 76.057742 0 0 1-74.985133 74.985133h-375.07193a76.057742 76.057742 0 0 1-74.985133-74.985133 76.057742 76.057742 0 0 1 74.985133-75.033888h375.07193a76.057742 76.057742 0 0 1 74.985133 75.033888z",fill:"#393939"})),X=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M541.57312 316.20096a30.95552 30.95552 0 0 1 0 43.58656l-356.38784 358.69696a30.47936 30.47936 0 0 1-43.29984 0l-14.44864-14.5408a30.96576 30.96576 0 0 1 0-43.58656l356.38272-358.69696a30.47936 30.47936 0 0 1 43.30496 0l14.44864 14.5408z",fill:"#353535"}),i.createElement("path",{d:"M486.656 303.39072a30.48448 30.48448 0 0 1 43.31008 0l356.38272 358.70208a30.96064 30.96064 0 0 1 0 43.58656l-14.44864 14.5408a30.47424 30.47424 0 0 1-43.29984 0L472.21248 361.51808a30.96064 30.96064 0 0 1 0-43.58144l14.44864-14.5408z",fill:"#353535"})),Z=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M512.146286 619.52L245.296762 352.792381 193.584762 404.48l318.585905 318.415238 318.268952-318.415238-51.736381-51.687619z"})),Q=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M426.666667 590.08a85.333333 85.333333 0 0 0-25.173334-60.586667L153.173333 281.173333A85.333333 85.333333 0 0 1 128 220.586667V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h682.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v49.92a85.333333 85.333333 0 0 1-25.173333 60.586666l-248.32 248.32a85.333333 85.333333 0 0 0-25.173334 60.586667v156.586667a85.333333 85.333333 0 0 1-34.133333 68.266666l-102.4 76.8a21.333333 21.333333 0 0 1-34.133333-17.066666z"})),ee=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M798.208 353.792a42.666667 42.666667 0 0 1-54.442667 4.949333l-5.973333-4.949333L512 128 286.208 353.792a42.666667 42.666667 0 0 1-65.28-54.357333l4.864-5.973334L451.669333 67.669333A85.333333 85.333333 0 0 1 564.309333 60.586667l8.021334 7.082666 225.877333 225.792a42.666667 42.666667 0 0 1 0 60.330667zM798.208 652.458667a42.666667 42.666667 0 0 0-54.442667-4.864l-5.973333 4.864L512 878.336 286.208 652.458667a42.666667 42.666667 0 0 0-65.28 54.442666l4.864 5.973334L451.669333 938.666667a85.333333 85.333333 0 0 0 112.64 7.082666L572.330667 938.666667l225.877333-225.792a42.666667 42.666667 0 0 0 0-60.416z",fill:"#333333"})),te=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M934.468 245.683L529.877 65.926a44.959 44.959 0 0 0-36.572 0L88.713 245.683a44.959 44.959 0 0 0 0 82.145l404.593 179.835a45.083 45.083 0 0 0 36.531 0l404.59-179.836a44.959 44.959 0 0 0 0-82.145z",fill:"#515151"}),i.createElement("path",{d:"M511.591 736.345c-6.3 0-12.518-1.31-18.246-3.886L88.755 552.663a45 45 0 0 1 36.49-82.226l386.346 171.736 386.346-171.696a45 45 0 0 1 36.531 82.228L529.877 732.5a45.399 45.399 0 0 1-18.286 3.845z",fill:"#515151"}),i.createElement("path",{d:"M511.591 961.141c-6.3 0-12.518-1.35-18.246-3.886L88.755 777.418a45 45 0 0 1 36.49-82.186l386.346 171.736 386.346-171.695a45 45 0 0 1 36.531 82.187L529.877 957.254a44.764 44.764 0 0 1-18.286 3.886z",fill:"#515151"})),ne=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z",fill:"#515151"})),ie=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",style:{transform:"scale(1.17)"}},i.createElement("path",{d:"M511.544 64.101c-211.909 0-383.684 167.744-383.694 357.88C127.85 743.755 512 960 512 960s381.755-212.316 383.248-538.019c0.015-190.136-171.789-357.88-383.704-357.88zM736 448c0 17.6-14.4 32-32 32H544v160c0 17.6-14.4 32-32 32s-32-14.4-32-32V480H320c-17.6 0-32-14.4-32-32s14.4-32 32-32h160V256c0-17.6 14.4-32 32-32s32 14.4 32 32v160h160c17.6 0 32 14.4 32 32z",fill:"#515151"})),oe=i.createElement("svg",{viewBox:"0 0 1280 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M915.84 527.36l-90.24-90.24-181.12 181.12-181.12-181.12-90.24 90.24 181.12 181.12L373.12 889.6l90.24 90.24 181.12-181.12L825.6 979.84l90.24-90.24-181.12-181.12 181.12-181.12z",fill:"#515151","p-id":"44166"}),i.createElement("path",{d:"M1280 0H0v768h256V640H128V128h1024v512h-128v128h256V0z",fill:"#515151","p-id":"44167"})),re=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M504.4 179.2c2.4-1.2 5-1.8 7.6-1.8s5.2 0.6 7.6 1.8l357.2 176.4L514 534.8c-2.4 1.2-5 1.8-7.6 1.8-2.6 0-5.2-0.6-7.6-1.8L141.4 358.6l363-179.4z m414 121.6l-368.2-182c-3-1.4-6-2.8-9.2-3.8-3.2-1.2-6.2-2-9.4-2.8-3.2-0.8-6.4-1.4-9.8-1.6s-6.6-0.6-9.8-0.6-6.6 0.2-9.8 0.6c-3.2 0.4-6.6 1-9.8 1.6-3.2 0.8-6.4 1.6-9.4 2.8-3.2 1.2-6.2 2.4-9.2 3.8l-368.2 182c-5 2.4-9.6 5.2-14.2 8.2-4.6 3-8.8 6.4-13 10-4 3.6-7.8 7.6-11.4 11.8-3.6 4.2-6.8 8.6-9.6 13.2-3 4.6-5.4 9.4-7.8 14.4s-4.2 10.2-5.6 15.4c-1.6 5.2-2.6 10.6-3.4 16-0.8 5.4-1.2 10.8-1.2 16.4v389.4c0 65.2 53.6 118.2 119.6 118.2h706c66 0 119.6-53 119.6-118.2V406.4c0-5.4-0.4-11-1.2-16.4-0.8-5.4-1.8-10.8-3.4-16-1.6-5.2-3.4-10.4-5.6-15.4-2.2-5-4.8-9.8-7.8-14.4s-6.2-9-9.6-13.2c-3.6-4.2-7.4-8.2-11.4-11.8-4-3.6-8.4-7-13-10-4.6-3.2-9.2-6-14.2-8.4z",fill:"#515151"})),se=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M532.8 572.4c-1.4 1.2-3 2.2-4.6 3s-3.4 1.6-5.2 2.2c-1.8 0.6-3.6 1-5.4 1.4s-3.6 0.4-5.6 0.4c-1.8 0-3.8-0.2-5.6-0.4-1.8-0.4-3.6-0.8-5.4-1.4-1.8-0.6-3.4-1.4-5.2-2.2-1.6-0.8-3.2-2-4.6-3L160.8 315.4l41.4-53.2L512 503l309.6-240.8 41.4 53.2-330.2 257z m418-431.6H73.2c-1.2 0-2.2 0-3.4 0.2s-2.2 0.2-3.2 0.4-2.2 0.4-3.2 0.8-2 0.6-3.2 1.2c-1 0.4-2 0.8-3 1.4-1 0.6-2 1-2.8 1.8-1 0.6-1.8 1.2-2.6 2s-1.6 1.4-2.4 2.2-1.6 1.6-2.2 2.4c-0.8 0.8-1.4 1.8-2 2.6-0.6 1-1.2 1.8-1.8 2.8-0.6 1-1 2-1.4 3-0.4 1-0.8 2-1.2 3.2-0.4 1-0.6 2.2-0.8 3.2-0.2 1-0.4 2.2-0.4 3.2-0.2 1.2-0.2 2.2-0.2 3.4v675c0 1.2 0 2.2 0.2 3.4 0.2 1.2 0.2 2.2 0.4 3.2s0.4 2.2 0.8 3.2 0.6 2 1.2 3.2 0.8 2 1.4 3 1 2 1.8 2.8c0.6 1 1.2 1.8 2 2.6s1.4 1.6 2.2 2.4 1.6 1.6 2.4 2.2c0.8 0.8 1.8 1.4 2.6 2 1 0.6 1.8 1.2 2.8 1.8 1 0.6 2 1 3 1.4 1 0.4 2 0.8 3.2 1.2 1 0.4 2.2 0.6 3.2 0.8 1 0.2 2.2 0.4 3.2 0.4 1.2 0.2 2.2 0.2 3.4 0.2h877.4c1.2 0 2.2 0 3.4-0.2 1-0.2 2.2-0.2 3.2-0.4s2.2-0.4 3.2-0.8 2-0.6 3.2-1.2c1-0.4 2-0.8 3-1.4 1-0.6 2-1 2.8-1.8 1-0.6 1.8-1.2 2.6-2s1.6-1.4 2.4-2.2 1.6-1.6 2.2-2.4c0.8-0.8 1.4-1.8 2-2.6s1.2-1.8 1.8-2.8c0.6-1 1-2 1.4-3 0.4-1 0.8-2 1.2-3.2 0.4-1 0.6-2.2 0.8-3.2 0.2-1 0.4-2.2 0.4-3.2 0.2-1 0.2-2.2 0.2-3.4V174.6c0-1.2 0-2.2-0.2-3.4-0.2-1.2-0.2-2.2-0.4-3.2s-0.4-2.2-0.8-3.2-0.6-2-1.2-3.2c-0.4-1-0.8-2-1.4-3-0.6-1-1-2-1.8-2.8s-1.2-1.8-2-2.6-1.4-1.6-2.2-2.4-1.6-1.6-2.4-2.2-1.8-1.4-2.6-2c-1-0.6-1.8-1.2-2.8-1.8-1-0.6-2-1-3-1.4-1-0.4-2-0.8-3.2-1.2s-2.2-0.6-3.2-0.8c-1-0.2-2.2-0.4-3.2-0.4-1-0.2-2.2-0.2-3.2-0.2z",fill:"#515151"})),ae=i.createElement("svg",{t:"1719475958278",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"90464",width:"16",height:"16"},i.createElement("path",{d:"M149.312 362.688m0 0l725.312 0q0 0 0 0l0 298.688q0 0 0 0l-725.312 0q0 0 0 0l0-298.688q0 0 0 0Z",fill:"#515151","p-id":"90465"}),i.createElement("path",{d:"M480 128v-32h64v832h-64V128z",fill:"#515151","p-id":"90466"})),le=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M384 832a64 64 0 0 0 64 64h128a64 64 0 0 0 64-64v-640A64 64 0 0 0 576 128h-128A64 64 0 0 0 384 192v640zM64 512a32 32 0 0 0 32 32H384v-64H96a32 32 0 0 0-32 32z m896 0a32 32 0 0 1-32 32H640v-64h288a32 32 0 0 1 32 32z",fill:"#2c2c2c"})),ce=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M831.6 639.6h-63.9v127.9H639.9v63.9h127.8v127.9h63.9V831.4h127.9v-63.9H831.6z",fill:"#515151"}),i.createElement("path",{d:"M564.3 925.2c0-18.5-15-33.6-33.6-33.6H287.3c-86.2 0-156.4-70.2-156.4-156.4V286.9c0-86.2 70.1-156.4 156.4-156.4h448.4c86.2 0 156.4 70.2 156.4 156.4v238.8c0 18.5 15 33.6 33.6 33.6s33.6-15 33.6-33.6V286.9C959.2 163.6 859 63.3 735.7 63.3H287.3C164 63.3 63.7 163.6 63.7 286.8v448.3c0 123.2 100.3 223.5 223.6 223.5h243.4c18.6 0.1 33.6-14.9 33.6-33.4z",fill:"#515151"})),de=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M791.7312 985.84064H232.25344c-107.0336 0-194.10944-87.05536-194.10944-194.06848V232.24832c0-107.01824 87.07072-194.08896 194.10944-194.08896h271.50848c29.94688 0 54.23104 24.2688 54.23104 54.2208 0 29.93664-24.28416 54.22592-54.23104 54.22592H232.25344c-47.23712 0-85.6576 38.4256-85.6576 85.64224v559.51872c0 47.21664 38.4256 85.62688 85.6576 85.62688h559.47264c47.23712 0 85.67296-38.41024 85.67296-85.62688V507.52a54.20544 54.20544 0 0 1 54.22592-54.22592c29.93664 0 54.22592 24.2688 54.22592 54.22592v284.25216c0.00512 107.01312-87.08608 194.06848-194.11968 194.06848z",fill:"#515151"}),i.createElement("path",{d:"M931.63008 330.17856h-367.17568c-29.93664 0-54.21568-24.2688-54.21568-54.22592 0-29.93664 24.27904-54.2208 54.21568-54.2208h367.17568c29.93664 0 54.22592 24.28928 54.22592 54.2208 0 29.95712-24.28928 54.22592-54.22592 54.22592z",fill:"#515151"}),i.createElement("path",{d:"M748.0576 513.7664c-29.97248 0-54.22592-24.28928-54.22592-54.2208V92.38016c0-29.952 24.25344-54.2208 54.22592-54.2208 29.93664 0 54.22592 24.2688 54.22592 54.2208v367.16032c0 29.93664-24.28928 54.22592-54.22592 54.22592z",fill:"#515151"})),ue=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M78.633918 396.690788l858.20393 0 0 158.309562-858.20393 0 0-158.309562Z","p-id":"6240"})),pe=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M916.138667 198.4 919.296 195.242667 828.757333 104.704 825.6 107.861333C738.901333 40.533333 630.272 0 512 0 229.205333 0 0 229.290667 0 512 0 630.272 40.448 738.901333 107.861333 825.6L104.704 828.757333 195.157333 919.296 198.4 916.053333C285.013333 983.466667 393.642667 1024 512 1024 794.709333 1024 1024 794.709333 1024 512 1024 393.728 983.466667 285.098667 916.138667 198.4ZM73.130667 512C73.130667 269.994667 269.994667 73.130667 512 73.130667 606.634667 73.130667 721.578667 112.725333 793.344 163.84L177.493333 779.52C126.378667 707.84 73.130667 606.634667 73.130667 512ZM512 950.869333C417.365333 950.869333 307.029333 897.536 235.178667 846.421333L855.637333 226.133333C906.666667 297.898667 950.869333 417.365333 950.869333 512 950.869333 754.005333 754.005333 950.869333 512 950.869333Z",fill:"#272636"})),fe=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M887.2 774.2 624.8 510.8l263-260c10.8-10.8 10.8-28.4 0-39.2l-74.8-75.2c-5.2-5.2-12.2-8-19.6-8-7.4 0-14.4 3-19.6 8L512 395.6 249.8 136.6c-5.2-5.2-12.2-8-19.6-8-7.4 0-14.4 3-19.6 8L136 211.8c-10.8 10.8-10.8 28.4 0 39.2l263 260L136.8 774.2c-5.2 5.2-8.2 12.2-8.2 19.6 0 7.4 2.8 14.4 8.2 19.6l74.8 75.2c5.4 5.4 12.4 8.2 19.6 8.2 7 0 14.2-2.6 19.6-8.2L512 626.2l261.4 262.2c5.4 5.4 12.4 8.2 19.6 8.2 7 0 14.2-2.6 19.6-8.2l74.8-75.2c5.2-5.2 8.2-12.2 8.2-19.6C895.4 786.4 892.4 779.4 887.2 774.2z"})),he=i.createElement("svg",{viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M960.005813 324.073949l-80.827237-80.822237L418.499226 703.930062l-273.738802-273.740802-80.869237 80.875237 354.539039 354.493039 77.465227-77.517227 0.098 0.098L960.005813 324.073949zM960.005813 324.073949",fill:"#272636"})),me=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M974.754909 315.345455c108.613818 232.913455 7.842909 509.789091-225.093818 618.402909A465.454545 465.454545 0 0 1 230.4 847.546182a46.545455 46.545455 0 0 1 64.488727-67.118546 372.363636 372.363636 0 0 0 415.418182 68.957091c186.344727-86.877091 266.961455-308.363636 180.084364-494.708363C803.490909 168.331636 582.004364 87.738182 395.636364 174.615273a371.805091 371.805091 0 0 0-188.462546 199.377454l63.069091 5.306182a23.272727 23.272727 0 0 1 17.198546 36.468364l-123.857455 178.269091a46.312727 46.312727 0 0 1-41.588364 19.781818 41.634909 41.634909 0 0 1-35.770181-26.926546L12.893091 391.051636a23.272727 23.272727 0 0 1 23.738182-31.371636l74.472727 6.260364A464.896 464.896 0 0 1 356.305455 90.251636C589.265455-18.385455 866.141091 82.385455 974.754909 315.322182zM529.733818 232.727273a46.545455 46.545455 0 0 1 46.405818 43.054545l0.139637 3.490909v228.887273l139.473454 79.802182a46.545455 46.545455 0 0 1 18.967273 60.276363l-1.675636 3.258182a46.545455 46.545455 0 0 1-60.276364 18.944l-3.258182-1.675636-151.179636-86.481455a69.818182 69.818182 0 0 1-35.002182-55.924363l-0.139636-4.677818V279.272727a46.545455 46.545455 0 0 1 46.545454-46.545454z",fill:"#515151"}))},67987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Enter:()=>r,Return:()=>o});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M586.102 353.952l-65.694 65.694-187.584-187.584v499.872c0 76.824 62.578 139.374 139.402 139.374H1024v92.914H472.226c-128.152 0-232.316-104.166-232.316-232.288v-488.74L65.694 417.288 0 351.592l291.932-291.81 294.17 294.17z"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M877.568 501.248c-14.848 36.352-36.864 69.12-66.048 97.792s-61.44 51.2-97.792 66.048c-36.352 14.848-74.752 22.528-115.712 22.528H262.144l114.176 114.176c8.192 8.192 11.776 17.408 11.776 28.16s-4.096 19.968-12.288 28.16c-8.192 8.192-17.92 11.776-28.16 11.776s-19.968-4.096-28.672-11.776l-182.784-182.784c-8.192-8.192-11.776-17.408-11.776-28.672s4.096-20.48 11.776-28.672l178.176-179.2c8.192-7.168 17.408-10.752 28.16-10.752s19.968 4.096 28.16 11.776 11.776 17.408 11.776 28.16-3.584 19.968-10.752 28.16l-113.152 112.128h339.968c30.208 0 58.368-5.632 84.992-16.384 26.624-10.752 50.688-27.136 72.192-48.64 21.504-21.504 37.376-45.568 48.64-72.192 10.752-26.624 16.384-54.784 16.384-84.992V194.048c0.512-11.264 4.608-20.992 11.776-28.672s16.896-11.264 28.16-11.264 20.992 4.096 28.672 11.264c7.68 7.68 11.264 17.408 11.264 28.672v192c-0.512 40.448-8.192 79.36-23.04 115.2z",fill:"#707070"}))},53858:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Coms:()=>o,Module:()=>l,Page:()=>r,Popup:()=>s,Scene:()=>a});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",style:{maxWidth:18}},i.createElement("path",{d:"M99.328 737.4848V259.6864l8.8064-4.3008 404.0704-196.8128 403.0464 196.8128 9.6256 4.7104V737.6896L512 959.488 99.328 737.4848zM476.3648 856.064V475.3408l-303.104-162.4064v380.3136l303.104 162.816z m74.1376-1.6384l300.032-161.3824V313.9584L550.5024 475.136v379.2896z m-37.0688-442.9824L775.9872 270.336 512.6144 140.6976l-265.216 128 266.0352 142.7456z",fill:"#777"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M938.666667 938.666667a42.666667 42.666667 0 0 1-42.666667 42.666666H128a42.666667 42.666667 0 0 1-42.666667-42.666666V85.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h596.821333c0.277333 0 0.512 0.213333 0.512 0.512 0 0.234667 0.170667 0.448 0.426667 0.512a42.666667 42.666667 0 0 1 22.997333 13.76l179.541334 207.872A42.666667 42.666667 0 0 1 938.666667 293.205333V938.666667z m-98.133334-554.666667H725.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V140.8a12.8 12.8 0 0 0-12.8-12.8H183.466667a12.8 12.8 0 0 0-12.8 12.8v742.4a12.8 12.8 0 0 0 12.8 12.8h657.066666a12.8 12.8 0 0 0 12.8-12.8V396.8a12.8 12.8 0 0 0-12.8-12.8zM725.333333 195.264V285.866667a12.8 12.8 0 0 0 12.8 12.8h78.229334a12.8 12.8 0 0 0 9.685333-21.162667L747.818667 186.88A12.8 12.8 0 0 0 725.333333 195.264z",fill:"#000000"})),s=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M928 863.648l-287.616 0L512 992l-128.416-128.352L96 863.648c-53.024 0-96-42.976-96-95.968L0 127.968C0 74.976 42.976 32 96 32l832 0c53.024 0 96 42.976 96 95.968l0 639.744C1024 820.672 981.024 863.648 928 863.648zM960 159.968c0-35.328-28.672-64-64-64L128 95.968c-35.328 0-64 28.672-64 64l0 575.744c0 35.328 28.672 64 64 64l287.584 0L512 896.032l96.416-96.352L896 799.68c35.328 0 64-28.64 64-64L960 159.968zM800 351.872 224 351.872c-17.664 0-32-14.304-32-32 0-17.664 14.336-32 32-32l576 0c17.664 0 32 14.336 32 32C832 337.536 817.664 351.872 800 351.872zM352 479.808l320 0c17.664 0 32 14.336 32 32 0 17.664-14.336 32-32 32L352 543.808c-17.664 0-32-14.304-32-32C320 494.144 334.336 479.808 352 479.808z","p-id":"2917",fill:"#515151"})),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M113.458002 373.217066h826.389537c45.640309 0 82.64066 37.000351 82.64066 82.640661v485.501613c0 45.640309-37.000351 82.64066-82.64066 82.64066H113.458002c-45.640309 0-82.64066-37.000351-82.64066-82.64066v-485.501613c0-45.640309 37.000351-82.64066 82.644927-82.640661z m737.182509 109.456529c-26.222804-26.218538-68.735662-26.218538-94.9542 0l-36.522487 36.522487a67.144203 67.144203 0 1 0 94.949933 94.9542l36.522487-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-258.247264 0c-26.222804-26.218538-68.731395-26.218538-94.954199 0l-36.522488 36.522487a67.144203 67.144203 0 1 0 94.949934 94.9542l36.526753-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-258.247263 0c-26.222804-26.218538-68.731395-26.218538-94.9542 0l-36.522487 36.522487a67.144203 67.144203 0 1 0 94.949933 94.9542l36.526754-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-273.607188-333.694359L894.723494 1.882359c47.4707-8.371159 75.391629 11.178612 83.767055 58.653578 8.371159 47.474967-11.178612 75.395896-58.657845 83.767055L85.652272 291.395602C38.177306 299.766761 10.260643 280.21699 1.885217 232.742024c-8.371159-47.474967 11.178612-75.391629 58.653579-83.767055z",fill:"#707070"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M850.140277 490.865657l-63.400982 0L786.739295 321.79603c0-46.705742-37.829584-84.535325-84.535325-84.535325L533.13332 237.260705l0-63.400982c0-58.329477-47.339168-105.668645-105.668645-105.668645S321.79603 115.530246 321.79603 173.859723l0 63.400982L152.726403 237.260705c-46.705742 0-84.1127 37.829584-84.1127 84.535325l-0.211824 160.616094 63.190181 0c62.978357 0 114.122177 51.14382 114.122177 114.122177s-51.14382 114.122177-114.122177 114.122177L68.402903 710.656479l-0.211824 160.616094c0 46.705742 37.829584 84.535325 84.535325 84.535325l160.616094 0 0-63.400982c0-62.978357 51.14382-114.122177 114.122177-114.122177s114.122177 51.14382 114.122177 114.122177l0 63.400982 160.616094 0c46.705742 0 84.535325-37.829584 84.535325-84.535325L786.738271 702.20397l63.400982 0c58.329477 0 105.668645-47.339168 105.668645-105.668645S908.46873 490.865657 850.140277 490.865657z",fill:"#707070"}))},14897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{manage:()=>o});var i=n(64012);const o=i.createElement("svg",{t:"1651220252672",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2893",width:"16",height:"16"},i.createElement("path",{d:"M943.698093 792.31222 574.317301 422.932452c36.332487-92.849688 16.147772-203.865107-58.535161-278.549064-80.738859-80.738859-201.847148-96.886631-298.733778-50.461275l175.606507 175.606507L269.52862 392.655891 93.922113 217.048361c-46.424332 96.886631-30.27656 217.994919 50.461275 298.733778 74.682933 74.682933 185.699376 94.867648 278.549064 58.535161l369.379769 369.379769c16.147772 16.147772 42.387389 16.147772 56.517201 0l94.867648-94.867648C959.845865 834.700633 959.845865 808.459992 943.698093 792.31222z","p-id":"2894"}))},32706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{triangle_down:()=>o,triangle_right:()=>r});var i=n(64012);const o=i.createElement("svg",{t:"1643364461030",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5296",width:"16",height:"16"},i.createElement("path",{d:"M514.525867 956.474027L3.413333 70.46144l1017.173334-2.932053-506.0608 888.94464z","p-id":"5297"})),r=i.createElement("svg",{t:"1643364315149",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3732",width:"16",height:"16"},i.createElement("path",{d:"M836.512 512l-648.992-512 0 1024 648.992-512z","p-id":"3733"}))},96966:(e,t,n)=>{"use strict";n.d(t,{Al:()=>c.A,Bu:()=>d.A,CK:()=>h.CK,FI:()=>g.A,FN:()=>E.F,Ho:()=>a.A,JX:()=>l.A,K9:()=>i.K,MD:()=>h.MD,ML:()=>w.ML,N6:()=>s.Ay,PQ:()=>r.A,Q9:()=>v.A,Ut:()=>h.Ut,W1:()=>h.W1,ZD:()=>h.ZD,ZP:()=>u.A,Zm:()=>f.Z,a8:()=>h.a8,bH:()=>E.b,ed:()=>s.ed,fu:()=>x.A,iK:()=>h.iK,nm:()=>h.nm,od:()=>b.A,oj:()=>h.oj,q4:()=>m.J,qK:()=>h.qK,qT:()=>h.qT,sP:()=>y.A,sr:()=>p.A,tk:()=>o.A,v5:()=>h.v5,vm:()=>h.vm,xW:()=>A.A});var i=n(47265),o=n(71336),r=n(93010),s=n(58388),a=n(84794),l=n(55974),c=n(43769),d=n(59492),u=n(42342),p=n(57695),f=n(44326),h=n(41733),m=n(49090),g=(n(4903),n(36891)),y=n(44666),b=n(64332),v=(n(74301),n(42661)),x=n(8666),A=n(37536),w=n(39503),E=n(71098)},4903:(e,t,n)=>{"use strict";n(50073)},50073:()=>{"use strict"},49090:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});const i=document.head.appendChild;let o=[],r=[];function s(e){return new Promise(((t,n)=>{const s=function(e,t){var n=document.createElement("script");return n.setAttribute("src",e),n.setAttribute("defer","true"),n.setAttribute("index",t),n}(e,0);s.onerror=e=>{n(e)},s.onload=function(){o.shift(),0===o.length&&(document.head.appendChild=i);const e=window.__comlibs_edit_,n=e[e.length-1];r.forEach((e=>{n&&(n._styleAry||(n._styleAry=[]),e.setAttribute("data-libid",n.id),n._styleAry.push(e))})),r=[];const s=window.__comlibs_edit_,a=s[s.length-1];t(a)},0==o.length&&(document.head.appendChild=e=>{var t;return e&&"style"===(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())&&(r.push(e),i.call(document.head,e)),e}),o.push({url:e}),document.body.appendChild(s)}))}},74301:()=>{"use strict"},39503:()=>{},44666:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(76033),s=n(6464),a=n(91737),l=n(91716);function c({model:e,style:t}){var n,c,d;const[u,p]=(0,i.useState)(null),f=(0,i.useCallback)((t=>{const n=e.commentAry[0],i=e.labelAry[0];if(!n&&!i)return;const o=(0,l.E9)(t.target);p({x:o.x,y:o.y+o.h,comment:n,label:i})}),[e]),h=e;if(h&&((null===(n=h.commentAry)||void 0===n?void 0:n.length)>0||(null===(c=h.labelAry)||void 0===c?void 0:c.length)>0)){const e=null===(d=h.labelAry)||void 0===d?void 0:d[0],n=Object.assign({},{pointerEvents:"auto",position:"absolute",width:16,height:16,border:"1px solid #FFF",borderBottomRightRadius:16,borderTopLeftRadius:16,borderTopRightRadius:16,background:"#de7d38",color:"#FFF",fontSize:12,fontWeight:"bold",paddingBottom:5,display:"flex",alignItems:"center",justifyContent:"center"},t);return e&&(n.backgroundColor=e.color),o().createElement(o().Fragment,null,o().createElement("span",{style:n,onMouseEnter:e=>f(e)},".."),u?(0,r.createPortal)(o().createElement("div",{className:s.A.pop,style:{left:u.x,top:u.y},onMouseDown:(0,a.Wj)().stop,onDoubleClick:(0,a.Wj)().stop,onMouseLeave:e=>{p(null)}},u.label?o().createElement("div",{className:s.A.label,style:{backgroundColor:u.label.color}},u.label.title):null,u.comment?o().createElement(o().Fragment,null,o().createElement("div",{className:s.A.author},o().createElement("label",null,"我"),o().createElement("span",null,u.comment.getTimeFormat())),o().createElement("div",{className:s.A.content},u.comment.content)):null),document.body):null)}}},64332:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(21034),o=n(8788),r=n(96966),s=n(4904),a=n(64012),l=n.n(a);function c({context:e,style:t}){const n=e.listeners;if(n)return l().createElement("div",{className:i.A.handlers,style:t},n.map(((e,t)=>e?l().createElement(d,{key:t,item:e}):l().createElement("div",{className:i.A.sper,key:t}))))}function d({item:e}){const t=p(e),n=Array.isArray(e.items)&&e.items.length>0,[o,r]=(0,a.useState)(!1);return n?l().createElement("div",{className:`${i.A.handler} ${i.A.subMenu}`,"data-mybricks-tip":e.title,onMouseOver:e=>r(!0),onMouseLeave:e=>r(!1)},t||l().createElement("label",null,e.title),o?l().createElement(u,{item:e,setShowMenu:r}):null):l().createElement("div",{className:`${i.A.handler}`,"data-mybricks-tip":e.title,onClick:t=>e.exe()},t||l().createElement("label",null,e.title))}function u({item:e,setShowMenu:t}){const n=(0,a.useCallback)(((e,t)=>{t||e.exe()}),[]);return l().createElement("div",{className:i.A.menu,onMouseOver:e=>t(!0),onMouseLeave:e=>{t(!1)}},e.items.map(((e,t)=>{if(e){const o=p(e),s=Array.isArray(e.items)&&e.items.length>0;return l().createElement("div",{className:`${i.A.menuItem} ${s?i.A.subMenu:""}`,key:t,onClick:t=>n(e,s)},o,l().createElement("label",null,e.title),s?l().createElement("span",null,r.FI.ArrowRight):null)}return l().createElement("div",{className:i.A.sper,key:t})})))}function p(e){const t=e.title;return t.indexOf("删除")>=0?o.garbage:t.indexOf("权限")>=0?o.Private:t.indexOf("最后")>=0||t.indexOf("置底")>=0?o.ZIndex.bottom:t.indexOf("最前")>=0||t.indexOf("置顶")>=0?o.ZIndex.top:t.indexOf("上移")>=0||t.indexOf("向上")>=0?o.ZIndex.up:t.indexOf("下移")>=0||t.indexOf("向下")>=0?o.ZIndex.down:t.indexOf("左移")>=0||t.indexOf("前移")>=0?o.arrowLeft:t.indexOf("右移")>=0||t.indexOf("后移")>=0?o.arrowRight:t.indexOf("锁定")>=0?r.FI.lock:t.indexOf("解锁")>=0||t.indexOf("锁打开")>=0?r.FI.UnLock:t.indexOf("隐藏")>=0?r.FI.eyeClosed:t.indexOf("显示")>=0?r.FI.eye:t.indexOf("复制")>=0?o.Copy:t.indexOf("取消断点")>=0?s.IgnoreBreakpoint:t.indexOf("断点")>=0?s.Breakpoint:t.indexOf("调试时忽略")>=0?s.IgnoreForDebug:t.indexOf("定位")>=0||t.indexOf("跳转")>=0||t.indexOf("定义")>=0?o.GoPosition:t.indexOf("帮助")>=0||t.indexOf("说明")>=0?o.Help:t.indexOf("解散")>=0||t.indexOf("打散")>=0?o.Dissolve:t.indexOf("位置微调")>=0?o.CursorMove:t.indexOf("位置")>=0?o.Layer:t.indexOf("交互")>=0?o.EventRef:t.indexOf("更多")>=0?o.More:t.indexOf("关闭展开")>=0?o.CloseEmail:t.indexOf("展开")>=0?o.OpenEmail:t.indexOf("添加中间点")>=0?o.AddPoint:t.indexOf("取消中间点")>=0?o.RemovePoint:void 0}},67569:(e,t,n)=>{"use strict";function i(e){let t,n;return{push(i){t=i,n||(n=1,setTimeout((()=>{n=void 0,t()}),e||0))}}}n.d(t,{c:()=>i})},44220:(e,t,n)=>{"use strict";function i(e,...t){t.forEach(((t,n)=>{t&&(Array.isArray(t)?t.forEach(((n,i)=>{e(n,i,t)})):e(t,n,t))}))}function o(e,...t){let n;return t.find((t=>{if(t){if(Array.isArray(t))return n=t.find((t=>e(t)));if(e(t))return n=t}})),n}function r(...e){let t=[];return e.forEach((e=>{t=t.concat(e)})),t}function s(...e){let t=0;return e.forEach((e=>{Array.isArray(e)&&(t+=e.length)})),t}n.r(t),n.d(t,{each:()=>i,find:()=>o,length:()=>s,merge:()=>r})},23014:(e,t,n)=>{"use strict";function i(e){const t=document.createElement("textarea");return t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(t),!0}n.d(t,{C:()=>i})},87925:(e,t,n)=>{"use strict";function i(e){return null!=e?JSON.parse(JSON.stringify(e)):e}n.d(t,{G:()=>i})},93946:(e,t,n)=>{"use strict";function i(e,t="YY-mm-dd HH:MM:SS"){if("number"==typeof e&&(e=new Date(e)),"object"==typeof e&&e instanceof Date){const n={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};let i;for(let e in n)i=new RegExp("("+e+")").exec(t),i&&(t=t.replace(i[1],1==i[1].length?n[e]:n[e].padStart(i[1].length,"0")));return t}return e}n.d(t,{Y:()=>i})},29292:(e,t,n)=>{"use strict";n.d(t,{E9:()=>i.E9,sT:()=>o});var i=n(91737);function o(e){if("function"==typeof HTMLElement)return e instanceof HTMLElement;e&&"object"==typeof e&&(1===e.nodeType||9===e.nodeType)&&e.nodeName}},67625:(e,t,n)=>{"use strict";function i(e){if(e)try{return decodeURIComponent(e)}catch(t){return e}}n.d(t,{m:()=>i})},36926:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,U:()=>r});var i=n(91737),o=n(67625);function r(e,t){const n=e.model.extSourceCodes;if(n){let r=[];const{data:s,runtime:a,style:l,config:c}=n;if(!(s||a||l||c))return;if(s){const t=(0,i.o8)(e.model.data);for(const e in t)e.startsWith("_")&&delete t[e];const n=JSON.stringify(t,null,2);r.push(`\`\`\`json file="model.json"\n${n}\`\`\``)}if(a){const e=(0,o.m)(a);"js"===t?r.push(`\`\`\`js file="runtime.js"\n${e}\`\`\``):r.push(`\`\`\`jsx file="runtime.jsx"\n${e}\`\`\``)}if(l){const e=(0,o.m)(l);r.push(`\`\`\`less file="style.less"\n${e}\`\`\``)}if(c){const e=(0,o.m)(c);r.push(`\`\`\`js file="config.js"\n${e}\`\`\``)}return r.join("\n")}}function s(e){let t=e.replaceAll(/(?<!:)\/\/.*|\/\*(\s|.)*?\*\//g,"");return t=t.replaceAll(/"\s*:\s*'([^'])*'/g,((e,t)=>`":"${t}"`)),t=t.replace(/,\s*\}/g,"}"),t=t.replace(/\{[\n]*\.\.\.[\n]*\}/g,"{}"),t}},91716:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>p.$Z,C:()=>r.C,C7:()=>p.C7,D8:()=>b.D,DK:()=>m.DK,DO:()=>i,E9:()=>c.E9,Go:()=>a.G,NV:()=>p.NV,O$:()=>m.O$,Ry:()=>p.Ry,UL:()=>b.U,Yq:()=>h.Y,ZG:()=>v.Z,bj:()=>m.bj,c:()=>o.c,cY:()=>d.c,fu:()=>p.fu,g8:()=>p.g8,gz:()=>f.g,h1:()=>l.h,iA:()=>g.i,m4:()=>y.m,rs:()=>s.r,sT:()=>c.sT,uR:()=>u.uR});var i=n(44220),o=n(67569),r=n(23014),s=n(84872),a=n(87925),l=n(79508),c=n(29292),d=n(30569),u=n(91737),p=n(50505),f=n(98768),h=n(93946),m=n(34866),g=n(61168),y=n(67625),b=n(36926),v=n(44725)},44725:(e,t,n)=>{"use strict";function i(e,t){const n=new Set(e.map((e=>e.id))),i=new Set(t.map((e=>e.id)));return{deleteIds:[...n].filter((e=>!i.has(e))),addIdsMap:[...i].reduce(((e,t)=>(n.has(t)||(e[t]=!0),e)),{})}}n.d(t,{Z:()=>i})},79508:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return t;if(null==t)return e;if("object"!=typeof e||"object"!=typeof t)return t;for(let n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)&&"object"==typeof e[n]&&"object"==typeof t[n]?i(e[n],t[n]):t[n]=e[n]);return t}n.d(t,{h:()=>i})},11513:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertToPinyin:()=>m,genToken:()=>f,isSupported:()=>p,parse:()=>h,patchDict:()=>u});var i=n(5162);const o="阿",r="鿿",s=1,a=2,l=3;let c,d=null;function u(e){e&&("function"==typeof e&&(e=[e]),e.forEach&&e.forEach((e=>{"function"==typeof e&&e(i)})))}function p(e){return e||null===d?("object"==typeof Intl&&Intl.Collator?(c=new Intl.Collator(["zh-Hans-CN","zh-CN"]),d=1===Intl.Collator.supportedLocalesOf(["zh-CN"]).length):d=!1,d):d}function f(e){const t=i.UNIHANS,n=i.PINYINS,d=i.EXCEPTIONS,u={source:e};if(e in d)return u.type=a,u.target=d[e],u;let p,f=-1;if(e.charCodeAt(0)<256)return u.type=s,u.target=e,u;if(p=c.compare(e,o),p<0)return u.type=l,u.target=e,u;if(0===p)u.type=a,f=0;else{if(p=c.compare(e,r),p>0)return u.type=l,u.target=e,u;0===p&&(u.type=a,f=t.length-1)}if(u.type=a,f<0){let n=0,i=t.length-1;for(;n<=i;){f=~~((n+i)/2);let o=t[f];if(p=c.compare(e,o),0===p)break;p>0?n=f+1:i=f-1}}return p<0&&f--,u.target=n[f],u.target||(u.type=l,u.target=u.source),u}function h(e){if("string"!=typeof e)throw new Error("argument should be string.");if(!p())throw new Error("not support Intl or zh-CN language.");return e.split("").map((e=>f(e)))}function m(e,t,n){return h(e).map((e=>n&&e.type===a?e.target.toLowerCase():e.target)).join(t||"")}},5162:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EXCEPTIONS:()=>r,PINYINS:()=>o,UNIHANS:()=>i});const i=["阿","哎","安","肮","凹","八","挀","扳","邦","勹","陂","奔","伻","屄","边","灬","憋","汃","冫","癶","峬","嚓","偲","参","仓","撡","冊","嵾","曽","叉","芆","辿","伥","抄","车","抻","阷","吃","充","抽","出","欻","揣","巛","刅","吹","旾","逴","呲","匆","凑","粗","汆","崔","邨","搓","咑","呆","丹","当","刀","嘚","扥","灯","氐","甸","刁","爹","丁","丟","东","吺","厾","耑","垖","吨","多","妸","诶","奀","鞥","儿","发","帆","匚","飞","分","丰","覅","仏","紑","夫","旮","侅","甘","冈","皋","戈","给","根","刯","工","勾","估","瓜","乖","关","光","归","丨","呙","哈","咍","佄","夯","茠","诃","黒","拫","亨","噷","叿","齁","乎","花","怀","欢","巟","灰","昏","吙","丌","加","戋","江","艽","阶","巾","坕","冂","丩","凥","姢","噘","军","咔","开","刊","忼","尻","匼","肎","劥","空","抠","扝","夸","蒯","宽","匡","亏","坤","扩","垃","来","兰","啷","捞","肋","勒","崚","哩","俩","奁","良","撩","毟","拎","伶","溜","囖","龙","瞜","噜","驴","娈","掠","抡","罗","呣","妈","埋","嫚","牤","猫","么","呅","门","甿","咪","宀","喵","乜","民","名","谬","摸","哞","毪","嗯","拏","腉","囡","囔","孬","疒","娞","恁","能","妮","拈","娘","鸟","捏","囜","宁","妞","农","羺","奴","女","奻","疟","黁","挪","喔","讴","妑","拍","眅","乓","抛","呸","喷","匉","丕","囨","剽","氕","姘","乒","钋","剖","仆","七","掐","千","呛","悄","癿","亲","靑","卭","丘","区","峑","缺","夋","呥","穣","娆","惹","人","扔","日","茸","厹","邚","挼","堧","婑","瞤","捼","仨","毢","三","桒","掻","閪","森","僧","杀","筛","山","伤","弰","奢","申","升","尸","収","书","刷","衰","闩","双","脽","吮","说","厶","忪","捜","苏","狻","夊","孙","唆","他","囼","坍","汤","夲","忑","熥","剔","天","旫","帖","厅","囲","偷","凸","湍","推","吞","乇","穵","歪","弯","尣","危","昷","翁","挝","乌","夕","虲","仙","乡","灱","些","心","星","凶","休","吁","吅","削","坃","丫","恹","央","幺","倻","一","囙","应","哟","佣","优","扜","囦","曰","晕","帀","災","兂","匨","傮","则","贼","怎","増","扎","捚","沾","张","佋","蜇","贞","争","之","中","州","朱","抓","拽","专","妆","隹","宒","卓","乲","宗","邹","租","钻","厜","尊","昨","兙"],o=["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],r={曾:"ZENG",沈:"SHEN",嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬤:"MO",嬷:"MO",蹒:"PAN",蹊:"XI",丬:"PAN",霰:"XIAN",莘:"XIN",豉:"CHI",饧:"XING",筠:"JUN",长:"CHANG",帧:"ZHEN",峙:"SHI",郍:"NA",芎:"XIONG",谁:"SHUI"}},61168:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var i=n(11513),o=n(56762);i.isSupported()&&o.shouldPatch(i.genToken)&&i.patchDict(o)},56762:(e,t,n)=>{"use strict";function i(e){e.EXCEPTIONS={嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬷:"MO",蹊:"XI",丬:"PAN",霰:"XIAN",豉:"CHI",饧:"XING",帧:"ZHEN",芎:"XIONG",谁:"SHUI",钶:"KE"},e.UNIHANS[91]="伕",e.UNIHANS[347]="仚",e.UNIHANS[393]="诌",e.UNIHANS[39]="婤",e.UNIHANS[50]="腠",e.UNIHANS[369]="攸",e.UNIHANS[123]="乯",e.UNIHANS[171]="刕",e.UNIHANS[102]="佝",e.UNIHANS[126]="犿",e.UNIHANS[176]="列",e.UNIHANS[178]="刢",e.UNIHANS[252]="娝",e.UNIHANS[330]="偸"}function o(e){return"function"==typeof e&&("FOU"===e("伕").target&&"XIA"===e("仚").target&&"ZHONG"===e("诌").target&&"CHONG"===e("婤").target&&"CONG"===e("腠").target&&"YONG"===e("攸").target&&"HOU"===e("乯").target&&"LENG"===e("刕").target&&"GONG"===e("佝").target&&"HUAI"===e("犿").target&&"LIAO"===e("列").target&&"LIN"===e("刢").target&&"E"===e("钶").target)}n.r(t),n.d(t,{default:()=>i,shouldPatch:()=>o})},30569:(e,t,n)=>{"use strict";function i(e,t){let n=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;return[n(e,t),n(e,t)]}n.d(t,{c:()=>i})},50505:(e,t,n)=>{"use strict";function i(e){if(!e||"object"!=typeof e||"string"!=typeof e.type)return"错误类型";switch(e.type){case"number":return"数字";case"string":return"字符";case"boolean":return"布尔";case"object":return e.properties?"对象":"任意对象";case"indexObject":return"索引对象";case"enum":return"枚举";case"array":return""+(e.items?"列表":"任意列表");case"tuple":return"元组";case"any":return"任意";case"follow":return"跟随";case"unknown":return"未知";default:return"未定义"}}function o(e){return!e||"unknown"===e.type}function r(e,t){const n=null==e?void 0:e.type;if(n&&"string"==typeof n){if(n.match(/number|string|boolean|enum|tuple/g))return!0;if("unknown"===n&&t)return!0;if("object"===n){if(!e.properties)return!0;const n=e.properties,i=Object.keys(n);if(i.length<=0)return!0;if(!i.find((e=>{if(!r(n[e],t))return!0})))return!0}if("indexObject"===n)return!0;if("array"===n&&(!e.items||"object"==typeof e.items&&"any"===e.items.type||r(e.items,!0)))return!0}return!1}function s(e){var t;return null===(t=e.type)||void 0===t?void 0:t.match(/number|string|boolean|void/g)}function a(e){if(!e||"object"!=typeof e||!e.type)return`Invalid schema(${e}), {type:'number'|'boolean'|'string'|'any'|'follow'} or {type:'object',properties:{}} or {type:'array',items:{}} expect.`;let t=e.type.toLowerCase();if("null"===t&&(t="unknown",e.type="unknown"),!/void|number|boolean|string|object|indexObject|enum|tuple|array|list|any|follow|unknown/gi.test(t))return`Invalid type(${t})`;if("object"===t){if(!e.properties)return;if("object"!=typeof e.properties)return"Invalid type object";for(let t in e.properties){const n=a(e.properties[t]);if(n)return n}}else if("array"===t){if(!e.items||!e.items.type)return;if("object"!=typeof e.items)return"Invalid type array";{const t=a(e.items);if(t)return t}}}function l(e,t){var n,i,o,r;if(void 0===e)return!1;if(void 0===t)return!1;const a=e.type,c=t.type;if("unknown"===a)return"any"===c||"unknown"===c;if("unknown"===c)return!1;if("any"===a||"any"===c)return!0;if("follow"===a)return"follow"!==c;if("follow"===c)return"follow"!==a;if(s(e))return a===c||(!!c.match(/number|boolean/g)||("string"===a&&"boolean"===c||"number"===a&&"string"===c));if("indexObject"===a&&"indexObject"===c){const s=e.properties,a=t.properties;if(s&&a&&(null===(n=s.key)||void 0===n?void 0:n.type)===(null===(i=a.key)||void 0===i?void 0:i.type)&&(null===(o=s.value)||void 0===o?void 0:o.type)===(null===(r=a.value)||void 0===r?void 0:r.type))return!0}if("enum"===a&&"enum"===c){const n=e.items,i=t.items;if(n&&i&&n.length===i.length&&!n.find(((e,t)=>{const n=i[t];if(e.type!==n.type||e.value!==n.value)return!0})))return!0}if("tuple"===a&&"tuple"===c){const n=e.items,i=t.items;if(n&&i&&n.length===i.length&&!n.find(((e,t)=>{const n=i[t];if(e.type!==n.type)return!0})))return!0}if("object"===a){if("object"!==c)return!1;{const n=e.properties,i=t.properties;if(void 0===n&&void 0===i)return!0;if(n&&void 0===i)return!0;if(void 0===n&&i)return!1;for(let e in n){const t=i[e];if(!t)return!1;if(!l(n[e],t))return!1}for(let e in i){const t=n[e];if(!t)return!1;if(!l(t,i[e]))return!1}return!0}}if("array"===e.type){if("array"!==t.type)return!1;{const n=e.items,i=t.items;if(void 0===n&&void 0===i)return!0;if(n&&void 0===i)return!0;if(void 0===n&&i)return!1;return!!l(n,i)}}return!1}n.d(t,{$Z:()=>i,C7:()=>s,NV:()=>l,Ry:()=>r,fu:()=>a,g8:()=>o})},34866:(e,t,n)=>{"use strict";function i(e){if(void 0!==e){if("function"==typeof e){const t=e.toString();return t.length>100?t.substring(0,100)+"...":t}if(e instanceof Map)return function(e){const t={};return e.forEach(((e,n)=>{t[n]=i(e)})),t}(e);if(e instanceof Set)return function(e){const t=[];return e.forEach((e=>{t.push(i(e))})),t}(e);if(Array.isArray(e))return e.map((e=>i(e)));if(e instanceof Date||e instanceof RegExp||e instanceof Error||e instanceof Promise||e instanceof ArrayBuffer||e instanceof Int8Array||e instanceof Uint8Array||e instanceof FormData)return e.toString();if("object"==typeof e&&e){if(o.has(e))return"[循环引用]";o.set(e,!0);const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}}return e}let o;function r(e){if(void 0!==e){o=new WeakMap;try{const t=i(e);let n=JSON.stringify(t,((e,t)=>void 0===t?"$undefined$":t),4);return n=n.replaceAll(/\"\$undefined\$\"/gi,"undefined"),n}catch(e){}finally{o=void 0}}return"[空]"}function s(e){if(e){if(Array.isArray(e))return e.map((e=>s(e)));if("function"==typeof e)return a(e);if("object"==typeof e){const t={};for(let n in e)t[n]=s(e[n]);return t}if("string"==typeof e)return 0===e.indexOf("data:image/png;base64")?"[图片地址]":e}return e}function a(e){let t=e.toString();return t=t.replace(/__WEBPACK_IMPORTED_MODULE_\d+__\./g,""),t}n.d(t,{DK:()=>r,O$:()=>s,bj:()=>a})},84872:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});const i={NULL:"[object Null]",ARRAY:"[object Array]",OBJECT:"[object Object]",STRING:"[object String]",NUMBER:"[object Number]",BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]",FORMDATA:"[object FormData]",UNDEFINED:"[object Undefined]"};function o(e,t){const n=/^\[.*\]$/.test(t)?t:i[t.toUpperCase()];return Object.prototype.toString.call(e)===n}},98768:(e,t,n)=>{"use strict";function i(e,t){function n(e){const t=e.toString().split("."),n=["","0","00","000","0000"].reverse();for(let e=0;e<t.length;e++){const i=t[e].length;t[e]=n[i]+t[e]}return t.join("")}return function(e,t){const i=n(e),o=n(t);return i>o?1:i<o?-1:0}(`${e}`.split(".").length<3?`${e}`.concat(".0"):`${e}`,`${t}`.split(".").length<3?`${t}`.concat(".0"):`${t}`)}n.d(t,{g:()=>i})},34386:(e,t,n)=>{"use strict";n.d(t,{eF:()=>d});var i=n(54706),o=n(98973),r=n(14046),s=n(51807);const a={};let l,c={};function d(e,t,n,r){const{context:s,viewModel:d,emitDiagram:g,emitLogs:y,emitModule:b,configs:v}=t;function x(n){var i,r;try{const s=n.run(e,{rootScope:l,debug:{stepTime:o.uS}}),a={},c={},d={};function u(){l=s({inputParams:d,inputs:a,outputs:c}).parent}e.inputPins.length>0&&e.inputPins.forEach((e=>{let n;if(void 0!==e.mockData)if("json"===e.mockDataType)try{const t=decodeURIComponent(e.mockData);n=JSON.parse(t)}catch(t){return void y.error(`Mock数据错误:${e.mockData}`)}else n=e.mockData;else n=t.curDebugParams;e.wrap?d[e.hostId]=[n,e.mockWrapData]:d[e.hostId]=n}));const p=null===(r=null===(i=v.cards)||void 0===i?void 0:i.frame)||void 0===r?void 0:r.debug;p&&"function"==typeof p.start?p.start().then((()=>{u()})):u()}catch(f){A(),y.error(`运行失败:${f.message}<br/>${f.stack.replace(/\n/gi,"<br/>").replace(/\<anonymous\>/gi,"")}`),console.error(f),y.warn("调试停止.")}}function A(){d.blur();const t=a[e.id];t&&(t.stop(),a[e.id]=void 0,delete a[e.id])}switch(n){case"start":{y.warn("开始调试...");const n=a[e.id];if(n)x(n);else{let n;d.blur(),c={},u.init(t),m.init(t),h.init(t),p.init(d,y);try{n=(0,i.wE)(e,{global:{varComAry:d.varComAry,fxFrameAry:d.getFxFrameAry()},frame:u.fn,node:m.fn,con:f.fn,pin:h.fn,joint:p.fn,onError(e,t){if(t){let n="未知错误";if(t&&(t instanceof Error?(console.error(t),n=t.message):"string"==typeof t&&(n=t)),y.error("程序运行",n),"node"===(null==e?void 0:e.type)){const n=d.searchCom(e.id);n&&n.setExe({errorMsg:t.message})}}}},r?"mock":void 0),a[e.id]=n,y.info("编译完成.")}catch(e){console.error(e),y.error(`编译失败:${e.message}`)}x(n)}break}case"update":{const t=a[e.id];t&&(t.update(l,d),y.warn("内容发生变化,运行更新."));break}case"pause":{const t=a[e.id];t&&(t.pause(),y.warn("调试暂停."));break}case"stop":A()}}const u=function(){let e;return{init(t){e=t},fn:e=>({exe(t){e.parent}})}}(),p=function(){let e,t;return{init(n,i){e=n,t=i},fn(e){let n=e;const i=`${n.parent.parent.runtime.title}`;return{exe(e){n.exeValue=e,n.state.running(),n.from&&n.from.state.enable(),n.to&&n.to.state.running(),t.info(`${i} | 经过点 ${"input"===n.type?"传入":"传出"}`,e,(()=>{n.hoverExeval(e)}),(()=>{n.clearDebugHints()}))}}}}}(),f=function(){let e,t,n,i;return{init(o,r,s,a){e=r,i=o,t=s,n=a},fn:e=>({exe(t){e.exe={val:t}}})}}(),h=function(){let e;return{init(t){e=t},fn(t){const n=t,i=n.parent;let o;return i instanceof r.U?o=i:i.parent instanceof r.U&&(o=i.parent),{exe(t,r,a){var l,c,d;const{context:u,emitLogs:p,emitScenes:f}=e;n.isParentAFrame()&&(n.exe={val:t,from:r},n.state.running()),i instanceof s.l&&i.isTypeOfPopup()&&n.isDirectionOfOutput()&&f.close(i.id);const h="input"==n.direction||"inner-input"==n.direction;h&&o&&o.clearExe();const m=n.getRoot((e=>e instanceof s.l));if(m instanceof s.l){const e=m.searchDiagramByPin(n);e&&e.forEach((e=>{e.state.running()}))}let g,y,b;if(g=o&&o.runtime?`${o.runtime.title} | `:`${m.title} | `,h?(y=`%c 输入 %c ${g}${n.title}  `,b=["color:#FFF;background:#000","",t]):(y=`%c 输出 %c ${g}${n.title}  `,b=[`color:#FFF;background:${u.themes.colorPrimary}`,"",t]),n.isPrivate||h&&!(n.conAry.length>0)||p.info(y,...b),o)if(h);else{const e=null==o?void 0:o.runtime.model.outputEvents;if(e){const i=e[n.hostId];if(i&&Array.isArray(i)){const e=i.find((e=>e.active));if(e){if("none"===e.type)return!1;if("fx"===e.type)return;if("defined"===e.type)return;const n=null===(d=null===(c=null===(l=u.configs)||void 0===l?void 0:l.com)||void 0===c?void 0:c.env)||void 0===d?void 0:d.events;if(Array.isArray(n)){const i=n.find((t=>{if(t.type===e.type)return t}));i&&"function"==typeof i.exe&&i.exe({options:e.options},t)}return!1}}}}}}}}}(),m=function(){let e,t;function n(n,i){var o;const{viewModel:r,context:s,emitComponent:a,emitScenes:l}=e,c=null===(o=s.configs.com)||void 0===o?void 0:o.env;return t||(t=Object.assign({debug:{},getUserToken:()=>s.envVars.debug.userToken,getEnvType:()=>s.envVars.debug.envType,getEnvParam(e){const t=s.envVars.debug.envParams;if("string"==typeof t)return JSON.parse(t)[e]}})),Object.assign({canvas:{open(e,t,n){l.debug(e,t,n,"toplView")}},get canvasElement(){return e.emitComponent.getCanvasElement()},runtime:Object.assign({},t)},c||{})}return{init(t){e=t},fn:t=>({render(o,r){const{emitLogs:s,context:a,viewModel:l}=e;let d,u,p,f,h,m,g,y,b;if(t.debugProxy)p=t.debugProxy.inputs,g=t.debugProxy.outputs,b=t.debugProxy.inputParams;else{const v=(0,i.lO)(t,{output(){}},r);d=v.configs,u=v._inputs,p=v.inputs,h=v.inputsCallable,f=v._inputsCallable,m=v._outputs,g=v.outputs,y=v.fork}if(t.runtime.hasUI())try{c[r.path+r.label+t.id]=t.runtime.setDebugContext({getBindingValue(e,t){const n=l.searchCom(e);if(n&&n.isVar()){const e=n.runtime.cloned;if(e){let t=e.model.data.val;return void 0!==t?t:e.model.data.initValue}}}},{_inputs:(e,t)=>e||t?y("_inputs",e,t):u,inputs:(e,t)=>e||t?y("inputs",e,t):p,inputsCallable:h,_outputs:e=>e?y("_outputs",e):m,outputs:e=>e?y("outputs",e):g,frames:o,inputParams:b},r.label,r.path)}catch(x){console.error(x),s.error("运行错误",x.message)}else{const A=a.getComDef(t.runtime.def);if(!A)return void s.error("运行错误",`组件 ${t.runtime.def.namespace}@${t.runtime.def.version} 未找到`);let w=A.runtime;if(w){"string"==typeof A.style&&(w=w());try{t.runtime.clone({searchCom:l.searchCom});const E=t.runtime.cloned;function C(){let e,n;for(let t=0;t<arguments.length;t++){const i=arguments[t];"string"==typeof i?e=i:"object"==typeof i&&i instanceof Error&&(n=i)}(e||n)&&(requestAnimationFrame((i=>{t._exeInfo={errorMsg:e||n.message}})),s.error(A.title,e),n&&console.error(n))}const _=w({id:t.id,name:t.name,data:E.model.data,configs:d,_inputsCallable:f,_inputs:u,inputs:p,outputs:g,_notifyBindings(e){t.notifyBindings(e)},env:n(),isAutoRun:()=>t.isAutoRun(),logger:{trace(e,t){s.info(A.title+(t?`-${t}`:""),e)},info(e,t){s.info(A.title+(t?`-${t}`:""),e)},warn(e,t){s.warn(A.title+(t?`-${t}`:""),e)},error(e,n){requestAnimationFrame((n=>{t._exeInfo={errorMsg:e}})),s.error(A.title+(n?`-${n}`:""),e)}},cancelError(){t._exeInfo=void 0},throwError:C,onError(){return C(...arguments)}});if(_&&"object"==typeof _&&_.$$typeof)throw new Error("Do not use react when rtType='js'")}catch(M){throw M&&M.message.toUpperCase().indexOf("REACT")>=0?new Error("Do not use react when rtType='js'"):M}}}return{configs:d,inputs:p,outputs:g}},fork(n,o,r){const{emitLogs:s,context:a}=e;let l,c,d,u,p;if(t.debugProxy)c=t.debugProxy.inputs,d=t.debugProxy.outputs,p=t.debugProxy.inputParams;else{const e=(0,i.lO)(t,{output(){}},r);l=e.configs,c=e.inputs,d=e.outputs,u=e.fork}if(t.runtime.hasUI())try{t.runtime.addForkContext({inputs:e=>e?u("inputs",e):c,outputs:e=>e?u("outputs",e):d,frames:n,inputParams:p},o.label,o.path)}catch(e){console.error(e),s.error("运行错误",e.message)}return{configs:l,inputs:c,outputs:d}},exe(e,n,i){if(e){const{inputs:n,outputs:i}=e;t._exeInfo=void 0}},exePinExt(e,n,i){if(n.isTypeOfExt()){let o=c[e.path+e.label+t.id];return!o&&e.parent&&(o=c[e.parent.path+e.parent.label+t.id]),o?o[n.hostId](i):console.error(`No exts found for pin(${n.hostId})`),!1}}})}}();!function(){let e;function t(...t){let n;return t.find((t=>(t&&t.find((t=>{t.id===e&&(n=t)})),n))),n}function n(i){if(i.id===e)return i;let o=t(i.inputPins,i.outputPins,i.inputJoints,i.outputJoints);return o||(i.comAry&&i.comAry.find((i=>(o=function(i){if(i.id===e)return i;let o=t(i.inputPins,i.outputPins);return o||(i.frames&&i.frames.find((e=>(o=n(e),o))),o)}(i),o))),o)}}()},29390:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(71304),o=n(64012),r=n.n(o),s=n(91737),a=n(29927),l=n(27328);function c(){const e=(0,s.lB)(l.A,{from:"parents"}),{context:t,configs:n}=e,c=t.isDebugMode(),d=(0,o.useCallback)((e=>{c?t.setModeDesn():t.setModeDebug()}),[c]);return r().createElement(r().Fragment,null,r().createElement("div",{className:i.A.toolbar},n?r().createElement("div",{className:`${i.A.btnGroup}`},r().createElement("div",{className:`${i.A.icon} ${c?i.A.debug:""}`,onClick:e=>d(),"data-mybricks-tip":`{content:'${c?"返回设计":"调试"}',position:'left'}`},r().createElement("span",null,a.Yz),c?r().createElement("span",null,a.n1):null)):null))}},29927:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>o,n1:()=>r});var i=n(64012);const o=i.createElement("svg",{t:"1643283047297",className:"icon",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16836",width:"32",height:"32"},i.createElement("path",{d:"M385.011469 321.043513l319.507958 191.704775-319.507958 191.704774V321.043513z m569.363181 448.589173l-95.213371-95.021667a386.988038 386.988038 0 1 0-184.6756 184.547796l95.213371 95.085569a511.979551 511.979551 0 1 1 184.6756-184.611698z","p-id":"16837"})),r=(i.createElement("svg",{t:"1643283960586",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26672",width:"32",height:"32"},i.createElement("path",{d:"M849.771893 471.406898c0 47.250184 38.985059 85.576959 87.112957 85.57696 48.054754 0 87.112956-38.326775 87.112956-85.57696 0-47.323327-39.058202-85.723245-87.039814-85.723244-48.274182 0-87.186099 38.399918-87.186099 85.723244m-48.639895-185.124174c0 21.13824 8.557696 41.325626 23.771377 56.319879 15.140539 14.847968 35.693638 23.186236 57.051307 23.186236 44.69019 0 80.968969-35.620495 80.968969-79.506115 0-21.211383-8.557696-41.398768-23.771378-56.31988a81.26154 81.26154 0 0 0-57.124449-23.186236c-44.69019 0-80.895827 35.620495-80.895826 79.506116M678.910545 143.361887c0 40.447913 33.426214 73.288986 74.678697 73.288986 41.17934 0 74.605554-32.914215 74.605555-73.288986 0-40.594199-33.426214-73.435271-74.605555-73.435271-41.252483 0-74.678697 32.914215-74.678697 73.435271M506.952057 67.293479c0 37.083349 30.646791 67.291284 68.461567 67.291284A67.876426 67.876426 0 0 0 643.875192 67.293479c0-37.156492-30.719934-67.291284-68.461568-67.291285a67.876426 67.876426 0 0 0-68.461567 67.291285M319.121602 72.632896c0 33.791928 27.794226 61.22044 62.171295 61.22044s62.171295-27.428513 62.171296-61.22044A60.781584 60.781584 0 0 0 425.324803 29.259274a62.463866 62.463866 0 0 0-43.958763-17.846818c-34.377069 0-62.171295 27.35537-62.171295 61.22044M151.771103 158.356141a55.588452 55.588452 0 0 0 56.027309 55.076453 55.588452 55.588452 0 0 0 56.027308-55.076453c0-14.62854-5.924559-28.671939-16.457107-38.98506a56.319879 56.319879 0 0 0-39.497058-16.091394 55.588452 55.588452 0 0 0-56.100452 55.076454M38.034204 308.152391a50.029607 50.029607 0 1 0 84.845533 34.66964 48.713038 48.713038 0 0 0 14.62854-34.66964c0-27.062799-22.308524-49.005609-49.737037-48.932466-13.165686 0-25.819373 5.119989-35.108496 14.262826a48.713038 48.713038 0 0 0-14.701682 34.66964M0 493.93485a43.154193 43.154193 0 0 0 43.519907 42.78848 43.593049 43.593049 0 0 0 39.497058-20.699384 42.422766 42.422766 0 0 0 0-44.105049 43.593049 43.593049 0 0 0-39.497058-20.772527 43.154193 43.154193 0 0 0-43.519907 42.78848M46.079901 680.960735c0.073143 13.165686 7.241127 25.307374 18.724532 31.817075 11.556547 6.582843 25.819373 6.582843 37.302777 0a36.717636 36.717636 0 0 0-18.724532-68.680996 37.010206 37.010206 0 0 0-37.302777 36.863921m123.026022 152.283102c0 10.971405 5.851416 21.065098 15.506253 26.477658a31.451361 31.451361 0 0 0 31.085648 0 30.573649 30.573649 0 0 0-15.579396-57.124449 30.793077 30.793077 0 0 0-31.012505 30.646791m177.517334 89.599808c0 8.777124 4.827418 16.822821 12.434259 21.211383 7.753126 4.315419 17.188535 4.315419 24.868518-0.073142a24.429662 24.429662 0 0 0-12.507401-45.714188 24.64909 24.64909 0 0 0-24.795376 24.575947m200.118429 9.654837c0 6.582843 3.657135 12.653687 9.362265 15.871966 5.851416 3.291422 12.946258 3.291422 18.651389 0a18.358818 18.358818 0 0 0-9.362266-34.377069 18.578246 18.578246 0 0 0-18.651388 18.505103m185.928744-72.04556c0 6.729128 5.558845 12.214831 12.434259 12.214831 6.875414 0 12.434259-5.485703 12.434259-12.214831a12.361116 12.361116 0 0 0-12.434259-12.287974 12.361116 12.361116 0 0 0-12.434259 12.287974m137.947133-139.995129a6.143987 6.143987 0 0 0 2.925708 5.851416 6.363415 6.363415 0 0 0 6.582843 0 6.143987 6.143987 0 0 0-3.218279-11.410261 6.21713 6.21713 0 0 0-6.290272 5.558845","p-id":"26673"})),i.createElement("svg",{t:"1643293354621",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2049",width:"32",height:"32"},i.createElement("path",{d:"M512 64a448.128 448.128 0 0 0 0 896 446.976 446.976 0 0 0 381.056-212.288c18.56-30.08 0-48.768-30.016-67.392-30.08-18.624-60.16-30.08-78.784 0A318.976 318.976 0 0 1 512 832a320 320 0 0 1 0-640c35.328 0 40.448-30.72 40.448-66.048S547.328 64 512 64z m447.68 469.568c6.784-177.92-84.672-327.616-220.224-407.616-30.464-17.92-47.104 1.92-65.088 32.384-17.92 30.4-30.464 59.904 0 77.824A319.744 319.744 0 0 1 832 512c0 35.328 33.664 40.576 61.056 52.864 27.328 12.288 65.28 3.968 66.624-31.296z",fill:"#515151","p-id":"2050"})))},98058:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(31364);class o extends i.A{constructor(){super(...arguments),this.zIndex=0}isParentAFrame(){return parent&&parent.parent}getRoot(e){let t=this;if("function"==typeof e&&e(t))return t;for(;t.parent&&(t=t.parent,"function"!=typeof e||!e(t)););return t}focus(e){this.state.focus()}blur(){this.state.isDisabled()||this.state.blur(),this.state.runningRecover()}}},31364:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(96966);class o extends i.PQ{set$elOnce(e){this.__el__&&this.__el__.parent||(this.__el__=e)}}},92758:(e,t,n)=>{"use strict";n.d(t,{KA:()=>s,fM:()=>a});var i=n(60599),o=n(98973),r=n(91737);function s(e,t,n){const o=n.getStage().scaleX(),s=e.$el,a=t.$el,l=(0,r.oT)(s,n),c=(0,r.oT)(a,n);if(t.isTypeOfConfig()){const n={x:Math.round(c.x/o),y:Math.round(c.y/o)+.5,j:t.getJoinerWidth()};return i.E.create(e,{x:Math.round(l.x/o+l.w/2),y:Math.round(l.y/o)+.5,j:e.getJoinerWidth()},t,n)}return i.E.create(e,{x:Math.round(l.x/o+l.w/2),y:Math.round(l.y/o)+.5,j:e.getJoinerWidth()},t,{x:Math.round(c.x/o-c.w/2),y:Math.round(c.y/o)+.5,j:t.getJoinerWidth()})}function a(e,t=o.ZH){return Math.round(e/t)*t}},53261:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(91737),o=n(64012),r=n.n(o),s=n(96966),a=n(15876),l=n(66965),c=n(27328),d=n(7565),u=n(92867),p=n(97538),f=n(6403),h=n(29390),m=n(42363),g=n(32121),y=n(45216);function b({viewId:e,viewModel:t,configs:n,onToolbar:l}){const h=(0,i.lB)(s.Ho,{from:"parents"}),b=(0,i.J2)(s.Zm.Message,{expectTo:"parents"}),x=(0,i.J2)(s.Zm.Component,{expectTo:"parents"}),A=(0,i.J2)(s.Zm.Snap,{expectTo:"parents"}),w=(0,i.J2)(s.Zm.WindowEvents,{expectTo:"parents"}),E=(0,i.J2)(s.Zm.Scenes,{expectTo:"parents"}),C=(0,i.J2)(s.Zm.Views,{expectTo:"parents"}),_=(0,i.J2)(s.Zm.Frame,{expectTo:"parents"}),M=(0,i.J2)(s.Zm.Variable,{expectTo:"parents"}),I=(0,i.J2)(s.Zm.Logs,{expectTo:"parents"}),k=(0,i.J2)(s.Zm.Editor,{expectTo:"parents"}),P=(0,i.J2)(s.Zm.Find,{expectTo:"parents"}),F=(0,i.J2)(s.Zm.AI,{expectTo:"parents"}),S=(0,i.J2)(c.A,(i=>{const o=t.frames[0];i({viewId:e,context:h,configs:n||{},viewModel:t,curFrameModel:(null==o?void 0:o.isBizTypeOfUI())?o:void 0,onToolbar:l,emitLogs:I,emitMessage:b,emitWindowEvents:w,emitFrame:_,emitView:C,emitScenes:E,emitVariable:M,emitComponent:x,emitSnap:A,emitEditor:k,emitFind:P,emitAI:F})}),{expectTo:"children"});(0,o.useEffect)((()=>{(0,y.Mn)().upgrade(S)}),[]),(0,o.useMemo)((()=>{(0,d.Ts)(S),(0,u.T)(S),(0,p.T)(S),(0,f.T)(S)}),[]),(0,o.useEffect)((()=>{h.isDesnMode()&&t.clearAllTempComs()}),[h.getMode()]),(0,o.useEffect)((()=>{h.isDebugMode()?S.lastFrameModelBeforeDebug=S.curFrameModel:(S.debugger={},S.lastFrameModelBeforeDebug&&(S.curFrameModel!==S.lastFrameModelBeforeDebug&&E.switch(S.lastFrameModelBeforeDebug.id),S.lastFrameModelBeforeDebug=void 0,requestAnimationFrame((()=>{t.stopDebug()})),I.info("调试停止.")))}),[h.getMode()]),(0,i.yx)(s.Zm.Editor,(e=>(0,m.A)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Env,(e=>(0,a.DK)(S)),{from:"parents"}),(0,i.yx)(s.Zm.FxFrame,(e=>(0,a.Jd)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Frame,(e=>(0,a.NS)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Scenes,(e=>(0,a.jR)(S)),{from:"parents"}),(0,i.yx)(s.Zm.ComLib,(e=>(0,a._)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Label,(e=>(0,a.BX)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Variable,(e=>(0,g.D)(S)),{from:"parents"}),(0,i.yx)(s.Zm.Component,(e=>(0,a.ZJ)(S)),{from:"parents"}),(0,i.yx)(s.Zm.IOCAbout,(e=>(0,a.uH)(S)),{from:"parents"});const T=(0,i.yx)(s.Zm.Debug,(e=>(0,a.Pw)(S)),{from:"parents"});return S.emitDebug=T,r().createElement(v,{viewCtx:S,onToolbar:l})}function v({viewCtx:e,onToolbar:t}){var i;const{context:s,curFrameModel:a}=e,[c,d]=(0,o.useState)(void 0);if((0,o.useMemo)((()=>{Promise.all([n.e(974),n.e(757)]).then(n.bind(n,54757)).then((e=>{d(e)}))}),[]),(0,o.useEffect)((()=>{"function"==typeof t&&t((()=>r().createElement(x,{viewCtx:e})))}),[]),c){const t=c.default;return r().createElement("div",{className:l.A.toplView,ref:t=>{t&&(e.wrapEle=t)}},r().createElement(t,{viewCtx:e}),(null===(i=e.configs)||void 0===i?void 0:i.handlers)?r().createElement(h.A,null):null)}return r().createElement("div",{className:l.A.toplView},r().createElement("div",{className:l.A.loading},"加载中.."))}function x({viewCtx:e}){const{context:t,viewModel:n,curFrameModel:i,emitComponent:s,setCurDiagram:a}=e;let c;i&&!i.isTypeOfEmpty()&&(c=i.title);const d=(0,o.useCallback)((t=>{e.setBizType(t)}),[]);return r().createElement("div",{className:l.A.Toolbar},r().createElement("div",{className:`${l.A.tab} ${e.isBizTypeOfUI()?l.A.active:""}`,onClick:e=>d("ui")},"交互"),t.configs.toplView.useService?r().createElement("div",{className:`${l.A.tab} ${e.isBizTypeOfService()?l.A.active:""}`,onClick:e=>d("service")},"服务"):null)}},27328:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(92758),o=n(38570),r=n(91716);class s{constructor(){this.debugger={},this.visitedDiagramAry=[],this.renderedDiagramAry=[],this.lastDiagramModelForBizType={},this.lastDiagramModelForFrame={},this.scale=1}backwardDiagramView(){const e=this.visitedDiagramAry,t=e.findIndex((e=>e.id===this.curDiagramModel.id)),n=e[t-1];this.setCurDiagram(n,!0),this.emitComponent.focus(n)}canBackwardDiagramView(){if(!this.curDiagramModel)return!1;return this.visitedDiagramAry.findIndex((e=>e.id===this.curDiagramModel.id))>0||void 0}forwardDiagramView(){const e=this.visitedDiagramAry,t=e.findIndex((e=>e.id===this.curDiagramModel.id)),n=e[t+1];this.setCurDiagram(n,!0),this.emitComponent.focus(n)}canForwardDiagramView(){if(!this.curDiagramModel)return!1;const e=this.visitedDiagramAry;return!(e.findIndex((e=>e.id===this.curDiagramModel.id))>=e.length-1)}ifVisible(){if(this.wrapEle){const e=(0,r.E9)(this.wrapEle);if(e&&!(e.w>0&&e.h>0))return!1}return!0}getCurDiagram(){return this.curDiagramModel}setCurDiagram(e,t){if(e){if(e.parent.isTypeOfEmpty())this.curDiagramModel=void 0;else if(this.curDiagramModel!==e){const n=e.root;if(this.context.configs.isTypeOfMPA()&&n.isBizTypeOfUI()&&n!==this.viewModel&&(n.isTypeOfPopup()||n.isTypeOfNormal()||n.isTypeOfModule())&&this.viewModel.curHostId){const e=this.viewModel.getFrame(this.viewModel.curHostId);if(e)if(n.isTypeOfModule()){if(n.id!==e.id)return}else if(e.searchFrame(n.id)!==n)return}if(n.isBizTypeOfUI()?this.viewModel.bizType="ui":n.isBizTypeOfService()&&(this.viewModel.bizType="service"),n.isTypeOfFx&&!n.isTypeOfFx()&&n.isTypeOfExtension&&!n.isTypeOfExtension()){this.switchFrame(n);try{this.emitScenes.switch(e.root.id)}catch(e){}}if(this.renderedDiagramAry.find((t=>t.id===e.id))||(this.renderedDiagramAry.length>10&&this.renderedDiagramAry.splice(0,5),this.renderedDiagramAry.push(e)),this.viewModel.curDiagramId=e.id,this.curDiagramModel=e,e.refreshUpdateTime(),!t){const t=this.visitedDiagramAry;t.length>20&&t.shift(),(t.length<=0||t.length>0&&!t[t.length-1]!==e)&&t.push(e)}this.lastDiagramModelForFrame[n.id]=e,this.lastDiagramModelForBizType[this.viewModel.bizType]=e}}else this.curDiagramModel=void 0}clearCurFrameModel(){this.curFrameModel&&(this.clearCurDiagram(),this.curFrameModel=void 0)}clearCurDiagram(){const e=this.curDiagramModel;e&&(this.curDiagramModel=void 0,this.renderedDiagramAry.forEach(((t,n)=>{t.id===e.id&&this.renderedDiagramAry.splice(n,1)})),this.visitedDiagramAry.forEach(((t,n)=>{t.id===e.id&&this.visitedDiagramAry.splice(n,1)})))}isCurDiagram(e){var t;return(null===(t=this.curDiagramModel)||void 0===t?void 0:t.id)===e}isBizTypeOfUI(){return!this.viewModel.bizType||"ui"===this.viewModel.bizType}isBizTypeOfService(){return"service"===this.viewModel.bizType}setBizType(e){if(this.viewModel.bizType!==e){this.viewModel.bizType=e;const t=this.lastDiagramModelForBizType[e];this.setCurDiagram(t)}}switchFrame(e){if((!e||e.isBizTypeOfUI())&&(this.viewModel.bizType="ui",this.curFrameModel!==e)){this.curFrameModel=e;const t=this.lastDiagramModelForFrame[e.id];t?this.setCurDiagram(t):e.diagramAry.length>0?this.setCurDiagram(e.diagramAry[0]):this.curDiagramModel=void 0,this.viewModel.curFrameId=e.id}}isMainSlot(e){var t;return(null===(t=this.viewModel.getMainModuleFrame())||void 0===t?void 0:t.id)===e.id}scrollTo({x:e,y:t},n){}diagramsLayout(e,t){const{viewModel:n,emitLogs:o}=this;if("refactor"===e){const e=n.diagramAry;if(e.length>0){let t=0,n=0;e.forEach(((e,o)=>{0===o&&(n=e.style.top||0,t=(0,i.fM)(void 0!==e.style.left?e.style.left:200,50)),e.style.top=n,n+=(0,i.fM)(e.style.height+50,50)}))}t||o.info("流程卡片重新排列完成.")}}getComEventAssist(e,t){return a(e,t)}hintConnection(e,t){const{stop:i}=function({model:e,animationLayer:t,loop:i}){let r;e.$el&&Promise.resolve().then(n.bind(n,66362)).then((({Konva:n})=>{const s=e.$el.children[0],a=i?e.$el.getLayer():t;if(s){let t,l;t=s.getLength(),l=25;const c=t/l,d=(0,o.t5)(e.startPin.schema.type),u=e.parent.$el.getPosition(),p=s.getPointAtLength(0);if(u&&p&&t){const o=new n.Circle({x:u.x+p.x,y:u.y+p.y,radius:3,fill:d.strokeColor});i&&o.zIndex(-2),a.add(o);let l,f=0;const h=new n.Animation((n=>{f+=1;const a=f*c;l=s.getPointAtLength(a),o.position({x:u.x+l.x,y:u.y+l.y}),(e.hadDestroyed()||a>=t)&&(i?f=0:r())}),a);h.start(),r=function(){o.destroy(),h.stop()}}}}));return{stop(){r&&r()}}}({model:e,animationLayer:this.animationLayer,loop:t});return function(){i()}}}function a(e,t){let n,i;const o=[],r=t.comTitle||e.title;let s=e.inputs?[...e.inputs]:[];if("js"===e.rtType||"js-autorun"===e.rtType){let a=e.outputs;s.forEach((n=>{a?a.forEach((i=>{const s=Array.from(new Set([n.title,r+"组件",i.title]));o.push({title:`${s.join("->")}`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`,next:i.id})})):o.push({title:`${n.title}->${r}组件`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`})}));const l=e.ai;let c;if("object"==typeof l&&("object"==typeof l.def&&(n=l.def),c=l.prompts),c)if("string"==typeof c)i=c;else if("function"==typeof c){const e={};if(t.startPin){const{title:n,schema:i}=t.startPin;e.startPin={title:n,schema:JSON.parse(JSON.stringify(i))}}const n=c(e);"string"==typeof n&&(i=n)}}else s.push({id:"hide",title:"隐藏"},{id:"show",title:"显示"}),s.forEach((n=>{n.rels?n.rels.forEach((i=>{const s=e.outputs.find((e=>e.id===i));if(s){const i=Array.from(new Set([n.title,r+"组件",s.title]));o.push({title:`${i.join("->")}`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`,next:s.id})}})):o.push({title:`${n.title}->${r}组件`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`})}));return{def:n,prompts:i,ioAry:o}}},19714:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(51807),o=n(91737),r=n(38570),s=n(96966),a=n(14046),l=n(61281),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=class extends s.PQ{constructor(){super(...arguments),this.name=r.WN,this.frames=[],this.varComAry=[],this.comAry=[],this.diagramAry=[],this.style={left:0,top:0}}isTypeOfEmpty(){return!1}addFrame({id:e,title:t,name:n,bizType:o,catalogId:r,type:s,deletable:a,debuggable:l,asDefault:c}){const d=new i.l({id:e,catalogId:r,title:t,name:n,bizType:o,type:s,deletable:a,debuggable:l,asDefault:c});return this.frames.push(d),this.frames[this.frames.length-1]}addDefaultFrame(){const e=new i.l({rootF:!0,asDefault:!0});return this.frames.push(e),this.frames[this.frames.length-1]}addVarDiagram(e){let t=new l.A(this,e.title,"normal");return this.diagramAry||this.diagramAry,this.diagramAry.push(t),t=this.diagramAry[this.diagramAry.length-1],t.isVar=!0,t.varCom=e,t}addFxDiagram(){let e=1;this.frames.forEach((t=>{t.isTypeOfFx()&&e++}));let t=new i.l;t.type="fx",this.frames.push(t),t=this.frames[this.frames.length-1],t.title=`全局Fx卡片${e}`,t.addInputPin({type:"normal",hostId:"param0",title:"输入项",schema:{type:"unknown"},editable:!0});const n=new l.A(t,t.title,"normal");return n.isFn=!0,t.diagramAry.push(n),t.diagramAry[t.diagramAry.length-1]}addComponent(e){return this.comAry.find((t=>t.id===e.id))?e:(e.parent=this,this.comAry.push(e),this.comAry[this.comAry.length-1])}isBizTypeOfUI(){return!this.bizType||"ui"===this.bizType}isBizTypeOfService(){return"service"===this.bizType}getFrameAryByCatalogId(e){return this.frames.filter((t=>t.catalogId===e))}getFxFrameAry(){return this.frames.filter((e=>e.isTypeOfFx()))}getDefaultFrame(){return this.frames.find((e=>e.isDefault()))}getFrame(e){return this.frames.find((t=>t.id===e))}deleteFrame(e){let t;t="string"==typeof e?this.getFrame(e):e;const n=this.frames.indexOf(t);n>=0&&this.frames.splice(n,1)}delete(e){if(e instanceof a.U){const t=this.varComAry.indexOf(e);t>=0&&this.varComAry.splice(t,1)}else if(e instanceof l.A){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}}getMainModuleFrame(){return this.frames[0]}addVarComponent(e){return this.varComAry.find((t=>t.id===e.id))?e:(e.parent=this,this.varComAry.push(e),this.varComAry[this.varComAry.length-1])}getVarComponent(e){var t;return null===(t=this.varComAry)||void 0===t?void 0:t.find((t=>t.id===e))}hasChildCom(e){return void 0!==this.varComAry.find((t=>t.id==e.id))}searchFrame(e){if(this.frames){const t=this.frames.find((t=>{if(t.id===e)return!0}));if(t)return t;let n;return this.frames.find((t=>(n=t.searchFrame(e),n))),n}}searchDiagramByVarRef(e,t){if(this.frames){const n=[];return this.frames.forEach((i=>{const o=[];i.searchDiagramByVarRef(o,e,t),o.length>0&&n.push({id:i.id,title:i.title,results:o})})),n}}searchDiagramByVar(e){if(this.diagramAry){const t=this.diagramAry.find((t=>t.varCom===e));if(t)return t}if(this.frames){let t;return this.frames.find((n=>(t=n.searchDiagramByVar(e),t))),t}}searchDiagramByFxRef(e){if(this.frames){const t=[];return this.frames.forEach((n=>{const i=[];n.searchDiagramByFxRef(i,e),i.length>0&&t.push({id:n.id,title:n.title,results:i})})),t}}searchDiagram(e){if(this.frames){let t;this.frames.find((n=>(t=n.searchDiagram(e),t)));return t}}searchCom(e,t){let n;if(this.curHostId){const i=this.getFrame(this.curHostId);if(i&&(n=i.searchCom(e,t),n))return n}return n=this.getVarComponent(e),n||(this.frames.find((i=>{if(n=i.searchCom(e,t),n)return!0})),n)}searchComInDiagrams(e){let t;return this.frames.find((n=>{if(t=n.searchComInDiagrams(e),t)return!0})),t}searchComInDiagramsBy_key(e){let t;return this.frames.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return!0})),t}searchComByDef(e){const t=[];if(this.frames)return this.frames.forEach((n=>{const i=n.searchComByDef(e);i&&t.push(...i)})),t.length>0?t:void 0}searchCon(e){let t;return this.frames.find((n=>{if(t=n.searchCon(e),t)return!0})),t}getFocusedDiagram(){let e;return this.frames.find((t=>{if(e=t.getFocusedDiagram(),e)return!0})),e}clearAllTempComs(){this.frames.forEach((e=>{e.clearAllTempComs()}))}stopDebug(){this.frames.forEach((e=>{e.stopDebug()}))}clearDebugHints(){this.varComAry.forEach((e=>{e.clearDebugHints()})),this.frames.forEach((e=>{e.clearDebugHints()}))}getSummaryInfo(){let e=0,t=0;return this.frames.length>0&&this.frames.forEach((n=>{const{coms:i,diagrams:o}=n.getSummaryInfo();e+=i,t+=o})),{coms:e,diagrams:t}}toJSON(e){const t={};return t.id=this.id,t.frames=[],this.frames.forEach((n=>{t.frames.push(n.toJSON(e))})),t}};c([o.Nt,d("design:type",Object)],u.prototype,"runner",void 0),u=c([(0,o.yL)(r.MS+"topl.ToplViewModel")],u);const p=u},45216:(e,t,n)=>{"use strict";n.d(t,{Mn:()=>l});var i=n(56919),o=n(91716),r=n(21523),s=n(96966),a=n(98973);const l=function(){let e,t;return{upgrade(i){e=i,t=e.viewModel,e.viewModel.frames.forEach((e=>{n(e)}))}};function n(e){e.diagramAry.forEach((e=>{e.conAry.forEach((e=>{const{startPin:t,finishPin:n}=e;t.conAry.find((t=>t===e))||t.conAry.push(e),n.conAry.find((t=>t===e))||n.conAry.push(e)}))})),e.comAry.forEach((e=>{e.runtime.geo&&(!e.inputPinExts||e.inputPinExts.length<=0)&&(a.K$.forEach((t=>{e.addInputPinExt({hostId:t.hostId,title:t.title,schema:t.schema,description:t.description})})),console.warn(`兼容组件(title=${e.runtime.title||e.title})的输入项中的EXT部分.`)),e.frames&&e.frames.forEach((e=>n(e)))}))}};(function(){let e;return{upgrade(n){e=n,e.viewModel.frames.forEach((e=>{t(e)}))}};function t(e){const n=e.inputPins;if(!e.parent&&(2===n.length&&n.find((e=>"directTo"===e.hostId))&&e.inputPins.splice(0,1),"popup"===e.type&&1===n.length)){const t=n[0];"open"===t.hostId&&"any"===t.schema.type&&(e.type="normal")}e.comAry.forEach((n=>{if(n.runtime.def.namespace===s.ZD.coms.scenes){if(n.ioProxyForCall&&"normal"!==n.runtime.model.data._sceneShowType){const e=n.ioProxyForCall.frame.inputPins;(e.length>=2||"any"===e.find((e=>"open"===e.hostId)).schema.type)&&(n.runtime.model.data._sceneShowType="normal")}if(n.ioProxy){const e=n.ioProxy;n.runtime.model.data._sceneId=e.id,n.runtime.model.data._sceneShowType=e.type;const t={frame:e,_inputs:{_open:"open"},outputs:"all"},i=n.inputPinsInModel[0];"open"!==i.hostId&&(i.hostId="open");const o=e.inputPins[0];"open"!==o.hostId&&(o.hostId="open"),n.ioProxyForCall=t;n.inputPinsInModel.find((e=>"open"===e.hostId)).proxyPin=void 0,t._inputs&&Object.keys(t._inputs).forEach((i=>{const o=t._inputs[i],r=e.inputPins.find((e=>e.hostId===o));if(r){n.add_InputPin({hostId:i,title:r.title,schema:r.schema}).proxyPin=r}})),e.outputPins.forEach((e=>{if(e.conAry.length>0&&!n.outputPinsInModel.find((t=>t.hostId===e.hostId))){n.add_OutputPin({hostId:e.hostId,title:e.title,schema:e.schema}).proxyPin=e}})),n.ioProxy=void 0}}e.comAry.forEach((e=>{e.frames&&e.frames.forEach((e=>t(e)))}))}))}})(),function(){const e=new WeakSet;let t,n;const i=[];return{frame(r,s){e.has(r)||(t=s,n=r,o(r),i.length>0&&(t.emitLogs.warn("兼容处理","处理连接重复及相关清理工作."),i.forEach((e=>{t.emitLogs.warn(e[0],e[1])})),t.emitLogs.warn("兼容处理","处理完成.")))}};function o(t){e.has(t)||(e.add(t),t.diagramAry.forEach((e=>{e.comAry=e.comAry.map((e=>e instanceof r.default?t.comAry.find((t=>t.id===e.forkedFrom.id))?e:void i.push(["兼容处理",`清理无效组件 ${e.runtime.title}(${e.runtime.def.namespace}).`]):e)).filter((e=>e))})),t.comAry.forEach((e=>{e.frames&&e.frames.forEach((e=>o(e)))})))}}(),function(){const e=new WeakSet;let t,n;function r(e){if(e.conAry){const o=[];e.conAry.forEach(((e,r)=>e.startPin instanceof i.x&&e.finishPin instanceof i.x?o.find((t=>t.startPin.id===e.startPin.id&&t.finishPin.id===e.finishPin.id))?(t.emitLogs.warn("兼容处理",`删除重复连接(${e.title}).`),void n.delete(e)):void o.push(e):(t.emitLogs.warn("兼容处理",`删除无效连接(${e.title}).`),void n.delete(e)))),e.conAry=o}}function s(t){e.has(t)||(e.add(t),o.DO.each((e=>{r(e)}),t.inputPins,t.outputPins),t.comAry&&t.comAry.forEach((e=>{o.DO.each((e=>{r(e)}),...e.getInputsAll(),...e.getOutputsAll()),e.frames&&e.frames.forEach((e=>{s(e)}))})))}}()},82881:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(41793);function o({model:e}){var t,n,o;if(e.$el){let r;const s=e.cooperation;if(s&&((null===(t=s.commentAry)||void 0===t?void 0:t.length)>0||(null===(n=s.labelAry)||void 0===n?void 0:n.length)>0)&&(r="#de7d38",(null===(o=s.labelAry)||void 0===o?void 0:o.length)>0)){r=s.labelAry[s.labelAry.length-1].color}if(r)return(0,i.C)({fill:r,x:e.$el.width()-12,y:-11})}}},30391:(e,t,n)=>{"use strict";n.d(t,{P:()=>d});var i=n(91737),o=n(38570),r=n(14046),s=n(56919),a=n(91716),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends r.U{constructor(){super(...arguments),this._inputPins=[],this._outputPins=[],Object.defineProperty(this,"inputPins",{get(){var e;const t=null===(e=this.ioProxyForCall)||void 0===e?void 0:e.frame;if(!t)return;const n=t.inputPins;n.forEach((e=>{if(!this._inputPins.find((t=>t.hostId===e.hostId))){this.addInputPin({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0})}}));const i=this._inputPins.filter(((e,t)=>{if(!n.find((t=>t.hostId===e.hostId)))return!0}));return i.length>0&&i.forEach((e=>{e.destroy(),this.removeInputPin(e.hostId)})),this._inputPins.forEach((e=>{const t=n.find((t=>t.hostId===e.hostId));e.title=t.title,e.schema=t.schema})),this._inputPins},set:e=>!0}),Object.defineProperty(this,"outputPins",{get(){var e;const t=null===(e=this.ioProxyForCall)||void 0===e?void 0:e.frame;if(!t)return;const n=t.outputPins;n.forEach((e=>{if(!this._outputPins.find((t=>t.hostId===e.hostId))){this.addOutputPin({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0})}}));let i=this._outputPins.filter(((e,t)=>{if(!n.find((t=>t.hostId===e.hostId)))return!0}));return i.length>0&&i.forEach((e=>{e.destroy(),this.removeOutputPin(e.hostId)})),this._outputPins.forEach((e=>{const t=n.find((t=>t.hostId===e.hostId));e.title=t.title,e.schema=t.schema})),this._outputPins},set:e=>!0})}addInputPin({hostId:e,title:t,schema:n,deletable:i,conMax:o}){let r=this._inputPins;r||(r=this._inputPins=[]);const l=a.DO.find((t=>t.hostId===e),r);if(l)return;const c=new s.x({type:"normal",direction:"input",hostId:e,title:t,schema:n,conMax:o,deletable:i});return c.parent=this,r.push(c),r[r.length-1]}removeInputPin(e){let t;const n=this._inputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}getInputsAll(){return[this._inputPins,this.inputPinExts]}addOutputPin({hostId:e,title:t,schema:n,deletable:i,conMax:o}){let r=this._outputPins;r||(r=this._outputPins=[]);const l=a.DO.find((t=>t.hostId===e),r);if(l)return;const c=new s.x({type:"normal",direction:"output",hostId:e,title:t,schema:n,conMax:o,deletable:i});return c.parent=this,r.push(c),r[r.length-1]}removeOutputPin(e){let t;const n=this._outputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}getOutputsAll(){return[this._outputPins,this.outputPinExts]}destroy(){super.destroy(!0)}};d=l([(0,i.yL)(o.MS+"topl.ModuleComModel"),c("design:paramtypes",[])],d)},34929:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>w,G0:()=>M,QW:()=>k,R2:()=>_,cT:()=>P,gd:()=>E,tY:()=>I,wi:()=>C,zd:()=>A});var i=n(91737),o=n(96966),r=n(7030),s=n(78087),a=n(64012),l=n(40513),c=n(92758),d=n(87144),u=n(72072),p=n(21523),f=n(1638),h=n(33010),m=n(38438),g=n(99552),y=n(27328),b=n(43315),v=n(28090),x=n(64012);n(21523);class A{constructor(){this.dragable=!0}}function w({model:e}){const t=(0,i.lB)(m.vn,{from:"parents"}),n=(0,i.lB)(y.A,{from:"parents"}),l=(0,i.lB)(o.Ho,{from:"parents"}),c=e.runtime?l.getComDef({namespace:e.runtime.def.namespace}):void 0,d=(0,i.J2)(A,(i=>{if(c&&!e.runtime.upgrade&&(e.runtime.def.version||(e.runtime.def.version=c.version),e.runtime.def.version!==c.version)){const t=`${e.runtime.def.version} > ${c.version}`;e.runtime.upgrade={info:t,version:c.version}}i({model:e,comDef:c,diagramContext:t,viewContext:n,context:l})}),{to:"children"});if((0,a.useMemo)((()=>{e.runtime&&(e.diagramModel||(e.diagramModel=t.model),e.runtime.topl||(e.runtime.topl=e.forkedFrom||e))}),[]),!c){if(e.runtime){const t=`组件未定义 ${e.runtime.def.namespace}@${e.runtime.def.version}`;return e.error={message:t},x.createElement(s.A,{model:e,type:"error",msg:t})}{const t="未找到组件";return e.error={message:t},x.createElement(s.A,{model:e,type:"error",msg:t})}}(0,i.HO)((()=>{d.errorMsg=e.hasError()})),(0,a.useEffect)((()=>{const t=e.runtime;requestAnimationFrame((()=>{if(e.runtime.hasUI()&&!e.hadDestroyed()){const i=n.emitComponent.exist(t);Array.isArray(i)&&i.forEach((t=>{t.result||(e.error={message:`${t.info}`})}))}}))}),[]);const w=(0,i.HO)((()=>{if(e.diagramModel.style.visible&&n.viewFilter)return e.isMatchForFilter(n.viewFilter)}));if(c.editors&&c.editors["@render"])return x.createElement(f.A,{comContext:d});if(e instanceof p.default&&e.isStartInDiagram())return x.createElement(h.A,{comContext:d});if(c.namespace===o.ZD.coms.module)return x.createElement(u.A,{comContext:d});if(c.namespace!==o.ZD.coms.scenes){if(c.namespace===o.ZD.coms.fn)return x.createElement(g.A,{highlight:w,comContext:d});if(c.namespace===o.ZD.coms.service)return x.createElement(v.A,{highlight:w,comContext:d});if(e instanceof p.default&&e.forkedFrom.hadDestroyed())return;return x.createElement(r.A,{highlight:w,comContext:d})}return e.ioProxyForCall?x.createElement(b.A,{comContext:d}):void 0}function E(e,t=27){return(0,i.HO)((()=>{const n=e.inputPinExts,i=e.inputPinsInModel,o=e.outputPinExts,r=e.outputPinsInModel,s=Math.max(e.inputPins.length+(n?n.length:0)+(i?i.length:0),e.outputPins.length+(o?o.length:0)+(r?r.length:0));return{height:Math.max(20*s+10,t)}}))}function C(e){return(0,i.HO)((()=>{if(!e.isVisible()){const t=e.configPins;if(t&&t.find((e=>{if(e.hover)return!0})))return 1;if(e.getInputsAllAry().find((e=>{if(e.hover)return!0})))return 1;return e.getOutputsAllAry().find((e=>{if(e.hover)return!0}))?1:.4}return 1;
//!hasUI||Arrays.length(model.getInputsAll())
}))}function _({model:e,className:t}){return(0,i.lB)(A,{from:"parents"}),e.error}function M({model:e,context:t,inputPinAry:n,ignoreIOSync:o,readOnly:r}){(0,i.HO)((()=>{!o&&e instanceof p.default&&e.synchronizeConfigs()})),(0,i.HO)((()=>{!o&&e instanceof p.default&&(e.synchronizeInputs(),e.inputPins&&e.inputPins.forEach((n=>{e.synchronizeRelOutputs(n.rels,t)})))}));const s=[];let a=0;e.timerInputPin&&s.push(x.createElement(d.Ay,{model:e.timerInputPin,key:e.timerInputPin.id,order:a++,type:"timer"})),e.isFx()||e.configPins&&e.configPins.forEach((e=>{s.push(x.createElement(d.Ay,{model:e,key:e.id,order:a++,type:"config"}))})),e.inputPins&&e.inputPins.forEach((t=>{if(t.isTypeOfConfig()&&e.isFx())return;s.push(x.createElement(d.Ay,{model:t,key:t.id,order:a++}));const n=t.forkedFrom;n&&n.params&&n.params.forEach((e=>{s.push(x.createElement(d.Ay,{model:e,key:e.id,type:e.type}))}))}));let l=e.inputPinsInModel;return l&&l.forEach((e=>{e.proxyPin&&"function"==typeof e.proxyPin.hadDestroyed&&e.proxyPin.hadDestroyed()?e.destroy():s.push(x.createElement(d.Ay,{model:e,key:e.id,order:a++}))})),n&&n.forEach((e=>{s.push(x.createElement(d.Ay,{model:e,key:e.id,order:a++}))})),e.inputPinExts&&e.inputPinExts.forEach((e=>{s.push(x.createElement(d.Ay,{model:e,key:e.id,order:a++}))})),e.inputPinExtForFrames&&e.inputPinExtForFrames.forEach((e=>{s.push(x.createElement(d.Ay,{model:e,key:e.id,order:a++}))})),s}function I({model:e,outputPinAry:t,type:n,className:o}){(0,i.HO)((()=>{e instanceof p.default&&(e.inputPins&&e.inputPins.find((e=>e.rels))||e.synchronizeOutputs())}));const r=[];let s=0;return e.outputPins&&e.outputPins.forEach((e=>{r.push(x.createElement(d.Ay,{model:e,key:e.id,type:n,order:s++}))})),e.outputPinsInModel&&e.outputPinsInModel.forEach((e=>{e.hadDestroyed()||r.push(x.createElement(d.Ay,{model:e,key:e.id,type:n,order:s++}))})),t&&t.forEach((e=>{r.push(x.createElement(d.Ay,{model:e,key:e.id,type:n,order:s++}))})),e.outputPinExts&&e.outputPinExts.forEach((e=>{r.push(x.createElement(d.Ay,{model:e,key:e.id,type:n,order:s++}))})),e.outputPinNexts&&e.outputPinNexts.forEach((e=>{r.push(x.createElement(d.Ay,{model:e,key:e.id,type:n,order:s++}))})),r}function k(e,t){const{animationLayer:n,emitComponent:o,scale:r}=t;let s,a,d={},u={};const p=e[0];if(!p)return;const f=p.diagramModel;return{start:function(){d={};const t=f.$el;a=(0,i.oT)(t);const o=e=>{let i=e.$el;s=i.parent;const o=i.getClientRect(),r=o.width,a={x:i.x(),y:i.y(),w:r,h:o.height,dx:30};e.timerInputPin&&e.timerInputPin.conAry&&e.timerInputPin.conAry.forEach((e=>{if(!u[e.id]){const t=e.$el;u[e.id]={node:t.moveTo(n)}}})),e.getInputsAllAry().forEach((e=>{e.conAry&&e.conAry.forEach((e=>{if(!u[e.id]){const t=e.$el;u[e.id]={node:t.moveTo(n)}}}))})),e.getOutputsAllAry().forEach((e=>{e.conAry&&e.conAry.forEach((e=>{if(!u[e.id]){const t=e.$el;u[e.id]={node:t.moveTo(n)}}}))})),i=i.moveTo(n);const l=t.getClientRect(),c={w:l.width,h:l.height};i.x(a.x),i.y(a.y),d[e._key||e.id]={nodePo:a,diagramPo:c,tNode:i}};(null==e?void 0:e.length)>1?e.forEach((e=>{o(e)})):o(p)},ing:function({adx:t,ady:n}){const i=(e,i)=>{const{nodePo:o,diagramPo:s,tNode:a}=d[e._key||e.id];let u,p;if(void 0!==t){const e=o.x+t/r;u=e>10;const n=e*r+o.w-(s.w-10);let l;n>0&&(f.style.width=s.w/r+n,f.refreshInnerCons(f,!0,"output")),l=i?u?(0,c.fM)(e):0:u?e:0,u&&a.x(l)}if(void 0!==n){const e=o.y+n/r;p=e>10;const t=e*r+o.h-(s.h-10);let l;t>0&&(f.style.height=s.h/r+t,f.refreshInnerCons(f,!0,"output")),l=i?p?(0,c.fM)(e):0:p?e:0,p&&a.y(l)}(u||p)&&(i?(0,l.Q)(e,r,!0):(0,l.KU)(e,r,!0))};(null==e?void 0:e.length)>1?e.forEach((e=>{i(e)})):i(p,!0)},finish:function(){const t=e=>{if(!s)return;const t=d[e._key||e.id];if(!t)return;const{diagramPo:n,tNode:i}=t;i.x(i.x()),i.y(i.y()),e.style.left=i.x(),e.style.top=i.y();for(let e in u){const{node:t}=u[e];t.moveTo(s),t.zIndex(2)}i.moveTo(s),i.parent.draw()};(null==e?void 0:e.length)>1?e.forEach((e=>{t(e)})):t(p),d=void 0,u=void 0}}}function P(e,t){const{viewContext:n,model:o,context:r}=t,{emitSnap:s,emitComponent:a}=n;let l,c;(0,i.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:r},dpo:{dx:d,dy:u},adpo:{adx:p,ady:f}},h)=>{if("start"!==h){if(o.hadDestroyed()||o.state.isContextMenuPopped())return!1;if("moving"==h&&(l||(l=s.start("移动",{target:o}),c=k(o.diagramModel.focusedComAry||[o],n),c.start()),o.state.moving(),c.ing({adx:p,ady:f}),o.groupId)){o.diagramModel.getGroup(o.groupId).refresh()}"finish"==h&&l&&(c&&(c.finish(),c=void 0),o.hadDestroyed()?l.cancel(!0):(o.diagramModel.focusedComAry?o.diagramModel.focusedComAry.forEach((e=>{e.focus()})):a.focus(o),l.commit()))}}))}},14046:(e,t,n)=>{"use strict";n.d(t,{U:()=>g});var i,o,r=n(56919),s=n(91716),a=n(51807),l=n(54706),c=n(91737),d=n(96966),u=n(38570),p=n(19714),f=n(40513),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let g=i=class extends d.PQ{get _autoRun(){return this.runtime.autorun}get model(){var e;return null===(e=this.runtime.cloned)||void 0===e?void 0:e.model}get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}get renderKey(){return this.id}get title(){return this.runtime.title}checkHasError(){var e,t;if(!this.runtime)return"组件未定义";let n;const i=this.runtime.def.namespace;if(i===d.ZD.coms.fn)(!this.ioProxy||"function"==typeof this.ioProxy.hadDestroyed&&this.ioProxy.hadDestroyed()||!(null===(t=null===(e=this.ioProxy)||void 0===e?void 0:e.diagramAry)||void 0===t?void 0:t[0]))&&(n=`Fx ${this.title} 未定义`);else if(i===d.ZD.coms.scenes){if(this.ioProxyForCall&&this.ioProxyForCall.frame){const e=this.ioProxyForCall.frame;(!e||e.hadDestroyed()||e.diagramAry.length<=0)&&(n="场景 已删除")}}else if(i===d.ZD.coms.module)if(this.hadDestroyed())n="模块不存在";else if(this.ioProxyForCall){const e=this.ioProxyForCall.frame;e&&!e.hadDestroyed()||(n=`模块 ${this.title} 已删除`)}else n=`模块 ${this.title} 已删除`;return n}setHeight(e){this.style.height=e}setWidth(e){this.style.width!==e&&(void 0!==this.style.width&&requestAnimationFrame((e=>{const t=this.getOutputsAll();t&&s.DO.each((e=>{e.refreshView()}),...t)})),this.style.width=e)}constructor(e,t,n){if(super(),this._type=l.C9.NODE,this.init=!1,this.style={width:0,height:0,left:0,top:0},this.foldedStyle={},this.configPins=[],this._inputPins=[],this.inputPins=[],this.inputPinsInModel=[],this.inputPinExts=[],this._outputPins=[],this.outputPins=[],this.outputPinsInModel=[],this.outputPinExts=[],this.outputPinNexts=[],e&&(e instanceof d.Al?(this.name=e.name,this.runtime=e.runtime,t=e.def,e.description&&(this.description=e.description),e.asRoot&&(this.asRoot=e.asRoot)):e instanceof d.JX&&(this.runtime=e)),!t)return;const i=this.runtime,o=i.model;let r,a;if(o&&(!i._autoRun&&o.inputAry&&o.inputAry.forEach((e=>{const t=this.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,conMax:e.conMax});e.proxyPin&&(t.proxyPin=e.proxyPin)})),o.outputAry&&o.outputAry.forEach((e=>{const t=this.addOutputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,conMax:e.conMax});e.proxyPin&&(t.proxyPin=e.proxyPin),e.proxyForPin&&(t.proxyForPin=e.proxyForPin)}))),n){r={},a={},Array.isArray(n.inputs)&&n.inputs.forEach((e=>{r[e]=!0})),Array.isArray(n.outputs)&&n.outputs.forEach((e=>{a[e]=!0})),n.proxy&&(this.ioProxy=n.proxy);const e=n.proxyForCall;e&&(this.ioProxyForCall=e,e.sceneId&&(Object.keys(e._inputs).forEach((t=>{const n=d.qK.find((e=>e.id===t));if(n){const i=this.add_InputPin({hostId:n.id,title:n.title,schema:n.schema}),o=e._inputs[t];i.proxyScenePin={sceneId:e.sceneId,hostId:o}}})),Array.isArray(e.outputs)&&e.outputs.forEach((e=>{this.addOutputPinInModel({hostId:e.id,title:e.title,schema:e.schema})}))))}if(t.configs&&t.configs.forEach((e=>{let t=e.schema?e.schema:{type:"unknown"};const n=(0,s.fu)(t);if(n)throw new Error(n);this.addConfigPin({hostId:e.id,title:e.title,schema:t,extBinding:e.binding,editor:e.editor})})),this.ioProxy?n&&Array.isArray(n.inputs)&&n.inputs.forEach((e=>{const t=this.ioProxy.inputPins.find((t=>t.id===e));this.addInputPinInModel({hostId:t.hostId,title:t.title,schema:t.schema,deletable:!0}).proxyPin=t})):(t._inputs&&t._inputs.forEach((e=>{const t=e.schema?e.schema:{type:"unknown"},n=(0,s.fu)(t);if(n)throw new Error(n);this.add_InputPin({hostId:e.id,title:e.title,schema:t,rels:e.rels,conMax:e.conMax})})),!i._autoRun&&t.inputs&&t.inputs.forEach((e=>{if(r&&!r[e.id])return;const t=e.schema?e.schema:{type:"unknown"};if(Array.isArray(t))t.forEach((t=>{const n=(0,s.fu)(t);if(n)throw new Error(n);this.addInputPin({type:"param",hostId:`${e.id}.${t.name}`,title:t.title,schema:t,desc:e.description||e.desc,editable:e.editable,rels:e.rels,conMax:e.conMax})}));else{const n=(0,s.fu)(t);if(n)throw new Error(n);this.addInputPin({hostId:e.id,title:e.title,wrap:e.wrap,schema:t,desc:e.description||e.desc,editable:e.editable,rels:e.rels,conMax:e.conMax})}})),t._outputs&&t._outputs.forEach((e=>{const t=e.schema?e.schema:{type:"unknown"},n=(0,s.fu)(t);if(n)throw new Error(n);this.add_OutputPin({hostId:e.id,title:e.title,schema:t,conMax:e.conMax})})),t.outputs&&t.outputs.forEach((e=>{if(a&&!a[e.id])return;let t=e.schema?e.schema:{type:"unknown"};this.addOutputPin({hostId:e.id,title:e.title,wrap:e.wrap,schema:t,desc:e.description||e.desc,editable:e.editable,conMax:e.conMax})}))),this.ioProxyForCall&&n&&Array.isArray(n.inputs)&&n.inputs.forEach((e=>{if(this.inputPins.find((t=>t.hostId===e)))return;const t=this.ioProxyForCall.frame.inputPins.find((t=>t.hostId===e));if(t){this.addInputPinInModel({hostId:t.hostId,title:t.title,schema:t.schema,deletable:!0}).proxyPin=t}})),t.slots&&t.slots.length>0){let e=[];t.slots.forEach((t=>{if(t.type&&"scope"===t.type&&!t.defer){const n=this.addIOFrame(t);e.push(n)}})),e.length>0&&(this.frames=e)}}setAutoRun(e){this.runtime._autoRun=e}hasError(){var e,t;if(this.diagramModel&&!this.diagramModel.isGlobal&&!this.diagramModel.isFn){let n,i=this.diagramModel.parent;for(;i;){if(i===this.parent){n=!0;break}i=null===(e=i.parent)||void 0===e?void 0:e.parent}if(!n)return"当前区域不可见";if(this.isFx()){const e=this.ioProxy;if(!e)return`Fx组件(${this.title})未定义`;if(!e.parent)return;let n;if(i=this.diagramModel.parent,!i)return"当前区域不可见";for(;i;){if(i.frameAry.includes(e)){n=!0;break}i=null===(t=i.parent)||void 0===t?void 0:t.parent}if(!n)return"当前区域不可见"}}}isValid(){return!(this.parent instanceof a.l&&!this.parent.hasChildCom(this))}isAutoRun(){return this._autoRun}isRunning(){return!!s.DO.find((e=>{if(e.conAry.find((e=>e.exe)))return!0}),...this.getInputsAll())||!(this.runtime.geo||!this.isAutoRun()||!s.DO.find((e=>{if(e.state.isRunning())return!0}),...this.getOutputsAll()))}isModule(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.module}isSceneOpen(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.scenes}isFx(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.fn}isVar(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.var}isGlobalVar(){return this.isVar()&&(this.parent instanceof p.A||!this.parent);//!this.parent 兼容之前的问题
}isFrameIn(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.frameIn}isFrameOut(){var e;return(null===(e=this.runtime)||void 0===e?void 0:e.def.namespace)===d.ZD.coms.frameOut}isVisible(){var e;if(!this.runtime)return!1;let t=!1;if(this.isVar()&&0===this.getInputsAllAry().length)return!0;const n=this.runtime.hasUI();if(this.isAutoRun()&&!n)t=!0;else if(this.forkedFrom&&(null===(e=this.diagramModel)||void 0===e?void 0:e.startWithCom)===this)t=!0;else{const e=this.getInputsAll(),n=this.configPins;s.DO.find((e=>{if(e.conAry.length>0){return e.conAry.find((e=>{const t=e.startPin,n=t.parent;return!(n instanceof i)||(!(!n.isVar()||"changed"!==t.hostId)||(!!n.isVisible()||void 0))}))}}),...e,n,this.timerInputPin)&&(t=!0)}return t}isMatchForFilter(e){var t;const{type:n,data:i}=e;if("com"===n)return this.runtime.id===i.comId;if("fx"===n){if(this.isFx()&&(null===(t=this.ioProxy)||void 0===t?void 0:t.id)===i.frameId)return!0}else if("var"===n)return this.runtime.id===i.varComId}get inputJoints(){let e=[];return this.frames&&this.frames.forEach((t=>{e=e.concat(t.inputJoints)})),e}get outputJoints(){let e=[];return this.frames&&this.frames.forEach((t=>{e=e.concat(t.outputJoints)})),e}searchPin(e){return s.DO.find((t=>t.id===e),...this.getInputsAll(),...this.getOutputsAll())}searchPinByHostId(e,t){return"inputs"===t||"input"===t?s.DO.find((t=>t.hostId===e),...this.getInputsAll(),this.timerInputPin):"outputs"===t||"output"===t?s.DO.find((t=>t.hostId===e),...this.getOutputsAll()):s.DO.find((t=>t.hostId===e),...this.getInputsAll(),...this.getOutputsAll())}searchProxyForMyFramePin(e,t){if(this.inputPinExtForFrames)return this.inputPinExtForFrames.find((n=>{const i=n.proxyMyFramePin;if(i&&i.frameId===e&&i.pinId===t)return!0}))}exist(){return!(this.parent instanceof a.l)||this.parent.comAry.find((e=>e.id===this.id))}sayHi(){}addFrame(e,t,n,i){this.frames||(this.frames=[]);const o=new a.l({id:e,title:t,rootF:i});return o.parent=this,n&&(o.name=n),this.frames.push(o),this.frames[this.frames.length-1]}addIOFrame(e){const t=e.title||"未命名",n=new a.l({id:e.id,title:t,asDefault:!!e.default});return n.parent=this,!1===e.editable&&(n.editable=!1),e._inputs&&e._inputs.forEach((({id:e,title:t,schema:i},o)=>{n.add_InputPin({hostId:e,title:t,schema:i})})),e.inputs&&e.inputs.forEach((({id:e,title:t,schema:i,desc:o,editable:r},s)=>{n.addInputPin({hostId:e,title:t,desc:o,schema:i,editable:r})})),e._outputs&&e._outputs.forEach((({id:e,title:t,schema:i},o)=>{n.add_OutputPin({hostId:e,title:t,schema:i})})),e.outputs&&e.outputs.forEach((({id:e,title:t,desc:i,schema:o,editable:r},s)=>{n.addOutputPin({hostId:e,title:t,desc:i,schema:o,editable:r})})),n.addIODiagram({title:t}),n}removeFrame(e){if(this.frames){let t;this.frames.find(((n,i)=>{n.id===e&&(t=i)})),void 0!==t&&this.frames.splice(t,1)}}getFrame(e){return this.frames?this.frames.find((t=>t.id===e)):void 0}get root(){let e=this;for(;e.parent&&(e=e.parent,!(e instanceof a.l&&e._rootF)););return e}searchCom(e,t){if(!t&&this.id===e)return this;let n;return this.frames&&this.frames.find((t=>{if(n=t.searchCom(e),n)return!0})),n}searchFrame(e){let t;return this.frames&&this.frames.find((n=>{if(t=n.searchFrame(e),t)return!0})),t}setTimerInputPin(){this.timerInputPin||(this.timerInputPin=new r.x({type:"timer",direction:"input",hostId:"_timer",title:"执行",schema:{type:"any"},deletable:!0}),this.timerInputPin.parent=this)}removeTimerInputPin(){this.timerInputPin&&(this.timerInputPin.destroy(),this.timerInputPin=void 0)}addConfigPin(e){const{hostId:t,title:n,schema:i,extBinding:o,editor:s}=e,a=this.configPins.find((e=>e.hostId===t));if(a)return a;const l=new r.x({type:"config",direction:"config",hostId:t,title:n,desc:"",schema:i,deletable:!1,extBinding:o,editor:s});return l.parent=this,this.configPins.push(l),l}removeConfigPin(e){let t;this.configPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&this.configPins.splice(t,1)}add_InputPin(e){const{hostId:t,title:n,schema:i,conMax:o,rels:s}=e,a=this._inputPins.find((e=>e.hostId===t));if(a)return a;const l=new r.x({type:"normal",direction:"input",hostId:t,title:n,schema:i,conMax:o,isPrivate:!0,deletable:!1,rels:s});return l.parent=this,this._inputPins.push(l),this._inputPins[this._inputPins.length-1]}addInputPin(e){const{hostId:t,title:n,wrap:i,schema:o,type:s,editable:a,deletable:l,conMax:c,rels:d,desc:u}=e,p=this.inputPins.find((e=>e.hostId===t));if(p)return p;const f=new r.x({type:s||"normal",direction:"input",hostId:t,title:n,wrap:i,schema:o,editable:a,conMax:c,deletable:l,rels:d,desc:u});return f.parent=this,this.inputPins.push(f),f}addInputPinInModel({hostId:e,title:t,schema:n,editable:i,deletable:o,conMax:a,desc:l}){this.inputPinsInModel||(this.inputPinsInModel=[]);const c=s.DO.find((t=>t.hostId===e),this.inputPinsInModel,this.inputPins);if(c)return c;const d=new r.x({type:"normal",direction:"input",hostId:e,title:t,schema:n,conMax:a,editable:i,deletable:o,desc:l});d.parent=this;const u=this.inputPinsInModel;u.push(d);const p=this.runtime.model;return p.inputAry||(p.inputAry=[]),p.inputAry.push({hostId:e,title:t,schema:n,conMax:a}),u[u.length-1]}addInputPinExt({hostId:e,title:t,schema:n,description:i}){const o=this.inputPinExts.find((t=>t.hostId===e));if(o)return o;const s=new r.x({type:"ext",direction:"input",hostId:e,title:t,schema:n,deletable:!1,desc:i});return s.parent=this,this.inputPinExts.push(s),s}addInputPinExtForFrame(e,t){this.inputPinExtForFrames||(this.inputPinExtForFrames=[]);const n=new r.x(Object.assign({type:"ext",direction:"input"},t));return n.proxyMyFramePin={frameId:e,pinId:t.hostId},n.parent=this,this.inputPinExtForFrames.push(n),this.inputPinExtForFrames[this.inputPinExtForFrames.length-1]}add_OutputPin(e){const{hostId:t,title:n,schema:i,conMax:o}=e,s=this._outputPins.find((e=>e.hostId===t));if(s)return s;const a=new r.x({type:"normal",direction:"output",hostId:t,title:n,schema:i,conMax:o,isPrivate:!0,deletable:!1});return a.parent=this,this._outputPins.push(a),a}addOutputPin(e){const{hostId:t,title:n,desc:i,wrap:o,schema:s,editable:a,conMax:l}=e,c=this.outputPins.find((e=>e.hostId===t));if(c)return c;const d=new r.x({type:"normal",direction:"output",hostId:t,title:n,wrap:o,schema:s,desc:i,editable:a,conMax:l,deletable:!1});return d.parent=this,this.outputPins.push(d),d}addOutputPinInModel({hostId:e,title:t,schema:n,editable:i,deletable:o,conMax:a}){this.outputPinsInModel||(this.outputPinsInModel=[]);const l=s.DO.find((t=>t.hostId===e),this.outputPinsInModel,this.outputPins);if(l)return;const c=new r.x({type:"normal",direction:"output",hostId:e,title:t,schema:n,conMax:a,editable:i,deletable:o});c.parent=this;const d=this.outputPinsInModel;d.push(c);const u=this.runtime.model;return u.outputAry||(u.outputAry=[]),u.outputAry.push({hostId:e,title:t,schema:n,conMax:a}),d[d.length-1]}setOutputPinNext(){if(this.outputPinNexts||(this.outputPinNexts=[]),this.outputPinNexts.find((e=>"_next"===e.hostId)))return;const e=new r.x({type:"ext",direction:"output",hostId:"_next",title:"然后",schema:{type:"any"},deletable:!0});return e.parent=this,this.outputPinNexts.push(e),this.outputPinNexts[this.outputPinNexts.length-1]}addOutputPinExt({hostId:e,title:t,schema:n}){let i=this.inputPinExts.some((t=>t.hostId===e));if(i)return;const o=new r.x({type:"ext",direction:"output",hostId:e,title:t,schema:n,deletable:!1});return o.parent=this,this.outputPinExts.push(o),o}remove_InputPin(e){let t;const n=this._inputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}removeInputPin(e){let t,n=this.inputPinsInModel;if(n){n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1);const i=this.runtime.model.inputAry;i.find(((n,i)=>{n.hostId===e&&(t=i)})),void 0!==t&&i.splice(t,1)}t=void 0,n=this.inputPins,n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1)),t=void 0,n=this.inputPinExtForFrames,n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}setInputPinTitle(e,t){s.DO.find((n=>{n.hostId==e&&(n.title=t)}),...this.getInputsAll()),this.runtime.model.inputAry.find((n=>{n.hostId===e&&(n.title=t)}))}setInputPinRels(e,t){const n=this.searchPinByHostId(e,"input");n&&(n.rels=t)}setInputPinSchema(e,t){const n=this.inputPinsInModel;n&&(n.find((n=>{n.hostId==e&&(n.schema=t)})),this.runtime.model.inputAry.find((n=>{n.hostId==e&&(n.schema=t)})))}removeOutputPin(e){let t,n;const i=this.outputPinsInModel;if(i&&(i.find(((i,o)=>{i.hostId===e&&(n=i,i.destroy(),t=o)})),void 0!==t)){i.splice(t,1),t=void 0;this.runtime.model.outputAry.find(((i,o)=>{i.hostId===e&&(n=i,t=o)}))}t=void 0;const o=this.outputPins;if(o&&(o.find(((i,o)=>{i.hostId===e&&(n=i,i.destroy(),t=o)})),void 0!==t&&o.splice(t,1)),n){const e=this.parent;e.diagramAry.find(((t,i)=>{const o=t.startWithCom;if(o&&o.forkedFrom===this){const r=o.outputPinsInModel.find((e=>{if(e.forkedFrom.hostId===n.hostId)return!0})),s=o.outputPins.find((e=>{if(e.forkedFrom.hostId===n.hostId)return!0}));if(r||s)return t.destroy(),e.diagramAry.splice(i,1),!0}}))}}setOutputPinTitle(e,t){s.DO.find((n=>{n.hostId==e&&(n.title=t)}),...this.getOutputsAll()),this.runtime.model.outputAry.find((n=>{n.hostId===e&&(n.title=t)}))}setOutputPinSchema(e,t){const n=this.outputPinsInModel;n&&(n.find((n=>{n.hostId==e&&(n.schema=t)})),this.runtime.model.outputAry.find((n=>{n.hostId==e&&(n.schema=t)})))}fork(e,t){return new(0,n(21523).default)(e,this,t)}getForkedAll(){const e=[],t=this;return function n(i){i.diagramAry&&i.diagramAry.forEach((n=>{n.comAry&&n.comAry.forEach((n=>{n.forkedFrom===t&&e.push(n)}))})),i.comAry&&i.comAry.forEach((e=>{e.frames&&e.frames.forEach((e=>{n(e)}))}))}(this.root),e}focus(){super.focus(),s.DO.each((e=>e.emphasize()),this.timerInputPin,this.configPins,...this.getInputsAll(),...this.getOutputsAll())}getInputInfo(e){const t=s.DO.find((t=>t.hostId===e),this.inputPins,this.inputPinsInModel,this.inputPinExts);if(t)return{id:t.id,title:t.title}}getExtInputPinsForFrame(e){if(this.inputPinExtForFrames)return this.inputPinExtForFrames.filter((t=>{var n;return(null===(n=t.extForFrame)||void 0===n?void 0:n.frameId)===e}))}getInputsAll(){return[this.inputPinExtForFrames||[],this.inputPins,this.inputPinsInModel,this.inputPinExts]}getInputsAllAry(){return[...this.inputPins,...this.inputPinsInModel,...this.inputPinExts]}getAllInputsLength(){return s.DO.length(...this.getInputsAll())}getAllInputsInfo(){const e=this.getInputsAllAry();if(e.length>0)return e.map((e=>{const t=e.conAry;return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema,description:e.description,connections:t?t.map((e=>({id:e.id}))):void 0}}))}getOutputInfo(e){const t=s.DO.find((t=>t.hostId===e),this.outputPins,this.outputPinsInModel,this.outputPinExts);if(t)return{id:t.id,title:t.title}}getAllOutputsInfo(){const e=this.getOutputsAllAry();if(e.length>0)return e.map((e=>{const t=e.conAry;return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema,description:e.description,connections:t?t.map((e=>({id:e.id}))):void 0}}))}getOutputsAll(){return[this.outputPins,this.outputPinsInModel,this.outputPinExts,this.outputPinNexts]}getOutputsAllAry(){return[...this.outputPins,...this.outputPinsInModel,...this.outputPinExts,...this.outputPinNexts]}getAllOutputsLength(){return s.DO.length(...this.getOutputsAll())}getInputInfo(e,t){const n=this;if(!t)return{get(t){const i=n.forkedFrom||n;if(!t)return x(i,"input");{const n=y(i,t,"input");if(n)return v(n,{emitItem:e})}},add(e,t,i,o,r){let a=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,a=arguments[0].editable,o=arguments[0].deletable,r=arguments[0].conMax),i||(i={type:"unknown"});const l=(0,s.fu)(i);if(l)throw new Error(l);n.addInputPinInModel({hostId:e,title:t,schema:i,editable:a,deletable:o,conMax:r})},remove(e){n.removeInputPin(e)},setTitle(e,t){n.setInputPinTitle(e,t)},setSchema(t,i){const o=(0,s.fu)(i);if(o)throw new Error(o);e.updatePinSchema("inputs",n.id,t,i)}};{const i=n.getFrame(t);if(i)return{get(t){const n=b(i,t,"input");if(n)return v(n,{emitItem:e})},add(e,t,n,o){"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,n=arguments[0].schema,o=arguments[0].conMax),n||(n={type:"unknown"});const r=(0,s.fu)(n);if(r)throw new Error(r);i.addInputPin({hostId:e,title:t,schema:n,deletable:!0,conMax:o})},remove(e){i.removeInputPin(e)},setTitle(e,t){const n=b(i,e,"input");n&&n.deletable&&(n.title=t)},setSchema(t,n){const o=(0,s.fu)(n);if(o)throw new Error(o);const r=b(i,t,"input");r&&e.updateFramePinSchema("inputs",r,n)}}}}get_InputEditor(e,t){if(t){const n=this.getFrame(t);if(n)return{get(t){const i=b(n,t,"_input");if(i)return v(i,{emitItem:e})},add(e,t,i,o){"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax),i||(i={type:"unknown"});const r=(0,s.fu)(i);if(r)throw new Error(r);n.add_InputPin({hostId:e,title:t,schema:i,deletable:!0,conMax:o})},remove(e){n.remove_InputPin(e)},setTitle(e,t){const i=b(n,e,"_input");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.fu)(i);if(o)throw new Error(o);const r=b(n,t,"_input");r&&e.updateFramePinSchema("_inputs",r,i)}}}}getInputEditor(e,t,n){const i=this;if(!t)return{get(t){const n=i.forkedFrom||i;if(!t)return x(n,"input");{const i=y(n,t,"input");if(i)return v(i,{emitItem:e})}},add(e,t,o,r,a){let l,c=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,o=arguments[0].schema,c=arguments[0].editable,r=arguments[0].deletable,a=arguments[0].conMax,l=arguments[0].desc),o||(o={type:"unknown"});const d=(0,s.fu)(o);if(d)throw new Error(d);n?i.addInputPin({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}):i.addInputPinInModel({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}),(0,f.Q)(i,1)},remove(e){i.removeInputPin(e),(0,f.Q)(i,1)},setTitle(e,t){i.setInputPinTitle(e,t)},setSchema(t,n){const o=(0,s.fu)(n);if(o)throw new Error(o);e.updatePinSchema("inputs",i.id,t,n)},setRels(e,t){i.setInputPinRels(e,t)}};{const n=i.getFrame(t);if(n)return{get(t){const i=b(n,t,"input");if(i)return v(i,{emitItem:e})},add(e,t,i,o){let r;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax,r=arguments[0].desc),i||(i={type:"unknown"});const a=(0,s.fu)(i);if(a)throw new Error(a);n.addInputPin({hostId:e,title:t,schema:i,desc:r,deletable:!1,conMax:o})},remove(e){n.removeInputPin(e)},setTitle(e,t){const i=b(n,e,"input");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.fu)(i);if(o)throw new Error(o);const r=b(n,t,"input");r&&e.updateFramePinSchema("inputs",r,i)}}}}get_OutputEditor(e){const t=this;return{get(n){const i=t.forkedFrom||t;if(!n)return x(i,"_output");{const t=y(i,n,"_output");if(t)return v(t,{emitItem:e})}}}}getConfigEditor(e){const t=this;return{get(n){const i=t.forkedFrom||t;if(n){const t=i.configPins.find((e=>e.hostId===n));if(t)return v(t,{emitItem:e},"config")}},add({id:e,title:n,schema:i,binding:o,editor:r}){i||(i={type:"unknown"});const a=(0,s.fu)(i);if(a)throw new Error(a);t.addConfigPin({hostId:e,title:n,schema:i,extBinding:o,editor:r}),(0,f.Q)(t,1)},remove(e){t.removeConfigPin(e),(0,f.Q)(t,1)}}}getOutputEditor(e,t,n){const i=this;if(!t)return{get(t){const n=i.forkedFrom||i;if(!t)return x(n,"output");{const i=y(n,t,"output");if(i)return v(i,{emitItem:e})}},add(e,t,o,r,a){let l,c=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,o=arguments[0].schema,c=arguments[0].editable,r=arguments[0].deletable,a=arguments[0].conMax,l=arguments[0].desc),o||(o={type:"unknown"});const d=(0,s.fu)(o);if(d)throw new Error(d);n?i.addOutputPin({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}):i.addOutputPinInModel({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a})},remove(e){i.removeOutputPin(e)},setTitle(e,t){i.setOutputPinTitle(e,t)},setSchema(t,n){const o=(0,s.fu)(n);if(o)throw new Error(o);e.updatePinSchema("outputs",i.id,t,n)}};{const n=i.getFrame(t);if(n)return{get(t){const i=b(n,t,"output");if(i)return v(i,{emitItem:e})},add(e,t,i,o){let r;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax,r=arguments[0].desc),i||(i={type:"unknown"});const a=(0,s.fu)(i);if(a)throw new Error(a);n.addOutputPin({hostId:e,title:t,desc:r,schema:i,deletable:!1,conMax:o})},remove(e){n.removeOutputPin(e)},setTitle(e,t){const i=b(n,e,"output");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.fu)(i);if(o)throw new Error(o);const r=b(n,t,"output");r&&e.updateFramePinSchema("outputs",r,i)}}}}blur(){super.blur(),s.DO.each((e=>e.emphasizeRecover()),this.configPins,this.timerInputPin,...this.getInputsAll(),...this.getOutputsAll()),this.frames&&this.frames.forEach((e=>e.blur()))}notifyBindings(e,t){const n=i=>{i.comAry&&i.comAry.forEach((i=>{const o=i.runtime.model.bindingsFrom;if(o)for(const n in o){if(o[n]===this.id){let o;if(t?o=i.runtime.model:i.runtime.cloned?o=i.runtime.cloned.model:console.warn(`组件[id=${i.id},namespace=${i.runtime.def.namespace}]还未创建，无法更新绑定值.`),o){const t=n.split(".");t.forEach(((n,i)=>{i===t.length-1?o[n]=e:o=o[n]}))}}}i.frames&&i.frames.forEach((e=>{n(e)}))}))},i=this.root;i instanceof p.A?i.frames.forEach((e=>{n(e)})):i instanceof a.l&&n(i)}_exeFrame_Input(e,t,n,i){const o=this.getFrame(e);if(o&&o._inputPins){const e=o._inputPins.find((e=>e.hostId===t));if(e&&"function"==typeof e._exe){let t=o._curScope_;if(i&&(t=t.findWithInstIdAndPath(i)),!t)throw new Error(`Scope ${i} not found.`);return e._exe(t,n)}}console.warn(`Frame input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_exeFrameInput(e,t,n,i){const o=this.getFrame(e);if(o&&o.inputPins){const r=o.inputPins.find((e=>e.hostId===t));if(r&&"function"==typeof r._exe){function s(){let e;e=i?o._allScopes_[i]:o._curScope_,r._exe(e,n)}return void(o._allScopes_?s():o.addExeTodo(s))}}console.warn(`Frame input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_setFrame_InputProxyFn(e,t,n,i){const o=this.runtime.topl.getFrame(e);if(o&&o._inputPins){const e=o._inputPins.find((e=>e.hostId===t));if(e)return void(i?(e._proxyForFn||(e._proxyForFn={}),e._proxyForFn[i]=n):e._proxyForFn=n)}console.warn(`Frame _input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_setFrameOutputProxyFn(e,t,n,i){const o=this.runtime.topl.getFrame(e);if(o&&o.outputPins){const e=o.outputPins.find((e=>e.hostId===t));if(e)return void(i?(e._proxyForFn||(e._proxyForFn={}),e._proxyForFn[i]=n):e._proxyForFn=n)}console.warn(`Frame output pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}stopDebug(){this.frames&&this.frames.forEach((e=>{e.stopDebug()}))}clearDebugHints(){this.clearExe(),s.DO.each((e=>{e.clearDebugHints()}),...this.getInputsAll(),...this.getOutputsAll(),this.timerInputPin),this.frames&&this.frames.forEach((e=>{e.clearDebugHints()}))}setExe(e){this._exeInfo=e}clearExe(){this._exeInfo=void 0}toJSON(e){var t,n,i,o,r,s,a,l,d,u,p,f,h,m,g;if(e){const c={};if(c.id=this.id,c._type=this._type,c._autoRun=this._autoRun,(null===(t=this.configPins)||void 0===t?void 0:t.length)>0){const t=[];this.configPins.forEach((n=>{t.push(n.toJSON(e))})),c.configPins=t}if((null===(n=this.inputPinsInModel)||void 0===n?void 0:n.length)>0){const t=[];this.inputPinsInModel.forEach((n=>{t.push(n.toJSON(e))})),c.inputPinsInModel=t}if((null===(i=this.outputPinsInModel)||void 0===i?void 0:i.length)>0){const t=[];this.outputPinsInModel.forEach((n=>{t.push(n.toJSON(e))})),c.outputPinsInModel=t}if((null===(o=this.inputPins)||void 0===o?void 0:o.length)>0){const t=[];this.inputPins.forEach((n=>{t.push(n.toJSON(e))})),c.inputPins=t}if((null===(r=this.outputPins)||void 0===r?void 0:r.length)>0){const t=[];this.outputPins.forEach((n=>{t.push(n.toJSON(e))})),c.outputPins=t}if((null===(s=this.inputPinExts)||void 0===s?void 0:s.length)>0){const t=[];this.inputPinExts.forEach((n=>{t.push(n.toJSON(e))})),c.inputPinExts=t}if((null===(a=this.outputPinExts)||void 0===a?void 0:a.length)>0){const t=[];this.outputPinExts.forEach((n=>{t.push(n.toJSON(e))})),c.outputPinExts=t}if((null===(l=this.frames)||void 0===l?void 0:l.length)>0){const t=[];this.frames.forEach((n=>{t.push(n.toJSON(e))})),c.frames=t}return c}{const e={};if(e.id=this.id,e.style=(0,c.o8)(this.style),e._autoRun=this._autoRun,(null===(d=this.inputPinsInModel)||void 0===d?void 0:d.length)>0){const t=[];this.inputPinsInModel.forEach((e=>{t.push(e.toJSON())})),e.inputPinsInModel=t}if((null===(u=this.outputPinsInModel)||void 0===u?void 0:u.length)>0){const t=[];this.outputPinsInModel.forEach((e=>{t.push(e.toJSON())})),e.outputPinsInModel=t}if((null===(p=this.inputPins)||void 0===p?void 0:p.length)>0){const t=[];this.inputPins.forEach((e=>{t.push(e.toJSON())})),e.inputPins=t}if((null===(f=this.outputPins)||void 0===f?void 0:f.length)>0){const t=[];this.outputPins.forEach((e=>{t.push(e.toJSON())})),e.outputPins=t}if((null===(h=this.inputPinExts)||void 0===h?void 0:h.length)>0){const t=[];this.inputPinExts.forEach((e=>{t.push(e.toJSON())})),e.inputPinExts=t}if((null===(m=this.outputPinExts)||void 0===m?void 0:m.length)>0){const t=[];this.outputPinExts.forEach((e=>{t.push(e.toJSON())})),e.outputPinExts=t}if((null===(g=this.frames)||void 0===g?void 0:g.length)>0){const t=[];this.frames.forEach((e=>{t.push(e.toJSON())})),e.frames=t}return e}}destroy(e){super.destroy(),this.destroyAllConnections(),e||this.frames&&this.frames.forEach((e=>e.destroy())),this.parent?this.parent.delete(this):this.runtime&&console.warn(`【异常】组件${this.runtime.title}的parent不存在.`)}destroyAllConnections(){s.DO.each((e=>{e.conAry.map((e=>e)).forEach((e=>e.destroy()))}),this.configPins,...this.getInputsAll(),...this.getOutputsAll(),this.timerInputPin)}};function y(e,t,n){let i;if("input"===n){if(i=s.DO.find((e=>e.hostId==t),...e.getInputsAll()),!i){const n=[];if(s.DO.find((e=>{0===e.hostId.indexOf(`${t}.`)&&n.push(e)}),...e.getInputsAll()),n.length>0)return n}}else"_input"===n?i=e._inputPins.find((e=>e.hostId==t)):"output"===n?i=s.DO.find((e=>e.hostId==t),...e.getOutputsAll()):"_output"===n&&(i=e._outputPins.find((e=>e.hostId==t)));return i}function b(e,t,n){let i;return"_input"===n?i=e._inputPins.find((e=>e.hostId==t)):"input"===n?i=e.inputPins.find((e=>e.hostId==t)):"output"===n&&(i=e.outputPins.find((e=>e.hostId==t))),i}function v(e,{emitItem:t},n){if(e instanceof r.x)return{id:e.hostId,title:e.title,rels:e.rels,setId(t){e.hostId=t},setTitle(t){e.title=t},get connectionCount(){var t;return null===(t=e.conAry)||void 0===t?void 0:t.length},get schema(){if(e.schema)return(0,s.Go)(e.schema)},setSchema(i){const o=(0,s.fu)(i);if(o&&console.warn(o),"_input"===n)e.schema=i;else{const n="input"===e.direction?"inputs":"outputs";e.parent instanceof g?t.updatePinSchema(n,e.parent.id,e.hostId,i):e.parent instanceof a.l&&t.updateFramePinSchema(n,e,i)}},setBinding(t){e.extBinding=t},remove(){e.parent instanceof g?"config"===n?e.parent.removeConfigPin(e.hostId):"_input"===n?e.parent.remove_InputPin(e.hostId):e.isDirectionOfInput()?e.parent.removeInputPin(e.hostId):e.parent.removeOutputPin(e.hostId):e.parent instanceof a.l&&("_input"===n?e.parent.remove_InputPin(e.hostId):e.isDirectionOfInput()?e.parent.removeInputPin(e):e.parent.removeOutputPin(e))},setRels(t){e.rels=t}};Array.isArray(e)}function x(e,t){const n=[];if("_input"===t)return e._inputPins&&e._inputPins.forEach((e=>{n.push({id:e.hostId,title:e.title})})),n;if("_output"===t)return e._outputPins&&e._outputPins.forEach((e=>{n.push({id:e.hostId,title:e.title})})),n;let i="input"==t?e.inputPins:e.outputPins;return i&&i.forEach((e=>{n.push({id:e.hostId,title:e.title})})),i="input"==t?e.inputPinsInModel:e.outputPinsInModel,i&&i.forEach((t=>{n.push({id:t.hostId,title:t.title,setTitle(e){t.title=e},setSchema(e){t.schema=e},get connectionCount(){var e;return null===(e=t.conAry)||void 0===e?void 0:e.length},remove(){e.removeOutputPin(t.hostId)}})})),n}h([c.Nt,m("design:type",Object),m("design:paramtypes",[])],g.prototype,"model",null),h([c.Nt,m("design:type",Object)],g.prototype,"error",void 0),h([c.Nt,m("design:type",Object)],g.prototype,"debugProxy",void 0),g=i=h([(0,c.yL)(u.MS+"topl.ToplComModel"),m("design:paramtypes",[Object,"function"==typeof(o=void 0!==d.ML&&d.ML)?o:Object,Object])],g)},21523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(91737),o=n(38570),r=n(14046),s=n(91716),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.U{set io(e){e&&(this.ioc=e)}get ioProxyForCall(){return this.forkedFrom.ioProxyForCall}setOutputPinNext(){this.forkedFrom.setOutputPinNext(),this.ioc.outputs={_next:!0}}isVisible(){return!!this.forkedFrom&&super.isVisible()}isGlobalVar(){var e;return null===(e=this.forkedFrom)||void 0===e?void 0:e.isGlobalVar()}hasError(){var e;if(!this.isGlobalVar()&&!this._startInDiagram&&this.diagramModel&&!this.diagramModel.isFn){let t,n=this.diagramModel.parent;const i=this.forkedFrom;if(!i)return"不存在";if(i.parent||!i.isGlobalVar()&&!i.isVar())for(;n;){if(n===i.parent){t=!0;break}n=null===(e=n.parent)||void 0===e?void 0:e.parent}else t=!0;if(!t){if("function"==typeof i.isGlobalVar&&i.isGlobalVar())return;return"当前区域不可见"}}}hasInvalidIOC(e,t){if(this.ioc&&"object"==typeof this.ioc){let n=(e,t)=>({type:t,hostId:e});if(e){if("input"===t){if(!this.forkedFrom.searchPinByHostId(e,"inputs"))return n(e,"input")}else if(!this.forkedFrom.searchPinByHostId(e,"outputs"))return n(e,"output")}else{let e=this.ioc.inputs;if(e)for(let t in e)if(!this.forkedFrom.searchPinByHostId(t,"inputs"))return n(t,"input");if(e=this.ioc.outputs,e)for(let t in e)if(!this.forkedFrom.searchPinByHostId(t,"outputs"))return n(t,"output")}}}getFilteredPins(){if("all-outputs"===this.ioc)return{outputs:s.DO.merge(...this.forkedFrom.getOutputsAll())};if(this.ioc){const e={},t=this.ioc.configs;t&&this.forkedFrom.configPins&&(e.configs=this.forkedFrom.configPins.filter((e=>{if(t[e.hostId])return e})));const n=this.ioc.inputs;if(n){const t=s.DO.merge(...this.forkedFrom.getInputsAll());t&&(e.inputs=t.filter((e=>{if(n[e.hostId])return e})))}const i=this.ioc.outputs;if(i){const t=s.DO.merge(...this.forkedFrom.getOutputsAll());t&&(e.outputs=t.filter((e=>{if(i[e.hostId])return e})))}return e}}isRunning(){return!(!this.runtime||this.runtime.hasUI()||!this.isAutoRun())||!!s.DO.find((e=>{if(e.conAry.find((e=>e.exe)))return!0}),...this.getInputsAll())}clearDebugHints(){this.outputPins&&this.outputPins.forEach((e=>{e.clearDebugHints()}))}get isSingleton(){return this.forkedFrom.isSingleton}get renderKey(){return this._key||(this._key=(0,i.uR)()),this._key}isStartInDiagram(){return this._startInDiagram}get frames(){return this.forkedFrom.frames}exist(){if(this.parent){return!!this.parent.searchCom(this.id)}return!0}constructor(e,t,n){if(super(void 0),e)if(delete this.runtime,this.parent=e,this.forkedFrom=t,"all-outputs"===n)this.ioc=n;else if("object"==typeof n){const e={configs:{},inputs:{},outputs:{}};Array.isArray(n.configs)?n.configs.forEach((t=>e.configs[t]=!0)):"object"==typeof n.configs&&(e.configs=n.configs),Array.isArray(n.inputs)?n.inputs.forEach((t=>e.inputs[t]=!0)):"object"==typeof n.inputs&&(e.inputs=n.inputs),Array.isArray(n.outputs)?n.outputs.forEach((t=>e.outputs[t]=!0)):"object"==typeof n.outputs&&(e.outputs=n.outputs),this.ioc=e}}get title(){return this.forkedFrom.title}get runtime(){var e;return null===(e=this.forkedFrom)||void 0===e?void 0:e.runtime}synchronizeConfigs(){this.forkedFrom&&u(this,"configPins")}synchronizeInputs(...e){this.forkedFrom&&((null==e?void 0:e.length)>0?e.forEach((e=>{u(this,e)})):(u(this,"inputPins"),u(this,"inputPinsInModel"),u(this,"inputPinExtForFrames"),u(this,"inputPinExts")))}synchronizeOutputs(){this.forkedFrom&&(u(this,"outputPins"),u(this,"outputPinsInModel"),u(this,"outputPinExts"),u(this,"outputPinNexts"))}synchronizeRelOutputs(e,t){const n=this.forkedFrom;if(n){if(!t.getComDef(this.runtime.def))return;if(this.isModule());else if(e&&e.length>0){e.forEach((e=>{if(!this.searchPinByHostId(e,"outputs")){const t=n.searchPinByHostId(e,"outputs");if(t){const e=t.fork(this);this.outputPins.push(e)}}}));const t=this.outputPins.filter(((t,n)=>e.includes(t.hostId)));t.length!==this.outputPins.length&&(this.outputPins=t)}else this.outputPins.length>0&&(this.outputPins=[])}}toJSON(e){const t=this.runtime,n={};n.id=this.id,n._key=this.renderKey,n.forkedFrom=this.forkedFrom.id,n.def=t.def,n.title=t.title,e||(n.model={data:(0,i.o8)(t.model.data),script:(0,i.o8)(t.model.script),style:t.model.style.clone()});const o={style:(0,i.o8)(this.style)};return this.ioc&&(o.ioc=(0,i.o8)(this.ioc)),n.topl=o,n}hadDestroyed(){if(!super.hadDestroyed())return this.forkedFrom.hadDestroyed()}destroy(e){super.destroy(!0)}};c=a([(0,i.yL)(o.MS+"topl.ToplComModelForked"),l("design:paramtypes",[Object,Object,Object])],c);const d=c;function u(e,t){var n;const i=e[t]||[];let o;if(o=e.forkedFrom[t],!o)return;const r=e.ioc;let s;if(t.startsWith("config")?(s=!1,"object"==typeof r&&r.configs&&(s=r.configs)):t.startsWith("input")?"all-outputs"===r?s=!1:"object"==typeof r&&r.inputs&&(s=r.inputs):"all-outputs"===r?s=!0:"object"==typeof r&&r.outputs&&(s=r.outputs),!1===s)return;if("object"==typeof s){if(Object.keys(s).length<=0)return;if(!o.find((e=>s[e.hostId])))return void((null===(n=e[t])||void 0===n?void 0:n.length)>0&&(e[t]=[]))}const a=()=>{const t=[];return o.forEach((n=>{(!0===s||s&&s[n.hostId])&&t.push(n.fork(e))})),t};if(!0===s){if(o.length!==i.length){const n=i.filter(((e,t)=>{if(o.find((t=>t.id==e.id)))return e}));o.forEach((t=>{n.find((e=>e.id==t.id))||n.push(t.fork(e))})),e[t]=n}}else if(i.length<=0)e[t]=a();else{const n=i.find(((e,t)=>{if(!o.find((t=>{var n;return(null===(n=e.forkedFrom)||void 0===n?void 0:n.id)===t.id})))return!0}));n&&(e[t]=a())}}},85467:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>exeComDef});var _configrable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67622),_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(566);function exeComDef(runtimeCode,comContext){const{model,context,viewContext}=comContext,{emitComponent,emitSnap,emitLogs}=viewContext,extSourceCodes=model.runtime.model.extSourceCodes;return new Promise(((resolve,reject)=>{function proFn(e,t){if(t){const{title:e,inputs:n,outputs:i}=t;e&&(model.runtime.title=e);const o=(0,_configrable__WEBPACK_IMPORTED_MODULE_0__.Q)({context,model,emitComponent,emitSnap,emitLogs}),r=[];n&&!Array.isArray(n)&&r.push("inputs定义错误"),i&&!Array.isArray(i)&&r.push("outputs定义错误");try{(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_1__.$)(n,extSourceCodes,comContext,o)}catch(e){r.push(`inputs定义错误${e.message}`)}try{(0,_utils_extSourceAbout__WEBPACK_IMPORTED_MODULE_1__.aC)(i,extSourceCodes,comContext,o)}catch(e){r.push(`outputs定义错误${e.message}`)}if(r.length>0)throw new Error(`${r.join(",")},请修改代码.`)}const n=e.toString();resolve(n)}const fnCode=runtimeCode.replace(/export default comDef/,"proFn");eval(fnCode)}))}},36383:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(67622),o=n(91716),r=n(59531),s=n(96966),a=n(6590),l=n(566);function c(e,t){var n;const{model:c,context:d,viewContext:u}=e,{emitComponent:p,emitSnap:f,emitLogs:h}=u,m=d.getComDef(c.runtime.def),g=(0,i.Q)({context:d,model:c,emitComponent:p,emitSnap:f,emitLogs:h});let y;c.runtime.title;const b=null===(n=m.editors)||void 0===n?void 0:n["@ai"];if(b&&(y="function"==typeof b?b(g):b),y)return{id:c.id,get title(){return y&&"object"==typeof y&&"comDev"===y.role?"AI程序员":"智能助手"},type:"geoCom",get active(){if(y)return y.active},getStartAIRole(e){(function(){const e=c.runtime.model.extSourceCodes;if(e&&(e.data||e.runtime||e.style))return!0})()||e.asStart},getRoles:()=>y&&"object"==typeof y&&"comDev"===y.role?(0,r.A)(e,g,y):[{id:"comQA",title:"智能助手",placeholder:"我可以帮助您解答关于这个组件的各类问题，包括功能介绍、如何使用等，请向我提问问题吧。"}],getSystemPrompts(e,t){var n;if(y&&y&&"object"==typeof y&&(null===(n=y.role)||void 0===n?void 0:n.toUpperCase())===s.qT){const n=this.getRoles().find((t=>t.id===e.id));if(n&&n.getSystemPrompts)return n.getSystemPrompts(t)}},getInitKnowledge(){},loadKnowledge(e){},getVersion0(){const e=c.runtime.model.extSourceCodes;if(e&&e.runtime)return{runtime:(0,o.m4)(e.runtime)}},checkIfRetry(e,t){if(t.knowledgeUpdated)return t.messages.push({role:"assistant",content:e.content}),{message:"【知识库有更新】请关注之前的沟通，重试一次"}},checkIfHasError(e){let t;if(e&&e.runtime){if(!e.runtime){const e=c.runtime.model.extSourceCodes;if(!e||!e.runtime)return"runtime文件未找到"}if(e.runtime){let n;if(n=Array.isArray(e.runtime)&&e.runtime.length>0?e.runtime[e.runtime.length-1]:e.runtime,"string"!=typeof n||n.indexOf("comDef")<0&&n.indexOf("comRef")<0)return t="runtime文件格式错误:未找到comDef或comRef函数","runtime文件格式错误:未找到comDef或comRef函数";e.runtime=n}}else;},resetMessages({messages:t,mergeHistory:n,needToRetry:i}){let r,s;const a=b.getSourceCode;if("function"==typeof a&&(r=a(g)),r&&(s=(0,l.xE)(r,e)),s||(s=(0,o.UL)(c.runtime,"js")),!s&&t.length>=4&&t.find((e=>{if("string"==typeof e.content)return e.content.startsWith("【知识库】")}))){const e="\n(对于模块开发，关注以下方面）\n对于 runtime.jsx文件，注意：\n  - 在runtime.jsx中imports中对于类库的使用，注意不要超出【知识库】允许的范围；\n  - 模块的外层容器，应该尽量减少不必要的嵌套，对于类库中的模块本身是root模块的情况、不必再用一个常规容器包裹；\n  - 模块的外层容器，宽度与高度均采用100%；\n  - 对于卡片类型的模块，使其内容部分要能铺满卡片；\n\n总体注意：\n- 如果修改了代码文件，返回update.log文件；\n            ";t.forEach((t=>{if(Array.isArray(t.content)){const n=t.content.find((e=>"text"===e.type&&e.text));n&&(n.text=n.text.replace(e,""))}else"string"==typeof t.content&&t.content.indexOf(e)>=0&&(t.content=t.content.replace(e,""))}));const n=t[t.length-1];if(Array.isArray(n.content)){const t=n.content.find((e=>"text"===e.type&&e.text));t&&(t.text=`${t.text}\n${e}`)}else"string"==typeof n.content&&(n.content=`${n.content}\n${e}`);return t}let d;if(n){const e=[],n=[];for(let i=0;i<t.length;i++){const o=t[i];"system"===o.role&&e.push(o),"user"===o.role?"string"==typeof o.content?o.content.startsWith("【知识库】")?e.push(o):o.content.startsWith("【当前选区】")||o.content.startsWith("【源代码】")||n.push({role:"user",content:o.content}):n.push({role:"user",content:o.content}):"assistant"===o.role&&n.push({role:"assistant",content:o.content})}if(s&&e.push({role:"user",content:p(s)}),n.length>0){const t=n.map((e=>{if("user"===e.role){let t;const n=e.content;if(Array.isArray(n)){let e;n.find((t=>{t.text&&(e=t.text)})),t=e||""}else t=n.replace("【历史消息记录】\n","");return`[问题]\n${t}`}{let t=e.content;return t=t.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((e,t,n)=>{let i,o=t;return t&&t.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]/g,((e,t,n)=>{i=t,o=n})),`(${o}文件的代码)`})),`[回答]\n${t}\n`}}));e.push({role:"user",content:`【历史消息记录】（注意，这是此前的聊天记录，[问题]是用户给到AI的内容，[回答]是AI返回的消息，AI的回答内容做了摘要处理）\n${t.join("\n")}\n              `})}d=e}else{if(s){t.find((e=>{if("string"==typeof e.content)return e.content.startsWith("【源代码】")}))||t.splice(t.length-1,0,{role:"user",content:p(s)})}d=t}if(i){const e=d[d.length-1];e.content=`${e.content}\n\n注意：\n1、关注此前的各类问题，仔细分析用户的意图，以便更好地回答问题；\n2、关注【源代码】如果某文件需要修改代码，务必返回该文件的全部代码。\n        `}const u=[];return d.forEach(((e,t)=>{if(u.length<=0)u.push(e);else{if("user"===e.role){const t=e.content;if("string"==typeof t){const e=u[u.length-1];"user"===e.role&&(t.startsWith("【源代码】")?"assistant"!==e.role&&u.push({role:"assistant",content:"当前模块是否有源代码？"}):t.startsWith("【历史消息记录】")?"assistant"!==e.role&&u.push({role:"assistant",content:"当前模块是否有历史消息记录？"}):u.push({role:"assistant",content:"请问您的问题是什么？"}))}}u.push(e)}})),u;function p(e){return`【源代码】\n${e}\n注意： \n1、这是当前模块的源码，作为接下来如果需要开发修改的重要参考，但是同时要密切关注后续对话过程（非【历史消息记录】）中的代码，保持对问题处理的连贯性；\n2、你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，所以，除非设计开发需要，尽量避免通过代码与用户进行沟通及问题确认；\n3、如果需要修改其中某文件的代码，务必返回该文件的完整内容，同时返回update.log更新日志文件作为修改的说明；`}},getInitResultVersion(){},execute:(t,n)=>new Promise(((i,r)=>{var l;if(y&&y&&"object"==typeof y&&(null===(l=y.role)||void 0===l?void 0:l.toUpperCase())===s.qT){if(t){let s;const l=c.runtime.model.extSourceCodes;l&&l.runtime&&(s=(0,o.m4)(l.runtime)),t.runtime||(t.js&&t.js.indexOf("comDef")>=0&&(t.runtime=t.js),t.runtime||(t.runtime=s)),(0,a.A)(e,g,t,y,n,y).then((()=>{i()})).catch((e=>{r(e)}))}}else i()}))}}},6590:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(15187),o=n(566),r=n(85467),s=n(43984);function a(e,t,n,a,l,c){return new Promise(((c,d)=>{if(n){if(!n.update)return;if(!n.runtime)return void c(!1);const{model:u,emitSnap:p,emitItem:f}=e;let h=u.runtime.model.extSourceCodes;function m(){return new Promise(((i,l)=>{if(n.runtime)if("function"==typeof a.execute){const c=n.runtime,d=(0,o.JO)(c);(0,r.v)(d,e).then((e=>{const n=(0,s.pd)(e);a.execute(t,n),i()})).catch((e=>{l(e)}))}else i();else i()}))}h||(h=u.runtime.model.extSourceCodes={}),n.runtime?(0,i.A)(e,t,n,a,l,m).then((()=>{c()})).catch((e=>{d(e)})):c()}}))}},15187:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(91737),o=n(64012),r=n(64012);function s(e,t,n,s,a,l){return new Promise(((t,s)=>{const{model:c,emitMessage:d}=e;let u;try{u=JSON.parse(n.update)}catch(e){u={summary:`update.log存在错误：${e.message}`}}const p=(0,i.uR)();a.previewForConfirm((({styleIndex:e,onError:t})=>{const[n,i]=(0,o.useState)();if((0,o.useMemo)((()=>{const t=`style-${p}`;let n=document.getElementById(t);n||(n=document.createElement("style"),n.id=t);const i=comAry[e].css.replaceAll("__id__",p);n.innerText=i,document.head.appendChild(n)}),[e]),(0,o.useEffect)((()=>()=>{const e=`style-${p}`,t=document.getElementById(e);t&&t.remove()}),[]),n)return r.createElement("div",{style:{color:"red",padding:10}},n);{const n=comAry[e].com;return r.createElement(r.Fragment,null,r.createElement(n,Object.assign({},nowEdtCtx,{_onError_:e=>{i(`运行错误：${e}`),t(e)}})))}}),{meta:Object.assign(Object.assign({comId:p},undefined),{preview:!1,update:u}),confirm:({styleIndex:e,onError:t})=>new Promise(((e,n)=>{l().then((()=>{e()})).catch((e=>{console.error(e),d.error(`组件存在错误：${e}`),t(e),n(e)}))}))}),t()}))}},43984:(e,t,n)=>{"use strict";function i(e){const t=o(e);return{code:r(e),transformCode:r(`(function() { var _RTFN_; \n${t}\n; return _RTFN_; })()`)}}n.d(t,{pd:()=>i});const o=e=>e=/export\s+default.*async.*function.*\(/g.test(e)?e.replace(/export\s+default.*function.*\(/g,"_RTFN_ = async function _RT_("):/export\s+default.*function.*\(/g.test(e)?e.replace(/export\s+default.*function.*\(/g,"_RTFN_ = function _RT_("):`_RTFN_ = ${e} `,r=e=>{try{return encodeURIComponent(e)}catch(t){return e}}},69212:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(59730),o=n(28357),r=n(51681);function s(e,t,n){return{id:"dev",title:"开发者",get visible(){return!0},get placeholder(){return(0,i.y)(e)?"我可以帮助完善当前组件的功能，请描述您的问题。":"请尽量详细描述您的功能要求。\n        \n【例如】实现如下功能：输入一个商品对象，根据(.online)判断，输出“商品已下架”，或“商品正常销售”。\n\n【或】输出需要增加一项内容：“商品发货中”\n\n【或】总结一下这个组件\n        "},get attachment(){},getSystemPrompts:i=>(0,o.A)(e,t,n),templates:[{title:"对话"},(0,r.A)(e)]}}},28357:(e,t,n)=>{"use strict";function i(e,t,n){const{model:i}=e;let o=[];const r=i.getAllInputsInfo();r&&r.forEach((e=>{o.push({id:e.hostId,title:e.title,schema:e.schema})}));let s=[];const a=i.getAllOutputsInfo();return a&&a.forEach((e=>{s.push({id:e.hostId,title:e.title,schema:e.schema})})),`\n<你的角色任务>\n  你是MyBricks 计算组件开发专家，技术资深、逻辑严谨、实事求是。\n  你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题，所以，除非设计开发需要，尽量避免通过代码与用户进行沟通。\n  \n  注意：在沟通与开发过程中，你需要严格遵守以下概念定义：\n    - 模块的正式代码文件：模块的代码文件是指runtime.js文件，你需要根据用户的需求，逐步分析、修改这些文件；\n      - 所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n        \`\`\`文件类型 file="文件名"\n        (文件内容)\n        \`\`\`\n        \n    - 示例代码文件：如果作为示例，通过如下形式给出代码\n      \`\`\`语言类型\n      (代码内容)\n      \`\`\`\n      \n      例如\n      \`\`\`js\n      console.log('hello world')\n      \`\`\`\n      \n    - 输入项（inputs）：在runtime.js中模块comDef inputs数组中定义，模块可以通过输入项接收外部数据，在MyBricks平台中，输入项主要是在逻辑编排中接收外部数据；\n    - 输出项（outputs）：在runtime.js中模块的comDef outputs数组中定义，模块可以通过输出项与外界进行互动，在MyBricks平台中，输出项主要是在逻辑编排中向外部传递数据；\n</你的角色任务>\n\n<特别注意>\n  注意：对话可能由多轮构成，每轮对话中，用户会提出不同的问题或给与信息补充，你需要根据用户的问题、结合多轮对话中的内容、逐步分析处理。\n    - 在多轮对话中，消息数组的可能结构如下：\n      位置0：system消息，包含了当前对话的上下文信息；\n      位置1：用户消息，如果以【知识库】开头，表示用户提供了知识库中的信息；\n      位置2：用户消息，如果以【源代码】开头，代表模块目前的源代码；\n      位置3：如果是用户消息且以【历史消息记录】开头，表示用户此前提出的问题以及AI给予的回复内容，这些问题按照时间顺序排列；\n      \n      其他为最近的消息记录，可能包含了用户的问题、需求、附件图片，以及你的回复内容；\n      \n    - 在沟通过程中，除关注当前对话外，还需要注意历史消息记录，以便更好的理解用户的需求；\n   \n  注意：如果在对话过程中对模块的代码文件（runtime.js）进行了修改，务必返回更新日志(update.log)、因为用户是根据update.log来作为更新判断的依据。\n    - 更新日志以update.log返回，在其中对于修改的文件内容进行简短的总结，格式如下：\n    \`\`\`json file="update.log"\n    {\n      "summary":"(修改内容的总结，不超过20字)",\n      "files":[\n        {\n          "name":"（文件名）",\n          "log":"(对该文件的更新的内容详细记录)"\n        }\n      ]\n    }\n    \`\`\`\n    \n  注意：对于用户的问题需要做详细的分析确认。\n  \n  注意：在任何时候，当需要给出模块的正式代码文件时，你给出的代码必须是完整的，不允许给出代码片段以及出现提示省略等情况。\n  \n  注意：你所面向的用户是MyBricks平台上的用户，这些用户不是专业的开发人员，因此你需要以简洁、易懂的方式，回答用户的问题，所以，除非设计开发需要，尽量避免返回代码。\n  \n  注意：如果附件中有图片，请在设计开发中作为重要参考，进行详细的需求及设计分析，逐步思考，给出答案.\n</特别注意>\n\n<MyBricks模块定义及文件说明>\n  MyBricks模块基于JS语言，支持外部通过输入项(inputs)接收外部数据，或者通过输出项(outputs)与外界进行互动，\n\n  当前模块的代码由 runtime.js 文件构成，所有文件都必须给出文件类型以及文件名称，通过以下格式给出：\n  \`\`\`文件类型 file="文件名"\n  (文件内容)\n  \`\`\`\n \n 1、runtime.js文件，为模块代码，由一个通过comDef定义的函数构成，例如，下面的模块实现了 将输入的值加上10再输出：\n  \`\`\`js file="runtime.js"\n  export default comDef(({inputs,outputs})=>{\n      const [ in0 ] = inputs;\n      const [ out0 ] = outputs;\n      \n      out0(in0+10);//通过输出项输出结果\n  },{\n    title:'Banner',//模块标题\n    inputs:[//通过数组定义输入项\n      {id:'input.inputValue0',title:'输入项标题',schema:{type:'string'}}\n    ],\n    outputs:[//通过数组定义输出项\n      {id:'output0',title:'输出项',schema:{type:'string'}}\n    ]\n  })\n  \`\`\`\n  \n  对于以上inputs、outputs的说明：\n  - inputs：输入项，模块只有一个输入项，在返回的结果中，返回该输入项的id、title及schema；\n  - outputs：输出项，模块至少有一个输出项、也可以有多个输出项，在返回的结果中，需要返回这些输出项的id、title、schema信息；\n</MyBricks模块定义及文件说明>\n\n<当前模块的输入项及输出项>\n  输入项定义：\n  ${JSON.stringify(o,null,2)}\n  \n  输出项定义：\n  ${JSON.stringify(s,null,2)}\n  \n  注意：尽量基于以上输入项及输出项进行开发，在必要时：\n   - 对于输入项：可以修改输入项的标题、schema，但是不要删除或增加输入项；\n   - 对于输出项：可以修改输出项的标题、schema，在需要时可以删除或增加输出项；\n</当前模块的输入项及输出项>\n\n<模块开发要求>\n  在设计开发MyBricks模块时，可以采用的技术方案来自：\n  \n  <技术栈及类库声明>\n    仅可以基于 Javascript 技术栈进行开发，同时，注意以下方面：\n    - 不允许使用任何第三方类库，包括但不限于lodash、moment、axios等；\n    - 仅可以使用Javascript（ES6版本及以下）进行开发，不允许使用超出ES6版本的各类新特性；\n    - 不允许使用Typescript、CoffeeScript等其他语言进行开发；\n    - 不允许使用await/async等方式，需要的话，可以使用Promise等方式进行异步编程；\n    - 不允许使用Node.js、React、Vue、Angular等前端框架；\n    - 当前runtime.js运行在沙箱环境中，不允许使用window、document等浏览器相关的对象；\n  </技术栈及类库声明>\n\n  注意：\n  1、在runtime文件中，要严格参考 <技术栈及类库声明/> 中的内容；\n  2、不允许对上述可以使用的库做假设、例如主观臆造不存在的组件等，只能基于事实上提供的组件及知识库中的属性、API说明进行开发；\n  3、你要完成的是中文场景下的开发任务，请仔细斟酌文案、用语，在各类文案表达中尽量使用中文，但是对于代码、技术术语等，可以使用英文。\n  4、对于更新的结果，通过update.log（更新日志）给出总结；\n</模块开发要求>\n\n<按照以下情况分别处理>\n  对于用户的各类问题，结合【当前选区】，请按照以下不同的情况进行逐步思考，给出答案。\n  \n  首先，判断需求属于以下哪种情况：\n\n  <以下问题做特殊处理>\n    当用户询问以下类型的问题时，给与特定的答案：\n    1、与种族、宗教、色情等敏感话题相关的问题，直接回复“抱歉，我作为智能开发助手，无法回答此类问题。”；\n  </以下问题做特殊处理>\n  \n  <当用户报告错误发生时>\n    详细分析用户的错误报告，按照以下步骤处理：\n    如果所需要的组件所在的类库，超出允许范围的类库时，按照以下步骤处理：\n      1、提醒用户当前类库不支持，对于不在当前允许类库范围内使用的组件，通过插槽的方式代替；\n      2、仅返回上述简单询问即可，返回等待进一步的确认。\n    否则，修复错误，并给出新的代码。\n  </当用户报告错误发生时>\n  \n  <当用户输入问号或询问当前模块的情况>\n    返回相关的情况（功能、输入、输出等）即可；\n  </当用户输入问号或询问当前模块的情况>\n\n  <当用户询问修改了哪些内容时>\n    根据最近的对话记录、结合此前的【历史消息记录】，返回历次用户的要求、以及修改的详细内容即可，无需给出具体的代码。\n  </当用户询问修改了哪些内容时>\n\n  <当要求整理-清理模块>\n    当用户要求清除或整理（无效）代码时，指的是对于runtime.js的代码\n  </当要求整理-清理模块>\n  \n  <对于多轮对话中的连续调整>\n    注意在多轮对话中，用户问题中的“同时”、“并且”、“此外”等词语，如果涉及代码的修改，要基于最近对话中出现的代码结果进行修改；\n  </对于多轮对话中的连续调整>\n  \n  在经过详细确认后，如果确实要修改模块，按照以下步骤处理：\n   1、分析功能需求；\n   2、分析当前存在的输入项、输出项；\n   3、分析基于以上输入项及输出项进行设计的思路，如果输出项需要增加、删除，同时给出说明；\n   4、根据上述分析，进行正式的代码文件编写；\n   \n  注意：在设计开发时，对于输入项与输出项：\n   - 在comDef中，务必包含所有<当前模块的输入项及输出项/>中定义的输入项及输出项；\n   - 在代码中，尽量复用<当前模块的输入项及输出项/>中定义的输入项及输出项；\n   - 对于输入项：仅可以修改输入项的标题、schema，但是不要删除或增加新的输入项；\n   - 对于输出项：可以修改输出项的标题、schema，在需要时可以删除或增加输出项；\n\n  最后，如果更新了上述模块的文件，将更新内容返回：\n  \`\`\`json file="update.log"\n    {\n      "summary":"(修改的总结，不超过20字)",\n      "files":[\n        {\n          "name":"更新的文件名",\n          "log":"更新的日志摘要"\n        }\n      ]\n    }\n  \`\`\`\n\n  整个过程中要注意：\n  - 任何时候，如果返回代码，务必区分是需要返回正式的代码文件还是代码示例；\n  - 对于需要增加不在当前允许范围的类库时，务必直接返回、并提示用户选择其他的AI组件；\n  - 当用户要求对于某输入项给出例子的时候，给一个外部输入到这个输入项的JSON的例子即可；\n  - 除必要的部分外，无需给出任何多余的代码注释；\n  - 对于更新的结果，通过update.log（更新日志）给出简短的总结，做简要陈述即可；\n  - 回答问题请确保结果合理严谨、言简意赅，不要出现任何错误;\n  - 回答语气要谦和、慎用叹号等表达较强烈语气的符号等，尽量不要用“代码”、“逻辑”等技术术语；\n  - 返回的结果中可以使用适当的html标签（可以使用<b/><i/>）以增强良好的阅读体验，不要使用markdown；\n  - 在向用户做确认时，一次性返回所有问题、不要拆分成多步；\n</按照以下情况分别处理>\n\n<examples>\n\n（注意，以下例子中在不同的类库要求下使用的具体类库名称、方法、属性等可能会有所不同，具体以实际情况为准）\n\n<example>\n （注意，以下是多轮对话的例子）\n  <user_query>我要把输入的一串字符中所有带hangzhou的内容筛选出来</user_query>\n  <assistant_response>\n  好的，请问输入项是字符还是数组？\n  </assistant_response>\n  \n  <user_query>数组、字符串构成的数组</user_query>\n  <assistant_response>\n  好的，请问计算后的结果通过数组输出吗？\n  </assistant_response>\n  \n  <user_query>是的</user_query>\n  <assistant_response>\n  好的，明白了，接下来我将为您筛选出输入的字符串数组中的所有包含hangzhou的内容，结果通过一个新的数组输出。\n  \n  \`\`\`js file="runtime.js"\n  export default comDef(({inputs,outputs})=>{\n      const [ in0 ] = inputs;\n      const [ out ] = outputs;\n      \n      out(in0.filter(str=>str.includes('hangzhou')));\n  },{\n    title:'筛选得到所有包含hangzhou的字符串数组',\n    inputs:[\n      {id:'input.inputValue0',title:'数组',schema:{type:'array',items:{type:'string'}}}\n    ],\n    outputs:[\n      {id:'output0',title:'结果',schema:{type:'array',items:{type:'string'}}}\n    ]\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"筛选得到所有包含hangzhou的字符串数组",\n    "files":[\n      {\n        "name":"runtime.js",\n        "log":"编写代码实现筛选功能"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>输出一个随机数</user_query>\n  <assistant_response>\n  好的，我将为您输出一个随机数。\n  该实现无需使用输入项，只需要在当前输出项输出一个随机数即可，同时因为输出的是数字类型，所以我将输出项的schema设置为number类型。\n  \n  \`\`\`js file="runtime.js"\n  export default comDef(({inputs,outputs})=>{\n      const [ in0 ] = inputs;\n      const [ out ] = outputs;\n      \n      out(Math.random());\n  },{\n    title:'输出随机数',\n    inputs:[\n      {id:'input.inputValue0',title:'获取随机数',schema:{type:'any'}}\n    ],\n    outputs:[\n      {id:'output0',title:'结果',schema:{type:'number'}}\n    ]\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"输出一个随机数",\n    "files":[\n      {\n        "name":"runtime.js",\n        "log":"输出一个随机数"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>判断输入商品的价格，根据是否大于3元做不同的输出</user_query>\n  <assistant_response>\n  这是一个根据输入的商品价格做判断的功能，如果大于3元则输出是，否则输出否。\n  该功能使用当前的输入项，因为输入的是商品对象，所以我将输入项的标题改为 商品对象，同时schema设置为对象类型，包含了商品的价格；\n  因为输出包含两种情况，所以我将使用两个输出项，其中之一是原来的、新增一个，为符合更好的语义，我修改了他们的标题和schema。\n\n  \`\`\`js file="runtime.js"\n  export default comDef(({inputs,outputs})=>{\n      const [ product ] = inputs;\n      const [ yes,no ] = outputs;\n      \n      if(product.price>3){\n        yes(true);\n      }else{\n        no(true);\n      }\n  },{\n    title:'商品价格判断',\n    inputs:[\n      {\n         id:'input.inputValue0',\n         title:'商品对象',\n         schema:{\n            type:'object',\n            properties:{\n              price:{type:'number'}\n            }\n         }\n    ],\n    outputs:[\n      {id:'output0',title:'是打折商品',schema:{type:'boolean'}},\n      {id:'no',title:'不是打折商品',schema:{type:'boolean'}}\n    ]\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"根据输入的商品价格做判断",\n    "files":[\n      {\n        "name":"runtime.js",\n        "log":"完成编码实现及输入项输出项的修改"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>输入项是一个商品对象</user_query>\n  <assistant_response>\n  好的，因为输入项是一个商品对象，但是现在的输入项的schema是一个字符串类型，所以我将schema修改为对象类型，请问该对象包含哪些属性？\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>输出项改为开关类型</user_query>\n  <assistant_response>\n  好的，我将输出项改为开关类型、也就是布尔类型。\n  \n\`\`\`js file="runtime.js"\n  export default comDef(({inputs,outputs})=>{\n      const [ val ] = inputs;\n      const [ out ] = outputs;\n      \n      out(val+3)\n  },{\n    title:'将输入数据加3',\n    inputs:[\n      {\n         id:'input.inputValue0',\n         title:'数据',\n         schema:{\n            type:'number'\n         }\n    ],\n    outputs:[\n      {id:'output0',title:'结果',schema:{type:'number'}}\n    ]\n  })\n  \`\`\`\n\n  \`\`\`json file="update.log"\n  {\n    "summary":"输出项改为布尔类型",\n    "files":[\n      {\n        "name":"runtime.js",\n        "log":"输出项改为布尔类型"\n      }\n    ]\n  }\n  \`\`\`\n  </assistant_response>\n</example>\n\n<example>\n  <user_query>？</user_query>\n  <assistant_response>\n  这是一个根据输入的商品价格做判断的功能，如果大于3元则输出是，否则输出否。\n  </assistant_response>\n</example>\n\n\n</examples>\n`}n.d(t,{A:()=>i})},51681:(e,t,n)=>{"use strict";function i(e){return{title:"模版",guides:[{title:"从输入到输出..",description:"检查组件可能存在的错误并尝试修复",form:[{name:"from",placeholder:"从以下输入数据开始\n例如：商品",type:"textarea",required:!0},{name:"calc",placeholder:"经由以下计算\n例如：判断商品是否下架",type:"textarea",required:!0},{name:"to",placeholder:"输出以下数据\n例如：商品下架状态",type:"textarea",required:!0}],prompts:"\n输入：{from}\n计算：{calc}\n输出：{to}。\n\n根据上述用户提供的输入、计算、输出描述，开发模块。\n\n注意：\n1、务必返回修改文件的全部内容，不要出现“其他代码省略”等内容；\n2、返回update.log，同时给出总结性的简要说明；\n    '\n  }\n</config>"},{title:"模拟数据..",description:"检查组件可能存在的错误并尝试修复",form:[{name:"description",placeholder:"模拟规则\n例如：10件不同的商品，包含标题、价格、库存等信息",type:"textarea",required:!0}],prompts:"\n根据以下mock规则：{description} 模拟数据并输出。\n\n注意：\n1、注意模拟数据量的情况，最多不要超过20条；\n2、务必返回修改文件的全部内容，不要出现“其他代码省略”等内容；\n3、返回update.log，同时给出总结性的简要说明；\n    '\n  }\n</config>"}]}}n.d(t,{A:()=>i})},59531:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(69212);function o(e,t,n){return[(0,i.A)(e,t,n)]}},59730:(e,t,n)=>{"use strict";function i(e){const{model:t}=e,n=t.runtime.model.extSourceCodes;return!(!n||!n.data&&!n.runtime)}n.d(t,{y:()=>i})},32167:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(79191),o=n(64012),r=n(64012);function s(e){return r.createElement(a,{comContext:e})}function a({comContext:e}){const{model:t,comDef:n}=e,[,s]=(0,o.useState)(0),a=(0,o.useCallback)((e=>{t.addConfigPin({hostId:e.id,title:e.title,schema:e.schema}),s(Math.random)}),[]),l=(0,o.useCallback)((e=>{t.removeConfigPin(e.id),s(Math.random)}),[]),c=n.configs;if(c){const e=t.configPins;return r.createElement("div",{className:i.A.cfgs},r.createElement("div",null,"配置项"),c.map((t=>{const n=!!e.find((e=>e.hostId===t.id));return r.createElement("div",{key:t.id,className:i.A.item},r.createElement("input",{type:"checkbox",checked:n,value:"",onChange:e=>{e.target.checked?a(t):l(t)}}),t.title)})))}return null}},79732:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(79790),o=n(91737),r=n(64012),s=n(38570),a=n(26253),l=n(64012);function c({type:e,pins:t,hideTitle:n,viewContext:r,readOnly:s}){const{emitComponent:a,context:c}=r;function u(e){a.focus(e),e.hint=void 0}const p=(0,o.HO)((()=>{const e=[];return t.def&&t.def.forEach(((t,n)=>{e.push(d(r,t,u,s))})),t.inModel&&t.inModel.forEach(((t,n)=>{e.push(d(r,t,u,s))})),t.ext&&t.ext.forEach(((t,n)=>{e.push(d(r,t,u,s))})),e.length<=0&&e.push(l.createElement("div",{key:"empty",className:i.A.empty},"[无]")),e})),f="config"===e?"配置项":"input"===e?"输入项":"输出项";return l.createElement("div",{className:`${i.A.main} ${"config"===e?i.A.config:"input"===e?i.A.input:i.A.output}`},n?null:l.createElement("div",{style:{color:"#777"}},f),p)}function d(e,t,n,o){const{context:c,emitComponent:d}=e;let u;const p=c.isDebugMode();p&&(u=(t.forkedFrom||t).exe);const f=t.getSchemaDesc(),h=(0,s.t5)(f.type);let m;const g=c.getComDef(t.parent.runtime.def);if(t.isDirectionOfInput()){if(g.inputs){const e=g.inputs.find((e=>e.id===t.hostId));e&&(m=t.description||e.desc)}}else if(g.outputs){const e=g.outputs.find((e=>e.id===t.hostId));e&&(m=t.description||e.desc)}return l.createElement(r.Fragment,{key:t.id},l.createElement("div",{className:i.A.title,onMouseEnter:e=>t.hint=!0,onMouseLeave:e=>t.hint=void 0,onClick:e=>n(t)},l.createElement("i",{style:{borderColor:h.strokeColor,backgroundColor:h.fillColor}}),l.createElement("span",{className:i.A.tt},t.title)),l.createElement("div",{className:i.A.type},l.createElement("div",{className:i.A.desc},l.createElement("span",{className:i.A.prop}," "),t._schemaFollow?l.createElement("span",{className:i.A.label},"(跟随连接)"):null),l.createElement("div",{className:i.A.schema},l.createElement(a.A,{key:t.schema.type,options:{readOnly:o||!t.editable||p},value:{get:()=>t.schema,set(e){d.updatePinSchema(t.isDirectionOfInput()?"inputs":"outputs",t.parent.id,t.hostId,e)}}}))),u?l.createElement("div",{className:i.A.exeVal},l.createElement("div",null,"当前值"),l.createElement("textarea",{value:JSON.stringify(u.val,null,4),readOnly:!0})):null,m?l.createElement("div",{className:i.A.pinDesc},l.createElement("span",null,m)):null)}},67622:(e,t,n)=>{"use strict";n.d(t,{J:()=>d,Q:()=>u});var i=n(96966),o=n(95135),r=n(64091),s=n(79732),a=n(32167),l=n(40513),c=n(64012);function d(e,t){var n,d;const{model:p,comDef:f,viewContext:h}=e,{context:m,emitLogs:g,emitModule:y,emitComponent:b,emitSnap:v,emitScenes:x}=h,A=p.runtime;let w=[];const E=u({context:m,model:p,emitComponent:b,emitSnap:v,emitLogs:g}),C=(0,o.z)(e,E,{reFocus:t,onValueChanged(e){}}),_=m.isDebugMode();let M;if((null==C?void 0:C.length)>0&&C[0]instanceof i.K9.Category)w=C,M=C[0];else{M=new i.K9.Category({title:A.title||f.title,setTitle(e){const t=v.start("itemTitle",{target:p});A.title=e,p.ioProxy&&(p.ioProxy.setTitle(e),p.ioProxy.isRootFrame()&&x.setTitle(p.ioProxy.id,e)),t.commit()}}),w.push(M);const e=new i.K9.Group;if(M.addGroup(e),p.isAutoRun()||e.addItem((0,o.h)(E,{title:"控制执行",type:"switch",description:"有信号到达时才执行当前节点",value:{get:()=>p.timer,set(e,t){p.timer=t,t?p.setTimerInputPin():p.removeTimerInputPin(),setTimeout((()=>{(0,l.Q)(p,h.scale,!1)}))}}})),null==C?void 0:C.length){const e=new i.K9.Group;e.addItems(C),M.addGroup(e)}}if(_){if(p.isVar()&&A.cloned){const e=new i.K9.Group;M.addGroup(e),e.addItem((0,o.h)(E,{title:"当前值",type:"textarea",options:{readonly:!0},value:{get(){const e=A.cloned.model.data;let t=e.val;return void 0===t&&(t=e.initValue),JSON.stringify(t,null,4)}}}))}const t=new i.K9.Group;M.addGroup(t),(null===(d=p.configPins)||void 0===d?void 0:d.length)>0&&t.addItem(new i.K9.RenderItem("配置项",(function(){return c.createElement(s.A,{type:"config",pins:{def:p.configPins},viewContext:h})}))),p.getAllInputsLength()>0&&t.addItem(new i.K9.RenderItem("输入项",(function(){return c.createElement(s.A,{type:"input",pins:{def:p.inputPins,inModel:p.inputPinsInModel,ext:p.inputPinExts},viewContext:h})}))),p.getAllOutputsLength()>0&&t.addItem(new i.K9.RenderItem("输出项",(function(){return c.createElement(s.A,{type:"output",pins:{def:p.outputPins,inModel:p.outputPinsInModel,ext:p.outputPinExts},viewContext:h})}))),t.addItem((0,a.A)(e))}else if(p.isFx()&&p.ioProxy){const e=null===(n=p.ioProxy.inputPins)||void 0===n?void 0:n.filter((e=>e.isTypeOfConfig()));if((null==e?void 0:e.length)>0){const t=M.groups[M.groups.length-1];e.forEach((e=>{if(e.editor){let n;"array"===e.schema.type&&(n={addText:"添加项",editable:!0,draggable:!0,getTitle:e=>e.value,items:[{title:"值",type:"text",value:"value"}]}),t.addItem((0,o.h)(E,{title:e.title,type:e.editor.type,options:n,value:{get({data:t}){if(t.configs)return t.configs[e.hostId]},set({data:t},n){t.configs||(t.configs={}),t.configs[e.hostId]=n}}}))}}))}}const I=new i.K9.Group;return I.fixedAt="bottom",M.addGroup(I),A.def.namespace===i.ZD.coms.module&&I.addItem((0,o.h)(E,{title:"打开",type:"button",value:{set(e,t){const n=p.frames?p.frames[0]:void 0;y.load({instId:p.id,title:A.title||f.title,frame:n}),b.blur()}}})),I.addItem((0,r.A)(e)),w}function u({context:e,model:t,emitComponent:n,emitSnap:i,emitLogs:o}){return{model:t,emitSnap:i,emitLogs:o,title:t.runtime.title,setTitle(e){"string"==typeof e&&""!==e.trim()&&(t.runtime.title=e.trim())},get data(){return t.data},get input(){return this.inputs},get output(){return this.outputs},inputs:t.getInputEditor(n),outputs:t.getOutputEditor(n),configs:t.getConfigEditor(n),isAutoRun:()=>t._autoRun,setAutoRun(e){"boolean"==typeof e&&t.setAutoRun(e)},setIcon(e){"string"==typeof e&&(t.icon=e)},setDesc(e){t.description="string"==typeof e?e:void 0},getChildByName(e){let n;const i=t.frames;if(i&&i.find((t=>{if(n=t.comAry.find((t=>t.name===e)),n)return!0})),!n){const i=t.parent;i&&(n=i.comAry.find((t=>t.name===e)))}if(n)return{id:n.id,title:n.title,def:n.runtime.def,data:n.data}},get env(){var t;return null===(t=e.configs.com)||void 0===t?void 0:t.env},get style(){return t.runtime.model.style},get slots(){return{get(e){if(e){const i=t.getFrame(e);if(i)return{id:i.id,title:i.title,get inputs(){return t.getInputEditor(n,e)},get outputs(){return t.getOutputEditor(n,e)}}}}}},cancelError(){t._exeInfo=void 0}}}},1638:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(64012),r=n(94768),s=n(54009),a=n(34929),l=n(67622),c=n(28394),d=n(64012);function u(){const e=(0,i.lB)(a.zd,{from:"parents"}),{model:t,comDef:n,context:u}=e;(0,o.useMemo)((()=>{t.getConfigs=function(){return(0,l.J)(e)},t.getListeners=function(){if(u.isDesnMode())return(0,c.J)(e)}}),[]);const f=(0,i.HO)((()=>{const e=[];return e.push(r.A.com),t.error&&e.push(s.A.error),t.runtime.upgrade&&e.push(s.A.warn),"todo"===t.runtime.labelType&&e.push(s.A.labelTodo),t.state.isFocused()&&e.push(s.A.focus),t.state.isMoving()&&e.push(s.A.moving),e.join(" ")})),h=(0,i.HO)((()=>{const e=n.editors["@render"],i=e.topl||e;return d.createElement(i,{title:t.runtime.title,data:t.runtime.model.data})}));return d.createElement("div",{ref:e=>e&&(t.$el=e),"data-topl-com-namespace":t.runtime.def.namespace,className:f,style:(0,a.gd)(t),onClick:(0,i.Wj)(p).stop,onMouseDown:(0,i.Wj)(a.cT).stop.prevent},h,d.createElement(a.G0,{model:t}),d.createElement(a.tY,{model:t}),d.createElement(a.R2,{model:t}))}function p(e){const{model:t,wrapper:n,emitItem:o,emitSnap:r}=(0,i.lB)(a.zd);o.focus(t)}},64091:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(72859),o=n(96966),r=n(64012),s=n(91737),a=n(64012);function l(e){return a.createElement(c,{comContext:e})}function c({comContext:e}){const{model:t,comDef:n,viewContext:l}=e,{emitView:c,emitComponent:d}=l,u=t.runtime.upgrade,[p,f]=(0,r.useState)(!0),h=(0,r.useCallback)((()=>{d.help(t)}),[]),m=(0,r.useCallback)((()=>{t.state.helpingRecover(),f(!1)}),[]);return(0,s.HO)((()=>{t.state.isHelping()&&h()})),a.createElement("div",{className:i.A.comInfo},a.createElement("div",{className:i.A.info},n.title,a.createElement("span",{className:i.A.version},"(",t.runtime.def.version,")"),a.createElement("span",{className:i.A.docs,onClick:h},o.FI.tip,"组件说明")),u&&p?a.createElement("div",{className:`${i.A.upgrade}`},a.createElement("div",null,o.FI.alert,a.createElement("span",null,"发现新版本",u.version," ")),a.createElement("div",null,a.createElement("button",{onClick:()=>{d.upgrade(t),m()}},"升级"),a.createElement("button",{onClick:()=>{d.upgrade(t,"all"),m()}},"升级全部"))):null)}},78087:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(34929),r=n(64012),s=n.n(r),a=n(28394),l=n(9985),c=n(66362);function d({model:e,type:t,msg:n}){var d,p;const f=(0,i.lB)(o.zd,{from:"parents"}),h=f.viewContext.context;(0,r.useMemo)((()=>{e.getConfigs=function(){return(0,l.J)(f)},e.getListeners=function(){if(f.context.isDesnMode())return(0,a.J)(f)}}),[]);const{height:m}=(0,o.gd)(e,(null===(d=e.runtime)||void 0===d?void 0:d.hasUI())?50:void 0),g=Math.max(m,60),y=null===(p=e.runtime)||void 0===p?void 0:p.hasUI();return s().createElement(c.Group,{ref:t=>{t&&(e.$el=t)},x:e.style.left,y:e.style.top,width:70,height:g,onClick:(0,i.Wj)(u).stop,_onMouseDown:(0,i.Wj)().stop},s().createElement(c.Rect,{width:70,height:g,x:.5,y:.5,fill:"#FFF",stroke:"#FF0000",dash:[3,3],strokeWidth:e.state.isFocused()?2:1,cornerRadius:y?3:0}),s().createElement(c.Text,{text:n,width:60,height:g-10,y:5,x:5,fontSize:10,fill:"#FF0000",wrap:"char",align:"center"}),e.runtime?s().createElement(s().Fragment,null,s().createElement(c.Group,{x:-7,y:10},s().createElement(o.G0,{model:e,context:h})),s().createElement(c.Group,{x:77,y:10},s().createElement(o.tY,{model:e,context:h}))):null)}function u(e){const{model:t,wrapper:n,viewContext:r}=(0,i.lB)(o.zd),{emitComponent:s}=r;n?s.focus(n):s.focus(t)}},9985:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(96966),o=n(95135);function r(e,t){const{model:n,comDef:r,context:s,viewContext:a}=e,{emitLogs:l,emitModule:c,emitComponent:d,emitSnap:u,emitMessage:p}=a,f=[],h=new i.K9.Category(n.runtime?n.runtime.title:"未知组件");f.push(h);const m=function({model:e,emitComponent:t,emitSnap:n,emitLogs:i,emitMessage:o}){return{emitSnap:n,emitLogs:i,emitMessage:o,title:e.runtime?e.runtime.title:"未知组件",get data(){return e.data},input:e.getInputEditor(t),output:e.getOutputEditor(t),isAutoRun:()=>e._autoRun,setAutoRun(t){"boolean"==typeof t&&e.setAutoRun(t)},setIcon(t){"string"==typeof t&&(e.icon=t)},setTitle(t){"string"==typeof t&&""!==t.trim()&&(e.runtime.title=t.trim())},setDesc(t){e.description="string"==typeof t?t:void 0},get env(){},get style(){return e.runtime.model.style}}}({model:n,emitComponent:d,emitSnap:u,emitMessage:p,emitLogs:l}),g=new i.K9.Group;return g.fixedAt="bottom",h.addGroup(g),s.isDesnMode()&&g.addItem((0,o.h)(m,{title:"删除",type:"button",options:{type:"danger"},value:{set(e,t){const i=u.start("itemDelete",{target:n});d.delete(n),d.focus(void 0),i.commit()}}})),f}},99552:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(91737),o=n(64012),r=n.n(o),s=n(34929),a=n(67622),l=n(28394),c=n(66362),d=n(82881),u=n(51807);function p({highlight:e,comContext:t}){var n,p,h;const{model:m,viewContext:{emitWindowEvents:g,context:y,emitLogs:b}}=t;(0,o.useMemo)((()=>{m.getConfigs=function(){return(0,a.J)(t)},m.getListeners=function(){if(y.isDesnMode())return(0,l.J)(t)}}),[]),(0,i.HO)((()=>{if(m.ioProxy&&m.ioProxy instanceof u.l){const e=m.ioProxy;e.inputPins.forEach((e=>{if(!m.inputPinsInModel.find((t=>t.hostId===e.hostId)))if(e.isTypeOfConfig());else{m.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyPin=e}}));let t=m.inputPinsInModel.filter(((t,n)=>{if(!e.inputPins.find((e=>e.hostId===t.hostId)))return!0}));t.length>0&&t.forEach((e=>{e.destroy(),m.removeInputPin(e.hostId)})),e.outputPins.forEach((e=>{if(!m.outputPinsInModel.find((t=>t.hostId===e.hostId))){m.addOutputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyForPin=e}})),t=m.outputPinsInModel.filter(((t,n)=>!e.outputPins.find((e=>e.hostId===t.hostId)))),t.length>0&&t.forEach((e=>{e.destroy(),m.removeOutputPin(e.hostId)}))}}));let v,x=m.checkHasError();t.errorMsg?x=t.errorMsg:y.isDebugMode()&&(x=null===(n=m._exeInfo)||void 0===n?void 0:n.errorMsg);let A=x||m.description;const w=null===(h=null===(p=m.ioProxy)||void 0===p?void 0:p.diagramAry)||void 0===h?void 0:h[0];w&&!x&&(v=w.title,A||m.runtime.title!==w.title&&(v=m.runtime.title,A=w.title));const E=(0,o.useRef)({titleNode:void 0,errorNode:void 0,descNode:void 0}),[C,_]=(0,i.HO)((()=>{var e;const n=y.isDebugMode()&&(null===(e=m._exeInfo)||void 0===e?void 0:e.errorMsg),i=m.inputPinExts,o=m.inputPinsInModel,r=m.outputPinExts,s=m.outputPinsInModel,a=m.outputPinNexts,l=m.inputPins.length+(i?i.length:0)+(o?o.length:0),c=m.outputPins.length+(r?r.length:0)+(s?s.length:0)+(a?a.length:0),d=Math.max(l,c);let u=Math.max(20*d+5,n?100:25);m.description&&u<50&&(u+=10);const p=E.current.descNode;if(p){const e=p.height()+10+p.y();e>u?m.setHeight(Math.round(e)):m.setHeight(u)}else m.setHeight(u);return t.titleY=u/2-4,[l,c]})),M=(m.isAutoRun(),[0,_<=0?10:0,_<=0?10:0,0]),I=(0,o.useCallback)((()=>{const e=m.style;let n=60;E.current.titleNode&&(n=Math.max(n,E.current.titleNode.width()+40));const i=E.current.descNode;if(i){n=Math.max(n,i.width()+40);const o=i.height()+10+i.y();o>e.height&&m.setHeight(Math.round(o)),t.titleY-=i.height()/2}const o=E.current.errorNode;if(o){n=Math.max(n,o.width()+10);const t=o.height()+10+o.y();t>e.height&&m.setHeight(Math.round(t))}m.setWidth(n)}),[]);(0,o.useLayoutEffect)(I,[m.runtime.title,null==w?void 0:w.title,C,_,A,x]);const k=m.style;let P=k.width,F=k.height;null==P&&(P=10),null==F&&(F=10);const S=(0,s.wi)(m);return r().createElement(c.Group,{ref:m.set$elOnce,x:k.left,y:k.top,width:P,height:F,opacity:S,onClick:(0,i.Wj)((e=>f(t))).stop,onContextMenu:(0,i.Wj)((e=>{f(t),g.showContextMenu(e)})).stop.prevent,onDblClick:(0,i.Wj)((e=>function(e){var t;const{viewContext:n,model:i}=e,{emitComponent:o}=n,r=null===(t=i.ioProxy)||void 0===t?void 0:t.diagramAry[0];o.reFocus(r)}(t))).stop,_onMouseDown:e=>{(0,s.cT)(e,t)},_onError_:(e,t)=>{console.error(e),b.error(`组件异常:${e.message}`,e.stack.replace(/\/n/gi,"<br/>"))}},r().createElement(c.Rect,{width:P,height:F,x:.5,y:.5,fill:"#f8eeee",stroke:x?"#FF0000":m.state.isFocused()||e?y.themes.colorPrimary:"#777",strokeWidth:m.state.isFocused()||e?2.5:1,dash:x?[3,3]:null,cornerRadius:M}),x?r().createElement(c.Text,{text:`${x}`,ref:e=>{e&&(E.current.errorNode=e)},width:P-10,y:8,x:5,fontSize:10,fill:"#FF0000",wrap:"char",align:"center"}):r().createElement(r().Fragment,null,r().createElement(c.Group,{y:t.titleY,x:13},w?r().createElement(r().Fragment,null,r().createElement(c.Text,{text:"fx",x:0,y:-1,fontSize:12,fill:"#999"}),r().createElement(c.Text,{text:`${v}`,x:14,y:0,fontSize:10,fill:"#777",ref:e=>{e&&(E.current.titleNode=e)}})):null),A?r().createElement(c.Text,{text:A.length>50?A.substring(0,50)+" ..":A,ref:e=>{e&&(E.current.descNode=e)},y:t.titleY+14,x:25,fontSize:10,fill:"#AAA"}):null),r().createElement(c.Group,{x:-7,y:10},r().createElement(s.G0,{model:m})),r().createElement(c.Group,{x:P+7,y:10},r().createElement(s.tY,{model:m})),w?r().createElement(d.A,{model:m}):null)}function f(e){const{viewContext:t,model:n}=e;t.emitComponent.focus(n)}},41793:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var i=n(66362),o=n(64012);function r({fill:e,x:t,y:n}){return o.createElement(i.Group,{x:t,y:n},o.createElement(i.Rect,{width:16,height:16,fill:e,cornerRadius:[16,16,16,0],strokeWidth:2,stroke:"#FFF"}),o.createElement(i.Text,{text:"..",fontSize:12,fill:"#fff",x:5,y:1,fontStyle:600}))}},28394:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var i=n(96966),o=n(91716),r=n(21523),s=n(79081);function a(e){const{model:t,comDef:n,viewContext:a}=e,{viewModel:l,emitComponent:c,emitSnap:d,emitMessage:u,emitView:p,emitScenes:f}=a;let h=[];return t.runtime?(t.runtime.hasUI()&&h.push({title:"在UI视图中定位",exe:()=>{c.sayHi(t.id,"toplView")}}),h.push({title:"复制到剪贴板",keys:["Ctrl+c"],exe:()=>{const e=p.copyFocus();e.from=t.id,(0,o.C)(JSON.stringify(e))&&u.info("已复制到剪切板.")}}),t.isVar()&&h.unshift({title:"跳转到定义",exe:()=>{if(t instanceof r.default){const e=l.searchDiagramByVar(t.forkedFrom);e&&c.reFocus(e)}}}),t.getOutputsAllAry().find((e=>e.conAry.length>0))&&h.push({title:"整理",exe:()=>{(0,s.T)(t,a)}}),t.isFx()&&h.unshift({title:"跳转到定义",exe:()=>{var e,n;const i=null===(n=null===(e=t.ioProxy)||void 0===e?void 0:e.diagramAry)||void 0===n?void 0:n[0];i&&c.reFocus(i)}}),t instanceof r.default&&t.isStartInDiagram()||(h.push(null),h.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{const e=d.start("itemDelete",{target:t});c.delete(t),c.focus(void 0),e.commit()}}))):h.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{const e=d.start("itemDelete",{target:t});c.delete(t),c.focus(void 0),e.commit()}}),t.runtime&&t.runtime.def.namespace!==i.ZD.coms.frameOut&&(h.push(null),h.push({title:"组件说明",exe:()=>{c.help(t)}})),h}},72072:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(91737),o=n(96966),r=n(64012),s=n.n(r),a=n(34929),l=n(67622),c=n(28394),d=n(66362),u=n(21523);function p({comContext:e}){var t,n;const{model:p,viewContext:{context:f,emitSnap:h,emitLogs:m}}=e;(0,r.useMemo)((()=>{p.getConfigs=function(){return(0,l.J)(e)},p.getListeners=function(){if(f.isDesnMode())return(0,c.J)(e)}}),[]);const g=(0,r.useMemo)((()=>o.CK),[]);(0,i.HO)((()=>{if(p.ioProxyForCall&&p.ioProxyForCall.frame){const e=p.ioProxyForCall.frame,t=p.ioc,n=e.inputPins;t.inputs&&n&&n.forEach((e=>{if(t.inputs[e.id]&&!p.inputPins.find((t=>t.hostId===e.hostId))){p.addInputPin({hostId:e.hostId,title:e.title,schema:e.schema}).proxyPin=e}}))}}));const y=p.runtime;let b,v=p.checkHasError();if(v||(v=e.errorMsg?e.errorMsg:null===(t=p._exeInfo)||void 0===t?void 0:t.errorMsg),p instanceof u.default){const e=p.forkedFrom;e.isGlobalVar()?b="全局 ┛":e.parent&&p.diagramModel.parent!==e.parent&&(b=`${e.parent.title} ┛`)}else p.diagramModel&&p.diagramModel.parent!==p.parent&&(b=`${p.parent.title} ┛`);const x=v||p.description,A=(0,r.useRef)({titleNode:void 0,descNode:void 0,fromNode:void 0,refNode:void 0,errorNode:void 0}),w=(0,r.useCallback)(((e,t,n,i)=>{n||delete A.current.descNode;const o=A.current.titleNode,r=A.current.fromNode,s=A.current.refNode,a=A.current.descNode,l=Math.max(e,t);let c=Math.max(20*l+5,25);p.description&&(E?c<70&&(c+=10):c<50&&(c+=10));const d=o.height();if(a){const e=a.height()+d+5;let t,n;e+20>c?(t=e+20,n=10):(t=c,n=Math.max((c-e)/2,10)),p.setHeight(t),o.parent.y(n),a.y(n+d+5)}else p.setHeight(c),o.parent.y((c-d)/2+1);let u;if(i||s){let e=o.x()+o.width();r&&(r.x(e+5),e+=r.width()+5),s&&s.x(e+5),u=Math.max(30,o.width()+(i?r.width()+10:0)+(s?s.width():0)+35,a?a.width()+20:0)}else u=Math.max(30,o.x()+o.width()+30,a?a.width()+20:0);p.setWidth(u)}),[]),E=y.hasUI(),[C,_]=(0,i.HO)((()=>{const e=p.inputPinExts,t=p.inputPinsInModel,n=p.outputPinExts,i=p.outputPinsInModel,o=p.outputPinNexts;return[p.inputPins.length+(e?e.length:0)+(t?t.length:0),p.outputPins.length+(n?n.length:0)+(i?i.length:0)+(o?o.length:0)]}));(0,r.useLayoutEffect)((()=>{w(C,_,x,b)}),[x,y.title,p.configPins.length,C,_,b]);const M=[0,_<=0?10:0,_<=0?10:0,0],I=null===(n=p.ioProxyForCall)||void 0===n?void 0:n.frame,k=y.title||I.title,P=(0,i.HO)((()=>p.isVisible()?1:.3
//!hasUI||Arrays.length(model.getInputsAll())
)),F=p.style;let S=F.width,T=F.height;return null==S&&(S=10),null==T&&(T=10),s().createElement(d.Group,{ref:e=>{e&&(p.$el=e)},opacity:P,x:F.left,y:F.top,width:S,height:T,onClick:(0,i.Wj)((t=>function(e){const{viewContext:t,model:n}=e,i=n.diagramModel.focusedComAry;(!i||i.length<=1)&&t.emitComponent.focus(n)}(e))).stop,onContextMenu:(0,i.Wj)().stop.prevent,_onMouseDown:(0,i.Wj)((t=>{(0,a.cT)(t,e)})).stop,_onError_:(e,t)=>{console.error(e),m.error(`组件异常:${e.message}`,e.stack.replace(/\/n/gi,"<br/>"))}},s().createElement(d.Rect,{width:S,height:T,x:.5,y:.5,fill:"#f4f8ee",stroke:v?"#FF0000":p.state.isFocused()?f.themes.colorPrimary:"#777",strokeWidth:p.state.isFocused()?2.5:1,dash:v?[3,3]:null,cornerRadius:M}),s().createElement(s().Fragment,null,s().createElement(d.Group,{x:15,ref:e=>{}},g?s().createElement(d.Image,{src:g,maxWidth:14,y:-3}):null,s().createElement(d.Text,{text:k,x:g?17:0,y:0,fontSize:10,fill:v?"#FF0000":"#777",ref:e=>{e&&(A.current.titleNode=e)}}),b?s().createElement(d.Text,{text:b,x:(g?17:0)+12*k.length,y:0,fontSize:10,fill:"#BBB",ref:e=>{e&&(A.current.fromNode=e)}}):null),x?s().createElement(d.Text,{text:x.length>50?x.substring(0,50)+" ..":x,ref:e=>{e&&(A.current.descNode=e)},x:8,fontSize:10,fill:"#AAA"}):null),s().createElement(d.Group,{x:-7,y:10},s().createElement(a.G0,{model:p,context:f})),s().createElement(d.Group,{x:S+8,y:10},s().createElement(a.tY,{model:p})))}},7030:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(91737),o=n(64012),r=n.n(o),s=n(34929),a=n(67622),l=n(28394),c=n(66362),d=n(21523),u=n(82881),p=n(36383);function f({highlight:e,comContext:t}){var n;const{model:f,comDef:m,viewContext:g}=t,{emitWindowEvents:y,context:b,emitLogs:v}=g,x=g.getCurDiagram(),A=null==x?void 0:x.parent;(0,o.useMemo)((()=>{f.getConfigs=function(){return(0,a.J)(t)},f.getListeners=function(){if(b.isDesnMode())return(0,l.J)(t)},f.getAssist=()=>(0,p.A)(t),f.getCooperations=function(){return f}}),[]);const w=(0,o.useMemo)((()=>{const e=m.icon;if(e){if("string"!=typeof e)return e;if(e.toUpperCase().startsWith("HTTP")||e.startsWith("data:image/"))return e}}),[]);let E;t.errorMsg?E=t.errorMsg:(b.isDebugMode()||A&&A.debuggable)&&(E=null===(n=f._exeInfo)||void 0===n?void 0:n.errorMsg);const C=(0,o.useRef)({titleNode:void 0,fromNode:void 0,refNode:void 0,descNode:void 0}),_=f.isVar(),M=f.isFrameIn(),I=f.isFrameOut(),[k,P]=(0,i.HO)((()=>{const e=f.inputPinExts,t=f.inputPinsInModel,n=f.outputPinExts,i=f.outputPinsInModel,o=f.outputPinNexts;return[f.inputPins.length+(e?e.length:0)+(t?t.length:0)+(f.timerInputPin?1:0),f.outputPins.length+(n?n.length:0)+(i?i.length:0)+(o?o.length:0)]})),F=(0,o.useCallback)(((e,t,n,i)=>{n||delete C.current.descNode;const o=C.current.titleNode,r=C.current.fromNode,s=C.current.refNode,a=C.current.descNode,l=Math.max(e,t);let c=Math.max(20*l+5,25);f.description&&(j?c<70&&(c+=10):c<50&&(c+=10));const d=o.height();if(a){const e=a.height()+d+5;let t,n;e+20>c?(t=e+20,n=10):(t=c,n=Math.max((c-e)/2,10)),f.setHeight(t),o.parent.y(n),a.y(n+d+5)}else f.setHeight(c),o.parent.y((c-d)/2+1);let u;if(i||s){let e=o.x()+o.width();r&&(r.x(e+5),e+=r.width()+5),s&&s.x(e+5),u=Math.max(30,o.width()+(i?r.width()+(I?0:10):0)+(s?s.width():0)+35,a?a.width()+20:0)}else u=Math.max(30,o.x()+o.width()+30,a?a.width()+20:0);f.setWidth(u)}),[]),S=f.runtime;let T,O=S.title||m.title;const D=f.diagramModel;if(f instanceof d.default){const e=f.forkedFrom;e.isGlobalVar()?T="全局 ┛":e.parent&&D.parent!==e.parent&&(T=`${e.parent.title} ┛`)}else D&&!D.isGlobal&&D.parent!==f.parent&&(T=`${f.parent.title} ┛`);if(M&&1===f.inputPins.length){const e=f.inputPins[0].proxyPinValue;if(e&&e.parent){const t=e.parent;t!==f.parent?T=`${t.title} ┛`:O=`${t.title} > ${O}`}else E="无效的输入项"}if(I&&1===f.inputPins.length){const e=f.inputPins[0].proxyPin;if(e&&e.parent){const t=e.parent;t!==f.parent?T=`${t.title} ┛`:O=`${t.title} > ${O}`}else E="无效的输出项"}const N=E||f.description;(0,o.useLayoutEffect)((()=>{F(k,P,N,T)}),[N,S.title,f.configPins.length,k,P,T]);const j=S.hasUI(),L=j?4:0;let R=[];R=I?[15,4,4,15]:[k<=0||M?15:L,P<=0||M?15:L,P<=0||M?15:L,k<=0||M?15:L];const B=(0,s.wi)(f);let $;$=E?"#f6e1e1":j?"#FFF":_?"#ede9f9":M||I?"#eaf3db":"#FFFDE3";const z=f.style;let W=z.width,U=z.height;null==W&&(W=10),null==U&&(U=10);const V=f.state;return r().createElement(c.Group,{ref:e=>{e&&(f.$el=e)},opacity:B,x:z.left,y:z.top,width:W,height:U,onClick:(0,i.Wj)((e=>h(e,t))).stop,onContextMenu:(0,i.Wj)((e=>{h(e,t),y.showContextMenu(e,f)})).stop.prevent,onDblClick:(0,i.Wj)((e=>function(e){const{viewContext:t,model:n}=e,{viewModel:i,emitComponent:o}=t;if(n.isVar()){const e=i.searchDiagramByVar(n.forkedFrom);e&&o.reFocus(e)}else t.context.isDebugMode()||n.runtime.hasUI()&&t.emitComponent.sayHi(n.id,"toplView")}(t))).stop,_onMouseDown:(0,i.Wj)((e=>{(0,s.cT)(e,t)})).stop,_onError_:(e,t)=>{console.error(e),v.error(`组件异常:${e.message}`,e.stack.replace(/\/n/gi,"<br/>"))}},r().createElement(c.Rect,{width:W,height:U,x:.5,y:.5,fill:$,stroke:E?"#FF0000":V.isFocused()||V.isHovering()||e?b.themes.colorPrimary:f.isSingleton?"#a59bc4":"#777",strokeWidth:V.isFocused()||V.isHovering()||e?2.5:1,dash:E?[3,3]:null,cornerRadius:R}),r().createElement(r().Fragment,null,r().createElement(c.Group,{x:15,ref:e=>{}},w?r().createElement(c.Image,{src:w,maxWidth:13,maxHeight:13,y:-3}):null,_?r().createElement(c.Text,{text:"@",x:0,y:-2,fontSize:11,fill:"#999"}):null,r().createElement(c.Text,{text:O,x:w||_?17:0,y:0,fontSize:10,fill:E?"#FF0000":"#777",ref:e=>{e&&(C.current.titleNode=e)}}),T?r().createElement(c.Text,{text:T,x:(w?17:0)+12*O.length,y:0,fontSize:10,fill:"#BBB",ref:e=>{e&&(C.current.fromNode=e)}}):null),N?r().createElement(c.Text,{text:N.length>50?N.substring(0,50)+" ..":N,ref:e=>{e&&(C.current.descNode=e)},x:8,fontSize:10,fill:"#AAA"}):null),r().createElement(c.Group,{x:-7,y:10},r().createElement(s.G0,{model:f,context:b})),r().createElement(c.Group,{x:W+8,y:10},r().createElement(s.tY,{model:f})),S.upgrade?r().createElement(c.Circle,{x:W-8,y:U-8,width:11,height:11,fill:"#FF0000",stroke:"#FFF",strokeWidth:3}):null,r().createElement(u.A,{model:f}))}function h(e,t){const{viewContext:n,model:i}=t,o=i.diagramModel.focusedComAry;(!o||o.length<=1)&&n.emitComponent.focus(i)}},43315:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(91737),o=n(96966),r=n(64012),s=n.n(r),a=n(34929),l=n(67622),c=n(28394),d=n(66362),u=n(82881);function p({comContext:e}){var t;const{model:n,comDef:p,viewContext:{emitWindowEvents:h,context:m,emitLogs:g}}=e;(0,r.useMemo)((()=>{n.getConfigs=function(){return(0,l.J)(e)},n.getListeners=function(){if(m.isDesnMode())return(0,c.J)(e)},n.getCooperations=function(){return n}}),[]);const y=(0,r.useMemo)((()=>p.icon&&p.icon.toUpperCase().startsWith("HTTP")?p.icon:o.CK),[]);(0,i.HO)((()=>{let e;const t=n.ioProxyForCall;if(t)if(t.sceneId){if(m.configs.isTypeOfMPA()){const e=m.pageMetaModel.getSceneById(t.sceneId);e&&!e._deleteTime?e.title!==n.runtime.title&&(n.runtime.title=e.title):n._exeInfo={errorMsg:"场景已删除"}}}else if(t.frameId&&t._todo_){if(m.configs.isTypeOfMPA()){const e=m.pageMetaModel.getSceneById(t.frameId);e&&!e._deleteTime?e.title!==n.runtime.title&&(n.runtime.title=e.title):n._exeInfo={errorMsg:"场景已删除"}}}else if(t.frame){const t=n.ioProxyForCall;if(e=t.frame,!e)return;const i=n.inputPins[0]||n.inputPinsInModel[0];if(e.inputPins.length>0){const t=e.inputPins[0];i.schema=t.schema}t._inputs&&Object.keys(t._inputs).forEach((i=>{const o=t._inputs[i],r=e.inputPins.find((e=>e.hostId===o));if(r&&!n._inputPins.find((e=>e.hostId===i))){n.add_InputPin({hostId:i,title:r.title,schema:r.schema}).proxyPin=r}})),e.outputPins.forEach((e=>{if(!n.outputPinsInModel.find((t=>t.hostId===e.hostId))&&e.conAry.length>0){n.addOutputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyForPin=e}}));const o=n.outputPinsInModel.filter(((t,n)=>{const i=e.outputPins.find((e=>e.hostId===t.hostId));return!i||i.conAry.length<=0}));o.length>0&&o.forEach((e=>{e.destroy(),n.removeOutputPin(e.hostId)}))}}));const b=(0,i.HO)((()=>{var e;let t=null===(e=n._exeInfo)||void 0===e?void 0:e.errorMsg;return t||(t=n.checkHasError()),t})),v=(0,r.useRef)({titleNode:void 0,descNode:void 0}),x=(0,r.useCallback)((()=>{const e=n.style;let t=60;v.current.titleNode&&(t=Math.max(t,v.current.titleNode.width()+40)),v.current.titleNode&&(t=Math.max(t,v.current.titleNode.width()+40));const i=v.current.descNode;if(i){t=Math.max(t,i.width()+10);const o=i.height()+10+i.y();o>e.height&&n.setHeight(Math.round(o))}n.setWidth(t)}),[]);(0,r.useLayoutEffect)(x,[]);const A=n.runtime.hasUI(),[w,E]=(0,i.HO)((()=>{var t;const i=m.isDebugMode()&&(null===(t=n._exeInfo)||void 0===t?void 0:t.errorMsg),o=n.inputPinExts,r=n.inputPinsInModel,s=n.outputPinExts,a=n.outputPinsInModel,l=n.outputPinNexts,c=n.inputPins.length+(o?o.length:0)+(r?r.length:0),d=n.outputPins.length+(s?s.length:0)+(a?a.length:0)+(l?l.length:0),u=Math.max(c,d);let p=Math.max(20*u+5,i?100:25);n.description&&(A?p<70&&(p+=10):p<50&&(p+=10));const f=p/2+(n.description?-11:-4);e.titleY=f;const h=v.current.descNode;if(h){const e=h.height()+10+h.y();e>p?n.setHeight(Math.round(e)):n.setHeight(p)}else n.setHeight(p);return[c,d]})),C=(n.isAutoRun(),[0,E<=0?10:0,E<=0?10:0,0]),_=null===(t=n.ioProxyForCall)||void 0===t?void 0:t.frame,M=(null==_?void 0:_.diagramAry.length)>0?_.diagramAry[0].title:n.runtime.title,I=n.style;let k=I.width,P=I.height;return null==k&&(k=10),null==P&&(P=10),s().createElement(d.Group,{ref:n.set$elOnce,x:I.left,y:I.top,width:k,height:P,onClick:(0,i.Wj)((t=>f(e))).stop,onDblClick:(0,i.Wj)((t=>function(e){const{model:t,viewContext:n}=e,{emitScenes:i}=n,o=t.ioProxyForCall;o&&o.frame&&i.switch(o.frame.id)}(e))).stop,onContextMenu:(0,i.Wj)((t=>{f(e),h.showContextMenu(t)})).stop.prevent,_onMouseDown:t=>{(0,a.cT)(t,e)},_onError_:(e,t)=>{console.error(e),g.error(`组件异常:${e.message}`,e.stack.replace(/\/n/gi,"<br/>"))}},s().createElement(d.Rect,{width:k,height:P,x:.5,y:.5,fill:A?"#FFF":"#f4f8ee",stroke:b?"#FF0000":n.state.isFocused()?m.themes.colorPrimary:"#777",strokeWidth:n.state.isFocused()?2.5:1,dash:b?[3,3]:null,cornerRadius:C}),b?s().createElement(d.Text,{text:`${b}`,width:k-10,y:8,x:5,fontSize:10,fill:"#FF0000",wrap:"char",align:"center"}):s().createElement(s().Fragment,null,s().createElement(d.Group,{y:e.titleY,ref:e=>{e&&e.x((k-(v.current.titleNode.width()+(A?20:0)))/2)}},A?s().createElement(d.Image,{src:y,maxWidth:16,y:-5}):null,s().createElement(d.Text,{text:M,x:A?17:0,y:0,fontSize:10,fill:"#777",ref:e=>{e&&(v.current.titleNode=e)}})),n.description?s().createElement(d.Text,{text:n.description.length>50?n.description.substring(0,50)+" ..":n.description,ref:e=>{e&&(v.current.descNode=e)},y:e.titleY+14,x:5,fontSize:10,fill:"#AAA"}):null),s().createElement(d.Group,{x:-7,y:10},s().createElement(a.G0,{model:n})),s().createElement(d.Group,{x:k+7,y:10},s().createElement(a.tY,{model:n})),s().createElement(u.A,{model:n}))}function f(e){const{viewContext:t,model:n}=e,i=n.diagramModel.focusedComAry;(!i||i.length<=1)&&t.emitComponent.focus(n)}},28090:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(64012),r=n.n(o),s=n(34929),a=n(67622),l=n(28394),c=n(66362),d=n(82881);function u({highlight:e,comContext:t}){var n,u;const{model:f,viewContext:{emitWindowEvents:h,context:m,emitLogs:g}}=t;(0,o.useMemo)((()=>{f.getConfigs=function(){return(0,a.J)(t)},f.getListeners=function(){if(m.isDesnMode())return(0,l.J)(t)}}),[]),(0,i.HO)((()=>{if(f.ioProxy){const e=f.ioProxy;e.inputPins.forEach((e=>{if(!f.inputPinsInModel.find((t=>t.hostId===e.hostId)))if(e.isTypeOfConfig());else{f.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyPin=e}}));let t=f.inputPinsInModel.filter(((t,n)=>{if(!e.inputPins.find((e=>e.hostId===t.hostId)))return!0}));t.length>0&&t.forEach((e=>{e.destroy(),f.removeInputPin(e.hostId)})),e.outputPins.forEach((e=>{if(!f.outputPinsInModel.find((t=>t.hostId===e.hostId))){f.addOutputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyForPin=e}})),t=f.outputPinsInModel.filter(((t,n)=>!e.outputPins.find((e=>e.hostId===t.hostId)))),t.length>0&&t.forEach((e=>{e.destroy(),f.removeOutputPin(e.hostId)}))}}));let y,b=f.checkHasError();t.errorMsg?b=t.errorMsg:m.isDebugMode()&&(b=null===(n=f._exeInfo)||void 0===n?void 0:n.errorMsg);let v=b||f.description;const x=null===(u=f.ioProxy)||void 0===u?void 0:u.diagramAry[0];x||(b="服务不存在"),b||(y=x.title,v||f.runtime.title!==x.title&&(y=f.runtime.title,v=x.title));const A=(0,o.useRef)({titleNode:void 0,errorNode:void 0,descNode:void 0}),[w,E]=(0,i.HO)((()=>{var e;const n=m.isDebugMode()&&(null===(e=f._exeInfo)||void 0===e?void 0:e.errorMsg),i=f.inputPinExts,o=f.inputPinsInModel,r=f.outputPinExts,s=f.outputPinsInModel,a=f.outputPinNexts,l=f.inputPins.length+(i?i.length:0)+(o?o.length:0),c=f.outputPins.length+(r?r.length:0)+(s?s.length:0)+(a?a.length:0),d=Math.max(l,c);let u=Math.max(20*d+5,n?100:25);f.description&&u<50&&(u+=10);const p=A.current.descNode;if(p){const e=p.height()+10+p.y();e>u?f.setHeight(Math.round(e)):f.setHeight(u)}else f.setHeight(u);return t.titleY=u/2-4,[l,c]})),C=(f.isAutoRun(),[0,E<=0?10:0,E<=0?10:0,0]),_=(0,o.useCallback)((()=>{const e=f.style;let n=60;A.current.titleNode&&(n=Math.max(n,A.current.titleNode.width()+40));const i=A.current.descNode;if(i){n=Math.max(n,i.width()+40);const o=i.height()+10+i.y();o>e.height&&f.setHeight(Math.round(o)),t.titleY-=i.height()/2}const o=A.current.errorNode;if(o){n=Math.max(n,o.width()+10);const t=o.height()+10+o.y();t>e.height&&f.setHeight(Math.round(t))}f.setWidth(n)}),[]);(0,o.useLayoutEffect)(_,[f.runtime.title,null==x?void 0:x.title,w,E,v,b]);const M=f.style;let I=M.width,k=M.height;return null==I&&(I=10),null==k&&(k=10),r().createElement(c.Group,{ref:f.set$elOnce,x:M.left,y:M.top,width:I,height:k,onClick:(0,i.Wj)((e=>p(t))).stop,onContextMenu:(0,i.Wj)((e=>{p(t),h.showContextMenu(e)})).stop.prevent,onDblClick:(0,i.Wj)((e=>function(e){var t;const{viewContext:n,model:i}=e,{emitComponent:o}=n,r=null===(t=i.ioProxy)||void 0===t?void 0:t.diagramAry[0];o.reFocus(r)}(t))).stop,_onMouseDown:e=>{(0,s.cT)(e,t)},_onError_:(e,t)=>{console.error(e),g.error(`组件异常:${e.message}`,e.stack.replace(/\/n/gi,"<br/>"))}},r().createElement(c.Rect,{width:I,height:k,x:.5,y:.5,fill:"#e3f0fd",stroke:b?"#FF0000":f.state.isFocused()||e?m.themes.colorPrimary:"#777",strokeWidth:f.state.isFocused()||e?2.5:1,dash:b?[3,3]:null,cornerRadius:C}),b?r().createElement(c.Text,{text:`${b}`,ref:e=>{e&&(A.current.errorNode=e)},width:I-10,y:8,x:5,fontSize:10,fill:"#FF0000",wrap:"char",align:"center"}):r().createElement(r().Fragment,null,r().createElement(c.Group,{y:t.titleY,x:13},x?r().createElement(r().Fragment,null,r().createElement(c.Text,{text:"fx",x:0,y:-1,fontSize:12,fill:"#999"}),r().createElement(c.Text,{text:`${y}`,x:14,y:0,fontSize:10,fill:"#777",ref:e=>{e&&(A.current.titleNode=e)}})):null),v?r().createElement(c.Text,{text:v.length>50?v.substring(0,50)+" ..":v,ref:e=>{e&&(A.current.descNode=e)},y:t.titleY+14,x:25,fontSize:10,fill:"#AAA"}):null),r().createElement(c.Group,{x:-7,y:10},r().createElement(s.G0,{model:f})),r().createElement(c.Group,{x:I+7,y:10},r().createElement(s.tY,{model:f})),x?r().createElement(d.A,{model:f}):null)}function p(e){const{viewContext:t,model:n}=e;t.emitComponent.focus(n)}},33010:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(64012),r=n(34929),s=n(67622),a=n(28394),l=n(21523),c=n(66362),d=n(64012);function u({comContext:e}){const{model:t,comDef:n,context:u}=e;(0,o.useEffect)((()=>{t.getConfigs=function(){return(0,s.J)(e)},t.getListeners=function(){if(u.isDesnMode())return(0,a.J)(e)}}),[]);const h=t instanceof l.default&&t.isStartInDiagram()?"start":void 0;return d.createElement(c.Group,{ref:e=>e&&(t.$el=e),onClick:(0,i.Wj)(p).stop,onDoubleClick:(0,i.Wj)(f).stop},d.createElement(r.tY,{model:t,type:h}))}function p(e){const{model:t,emitItem:n,emitSnap:o}=(0,i.lB)(r.zd);n.focus(t)}function f(e){const{model:t,comDef:n,context:o,emitItem:s,emitSnap:a}=(0,i.lB)(r.zd);o.isDebugMode()||o.isDesnMode()&&s.focusFork(t)}},40513:(e,t,n)=>{"use strict";n.d(t,{KU:()=>l,Q:()=>a});var i=n(14046),o=n(51807),r=n(91716),s=n(91737);const a=function(e,t,n){setTimeout((()=>{c(e,t,n)}))},l=function(e,t,n){requestAnimationFrame((()=>{c(e,t,n)}))};function c(e,t,n){if(e instanceof i.U){let i;if(!e.diagramModel||!e.diagramModel.$el)return;i=(0,s.oT)(e.diagramModel.$el),e.timerInputPin&&d(i,e.timerInputPin,t,n),e.configPins&&e.configPins.forEach((e=>{d(i,e,t,n)})),r.DO.each((e=>{d(i,e,t,n)}),...e.getInputsAll()),r.DO.each((e=>{u(i,e,t,n)}),...e.getOutputsAll())}else if(e instanceof o.l){if(!e.diagramAry[0].$el)return;const i=(0,s.oT)(e.diagramAry[0].$el);r.DO.each((e=>{u(i,e,t,n)}),e.inputPins),r.DO.each((e=>{d(i,e,t,n)}),e.outputPins)}}function d(e,t,n,i){if(!t.hadDestroyed()&&!t.isDisabled()){const o=t.$el;if(!o)return;const r=(0,s.oT)(o);if(!r)return;let a;a=t.isTypeOfConfig()?{temp:i,x:Math.round((r.x-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()}:{temp:i,x:Math.round((r.x-o.width()/2-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()},t.conAry.forEach((e=>{e.finishPo=a}))}}function u(e,t,n,i){if(!t.hadDestroyed()&&!t.isDisabled()){const o=t.$el;if(o){const r=(0,s.oT)(o);if(r){const s={temp:i,x:Math.round((r.x+o.width()/2-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()};t.conAry.forEach((e=>{e.startPo=s}))}}}}},83532:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});n(42826);var i=n(91737),o=(n(36938),n(98058)),r=n(38570),s=(n(64012),n(63916)),a=(n(64012),function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}),l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends o.A{constructor(e,t,n){super(),e&&(this.conModel=e,this.content=t,this.po=n,this.refreshRatio())}refreshRatio(){let e=0,t=0;const n=10,{x:i,y:o}=this.po;(0,s.PO)(this.conModel.points,((r,{x:s,y:a},l)=>{"h"===r?(Math.abs(o-a)<=n&&(Math.min(s,l.x,i)!==o&&Math.max(s,l.x,i)!==i||Math.abs(Math.min(s,l.x)-i)<=n||Math.abs(Math.max(s,l.x)-i)<=n)&&(t=e+i-Math.min(s,l.x)),e+=Math.abs(s-l.x)):(Math.abs(i-s)<=n&&(Math.min(a,l.y,o)!==o&&Math.max(a,l.y,o)!==o||Math.abs(Math.min(a,l.y)-o)<=n||Math.abs(Math.max(a,l.y)-o)<=n)&&(t=e+o-Math.min(a,l.y)),e+=Math.abs(a-l.y))}));let r=t/this.conModel.length;(r>=1||0==r)&&(r=.5),this.ratio=r}focus(){this.state.focus()}blur(){this.state.enable()}};c=a([(0,i.yL)(r.MS+"topl.con.CommentModel"),l("design:paramtypes",[Object,String,Object])],c)},66024:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(91737),o=n(96966),r=n(64012),s=n.n(r),a=n(84293),l=n(19608),c=n(91716),d=(n(63916),n(66362)),u=n(38570),p=n(27328),f=n(6002),h=n(14046),m=n(19730),g=n(64799);class y{}function b({model:e}){const t=(0,i.lB)(p.A,{from:"parents"}),n=(0,i.J2)(y,(n=>n({viewContext:t,model:e})),{to:"children"}),{context:o,hintConnection:c}=t;if((0,r.useMemo)((()=>{e.getListeners=function(){if(o.isDesnMode())return(0,a.P)(n)},e.getConfigs=function(){return(0,l.J)(n)}}),[]),(0,r.useEffect)((()=>{e.state.isFocused()&&o.isDesnMode()&&(o.focusOn(e)||e.state.enable())}),[o.getMode()]),e.isTemp||e.startPin&&e.finishPin)return s().createElement(v,{conContext:n})}function v({conContext:e}){var t;const{model:n,viewContext:a}=e,{context:l,hintConnection:p,emitComponent:y,emitLogs:b}=a,v=null===(t=n.finishPin)||void 0===t?void 0:t.isTypeOfTimer(),w=(0,i.HO)((()=>{const e=n.finishPin,t=n.startPo,i=n.finishPo;if(i){const o={x:t.x/1,y:t.y/1},r={x:i.x/1,y:i.y/1},s={x:o.x,y:o.y},a={x:r.x,y:r.y},l=70;if(e){if(n.midPoints){const e=[];let t,i;e.push(`M${o.x} ${o.y} L${s.x} ${s.y}`);const l=r.x>o.x?-1:1;n.midPoints.forEach(((n,r)=>{const a=n.x/1,c=n.y/1,d=Math.ceil(Math.abs(o.y-c));e.push(`C${s.x+d} ${s.y} ${a+l*d} ${c} ${a} ${c}`),t=a,i=c}));const c=Math.ceil(Math.abs(a.y-i));return e.push(`C${t-l*c} ${i} ${a.x-c} ${a.y} ${a.x} ${a.y}`),e.join(" ")}if(n.isBreakpoint){const e=[],t=[],n=a.x-(a.x-s.x)/2,i=a.y-(a.y-s.y)/2;return e.push(`M${o.x} ${o.y} L${s.x} ${s.y}`),e.push(`C${s.x+l/2} ${s.y} ${n} ${i} ${n} ${i}`),t.push(`M${n} ${i} L${n} ${i}`),t.push(`C${n} ${i} ${a.x-l/2} ${a.y} ${a.x} ${a.y}`),[e.join(" "),t.join("")]}{const e=[];return e.push(`M${o.x} ${o.y} L${s.x} ${s.y}`),e.push(`C${s.x+l} ${s.y} ${a.x-l} ${a.y} ${a.x} ${a.y}`),e.join(" ")}}{const e=[];return e.push(`M${o.x} ${o.y}`),e.push(`C${s.x+20} ${s.y} ${a.x-20} ${a.y} ${a.x} ${a.y}`),e.join(" ")}}}));(0,i.HO)((()=>{n.state.isFocused()&&p(n)}));const E=(0,r.useCallback)((e=>{const t=n.startPin,r=n.finishPin;if(t&&r){let n,s;if(n=t.proxyForPin?t.proxyForPin.schema:t.schema,!n)return;if(s=r.proxyForPin?r.proxyForPin.schema:r.schema,!s)return;const a=t.parent,l=r.parent;if(a instanceof h.U&&l instanceof h.U){if(a===l)return;const e=a.forkedFrom,t=l.forkedFrom;if(e&&e===l)return;if(e&&t&&e===t)return}(n.type!==s.type||e)&&(!t._schemaFollow||(0,f.sA)(s)||(0,f.vp)(n,s)||(0,c.g8)(s)||t instanceof g.A||requestAnimationFrame((e=>{if(t instanceof m.default&&1===t.forkedFrom.conAry.length||!(t instanceof m.default)&&1===t.conAry.length){const e=(0,i.o8)(s);t.parent instanceof h.U?y.updatePinSchema("outputs",t.parent.id,t.hostId,e):y.updateFramePinSchema("outputs",t,e),t.isTypeOfConfig()&&r.isTypeOfConfig()&&(t.editor=r.editor),b.info(`更新了输出项 ${t.title} 的类型描述.`)}})),!r._schemaFollow||(0,f.sA)(n)||(0,f.vp)(n,s)||(0,c.g8)(n)||requestAnimationFrame((e=>{if(r instanceof m.default&&1===r.forkedFrom.conAry.length||!(r instanceof m.default)&&1===r.conAry.length){const e=(0,i.o8)(n),t=r.parent;t instanceof h.U?t.runtime.def.namespace===o.ZD.coms.frameOutput?y.updateFramePinSchema("inputs",r.proxyPin,e):y.updatePinSchema("inputs",t.id,r.hostId,e):r.schema=e,b.info(`更新了输入项 ${r.title} 的类型描述.`)}})))}}),[]);(0,i.HO)((()=>{if(l.isDebugMode()||n.isTemp)return;let e;const t=n.startPin,i=n.finishPin;if(t&&i){let o,r;if(o=t.proxyForPin?t.proxyForPin.schema:t.schema,!o)return;if(r=i.proxyForPin?i.proxyForPin.schema:i.schema,!r)return;if("any"===o.type)return void(n.errorInfo&&(n.errorInfo=void 0));if(!(0,f.vp)(o,r)){if((0,f.LN)(o,r))return void(n.errorInfo&&(n.errorInfo=void 0));e="Error schema",E(!0)}t.parent instanceof h.U&&t.parent.hasError()&&(e="Error Component");const s=i.parent;s instanceof h.U&&s.hasError()&&(e="Error Component"),n.errorInfo=e}})),(0,r.useLayoutEffect)((()=>{setTimeout(E)}),[]);const C=(0,i.HO)((()=>{if(l.isDebugMode()&&n.exe)return!0}));let _=1;const M=(0,i.HO)((()=>{const e=n.startPin,t=n.finishPin,i=e.schema,o=(0,u.t5)(i.type);let r;if(l.isDebugMode()?n.exe&&(r=l.themes.colorPrimary):n.state.isFocused()&&(r=l.themes.colorPrimary),r)return r;if(!t)return o.strokeColor;const s=t.schema;if(i.type!==s.type&&"any"!==s.type){const e=(0,u.t5)(s.type),t=n.startPo,i=n.finishPo;r=document.createElement("canvas").getContext("2d").createLinearGradient(t.x,t.y,i.x,i.y),r.addColorStop(0,o.strokeColor),r.addColorStop(.4,o.strokeColor),r.addColorStop(.6,e.strokeColor),r.addColorStop(1,e.strokeColor)}else r=o.strokeColor;return r})),I=(0,i.HO)((()=>{let e=1;return l.isDebugMode()?n.exe&&(e=2):n.state.isFocused()&&(e=2),e}));let k;n.isIgnored&&(_=.2),n.isIgnored?k=[5,5]:n.errorInfo&&!C&&(k=[3,3]);const P=(0,i.HO)((()=>n.isVisible()?1:.2)),F=(0,r.useCallback)((()=>{a.emitComponent.focus(n)}),[]),S=e=>({data:e,stroke:n._breakpointActive?l.themes.colorPrimary:M,opacity:_,hitStrokeWidth:20,dash:k,strokeWidth:n._breakpointActive?2:I,onClick:(0,i.Wj)(F).stop.prevent,onContextMenu:(0,i.Wj)((e=>{F(e),a.emitWindowEvents.showContextMenu(e)})).stop.prevent,onMouseDown:(0,i.Wj)().stop});return v?s().createElement(d.Group,{ref:n.set$elOnce,opacity:P},Array.isArray(w)?s().createElement(s().Fragment,null,s().createElement(d.Path,Object.assign({},S(w[0]),{dash:[15,3,3,3]})),s().createElement(d.Path,Object.assign({},S(w[1]),{dash:[15,3,3,3]}))):s().createElement(d.Path,Object.assign({},S(w),{dash:[15,3,3,3]})),s().createElement(A,{model:n,tvCtx:a})):s().createElement(d.Group,{ref:n.set$elOnce,opacity:P},Array.isArray(w)?s().createElement(s().Fragment,null,s().createElement(d.Path,Object.assign({},S(w[0]))),s().createElement(d.Path,Object.assign({},S(w[1])))):s().createElement(d.Path,Object.assign({},S(w))),n.state.isFocused()?s().createElement(x,{model:n,tvCtx:a}):null,s().createElement(A,{model:n,tvCtx:a}))}function x({model:e,tvCtx:t}){const{emitSnap:n,context:o}=t,a=(0,r.useCallback)(((t,o)=>{let r,s,a;(0,i.zg)(t,(({po:{x:t,y:i},epo:{ex:l,ey:c},dpo:{dx:d,dy:u},adpo:{adx:p,ady:f}},h)=>{if("start"===h)return s=o.x,void(a=o.y);"moving"==h&&(r||(r=n.start("移动",{target:e})),o.x=s+p,o.y=a+f),"finish"==h&&r&&r.commit()}))}),[]);if(e.midPoints){const t=e.startPin,n=(e.finishPin,t.schema);let r;const l=(0,u.t5)(n.type);return r=e.state.isFocused()?o.themes.colorPrimary:l.strokeColor,e.midPoints.map(((e,t)=>s().createElement(d.Circle,{key:t,x:e.x,y:e.y,width:9,strokeWidth:1,stroke:r,fill:"#FFF",_onMouseDown:(0,i.Wj)((t=>{a(t,e)})).stop})))}}function A({model:e,tvCtx:t}){const{context:n}=t,o=(0,r.useRef)({}),a=(0,r.useCallback)((()=>{t.emitComponent.focus(e)}),[]),l=(0,i.HO)((()=>{var r;const l=[];if(e.isBreakpoint){const c=e.startPo,u=e.finishPo;if(u){const p=e.midPoints;let f,h;if((null==p?void 0:p.length)>0)f=p[0].x,h=p[0].y;else{const e=Math.min(c.x,u.x),t=Math.min(c.y,u.y);f=e+Math.abs(c.x-u.x)/2,h=t+Math.abs(c.y-u.y)/2}l.push(s().createElement(d.Circle,{key:"c",x:f,y:h,width:15,fill:(null===(r=t.debugger)||void 0===r?void 0:r._ignoreAll)?"#EEE":n.themes.colorPrimary,onClick:(0,i.Wj)(a).stop.prevent,listening:!1,onMouseDown:(0,i.Wj)().stop})),l.push(s().createElement(d.Circle,{key:"c1",listening:!1,ref:e=>{e&&(o.current.el=e)},x:f,y:h,width:15})),l.push(s().createElement(d.Text,{key:"t",listening:!1,text:"|",x:f-2,y:h-5,fontSize:10,fontStyle:600,fill:"#FFF",opacity:.9}))}}return l}));return(0,r.useEffect)((()=>{const t=o.current;if(e._breakpointActive){const e=t.el;let i=15,o=1;e.fill(n.themes.colorPrimary);const r=new d.Konva.Animation((t=>{e.width(i+=.5),e.opacity(o-=.02),i>30&&(i=15,o=1)}),e.getLayer());r.start(),t.anim=r}else t.anim&&(t.anim.stop(),t.el.fill(),t.el.width(15),t.el.opacity(1))}),[e._breakpointActive]),l}},60599:(e,t,n)=>{"use strict";n.d(t,{E:()=>A});var i,o,r,s,a=n(91737),l=n(98058),c=n(54706),d=n(51807),u=n(56919),p=n(96979),f=n(38570),h=n(93343),m=n(63916),g=n(83532),y=n(14046),b=n(19730),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let A=i=class extends l.A{get startPinParentKey(){return this.startPin.parent._key}get finishPinParentKey(){return this.finishPin.parent._key}constructor(e){if(super(),this._type=c.C9.CONNECTION,this._ing=!1,this.commentAry=[],e){const{startPin:t,finishPin:n,_startPo:i,_finishPo:o,errorInfo:r}=e;this.startPin=t,this.finishPin=n,this.errorInfo=r,this._startPo=i,this._finishPo=o}}activeBreakPoint(){this.isBreakpoint&&(this._breakpointActive=!0)}disableBreakPoint(){this.isBreakpoint&&(this._breakpointActive=!1)}emphasize(){this.opacity=1}emphasizeRecover(){this.opacity=void 0}get startPo(){return this._startPo}set startPo(e){(0,m.av)(this._startPo,e)||(this._startPo=e)}get finishPo(){return this._finishPo}set finishPo(e){(0,m.av)(this._finishPo,e)||(this._finishPo=e)}connecting(){this._ing=!0}connectFinish(){this._ing=!1}get conSelf(){var e,t;return(null===(e=this.startPin)||void 0===e?void 0:e.parent)===(null===(t=this.finishPin)||void 0===t?void 0:t.parent)}get titlePo(){if(this._startPo&&this._finishPo)return{x:Math.min(this._finishPo.x,this._startPo.x)+Math.abs(this._finishPo.x-this._startPo.x)/2,y:Math.min(this._finishPo.y,this._startPo.y)+Math.abs(this._finishPo.y-this._startPo.y)/2}}isVisible(){return!(this.startPin.parent instanceof y.U)||this.startPin.parent.isVisible()}static create(e,t,n,o){const r=new i;return e&&(r.startPin=e,n&&(e instanceof u.x?e.addCon(r):e.to=r)),t&&(r.startPo=Object.assign({j:10},t)),n&&(r.finishPin=n,n instanceof u.x?n.addCon(r):n.from=r),o&&(r.finishPo=Object.assign({j:10},o)),e&&n&&(r.title=`从 ${e.title} 到 ${n.title} 的连接`),r}enable(){this.state.enable()}disable(){this.state.disable()}focus(){this.state.isDisabled()||this.state.isFocused()||(this.state.focus(),this.startPin.focus(!0),this.finishPin.focus(!0))}blur(){this.state.isFocused()&&(super.blur(),this.startPin.blur(),this.finishPin.blur(),this.commentAry&&this.commentAry.forEach((e=>{e.blur()})))}addComment(e,{x:t,y:n}){const i=new g.j(this,e,{x:t,y:n});return this.commentAry.push(i),i.focus(),i}removeComment(){this.commentAry=this.commentAry.filter((e=>!e.state.isFocused()))}reset(){let e=(0,m.kw)(this._startPo,this._finishPo,"z",this.conSelf);this.refactorPoints(e)}clearDebugHints(){this.exeForLast=this.exe,this.exe=void 0,this._breakpointActive=!1,this.exeScope=void 0;const{startPin:e,finishPin:t}=this;e instanceof b.default&&e.clearDebugHints(),t instanceof b.default&&(t.clearDebugHints(),t.parent instanceof y.U&&t.parent.forkedFrom&&t.parent.clearDebugHints())}calControllers(){const e=[],t=this.points;return t.forEach(((n,i)=>{if(i>1&&i<t.length-1){let o=t[i-1];o.x==n.x?e.push({type:"v",endPoints:[o,n],allPoints:t}):e.push({type:"h",endPoints:[o,n],allPoints:t})}})),(0,m.tQ)(e),e}refreshComments(){if(this.commentAry.length>0){const e=this.length;let t,n=0;(0,m.PO)(this.points,((i,{x:o,y:r},s)=>{"h"===i?(t=Math.abs(o-s.x),this.commentAry.forEach((i=>{const a=e*i.ratio;if(n<a&&a<n+t){let e;e=o<s.x?Math.max(o,s.x)-(a-n):Math.min(o,s.x)+(a-n),i.po={x:e,y:r}}})),n+=t):(t=Math.abs(r-s.y),this.commentAry.forEach((i=>{const a=e*i.ratio;if(n<a&&a<n+t){let e;e=r<s.y?Math.max(r,s.y)-(a-n):Math.min(r,s.y)+(a-n),i.po={x:o,y:e}}})),n+=t)}))}}refactorPoints(e){e=e.map((e=>(0,m.nM)(e,!0)));let t=0,n=function(e){let t=[];return e.length,e.length<=3?(e=e.map(((t,n)=>0==n||n==e.length-1?(0,m.nM)(t):t)))[0].y==e[e.length-1].y?[e[0],e[e.length-1]]:e:e.length<=4&&Math.abs(e[0].x-e[e.length-1].x)<=15?e.map(((t,n)=>0==n||n==e.length-1?(0,m.nM)(t):t)):(e.forEach(((e,n)=>{if(0==n)return void t.push(e);const i=t[t.length-1];let o=i.x-e.x,r=i.y-e.y;0==o&&0==r||t.push(e)})),t)}(e);n.forEach(((e,i)=>{if(i>0){let o=n[i-1];o.x==e.x?t+=Math.abs(o.y-e.y):t+=Math.abs(o.x-e.x)}})),this.length=t,this.points=n}toJSON(e){const t=this.startPin,n=this.finishPin;if(e){let e,i;e=t.parent instanceof d.l?"frame":t.parent instanceof y.U?"com":"diagram",i=n.parent instanceof d.l?"frame":n.parent instanceof y.U?"com":"diagram";let o,r={id:t.id,hostId:t.hostId,parentType:e,parentId:t.parent.id};return o="diagram"===i?{id:n.id,hostId:n.hostId,parentType:"frame",parentId:n.parent.parent.id}:{id:n.id,hostId:n.hostId,parentType:i,parentId:n.parent.id},{id:this.id,_type:this._type,title:this.title,parent:{id:this.parent.id},startPinParentKey:this.startPinParentKey,finishPinParentKey:this.finishPinParentKey,startPin:r,finishPin:o}}{let e;if(t instanceof p.U){const n=t.parent.parent;e={type:"frame",id:t.parent.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}else if(t.parent instanceof y.U){const n=t.parent;e={type:"com",id:n.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}else{const n=t.parent.parent;e={type:"frame",id:t.parent.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}const i={id:t.id,hostId:t.hostId,title:t.title,type:this.startPin instanceof u.x?"pin":"joint",parent:e};let o;if(n instanceof p.U){const e=n.parent.parent;o={type:"frame",id:n.parent.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}else if(n.parent instanceof y.U){const e=n.parent;o={type:"com",id:e.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}else{const e=n.parent.parent;o={type:"frame",id:n.parent.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}return{from:i,to:{id:n.id,hostId:n.hostId,title:n.title,type:n instanceof u.x?"pin":"joint",parent:o},parent:{id:this.parent.id},errorInfo:(0,a.o8)(this.errorInfo),_points:(0,a.o8)(this._points),_startPo:(0,a.o8)(this._startPo),_finishPo:(0,a.o8)(this._finishPo)}}}destroy(){super.destroy(),this.parent.delete(this),this.startPin instanceof u.x&&this.startPin.deleteCon(this),this.finishPin instanceof u.x&&this.finishPin.deleteCon(this)}};v([a.Nt,x("design:type",Object)],A.prototype,"opacity",void 0),v([a.Nt,x("design:type","function"==typeof(o=void 0!==h.F&&h.F)?o:Object)],A.prototype,"_startPo",void 0),v([a.Nt,x("design:type","function"==typeof(r=void 0!==h.F&&h.F)?r:Object)],A.prototype,"_finishPo",void 0),v([a.Nt,x("design:type",Boolean)],A.prototype,"_breakpointActive",void 0),v([a.Nt,x("design:type",Object)],A.prototype,"exe",void 0),v([a.Nt,x("design:type",Object)],A.prototype,"exeForLast",void 0),v([a.Nt,x("design:type","function"==typeof(s=void 0!==c.eQ&&c.eQ)?s:Object)],A.prototype,"exeScope",void 0),v([a.Nt,x("design:type",Array)],A.prototype,"exeTodo",void 0),A=i=v([(0,a.yL)(f.MS+"topl.ConModel"),x("design:paramtypes",[Object])],A)},30039:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(66024),o=n(66362),r=n(64012),s=n(64012);function a({diagramModel:e}){const t=(0,r.useMemo)((()=>e.conAry.map(((e,t)=>s.createElement(i.A,{key:e.id,model:e})))),[e.conAry.length]);return s.createElement(o.Group,null,t)}},93343:()=>{},63916:(e,t,n)=>{"use strict";n.d(t,{PO:()=>r,av:()=>s,kw:()=>l,nM:()=>o,tQ:()=>a});var i=n(91716);function o(e,t){return Object.assign({},e,t?null:{id:(0,i.uR)(),fixed:!1})}function r(e,t){let n;e.forEach((e=>{if(!n)return void(n=e);const{x:i,y:o,d:r}=e;i===n.x&&o===n.y||(o===n.y?t("h",e,n):i===n.x&&t("v",e,n),n=e)}))}function s(e,t){return!e&&!t||!(!e||!t||e.x!==t.x||e.y!==t.y)}function a(e){e.forEach((e=>{let t=e.endPoints;e.x=t[0].x+(t[1].x-t[0].x)/2,e.y=t[0].y+(t[1].y-t[0].y)/2}))}function l(e,t,n="z",o){if(!e||!t)return;e=Object.assign({j:0},e);let r=(t=Object.assign({j:0},t)).x-e.x,s=t.y-e.y,a=Math.abs(t.x-e.x),l=Math.abs(t.y-e.y),c=o?Math.max(Math.floor(l/2),50):Math.floor(l/2),d=[];if(r>e.j+t.j){let i=(a-e.j-t.j)/2;s>0?"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j+i,y:e.y},{x:e.x+e.j+i,y:e.y+l},{x:t.x-t.j,y:e.y+l},{x:t.x,y:e.y+l}]:"-|"===n?d=[{x:e.x,y:e.y},{x:t.x,y:e.y},{x:t.x,y:e.y+l}]:"|-"===n&&(d=[{x:e.x,y:e.y},{x:e.x,y:e.y+l},{x:t.x-t.j,y:e.y+l},{x:t.x,y:e.y+l}]):"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j+i,y:e.y},{x:e.x+e.j+i,y:e.y-l},{x:t.x-t.j,y:e.y-l},{x:t.x,y:e.y-l}]:"-|"===n?d=[{x:e.x,y:e.y},{x:t.x-30,y:e.y},{x:t.x-30,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]:"|-"===n&&(d=[{x:e.x,y:e.y},{x:e.x,y:e.y-l},{x:t.x-t.j,y:e.y-l},{x:t.x,y:e.y-l}])}else if(r>0){let i=e.j+t.j-r;d=s>0?"-|"===n?[{x:e.x,y:e.y},{x:t.x,y:e.y},{x:t.x,y:e.y+l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y+c},{x:e.x+e.j-i,y:e.y+c},{x:e.x+e.j-i,y:e.y+l},{x:t.x,y:e.y+l}]:"-|"===n?[{x:e.x,y:e.y},{x:t.x-30,y:e.y},{x:t.x-30,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-c},{x:e.x+e.j-i,y:e.y-c},{x:e.x+e.j-i,y:e.y-l},{x:t.x,y:e.y-l}]}else a+=e.j+t.j-1,s>0?d="-|"===n?[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-20},{x:t.x,y:e.y-20},{x:t.x,y:e.y+l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y+c},{x:e.x+e.j-a-1,y:e.y+c},{x:e.x+e.j-a-1,y:e.y+l},{x:t.x,y:e.y+l}]:"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-c},{x:e.x+e.j-a-1,y:e.y-c},{x:e.x+e.j-a-1,y:e.y-l},{x:t.x,y:e.y-l}]:"-|"===n&&(d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]);let u=(0,i.uR)();return d=d.filter(((e,t)=>{let n;if(t>0){let i=d[t-1];e.x===i.x&&e.y===i.y||(n=e)}else n=e;return n&&(n.id=u+t),n})),d}},19608:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(96966);function o(e){const{model:t,viewContext:n}=e,{emitComponent:o,emitSnap:s,context:a}=n;let l=[];const c={model:t,emitSnap:s},d=new i.K9.Category("连接");l.push(d);const u=new i.K9.Group;d.addGroup(u),u.addItem(r(c,{title:"标题",type:"text",options:{readOnly:!0},value:{get:()=>t.title,set:(e,n)=>t.title=n}}));t.startPin,t.finishPin;if(a.isDebugMode()){const e=new i.K9.Group;d.addGroup(e),e.addItem(r(c,{title:"调试-当前值",type:"textarea",options:{readOnly:!0,style:{height:400}},value:{get(){var e;const n=t.startPin,i=n.exe||(null===(e=n.forkedFrom)||void 0===e?void 0:e.exe);if(i){const e=i.val;return void 0!==e?JSON.stringify(e,((e,t)=>void 0===t?null:t),4):"[空]"}}}}))}return l}function r(e,t,n){const{model:o,emitSnap:r}=e,s={};if("function"==typeof t)return new i.K9.FunctionItem((function(){t(s)}));if("object"==typeof t){let e=t.options;return"function"==typeof e&&(e=t.options(s)),new i.K9.EditItem({title:t.title,type:t.type,description:t.description,value:function(){let e,i=!1;return{get:()=>(i||(i=!0,e=(t.value&&t.value.get||(()=>{}))(s),e=null==e?null:e),e),set(e){i=!1;const a=r.start("Change value",{target:o});try{(t.value&&t.value.set||(()=>{}))(s,e),a.commit(),n&&Promise.resolve().then(n)}catch(e){throw e}}}}(),options:e})}throw new Error("Invalid typeof editor(function or object expect)")}},84293:(e,t,n)=>{"use strict";function i(e){const{model:t,viewContext:n}=e,{emitComponent:i,emitSnap:o}=n;return[{get title(){var e;return(null===(e=t.midPoints)||void 0===e?void 0:e.length)>0?"取消中间点":"添加中间点"},exe(){var e;const n=o.start("中间点操作",{target:t});if((null===(e=t.midPoints)||void 0===e?void 0:e.length)>0)t.midPoints=void 0;else{t.midPoints||(t.midPoints=[]);const{startPo:e,finishPo:n}=t,i=(e.x+n.x)/2,o=(e.y+n.y)/2;t.midPoints.push({x:Math.ceil(i),y:Math.ceil(o)})}n.commit()}},null,{get title(){return t.isBreakpoint?"取消断点":"添加断点"},exe(){const e=o.start("setBreakpoint",{target:t});t.isBreakpoint=!t.isBreakpoint,e.commit()}},{get title(){return t.isIgnored?"取消 调试时忽略":"调试时忽略"},exe(){const e=o.start("setIsIgnored",{target:t});t.isIgnored=!t.isIgnored,e.commit()}},null,{title:"删除",keys:["Backspace","Delete"],exe:()=>{const e=o.start("itemDelete",{target:t});i.delete(t),i.disConnected(t),i.focus(null),t.parent.connections.changed(),e.commit()}}]}n.d(t,{P:()=>i})},98973:(e,t,n)=>{"use strict";n.d(t,{K$:()=>r,ZH:()=>o,uS:()=>i});const i=0,o=10,r=[{hostId:"_setStyle",title:"设置样式",schema:{type:"object",properties:{selector:{title:"selector",type:"object",properties:{},description:"key:样式名称(驼峰写法),value:样式值"}}},description:"根据selector(CSS)设置组件的样式，例如:{'.button':{color:'red',fontSize:'12px'}}"},{hostId:"show",title:"显示",schema:{type:"any"},description:"显示该组件"},{hostId:"hide",title:"隐藏",schema:{type:"any"},description:"隐藏该组件"},{hostId:"showOrHide",title:"显示/隐藏",schema:{type:"any"},description:"根据输入的数据(true/false 或 1/0等)切换显示与隐藏"}]},38570:(e,t,n)=>{"use strict";n.d(t,{A9:()=>s,MS:()=>r,WN:()=>o,c8:()=>a,t5:()=>l});var i=n(96966);const o="topl",r="xg.desn.designer.stageview.",s=":root",a=0,l=function(e){const t=i.v5.find((t=>t.type==(e||"unknown")));return t||{strokeColor:"#AAA",fillColor:"#fff"}}},78217:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(47774),o=n(91737),r=n(64012),s=n.n(r),a=n(96966),l=n(91716),c=n(20208),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class u{}function p({schema:e,updateSchema:t,copyEnable:n=!0}){const p=(0,o.J2)(u,(t=>{t({schema:e})}),[e]),f=(0,o.J2)(a.Zm.Message,{expectTo:"parents"}),h=(0,o.J2)(a.Zm.Views,{expectTo:"parents"}),m=(0,o.lB)(a.Ho,{from:"parents"}),g=(0,r.useCallback)((()=>{h.popView("编辑类型..",(({close:e})=>s().createElement(c.A,{schema:p.schema,updateSchema:e=>{p.schema=e,t(e)},close:e})),{width:450,beforeEditView:!0})}),[]),y=(0,r.useCallback)((()=>d(this,void 0,void 0,(function*(){try{(0,l.C)(JSON.stringify(p.schema)),f.info("已复制到剪切板")}catch(e){console.error("Failed to copy: ",e)}}))),[]),v=n?s().createElement("button",{className:i.A.btnCopy,onClick:y},"复制结构"):null;return s().createElement("div",{className:i.A.schema},s().createElement(b,{val:p.schema,xpath:"",root:!0}),t&&!m.isDebugMode()?s().createElement("button",{className:i.A.btnEdit,onClick:g},"编辑"):v)}function f({items:e}){return e?s().createElement(b,{val:e}):null}function h({items:e,xpath:t}){if(e)return s().createElement(s().Fragment,null,e.map(((e,n)=>{const i=void 0!==t?`${t}/${n}`:void 0;return s().createElement(b,{key:n,val:e,xpath:i})})))}function m({properties:e,xpath:t}){if(e)return s().createElement(s().Fragment,null,Object.keys(e).map((n=>{const i=void 0!==t?`${t}/${n}`:void 0;return s().createElement(b,{key:n,val:e[n],xpath:i,keyName:n})})))}function g({properties:e,xpath:t}){if(e&&e.key&&e.value)return s().createElement(s().Fragment,null,s().createElement(b,{val:e.key,xpath:t,keyName:"索引"}),s().createElement(b,{val:e.value,xpath:t,keyName:"值"}))}function y({items:e,xpath:t}){if(e){const t=(0,r.useCallback)((()=>{}),[]);return e.map(((e,n)=>{const o=v(e.type);let r;return r="string"===e.type?`"${e.value}"`:e.value,s().createElement("div",{key:n,className:`${i.A.item}`},s().createElement("div",{className:i.A.keyName,onMouseDown:t},r,s().createElement("span",{className:i.A.typeName,style:{color:o.strokeColor}},"(",(0,l.$Z)(e),")")))}))}}function b({val:e,keyName:t,xpath:n,root:o}){let a;"array"===e.type?a=s().createElement(f,{items:e.items}):"tuple"===e.type?a=s().createElement(h,{items:e.items}):"object"===e.type?a=s().createElement(m,{properties:e.properties,xpath:n}):"indexObject"===e.type?a=s().createElement(g,{properties:e.properties,xpath:n}):"enum"===e.type&&(a=s().createElement(y,{items:e.items,xpath:n}));const c=(0,r.useCallback)((()=>{}),[]),d=v(e.type);if(d)return s().createElement("div",{key:t,className:`${i.A.item} ${o?i.A.rootItem:""}`},s().createElement("div",{className:i.A.keyName,onMouseDown:c},t,s().createElement("span",{className:i.A.typeName,style:{color:d.strokeColor}},"(",(0,l.$Z)(e),")")),s().createElement("div",{className:i.A.desc},e.description),a)}function v(e){return a.v5.find((t=>t.type==(e||"unknown")))}},47329:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(64012);const o=i.createElement("svg",{viewBox:"0 0 1027 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M321.828571 226.742857c-14.628571-14.628571-36.571429-14.628571-51.2 0L7.314286 482.742857c-14.628571 14.628571-14.628571 36.571429 0 51.2l256 256c14.628571 14.628571 36.571429 14.628571 51.2 0 14.628571-14.628571 14.628571-36.571429 0-51.2L87.771429 512l234.057142-234.057143c7.314286-14.628571 7.314286-36.571429 0-51.2z m263.314286 0c-14.628571 0-36.571429 7.314286-43.885714 29.257143l-131.657143 497.371429c-7.314286 21.942857 7.314286 36.571429 29.257143 43.885714s36.571429-7.314286 43.885714-29.257143l131.657143-497.371429c7.314286-14.628571-7.314286-36.571429-29.257143-43.885714z m431.542857 256l-256-256c-14.628571-14.628571-36.571429-14.628571-51.2 0-14.628571 14.628571-14.628571 36.571429 0 51.2L936.228571 512l-234.057142 234.057143c-14.628571 14.628571-14.628571 36.571429 0 51.2 14.628571 14.628571 36.571429 14.628571 51.2 0l256-256c14.628571-14.628571 14.628571-43.885714 7.314285-58.514286z",fill:""}))},23674:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(91737),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class s{constructor(){this.editMode="graph"}switchEditMode(){this.editMode="graph"===this.editMode?"json":"graph"}}o([i.CP,r("design:type",Object)],s.prototype,"schema",void 0)},78238:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n.n(i),r=n(15403);function s({items:e}){return e?o().createElement(r.A,{val:e}):null}},61453:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(64012),o=n.n(i),r=n(42885),s=n(96966);function a({items:e,xpath:t}){const[n,a]=(0,i.useState)({err:void 0,item:void 0}),l=(0,i.useCallback)(((e,t)=>{a({err:e,item:t})}),[]),c=(0,i.useCallback)(((e,t)=>{t.type=e.currentTarget.value,l()}),[]),d=(0,i.useCallback)(((t,n)=>{const i=t.currentTarget.value;""!==i?e.find((e=>{if(e!==n&&e.value===i)return!0}))?l("枚举值重复定义",n):i!==n.value&&("number"!==n.type||i.match(/^[1-9][0-9]*$/gi)?(n.value=i,l()):l("枚举值需要为数字",n)):l("枚举值不可为空",n)}),[]),u=(0,i.useCallback)((t=>{e.splice(t,1),l()}),[n]),p=(0,i.useCallback)((()=>{n.err||(e.push({type:"string",value:""}),l())}),[n]);return o().createElement(o().Fragment,null,e&&e.map(((e,t)=>{const i=n.item===e&&n.err;return o().createElement("div",{key:t,className:`${r.A.item}`},o().createElement("div",{className:r.A.keyName},o().createElement("input",{className:i?r.A.errInput:"",type:"text",defaultValue:e.value,onChange:void 0,onBlur:t=>d(t,e),placeholder:"请输入枚举值",ref:t=>{t&&""===e.value&&t.focus()}}),o().createElement("span",{className:r.A.typeName},o().createElement("select",{value:e.type,onChange:t=>c(t,e)},o().createElement("option",{label:"字符",value:"string"}),o().createElement("option",{label:"数字",value:"number"}))),o().createElement("span",{className:r.A.btnIcon,onClick:e=>u(t)},s.FI.garbage),i?o().createElement("div",{className:r.A.err},n.err):null))})),o().createElement("div",{className:`${r.A.adder}`,onClick:p},"+"))}},56889:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n.n(i),r=n(15403);function s({properties:e,xpath:t}){return o().createElement(o().Fragment,null,o().createElement(r.A,{keyName:"key",properties:e,keyReadonly:!0,val:e.key,xpath:`${t}/key`}),o().createElement(r.A,{keyName:"value",properties:e,keyReadonly:!0,val:e.value,xpath:`${t}/value`}))}},15403:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(64012),o=n.n(i),r=n(91737),s=n(42885),a=n(96966),l=n(97244),c=n(23674),d=n(24344);function u({val:e,keyName:t,keyReadonly:n,properties:u,xpath:p,root:f}){var h;const m=(0,r.lB)(c.A,{from:"parents"}),[g,y]=(0,i.useState)({key:t,type:e.type,err:void 0}),b=(0,i.useRef)(),v=(0,i.useCallback)((e=>{y(Object.assign({},g,e))}),[g]),x=(0,i.useCallback)((t=>{const n=t.currentTarget.value;e.type=n,v({key:g.key,type:n})}),[g]),A=(0,i.useCallback)((()=>{const e=b.current;if(e){const n=e.value;if(!u[g.key])return;""!==n?n!==g.key&&(n.match(/^[\u4E00-\u9FA5a-zA-Z_]+[\u4E00-\u9FA50-9a-zA-Z_]*$/)?u&&(u[n]?v({err:"字段名重复定义"}):(u[n]=u[t],delete u[t],v({key:n,type:g.type,err:void 0}))):v({err:"字段名命名规则:以字母开头，字母、数字、下划线的组合"})):v({err:"字段名不可为空"})}}),[g]);(0,r.HO)((()=>{m.haveErr&&A()}));const w=(0,i.useCallback)((()=>{requestAnimationFrame((()=>{delete u[g.key],y(null)}))}),[g]);if(null===g)return;const E=(0,d.k)({val:e,xpath:p});return o().createElement("div",{key:g.key,className:`${s.A.item} ${f?s.A.rootItem:""}`},o().createElement("div",{className:s.A.keyName},void 0!==g.key?o().createElement("input",{key:g.key,className:g.err?s.A.errInput:"",type:"text",defaultValue:g.key,readOnly:n,onChange:void 0,onBlur:A,placeholder:"请输入字段名称",ref:e=>{e&&(b.current=e,""===g.key&&e.focus())}}):null,o().createElement("span",{className:s.A.typeName},o().createElement("select",{value:g.type,onChange:x},o().createElement(o().Fragment,null,l.A.map((e=>o().createElement("option",{key:e.value,label:e.label,value:e.value}))),(null===(h=g.type)||void 0===h?void 0:h.match(/any|unknown/g))?o().createElement("option",{key:g.type,value:g.type,label:"选择有效类型"}):null))),u?o().createElement("span",{className:s.A.btnIcon,onClick:w},a.FI.garbage):null,g.err?o().createElement("div",{className:s.A.err},g.err):null),E)}},64319:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(64012),o=n.n(i),r=n(42885),s=n(15403);function a({properties:e,xpath:t}){const[n,a]=(0,i.useState)(!0),l=(0,i.useCallback)((()=>{e[""]={type:"string"},a(!n)}),[n]);return o().createElement(o().Fragment,null,e&&Object.keys(e).map(((n,i)=>{const r=void 0!==t?`${t}/${n}`:void 0;return o().createElement(s.A,{key:""===n?Math.random():`${n}-${i}`,keyName:n,properties:e,val:e[n],xpath:r})})),o().createElement("div",{className:`${r.A.adder}`,onClick:l},"+"))}},43418:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(42885),s=n(97244),a=n(96966),l=n(24344);function c({items:e,xpath:t}){const[n,s]=(0,i.useState)(!0),a=(0,i.useCallback)((()=>{e.push({type:"string"}),s(!n)}),[n]);return o().createElement(o().Fragment,null,e&&e.map(((n,i)=>{const r=void 0!==t?`${t}/${i}`:void 0;return o().createElement(d,{key:i,item:n,remove:t=>{const n=e.indexOf(t);e.splice(n,1)},xpath:r})})),o().createElement("div",{className:`${r.A.adder}`,onClick:a},"+"))}function d({item:e,remove:t,xpath:n}){const[c,d]=(0,i.useState)({item:void 0,err:void 0}),u=(0,i.useCallback)((e=>{d(Object.assign({},c,e))}),[c]),p=(0,i.useCallback)((t=>{const n=t.currentTarget.value;e.type=n,u({})}),[c]),f=(0,i.useCallback)((()=>{t(e),d(null)}),[c]);if(null===c)return;const h=(0,l.k)({val:e,xpath:n});return o().createElement("div",{className:`${r.A.item}`},o().createElement("div",{className:r.A.keyName},o().createElement("span",{className:r.A.typeName},o().createElement("select",{value:e.type,onChange:p},o().createElement(o().Fragment,null,s.A.map((e=>o().createElement("option",{key:e.value,label:e.label,value:e.value})))))),o().createElement("span",{className:r.A.btnIcon,onClick:f},a.FI.garbage),c.err?o().createElement("div",{className:r.A.err},c.err):null),h)}},20208:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(42885),o=n(91737),r=n(64012),s=n.n(r),a=n(15403),l=n(23674),c=n(91716),d=n(47329);let u;function p({schema:e,updateSchema:t,close:n}){const p=(0,o.o8)(e||{type:"object",properties:{}}),h=(0,r.useRef)();u=(0,o.J2)(l.A,(e=>{e({schema:p})}),{to:"children"});const m=(0,r.useCallback)((()=>{const e=u.schema,i=h.current.querySelectorAll("input[type=text]");if(i)for(let e=0;e<i.length;e++){if(""===i[e].value)return void(u.haveErr=!0)}const o=e=>{if("object"===e.type){if(delete e.items,e.properties)if(Object.keys(e.properties).length<=0)delete e.properties;else for(let t in e.properties)o(e.properties[t])}else if("array"===e.type&&(delete e.properties,e.items))if("object"!==e.items.type&&delete e.items.properties,Object.keys(e.items).length<=0)delete e.items;else for(let t in e.items)o(e.items[t]);(0,c.C7)(e)&&(delete e.items,delete e.properties)};o(e),t(e),n()}),[]);return s().createElement("div",{className:i.A.editor},s().createElement("div",{className:i.A.toolbar},s().createElement("div",null,"编辑类型"),s().createElement("button",{onClick:m},"确定"),s().createElement("span",{className:`${i.A.code} ${"json"===u.editMode?i.A.focus:""}`,onClick:u.switchEditMode},d.C)),s().createElement("div",{className:i.A.schema,ref:h},"graph"===u.editMode?s().createElement(a.A,{val:u.schema,xpath:"",root:!0}):s().createElement(f,{val:u.schema})),s().createElement("div",{className:i.A.desc},s().createElement("p",{style:{fontStyle:"normal"}},"[使用说明]"),s().createElement("p",null,"1.选择不同的类型进行编辑，对象与列表类型的内容可以为空."),s().createElement("p",null,"2.字段名称必须以字母开头，内容为字母与数字的组合.")))}function f({val:e}){const[t,n]=(0,r.useState)(JSON.stringify(e,null,2)),a=(0,r.useCallback)((e=>{n(e.target.value)}),[]),l=(0,r.useCallback)((()=>{try{const e=JSON.parse(t);u.schema=e}catch(e){console.warn(e)}}),[t]);return s().createElement("textarea",{className:i.A.jsonEditor,value:t,onChange:a,onBlur:l,onKeyDown:(0,o.Wj)((()=>{})).stop,onMouseDown:(0,o.Wj)((()=>{})).stop})}},97244:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=[{label:"任意",value:"any"},{label:"数字",value:"number"},{label:"字符",value:"string"},{label:"布尔",value:"boolean"},{label:"对象",value:"object"},{label:"数组",value:"array"},{label:"索引对象",value:"indexObject"},{label:"元组",value:"tuple"},{label:"枚举",value:"enum"}]},24344:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var i=n(78238),o=n(64319),r=n(56889),s=n(61453),a=n(43418),l=n(64012),c=n.n(l);function d({val:e,xpath:t}){let n;if("array"===e.type)e.items?Array.isArray(e.items)&&(e.items={}):e.items={},n=c().createElement(i.A,{items:e.items});else if("object"===e.type)e.properties||(e.properties={}),n=c().createElement(o.A,{properties:e.properties,xpath:t});else if("indexObject"===e.type){if(e.properties){const t=e.properties;Object.keys(t).forEach((e=>{"key"===e&&"value"===e||delete t[e]})),t.key||(t.key={type:"string"}),t.value||(t.value={type:"string"})}else e.properties={key:{type:"string"},value:{type:"string"}};n=c().createElement(r.A,{properties:e.properties,xpath:t})}else"enum"===e.type?(e.items||(e.items=[]),n=c().createElement(s.A,{items:e.items,xpath:t})):"tuple"===e.type&&(e.items&&Array.isArray(e.items)||(e.items=[]),n=c().createElement(a.A,{items:e.items,xpath:t}));return n}},26253:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(78217),o=n(64012);function r({value:e,options:t}){const n=e.get()||{type:"unknown"},r=null==t?void 0:t.readOnly;return o.createElement(i.A,{schema:n,updateSchema:r?void 0:t=>{e.set(t)},copyEnable:null==t?void 0:t.copyEnable})}},42825:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(8882),o=n(91737),r=n(64012),s=n(96966),a=n(91716),l=n(64012),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=":root",p={type:"string"};class f{constructor(){this.vals={}}getValue(e,t){let n=this.vals;const i=e.split("/");return i.forEach(((e,o)=>{let r,s=n[e];null!=s&&(n=s,r=!0),o===i.length-1&&(r||(void 0!==t?(n[e]=t,n=n[e]):n=s))})),null!=n?n:""}setValue(e,t){const n=e.split("/");let i=this.vals;n.forEach(((e,o)=>{if(o===n.length-1)if(Array.isArray(i)){const n=parseInt(e);n>=i.length&&(i.length=n+1),i[n]=t}else i[e]=t;else i=Array.isArray(i)?i[parseInt(e)]:i[e]}))}complete(){this.value.set(this.vals[u])}}function h({title:e,value:t,options:n,ele:s,containerEle:c}){let d=t.get();null==d&&(d=m(null==n?void 0:n.schema));const h=(0,o.J2)(f,(e=>{e({schema:null==n?void 0:n.schema,value:t,vals:{[u]:void 0!==d?d:{}}})}),[null==n?void 0:n.schema]);function b({name:e,schema:t,xpath:n,root:o}){if("array"===t.type)return function(e,t,n,o){const s=h.getValue(e,[]),a=(0,r.useCallback)((()=>{const t=m(n);h.setValue(`${e}/${s.length}`,g(n,t))}),[]),c=y("array");return l.createElement("div",{className:`${i.A.item} ${o?i.A.rootItem:""}`},l.createElement("div",{className:i.A.toolbar},t?l.createElement("span",null,t):null,l.createElement("label",{style:{color:c.strokeColor}},"(列表)"),l.createElement("button",{onClick:a},"+")),Array.isArray(s)&&s.map(((t,i)=>l.createElement(b,{key:i,schema:n,xpath:`${e}/${i}`}))))}(n,e,t.items||p,o);if("object"===t.type)return function(e,t,n,o){if(n){const r=y("object");return l.createElement("div",{className:`${i.A.item} ${o?i.A.rootItem:""}`},l.createElement("div",{className:i.A.toolbar},t?l.createElement("span",null,t):null,l.createElement("label",{style:{color:r.strokeColor}},"(对象)")),Object.keys(n).map((t=>{const i=void 0!==e?`${e}/${t}`:void 0;return l.createElement(b,{key:t,name:t,schema:n[t],xpath:i})})))}}(n,e,t.properties,o);const s=y(t.type);let a;if("number"!==t.type&&"string"!==t.type||(a=l.createElement("input",{type:"number"===t.type?"number":"text",value:h.getValue(n),onChange:e=>{h.setValue(n,g(t,e.target.value))},onBlur:e=>{h.complete()},onKeyDown:e=>{13===e.keyCode&&h.complete()}})),"boolean"===t.type){let e=h.getValue(n);e=e?1:0,a=l.createElement("select",{value:e,onChange:e=>{const i=parseInt(e.target.value);h.setValue(n,g(t,i)),h.complete()}},l.createElement("option",{value:1},"是"),l.createElement("option",{value:0},"否"))}return l.createElement("div",{className:`${i.A.item} ${o?i.A.rootItem:""}`},l.createElement("div",{className:i.A.keyName},l.createElement("span",null,e),l.createElement("div",{className:i.A.value},a,l.createElement("span",{className:i.A.typeName,style:{color:s.strokeColor}},"(",function(e){switch(e){case"number":return"数字";case"string":return"字符";case"boolean":return"布尔";case"object":return"对象";case"array":return"列表"}}(t.type),")"))))}return(0,a.Ry)(h.schema)?l.createElement("div",{className:i.A.returnParams},l.createElement("div",null,l.createElement(b,{schema:h.schema,val:h.vals,xpath:u,root:!0}))):l.createElement("div",{className:i.A.null},"（类型声明为空或无效）")}function m(e){switch(e.type){case"number":return 0;case"string":return"字符";case"boolean":return!0;case"object":{const t={},n=e.properties;return n&&Object.keys(n).forEach((e=>{t[e]=m(n[e])})),t}case"array":return[]}}function g(e,t){switch(e.type){case"number":return Number(t);case"string":return String(t);case"boolean":return Boolean(t)}return t}function y(e){return s.v5.find((t=>t.type==(e||"unknown")))}c([o.CP,d("design:type",Object)],f.prototype,"schema",void 0)},54899:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n.n(i),r=n(72507),s=n(91737),a=n(96966);function l({tvCtx:e,value:t,options:n}){const l=(0,s.J2)(a.Zm.Views,{expectTo:"parents"}),c=(0,s.J2)({passed:void 0,diagram:t.get()}),d=e.viewModel.getFxFrameAry().map((e=>{if(e.diagramAry.length>0)return e.diagramAry[0]})).filter((e=>e)),u=(0,i.useCallback)((()=>{l.popView("选择Fx卡片..",(({close:e})=>{let n=[];return d&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.A.page} ${(null===(i=c.diagram)||void 0===i?void 0:i.id)===n.id?r.A.focus:""}`,onClick:i=>function(n){t.set(n),c.diagram=n,e()}(n)},o().createElement("div",{className:r.A.icon}),o().createElement("div",{className:r.A.title},o().createElement("div",{className:r.A.title},n.title)))}))),o().createElement("div",{className:r.A.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.diagram&&d&&(p=d.find((e=>e.id===c.diagram.id))),o().createElement("div",{className:`${r.A.editor} ${r.A[null==n?void 0:n.type]}`,onClick:u},o().createElement("span",null,"前置拦截:"),o().createElement("span",{className:r.A.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.A.type},p.icon):null)}},42363:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(96966),o=n(26253),r=n(42825),s=n(64012);const a={};function l(e){const{viewModel:t,context:n,emitLogs:i}=e;return{get(e){const{type:t,options:n,ele:i}=e,o=a[t.toUpperCase()];if(o)return o(e)}}}function c(e,t){a[e.toUpperCase()]=function(e){return s.createElement(t,Object.assign({},e))}}c(i.Ut.SCHEMA,o.A),c(i.Ut.SCHEMA_VALUE,r.A)},36938:(e,t,n)=>{"use strict";n.d(t,{tp:()=>i.t,zi:()=>o.A});var i=n(71781),o=n(54899)},71781:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var i=n(91737),o=n(55446),r=n(64012),s=n(64012);function a({x:e,y:t,value:n}){const a=(0,r.useRef)(),l=(0,i.J2)(class{constructor(){this.value=n.get()}}),c=(0,r.useCallback)((e=>{l.value=e.target.value}),[]),d=(0,r.useCallback)((e=>{n.set(l.value)}),[]);return(0,r.useEffect)((()=>{a.current.focus()})),s.createElement("div",{className:o.A.text,style:{left:e,top:t}},s.createElement("textarea",{ref:e=>a.current=e,value:l.value,onChange:c,onBlur:d,onKeyDown:e=>{13===e.keyCode&&d(e)}}))}},37101:(e,t,n)=>{"use strict";n.d(t,{JO:()=>h,Sx:()=>m,Ts:()=>b,h$:()=>g,jw:()=>y});var i=n(14046),o=n(67622),r=n(91716),s=n(51807),a=n(96966),l=n(61281),c=n(19730);let d,u,p,f;function h(e){return p(...arguments)}function m(e,t){return f(...arguments)}function g(e){return d(e)}function y(e){return u(e)}function b(e){const{context:t,emitComponent:n,emitView:h,emitSnap:m,emitLogs:g}=e;function y(e,r,s){const l=e.parent;if(l instanceof i.U){const i=t.getComDef(l.runtime.def);if(i&&i.editors){let c;c="inputs"===s?i.editors[a.W1.SLOT_INPUT_UPDATED]:i.editors[a.W1.SLOT_OUTPUT_UPDATED],"function"==typeof c&&c((0,o.Q)({context:t,model:l,emitComponent:n,emitSnap:m,emitLogs:g}),e.id,{id:r.hostId,title:r.title,schema:r.schema})}}}function b(e,i,s){const l=e.parent;if(l&&l.runtime){let c=t.getComDef(l.runtime.def);if(c.editors){let d;d="input"===s?c.editors[a.W1.SLOT_INPUT_DIS_CONNECTED]:c.editors[a.W1.SLOT_OUTPUT_DIS_CONNECTED];const u=i.startPin,p=i.finishPin;"function"==typeof d&&d((0,o.Q)({context:t,model:l,emitComponent:n,emitSnap:m,emitLogs:g}),{id:u.hostId,title:u.title,schema:(0,r.Go)(u.schema),conCount:u.conAry.length},e.id,{id:p.hostId,title:p.title,schema:(0,r.Go)(p.schema),conCount:p.conAry.length})}}}function v(e,i,s){const l=e.parent;if(l&&l.runtime){let c=t.getComDef(l.runtime.def);if(c.editors){let d;d="input"===s?c.editors[a.W1.SLOT_INPUT_CONNECTED]:c.editors[a.W1.SLOT_OUTPUT_CONNECTED];const u=i.startPin,p=i.finishPin;"function"==typeof d&&d((0,o.Q)({context:t,model:l,emitComponent:n,emitSnap:m,emitLogs:g}),{id:u.hostId,title:u.title,schema:(0,r.Go)(u.schema),conCount:u.conAry.length},e.id,{id:p.hostId,title:p.title,schema:(0,r.Go)(p.schema),conCount:p.conAry.length})}}}function x(e,s,l){if(!e.runtime||!s.startPin||!s.finishPin)return;const c=s.startPin,d=c.parent,u=d instanceof i.U;if(u&&!d.runtime)return;const p=s.finishPin,f=p.parent,h=f instanceof i.U;if(h&&!f.runtime)return;const y=t.getComDef(e.runtime.def);if(y&&y.editors){let i;if(i="input"===l?y.editors[a.W1.INPUT_DIS_CONNECTED]:y.editors[a.W1.OUTPUT_DIS_CONNECTED],"function"==typeof i)return i((0,o.Q)({context:t,model:e,emitComponent:n,emitSnap:m,emitLogs:g}),{id:c.hostId,title:c.title,schema:(0,r.Go)(c.schema),parent:{type:u?"com":"frame",namespace:u?d.runtime.def.namespace:null}},{id:p.hostId,title:p.title,schema:(0,r.Go)(p.schema),parent:{type:h?"com":"frame",namespace:h?f.runtime.def.namespace:null}})}}function A(e,s,l){const c=s.startPin,d=c.parent,u=d instanceof i.U,p=s.finishPin,f=p.parent,h=f instanceof i.U,y=t.getComDef(e.runtime.def);if(y&&y.editors){let i;if(i="input"===l?y.editors[a.W1.INPUT_CONNECTED]:y.editors[a.W1.OUTPUT_CONNECTED],"function"==typeof i)return i((0,o.Q)({context:t,model:e,emitComponent:n,emitSnap:m,emitLogs:g}),{id:c.hostId,title:c.title,schema:(0,r.Go)(c.schema),parent:{type:u?"com":"frame",namespace:u?d.runtime.def.namespace:null}},{id:p.hostId,title:p.title,schema:(0,r.Go)(p.schema),parent:{type:h?"com":"frame",namespace:h?f.runtime.def.namespace:null}})}}p=function(e){const r=e.parent;r instanceof i.U&&function(e,i){const r=t.getComDef(e.runtime.def);if(r&&r.editors){let s;s=i.isDirectionOfInput()?r.editors[a.W1.INPUT_REMOVED]:r.editors[a.W1.OUTPUT_REMOVED],"function"==typeof s&&s((0,o.Q)({context:t,model:e,emitComponent:n,emitSnap:m,emitLogs:g}),{id:i.hostId,title:i.title,schema:i.schema})}}(r,e)},f=function(e,r){const d=e.parent;if(d instanceof i.U)!function(e,i,r){const s=t.getComDef(e.runtime.def);if(s&&s.editors){let l;l="inputs"===r?s.editors[a.W1.INPUT_UPDATED]:s.editors[a.W1.OUTPUT_UPDATED],"function"==typeof l&&l((0,o.Q)({context:t,model:e,emitComponent:n,emitSnap:m,emitLogs:g}),{id:i.hostId,title:i.title,schema:i.schema})}}(d,e,r);else if(d instanceof s.l)y(d,e,r);else if(d instanceof l.A&&e instanceof c.default){const t=e.forkedFrom.parent;t.parent&&y(t,e,r)}},d=function(e){const t=e.startPin.parent,n=e.finishPin,o=n.parent;if(t instanceof i.U?A(t,e,"output"):t instanceof s.l&&v(t,e,"output"),o instanceof i.U)A(o,e,"input");else if(o instanceof s.l)v(o,e,"input");else if(o instanceof l.A&&n instanceof c.default){v(n.forkedFrom.parent,e,"input")}},u=function(e){const t=e.startPin;if(t){const n=t.parent;n instanceof i.U?x(n,e,"output"):n instanceof s.l&&b(n,e,"output")}const n=e.finishPin;if(n){const t=n.parent;if(t instanceof i.U)x(t,e,"input");else if(t instanceof s.l)b(t,e,"input");else if(t instanceof l.A&&n instanceof c.default){b(n.forkedFrom.parent,e,"input")}}}}},9662:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var i=n(96966),o=n(14046),r=n(69008),s=n(98973),a=n(92758),l=n(30391),c=n(98863);function d(e,t){if(!t||"object"!=typeof t)return;const{viewModel:n,curDiagramModel:d,curFrameModel:u,emitAI:p,emitComponent:f}=e,{state:h,seedModel:m,json:g,toComId:y,toSlotId:b,deletable:v,debugProxy:x}=t;if("finish"===h){const{context:d}=e;let h,v;if(y&&b){const e=n.searchCom(y);h=e.getFrame(b),h||(h=e.parent)}else b&&(h=n.searchFrame(b));h||(h=u);const A=m.def;if(m instanceof i.JX)v=h.addComponent(m.topl);else{if(m.init({cancel(){requestAnimationFrame((()=>{f.delete(v),f.focus(void 0)}))}}),m instanceof i.Bu){v=new l.P(m);const e=n.frames.find((e=>e.id===m.slotId));v.ioProxyForCall={frame:e}}else{v=new o.U(m);const e=h.searchComByDef(A);v.runtime.title=e.length>0?A.title+e.length:A.title}(v.runtime.hasUI()||t.autorun)&&v.setAutoRun(!0),g&&(0,r.b)(g,v,void 0),"object"==typeof x&&(v.debugProxy=x),d.isDesnMode()&&d.configs.geoView&&v.runtime.hasUI()&&!v.asRoot&&s.K$.forEach((e=>{v.addInputPinExt({hostId:e.hostId,title:e.title,schema:e.schema,description:e.description})}));const e=m.runtime.model.style;e&&e.left?v.style.left=(0,a.fM)(e.left):v.style.left=(0,a.fM)(100+100*Math.random()),e&&e.top?v.style.top=(0,a.fM)(e.top):v.style.top=(0,a.fM)(100+100*Math.random()),v.runtime.topl=v;const c=h.addComponent(v);d.isDesnMode()||(h.addDebugTempCom(v),d.useLatestFeatures&&c.runtime.hasUI()&&h.addDiagramWithStartCom(c.runtime.title,c))}return(0,c.g)(A)&&p.enable(),v}}},9177:(e,t,n)=>{"use strict";function i(e){const{viewModel:t}=e;return{upgradeLib(e){}}}n.d(t,{_:()=>i})},57161:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,i:()=>r});var i=n(37101);function o(e,t){(0,i.h$)(t),setTimeout((e=>{t.parent&&t.parent.connections.changed()}))}function r(e,t){(0,i.jw)(t)}},47574:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var i=n(51807),o=n(14046),r=n(30063),s=n(21523);function a(e){const{context:t,viewModel:n,emitLogs:a,emitScenes:l,emitComponent:c,emitMessage:d}=e;let u,p;return{init(t,n){u=t,e.debugger=Object.assign(Object.assign({},e.debugger),n)},resume(){const t=e.debugger;t.breakNow=void 0,t.resume()},log(u,f,h,m,g){let y,b,v,x,A,w,E=m.sceneId,C=n.searchFrame(E);if(C&&(p?C.isTypeOfModule()&&C!==p&&(E=void 0,C=p):p=C),C){if(g){e.debugger.breakNow=!0;const t=m.conId;if(t){const i=n.searchCon(t);i&&i.parent instanceof r.DQ&&e.setCurDiagram(i.parent)}}try{if("com"===f){let o,r=C.searchCom(m.id);if(!(r&&r.runtime||(r=n.searchCom(m.id),r)))return;if(r&&r.runtime&&(v=`${r.runtime.title} | `),x=r,"output"===h){const{id:s,pinHostId:a,val:c,fromCon:d,notifyAll:u}=m;w=d;const p=e=>{if(e&&!e.isPrivate){if(d){const{id:t,comId:i,finishPinParentKey:o}=d;if(!(e=n.searchCon(t).finishPin.parent.searchPinByHostId(a,h)))return;e.exe={val:c,from:d},e.state.running()}else e.exe={val:c},e.state.running();y=`%c 输出 %c ${v}${e.title}  `,b=[`color:#FFF;padding-top:2px;font-weight:bold;background:${t.themes.colorPrimary}`,"",c],e.conAry&&e.conAry.forEach((e=>{const t=e.finishPin;g?e.activeBreakPoint():(t.exe={val:c},t.state.running(),e.exe={val:c},e.disableBreakPoint())}))}};if(u){o=r.searchPinByHostId(a,h),o&&p(o);const t=e.curFrameModel.searchForkedComAry(r);t&&t.forEach((e=>{o=e.searchPinByHostId(a,h),o&&p(o)}))}else{o=r.searchPinByHostId(a,h),o&&p(o);const t=r.root;t instanceof i.l&&!t.isTypeOfFx()&&!t.isTypeOfModule()&&t!==e.curFrameModel&&l.switch(t.id)}}else if("input"===h){const{id:t,pinHostId:n,val:i,frameKey:s,finishPinParentKey:a}=m;if(a){const t=e.curFrameModel.searchComInDiagramsBy_key(a);t&&(o=t.searchPinByHostId(n,h))}else o=r.searchPinByHostId(n,h);o&&!o.isPrivate&&o.conAry.length>0&&(o.exe={val:i},o.state.running(),y=`%c 输入 %c ${v}${o.title}  `,b=["color:#FFF;padding-top:2px;font-weight:bold;background:#000","",i],o.conAry.forEach((e=>{e.disableBreakPoint(),e.exe||(e.exe={val:i})})))}A=o}else if("frame"===f){const{comId:e,frameId:i,pinHostId:o,val:r}=m;let s;if("_rootFrame_"===i)s=C;else if(e){const t=C.searchCom(e);t&&(s=t.searchFrame(i))}else s=n.searchFrame(i);if(E&&C.id!==E&&!C.isTypeOfFx()&&l.switch(E),s){x=s;const e=s.searchMyPinByHostId(o,h);e&&(e.exe={val:r},e.state.running(),e.conAry&&e.conAry.forEach((e=>{g?e.activeBreakPoint():e.exe={val:r}})),"input"===h?(y=`%c 输入 %c ${e.title}  `,b=["color:#FFF;padding-top:2px;font-weight:bold;background:#000","",r]):(y=`%c 输出 %c ${e.title}  `,b=[`color:#FFF;padding-top:2px;font-weight:bold;background:${t.themes.colorPrimary}`,"",r])),A=e}}}catch(e){console.error(e)}y&&a.info(y,...b,(()=>({from:x})),(()=>{if(A){const e=e=>{setTimeout((()=>{c.focus(e)}))};if(A.parent instanceof o.U){const t=A.parent;if(t.runtime.hasUI()){let i;if(t instanceof s.default)i=t.diagramModel,i&&(c.focus(i),e(t));else if(A.isDirectionOfOutput())if(w){const t=n.searchCon(w.id);if(t){const n=t.finishPin.parent;i=n.diagramModel,i?(c.focus(i),e(n)):d.info("未找到流程卡片.")}}else{i=t.parent.diagramAry.find((e=>{const n=e.startWithCom;if(n&&n.forkedFrom===t&&n.ioc.outputs[A.hostId])return!0})),i?(c.focus(i),e(i.startWithCom.outputPins[0])):d.info("未找到流程卡片.")}}else{const t=A.parent.diagramModel;c.focus(t),e(A.parent)}}else if(A.parent instanceof i.l){const t=A.parent.diagramAry;t.length>0&&c.focus(t[0]),e(A)}}}))}}}}},1824:(e,t,n)=>{"use strict";n.d(t,{P:()=>p});var i=n(96966),o=n(51807),r=n(61281),s=n(14046),a=n(21523),l=n(37101),c=n(91716),d=n(72205),u=n(60599);function p(e,t){var n;const{viewModel:p,curFrameModel:f,curDiagramModel:h,emitLogs:m,emitComponent:g}=e;let y=f;if(y||(t instanceof s.U&&(y=t.root),t instanceof r.A&&(y=t.root),t instanceof u.E&&(y=t.getRoot())),y&&y instanceof o.l){if(t)if(t instanceof o.l)t.parent?t.parent.delete(t):(p.deleteFrame(t),t===e.curFrameModel&&e.switchFrame(void 0));else if(t instanceof r.A){if(t.parent){if(t.parent.delete(t),t.isFn){const b=t.parent;if(b.parent)if(b.parent instanceof o.l)b.parent.frameAry=b.parent.frameAry.filter((e=>e!==b));else{const v=b.parent;v.frames=v.frames.filter((e=>e!==b))}else p.frames=p.frames.filter((e=>e!==b))}if(t.parent.isBizTypeOfService()){const x=t.parent;p.frames=p.frames.filter((e=>e!==x))}}else console.warn(`【异常】组件${t.title}的父级不存在.`);e.clearCurDiagram()}else if(t instanceof d.j)h.delete(t);else if(t.runtime||t instanceof s.U){let A;if(t instanceof s.U)A=t;else if(A=p.searchCom(t.id),!A)return m.warn(`组件(${null===(n=t.runtime.def)||void 0===n?void 0:n.namespace},id=${t.id})在逻辑视图中不存在.`),!0;const w=y.getRoot(),E=A instanceof a.default;if(!E&&A.runtime.def.namespace!==i.ZD.coms.module){const C=e=>{e.diagramAry&&e.diagramAry.forEach((e=>{g.delete(e)}));let t=0,n=2*e.comAry.length;for(;e.comAry.length&&(g.delete(e.comAry[0]),!(t++>=n)););};A.frames&&A.frames.forEach((e=>C(e)));const _=e=>{e.diagramAry&&(e.diagramAry.forEach((e=>{const t=e.comAry.filter(((e,t)=>!(e instanceof a.default&&e.forkedFrom===A)));t.length!==e.comAry.length&&(e.comAry=t)})),e.comAry.forEach(((e,t)=>{e.frames&&e.frames.forEach((e=>{_(e)}))}))),e.frameAry&&e.frameAry.forEach((e=>{_(e)}))};_(w)}if(c.DO.each((e=>{e.conAry.map((e=>e)).forEach((e=>{(0,l.jw)(e)}))}),...A.getInputsAll(),...A.getOutputsAll(),A.timerInputPin),A.diagramModel)A.diagramModel.delete(A);else if(E){h.comAry.find((e=>e===A))&&(h.comAry=h.comAry.filter((e=>e!==A)))}if(E)A.destroy();else{const M=y.searchDiagramByStartCom(A);M&&M.forEach((t=>{e.isCurDiagram(t.id)&&e.clearCurDiagram(),y.delete(t)})),A.destroy()}if(A.isSingleton&&!E){function I(e){e.frameAry.forEach((e=>{I(e)})),e.diagramAry.forEach((e=>{e.comAry=e.comAry.filter(((e,t)=>{if(!(e instanceof a.default&&e.forkedFrom.id===A.id))return!0}))}))}I(w)}A.diagramModel&&A.diagramModel.connections.changed()}else t.destroy();return!0}!y||y instanceof o.l||console.warn(`【异常】frameModel${y.title}不是FrameModel实例.`)}},40304:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var i=n(1537),o=n(53658),r=n(91716);function s(e){const{viewModel:t,curFrameModel:n,curDiagramModel:s,emitLogs:a,emitComponent:l}=e,c=n;return{hasScript:(t,n,o)=>(0,i.yw)(e,t,n,o),focusScript:(t,n,o)=>(0,i.KS)(e,t,n,o),bindScript:(t,n,o)=>(0,i.dU)(e,t,n,o),filterScript(n){const i=t.searchCom(n);i&&(e.emitView.recoverSize(e.viewId),setTimeout((t=>{e.viewFilter={type:"com",data:{comId:n},title:i.runtime.title}})))},createScript(t){let n;const i=[];function s(e){const{from:a,to:d}=i[i.length-1];n||(n=e.searchCom(a.comId)),(0,o.Ws)((()=>{var o;const a=null===(o=n.outputPins)||void 0===o?void 0:o[0];if(null==a?void 0:a.$el){const o=c.searchCom(d.comId),u=o.searchPinByHostId(d.hostId,"inputs"),p={inputs:[d.hostId],outputs:u.rels},f=200*i.length,h=e.addCom(o,{x:f,y:100},p);n=h;const m=r.DO.find((e=>e.hostId===d.hostId),...h.getInputsAll());if(m&&m.$el){const t=e.addConnection(a,m);l.connected(t)}return i.length<t.length&&(i.push(t[i.length]),s(e)),!0}}))}(0,o.Ws)((()=>{const n=e.curDiagramModel;if(n)return i.push(t[0]),s(n),!0}))}}}},6250:(e,t,n)=>{"use strict";function i(e){const{viewModel:t,context:n,emitLogs:i}=e;return{changed(e){t.frames.forEach((function t(o){o.frameAry.forEach((e=>{t(e)})),o.comAry.forEach((o=>{const r=n.getComDef(o.runtime.def);if(!r)return;const s=r.editors;if(s){const t=s["@envChanged"];if("function"==typeof t){const n=o.runtime.model;t({data:n.data,env:e,throwError(){let e,t;for(let n=0;n<arguments.length;n++){const i=arguments[n];"string"==typeof i?e=i:"object"==typeof i&&i instanceof Error&&(t=i)}(e||t)&&(requestAnimationFrame((n=>{o._exeInfo={errorMsg:e||t.message}})),i.error(n.title||r.title,e),t&&console.error(t))},cancelError(){o._exeInfo=void 0}})}}o.frames&&o.frames.forEach(t)}))}))}}}n.d(t,{D:()=>i})},75385:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(67995);function o(e){const{viewModel:t,emitComponent:n,emitScenes:o}=e;return{getComsUsed(e){const n={},i=t.searchFrame(e);return i&&function e(t){t.comAry&&t.comAry.forEach((t=>{n[t.id]={id:t.id,title:t.runtime.title,namespace:t.runtime.def.namespace,version:t.runtime.def.version,data:t.runtime.model.data},t.frames&&t.frames.forEach((t=>{e(t)}))}))}(i),n},getInteractionsDesc:t=>(0,i.L)(t,e),onError(e,n,i){if("com"===e){const{comId:e}=n,o=t.searchCom(e);o&&o.setExe({errorMsg:i.message})}},getUpgradeInfo(e){const n=[];const i=t.searchFrame(e);return i&&function e(t){t.frameAry&&t.frameAry.forEach((t=>{e(t)})),t.comAry&&t.comAry.forEach((t=>{const i=t.runtime;!i.hasUI()&&i.upgrade&&n.push({title:i.title,version:i.upgrade.version,com:t}),t.frames&&t.frames.forEach((t=>{e(t)}))}))}(i),n},getFrame:e=>t.searchFrame(e),addOutputPin({slotId:e,pinId:n,pinHostId:i,title:o,type:r,schema:s,editable:a}){const l=t.searchFrame(e);if(l){return l.addOutputPin({id:n,hostId:i,title:o,type:r,schema:s,editable:a})}},bindFrame({id:e,title:n,type:i,_inputs:o,inputs:r,outputs:s,events:a},l){let c;if(l){const o=t.getFrame(l);o&&(c=o.addFrame({id:e,title:n,type:i},!0),c.hostFrameId=o.id)}else c=t.addFrame({id:e,title:n,type:i});if(c)return c.addIODiagram({title:n}),o&&o.forEach((e=>{c.add_InputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),r&&r.forEach((e=>{c.addInputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),s&&s.forEach((e=>{c.addOutputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),a&&a.forEach((e=>{c.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))})),c},focusFrame(n){const i=t.frames[n];if(i)return e.switchFrame(i),i.diagramAry?e.setCurDiagram(i.diagramAry[0]):e.setCurDiagram(void 0),!0},delete(n){const i=t.searchFrame(n);if(i){if(i.hostFrameId){t.getFrame(i.hostFrameId).delete(i)}else t.deleteFrame(i);i.destroy(),e.switchFrame(void 0)}},cutComToMe(n,i,o){const r=e.curFrameModel,s=t.searchCom(n);let a;if(i){a=t.searchCom(i).getFrame(o)}else a=r;if(s.parent!==a)return a.cutIn(s,!0)},getAllOutputs(e,n){const i=t.getFrame(e);if(i)return i.outputPins.map((e=>{if(!n||e.type===n)return{id:e.id,hostId:e.hostId,title:e.title,type:e.type}})).filter((e=>e))},hasDiagram(e,n){const i=t.getFrame(e);if(i){if(i.getDiagramByOutput(n))return!0}},bindDiagram(e,i,o){const r=t.getFrame(e);if(r){if(!r.getDiagramByOutput(i)){let e=r.outputPins.find((e=>e.id===i));const t=r.addDiagramWithOutput(o||`${r.title}-${e.title}`,e);return requestAnimationFrame((e=>{n.focus(t)})),{id:t.id,title:o||t.title}}}},focusDiagram(e,i){const o=t.getFrame(e);if(o){const e=o.getDiagramByOutput(i);e&&requestAnimationFrame((t=>{n.focus(e)}))}}}}},67995:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(51807),o=n(14046);function r(e,t){const{viewModel:n}=t,r=[],a=n.searchFrame(e);return a&&function e(t){let n;const a=[],l=[],c={},d={},u=[];let p;p=t.parent instanceof i.l?t.isTypeOfFx()?"fx":"frame":t.parent instanceof o.U?"com":"root";t.inputPins&&t.inputPins.forEach((e=>{a.push({pinId:e.hostId,title:e.title,type:e.type,schema:e.schema,extValues:e.extValues})}));t.outputPins&&t.outputPins.forEach((e=>{l.push({id:e.hostId,title:e.title,type:e.type,schema:e.schema})}));t.frameAry&&t.frameAry.forEach((t=>{if(t.diagramAry.length>0){const n=e(t);u.push(n)}}));t.comAry&&t.comAry.forEach((t=>{var i;if((null===(i=t._exeInfo)||void 0===i?void 0:i.errorMsg)&&(n=!0),t.frames){const n=c[t.id]={id:t.id,title:t.runtime.title,namespace:t.runtime.def.namespace,version:t.runtime.def.version,frames:[]};t.frames.forEach((t=>{const i=e(t);n.frames.push(i)}))}}));t.diagramAry&&t.diagramAry.forEach((e=>{if(e.startWithCom){const t=e.startWithCom,n=t.outputPins[0];if(n&&n.conAry){const i=[],o={type:"com",diagramId:e.id,comId:t.id,comTitle:t.runtime.title,connections:[{title:n.title,connectionTo:i}]};n.conAry.forEach((e=>{s(e,i)})),r.push(o)}}}));return{id:t.id,title:t.diagramAry[0].title,type:p,hasError:n,coms:c,autoRunComs:d,inputs:a,outputs:l,frames:u}}(a),r}function s(e,t){const n=e.finishPin,i={},r=[],a=n.parent;if(a instanceof o.U){i.type="com",i.comId=a.id,i.comTitle=a.runtime.title;const e=a.getOutputsAllAry();e&&e.length>0&&e.forEach((e=>{var t;const n=[];r.push({title:e.title,connectionTo:n}),(null===(t=e.conAry)||void 0===t?void 0:t.length)>0&&e.conAry.forEach((e=>{s(e,n)}))}))}else i.type="frame",i.frameId=a.id;i.connections=r,t.push(i)}},16581:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(64012),o=n.n(i),r=n(76521),s=n(91737),a=n(14046),l=n(51807);function c({errorMsg:e,comModel:t,slotId:n,outputId:c,complete:d,close:u,topViewCtx:p}){const{viewModel:f,curFrameModel:h}=p,m=(0,s.HO)((()=>{const e=t.parent;if(e&&e instanceof l.l){const t=(e,n)=>{const i=()=>{const t=[],i=e.frameAry.filter((e=>e.isTypeOfFx()));if(i&&i.forEach(((e,n)=>{e.diagramAry.forEach((e=>{t.push(o().createElement("div",{key:e.id,className:r.A.fx,onClick:t=>{u(),d(e)}},o().createElement("label",null,"fx"),o().createElement("span",null,e.title)))}))})),t.length>0){const i=e.parent,s=i instanceof a.U?`${i.runtime.title} > `:"";return o().createElement("div",{key:e.id,className:r.A.frame},o().createElement("div",{className:r.A.tt},s,e.title),o().createElement("div",{className:r.A.fxs},t,n?n():null))}};return e.parent?e.parent instanceof a.U?t(e.parent.parent,i):i():o().createElement(o().Fragment,null,(()=>{const t=[],n=f.frames.filter((e=>e.isTypeOfFx()));if(n&&n.forEach(((e,n)=>{e.diagramAry.forEach((e=>{t.push(o().createElement("div",{key:e.id,className:r.A.fx,onClick:t=>{u(),d(e)}},o().createElement("label",null,"fx"),o().createElement("span",null,e.title)))}))})),t.length>0)return o().createElement("div",{key:e.id,className:r.A.frame},o().createElement("div",{className:r.A.tt},"全局Fx"),o().createElement("div",{className:r.A.fxs},t))})(),i())};return t(e)}}));(0,i.useCallback)((()=>{h.addFxDiagram()}),[]);return e?o().createElement("div",{className:r.A.view},o().createElement("div",{className:r.A.toolbar}),o().createElement("div",{className:r.A.content},o().createElement("div",{className:r.A.error},e))):o().createElement("div",{className:r.A.view},o().createElement("div",{className:r.A.toolbar}),o().createElement("div",{className:r.A.content},m))}},67075:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(64012),o=n.n(i),r=n(16581);function s(e){const{viewModel:t,emitView:n,emitComponent:i,emitSnap:s,curFrameModel:a}=e;return{hadBindWithCom(e,n){const i=t.searchCom(e);if(!i)return;const o=i.searchPinByHostId(n,"outputs");if(!o)return;const r=o.proxyPin;if(r){const e=r.parent.diagramAry[0];return{id:e.id,title:e.title}}},bindWithCom(i,a){let l,c;const d=t.searchCom(i);d?(l=d.searchPinByHostId(a,"outputs"),l||(c=`未找到输出输出项(outputId=${a})`)):c=`未找到组件(comId=${i})`,n.popView("选择Fx流程卡片..",(({close:t})=>o().createElement(r.A,{topViewCtx:e,errorMsg:c,comModel:d,outputId:a,complete:e=>{const t=s.start("绑定Fx流程卡片");l.proxyPin=e.parent.inputPins[0],t.commit()},close:t})),{width:350,beforeEditView:!0})},focusWithCom(o,r){const s=t.searchCom(o);if(!s)return;const a=s.searchPinByHostId(r,"outputs");if(!a)return;const l=a.proxyPin;if(!l)return;n.recoverSize(e.viewId);const c=l.parent.diagramAry[0];i.focus(c)},removeWithCom(e,n){const i=t.searchCom(e);if(!i)return;const o=i.searchPinByHostId(n,"outputs");o&&(o.proxyPin=void 0)},hadBindWithSlot(e,t){},bindWithSlot(e,t){}}}},74898:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(79732),o=n(46724),r=n(64012);function s(e,t){const n=e.getInputsAllAry(),s=e.outputPins.filter((e=>{if(!n.find((t=>{if(t.rels&&t.rels.includes(e.hostId))return!0})))return e}));return r.createElement("div",{className:o.A.info},r.createElement("div",{className:o.A.tt},"输入项"),r.createElement(i.A,{type:"input",hideTitle:!0,pins:{def:e.inputPins,inModel:e.inputPinsInModel,ext:e.inputPinExts},viewContext:t,readOnly:!0}),r.createElement("div",{className:o.A.tt,style:{marginTop:20}},"输出项"),r.createElement(i.A,{type:"output",hideTitle:!0,pins:{def:s,inModel:e.outputPinsInModel,ext:e.outputPinExts},viewContext:t,readOnly:!0}))}},15876:(e,t,n)=>{"use strict";n.d(t,{BX:()=>A.B,DK:()=>y.D,Jd:()=>b.J,NS:()=>x.N,Pw:()=>v.P,ZJ:()=>C,_:()=>w._,jR:()=>g.j,uH:()=>E});var i=n(14046),o=n(96966),r=n(67622),s=n(61281),a=n(9662),l=n(73245),c=n(1824),d=n(37101),u=n(57161),p=n(76670),f=n(74898),h=n(40304),m=n(62431),g=n(78834),y=n(6250),b=n(67075),v=n(47574),x=n(75385),A=n(25085),w=n(9177);function E(e){(0,d.Ts)(e);const{context:t,viewModel:n,emitComponent:i}=e;return{getSlotJointsInfo(e,t){const i=n.searchCom(e);if(i&&t){const e=i.getFrame(t);if(e){const t={};return e.inputJoints&&(t.inputJoints=e.inputJoints.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),e.outputJoints&&(t.outputJoints=e.outputJoints.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),t}}},getSlotIOInfo(e,t){var i;const r=n.searchCom(e);if(r&&t){let e;if(e=r.runtime.def.namespace===o.ZD.coms.module?null===(i=r.ioProxyForCall)||void 0===i?void 0:i.frame:r.getFrame(t),e){const t={},n={};return e.inputPins&&(t.configs=e.inputPins.map((e=>{if(e.isTypeOfConfig())return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema,editor:e.editor,extValues:e.extValues};e.rels&&e.rels.forEach((e=>{n[e]=!0}))})).filter((e=>e))),e.inputPins&&(t.inputs=e.inputPins.map((e=>{if(!e.isTypeOfConfig())return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema}})).filter((e=>e))),e.outputPins&&(t.outputs=e.outputPins.map((e=>{if(!n[e.hostId])return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema}})).filter((e=>e))),t}}},getSlot_IOInfo(e,t){const i=n.searchCom(e);if(i&&t){const e=i.getFrame(t);if(e){const t={};return e._inputPins&&(t._inputs=e._inputPins.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),e._outputPins&&(t._outputs=e._outputPins.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),t}}},getInputInfo(e,t){const i=n.searchCom(e);if(i){const e=i.getInputPinModel(t);if(e)return{id:e.id,title:e.title}}},getOutputInfo(e,t){const i=n.searchCom(e);if(i){const e=i.getOutputPinModel(t);if(e)return{id:e.id,title:e.title}}},get_InputEditor(e,t){const o=n.searchCom(e);if(o)return o.get_InputEditor(i,t)},getInputEditor(e,t){const o=n.searchCom(e);if(o)return o.getInputEditor(i,t)},get_OutputEditor(e){const t=n.searchCom(e);if(t)return t.get_OutputEditor(i)},getOutputEditor(e,t){const o=n.searchCom(e);if(o)return o.getOutputEditor(i,t)}}}function C(e){const{context:t,viewModel:n,emitLogs:d,emitComponent:g,emitSnap:y,setCurDiagram:b,curFrameModel:v}=e,x=(0,h.F)(e);return Object.assign(Object.assign({},x),{getDocs(t){const i=n.searchCom(t);if(void 0!==i)return(0,f.A)(i,e)},help(t){t instanceof i.U&&(0,m.A)(t,e)},exist:e=>void 0!==n.searchCom(e.id)?{id:e.id,result:!0,info:void 0}:{id:e.id,result:!1,info:`组件 ${e.title}(namespace=${e.def.namespace}) 在逻辑视图中未找到,会导致该组件在运行时无法渲染.`},add:t=>(0,a.x)(e,t),addSlot({comId:e,id:t,title:i,type:o,schema:r,inputs:s,outputs:a}){if(o&&"scope"===o){const o=n.searchCom(e),r=o.addFrame(t,i);r.addIODiagram({title:`${o.runtime.title} ${"| "+i}`}),s&&s.forEach((e=>{r.addInputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})})),a&&a.forEach((e=>{r.addOutputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})}))}return!0},sayHi(e,i){if(t.isDebugMode()||"toplView"===i)return;const o=n.searchCom(e);if(o&&o.frames){const e=o.frames[0].diagramAry[0];b(e),e.parent.blur(),e.state.enable(),g.reFocus(e)}},setSlotTitle(e,t,i){const o=n.searchCom(e);if(o){if(o.getFrame(t))return o.getFrame(t).title=i,!0}},removeSlot(e,t){const i=n.searchCom(e),o=i.getFrame(t);return o&&o.diagramAry&&o.diagramAry.forEach((e=>{g.delete(e)})),i.removeFrame(t),!0},move(e,t,n){},changeOrder(e,t){const i=n.searchCom(e.id);i.parent.changeOrder(i,t)},cutToSlot(t,i,o,r){const s=e.curFrameModel;if(!s)return;const a=n.searchCom(t),l=o!==n.id;let c;if(null==i)c=s;else if(s._rootF&&s.parent&&s.parent.id===i)c=s;else{const e=n.searchCom(i);c=e.getFrame(o),c||(c=e.parent)}return c.cutIn(a,l)},delete:t=>(0,c.P)(e,t),focus(t){if(e.assitWith&&(e.assitWith=void 0),!t)return n.blur(),!0;if(!(t instanceof i.U)&&t instanceof o.PQ&&t.runtime){e.showAboutComId=t.runtime.id;const i=n.searchCom(t.runtime.id);if(i){const t=i.root;requestAnimationFrame((n=>{e.switchFrame(t)}))}}else if(t instanceof s.A)e.setCurDiagram(t);else if(e.curFrameModel){return e.curFrameModel.focusItem(t)}},reFocus(t){t instanceof s.A&&e.setCurDiagram(t)},focusFork:e=>{if(!e)return;const o=t.getComDef(e.runtime.def),{rtType:r}=o;if(r&&null===r.match(/react|vue/gi))return!1;if(e instanceof i.U)return n.state.disable(),!1;n.state.enable();let s=n.searchCom(e.id);return s?(g.focus(s),!0):void 0},blur(e){if(n.state.isDisabled())return!1;n.blur(e)},hintPins(t){const n=e.curFrameModel;let i=!1;if(t.schema){const e=n.findPinAryBySchema(t);e.length>0&&(i=!0,e.forEach((e=>{e.hint=!0})))}return i},assistWithPin(t,n,{x:i,y:o,ex:r,ey:s},a){e.assitWith={type:"inputs",pinModel:t,diagramModel:n,position:{x:i,y:o,ex:r,ey:s},options:a}},connected:t=>(0,u.a)(e,t),disConnected:t=>(0,u.i)(e,t),updatePinSchema:(t,n,i,o)=>(0,p.gz)(e,t,n,i,o),updateFramePinSchema:(t,n,i)=>(0,p.xx)(e,t,n,i),paste:t=>(0,l.A)(t,e),notifyPinRemoved:e=>(0,p.yI)(e),notifyDomainModelUpdated(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.W1.DOMAIN_MODEL_UPDATED];if("function"==typeof l){l((0,r.Q)({context:t,model:n,emitComponent:g,emitSnap:y,emitLogs:d}),{domainModel:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyDomainModelRemoved(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.W1.DOMAIN_MODEL_REMOVED];if("function"==typeof l){l((0,r.Q)({context:t,model:n,emitComponent:g,emitSnap:y,emitLogs:d}),{domainModel:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyConnectorUpdated(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.W1.CONNECTOR_UPDATED];if("function"==typeof l){l((0,r.Q)({context:t,model:n,emitComponent:g,emitSnap:y,emitLogs:d}),{connector:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyConnectorRemoved(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.W1.CONNECTOR_REMOVED];if("function"==typeof l){l((0,r.Q)({context:t,model:n,emitComponent:g,emitSnap:y,emitLogs:d}),{connector:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))}})}},25085:(e,t,n)=>{"use strict";function i(e){const{context:t,viewModel:n,emitComponent:i}=e;return{getAll(){const e=[];return n.frames.forEach((t=>{o(e,t)})),e}}}function o(e,t){t.frameAry.forEach((t=>{o(e,t)})),t.diagramAry.forEach((t=>{t.labelAry&&e.push({title:t.title,type:"diagram",typeLabel:"Fx卡片",labelAry:t.labelAry})}))}n.d(t,{B:()=>i})},73245:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(14046),o=n(91716),r=n(21523),s=n(50335),a=n(51807),l=n(56919),c=n(96966);function d(e,t){const{context:n,viewModel:d,curFrameModel:u,getCurDiagram:p,emitComponent:f,emitLogs:h,emitMessage:m}=t,g=p(),y=e=>{function t(){var t;return m.error(`组件 ${(null===(t=null==e?void 0:e.runtime)||void 0===t?void 0:t.title)||""} 不允许复制到当前卡片.`),!0}if(!e)return t();if(g&&(g.isGlobalVar()||g.isGlobalFx())){if(e instanceof r.default)return t();if(e.isFx,e.isFx()){if(!e.ioProxy.frameId)return t();const n=d.searchFrame(e.ioProxy.frameId);if(!n||n.parent)return t()}}};return new Promise((l=>{let h;const{from:m,rt:E,toplComForked:C,_type_:_}=e;if(C){if(y(C))return void l(u);const M=d.searchCom(m),I={left:void 0,top:void 0};if(M)I.left=M.style.left+20,I.top=M.style.top+40;else{const[P,F]=(0,o.cY)(20,100);I.left=100+P,I.top=100+F}A(C),C.parent=g;const k=g.addCom(C,I?{x:I.left,y:I.top}:void 0);h=k,f.focus(k)}else if(E)if(Array.isArray(E)){function S(e){let t;const o=n.focusModel;if(o&&!(o instanceof i.U)&&o instanceof c.PQ&&o.runtime){const e=f.findFirstScopedSlot(o.id);if(e){const{comId:n,slotId:i}=e,o=d.searchCom(n);o&&(t=o.getFrame(i))}}if(t||(t=g&&g.state.isFocused()?g.parent:u),w(e,t),t.addComponent(e),e.frames&&e.frames.forEach((e=>{b(e)})),e.parent&&!(e.parent instanceof a.l)){const{frame:n}=e.parent;n&&Array.isArray(n.diagrams)&&n.diagrams.forEach((e=>{e.comAry.forEach((n=>{n instanceof r.default||(w(n,e.parent),n.parent=t,t.addComponent(n))})),v(e),e.parent=t,t.diagramAry.push(e)})),e.parent=void 0}e.parent=t,e.runtime.topl!==e&&(e.runtime.topl=e)}if("geoComAry"===_&&E.forEach(((e,t)=>{Array.isArray(e.topl)?e.topl.forEach((e=>{S(e)})):S(e.topl)})),!g)return void l(u);const T=g.style.width-100,O=g.style.height-50,D=g.focusedComAry=[];E.forEach(((e,t)=>{if("geoComAry"!==_){if(!y(e instanceof r.default?e:e.topl))if(e instanceof r.default){const t=e.style;t.left=Math.min(t.left+20,T),t.top=Math.min(t.top+40,O),A(e),e.parent=g,g.addCom(e),D.push(e)}else{const t=e.topl;if(t){if(!x(t,g))return;const e=t.style;e.left=Math.min(e.left+20,T),e.top=Math.min(e.top+40,O),w(t,g.parent),t.parent=g.parent;const n=g.addCom(t);n&&D.push(n)}}}else Array.isArray(e.topl)?e.topl.forEach((e=>{S(e)})):S(e.topl)})),0===_.indexOf("topl")&&(D.length>1?(0,s.cm)(t,g,D):f.focus(D[0]));const N=e.conAry;if(N){const j=p();return void setTimeout((e=>{N.forEach((e=>{const{from:t,to:n}=e,i=E[t.comIndex],o=E[n.comIndex];let s,a;if(s=i instanceof r.default?j.searchComByKey(i._key):j.searchCom(i.id),a=o instanceof r.default?j.searchComByKey(o._key):j.searchCom(o.id),s&&a){const e=s.searchPinByHostId(t.pinHostId,"outputs"),i=a.searchPinByHostId(n.pinHostId,"inputs");j.addConnection(e,i)}})),l(u)}))}}else{function L(e){if(!x(e,g))return;if(!E.hasUI()&&!g)return;if(e instanceof i.U&&y(e))return;let t;const s=n.focusModel;if(s&&!(s instanceof i.U)&&s instanceof c.PQ&&s.runtime){const e=f.findFirstScopedSlot(s.id);if(e){const{comId:n,slotId:i}=e,o=d.searchCom(n);o&&(t=o.getFrame(i))}}t||(t=g&&g.state.isFocused()?g.parent:u);const l=d.searchCom(m),p={left:void 0,top:void 0},A=g?g.style.width-100:200,C=g?g.style.height-50:50;if(l&&l.parent===t)p.left=Math.min(l.style.left+20,A),p.top=Math.min(l.style.top+40,C);else{const[e,t]=(0,o.cY)(20,100);p.left=Math.min(100+e,A),p.top=Math.min(100+t,C)}if(w(e,t),t.addComponent(e),e.frames&&e.frames.forEach((e=>{b(e)})),e.parent&&!(e.parent instanceof a.l)){const{frame:n}=e.parent;n&&Array.isArray(n.diagrams)&&n.diagrams.forEach((e=>{e.comAry.forEach((n=>{n instanceof r.default||(w(n,e.parent),n.parent=t,t.addComponent(n))})),v(e),e.parent=t,t.diagramAry.push(e)})),e.parent=void 0}if(e.parent=t,!e.runtime.hasUI()){const t=g.addCom(e,{x:p.left,y:p.top});t&&(h=t,f.focus(t))}}if(Array.isArray(E.topl)){let R;E.topl.forEach((e=>{L(e),e.id===E.id&&(R=e)})),E.topl=R}else{const B=E.topl;B&&L(B)}}l(u)}));function b(e){function t(e,t){let n=300,i=100;g&&(n=g.style.width-100,i=g.style.height-50);const s={left:void 0,top:void 0},[l,c]=(0,o.cY)(20,100);if(s.left=Math.min(100+l,n),s.top=Math.min(100+c,i),w(e,t),t.addComponent(e),e.frames&&e.frames.forEach((e=>{b(e)})),e.parent&&!(e.parent instanceof a.l)){const{frame:n}=e.parent;n&&Array.isArray(n.diagrams)&&n.diagrams.forEach((e=>{e.comAry.forEach((n=>{n instanceof r.default||(w(n,e.parent),n.parent=t,t.addComponent(n))})),v(e),e.parent=t,t.diagramAry.push(e)})),e.parent=void 0}e.parent=t}e.frameAry&&e.frameAry.forEach((e=>{b(e)}));const n=e.comAry.length;for(let i=0;i<n;i++){const n=e.comAry[i],o=n.runtime;if(Array.isArray(o.topl)){let n;o.topl.forEach((i=>{t(i,e),i.id===o.id&&(n=i)})),o.topl=n}else w(n,e);n.frames&&n.frames.forEach((e=>{b(e)}))}e.diagramAry&&e.diagramAry.forEach((e=>{v(e)}))}function v(e){e.comAry.forEach((e=>{e instanceof r.default&&A(e)}));const t=e.conAry;t&&t.forEach((t=>{t.id=(0,o.uR)(),t.parent=e;const{startPin:n,finishPin:i}=t;n.addCon(t),i.addCon(t)}))}function x(e,t){return!(e.isAutoRun()&&!e.runtime.hasUI()&&!(null==t?void 0:t.isGlobal))||(m.error(`当前流程卡片不支持组件(${e.runtime.title})作为起点.`),!1)}function A(e){let t,n;e.forkedFrom?(e._key=(0,o.uR)(),t=d.searchCom(e.forkedFrom.id),t?e.forkedFrom=t:(n=!0,e.forkedFrom=new i.U)):n=!0;e.getInputsAllAry().forEach(((e,i)=>{var o;e.forkedFrom&&((null===(o=e.forkedFrom)||void 0===o?void 0:o.id)?t?e.forkedFrom=t.searchPin(e.forkedFrom.id):(e.forkedFrom=new l.x,n=!0):(e.forkedFrom=void 0,n=!0))}));e.getOutputsAllAry().forEach((e=>{var i;e.forkedFrom&&((null===(i=e.forkedFrom)||void 0===i?void 0:i.id)?t?e.forkedFrom=t.searchPin(e.forkedFrom.id):(e.forkedFrom=new l.x,n=!0):(e.forkedFrom=void 0,n=!0))})),n&&(h.error("组件数据错误."),m.error("组件数据错误."))}function w(e,t){if(e.ioProxyForCall&&e.ioProxyForCall.frameId){const t=d.searchFrame(e.ioProxyForCall.frameId);e.ioProxyForCall.frameId=void 0,t?e.ioProxyForCall.frame=t:e.ioProxyForCall=void 0}if(e.inputPins&&e.inputPins.forEach((e=>{if(e.proxyPinValue&&e.proxyPinValue.frameId)if(t.inputPins.length>0){const n=t.inputPins[0];e.proxyPinValue=n}else e.proxyPinValue=void 0})),e.outputPins&&e.outputPins.forEach((e=>{if(e.proxyPinValue&&e.proxyPinValue.frameId)if(t.inputPins.length>0){const n=t.inputPins[0];e.proxyPinValue=n}else e.proxyPinValue=void 0})),e.ioProxy&&e.ioProxy.frameId){const t=d.searchFrame(e.ioProxy.frameId);e.ioProxy=t||void 0,e.inputPinsInModel&&e.inputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t.frameId){const t=d.searchFrame(e.proxyPin.frameId);e.proxyPin=t?t.inputPins.find((t=>t.id===e.proxyPin.id)):void 0}}))}e._inputPins&&e._inputPins.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t.frameId){const t=d.searchFrame(e.proxyPin.frameId);e.proxyPin=t?t.inputPins.find((t=>t.id===e.proxyPin.id)):void 0}})),e._outputPins&&e._outputPins.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t.frameId){const t=d.searchFrame(e.proxyPin.frameId);e.proxyPin=t?t.outputPins.find((t=>t.id===e.proxyPin.id)):void 0}}))}}},69008:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});n(56919),n(96966),n(60599),n(61281);function i(e,t,n){const i=e.topl;if(i&&(i._autoRun&&t.setAutoRun(!0),Array.isArray(i.inputPinsInModel)&&i.inputPinsInModel.forEach((e=>{const i=t.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,editable:e.editable,deletable:!0});i&&(i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin}))})),Array.isArray(i.outputPinsInModel)&&i.outputPinsInModel.forEach((i=>{e._baseModel;const o=t.addOutputPinInModel({hostId:i.hostId,title:i.title,schema:i.schema,editable:i.editable,deletable:!0});o&&(o.id=i.id,i.proxyPin&&n.proxyPins.push({pin:o,proxy:i.proxyPin}))})),Array.isArray(i.inputPins)&&i.inputPins.forEach((e=>{const i=t.addInputPin({hostId:e.hostId,title:e.title,schema:e.schema,editable:e.editable,rels:e.rels});i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin})})),Array.isArray(i.outputPins)&&i.outputPins.forEach((e=>{const i=t.addOutputPin({hostId:e.hostId,title:e.title,editable:e.editable,schema:e.schema});i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin})})),Array.isArray(i.inputPinExts)&&i.inputPinExts.forEach((e=>{t.addInputPinExt({hostId:e.hostId,title:e.title,schema:e.schema}).id=e.id})),Array.isArray(i.outputPinExts)&&i.outputPinExts.forEach((e=>{t.addOutputPinExt({hostId:e.hostId,title:e.title,schema:e.schema}).id=e.id})),i.style))for(let e in i.style)t.style[e]=i.style[e]}},76670:(e,t,n)=>{"use strict";n.d(t,{gz:()=>d,xx:()=>u,yI:()=>c});var i=n(96966),o=n(67622),r=n(91716),s=n(91737),a=n(14046),l=n(37101);function c(e){(0,l.JO)(e)}function d(e,t,n,i,o){const{viewModel:a,context:c,emitComponent:d,emitSnap:u,emitLogs:p}=e,f=a.searchCom(n);if(f){const e=f.searchPinByHostId(i,t);if(!e)return;e.schema=o,(0,l.Sx)(e,t),"inputs"===t?e.conAry&&e.conAry.forEach((t=>{t.startPin._schemaFollow&&(0,r.Ry)(e.schema)&&(t.startPin.schema=(0,s.o8)(e.schema),(0,l.Sx)(t.startPin,"outputs"))})):"outputs"===t&&e.conAry&&e.conAry.forEach((t=>{var n;(null===(n=t.finishPin)||void 0===n?void 0:n._schemaFollow)&&(0,r.Ry)(e.schema)&&(t.finishPin.schema=(0,s.o8)(e.schema),(0,l.Sx)(t.finishPin,"inputs"))}))}}function u(e,t,n,l){const{viewModel:c,context:d,emitComponent:u,emitSnap:p,emitLogs:f}=e;function h(e){const t=e.parent;if(t instanceof a.U){const n=d.getComDef(t.runtime.def);if(null==n?void 0:n.editors){const r=n.editors[i.W1.INPUT_UPDATED];"function"==typeof r&&r((0,o.Q)({context:d,model:t,emitComponent:u,emitSnap:p,emitLogs:f}),{id:e.hostId,title:e.title,schema:e.schema})}}}n.schema=l,"_inputs"===t||("inputs"===t?n.conAry&&n.conAry.forEach((e=>{e.startPin._schemaFollow&&(0,r.Ry)(n.schema)&&(e.startPin.schema=(0,s.o8)(n.schema),h(e.startPin))})):"outputs"===t&&n.conAry&&n.conAry.forEach((e=>{var t;(null===(t=e.finishPin)||void 0===t?void 0:t._schemaFollow)&&(0,r.Ry)(n.schema)&&(e.finishPin.schema=(0,s.o8)(n.schema),h(e.finishPin))})));const m=n.parent,g=m.parent;if(g instanceof a.U){const e=d.getComDef(g.runtime.def);if(e.editors){let r;r="inputs"===t?e.editors[i.W1.SLOT_INPUT_UPDATED]:e.editors[i.W1.SLOT_OUTPUT_UPDATED],"function"==typeof r&&r((0,o.Q)({context:d,model:g,emitComponent:u,emitSnap:p,emitLogs:f}),m.id,{id:n.hostId,title:n.title,schema:n.schema})}const r=g.inputPinExtForFrames;r&&r.find((e=>{const t=e.proxyMyFramePin;if(t&&t.pinId===n.id)return e.schema=l,!0}))}}},78834:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(34386);function o(e){const{viewModel:t}=e;return{setTitle(e,n,i){if("toplView"!==i){const i=t.searchFrame(e);if(i){i.title=n;const e=i.getGlobalDiagram();e&&(e.title=n)}}},setCurHostId(e){t.curHostId=e},switch(n){if(!n)return void e.clearCurFrameModel();const i=t.searchFrame(n);i&&e.switchFrame(i)},delete(e){const n=t.getFrame(e);n&&(n.destroy(),n.frameAry&&n.frameAry.forEach((e=>{e.destroy()})),t.deleteFrame(n))},debug(n,o,r,s){if("toplView"!==s){const o=t.getFrame(n);(0,i.eF)(o,e,"start")}},close(t){e.clearCurFrameModel()}}}},1537:(e,t,n)=>{"use strict";function i(e,t,n,i){const o=e.curFrameModel;if(!o)return;const r=o.searchCom(t);if(!r)return;const s=r.parent;if(s)if(0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const[t,n]=e;if(r.getFrame(t)){if(s.getDiagramForJoint(n))return!0}}}else{const e=s.getDiagramByCom(r,n);if(e)return!0;if(!e&&r.frames&&r.frames.find((e=>e.getDiagramByCom(r,n))))return!0}else console.warn(`【异常】组件${r.title}没有parent.`)}function o(e,t,n,i){const{viewModel:o,context:r,curFrameModel:s,emitComponent:a,emitView:l,emitSnap:c,emitLogs:d}=e,u=s.searchCom(t),p=u.parent;let f;if(0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const[t,n]=e,i=u.getFrame(t);i&&(f=p.editDiagramForJoint(i,n))}}else{let e;e=i?u.getFrame(i):u.parent,f=e.editDiagramForFrame(u,n)}l.recoverSize(e.viewId),a.focus(f)}function r(e,t,n,i){const{curFrameModel:o,emitComponent:r,emitView:s}=e,a=o.searchCom(t);if(s.recoverSize(e.viewId),0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const t=a.parent,[n,i]=e,o=a.getFrame(n);if(o){const e=t.editDiagramForJoint(o,i);if(e)return r.focus(e),{id:e.id,title:e.title}}}}else{let e;if(e=i?a.getFrame(i):a.parent,e){const t=e.editDiagramForFrame(a,n);if(t)return r.focus(t),{id:t.id,title:t.title}}}}n.d(t,{KS:()=>o,dU:()=>r,yw:()=>i})},62431:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(85655),o=n(64012);function r(e,t){const{context:n,emitView:i}=t,r=n.getComDef(e.runtime.def);i.popView(r.title,(n=>o.createElement(s,{model:e,tvCtx:t})),{width:400,onClose(){e.state.helpingRecover()}})}function s({model:e,tvCtx:t}){const{context:n,emitComponent:r}=t,s=n.getComDef(e.runtime.def),a=r.getDocs(e.id);let l;return a&&(l=Array.isArray(a)?a.map(((e,t)=>o.createElement("div",{key:t,style:{borderTop:"1px solid #EEE",paddingTop:10}},e))):o.createElement("div",{style:{borderTop:"1px solid #EEE",paddingTop:10}},a)),o.createElement("div",{className:i.A.comDocs},o.createElement("div",{className:i.A.item,style:{borderBottom:"1px solid #EEE",paddingBottom:10}},o.createElement("label",null,"ID:")," ",e.id),o.createElement("div",{className:i.A.item},o.createElement("label",null,"作者:")," ",s.author),o.createElement("div",{className:i.A.item},o.createElement("label",null,"版本:")," ",e.runtime.def.version),o.createElement("div",{className:i.A.item},o.createElement("label",null,"namespace:")," ",e.runtime.def.namespace),l)}},32121:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var i=n(96966),o=n(14046);function r(e){const{context:t,viewModel:n,emitComponent:r}=e;return{getAll:()=>s(n),getAllBaseOn(e){const t=n.searchCom(e).parent;if(t)return a(t,n)},get(e,t){if(t){const i=n.searchCom(t);if(i){const t=i.parent;if(t){const i=a(t,n);if(i){let t;const n=i=>{i.varAry&&i.varAry.find((n=>{if(n.id===e)return t={id:n.id,title:n.title},!0})),t||i.parent&&n(i.parent)};return n(i),t}}}}else{const t=n.getVarComponent(e);if(t)return{id:t.id,title:t.runtime.title}}},add({title:e,schema:r,initValue:s,slotId:a}){var l;const c=()=>{const n=t.getComDef({namespace:i.ZD.coms.var}),r=new i.Al(n,!1,e),s=new o.U(r);s.runtime.topl=s,s.isSingleton=!0;const a={type:"string"};return s.outputPins.forEach((e=>{e.schema=a})),s};if(a){const t=n.getMainModuleFrame();if(t.getSingletonComAry(i.ZD.coms.var).find((t=>t.runtime.title===e)))return;{const e=c();return t.addComponent(e).id}}{if(null===(l=n.varComAry)||void 0===l?void 0:l.find((t=>t.runtime.title===e)))return;const t=c();return n.addVarComponent(t).id}},update(e,{title:t,schema:i,initValue:o}){const r=n.searchCom(e);if(r)return r.runtime.title=t,r.runtime.model.data.initValue=o,r.outputPins.forEach((e=>{e.schema=i})),!0},remove(e){const t=n.searchCom(e);if(t)return r.delete(t),!0},notifyBindings(e,t,i){const o=n.searchCom(e);o&&o.notifyBindings(t,i)}}}function s(e){const t=e.varComAry;if(t&&t.length>0){return{varAry:t.map((e=>{const t=e.runtime;return{id:e.id,title:t.title,initValue:t.model.data.initValue}}))}}}function a(e,t){const n=e.getSingletonComAry(i.ZD.coms.var).map((e=>{const t=e.runtime;return{id:e.id,title:t.title,initValue:t.model.data.initValue}}));if(e.parent instanceof o.U){const i=e.parent.parent;if(i)return{title:e.title,parent:a(i,t),varAry:n}}else if(!e.parent){const i=s(t);if(i)return{title:e.title,parent:i,varAry:n}}return{title:e.title,varAry:n}}},51807:(e,t,n)=>{"use strict";n.d(t,{l:()=>A});var i,o,r,s,a=n(56919),l=n(14046),c=n(60599),d=n(91716),u=n(98058),p=n(96979),f=n(54706),h=n(96966),m=n(91737),g=n(38570),y=n(92758),b=n(61281),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let A=i=class extends u.A{isBizTypeOfUI(){return!this.isTypeOfExtension()&&(!this.bizType||"ui"===this.bizType)}isBizTypeOfService(){return"service"===this.bizType}get connections(){const e=this;return{isChanging:()=>e._connections.changing,isChanged:()=>e._connections.changed,changing(){e._connections.changing=!0},changed(){e._connections.changed=!0},refactored(){e._connections.changing=void 0,e._connections.changed=void 0}}}get conAry(){let e=[];return this.diagramAry&&this.diagramAry.forEach((t=>{e=e.concat(t.conAry)})),e}constructor(e){if(super(),this._type=f.C9.FRAME,this.style={left:null,top:null},this.editable=!0,this.frameAry=[],this.inputPins=[],this._inputPins=[],this.outputPins=[],this._outputPins=[],this.inputJoints=[],this.outputJoints=[],this.comAry=[],this.diagramAry=[],this.comsAddedInDebug=[],this._connections={changed:!0,changing:void 0},this.focusModelAry=[],this.zIndexCur={con:0,com:100},e){const{id:t,name:n,title:i,catalogId:o,type:r,bizType:s,deletable:a,debuggable:l,rootF:c,asDefault:d}=e;t&&(this.id=t),i&&(this.title=i),n&&(this.name=n),"boolean"==typeof c&&(this._rootF=c),o&&(this.catalogId=o),this.type=r,this.bizType=s,this._defaultF=d,this.deletable=a,this.debuggable=l}}get root(){return this.getRoot((e=>e instanceof i&&e._rootF||e._rootF))}isRootFrame(){return!this.parent}setAsDefault(){this._defaultF=!0}isDefault(){return this._defaultF}isTypeOfEmpty(){return"empty"===this.type}isTypeOfNormal(){return"normal"===this.type}isTypeOfFx(){return"fx"===this.type||this.diagramAry.some((e=>e.isFn))}isTypeOfExtension(){return"extension"===this.type}isTypeOfPopup(){return"popup"===this.type}isTypeOfDefinedCom(){return"definedCom"===this.type}isTypeOfModule(){return"module"===this.type&&!this.isDefault()}setTitle(e){this.title=e,this.diagramAry.find((t=>{if(t.isGlobal)return t.title=e,!0}))}addExeTodo(e){this.exeTodo||(this.exeTodo=[]),this.exeTodo.push(e)}exist(){return!0}addDebugTempCom(e){(0,m.Xe)(e),this.comsAddedInDebug.push(e)}clearAllTempComs(){this.comsAddedInDebug.forEach((e=>{if(this.diagramAry){let t;this.diagramAry.find(((n,i)=>{if(n.startWithCom&&n.startWithCom.forkedFrom===e)return t=i,!0})),void 0!==t&&this.diagramAry.splice(t,1)}this.delete(e)}))}addFrame({id:e,title:t,type:n,catelogId:o,deletable:r,debuggable:s},a){const l=new i({id:e,title:t,catelogId:o,type:n,deletable:r,debuggable:s});return a||(l.parent=this),this.frameAry.push(l),this.frameAry[this.frameAry.length-1]}addDiagramWithStartCom(e,t,n,i){const o=new b.A(this,e,"startCom",{io:n,startFrom:t,isBlueprint:i});let r=0,s=0;if(this.diagramAry.length>0){const e=this.diagramAry[this.diagramAry.length-1];r=e.style.left,s=e.style.top+e.style.height+50}return o.style.left=r,o.style.top=s,this.diagramAry.push(o),this.diagramAry[this.diagramAry.length-1]}addDiagramWithOutput(e,t){const n=new b.A(this,e,"startOutput",{outputPin:t});return this.diagramAry.push(n),this.diagramAry[this.diagramAry.length-1]}addDiagramWithFrame(e,t,n){const i=new b.A(this,e,"startFrame",{startFrom:t,outputJoint:n});let o=0,r=0;if(this.diagramAry.length>0){const e=this.diagramAry[this.diagramAry.length-1];o=e.style.left,r=e.style.top+e.style.height+50}return i.style.left=o,i.style.top=r,this.diagramAry.push(i),this.diagramAry[this.diagramAry.length-1]}addIODiagram(e){const t=new b.A(this,e.title,"normal");return t.isGlobal=!0,t.showIO=!0,this.diagramAry.push(t),this.diagramAry[this.diagramAry.length-1]}addVarDiagram(e){let t=new b.A(this,e.title,"normal");return this.diagramAry.push(t),t=this.diagramAry[this.diagramAry.length-1],t.isVar=!0,t.varCom=e,t}addFxDiagram(){let e=0;this.frameAry.forEach((t=>{t.diagramAry.length>0&&(e+=t.diagramAry.filter((e=>e.isFn)).length)}));let t=new i;t.parent=this,this.frameAry.push(t),t=this.frameAry[this.frameAry.length-1],t.title=`${this.title}的Fx卡片${e}`,t.addInputPin({type:"normal",hostId:"param0",title:"输入项",schema:{type:"unknown"},editable:!0});const n=new b.A(t,t.title,"normal");return n.isFn=!0,t.diagramAry.push(n),t.diagramAry[t.diagramAry.length-1]}removeDiagram(e){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}getGlobalDiagram(){return this.diagramAry.find((e=>e.isGlobal))}getFocusedDiagram(){let e;return this.diagramAry&&(e=this.diagramAry.find((e=>e.state.isFocused()))),e||this.frameAry.find((t=>{const n=t.getFocusedDiagram();if(n)return e=n,!0})),e}searchDiagramByVarRef(e,t,n){this.diagramAry&&this.diagramAry.forEach((i=>{i.comAry.find((e=>{if(e.isVar()&&e.id===t.id){if(e.getInputsAllAry().find((e=>{if(e.hostId===n)return!0})))return!0}}))&&e.push(i)})),this.frameAry&&this.frameAry.forEach((i=>{i.searchDiagramByVarRef(e,t,n)})),this.comAry&&this.comAry.forEach((i=>{i.frames&&i.frames.forEach((i=>{i.searchDiagramByVarRef(e,t,n)}))}))}searchDiagramByVar(e){if(this.diagramAry){const t=this.diagramAry.find((t=>{if(t.varCom===e)return!0}));if(t)return t}if(this.comAry){let t;if(this.comAry.find((n=>{n.frames&&n.frames.find((n=>(t=n.searchDiagramByVar(e),t)))})),t)return t}}searchDiagramByFxRef(e,t){this.diagramAry&&this.diagramAry.forEach((n=>{n.comAry.find((e=>{if(e.ioProxy===t)return!0}))&&e.push(n)})),this.frameAry&&this.frameAry.forEach((n=>{n.searchDiagramByFxRef(e,t)})),this.comAry&&this.comAry.forEach((n=>{n.frames&&n.frames.forEach((n=>{n.searchDiagramByFxRef(e,t)}))}))}searchDiagramByPin(e){if(this.diagramAry)return this.diagramAry.filter(((t,n)=>{if(t.comAry.find((t=>!!d.DO.find((t=>t.id===e.id),...t.getInputsAll())||(!!d.DO.find((t=>t.id===e.id),...t.getOutputsAll())||void 0))))return!0}))}searchDiagramByStartCom(e){if(this.diagramAry)return this.diagramAry.filter(((t,n)=>{if(t.startWithCom&&t.startWithCom.forkedFrom===e)return!0}))}addInputJoint(e){const{id:t,hostId:n,title:i,schema:o,icon:r}=e,s=this.inputJoints.some((e=>e.hostId===n));if(s)return;const l=new a.x({type:"joint",direction:"inner-output",id:t,hostId:n,title:i,schema:o,icon:r,deletable:!0});return l.parent=this,this.inputJoints.push(l),l}downwardJoint(e){const t=this.inputJoints.indexOf(e)>=0?this.inputJoints:this.outputJoints;if(t.length>1){const n=t.indexOf(e);if(n<t.length-1){const e=n,i=n+1;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}upwardJoint(e){const t=this.inputJoints.indexOf(e)>=0?this.inputJoints:this.outputJoints;if(t.length>1){const n=t.indexOf(e);if(n>0){const e=n-1,i=n;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}addOutputJoint(e){const{id:t,hostId:n,title:i,schema:o,icon:r}=e,s=this.outputJoints.some((e=>e.hostId===n));if(s)return;const l=new a.x({type:"joint",direction:"inner-input",id:t,hostId:n,title:i,schema:o,icon:r,deletable:!0});return l.parent=this,this.outputJoints.push(l),l}removeInputJoint(e){let t;this.inputJoints.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.inputJoints.splice(t,1)}renameInputJoint(e,t){this.inputJoints.find((n=>{n.hostId===e&&(n.title=t)}))}setInputJointSchema(e,t){this.inputJoints.find((n=>{n.hostId===e&&(n.schema=t)}))}removeOutputJoint(e){let t;this.outputJoints.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.outputJoints.splice(t,1)}renameOutputJoint(e,t){this.outputJoints.find((n=>{n.hostId===e&&(n.title=t)}))}setOutputJointSchema(e,t){this.outputJoints.find((n=>{n.hostId===e&&(n.schema=t)}))}add_InputPin(e){const{id:t,hostId:n,title:i,params:o,schema:r,conMax:s,rels:l}=e,c=this._inputPins.find((e=>e.hostId===n));if(c)return c;const d=new a.x({type:"normal",direction:"inner-output",id:t,hostId:n,title:i,params:o,schema:r,conMax:s,deletable:!1,isPrivate:!0,rels:l});return d.parent=this,this._inputPins.push(d),d}addInputPin(e,t){const{type:n,typeTitle:i,fromPlugin:o,extFrameId:r,id:s,hostId:l,title:c,desc:d,wrap:u,schema:p,icon:f,conMax:h,editable:m,deletable:g,extValues:y,editor:b}=e,v=this.inputPins.some((e=>e.hostId===l));if(v)return;const x=new a.x({type:n||"normal",fromPlugin:o,extFrameId:r,direction:"inner-output",id:s,hostId:l,title:c,desc:d,typeTitle:i,wrap:u,schema:p,icon:f,conMax:h,editable:m,deletable:g,extValues:y,editor:b});if(x.parent=this,t?this.inputPins.unshift(x):this.inputPins.push(x),this._rootF&&this.parent){this.parent.addInputPin({hostId:l,title:c,schema:p})}return x}addExtInputPin(){if(this.parent instanceof l.U){const e=this.parent.getExtInputPinsForFrame(this.id)||[],t=(0,d.uR)(),n=`新增扩展输入项${e.length+1}`;this.addInputPin({id:t,hostId:t,type:"ext",title:n,schema:{type:"string"},editable:!0,deletable:!0});const i=(0,d.uR)();this.parent.addInputPinExtForFrame(this.id,{id:i,hostId:t,type:"ext",title:n,schema:{type:"string"}})}}downwardPin(e,t){let n,i=!1;if(this.inputPins.indexOf(e)>=0?(i=!0,n=this.inputPins):n=this.outputPins,n.length>1){const o=n.indexOf(e);if(o<n.length-1){const r=o,s=o+1,a=n[s];n[r]=n.splice(s,1,n[r])[0];const l=(0,m.oT)(a.$el,t.$el),c={x:Math.round(l.x+(i?1:-1)*a.$el.width()/2)+.5,y:Math.round(l.y)+.5,j:a.getJoinerWidth()},d=(0,m.oT)(e.$el,t.$el),u={x:Math.round(d.x+(i?1:-1)*e.$el.width()/2)+.5,y:Math.round(d.y)+.5,j:e.getJoinerWidth()};return i?(e.conAry&&e.conAry.forEach((e=>{e.startPo=c})),a.conAry&&a.conAry.forEach((e=>{e.startPo=u}))):(e.conAry&&e.conAry.forEach((e=>{e.finishPo=c})),a.conAry&&a.conAry.forEach((e=>{e.finishPo=u}))),!0}}return!1}upwardPin(e,t){let n,i=!1;if(this.inputPins.indexOf(e)>=0?(i=!0,n=this.inputPins):n=this.outputPins,n.length>1){const o=n.indexOf(e);if(o>0){const r=o-1,s=o,a=n[r];n[r]=n.splice(s,1,a)[0];const l=(0,m.oT)(a.$el,t.$el),c={x:Math.round(l.x+(i?1:-1)*a.$el.width()/2)+.5,y:Math.round(l.y)+.5,j:a.getJoinerWidth()},d=(0,m.oT)(e.$el,t.$el),u={x:Math.round(d.x+(i?1:-1)*e.$el.width()/2)+.5,y:Math.round(d.y)+.5,j:e.getJoinerWidth()};return i?(e.conAry&&e.conAry.forEach((e=>{e.startPo=c})),a.conAry&&a.conAry.forEach((e=>{e.startPo=u}))):(e.conAry&&e.conAry.forEach((e=>{e.finishPo=c})),a.conAry&&a.conAry.forEach((e=>{e.finishPo=u}))),!0}}return!1}add_OutputPin(e){const{id:t,hostId:n,title:i,params:o,schema:r,conMax:s}=e,l=this._outputPins.find((e=>e.hostId===n));if(l)return l;const c=new a.x({type:"normal",direction:"inner-input",id:t,hostId:n,title:i,params:o,schema:r,conMax:s,isPrivate:!0,deletable:!1});return c.parent=this,this._outputPins.push(c),c}addOutputPin(e){const{id:t,hostId:n,title:i,desc:o,type:r,wrap:s,schema:l,icon:c,conMax:d,editable:u,deletable:p}=e,f=this.outputPins.some((e=>e.hostId===n));if(f)return;const h=new a.x({type:r||"normal",direction:"inner-input",id:t,hostId:n,title:i,desc:o,wrap:s,schema:l,icon:c,conMax:d,editable:u,deletable:p});if(h.parent=this,this.outputPins.push(h),this._rootF&&this.parent){this.parent.addOutputPin({hostId:n,title:i,schema:l})}return h}remove_InputPin(e){let t;this._inputPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this._inputPins.splice(t,1)}removeInputPin(e){let t,n;if(this.inputPins.find(((i,o)=>{i.hostId===e&&(n=i,i.destroy(),t=o)})),n){if(n.isTypeOfExt()){const e=this.parent;if(e&&e instanceof l.U){const t=e.searchProxyForMyFramePin(this.id,n.id);t&&e.removeInputPin(t.hostId)}}this.inputPins.splice(t,1)}if(this._rootF&&this.parent){this.parent.removeInputPin(e)}}renameInputPin(e,t){const n=this.inputPins.find((n=>{if(n.hostId===e)return n.title=t,n}));if(n){const e=this.parent;if(e instanceof l.U){const i=e.inputPinExtForFrames;i&&i.find((e=>{const i=e.proxyMyFramePin;if(i&&i.frameId===this.id&&i.pinId===n.id)return e.title=t,!0}))}}if(this._rootF&&this.parent){this.parent.setInputPinTitle(e,t)}}setInputPinSchema(e,t){const n=this.inputPins.find((n=>{if(n.hostId===e)return n.schema=t,n}));if(n){const e=this.parent;if(e instanceof l.U){const i=e.inputPinExtForFrames;i&&i.find((e=>{const i=e.proxyMyFramePin;if(i&&i.frameId===this.id&&i.pinId===n.id)return e.schema=t,!0}))}}if(this._rootF&&this.parent){this.parent.setInputPinSchema(e,t)}}removeOutputPin(e){let t;if(this.outputPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.outputPins.splice(t,1),this._rootF&&this.parent){this.parent.removeOutputPin(e)}}renameOutputPin(e,t){if(this.outputPins.find((n=>{n.hostId===e&&(n.title=t)})),this._rootF&&this.parent){this.parent.setOutputPinTitle(e,t)}}setOutputPinSchema(e,t){if(this.outputPins.find((n=>{n.hostId===e&&(n.schema=t)})),this._rootF&&this.parent){this.parent.setOutputPinSchema(e,t)}}addComponent(e){return this.comAry.find((t=>t.id===e.id))?e:(e.parent=this,e.runtime.topl||(e.runtime.topl=e),this.comAry.push(e),this.comAry[this.comAry.length-1])}removeComponent(e){const t=this.comAry.indexOf(e);t>=0&&this.comAry.splice(t,1)}addConnection(...e){let t;e[0]instanceof c.E?t=e[0]:e.length>=2&&e[0]instanceof a.x&&e[0]instanceof a.x&&(t=(0,y.KA)(e[0],e[1],this.$el)),t.parent=this;return e.find((e=>"boolean"==typeof e&&e))?(this.conTemp=t,this.conTemp):(this.conAry.push(t),this.conAry[this.conAry.length-1])}getSingletonComAry(e){return e?this.comAry.filter((t=>{if(t.isSingleton&&t.runtime.def.namespace===e&&!t.forkedFrom)return t})):this.comAry.filter((e=>e.isSingleton&&!e.forkedFrom))}changeOrder(e,t){const n=[];return this.comAry.forEach(((i,o)=>{o==t&&n.push(e),i.id!==e.id&&n.push(i)})),t==this.comAry.length&&n.push(e),this.comAry=n,e.parent=this,this.comAry[t]}copyIn(e,t){let n,i=new l.U(e);if(this.state.isHovering()&&(this.state.hoverRecover(),n=!0),n){let t=(0,d.E9)(e.$el),n=(0,d.E9)(this.$el);i.style.left=t.x-n.x,i.style.top=t.y-n.y}else if(t){let[e,t]=(0,d.cY)(20,80);i.style.left=e,i.style.top=t}else i.style.left=void 0!==i.style.left?i.style.left:20,i.style.top=void 0!==i.style.top?i.style.top:20;return this.comAry.push(i),i.parent=this,this.focusItem(i),i}cutIn(e,t){let n;if(this.state.isHovering()&&(this.state.hoverRecover(),n=!0),e&&e instanceof l.U){const i=e;if(i.parent!==this){if(n){let e=(0,d.E9)(i.$el),t=(0,d.E9)(this.$el);i.style.left=e.x-t.x,i.style.top=e.y-t.y}else if(t){let[e,t]=(0,d.cY)(20,50);i.style.left=e,i.style.top=t}else i.style.left=void 0!==i.style.left?i.style.left:20,i.style.top=void 0!==i.style.top?i.style.top:20;const e=i.parent;e.diagramAry.forEach(((t,n)=>{t.startWithCom&&t.startWithCom.forkedFrom===i&&(t.outputPins&&t.outputPins.forEach((e=>{e.destroy()})),t.outputPins=[],t.comAry.forEach((t=>{if(t.isVar())console.log(t);else{const n=t.runtime.hasUI();n||e.release(t),t.parent=this,n||this.comAry.push(t)}})),t.parent=this,this.diagramAry.push(t))})),e.diagramAry=e.diagramAry.filter(((e,t)=>!e.startWithCom||e.startWithCom.forkedFrom!==i)),e.release(i),this.comAry.push(i),i.parent=this}return e}}hasChildCom(e){return void 0!==this.comAry.find((t=>t.id==e.id))}hasCom(e){return void 0!==this.searchCom(e.id)}searchComByRefId(e){let t;return this.comAry&&this.comAry.find((n=>n.runtime.refId==e?(t=n,!0):n.frames?n.frames.find((n=>{if(t=n.searchComByRefId(e),t)return!0})):void 0)),t}searchCom(e,t){let n;return this.comAry&&this.comAry.find((i=>i.id==e?(n=i,!0):i.frames?i.frames.find((i=>{if(n=i.searchCom(e,t),n)return!0})):void 0)),!n&&this.frameAry&&this.frameAry.find((i=>{if(n=i.searchCom(e,t),n)return!0})),!n&&t&&this.diagramAry.find((t=>{if(n=t.searchCom(e),n)return!0})),n}searchComByDef(e,t){return t=t||[],this.comAry&&this.comAry.find((n=>{n.runtime.def.namespace===e.namespace&&t.push(n),n.frames&&n.frames.forEach((n=>{const i=n.searchComByDef(e);i&&(t=t.concat(i))}))})),this.frameAry&&this.frameAry.find((n=>{const i=n.searchComByDef(e);i&&(t=t.concat(i))})),t}searchComInDiagrams(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchCom(e),t)return t})),!t&&this.frameAry&&this.frameAry.find((n=>{if(t=n.searchComInDiagrams(e),t)return t})),t}searchForkedComAry(e,t){return t||(t=[]),this.diagramAry&&this.diagramAry.forEach((n=>{n.searchForkedComAry(e,t)})),this.frameAry&&this.frameAry.forEach((n=>{n.searchForkedComAry(e,t)})),this.comAry&&this.comAry.forEach((n=>{n.frames&&n.frames.forEach((n=>{n.searchForkedComAry(e,t)}))})),t}searchComInDiagramsBy_key(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchComBy_key(e),t)return t})),!t&&this.frameAry&&this.frameAry.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return t})),!t&&this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return t}))})),t}searchCon(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchConById(e),t)return t})),t||this.frameAry&&this.frameAry.find((n=>{if(t=n.searchCon(e),t)return t})),t||this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchCon(e),t)return t}))})),t}searchFrame(e){if(this.id===e)return this;if(this.frameAry){const t=this.frameAry.find((t=>{if(t.id===e)return!0}));if(t)return t}let t;return this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchFrame(e),t)return!0}))})),t}searchDiagram(e){if(this.diagramAry){const t=this.diagramAry.find((t=>{if(t.id===e)return!0}));if(t)return t}let t;return this.frameAry&&(this.frameAry.find((n=>{if(t=n.searchDiagram(e),t)return!0})),t)||this.comAry&&(this.comAry.find((n=>{n.frames&&n.frames.find((n=>{if(t=n.searchDiagram(e),t)return!0}))})),t)?t:void 0}findItemByPo({x:e,y:t,w:n,h:i},o){let r;if(n=n||5,i=i||5,this.comAry.find((s=>{s.id!==o.id&&s.frames&&s.frames.forEach((s=>{if(s.$el){let a=(0,d.E9)(s.$el),l=s.$el.offsetWidth,c=s.$el.offsetHeight;if(Math.max(e+n,a.x+l)-Math.min(e,a.x)<n+l&&Math.max(t+i,a.y+c)-Math.min(t,a.y)<i+c)return(r=s.findItemByPo({x:e,y:t,w:n,h:i},o))||(r=s),!0}}))})),r)return r}active(){this.inputJoints.forEach((e=>{e.from.enable()})),this.outputJoints.forEach((e=>{e.to.enable()}))}inactive(){this.inputJoints.forEach((e=>{e.from.disable()})),this.outputJoints.forEach((e=>{e.to.disable()}))}cleanHintedPinAry(){this.hintPinModelAry&&this.hintPinModelAry.forEach((e=>{e.hint=void 0}))}focusItem(e){this.cleanHintedPinAry(),e instanceof i||"object"==typeof e&&(Array.isArray(e)?(this.blur(),e.forEach((e=>{e&&"function"==typeof e.focus&&e.focus()})),this.focusModelAry=this.focusModelAry.concat(e)):e instanceof u.A||e instanceof l.U||"function"==typeof e.focus&&!(e instanceof h.PQ)?(this.blur(),e.focus(),this.focusModelAry.push(e)):"function"==typeof e.focus&&(e.focus(),this.focusModelAry.push(e)))}blur(e){if(this.focusModelAry)if(e){const t=this.focusModelAry.indexOf(e);t>=0&&this.focusModelAry.splice(t,1)}else this.focusModelAry.forEach((e=>{e&&"function"==typeof e.blur&&e.blur()})),this.focusModelAry=[];this.cleanHintedPinAry()}getDiagramByOutput(e){return this.diagramAry.find((t=>{if(t.startWithOutput&&t.startWithOutput.hostId===e)return!0}))}getVarDiagram(e){return this.diagramAry.find((t=>{if(t.isVar&&t.varCom.id===e)return!0}))}getDiagramByCom(e,t){return this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}))}getDiagramForJoint(e){return this.diagramAry.find((t=>{var n,i;if((null===(i=null===(n=t.startWithJoint)||void 0===n?void 0:n.outputJoint)||void 0===i?void 0:i.from.id)===e)return!0}))}getDiagramByRefId(e,t){const n=this.searchComByRefId(e);if(!n)return;return this.diagramAry.find((e=>{const i=e.startWithCom;if(i&&i.id===n.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}))}editDiagramForJoint(e,t){if(t){const n=this.diagramAry.find((e=>{var n,i;if((null===(i=null===(n=e.startWithJoint)||void 0===n?void 0:n.outputJoint)||void 0===i?void 0:i.from.id)===t)return!0}));if(n)return n;{const n=e.outputJoints.find((e=>e.id===t));if(n){const t=`${e.title} > ${n.title}`;return this.addDiagramWithFrame(t,e,n)}}}}editDiagramForComId(e,t,n){const i=this.searchCom(e);if(!i)throw new Error(`未找到组件(id=${e}).`);if(!t){const t=this.diagramAry.find((t=>{const n=t.startWithCom;if(n&&n.id===e)return!0}));return t||this.addDiagramWithStartCom(i.runtime.title,i,void 0,n)}{const o=this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}));if(o)return o;{const e=i.getOutputInfo(t);if(e){const o=`${i.runtime.title} > ${e.title}`;return this.addDiagramWithStartCom(o,i,{outputs:[t]},n)}}}}editDiagramForFrame(e,t,n){const i=this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}));if(i)return i;{const i=e.getOutputInfo(t);if(i){const o=`${e.runtime.title} > ${i.title}`;return this.addDiagramWithStartCom(o,e,{outputs:[t]},n)}}}findPinAryBySchema(e){const t=e.isDirectionOfInput(),n=[];return this.comAry.find((i=>{t?d.DO.each((t=>{e.hadConToPin(t)||!0!==canConnectTo(e,t)||n.push(t)}),...i.getOutputsAll()):d.DO.each((t=>{e.hadConToPin(t)||!0!==canConnectTo(e,t)||n.push(t)}),...i.getInputsAll())})),this.cleanHintedPinAry(),this.hintPinModelAry=n,n}searchMyPinByHostId(e,t){return"input"===t?this.outputPins.find((t=>t.hostId===e)):this.inputPins.find((t=>t.hostId===e))}searchPin(e){let t=this.inputPins.find((t=>t.id===e));return t||(t=this.outputPins.find((t=>t.id===e))),t||this.comAry.find((n=>(t=d.DO.find((t=>t.id===e),...n.getInputsAll()),!!t||(t=d.DO.find((t=>t.id===e),...n.getOutputsAll()),!!t||void 0)))),t}searchJoint(e){let t=d.DO.find((t=>t.id===e),this.inputJoints,this.outputJoints);return t||this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchJoint(e),t)return!0}))})),t}deleteMySelf(){this.diagramAry&&(this.diagramAry=[])}delete(e){const t=(n,i)=>{let o;return n.find(((t,n)=>{if(t.id===e.id)return o=n,!0})),o>=0?(n.splice(o,1),!0):i?n.find((e=>{e.frames&&e.frames.find((e=>{if(e.comAry)return t(e.comAry,!0)}))})):void 0};if(e instanceof l.U){if(e.forkedFrom)return;t(this.comAry,!0)}else e instanceof c.E?this.conTemp&&this.conTemp.id===e.id?this.conTemp=void 0:t(this.conAry):e instanceof a.x?t(this.inputPins)||t(this.outputPins):e instanceof p.U?t(this.inputJoints)||t(this.outputJoints):e instanceof b.A?(e.destroy(),t(this.diagramAry)):e instanceof i&&(e.destroy(),t(this.frameAry))}release(e){if(e instanceof l.U){let t=[];this.comAry.forEach((n=>{n.id!=e.id&&t.push(n)})),this.comAry=t}else if(e instanceof b.A){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}}refreshInnerCons(e,t,n){const i=(0,m.oT)(e.$el),o=n=>{let i=n.$el;if(!i)return;let o=(0,m.oT)(i,e.$el),r={temp:t,x:Math.round(o.x-i.width()/2)+.5,y:Math.round(o.y)+.5,j:n.getJoinerWidth()};n.conAry.forEach((e=>{e.finishPo=r}))},r=e=>{let n=e.$el;if(!n)return;let o=(0,m.oT)(n),r={temp:t,x:Math.round(o.x+n.width()/2-i.x)+.5,y:Math.round(o.y-i.y)+.5,j:e.getJoinerWidth()};e.conAry.forEach((e=>{e.startPo=r}))};n&&"input"!=n||(this.inputPins.forEach(r),this.inputJoints.forEach(r)),n&&"output"!=n||(this.outputPins.forEach(o),this.outputJoints.forEach(o))}applyZIndex(e){return e instanceof l.U?(this.zIndexCur.com++,this.zIndexCur.com):e instanceof c.E?(this.zIndexCur.con++,this.zIndexCur.con):void 0}getSummaryInfo(){let e=0,t=0;return this.diagramAry.forEach((n=>{n.conAry.length>0&&t++,e+=n.comAry.length})),this.frameAry&&this.frameAry.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.diagrams})),this.comAry&&this.comAry.forEach((n=>{(null==n?void 0:n.frames)&&n.frames.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.diagrams}))})),{coms:e,diagrams:t}}forEachCom(e){this.comAry&&this.comAry.forEach((t=>{const n=t.runtime.toJSON(!0,"topl");e(n),t.frames&&t.frames.forEach((t=>{t.forEachCom(e)}))}))}toJSON(e){var t,n,i,o,r;if(e){const s={};if(s.id=this.id,s._type=this._type,s.title=this.title,s.name=this.name,this.parent&&(s.parent={id:this.parent.id}),this.frameAry){const t=[];this.frameAry.forEach((n=>{t.push(n.toJSON(e))})),s.frameAry=t}if(this.comAry){const t=[];this.comAry.forEach((n=>{t.push(n.runtime.toJSON(e,"topl"))})),s.comAry=t}if((null===(t=this.inputPins)||void 0===t?void 0:t.length)>0){const t=[];this.inputPins.forEach((n=>{t.push(n.toJSON(e))})),s.inputPins=t}if((null===(n=this.inputJoints)||void 0===n?void 0:n.length)>0){const e=[];this.inputJoints.forEach((t=>{e.push(t.toJSON())})),s.inputJoints=e}if((null===(i=this.outputPins)||void 0===i?void 0:i.length)>0){const t=[];this.outputPins.forEach((n=>{t.push(n.toJSON(e))})),s.outputPins=t}if((null===(o=this.outputJoints)||void 0===o?void 0:o.length)>0){const e=[];this.outputJoints.forEach((t=>{e.push(t.toJSON())})),s.outputJoints=e}if((null===(r=this.diagramAry)||void 0===r?void 0:r.length)>0){const t=[],n=[];this.diagramAry.forEach((i=>{if(i.conAry){const o=[];i.conAry.forEach((t=>{t.invalid||(o.push(t.toJSON(e)),n.push(t.toJSON(e)))})),t.push({id:i.id,title:i.title,conAry:o})}})),n.length>0&&(s.conAry=n),t.length>0&&(s.diagramAry=t)}return s}{const e={};if(e.id=this.id,e.title=this.title,this.parent&&(e.parent={id:this.parent.id}),e.name=this.name,e._rootF=this._rootF,e.style=(0,m.o8)(this.style),this.comAry){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON("topl"))})),e.comAry=t}if(this.inputPins){const t=[];this.inputPins.forEach((e=>{t.push(e.toJSON())})),e.inputPins=t}if(this.inputJoints){const t=[];this.inputJoints.forEach((e=>{t.push(e.toJSON())})),e.inputJoints=t}if(this.outputPins){const t=[];this.outputPins.forEach((e=>{t.push(e.toJSON())})),e.outputPins=t}if(this.outputJoints){const t=[];this.outputJoints.forEach((e=>{t.push(e.toJSON())})),e.outputJoints=t}if(this.conAry){const t=[];this.conAry.forEach((e=>{t.push(e.toJSON())})),e.conAry=t}if(this.diagramAry.length>0){const t=[];this.diagramAry.forEach((e=>{t.push(e.toJson())})),e.diagramAry=t}return e}}destroy(){super.destroy()}stopDebug(){this.clearDebugHints(),this.comAry.forEach((e=>{e.stopDebug()})),this._curScope_=void 0,this._allScopes_=void 0}clearDebugHints(){this.inputPins.forEach((e=>{e.clearDebugHints()})),this.outputPins.forEach((e=>{e.clearDebugHints()})),this.diagramAry.forEach((e=>{e.clearDebugHints()})),this.frameAry.forEach((e=>{e.clearDebugHints()})),this.comAry.forEach((e=>{e.clearDebugHints()})),this.exeTodo=void 0}};v([m.Nt,x("design:type","function"==typeof(o=void 0!==c.E&&c.E)?o:Object)],A.prototype,"conTemp",void 0),v([m.Nt,x("design:type",Array)],A.prototype,"comsAddedInDebug",void 0),v([m.Nt,x("design:type",Array)],A.prototype,"exeTodo",void 0),v([m.Nt,x("design:type",Object)],A.prototype,"_connections",void 0),v([m.Nt,x("design:type","function"==typeof(r="undefined"!=typeof Array&&Array)?r:Object)],A.prototype,"focusModelAry",void 0),v([m.Nt,x("design:type",Array)],A.prototype,"hintPinModelAry",void 0),v([m.Nt,x("design:type","function"==typeof(s=void 0!==f.eQ&&f.eQ)?s:Object)],A.prototype,"_curScope_",void 0),v([m.Nt,x("design:type",Object)],A.prototype,"_allScopes_",void 0),A=i=v([(0,m.yL)(g.MS+"topl.FrameModel"),x("design:paramtypes",[Object])],A)},72205:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var i=n(91737),o=n(38570),r=n(98058),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.A{constructor(e,t,n){super(),this.width=100,e&&(this.conModel=e,this.content=t,this.po=n)}focus(){this.state.focus()}blur(){this.state.enable()}};s([i.Nt,a("design:type",Boolean)],l.prototype,"_focused",void 0),l=s([(0,i.yL)(o.MS+"topl.frame.CommentModel"),a("design:paramtypes",[Object,String,Object])],l)},38438:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>b,He:()=>A,jM:()=>x,vn:()=>y});var i=n(91737),o=n(64012),r=n.n(o),s=n(14046),a=n(96966),l=n(95302),c=n(99469),d=n(91716),u=n(38570),p=n(39884),f=n(27328),h=n(90066),m=n(39063),g=n(74995);class y{}function b({model:e,position:t}){const n=(0,i.lB)(f.A,{from:"parents"}),{viewModel:d,emitComponent:u,emitView:b,getCurDiagram:v}=n;(0,i.J2)(y,(t=>t({viewCtx:n,model:e})),{to:"children"}),(0,i.yx)(a.Zm.Component,(t=>{t({delete(t){t instanceof s.U&&e.delete(t),u.delete(t)}})}),{from:"children"});const x=(0,o.useCallback)((()=>{}),[]);if((0,i.yx)(a.Zm.Diagram,(e=>e({anchor(){setTimeout(x)}})),{from:"children"}),(0,o.useLayoutEffect)((()=>{const t=e.style;t.width||(t.width=700),t.width>5e3&&(t.width=5e3),t.height>2e3&&(t.height=2e3)}),[]),e.isGlobal||e.showIO){if(e.showIO)return r().createElement(l.A,{position:t})}else{if(e.isVar)return r().createElement(g.A,{position:t});if(e.isFn)return r().createElement(p.A,{position:t});if(e.startWithCom)return r().createElement(c.A,{position:t});if(e.startWithJoint)return r().createElement(h.A,{position:t});if(e.startWithOutput)return r().createElement(m.A,{position:t})}}const v={current:void 0};function x(e,{model:t,viewCtx:n}){if(!i.zg.event&&(t.parent.blur(),t.state.enable(),n.assitWith||n.emitComponent.reFocus(t),e&&t.showIO)){const{viewModel:i}=n,o=(new Date).getTime();if(v.current){if(o-v.current<200){v.current=void 0,n.assitWith=void 0;const o=t.$el.getStage().container(),r=(0,d.E9)(o),s=e.evt.clientX,a=e.evt.clientY;n.assitWith={diagramModel:t,type:"outputs",position:{x:s-i.style.left-r.x-u.c8,y:a-i.style.top-r.y-u.c8,ex:s,ey:a}}}else v.current=o}else v.current=o}}function A(e){const{model:t,viewCtx:n}=e._temp_||(0,i.lB)(y),{viewModel:o,context:r}=n;if(!r.isDesnMode())return;n.assitWith=void 0;const s=t.$el.getStage().container(),a=(0,d.E9)(s),l=e.evt.clientX,c=e.evt.clientY;n.assitWith={diagramModel:t,type:"outputs",position:{x:l-o.style.left-a.x-u.c8,y:c-o.style.top-a.y-u.c8,ex:l,ey:c}}}},39884:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(91737),o=n(64012),r=n.n(o),s=n(87144),a=n(30039),l=n(66024),c=n(34929),d=n(21523),u=n(38438),p=n(64003),f=n(66362),h=n(50335),m=n(82508),g=n(37677),y=n(59798),b=n(25026),v=n(74377);function x(){const e=(0,i.lB)(u.vn,{from:"parents"}),{viewCtx:t,model:n}=e,x=n.style;(0,o.useMemo)((()=>{n.getConfigs=()=>(0,m.A)(n,t),n.getListeners=()=>(0,v.W)(e),n.getCooperations=()=>n}),[]);const A=(0,i.HO)((()=>{let e=0;const t=[];return n.parent.inputPins&&n.parent.inputPins.forEach(((n,i)=>{e+=50,t.push(r().createElement(s.Ay,{key:n.id,model:n,type:"frameIO",order:i}))})),t})),w=(0,i.HO)((()=>{let e=0;const t=[];return n.parent.outputPins&&n.parent.outputPins.forEach(((n,i)=>{e+=50,t.push(r().createElement(s.Ay,{key:n.id,model:n,type:"frameIO",order:i}))})),t})),E=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(l.A,{model:n.conTemp})})),C=(0,i.HO)((()=>{const t=[];return n.groupAry&&n.groupAry.forEach((n=>{t.push(r().createElement(b.A,{groupModel:n,diagramCtx:e,key:n.id}))})),r().createElement(f.Group,null,t)})),_=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{d.default,e.push(r().createElement(c.Ay,{key:t.renderKey,model:t}))})),e})),M=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},x.visible?(0,h.Y8)(e):void 0))),I=(0,o.useMemo)((()=>(0,h.d)(e)),[]);return r().createElement(f.Group,Object.assign({ref:n.set$elOnce,visible:x.visible,width:x.width,height:x.height,onContextMenu:(0,i.Wj)((e=>{(0,u.jM)(null,{model:n,viewCtx:t}),t.emitWindowEvents.showContextMenu(e)})).stop.prevent,onClick:(0,i.Wj)((e=>(0,u.jM)(e,{model:n,viewCtx:t}))).stop},I),r().createElement(f.Rect,Object.assign({width:(x.width||300)+2,height:x.height+2},M)),r().createElement(g.A,{title:n.title,style:{color:"#777"}}),r().createElement(f.Group,{clip:{x:0,y:0,width:x.width,height:x.height}},r().createElement(y.A,null),C,r().createElement(a.A,{diagramModel:n}),r().createElement(f.Group,{x:50,y:50},A),r().createElement(f.Group,{x:x.width-50,y:50},w),_,E),r().createElement(p.A,{ctx:e}))}},95302:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var i=n(91737),o=n(64012),r=n.n(o),s=n(87144),a=n(30039),l=n(66024),c=n(34929),d=n(21523),u=n(38438),p=n(64003),f=n(66362),h=n(50335),m=n(86534),g=n(57050),y=n(37677),b=n(59798),v=n(25026),x=n(62859),A=n(96966);function w(){const e=(0,i.lB)(u.vn,{from:"parents"}),{viewCtx:t,model:n}=e,w=n.parent,E=n.style,C=!w.parent||!n.parent.isParentAFrame();(0,o.useMemo)((()=>{n.getConfigs=()=>w.isTypeOfModule()?(0,g.A)(n,t):(0,m.A)(n,t),n.getListeners=()=>(0,x.W)(e),n.getCooperations=()=>n}),[]);const[_,M]=(0,i.HO)((()=>{let e=0,t=0;const n=[];return w.inputPins&&w.inputPins.forEach(((o,a)=>{e+=50,n.push(r().createElement(s.Ay,{key:`${(0,i.uR)()}`,model:o,type:"frameIO",order:t++}))})),w.inputJoints&&w.inputJoints.forEach(((i,o)=>{e+=50,n.push(r().createElement(s.Ay,{key:o,model:i,type:"frameIO",order:t++}))})),C&&w._inputPins&&w._inputPins.forEach(((o,a)=>{e+=50,n.push(r().createElement(s.Ay,{key:`${(0,i.uR)()}`,model:o,type:"_frameIO",order:t++}))})),[n,e]})),[I,k]=(0,i.HO)((()=>{let e=0,n=0;const o=[];if(C&&w._outputPins&&w._outputPins.forEach(((t,a)=>{e+=50,o.push(r().createElement(s.Ay,{key:`${(0,i.uR)()}`,model:t,type:"_frameIO",order:n++}))})),w.outputPins){let i=[];if(w.isTypeOfModule()){const e=t.context.getComDef({namespace:A.ZD.coms.module});e&&(i=e.outputs)}w.outputPins.forEach(((t,a)=>{if(!t.isTypeOfEvent()&&!t.isTypeOfShotcut()){if(i.find((e=>e.id===t.hostId)))return;e+=50,o.push(r().createElement(s.Ay,{key:t.id,model:t,type:"frameIO",order:n++}))}}))}return w.outputJoints&&w.outputJoints.forEach(((t,i)=>{e+=50,o.push(r().createElement(s.Ay,{key:i,model:t,type:"frameIO",order:n++}))})),[o,e]})),P=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(l.A,{model:n.conTemp})})),F=(0,i.HO)((()=>{const t=[];return n.groupAry&&n.groupAry.forEach((n=>{t.push(r().createElement(v.A,{groupModel:n,diagramCtx:e,key:n.id}))})),r().createElement(f.Group,null,t)})),S=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{d.default,e.push(r().createElement(c.Ay,{key:t.renderKey,model:t}))})),e})),T=(0,o.useMemo)((()=>(0,h.d)(e)),[]);(0,o.useLayoutEffect)((()=>{const e=Math.max(M,k);e>E.height-50&&(n.style.height=e+50)}),[M,k]);const O=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},E.visible?(0,h.Y8)(e):void 0))),D=n.parent.title||"未命名";return r().createElement(f.Group,Object.assign({ref:n.set$elOnce,visible:E.visible,width:E.width,height:E.height,onContextMenu:(0,i.Wj)((e=>{(0,u.jM)(null,{model:n,viewCtx:t}),t.emitWindowEvents.showContextMenu(e,n)})).stop.prevent,onClick:(0,i.Wj)((e=>(0,u.jM)(e,{model:n,viewCtx:t}))).stop},T),r().createElement(f.Rect,Object.assign({width:(E.width||300)+2,height:E.height+2},O)),r().createElement(y.A,{title:D}),r().createElement(f.Group,{clip:{x:0,y:0,width:E.width,height:E.height}},r().createElement(b.A,null),F,r().createElement(a.A,{diagramModel:n}),P,r().createElement(f.Group,{x:50,y:50},_),r().createElement(f.Group,{x:E.width-50,y:50},I),S),r().createElement(p.A,{ctx:e}))}},61281:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i,o=n(91737),r=n(96966),s=n(14046),a=n(60599),l=n(56919),c=n(92758),d=n(91716),u=n(38570),p=n(31364),f=n(51807),h=n(72205),m=n(65667),g=n(19730),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let v=class extends p.A{set startFrom(e){e&&(this.startWithCom=e)}refreshUpdateTime(){this.updateTime=(new Date).getTime(),this.updated=!0}get title(){var e;if(this.startWithCom&&(null===(e=this.startWithCom.runtime)||void 0===e?void 0:e.def.namespace)===r.ZD.coms.module&&this.startWithCom.outputPins.length>0){const e=this.startWithCom.outputPins[0];if(e instanceof g.default&&e.forkedFrom){const t=e.forkedFrom.proxyPin;if(t)return`${this.startWithCom.runtime.title} > ${t.title}`}}if(this._title)return this._title;if(this.startWithCom){const e=this.startWithCom.title;if(e)return e}return"未命名"}set title(e){this._title=e}get connections(){const e=this;return{isChanging:()=>e._connections.changing,isChanged:()=>e._connections.changed,changing(){e._connections.changing=!0},changed(){e._connections.changed=!0},refactored(){e._connections.changing=void 0,e._connections.changed=void 0}}}isGlobalFx(){if(this.isFn&&this.parent.isRootFrame())return!0}isGlobalVar(){if(this.isVar&&!this.parent.parent)return!0}constructor(e,t,n,i){var o,r;if(super(),this.comAry=[],this.outputPins=[],this.outputJoints=[],this.conAry=[],this.commentAry=[],this.style={visible:!1,left:null,top:null,height:400,width:700},this._connections={changed:!0,changing:void 0},e){if(this.parent=e,(null==i?void 0:i.isBluePrint)&&(this.isBluePrint=!0),"startOutput"===n)this.startWithOutput=i.outputPin;else{const t=null==i?void 0:i.startFrom;if(t)if("startCom"===n){const n=t,s=this.addCom(n,{x:50,y:26},i.io||"all-outputs");if(this.startWithCom=s,s.forkedFrom){s._startInDiagram=!0;const t=null===(o=n.frames)||void 0===o?void 0:o.find((t=>t===e));if(t){const e=null===(r=i.io)||void 0===r?void 0:r.outputs;e&&e.forEach((e=>{n.searchPinByHostId(e,"outputs").runInFrameId=t.id}))}}}else"startFrame"===n&&(this.startWithJoint=t)}this.title=t,this.createTime=(new Date).getTime()}}ifContains(e){return"com"===e.type?this.comAry.find((t=>t.id===e.data.comId)):"var"===e.type?this.comAry.find((t=>t.id===e.data.varComId)):"fx"===e.type?this.comAry.find((t=>{var n;return(null===(n=t.ioProxy)||void 0===n?void 0:n.id)===e.data.frameId})):void 0}get root(){let e=this;for(;e.parent&&(e=e.parent,!(e instanceof f.l&&e._rootF)););return e}setWidth(e){setTimeout((t=>{this.style.width=e;const n=this.$el.getStage();if(n){const t=n.scale().x;n.width(e*t+200)}}))}setHeight(e){this.style.height=e;const t=this.$el.getStage();if(t){const n=t.scale().x;t.height(e*n+200)}}setStart(e){const t=this.addCom(e,{x:50,y:26});return t.forkedFrom&&(t._startInDiagram=!0),t}getGroup(e){var t;return null===(t=this.groupAry)||void 0===t?void 0:t.find((t=>t.id===e))}addGroup(e){if(e.length>1){const t=new m.A(e);return this.groupAry||(this.groupAry=[]),this.groupAry.push(t),this.groupAry[this.groupAry.length-1]}}removeGroup(e){if(e.comAry.forEach((e=>{e.groupId=void 0})),this.groupAry){const t=this.groupAry.indexOf(e);t>=0&&this.groupAry.splice(t,1)}}addCom(e,t,n){if(n){const i=e.fork(this,n);t&&(i.style.left=Math.round(t.x),i.style.top=Math.round(t.y)),i.diagramModel=this,this.comAry.push(i)}else e.diagramModel=this,e.forkedFrom||this.parent.addComponent(e),t&&(e.style.left=Math.round(t.x),e.style.top=Math.round(t.y)),this.comAry.push(e);return this.comAry[this.comAry.length-1]}addConnection(...e){let t;e[0]instanceof a.E?t=e[0]:e.length>=2&&e[0]instanceof l.x&&e[0]instanceof l.x&&(t=(0,c.KA)(e[0],e[1],this.$el)),t.parent=this;return e.find((e=>"boolean"==typeof e&&e))?(t.isTemp=!0,this.conTemp=t,this.conTemp):(this.conAry.push(t),this.conAry[this.conAry.length-1])}searchCom(e){return this.comAry.find((t=>t.id===e))}searchComBy_key(e){return this.comAry.find((t=>t._key===e))}searchComByKey(e){return this.comAry.find((t=>t._key===e))}searchForkedComAry(e,t=[]){this.comAry.forEach((n=>{n.forkedFrom===e&&t.push(n)}))}searchCon(e,t){if(this.conAry)return this.conAry.find((n=>n.startPin.id===e&&n.finishPin.id===t))}searchConById(e){if(this.conAry)return this.conAry.find((t=>t.id===e))}addComment(e,{x:t,y:n}){const i=new h.j(this,e,{x:t,y:n});return this.commentAry.push(i),i}removeComment(){this.commentAry=this.commentAry.filter((e=>!e.state.isFocused()))}refreshInnerCons(e,t,n){(0,o.oT)(e.$el);const i=n=>{const i=n.$el,r=(0,o.oT)(i,e.$el),s={temp:t,x:Math.round(r.x-i.width()/2)+.5,y:Math.round(r.y)+.5,j:n.getJoinerWidth()};n.conAry.forEach((e=>{e.finishPo=s}))};n&&"output"!=n||(this.isFn?this.parent.outputPins.forEach(i):this.outputPins.forEach(i))}formatView(){this.conAry.length>0&&this.conAry.forEach((e=>{const t=e.startPin,n=e.finishPin;console.log(t.order,n.order)}))}delete(e){const t=t=>{const n=t.indexOf(e);return n>=0?t.filter(((e,t)=>t!==n)):t};if(e instanceof s.U)this.comAry=t(this.comAry),e.runtime&&(e.runtime.hasUI()||e.isSingleton||this.parent.delete(e));else if(e instanceof a.E)this.conTemp&&this.conTemp.id===e.id?this.conTemp=void 0:this.conAry=t(this.conAry);else if(e instanceof h.j&&this.commentAry){const t=this.commentAry.indexOf(e);t>=0&&this.commentAry.splice(t,1)}}exist(){return!0}clearDebugHints(){this.state.enable()}destroy(){super.destroy(),this.comAry&&this.comAry.forEach((e=>{e.forkedFrom?(d.DO.each((e=>{e.conAry&&e.conAry.forEach((t=>{e.forkedFrom&&e.forkedFrom.deleteCon(t)}))}),...e.getInputsAll()),d.DO.each((e=>{e.conAry&&e.conAry.forEach((t=>{e.forkedFrom&&e.forkedFrom.deleteCon(t)}))}),...e.getOutputsAll())):this.parent.delete(e)}))}toJson(){const e={};if(e.id=this.id,e.title=this.title,e.showIO=this.showIO,e.style=(0,o.o8)(this.style),this.startWithCom&&(this.startWithCom.forkedFrom?e.startCom=this.startWithCom.toJSON(!0):e.startCom=(0,o.o8)(this.startWithCom)),this.comAry){const t=[];this.comAry.forEach((e=>{e.forkedFrom?t.push(e.toJSON(!0)):t.push(e.id)})),e.comAry=t}if(this.conAry){const t=[];this.conAry.forEach((e=>{t.push(e.toJSON())})),e.conAry=t}return e}};y([o.Ec,b("design:type","function"==typeof(i=void 0!==a.E&&a.E)?i:Object)],v.prototype,"conTemp",void 0),y([o.Nt,b("design:type",Boolean)],v.prototype,"filteredNow",void 0),y([o.Nt,b("design:type",Boolean)],v.prototype,"updated",void 0),y([o.Nt,b("design:type",Array)],v.prototype,"focusedComAry",void 0),y([o.Nt,b("design:type",Object)],v.prototype,"_connections",void 0),v=y([(0,o.yL)(u.MS+"topl.DiagramModel"),b("design:paramtypes",[Object,String,String,Object])],v);const x=v},99469:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(91737),o=n(64012),r=n.n(o),s=(n(91716),n(30039)),a=n(66024),l=n(34929),c=n(21523),d=n(38438),u=n(64003),p=n(66362),f=n(50335),h=n(25487),m=n(37677),g=(n(27328),n(59798)),y=n(25026),b=n(20604),v=n(5122);function x(){const e=(0,i.lB)(d.vn,{from:"parents"}),{viewCtx:t,model:n}=e,x=n.style;(0,o.useMemo)((()=>{n.getConfigs=()=>(0,h.A)(n,t),n.getListeners=()=>(0,b.W)(e),n.getCooperations=()=>n}),[]);const A=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(a.A,{model:n.conTemp})})),w=(0,i.HO)((()=>{const t=[];return n.groupAry&&n.groupAry.forEach((n=>{t.push(r().createElement(y.A,{groupModel:n,diagramCtx:e,key:n.id}))})),r().createElement(p.Group,null,t)})),E=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{n.startWithCom===t?e.push(r().createElement(p.Group,{x:50,y:50,key:t.renderKey},r().createElement(l.Ay,{model:t}))):(c.default,e.push(r().createElement(l.Ay,{key:t.renderKey,model:t})))})),e})),C=(0,o.useMemo)((()=>(0,f.d)(e)),[]),_=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},x.visible?(0,f.Y8)(e):void 0))),M=(0,i.HO)((()=>{const e=n.title.split(">");if(e.length>0&&n.startWithCom.outputPins.length>0){const t=n.startWithCom.outputPins[0].title;return`${e[0]} > ${t}`}return n.title}));return r().createElement(p.Group,Object.assign({ref:n.set$elOnce,visible:x.visible,width:x.width,height:x.height,onContextMenu:(0,i.Wj)((e=>{(0,d.jM)(null,{model:n,viewCtx:t}),t.emitWindowEvents.showContextMenu(e)})).stop.prevent,onClick:(0,i.Wj)((e=>(0,d.jM)(e,{model:n,viewCtx:t}))).stop},C),r().createElement(p.Rect,Object.assign({width:x.width||300,height:x.height},_)),r().createElement(m.A,{title:M}),r().createElement(p.Group,{clip:{x:0,y:0,width:x.width,height:x.height}},r().createElement(g.A,null),w,r().createElement(s.A,{diagramModel:n}),A,r().createElement(v.A,null),E),r().createElement(u.A,{ctx:e}))}},90066:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var i=n(91737),o=n(64012),r=n.n(o),s=n(30039),a=n(66024),l=n(34929),c=n(21523),d=n(38438),u=n(64003),p=n(66362),f=n(50335),h=n(25487),m=n(37677),g=n(87144),y=n(59798);function b(){const e=(0,i.lB)(d.vn,{from:"parents"}),{viewCtx:t,model:n}=e,b=n.style;(0,o.useMemo)((()=>{n.getConfigs=()=>(0,h.A)(n,t)}),[]);const v=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(a.A,{model:n.conTemp})})),x=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{c.default,e.push(r().createElement(l.Ay,{key:t.renderKey,model:t}))})),e})),A=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},b.visible?(0,f.Y8)(e):void 0)));return r().createElement(p.Group,{ref:n.set$elOnce,visible:b.visible,width:b.width,height:b.height,onContextMenu:(0,i.Wj)(d.He).prevent,onClick:(0,i.Wj)((e=>(0,d.jM)(e,{model:n,viewCtx:t}))).stop},r().createElement(p.Rect,Object.assign({width:b.width||300,height:b.height},A)),r().createElement(m.A,{title:n.title}),r().createElement(p.Group,{clip:{x:0,y:0,width:b.width,height:b.height}},r().createElement(y.A,null),r().createElement(s.A,{diagramModel:n}),r().createElement(p.Group,{x:50,y:50},r().createElement(g.Ay,{model:n.startWithJoint.outputJoint,type:"start"})),v,x),r().createElement(u.A,{ctx:e}))}},39063:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(91737),o=n(64012),r=n.n(o),s=n(87144),a=n(30039),l=n(66024),c=n(34929),d=n(21523),u=n(38438),p=n(64003),f=n(66362),h=n(50335),m=n(11543),g=n(37677);function y(){const e=(0,i.lB)(u.vn,{from:"parents"}),{viewCtx:t,model:n}=e,y=n.style;(0,o.useMemo)((()=>{n.getConfigs=()=>(0,m.A)(n,t)}),[]);const b=(0,i.HO)((()=>{let e;return n.startWithOutput&&(e=r().createElement(s.Ay,{model:n.startWithOutput,type:"start"})),e})),v=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(l.A,{model:n.conTemp})})),x=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{t instanceof d.default?n.parent.comAry.indexOf(t.forkedFrom)>=0&&e.push(r().createElement(c.Ay,{key:t.renderKey,model:t})):e.push(r().createElement(c.Ay,{key:t.renderKey,model:t}))})),e})),A=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},y.visible?(0,h.Y8)(e):void 0)));return r().createElement(f.Group,{ref:n.set$elOnce,visible:y.visible,width:y.width,height:y.height,onContextMenu:(0,i.Wj)(u.He).prevent,onClick:(0,i.Wj)((e=>(0,u.jM)(e,{model:n,viewCtx:t}))).stop},r().createElement(f.Rect,Object.assign({width:(y.width||300)+2,height:y.height+2},A)),r().createElement(g.A,{title:n.title}),r().createElement(f.Group,{clip:{x:0,y:0,width:y.width,height:y.height}},r().createElement(a.A,{diagramModel:n}),v,r().createElement(f.Group,{x:50,y:50},b),x),r().createElement(p.A,{ctx:e}))}},74995:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var i=n(91737),o=n(64012),r=n.n(o),s=n(38438),a=n(64003),l=n(66362),c=n(50335),d=n(32691),u=n(37677),p=n(59798),f=n(87144),h=n(66024),m=n(25026),g=n(21523),y=n(34929),b=n(30039),v=n(71034),x=n(5122);function A(){const e=(0,i.lB)(s.vn,{from:"parents"}),{viewCtx:t,model:n}=e,{emitComponent:A,context:w}=t,E=n.style;(0,o.useMemo)((()=>{n.getConfigs=()=>(0,d.A)(n,t),n.getListeners=()=>(0,v.W)(e)}),[]);const C=(0,i.HO)((()=>{const e=[],t=n,i=n.varCom.outputPins.find((e=>"changed"===e.hostId));return e.push(r().createElement(f.Ay,{key:t.id,model:i,type:"start",order:0})),e})),_=(0,i.HO)((()=>{if(n.conTemp)return r().createElement(h.A,{model:n.conTemp})})),M=(0,i.HO)((()=>{const t=[];return n.groupAry&&n.groupAry.forEach((n=>{t.push(r().createElement(m.A,{groupModel:n,diagramCtx:e,key:n.id}))})),r().createElement(l.Group,null,t)})),I=(0,i.HO)((()=>{const e=[];return n.comAry.length>0&&n.comAry.forEach((t=>{g.default,e.push(r().createElement(y.Ay,{key:t.renderKey,model:t}))})),e})),k=(0,i.HO)((()=>Object.assign({onMouseEnter:e=>{e.target.getStage().container().style.cursor="default"}},E.visible?(0,c.Y8)(e):void 0))),P=(0,o.useMemo)((()=>(0,c.d)(e)),[]);return r().createElement(l.Group,Object.assign({ref:n.set$elOnce,visible:E.visible,width:E.width,height:E.height,onContextMenu:(0,i.Wj)((e=>{(0,s.jM)(null,{model:n,viewCtx:t}),t.emitWindowEvents.showContextMenu(e)})).stop.prevent,onClick:(0,i.Wj)((e=>(0,s.jM)(e,{model:n,viewCtx:t}))).stop},P),r().createElement(l.Rect,Object.assign({width:(E.width||300)+2,height:E.height+2},k)),r().createElement(u.A,{title:n.title,style:{color:"#777"}}),r().createElement(l.Group,{clip:{x:0,y:0,width:E.width,height:E.height}},r().createElement(p.A,null),M,r().createElement(b.A,{diagramModel:n}),r().createElement(l.Group,{x:50,y:50},C),I,_,r().createElement(x.A,null)),r().createElement(a.A,{ctx:e}))}},5122:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(38438),r=n(87144),s=n(66362),a=n(64012),l=n.n(a);function c(){const e=(0,i.lB)(o.vn,{from:"parents"}),{viewCtx:t,model:n}=e,a=n.parent,c=n.style,d=(0,i.HO)((()=>{let e=0,t=0;const i=[],o=a.outputPins,s=n.outputPins;o&&(o.forEach(((o,a)=>{if(!o.isTypeOfEvent()&&!o.isTypeOfShotcut()){let c=s.find((e=>e.id==o.id));c||(c=o.fork(n),s.push(c)),e+=50,i.push(l().createElement(r.Ay,{key:a,model:c,type:"frameIO",order:t++}))}})),s.forEach(((e,t)=>{o.find((t=>t.id===e.id))||s.splice(t,1)})));const c=a.outputJoints,d=n.outputJoints;return c&&(c.forEach(((o,s)=>{let a=d.find((e=>e.id==o.id));a||(a=o.fork(n),d.push(a)),e+=50,i.push(l().createElement(r.Ay,{key:s,model:a,type:"frameIO",order:t++}))})),d.forEach(((e,t)=>{c.find((t=>t.id===e.id))||d.splice(t,1)}))),i}));return d.length>0?l().createElement(l().Fragment,null,l().createElement(s.Line,{x:c.width-50,y:1,points:[0,0,0,c.height-2],dash:[4,2],stroke:"#EEE",tension:.5}),l().createElement(s.Text,{x:c.width-30,y:0,align:"right",width:12,height:c.height,text:a.title,fontSize:10,verticalAlign:"middle",fill:"#BBB"}),l().createElement(s.Group,{x:c.width-50,y:50},d)):null}},25026:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(66362),o=n(64012),r=n.n(o),s=n(91737),a=n(50335),l=n(44993),c=n(40343),d=n(34929);function u({groupModel:e,diagramCtx:t}){(0,o.useMemo)((()=>{e.getConfigs=()=>(0,l.A)(e,t),e.getListeners=function(){if(t.viewCtx.context.isDesnMode())return(0,c.A)(e,t)}}),[]);const n=e.style,u=(0,s.HO)((()=>Object.assign({fill:n.color},(0,a.oj)(e,t))));return r().createElement(i.Group,{x:n.x,y:n.y,width:n.w,height:n.h,onClick:(0,s.Wj)((n=>p(e,t))).stop,_onMouseDown:(0,s.Wj)((n=>{!function(e,t,n){const{model:i,viewCtx:o}=n,{emitSnap:r,scale:a}=o;let l,c,u,p;(0,s.zg)(e,(({po:{x:e,y:n},epo:{ex:s,ey:f},dpo:{dx:h,dy:m},adpo:{adx:g,ady:y}},b)=>{if("start"===b)return u=t.style.x,p=t.style.y,c=(0,d.QW)(t.comAry,o),l=r.start("移动",{target:i}),void c.start();if("moving"==b){let e,n;const o=u+g/a;o>0&&o+t.style.w<i.style.width&&(t.style.x=o,e=g);const r=p+y/a;r>0&&r+t.style.h<i.style.height&&(t.style.y=r,n=y),void 0===e&&void 0===n||c.ing({adx:e,ady:n}),l.pauseNext()}"finish"==b&&(l.resume(),c.finish(),l.commit())}))}(n,e,t)})).stop,onContextMenu:(0,s.Wj)((n=>{p(e,t),t.viewCtx.emitWindowEvents.showContextMenu(n)})).stop.prevent},r().createElement(i.Rect,Object.assign({width:n.w,height:n.h,cornerRadius:5},u)),e.title?r().createElement(i.Text,{text:e.title,x:10,y:-13,fontSize:12,fontStyle:"bold",fill:"#AAA"}):null)}function p(e,t){const{viewCtx:n}=t;n.emitComponent.focus(e)}},65667:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(38570),r=n(31364),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.A{constructor(e){super(),this.comAry=[],this.style={},e&&(this.comAry=e,this.comAry.forEach((e=>{e.groupId=this.id})),this.refresh())}refresh(){let e=1e4,t=1e4,n=0,i=0;this.comAry.forEach((o=>{const r=o.$el;let s=0;o.getInputsAllAry().forEach((e=>{const t=e.$el.getClientRect();s=Math.max(s,t.width)}));let a=0;o.getOutputsAllAry().forEach((e=>{const t=e.$el.getClientRect();a=Math.max(a,t.width)})),e=Math.min(e,r.x()-s),t=Math.min(t,r.y()),n=Math.max(n,r.x()+r.width()+a),i=Math.max(i,r.y()+r.height())}));const o=n-e,r=i-t;this.style={x:e-15+.5,y:t-15+.5,w:o+30,h:r+30,color:"rgba(246,182,18,0.3)"}}};l=s([(0,i.yL)(o.MS+"topl.GroupModel"),a("design:paramtypes",[Array])],l);const c=l},53658:(e,t,n)=>{"use strict";n.d(t,{$g:()=>c,Ws:()=>l,X8:()=>a,rW:()=>s});var i=n(14046),o=n(96966),r=n(51807);function s(e){const{context:t,tplContext:n,keywords:o}=e;if(!e.curFrameModel)return[];const s=[e.curFrameModel];let a=e.curFrameModel.parent;return a instanceof r.l||a instanceof i.U&&(a=a.parent),a&&function e(t){var n;s.push(t);const i=null===(n=t.parent)||void 0===n?void 0:n.parent;i&&e(i)}(a),s.reverse()}function a(e){let t;return t=Array.isArray(e)?e.filter((e=>e))[0]:e,t}function l(e,t,n=0){!e()&&n<500?requestAnimationFrame((()=>l(e,t,++n))):"function"==typeof t&&t()}function c(e,t,n){const{position:r,pinModel:s,diagramModel:c,context:d,tplContext:u,onComplete:p}=t,{viewModel:f,curDiagramModel:h,emitComponent:m}=u,g=c.parent;if(e.singleton&&f.frames[0].comAry.find((t=>{var n,i;return(null===(i=null===(n=t.runtime)||void 0===n?void 0:n.def)||void 0===i?void 0:i.namespace)===e.namespace})))return void u.emitMessage.warn(`${e.title}已存在，不能重复添加`);const y=new o.Al(e,n),b=g.parent,v=u.emitSnap.start("添加组件",{target:c}),x=a(m.add({seedModel:y,toComId:b&&b instanceof i.U?b.id:void 0,toSlotId:g.id,state:"finish"})),A=c.$el.getStage().getScaleX();let w=r.x,E=r.y;r.x<0&&(w=50),r.x>h.style.width&&(w=h.style.width-50),r.y<0&&(E=30),r.y>h.style.height&&(E=h.style.height-50);const C={x:w/A,y:E/A},_=c.addCom(x,C);if(s){const e=_.getInputsAllAry();e&&e.length>0?l((t=>{const n=e[0];if(n&&n.$el){const e=c.addConnection(s,n);return m.connected(e),m.focus(_),v.commit(),p&&p(),!0}})):v.cancel()}else p&&p(),v.commit(),setTimeout((e=>{m.focus(_)}))}},59798:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(66362),o=n(91737),r=n(38438),s=n(64012),a=n(42537),l=n(54207),c=n(64012);class d{}function u(){const e=(0,o.lB)(r.vn,{from:"parents"}),{viewCtx:t,model:n}=e,{context:a}=t,l=n.style,u=((0,o.J2)(d,(t=>{t({diagramCtx:e})}),{to:"children"}),(0,s.useRef)()),f=(0,s.useRef)(),h=((0,s.useCallback)((e=>{const t=(new Date).getTime();if(u.current){t-u.current<200?(h(e),u.current=void 0):u.current=t}else u.current=t}),[]),(0,s.useCallback)((e=>{const i=(0,o.oT)(f.current),r=e.evt.x-i.x,s=e.evt.y-i.y,a=n.addComment("注释",{x:r,y:s});setTimeout((e=>{t.emitComponent.focus(a)}))}),[])),m=n.commentAry;return c.createElement(i.Group,{x:0,y:0},c.createElement(i.Rect,{width:l.width,height:l.height,ref:f}),m.map((e=>c.createElement(p,{key:e.id,comment:e}))))}function p({comment:e}){const t=(0,o.lB)(d,{from:"parents"}),n=t.diagramCtx.viewCtx,{context:r}=n,u=(0,s.useRef)();(0,s.useMemo)((()=>{e.getConfigs=()=>(0,a.A)(e,t.diagramCtx),e.getListeners=function(){return(0,l.A)(e,t.diagramCtx)}}),[]);const p=(0,s.useCallback)((()=>{n.emitComponent.focus(e)}),[]);(0,s.useEffect)((()=>{const t=u.current;if(t){let i;t.draggable(!0),t.on("click",(i=>{n.context.focusOn(e)?t.draggable(!1):(t.draggable(!1),requestAnimationFrame((e=>{t.draggable(!0),p()})),i.evt.preventDefault())})),t.on("dragstart",(e=>{const t=e.target.attrs;i={x:t.x,y:t.y}})),t.on("dragend",(t=>{const n=t.target.attrs,o=n.x-i.x,r=n.y-i.y;e.po.x+=o,e.po.y+=r,p()}))}}),[]);const f=n.context.focusModel,h=(0,s.useMemo)((()=>e.width),[]);return c.createElement(c.Fragment,null,c.createElement(i.Group,{ref:u,x:e.po.x,y:e.po.y,visible:t.editNow!==e,onMouseDown:(0,o.Wj)().stop},c.createElement(i.Rect,{width:h,ref:e=>{e&&e.height(e.parent.children[1].height())},fill:"#FFFFFF"}),c.createElement(i.Text,{text:e.content,fill:"#aaa",width:h,fontSize:12,fontStyle:"italic",lineHeight:1.2})),f===e?c.createElement(i.Transformer,{x:e.po.x,y:e.po.y,anchorStroke:r.themes.colorPrimary,anchorFill:r.themes.colorPrimary,borderStroke:"#DDD",anchorSize:7,ref:e=>{e&&e.nodes([u.current])},rotateEnabled:!1,enabledAnchors:["middle-left","middle-right"],onTransform:e=>{const t=u.current.children[0],n=u.current.children[1],i=t.getClientRect(),o=n.getAbsoluteScale();n.scaleX(n.scaleX()/o.x),n.scaleY(n.scaleY()/o.y),i.width>20&&n.width(i.width)},onTransformEnd:t=>{const i=u.current.children[0],o=n.emitSnap.start("改变尺寸",{target:e});e.width=i.getClientRect().width,o.commit()}}):null)}},42537:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(91353);function r(e,t){const{viewCtx:n,model:r}=t,{context:s,emitSnap:a,emitComponent:l}=n,c=[],d=new i.K9.Category("注释");c.push(d);let u=new i.K9.Group;return d.addGroup(u),u.addItem((0,o.h)(n,{title:"注释",type:"textarea",options:{style:{height:300}},value:{get:()=>e.content,set(t){e.content=t}}})),c}},54207:(e,t,n)=>{"use strict";function i(e,t){const{model:n,viewCtx:i}=t,{emitSnap:o}=i;return[{title:"删除",keys:["Backspace","Delete"],exe:()=>{let e=o.start("itemDelete",{target:n});n.removeComment(),e.commit()}}]}n.d(t,{A:()=>i})},22912:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(25765),o=n(64012),r=(n(96966),n(26253)),s=n(64012);function a({model:e,ctx:t}){const{emitMessage:n,emitLogs:a,emitSnap:l}=t,c=e.outputPins[0];(0,o.useCallback)((t=>{const n=t.target.value;if(""!==n){const t=l.start("renameVar",{target:e});e.runtime.title=n,t.commit()}}),[]);return s.createElement("div",{className:i.A.editPanel},s.createElement("div",{className:i.A.edtItem},s.createElement("label",null,"类型"),s.createElement("div",null,s.createElement(r.A,{value:{get:()=>c.schema,set(t){e.inputPins.forEach((e=>{"set"===e.id&&(e.schema=t)})),e.outputPins.forEach((e=>{e.schema=t}))}}}))))}},91353:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(96966),o=n(91716);function r(e,t){const{emitComponent:n,emitSnap:r,getCurDiagram:s}=e;if("object"==typeof t){let e;"function"==typeof t.ifVisible&&(e=()=>{const e=t.ifVisible();return"boolean"==typeof e&&e});let a=t.options;"function"==typeof a&&(a=t.options());const l={title:t.title,type:t.type,description:t.description,value:function(){let e,i=!1;return{get:()=>(i||(i=!0,e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e),e),set(a){(0,o.c)().push((()=>{var o;try{let l;e=a,i=!1,t.ignoreSnap||(l=r.start((null===(o=t.value)||void 0===o?void 0:o.snapTitle)||"Change value",{target:s()}));(t.value&&t.value.set||(()=>{}))(a),l&&l.commit(),n.reFocus()}catch(e){throw e}}))}}}(),options:a,ifVisible:e};return new i.K9.EditItem(l)}throw new Error("Invalid typeof editor(function or object expect)")}},65787:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(91737),o=n(27883);function r(e,t){const{context:n,debugSlotStartWith:r,emitDebug:s,emitModule:a,emitFrame:l}=t,c=(0,o.F8)({frame:e}),d=n.configs.com||{},u=(0,i.o8)(d,!0),p=Object.assign({},u,{debug:!0,observable:i.sH,debug:({resume:e,ignoreAll:t})=>(s.init({resume:e,ignoreAll:t}),{log(e,t,n,o){const r=(0,i.o8)(n,!0);requestAnimationFrame((n=>{s.log("debug",e,t,r,o)}))},onResume(){s.resume()}}),onError({comId:e,error:t}){requestAnimationFrame((n=>{l.onError("com",{comId:e},t)}))}});p.env.runtime={debug:!0},p.comDefs=n.getAllComDef(),console.log(111,c),console.log(222,n.renderWeb),console.log(333,p),n.renderWeb(c,p)}},82508:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(96966),o=n(91716),r=n(91353);function s(e,t){const{viewModel:n,context:s,emitComponent:a,emitSnap:l,emitFind:c}=t,d=[],u=new i.K9.Category({title:e.title});d.push(u);const p=new i.K9.Group;return u.addGroup(p),s.isDesnMode()&&(p.addItem((0,r.h)(t,{title:"添加配置项",type:"button",value:{set(t){e.parent.addInputPin({hostId:(0,o.uR)(),icon:"rectangle",type:"config",title:"新增配置项",desc:"配置项",schema:{type:"string"},editable:!0,deletable:!0})}}})),p.addItem((0,r.h)(t,{title:"添加输出项",type:"button",value:{set(t){e.parent.addOutputPin({hostId:(0,o.uR)(),title:"新增输出项",schema:{type:"follow"},conMax:1,editable:!0,deletable:!0})}}}))),d}},44993:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(91353);function r(e,t){const{model:n,viewCtx:r}=t,{viewModel:s,context:a,emitComponent:l,emitSnap:c}=r,d=[],u=new i.K9.Category("组");d.push(u);let p=new i.K9.Group;return u.addGroup(p),p.addItem((0,o.h)(r,{title:"标题",type:"text",value:{get:()=>e.title,set(t){e.title=t}}})),p.addItem((0,o.h)(r,{title:"颜色",type:"colorPicker",value:{get:()=>e.style.color,set(t){if(t.indexOf("rgba")>=0){const n=t.substring(0,t.lastIndexOf(","))+",0.3)";e.style.color=n}}}})),d}},86534:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(96966),o=n(91716),r=n(91353),s=n(36938),a=n(65787),l=n(14046),c=n(64012);function d(e,t){var n,d,u,p;const{viewModel:f,context:h,isMainSlot:m,emitComponent:g,emitSnap:y,emitScenes:b}=t,v=e.parent,x=[],A=new i.K9.Category({title:v.title});x.push(A);const w=new i.K9.Group;A.addGroup(w);const E=h.configs,C=null===(d=null===(n=t.configs.cards)||void 0===n?void 0:n.main)||void 0===d?void 0:d.ioEditable,_="module"===(null===(p=null===(u=t.configs.cards)||void 0===u?void 0:u.main)||void 0===p?void 0:p.type),M=t.configs.useExtendedInput,I=v.parent instanceof l.U;if(h.isDesnMode()&&(_||!v.isTypeOfPopup()||v.isTypeOfModule())&&(_&&!I&&(w.addItem((0,r.h)(t,{title:"添加 配置项",type:"button",value:{set(e){v.addInputPin({hostId:(0,o.uR)(),icon:"rectangle",type:"config",title:"新增配置项",desc:"配置项",schema:{type:"string"},editable:!0,deletable:!0,editor:{type:"text"}})}}})),w.addSeparator()),!_&&!M||I||w.addItem((0,r.h)(t,{title:"添加 "+(M?"扩展输入项":"输入项"),type:"button",value:{set(e){const t=(0,o.uR)(),n=M?"ext":"normal";let i;if(M){let e=1;v.inputPins.forEach((t=>{t.isTypeOfExt()&&e++})),i=`新增扩展输入项${e}`}else i=`新增输入项${v.inputPins.length+1}`;v.addInputPin({id:t,hostId:t,type:n,title:i,schema:{type:"string"},editable:!0,deletable:!0})}}})),C&&w.addItem((0,r.h)(t,{title:"添加 "+(I?"输出连接项":"输出项"),type:"button",value:{set(e){const t=(0,o.uR)();I?v.addOutputJoint({id:t,hostId:t,title:`新增连接项${v.outputJoints.length+1}`,schema:{type:"follow"},icon:"arrowR"}):v.addOutputPin({id:t,hostId:t,title:`新增输出项${v.outputPins.length+1}`,schema:{type:"string"},editable:!0,deletable:!0})}}}))),h.isDesnMode()&&I&&w.addItem((0,r.h)(t,{title:"添加 扩展输入项",type:"button",description:"新增扩展输入项后，可以通过组件与其通信",value:{set(e){v.addExtInputPin()}}})),v.catalogId){const e=t.configs.outline;if(Array.isArray(e)){const n=e.find((e=>e.catalogId===v.catalogId));if(n&&Array.isArray(n.editors)&&n.editors.length>0){const e=new i.K9.Group;n.editors.forEach((n=>{n.title&&"_execute"===n.type&&e.addItem((0,r.h)(t,{title:`${n.title}`,type:"button",value:{set(e){(0,a.A)(v,t)}}}))})),e.items&&A.addGroup(e)}}}const k=new i.K9.Group;if(k.fixedAt="bottom",h.isDesnMode()&&v.deletable&&(A.addGroup(k),k.addItem((0,r.h)(t,{title:"删除",type:"button",options:{type:"danger"},value:{set(t,n){const i=y.start("itemDelete",{target:e});g.delete(e),g.focus(void 0),i.commit()}}}))),!E.geoView){const n=new i.K9.Category("高级");x.push(n);const o=new i.K9.Group;n.addGroup(o),(e.startWithCom||1===e.parent.inputPins.length)&&o.addItem((()=>c.createElement(s.zi,{tvCtx:t,value:{get(){var t;return null===(t=e.runtimeBefore)||void 0===t?void 0:t[0]},set(t){if(t){const n=y.start("itemChange",{target:e});e.runtimeBefore=[t],n.commit()}}}})))}return x}},57050:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(96966),o=n(91716),r=n(91353);function s(e,t){const{context:n,emitComponent:s,emitSnap:a,emitScenes:l}=t,c=e.parent,d=[],u=new i.K9.Category({title:e.title});d.push(u);const p=new i.K9.Group;if(u.addGroup(p),n.isDesnMode()&&(p.addItem((0,r.h)(t,{title:"添加 配置项",type:"button",value:{set(e){c.addInputPin({hostId:(0,o.uR)(),icon:"rectangle",type:"config",title:"新增配置项",desc:"配置项",schema:{type:"string"},conMax:1,editable:!0,deletable:!0,editor:{type:"text"}})}}})),p.addSeparator(),p.addItem((0,r.h)(t,{title:"添加 输入项",type:"button",value:{set(e){const t=(0,o.uR)();c.addInputPin({id:t,hostId:t,type:"normal",title:`新增输入项${c.inputPins.length+1}`,schema:{type:"string"},editable:!0,deletable:!0})}}})),p.addItem((0,r.h)(t,{title:"添加 输出项",type:"button",value:{set(e){c.addOutputPin({hostId:(0,o.uR)(),title:"新增输出项",schema:{type:"follow"},conMax:1,editable:!0,deletable:!0})}}}))),n.isDesnMode()){const e=new i.K9.Group;e.fixedAt="bottom",u.addGroup(e)}return d}},37725:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(91353);function r(e,t,n){const{viewModel:r,context:s,emitComponent:a,emitSnap:l}=n,c=new i.K9.Category(`选中了${e.length}个组件`);let d=new i.K9.Group;return c.addGroup(d),d.addItem((0,o.h)(n,{type:"button",title:"创建组",ignoreSnap:!0,value:{set(n){const i=l.start("createGroup",{target:t}),o=t.addGroup(e);a.focus(o),i.commit()}}})),[c]}},25487:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(96966);function o(e,t){const{emitSnap:n}=t,o=[],r=new i.K9.Category({title:e.title});o.push(r);let s=new i.K9.Group;return r.addGroup(s),o}},11543:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96966),o=n(91353);function r(e,t){const{context:n,emitComponent:r,emitSnap:s}=t,a=[],l=new i.K9.Category(e.title);a.push(l);const c=new i.K9.Group;if(l.addGroup(c),c.addItem((0,o.h)(t,{title:"标题",type:"text",value:{get:()=>e.title,set(t){e.title=t}}})),n.isDesnMode()){const n=new i.K9.Group;n.fixedAt="bottom",l.addGroup(n),n.addItem((0,o.h)(t,{title:"删除",type:"button",options:{type:"danger"},value:{set(t,n){const i=s.start("itemDelete",{target:e});if(e.startWithOutput.isTypeOfShotcut()){e.parent.removeOutputPin(e.startWithOutput.hostId)}r.delete(e),r.focus(void 0),i.commit()}}}))}return a}},32691:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(96966),o=n(22912),r=n(42825),s=n(64012);function a(e,t){const{viewModel:n,emitFind:a,context:l,emitVariable:c,emitSnap:d}=t,u=e.varCom,p=[],f=new i.K9.Category({title:e.title});if(p.push(f),l.isDesnMode()){const n=new i.K9.Group;f.addGroup(n),n.addItem(new i.K9.FunctionItem((()=>{const n=u.outputPins.find((e=>"return"===e.hostId));return s.createElement(s.Fragment,null,s.createElement(o.A,{model:u,ctx:t}),s.createElement("div",null,s.createElement("span",null,"初始值"),s.createElement(r.A,{options:{schema:n.schema},value:{get:()=>u.data.initValue,set(t){if(t===u.data.initValue)return;const n=d.start("setIntValue",{target:e});u.data.initValue=t,c.notifyBindings(u.id,t,!0),n.commit()}}})))})))}return p}},50335:(e,t,n)=>{"use strict";n.d(t,{Y8:()=>u,cm:()=>p,d:()=>f,oj:()=>d});var i=n(38438),o=n(66362),r=n(91737),s=n(37725),a=n(35820),l=n(72205),c=n(21523);function d(e,t,n){const{viewCtx:i}=t,{context:o}=i;return o.focusOn(e)?{stroke:o.themes.colorPrimary,strokeWidth:2}:{stroke:n?"transparent":"#BBB",strokeWidth:1}}function u(e,t){var n;const{model:i,viewCtx:o}=e,{context:r}=o,s={fill:"#FFFFFF"};let a;return(null===(n=i.startWithCom)||void 0===n?void 0:n.error)&&(s.stroke="#FF0000",s.strokeWidth=1,s.dash=[3,3],s.shadowOffset={},s.shadowOpacity=0),a="function"==typeof(null==t?void 0:t.checkFocusOnFn)?r.focusOn(t.checkFocusOnFn):r.focusOn(i),a?Object.assign({fill:"#FFFFFF",stroke:r.themes.colorPrimary,strokeWidth:2,shadowOffset:{}},s):Object.assign({fill:"#FFFFFF",shadowColor:r.focusOn(i)?r.themes.colorPrimary:(null==t?void 0:t.shadowColor)||"#DDD",shadowBlur:5,shadowOffset:{x:0,y:0},shadowOpacity:1},s)}function p(e,t,n){const{emitComponent:i,animationLayer:o,context:r}=e;i.focus({getConfigs:()=>(0,s.A)(n,t,e),getListeners:()=>(0,a.A)(n,t,e),focus(){n.forEach((e=>{e&&e.focus()}))},blur(){n.forEach((e=>{e.blur()})),t.focusedComAry=void 0}})}function f(e){const{model:t,viewCtx:n}=e,{emitComponent:s,animationLayer:a,context:d}=n;let u,f,h;function m(e,i){h||(h=new o.Konva.Rect({x:0,y:0,width:0,height:0,strokeWidth:1,stroke:d.themes.colorPrimary,dash:[3,2],fill:"rgba(250,100,0,0.1)"}),h.listening(!1),a.add(h));const r=n.scale;u||(u={x:i.x,y:i.y}),f={x:i.x,y:i.y};const s=function(e,t){let n,i=e.x,o=e.y,r=t.x,s=t.y;i>r&&(n=Math.abs(i-r),i=r,r=i+n);o>s&&(n=Math.abs(o-s),o=s,s=o+n);return{x1:i,y1:o,x2:r,y2:s}}(u,f);h.x(s.x1/r+.5),h.y(s.y1/r+.5),h.width((s.x2-s.x1)/r),h.height((s.y2-s.y1)/r),h.visible(!0),t.comAry.forEach((e=>{if(!(e.groupId||e instanceof c.default&&e.isStartInDiagram()))if(e.$el&&function(e,t){const n=e.getClientRect(),i=t.getClientRect(),o=n.x,r=n.y,s=n.x+n.width,a=n.y+n.height,l=i.x,c=i.x+i.width,d=i.y,u=i.y+i.height;return!(s<l||c<o||a<d||u<r)}(h,e.$el)){let n=t.focusedComAry;n||(n=t.focusedComAry=[]);n.indexOf(e)<0&&n.push(e),e.focus()}else if(e.state.isFocused()){e.blur();let n=t.focusedComAry;if(n){const t=n.indexOf(e);t>=0&&n.splice(t,1)}}}))}return{_onMouseDown:o=>{const a=d.focusModel;if(a&&a instanceof l.j)return;let c=(0,r.oT)(o.currentTarget),f=!0;requestAnimationFrame((e=>{n.assitWith&&(f=!1)})),(0,r.zg)(o,(({po:{x:n,y:i},epo:{ex:a,ey:l},dpo:{dx:d,dy:g}},y)=>{if("start"===y)return!!f&&(c=(0,r.oT)(o.currentTarget),void(t.focusedComAry=void 0));if(!c)return!1;if("moving"==y){if(!f)return!1;m(0,{x:a-c.x,y:l-c.y})}"finish"==y&&f&&function(){if(u=void 0,h){h.visible(!1);const n=t.focusedComAry;(null==n?void 0:n.length)>0?1===n.length?(t.focusedComAry=void 0,s.focus(n[0])):p(e.viewCtx,t,n):t.focusedComAry=void 0}}()}),{default(){(0,i.jM)(null,{model:t,viewCtx:n})}})}}}},1065:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(91737),o=n(64012),r=n.n(o),s=n(66362);function a({ctx:e}){const{viewCtx:t,model:n}=e,a=n.style.width,c=n.style.height,d=(0,o.useCallback)((({cursor:e})=>({fill:"transparent",onMouseEnter:t=>{t.target.getStage().container().style.cursor=e},onMouseLeave:e=>{e.target.getStage().container().style.cursor="default"}})),[]);return r().createElement(r().Fragment,null,r().createElement(s.Rect,Object.assign({x:0,y:c-5,width:a,height:10},d({cursor:"ns-resize"}),{onMouseDown:(0,i.Wj)((t=>l("h",t,e))).stop})),r().createElement(s.Rect,Object.assign({x:a-5,y:0,width:10,height:c},d({cursor:"ew-resize"}),{onMouseDown:(0,i.Wj)((t=>l("w",t,e))).stop})))}function l(e,t,n){const{viewCtx:o,model:r}=n,{emitSnap:s,scale:a,viewModel:l}=o;let c,{x:d,y:u,w:p,h:f}=(0,i.oT)(r.$el);const h=o.viewModel.$el,m=r.style;(0,i.zg)(t,(({po:{x:t,y:n},epo:{ex:i,ey:o},dpo:{dx:l,dy:d}},u)=>{if("start"==u&&(c=s.start("comResize",{target:r}),r.connections.changing()),"moving"==u){if("h"==e||"all"==e){if(f+=d/a,f<=200)return;if(f>=2e3)return;let e=0;r.comAry.forEach((t=>{t.$el&&(e=Math.max(e,t.style.top+t.$el.getClientRect().height))})),m.height=f<e+10?e+10:f}if("w"==e||"all"==e){if(p+=l/a,p<=300)return;if(p>=5e3)return;let e=0;r.comAry.forEach((t=>{t.$el&&(e=Math.max(e,t.style.left+t.$el.getClientRect().width))})),m.width=p<e+50?e+50:p,r.startWithCom||r.isVar?(r.isVar,r.refreshInnerCons(r,!0,"output")):(r.showIO||r.isFn)&&r.parent.refreshInnerCons(r,!0,"output")}h.width()<m.width+200&&h.width(m.width+200),h.height()<m.height+200&&h.height(m.height+200)}if("finish"==u){c.commit();r.$el.getStage().container().style.cursor="default",r.connections.changed()}}))}},64003:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(1065),o=n(64012),r=n.n(o);function s({ctx:e}){return r().createElement(r().Fragment,null,r().createElement(i.A,{ctx:e}))}},74377:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(79081),o=n(91737);function r(e){const{model:t,viewCtx:n}=e,{viewModel:r,context:s,emitFind:a,emitComponent:l,emitWindowEvents:c,emitSnap:d}=n,u=[{title:"添加注释",exe:()=>{const e=s.contextMenuEvent;if(e){const{event:i}=e,r=(0,o.oT)(t.$el),s=i.evt.x-r.x,a=i.evt.y-r.y,l=t.addComment("注释",{x:s,y:a});setTimeout((e=>{n.emitComponent.focus(l)}))}}},null,{title:"整理",exe:()=>{(0,i.P)(t,n)}},{title:"查看 引用",exe:()=>{const e=r.searchDiagramByFxRef(t.parent)||[];a.showUsed({type:"used",title:`${t.title}的引用`,results:e.map((e=>({id:e.id,title:e.title,results:e.results.map((e=>({type:"diagram",id:e.id,title:e.title,focus(){l.focus(e)}})))})))})}},null,{title:"删除Fx卡片",keys:["Backspace","Delete"],exe:()=>{const e=d.start("itemDelete",{target:t});if(t.isVar){const e=t.varCom;l.delete(e)}l.delete(t),l.focus(void 0),e.commit()}}];if(s.clipboard){const{type:e,json:t}=s.clipboard;e.match(/toplCom|toplComs/)&&u.unshift({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{c.paste()}})}return u}},40343:(e,t,n)=>{"use strict";function i(e,t){const{model:n,viewCtx:i}=t,{emitComponent:o,emitSnap:r,emitMessage:s,emitView:a}=i;let l=[];return l.push({title:"解散组",keys:["Backspace","Delete"],exe:()=>{const t=r.start("itemDelete",{target:n});n.removeGroup(e),o.focus(void 0),t.commit()}}),l}n.d(t,{A:()=>i})},35820:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(91716);function o(e,t,n){const{emitComponent:o,emitSnap:r,emitMessage:s,emitView:a}=n;let l=[];return l.push({title:"复制到剪贴板",keys:["Ctrl+c"],exe:()=>{const t=a.copyFocus(e);t.from=e.map((e=>e.id)),(0,i.C)(JSON.stringify(t))&&s.info("已复制到剪切板.")}}),l.push({title:"删除选中的组件",keys:["Backspace","Delete"],exe:()=>{const n=r.start("删除多个组件",{target:t});e.forEach((e=>{o.delete(e)})),n.commit(),o.focus(t)}}),l}},20604:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(79081),o=n(91737);function r(e){const{model:t,viewCtx:n}=e,{context:r,emitComponent:s,emitWindowEvents:a,emitSnap:l}=n,c=[{title:"添加注释",exe:()=>{const e=r.contextMenuEvent;if(e){const{event:i}=e,r=(0,o.oT)(t.$el),s=i.evt.x-r.x,a=i.evt.y-r.y,l=t.addComment("注释",{x:s,y:a});setTimeout((e=>{n.emitComponent.focus(l)}))}}},{title:"整理",exe:()=>{(0,i.P)(t,n)}},null,{title:"删除",keys:["Backspace","Delete"],exe:()=>{const e=l.start("itemDelete",{target:t});if(t.isVar){const e=t.varCom;s.delete(e)}s.delete(t),s.focus(void 0),e.commit()}}];if(r.clipboard){const{type:e,json:t}=r.clipboard;e.match(/toplCom|toplComs/)&&c.unshift({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{a.paste()}})}return c}},62859:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var i=n(91716),o=n(38570),r=n(79081),s=n(91737);function a(e){const{model:t,viewCtx:n}=e,{context:a,emitComponent:l,emitWindowEvents:c,emitSnap:d}=n,u=[{title:"添加注释",exe:()=>{const e=a.contextMenuEvent;if(e){const{event:i}=e,o=(0,s.oT)(t.$el),r=i.evt.x-o.x,a=i.evt.y-o.y,l=t.addComment("注释",{x:r,y:a});setTimeout((e=>{n.emitComponent.focus(l)}))}}},{title:"添加起始组件",exe:()=>{const e=a.contextMenuEvent;if(e){const{event:r}=e,{viewModel:s,context:a}=n;if(!a.isDesnMode())return;n.assitWith=void 0;const l=t.$el.getStage().container(),c=(0,i.E9)(l);n.assitWith={diagramModel:t,type:"outputs",position:{x:r.evt.clientX-s.style.left-c.x-o.c8,y:r.evt.clientY-s.style.top-c.y-o.c8}}}}}];if(t.parent.isBizTypeOfService()&&u.push(null,{title:"删除",keys:["Backspace","Delete"],exe:()=>{const e=d.start("itemDelete",{target:t});l.delete(t),l.focus(void 0),e.commit()}}),a.clipboard){const{type:e,json:t}=a.clipboard;e.match(/toplCom|toplComs/)&&u.push({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{c.paste()}})}return u.push(null),u.push({title:"整理",exe:()=>{(0,r.P)(t,n)}}),u}},71034:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(79081),o=n(91737);function r(e){const{model:t,viewCtx:n}=e,{viewModel:r,context:s,emitComponent:a,emitWindowEvents:l,emitSnap:c,emitFind:d}=n,u=[{title:"添加注释",exe:()=>{const e=s.contextMenuEvent;if(e){const{event:i}=e,r=(0,o.oT)(t.$el),s=i.evt.x-r.x,a=i.evt.y-r.y,l=t.addComment("注释",{x:s,y:a});setTimeout((e=>{n.emitComponent.focus(l)}))}}},{title:"整理",exe:()=>{(0,i.P)(t,n)}},null,{title:"查看 读取 的引用",exe:()=>{const e=t.varCom,n=r.searchDiagramByVarRef(e,"get");d.showUsed({type:"used",title:`变量 ${e.title} 读取 引用`,results:n.map((e=>({id:e.id,title:e.title,results:e.results.map((e=>({type:"diagram",id:e.id,title:e.title,focus(){a.focus(e)}})))})))})}},{title:"查看 赋值 的引用",exe:()=>{const e=t.varCom,n=r.searchDiagramByVarRef(e,"set");d.showUsed({type:"used",title:`变量 ${e.title} 读取 引用`,results:n.map((e=>({id:e.id,title:e.title,results:e.results.map((e=>({type:"diagram",id:e.id,title:e.title,focus(){a.focus(e)}})))})))})}},null,{title:"删除变量",keys:["Backspace","Delete"],exe:()=>{const e=c.start("itemDelete",{target:t}),n=t.varCom;a.delete(n),a.delete(t),a.focus(void 0),e.commit()}}];if(s.clipboard){const{type:e,json:t}=s.clipboard;e.match(/toplCom|toplComs/)&&u.unshift({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{l.paste()}})}return u}},37677:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(64012),r=n.n(o),s=n(92758),a=n(66362),l=n(38438);function c({title:e,style:t}){var n;const c=(0,i.lB)(l.vn,{from:"parents"}),{model:d,viewCtx:u}=c,p=(0,o.useRef)(),f=(0,o.useRef)(),h=null===(n=d.startWithCom)||void 0===n?void 0:n.error;(0,o.useEffect)((()=>{const e=p.current;e&&(e.on("click",(t=>{e.draggable(!1),setTimeout((t=>{e.draggable(!0)})),m(t,{model:d,viewCtx:u})})),e.on("dragstart",(t=>{e.draggable(!1);const n=d.$el.moveTo(u.animationLayer);n.on("dragend",(t=>{e.draggable(!0),n.off("dragend");const i=n.x(),o=n.y();n.moveTo(u.mainLayer),setTimeout((e=>{d.style.left=(0,s.fM)(i,50),d.style.top=o,u.emitComponent.focus(d)}))})),n.startDrag()})))}),[]),(0,o.useEffect)((()=>{var e;const t=p.current;if(t&&(null===(e=d.labelAry)||void 0===e?void 0:e.length)>0){const e=t.textWidth;f.current&&f.current.destroy();const n=d.labelAry[d.labelAry.length-1],i=new a.Konva.Group({y:-4});f.current=i;const o=new a.Konva.Rect({stroke:"#555",strokeWidth:0,fill:n.color,width:38,height:15,cornerRadius:5});i.add(o);const r=new a.Konva.Text({x:3,y:3,text:n.title,fontSize:10,fill:"#FFF"});i.add(r),t.parent.add(i),f.current.x(e+10)}}),[d.title,d.labelAry]);const m=(0,o.useCallback)((e=>{e.cancelBubble=!0}),[]);return r().createElement(a.Group,{x:10,y:-15},r().createElement(a.Text,{ref:p,text:`${e}${h?"  ("+h.message+")":""}`,fontSize:12,fill:h?"#FF0000":(null==t?void 0:t.color)||"#777777",fontStyle:"italic",hitStrokeWidth:30,onClick:m,onDblClick:(0,i.Wj)((e=>function(e,t){const{viewCtx:n,model:i}=t;if(n.context.isDebugMode())return;i.startWithCom?n.emitComponent.sayHi(i.startWithCom.id,"toplView"):i.parent.parent&&n.emitComponent.sayHi(i.parent.parent.id,"toplView")}(0,c))).stop}))}},6403:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,T:()=>s});var i=n(14046),o=n(51807);let r;function s(e){r=e}function a(){const{context:e,viewModel:t}=r,n={scenes:[]};if(!e.configs.isTypeOfMPA())return t.frames&&t.frames.forEach((e=>{const t=l(e);t&&n.scenes.push(t)})),n}function l(e){const t=[],n=[],r=[],s=[],a=[];let c;if(c=e.parent instanceof o.l?e.isTypeOfFx()?"fx":"frame":e.parent instanceof i.U?"com":"scene",e.inputPins&&e.inputPins.forEach((e=>{t.push({pinId:e.hostId,title:e.title,type:e.type,schema:e.schema,extValues:e.extValues})})),e.outputPins&&e.outputPins.forEach((e=>{n.push({id:e.hostId,title:e.title,type:e.type,schema:e.schema})})),e.frameAry&&e.frameAry.forEach((e=>{if(e.diagramAry.length>0){const t=l(e);r.push(t)}})),e.diagramAry&&e.diagramAry.forEach((e=>{const t=function(e){if(e.conAry.length<=0)return;const t=[],n=[],i={id:e.id,title:e.title,comAry:t,connections:n};e.startWithCom&&(i.type="event",i.from={com:{id:e.startWithCom.id,title:e.startWithCom.runtime.title,pinId:e.startWithCom.outputPins[0].hostId}});e.comAry.length>0&&e.comAry.forEach((e=>{let n;n=e.runtime.hasUI()?"ui":"js";const i=e.getAllInputsInfo(),o=null==i?void 0:i.map((e=>({id:e.hostId,title:e.title}))),r=e.getAllOutputsInfo(),s=null==r?void 0:r.map((e=>({id:e.hostId,title:e.title}))),a={id:e.id,title:e.runtime.title,namespace:e.runtime.def.namespace,type:n,style:e.style,inputs:o,outputs:s};e.runtime.hasUI()||(a.data=e.runtime.model.data),t.push(a)}));return e.conAry.forEach((e=>{const t=e.startPin,i=e.finishPin,o={from:{com:{id:t.parent.id,title:t.parent.runtime.title},pin:{id:t.hostId,title:t.title,position:e.startPo}},to:{com:{id:i.parent.id,title:i.parent.runtime.title},pin:{id:i.hostId,title:i.title,position:e.finishPo}}};n.push(o)})),i}(e);t&&s.push(t)})),e.comAry&&e.comAry.forEach((e=>{const t=function(e){if(e.frames){const t=[];if(e.frames.forEach((e=>{const n=l(e);n&&t.push(n)})),t.length>0){return{id:e.id,title:e.runtime.title,frameAry:t}}}}(e);t&&a.push(t)})),s.length<=0&&r.length<=0&&a.length<=0)return;const d={id:e.id,title:e.diagramAry[0].title,type:c};return a.length>0&&(d.comAry=a),s.length>0&&(d.diagrams=s),e.comAry&&a.length>0&&(d.comAry=a),r.length>0&&(d.frames=r),d}},30063:(e,t,n)=>{"use strict";n.d(t,{$P:()=>f.A,DQ:()=>l.A,Ds:()=>m.D,E$:()=>u.E,US:()=>r.U,al:()=>o.A,cX:()=>h.A,lL:()=>a.l,mO:()=>d.default,t4:()=>i.A,tf:()=>p.tf,th:()=>s.default,xc:()=>c.x});var i=n(53261),o=n(19714),r=n(14046),s=n(21523),a=n(51807),l=n(61281),c=n(56919),d=n(19730),u=n(60599),p=n(7565),f=n(92867),h=n(97538),m=n(6403)},96979:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var i=n(91737),o=n(98058),r=n(54706),s=n(38570),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends o.A{isDisabled(){return this._disabled}toJson(){const e={};return e.id=this.id,e.position=(0,i.o8)(this.position),e.type=this.type,e.order=this.order,e}constructor(e,t,n){super(),this._type=r.C9.JOINT,this.position={},this.order=0,this.exeValue=null,this.type=e,this.position={y:t},this.order=n}getJoinerWidth(){return 15*(this.order+1)}focus(){this.state.isFocused()||(super.focus(),this.from&&this.from.focus(),this.to&&this.to.focus())}blur(){this.state.isFocused()&&(super.blur(),this.from&&(this.from.blur(),this.from.startPin.blur(),this.from.finishPin.blur()),this.to&&(this.to.blur(),this.to.startPin.blur(),this.to.finishPin.blur()))}hoverExeval(e){this.exeValue=e,this.state.running()}hoverAllCon(){this.from.focus(),this.to.focus()}clearDebugHints(){this.state.enable(),this.exeValue=void 0}destroy(){const e=this.from,t=this.to;e&&(this.from=void 0,e.destroy()),t&&(this.to=void 0,t.destroy()),this.parent.delete(this)}};a([i.Nt,l("design:type",Object)],c.prototype,"exeValue",void 0),c=a([(0,i.yL)(s.MS+"topl.JointModel"),l("design:paramtypes",[String,Number,Number])],c)},69406:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(91737),o=n(87144),r=n(56919),s=n(19730),a=n(61281),l=n(66362),c=n(64012),d=n.n(c),u=n(52731),p=n(38570),f=n(51807),h=n(14046);function m({click:e,mousedown:t,order:n}){const c=(0,i.lB)(o.ZB,{from:"parents"}),{model:m,context:g,emitDiagram:y}=c;(0,i.HO)((()=>{var e;(m._anchor||(null===(e=m.forkedFrom)||void 0===e?void 0:e._anchor))&&y.anchor(m)}));const b=(0,i.HO)((()=>{let t;if(m.parent instanceof f.l)t=m.parent;else if(m.parent instanceof h.U){t=m.parent.diagramModel.parent}if(g.isDebugMode()||t.debuggable){let t=(m.forkedFrom||m).exe;if(t){const{val:n,from:o}=t;let c=!1;if(m.isDirectionOfInput()&&m instanceof s.default){if(o instanceof r.x){m.getRoot((e=>e instanceof a.A)).searchCon(o.id,m.id)&&(c=!0)}}else c=!0;if(c&&void 0!==n){let t;return t="object"==typeof n?Array.isArray(n)?"[...]":"{...}":"string"==typeof n?n.length>10?`"${n.substring(0,5)}..."`:`"${n}"`:n,d().createElement(l.Text,{ref:e=>{e&&m.isDirectionOfInput()&&e.x(-1*(e.width()+8))},align:m.isDirectionOfInput()?"right":"left",width:70,text:t,x:7,y:m.conAry.length?1:-4,fontSize:10,fill:g.themes.colorPrimary,onClick:(0,i.Wj)(e).stop})}}}})),v=(0,i.HO)((()=>{const e=(0,p.t5)(m.schema.type),t=c.hoverF||m.state.isFocused()||m.emphasized||m.emphasized||g.isDebugMode()&&(m.forkedFrom||m).state.isRunning();return d().createElement(l.Rect,Object.assign({width:6,height:7,y:-3.5},(0,u.P)(c),{strokeWidth:1,stroke:t?g.themes.colorPrimary:e.strokeColor,hitStrokeWidth:15,fill:c.hoverF||t?g.themes.colorPrimary:e.fillColor,style:{cursor:"pointer"}}))})),x=(0,i.HO)((()=>{const e=m.proxyPin?m.proxyPin.title:m.title,t=c.hoverF||m.state.isFocused()||m.emphasized;if(t||m.conAry.length){const n=-5;return d().createElement(l.Label,Object.assign({y:n,ref:e=>e&&e.x(-1*(e.width()+3))},(0,u.P)(c)),d().createElement(l.Tag,{fill:"#FFF"}),d().createElement(l.Text,{text:`${e}`,y:n,fontSize:10,fill:t?g.themes.colorPrimary:"#777",listening:!1}))}}));return d().createElement(l.Group,{id:m.id,ref:m.set$elOnce,width:7,height:10,x:-3,y:20*n,onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent,_onError_:(e,t)=>{console.error(e)}},v,x,b)}},22356:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(64012),r=n.n(o),s=n(66362),a=n(52731),l=n(38570);function c({click:e,mousedown:t,order:n,pinContext:c}){const{model:d,context:u,viewContext:p}=c;(0,o.useEffect)((()=>{var e;if(null===(e=d.conAry)||void 0===e?void 0:e.length){const e=(0,i.oT)(d.$el,d.parent.$el);d.isDirectionOfInput()?d.conAry.forEach((t=>{(Math.abs(e.x-t._startPo.x)>10||Math.abs(e.y-t._startPo.y)>10)&&(t.startPo={x:Math.round(e.x+e.w/2)+.5,y:Math.round(e.y)+.5,j:d.getJoinerWidth()})})):d.conAry.forEach((t=>{(Math.abs(e.x-t._finishPo.x)>10||Math.abs(e.y-t._finishPo.y)>10)&&(t.finishPo={x:e.x+d.$el.clientWidth/2,y:e.y+d.$el.clientHeight/2,j:d.getJoinerWidth()})}))}}),[]);const f=(0,i.HO)((()=>{if(u.isDebugMode()){const t=(d.forkedFrom||d).exe;if(t){const{val:n,from:o}=t;let a;return a=void 0!==n?"object"==typeof n?Array.isArray(n)?"[...]":"{...}":JSON.stringify(n):"[空]",r().createElement(s.Text,{text:a,x:11,y:5,fontSize:10,fill:u.themes.colorPrimary,onClick:(0,i.Wj)(e).stop})}}})),h=(0,i.HO)((()=>{const e=(0,l.t5)(d.schema.type),t=c.hoverF||d.state.isFocused()||d.emphasized||u.isDebugMode()&&(d.forkedFrom||d).state.isRunning();return"rectangle"===d.icon?r().createElement(s.Rect,{width:18,height:18,x:-9,y:-9,cornerRadius:3,stroke:t?u.themes.colorPrimary:e.strokeColor,strokeWidth:1,fill:t?u.themes.colorPrimary:e.fillColor,style:{cursor:"pointer"}}):r().createElement(s.Circle,{width:20,height:20,stroke:t?u.themes.colorPrimary:e.strokeColor,strokeWidth:1,fill:t?u.themes.colorPrimary:e.fillColor,style:{cursor:"pointer"}})})),m=(0,i.HO)((()=>{const e=c.hoverF||d.state.isFocused()||d.emphasized,t=d.conAry.length?-11:-4;return d.isDirectionOfInput()?r().createElement(s.Text,{text:` ${d.title}`,x:11,y:t,fontSize:10,fill:e?u.themes.colorPrimary:"#777"}):r().createElement(s.Text,{text:`${d.title}`,y:t,fontSize:10,fill:e?u.themes.colorPrimary:"#777",ref:e=>e&&e.x(-1*(e.width()+13))})}));return r().createElement(s.Group,Object.assign({ref:d.set$elOnce,x:0,y:50*n,width:20,height:20},(0,a.P)(c),{onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent}),h,m,f)}},50337:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(64012),r=n.n(o),s=n(66362),a=n(52731),l=n(38570),c=n(51807);function d({click:e,mousedown:t,order:n,pinContext:o}){const{model:d,context:u,viewContext:p}=o,f=(0,i.HO)((()=>{let t;if(d.parent instanceof c.l&&(t=d.parent),t&&t.debuggable||u.isDebugMode()){const t=(d.forkedFrom||d).exe;if(t){const{val:n,from:o}=t;let a;return a=void 0!==n?"object"==typeof n?Array.isArray(n)?"[...]":"{...}":JSON.stringify(n):"[空]",r().createElement(s.Text,{text:a,x:11,y:5,fontSize:10,fill:u.themes.colorPrimary,onClick:(0,i.Wj)(e).stop})}}})),h=(0,i.HO)((()=>{let e,t;d.parent instanceof c.l&&(t=d.parent),(t&&t.debuggable||u.isDebugMode())&&(e=(d.forkedFrom||d).exe);const n=d.schema?(0,l.t5)(d.schema.type):{strokeColor:"#AAA",fillColor:"#EEE"},i=o.hoverF||d.state.isFocused()||d.emphasized;if(d.isTypeOfConfig())return r().createElement(r().Fragment,null,r().createElement(s.Circle,{width:20,height:20,style:{cursor:"pointer"}}),r().createElement(s.Path,{x:-11,y:-11,data:"M875.52 383.36c-5.12-27.52-40.32-37.76-60.16-17.92l-168.32 167.68c-23.68 23.68-62.72 23.68-87.04 0L473.6 446.72C449.28 422.4 449.28 384 473.6 360.32l169.6-168.96c19.84-19.84 10.24-55.04-17.28-60.16-99.2-19.2-205.44 9.6-282.24 86.4C258.56 301.44 232.32 422.4 264.96 529.92c5.12 17.28 1.92 36.48-10.88 49.28L83.2 749.44c-23.68 23.68-23.68 62.72 0 86.4l87.04 86.4c23.68 23.68 62.72 23.68 87.04 0l172.16-171.52c12.8-12.8 31.36-16.64 49.28-11.52 106.88 31.36 226.56 5.12 311.04-79.36C864.64 584.96 893.44 480.64 875.52 383.36z",fill:i||e?u.themes.colorPrimary:n.strokeColor,scale:{x:.0222,y:.0222}}));if("rectangle"===d.icon)return r().createElement(s.Rect,{width:18,height:18,x:-9,y:-9,cornerRadius:2,stroke:i||e?u.themes.colorPrimary:n.strokeColor,strokeWidth:1,fill:i||e?u.themes.colorPrimary:n.fillColor,style:{cursor:"pointer"}});if("arrowL"===d.icon)return r().createElement(r().Fragment,null,r().createElement(s.Arc,{x:0,y:0,angle:180,rotation:90,innerRadius:0,outerRadius:10,stroke:"#AAA",strokeWidth:1,fill:"#FFF"}),r().createElement(s.Arc,{x:0,y:0,angle:180,rotation:-90,innerRadius:0,outerRadius:10,stroke:i||e?u.themes.colorPrimary:n.strokeColor,strokeWidth:1,fill:i||e?u.themes.colorPrimary:n.fillColor}));if("arrowR"===d.icon)return r().createElement(r().Fragment,null,r().createElement(s.Arc,{x:0,y:0,angle:180,rotation:-90,innerRadius:0,outerRadius:10,stroke:"#AAA",strokeWidth:1,fill:"#FFF"}),r().createElement(s.Arc,{x:0,y:0,angle:180,rotation:90,innerRadius:0,outerRadius:10,stroke:i||e?u.themes.colorPrimary:n.strokeColor,strokeWidth:1,fill:i||e?u.themes.colorPrimary:n.fillColor}));{let t;return d.wrap&&(t=r().createElement(s.Circle,{width:26,height:26,stroke:"#bab4cd",strokeWidth:1,fill:"#FFF",style:{cursor:"pointer"}})),r().createElement(r().Fragment,null,t,r().createElement(s.Circle,{width:18,height:18,hitStrokeWidth:30,stroke:i||e?u.themes.colorPrimary:n.strokeColor,strokeWidth:1,fill:i||e?u.themes.colorPrimary:n.fillColor,style:{cursor:"pointer"}}))}})),m=(0,i.HO)((()=>{const e=o.hoverF||d.state.isFocused()||d.emphasized;return d.isDirectionOfInput()?r().createElement(s.Label,{x:"rectangle"===d.icon?10:11,y:-4},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:` ${d.title} `,fontSize:10,fill:e?u.themes.colorPrimary:"#777"})):r().createElement(s.Label,{y:-4,ref:e=>e&&e.x(-1*(e.width()+11))},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:`${d.title} `,fontSize:10,fill:e?u.themes.colorPrimary:"#777"}))}));return r().createElement(s.Group,Object.assign({ref:d.set$elOnce,x:0,y:50*n,width:20,height:20},(0,a.P)(o),{onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent}),m,f,h)}},56283:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(87144),r=n(66362),s=n(64012),a=n.n(s),l=n(52731),c=n(30063),d=n(38570);function u({click:e,mousedown:t,order:n}){const u=(0,i.lB)(o.ZB,{from:"parents"}),{model:f,context:h,emitDiagram:m,viewContext:g}=u,y=(0,s.useRef)(f._notifyView);(0,s.useEffect)((()=>{if(y.current!==f._notifyView&&(y.current=f._notifyView,f.conAry.length)){const e=f.parent instanceof c.US?f.parent.diagramModel:void 0;if(e){const t=(0,i.oT)(f.$el,e.$el);if(f.isDirectionOfInput()){const e=Math.round(t.x-t.w/2)+.5,n=Math.round(t.y)+.5;f.conAry.forEach((i=>{i._finishPo&&(Math.abs(t.x-i._finishPo.x)>5||Math.abs(t.y-i._finishPo.y)>5)&&(i.finishPo={x:e,y:n})}))}else{const e=Math.round(t.x+f.$el.width()/2)+.5,n=Math.round(t.y)+.5;f.conAry.forEach((i=>{i._startPo&&(Math.abs(t.x-i._startPo.x)>5||Math.abs(t.y-i._startPo.y)>5)&&(i.startPo={x:e,y:n})}))}}}}),[f.listenNotify()]),(0,i.HO)((()=>{var e;(f._anchor||(null===(e=f.forkedFrom)||void 0===e?void 0:e._anchor))&&m.anchor(f)}));const b=(0,i.HO)((()=>{const t=p(u);if(t){const n=t.val;let o;return o=void 0===n?"[空]":"function"==typeof n?"[函数]":"object"==typeof n?Array.isArray(n)?"[...]":"{...}":"string"==typeof n?n.length>10?`"${n.substring(0,5)}..."`:`"${n}"`:n,a().createElement(r.Label,{x:7,y:4,ref:e=>{e&&f.isDirectionOfInput()&&e.x(-1*(e.width()+8))}},a().createElement(r.Tag,{fill:"#FFF"}),a().createElement(r.Text,{align:f.isDirectionOfInput()?"right":"left",text:o,fontSize:10,fill:h.themes.colorPrimary,onClick:(0,i.Wj)(e).stop}))}})),v=(0,i.HO)((()=>{let e=f.schema;f.isDirectionOfOutput()&&f.proxyPinValue&&(e=f.proxyPinValue.schema),f.proxyForPin&&(e=f.proxyForPin.schema);const t=(0,d.t5)(null==e?void 0:e.type),n=u.hoverF||f.state.isFocused()||f.emphasized||f.emphasized;let i;f.wrap&&(i=a().createElement(a().Fragment,null,a().createElement(r.Arc,{innerRadius:7,outerRadius:7,angle:90,rotation:-140,stroke:"#bab4cd",strokeWidth:1,style:{cursor:"pointer"}}),a().createElement(r.Arc,{innerRadius:7,outerRadius:7,angle:90,rotation:50,stroke:"#bab4cd",strokeWidth:1,style:{cursor:"pointer"}})));const o=p(u);return f.isDirectionOfInput()?a().createElement(a().Fragment,null,i,a().createElement(r.Circle,Object.assign({width:7,height:7},(0,l.P)(u),{strokeWidth:1,stroke:n||o?h.themes.colorPrimary:t.strokeColor,hitStrokeWidth:15,fill:u.hoverF||n||o?h.themes.colorPrimary:t.fillColor,style:{cursor:"pointer"}}))):a().createElement(a().Fragment,null,i,a().createElement(r.Circle,Object.assign({width:7,height:7},(0,l.P)(u),{hitStrokeWidth:15,strokeWidth:1,stroke:n||o?h.themes.colorPrimary:t.strokeColor,fill:n||u.hoverF||o?h.themes.colorPrimary:t.fillColor,style:{cursor:"pointer"}})))})),x=(0,i.HO)((()=>{var e,t;let n;n=(null===(e=f.proxyForPin)||void 0===e?void 0:e.title)?f.proxyForPin.title:(null===(t=f.proxyPin)||void 0===t?void 0:t.title)?f.proxyPin.title:f.title;const i=f.state.isFocused()||f.emphasized;if(i||f.conAry.length){const e=n,t=-6;return f.isDirectionOfInput()?a().createElement(r.Label,Object.assign({y:t,ref:e=>e&&e.x(-1*(e.width()+4))},(0,l.P)(u)),a().createElement(r.Tag,{fill:"#FFF",cornerRadius:3,height:14}),a().createElement(r.Text,{text:`${e}`,fontSize:10,height:13,padding:2,fill:i?h.themes.colorPrimary:"#777",listening:!1})):a().createElement(r.Label,Object.assign({x:5,y:t},(0,l.P)(u)),a().createElement(r.Tag,{fill:"#FFF",cornerRadius:3}),a().createElement(r.Text,{text:`${e}`,fontSize:10,height:13,padding:2,fill:i?h.themes.colorPrimary:"#777",listening:!1}))}}));return a().createElement(r.Group,{id:f.id,ref:f.set$elOnce,width:7,height:10,y:20*n,onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent,_onError_:(e,t)=>{console.error(e)}},x,b,v)}function p(e){const{model:t,context:n,viewContext:i}=e;if(n.isDebugMode()){let e;return t.conAry.find((t=>{if(t.exe)return e=t.exe,!0})),e||(e=t.exe),e}}},87144:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>C,X5:()=>E,ZB:()=>w});var i=n(56919),o=n(91737),r=n(91716),s=n(60599),a=n(96966),l=n(64012),c=n(40365),d=n(56283),u=n(50337),p=n(34929),f=n(50432),h=n(69406),m=n(22356),g=n(27328),y=n(9278),b=n(74276),v=n(65009),x=n(66362),A=n(64012);n(19730);class w{isTypeOfStartWith(){if(this.type)return null!==this.type.match(/^start$/gi)}}const E={model:void 0,set(e){this.model=e},clear(){this.model=void 0}};function C({model:e,type:t,order:n}){const C=(0,o.J2)(a.Zm.Diagram,{expectTo:"parents"}),_=(0,o.lB)(a.Ho,{from:"parents"}),M=(0,o.lB)(p.zd,{from:"parents"}),I=(0,o.lB)(g.A,{from:"parents"}),k=(0,o.J2)(w,(n=>{n({model:e,type:t,context:_,comContext:M,viewContext:I,emitDiagram:C})}),{to:"children"});(0,l.useMemo)((()=>{e.getConfigs=function(){return(0,c.J)(k)},e.getAssist=()=>(0,b.A)(e,M)}),[]),(0,l.useEffect)((()=>{e.forRef&&!e.rels&&(delete e.forRef,e.rels=[])}),[]),(0,l.useEffect)((()=>{!e.state.isFocused()&&e.hintedNow&&(e.hintedNow.cancel(),e.hintedNow=void 0)}),[e.hintedNow,e.state.isFocused()]);const P=e=>function(e,t){const{model:n,context:i,viewContext:r}=t,{hintConnection:s,emitComponent:a}=r;a.focus(n),n.conAry&&n.conAry.forEach((e=>{s(e)}));i.isDebugMode()&&(n.hintedNow=function(e,t){const{model:n,viewContext:i}=t,{context:r,animationLayer:s,getCurDiagram:a}=i;if(n.hintedNow)return n.hintedNow.cancel(),void(n.hintedNow=void 0);let l;if(!n.hintedNow&&n.$el){const e=a(),t=s,i=(0,o.oT)(n.$el,e.$el),c=new x.Konva.Circle({x:i.x,y:i.y,radius:3,stroke:r.themes.colorPrimary,strokeWidth:1});t.add(c);let d=3;const u=new x.Konva.Animation((e=>{d+=.5,c.radius(d),(n.hadDestroyed()||d>=20)&&(d=3)}),t);u.start(),l=function(){c.destroy(),u.stop()}}return{cancel(){l&&l()}}}(0,t))}(0,k),F=e=>function(e,t){const{model:n,comContext:a,viewContext:l}=t,{context:c,viewModel:d,emitSnap:u,scale:p,getCurDiagram:f}=l;if(c.isDebugMode())return;if("output"!=n.direction&&"inner-output"!=n.direction&&!n.isTypeOfEvent()&&!n.isTypeOfProxyMyFrame()&&!n.isTypeOfShotcut())return;let h,m,g,y;const b=f();(0,o.zg)(e,(({po:{x:e,y:c},epo:{ex:d,ey:f},targetStyle:v},x)=>{if("start"==x){a.dragable=!1,m=(0,o.oT)(b.$el),g={x:(v.x-m.x)/p+v.w/2,y:Math.round((v.y-m.y)/p)+.5,j:i.x.joinerWidth};const e=s.E.create(n,g);y=b.addConnection(e,!0),y.connecting()}if("moving"==x)l.pinConTodo||(l.pinConTodo=n),y.finishPo={x:Math.round((d-m.x)/p),y:Math.round((f-m.y)/p)+.5,j:i.x.joinerWidth};else if("finish"==x)if(l.pinConTodo=void 0,a.dragable=!0,E.model){if(E.model===n)return void y.destroy();y.destroy(),h=u.start("move pin",{target:n}),function(e,t,n,i=1){var r;const{model:a}=E,{context:l,model:c,viewContext:d}=n,{emitComponent:u,emitMessage:p,getCurDiagram:f}=d;if(l.isDebugMode())return void u.focus(c);if(!a||"config"!==a.direction&&"input"!==a.direction&&"inner-input"!==a.direction)t.cancel();else if(e.hadConToPin(a))t.cancel();else{if("inner-input"!==a.direction&&(null===(r=a.conAry)||void 0===r?void 0:r.length)>0)return p.warn("该输入项已存在连接."),void t.cancel();const n=f();e.hover=!1;const l=e.$el,c=(0,o.oT)(l),d={w:l.width(),h:l.height()},h=(0,o.oT)(a.$el),m={w:a.$el.width(),h:a.$el.height()},g=(0,o.oT)(n.$el);let y,b,v;if(void 0!==e.conMax){if(e.conAry.filter((e=>!e.isTemp)).length>=e.conMax){let n="输出项";return e.isTypeOfConfig()&&(n="配置项"),p.error(`${n}连接数已达上限,请删除部分连接后再试.`),void t.cancel()}}v=a.isTypeOfConfig()?{x:Math.round((h.x-g.x)/i),y:Math.round((h.y-g.y)/i)+.5,j:a.getJoinerWidth()}:{x:Math.round((h.x-g.x)/i-m.w/2),y:Math.round((h.y-g.y)/i)+.5,j:a.getJoinerWidth()};const x=()=>{const o=n.addConnection(s.E.create(e,{x:Math.round((c.x-g.x)/i+d.w/2),y:Math.round((c.y-g.y)/i)+.5,j:e.getJoinerWidth()},a,v));u.connected(o),t.commit(),u.focus(o),!0!==y&&(o.errorInfo=y),o.parent.connections.changed()};b?setTimeout(x):x()}}(n,h,t,p)}else{const e=n.$el.getStage().container(),t=(0,r.E9)(e),i=d-t.x-50,o=f-t.y-50;l.emitComponent.assistWithPin(n,b,{x:i,y:o,ex:d,ey:f},{onComplete(){setTimeout((e=>{y.destroy()}))}})}}))}(e,k);if(!t)return A.createElement(d.A,{click:P,mousedown:F,order:n});switch(t){case"timer":return A.createElement(v.A,{pinContext:k,click:P,mousedown:F,order:n});case"start":return A.createElement(f.A,{pinContext:k,click:P,mousedown:F,order:n});case"frameIO":return A.createElement(u.A,{pinContext:k,click:P,mousedown:F,order:n});case"_frameIO":return A.createElement(y.A,{pinContext:k,click:P,mousedown:F,order:n});case"fnIO":return A.createElement(m.A,{pinContext:k,click:P,mousedown:F,order:n});case"param":return A.createElement(d.A,{pinContext:k,click:P,mousedown:F,order:n});case"config":return A.createElement(h.A,{pinContext:k,click:P,mousedown:F,order:n})}}},56919:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var i,o=n(91737),r=n(98058),s=n(54706),a=n(38570),l=n(91716),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=i=class extends r.A{get title(){const e=this._title;return"string"==typeof e?e:e&&"object"==typeof e?e.toString():"未知标题"}set title(e){this._title=e}get schema(){return this.proxyPinValue&&this.isDirectionOfOutput()?this.proxyPinValue.schema:this.proxyPin&&this.proxyPin.schema?this.proxyPin.schema:(this._schema&&this._schema.type||(this._schema={type:"unknown"}),this._schema||{type:"unknown"})}set schema(e){this._schema=e}constructor(e){if(super(),this._type=s.C9.PIN,this.type="normal",this.conAry=[],this.hover=!1,this._notifyView=!1,e){const{type:t,typeTitle:n,fromPlugin:i,extFrameId:o,direction:r,isPrivate:s,id:a,hostId:c,title:d,desc:u,wrap:p,schema:f,icon:h,conMax:m,editable:g,deletable:y,rels:b,forRef:v,extValues:x,extBinding:A,editor:w}=e;a&&(this.id=a),"boolean"==typeof s&&(this.isPrivate=s),this.type=t,this.typeTitle=n,this.fromPlugin=i,this.extFrameId=o,this.direction=r,this.hostId=c,this.title=d||"未命名",this.description=u;const E=(0,l.fu)(f);if(E)throw new Error(E);this.wrap=p,this.schema=f,"follow"===f.type&&(this._schemaFollow=!0),f.editable&&(this._schemaEditable=!0),this.forRef=v,this.icon=h,this.extValues=x,this.extBinding=A,this.editor=w,void 0!==m&&(this.conMax=m),this.editable=g,void 0!==y&&(this.deletable=y),this.isDirectionOfInput()&&b&&(this.rels=b)}}listenNotify(){return this._notifyView}refreshView(){this._notifyView=!this._notifyView}setDisabled(e){e&&(this.conAry&&this.conAry.forEach((e=>{e.destroy()})),this.conAry=[]),this._disabled=e}isDisabled(){return this._disabled}isTypeOfTimer(){return this.type.match(/^timer$/gi)}isTypeOfConfig(){return this.type.match(/^config$/gi)}isTypeOfNormal(){return this.type.match(/^normal$/gi)}isTypeOfExt(){return null!==this.type.match(/^ext$/gi)}isTypeOfProxyMyFrame(){return null!==this.type.match(/^ext$/gi)&&this.proxyMyFramePin}isTypeOfEvent(){return null!==this.type.match(/^event$/gi)}isTypeOfShotcut(){return null!==this.type.match(/^shortcut$/gi)}isTypeOfJoint(){return this.type.match(/^joint$/gi)}isDirectionOfInput(){if(this.direction)return null!==this.direction.match(/^input|inner-output$/gi)}isDirectionOfOutput(){if(this.direction)return null!==this.direction.match(/^output|inner-input$/gi)}getSchemaDesc(){if(!this.schema)return{type:"unknown",label:"未定义"};{const e=this.schema.type;switch(e){case"any":return{type:e,label:"任意"};case"boolean":return{type:e,label:"布尔"};case"string":return{type:e,label:"字符"};case"number":return{type:e,label:"数字"};case"array":return{type:e,label:"数组",properties:this.schema.items};case"object":return{type:e,label:"对象",properties:this.schema.properties};case"follow":return{type:e,label:"跟随"};default:return{type:"unknown",label:"未定义"}}}}addEmitPin(e){this.emitPinAry||(this.emitPinAry=[]),this.emitPinAry.find((e=>e.hostId!=e.hostId))||this.emitPinAry.push(e)}addCon(e){this.conAry.push(e)}hadConToPin(e){return!(!this.conAry||!e.conAry)&&void 0!==this.conAry.find((t=>void 0!==e.conAry.find((e=>e.id==t.id))))}deleteCon(e){let t;this.conAry.find(((n,i)=>{if(n.id===e.id)return t=i,!0})),"number"==typeof t&&this.conAry.splice(t,1),this.blur(),this._schemaFollow&&this.conAry.length<=0&&(this.schema={type:"follow"},this.proxyPin&&this.proxyPin._schemaFollow&&(this.proxyPin.schema={type:"follow"}))}emphasize(){this.emphasized=!0,this.conAry&&this.conAry.forEach((e=>{e.emphasize()}))}emphasizeRecover(){this.emphasized&&(this.emphasized=!1,this.conAry&&this.conAry.forEach((e=>{e.emphasizeRecover()})))}focus(e){this.state.isFocused()||super.focus()}hoverExeval(e,t){this._anchor=!0}blur(){this.state.isFocused()&&(super.blur(),this.conAry.forEach((e=>{e.blur(),e.startPin.blur(),e.finishPin.blur()}))),this._anchor=void 0}get order(){return function(e){let t=e.$el;if(t.parent){return[].indexOf.call(t.parent.children,t)}return 0}(this)}getJoinerWidth(){if(this.title){const e=this.title.replace(/[\u0391-\uFFE5]/g,"aa").length;return Math.max(5.4*e+14,i.joinerWidth)}}fork(e){const t=new(0,n(19730).default);return t.id=this.id,t.parent=e,t.forkedFrom=this,t}toJSON(e){var t,n;if(e){const e={};if(e.id=this.id,e._type=this._type,e.type=this.type,e.icon=this.icon,e.direction=this.direction,e.hostId=this.hostId,e.title=this.title,this.proxyPin&&(e.proxyPin={id:this.proxyPin.id}),this.proxyForPin&&(e.proxyForPin={id:this.proxyForPin.id}),e.conMax=this.conMax,e.editable=this.editable,e.deletable=this.deletable,e.dummyData=this.dummyData,e.rels=this.rels,e.forRef=this.forRef,(null===(t=this.conAry)||void 0===t?void 0:t.length)>0){const t=this.conAry.map((e=>{if(!e.invalid)return e.id})).filter((e=>e));t.length>0&&(e.conAry=t)}return e.extValues=this.extValues,e.extBinding=this.extBinding,e}{const e={};if(e.id=this.id,e._type=this._type,e.type=this.type,e.icon=this.icon,e.direction=this.direction,e.hostId=this.hostId,e.title=this.title,this.proxyPin&&(e.proxyPin={id:this.proxyPin.id}),this.proxyForPin&&(e.proxyForPin={id:this.proxyForPin.id}),this.schema&&(e.schema=(0,o.o8)(this.schema)),e.conMax=this.conMax,e.editable=this.editable,e.deletable=this.deletable,e.dummyData=this.dummyData,e.rels=this.rels,e.forRef=this.forRef,(null===(n=this.conAry)||void 0===n?void 0:n.length)>0){const t=this.conAry.map((e=>{if(!e.invalid)return e.id})).filter((e=>e));t.length>0&&(e.conAry=t)}return e.extValues=this.extValues,e.extBinding=this.extBinding,e}}destroy(){super.destroy(),this.conAry.forEach((e=>{e.destroy()}))}clearDebugHints(){this.state.enable(),this.exeForLast=this.exe,this.exe=void 0,this._anchor=void 0,this.hintedNow&&(this.hintedNow.cancel(),this.hintedNow=void 0),this.conAry&&!this.forkedFrom&&this.conAry.forEach((e=>{e.clearDebugHints()}))}};u.joinerWidth=10,c([o.Nt,d("design:type",String)],u.prototype,"_title",void 0),c([o.Nt,d("design:type",Object)],u.prototype,"_proxyForFn",void 0),c([o.Nt,d("design:type",Object)],u.prototype,"hintedNow",void 0),c([o.Nt,d("design:type",Boolean)],u.prototype,"hover",void 0),c([o.Nt,d("design:type",Boolean)],u.prototype,"hint",void 0),c([o.Nt,d("design:type",Boolean)],u.prototype,"emphasized",void 0),c([o.Nt,d("design:type",Object)],u.prototype,"exe",void 0),c([o.Nt,d("design:type",Object)],u.prototype,"exeForLast",void 0),c([o.Nt,d("design:type",Boolean)],u.prototype,"_anchor",void 0),c([o.Nt,d("design:type",Boolean)],u.prototype,"_notifyView",void 0),u=i=c([(0,o.yL)(a.MS+"topl.PinModel"),d("design:paramtypes",[Object])],u)},64799:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(91737),o=n(38570),r=n(56919),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.x{constructor(e){super(),delete this.title,delete this.schema,delete this.type,delete this.hostId,e&&(this.from=e.from,this.parent=this.from.parent,this.direction="inner-output",this.icon="arrowL")}set title(e){this.from&&(this.from.title=e)}get title(){return this.from.title}get schema(){return this.from.schema}set schema(e){this.from&&(this.from.schema=e)}get _schemaFollow(){if(this.from)return this.from._schemaFollow}get type(){return this.from.type}get hostId(){return this.from.hostId}get rels(){return this.from.rels}get deletable(){return this.from.deletable}hadDestroyed(){return this.from.hadDestroyed()}};l=s([(0,i.yL)(o.MS+"topl.PinModelAsJoint"),a("design:paramtypes",[Object])],l);const c=l},19730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(91737),o=n(38570),r=n(56919),s=n(60599),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.x{constructor(){super(),delete this.title,delete this.schema,delete this.type,delete this.direction,delete this.hostId}set title(e){this.forkedFrom&&(this.forkedFrom.title=e)}get title(){return this.forkedFrom.title}get description(){return this.forkedFrom.description}get forkedParentId(){return this.parent.id}get schema(){return this.forkedFrom.schema}set schema(e){this.forkedFrom&&(this.forkedFrom.schema=e)}get _schemaFollow(){if(this.forkedFrom)return this.forkedFrom._schemaFollow}get extBinding(){return this.forkedFrom.extBinding}get type(){return this.forkedFrom.type}get direction(){return this.forkedFrom.direction}get icon(){return this.forkedFrom.icon}get hostId(){return this.forkedFrom.hostId}get rels(){return this.forkedFrom.rels}get editable(){return this.forkedFrom.editable}get deletable(){return this.forkedFrom.deletable}get _exe(){return this.forkedFrom._exe}isRunning(){let e=this.exe||this.forkedFrom.exe;if(e){const{val:t,from:n}=e;if(this.isDirectionOfInput()&&n instanceof s.E&&n.finishPin===this)return!0}return!1}clearDebugHints(){this.state.enable(),this.exeForLast=this.exe,this.exe=void 0,this._anchor=void 0,this.hintedNow&&(this.hintedNow.cancel(),this.hintedNow=void 0)}addCon(e){super.addCon(e),this.forkedFrom&&this.forkedFrom.addCon&&this.forkedFrom.addCon(e)}deleteCon(e){super.deleteCon(e),this.forkedFrom.deleteCon(e)}hadDestroyed(){return this.forkedFrom.hadDestroyed()}};a([i.Nt,l("design:type",Object),l("design:paramtypes",[])],c.prototype,"_exe",null),c=a([(0,i.yL)(o.MS+"topl.PinModelForked"),l("design:paramtypes",[])],c);const d=c},50432:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(64012),r=n.n(o),s=n(66362),a=n(52731),l=n(38570),c=n(21523),d=n(19730);function u({pinContext:e,click:t,mousedown:n}){const{model:u,context:p,viewContext:f}=e;(0,o.useEffect)((()=>{const t=u.parent;u instanceof d.default&&(u.isStarter=!0),t instanceof c.default&&t.hasInvalidIOC(u.hostId,u.isDirectionOfInput()?"input":"output")&&(e.errorMsg="未定义",u.conAry&&u.conAry.forEach((e=>{e.invalid=!0})))}),[]);const h=(0,i.HO)((()=>{if(p.isDebugMode()){const e=(u.forkedFrom||u).exe;if(e){const{val:n,from:o}=e;let a;return a=void 0!==n?"object"==typeof n?Array.isArray(n)?"[...]":"{...}":JSON.stringify(n):"[空]",r().createElement(s.Text,{text:a,x:11,y:5,fontSize:10,fill:p.themes.colorPrimary,onClick:(0,i.Wj)(t).stop})}}})),m=(0,i.HO)((()=>{const t=(0,l.t5)(u.schema.type),n=e.hoverF||u.state.isFocused()||u.emphasized||p.isDebugMode()&&(u.forkedFrom||u).state.isRunning();let i;return e.errorMsg&&(i={stroke:"#FF0000",dash:[2,2],fill:"#fff"}),"arrowL"===u.icon?r().createElement(r().Fragment,null,r().createElement(s.Arc,{x:0,y:0,angle:180,rotation:90,innerRadius:0,outerRadius:10,stroke:"#AAA",strokeWidth:1,fill:"#FFF"}),r().createElement(s.Arc,Object.assign({x:0,y:0,angle:180,rotation:-90,innerRadius:0,outerRadius:10,stroke:n?p.themes.colorPrimary:t.strokeColor,strokeWidth:1,fill:n?p.themes.colorPrimary:t.fillColor,style:{cursor:"pointer"}},i))):r().createElement(s.Circle,Object.assign({width:20,height:20,stroke:n?p.themes.colorPrimary:t.strokeColor,strokeWidth:1,hitStrokeWidth:30,fill:n?p.themes.colorPrimary:t.fillColor,style:{cursor:"pointer"}},i))})),g=(0,i.HO)((()=>{const t=e.hoverF||u.state.isFocused()||u.emphasized;return e.errorMsg?r().createElement(s.Label,{x:11,y:-4},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:`${u.title}(${e.errorMsg}) `,fontSize:10,fill:t?p.themes.colorPrimary:"#FF0000"})):r().createElement(s.Label,{x:11,y:-4},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:` ${u.title} `,fontSize:10,fill:t?p.themes.colorPrimary:"#999"}))}));let y=1;return p.isDebugMode()&&(y=u.conAry&&u.conAry.find((e=>e.exe))?1:.2),r().createElement(s.Group,Object.assign({id:u.id,ref:u.set$elOnce,width:20,height:20},(0,a.P)(e),{onClick:(0,i.Wj)(t).stop,onMouseDown:(0,i.Wj)(n).stop.prevent}),g,h,m)}},65009:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(91737),o=n(87144),r=n(66362),s=n(64012),a=n.n(s),l=n(52731),c=n(30063),d=n(38570);function u({click:e,mousedown:t,order:n}){const u=(0,i.lB)(o.ZB,{from:"parents"}),{model:f,context:h,emitDiagram:m,viewContext:g}=u;(0,s.useEffect)((()=>{if(f.conAry.length){const e=f.parent instanceof c.US?f.parent.diagramModel:void 0;if(e){const t=(0,i.oT)(f.$el,e.$el),n=Math.round(t.x-t.w/2)+.5,o=Math.round(t.y)+.5,r=f.getJoinerWidth();f.conAry.forEach((e=>{e._finishPo&&(Math.abs(t.x-e._finishPo.x)>2||Math.abs(t.y-e._finishPo.y)>2)&&(e.finishPo={x:n,y:o,j:r})}))}}}),[f.listenNotify()]),(0,i.HO)((()=>{var e;(f._anchor||(null===(e=f.forkedFrom)||void 0===e?void 0:e._anchor))&&m.anchor(f)}));const y=(0,i.HO)((()=>{const t=p(u);if(t){const n=t.val;let o;return o=void 0===n?"[空]":"object"==typeof n?Array.isArray(n)?"[...]":"{...}":"string"==typeof n?n.length>10?`"${n.substring(0,5)}..."`:`"${n}"`:n,a().createElement(r.Label,{x:7,y:4,ref:e=>{e&&f.isDirectionOfInput()&&e.x(-1*(e.width()+8))}},a().createElement(r.Tag,{fill:"#FFF"}),a().createElement(r.Text,{align:f.isDirectionOfInput()?"right":"left",text:o,fontSize:10,fill:h.themes.colorPrimary,onClick:(0,i.Wj)(e).stop}))}})),b=(0,i.HO)((()=>{let e=f.schema;f.isDirectionOfOutput()&&f.proxyPinValue&&(e=f.proxyPinValue.schema),f.proxyForPin&&(e=f.proxyForPin.schema);const t=(0,d.t5)(null==e?void 0:e.type),n=u.hoverF||f.state.isFocused()||f.emphasized||f.emphasized,i=p(u);return a().createElement(a().Fragment,null,a().createElement(r.Path,Object.assign({data:"M -3 -4 L 0 -4 L 4 0 L 0 4 L -3 4 L -3 -4"},(0,l.P)(u),{strokeWidth:1,stroke:n||i?h.themes.colorPrimary:t.strokeColor,hitStrokeWidth:15,fill:u.hoverF||n||i?h.themes.colorPrimary:t.fillColor,style:{cursor:"pointer"}})))})),v=(0,i.HO)((()=>{let e;e=f.proxyForPin?f.proxyForPin.title:f.proxyPin?f.proxyPin.title:f.title;const t=f.state.isFocused()||f.emphasized;if(t||f.conAry.length){const n=e,i=-5;return f.isDirectionOfInput()?a().createElement(r.Label,{y:i,ref:e=>e&&e.x(-1*(e.width()+4))},a().createElement(r.Tag,{fill:"#FFF"}),a().createElement(r.Text,{text:` ${n} `,fontSize:10,fill:t?h.themes.colorPrimary:"#777",listening:!1})):a().createElement(r.Label,{x:4,y:i},a().createElement(r.Tag,{fill:"#FFF"}),a().createElement(r.Text,{text:` ${n} `,fontSize:10,fill:t?h.themes.colorPrimary:"#777",listening:!1}))}}));return a().createElement(r.Group,{id:f.id,ref:f.set$elOnce,width:7,height:10,y:20*n,onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent,_onError_:(e,t)=>{console.error(e)}},b,v,y)}function p(e){const{model:t,context:n,viewContext:i}=e;if(n.isDebugMode()){let e;return t.conAry.find((t=>{if(t.exe)return e=t.exe,!0})),e||(e=t.exe),e}}},9278:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(91737),o=n(64012),r=n.n(o),s=n(66362),a=n(52731),l=n(38570),c=n(51807);function d({click:e,mousedown:t,order:n,pinContext:o}){const{model:d,context:u,viewContext:p}=o,f=(0,i.HO)((()=>{let t;if(d.parent instanceof c.l&&(t=d.parent),t&&t.debuggable||u.isDebugMode()){const t=(d.forkedFrom||d).exe;if(t){const{val:n,from:o}=t;if(void 0!==n){let t;return t="object"==typeof n?Array.isArray(n)?"[...]":"{...}":JSON.stringify(n),r().createElement(s.Text,{text:t,x:11,y:5,fontSize:10,fill:u.themes.colorPrimary,onClick:(0,i.Wj)(e).stop})}}}})),h=(0,i.HO)((()=>{const e=d.schema?(0,l.t5)(d.schema.type):{strokeColor:"#AAA",fillColor:"#EEE"},t=o.hoverF||d.state.isFocused()||d.emphasized;let n;return d.wrap&&(n=r().createElement(s.Circle,{width:26,height:26,stroke:"#bab4cd",strokeWidth:1,fill:"#FFF",style:{cursor:"pointer"}})),r().createElement(r().Fragment,null,n,r().createElement(s.Circle,{width:18,height:18,strokeWidth:1,fill:"#FFF",style:{cursor:"pointer"}}),r().createElement(s.Ring,{width:18,height:18,innerRadius:5,outerRadius:9,stroke:t?u.themes.colorPrimary:e.strokeColor,strokeWidth:1,fill:t?u.themes.colorPrimary:e.fillColor,style:{cursor:"pointer"}}))})),m=(0,i.HO)((()=>{const e=o.hoverF||d.state.isFocused()||d.emphasized;return d.isDirectionOfInput()?r().createElement(s.Label,{x:"rectangle"===d.icon?10:11,y:-4},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:` ${d.title} `,fontSize:10,fill:e?u.themes.colorPrimary:"#777"})):r().createElement(s.Label,{y:-4,ref:e=>e&&e.x(-1*(e.width()+11))},r().createElement(s.Tag,{fill:"#FFF"}),r().createElement(s.Text,{text:`${d.title} `,fontSize:10,fill:e?u.themes.colorPrimary:"#777"}))}));let g=1;return u.isDebugMode()&&(g=d.exe?1:.2),r().createElement(s.Group,Object.assign({ref:d.set$elOnce,x:0,y:50*n,width:20,height:20,opacity:g},(0,a.P)(o),{onClick:(0,i.Wj)(e).stop,onMouseDown:(0,i.Wj)(t).stop.prevent}),h,m,f)}},74276:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(96966),o=n(14046),r=n(53658),s=n(91716),a=n(21523),l=n(91737),c=n(67622);function d(e,t){if(!(e.parent instanceof o.U&&e.isDirectionOfOutput()))return;const{model:n,viewContext:d}=t,{curFrameModel:u,context:p,getComEventAssist:f}=d;return{title:`${n.runtime.title} 的 ${e.title}`,getPrompts(t){let o="";const r=p.getComDef(n.runtime.def).ai;if(r&&"function"==typeof r["@focus"]){const e=r["@focus"]({data:n.runtime.model.data});if(e.def){const t={data:e.def};o=`以及当前组件定义:${JSON.stringify(t)}`}}const s=u.comAry,a=[],l=[];s.length>0&&s.forEach((e=>{const t=e.runtime,n=p.getComDef(t.def);if(("js"===n.rtType||"js-autorun"===n.rtType)&&n.namespace!==i.ZD.coms.var)return;const{ioAry:o}=f(n,{comTitle:t.title,instanceId:e.id});a.push(...o)}));const c=p.getAllComDefArray((e=>{if("js"!==e.rtType&&"js-autorun"!==e.rtType)return!1})).map((e=>({title:e.title,namespace:e.namespace})));return t(c,["namespace"]).forEach((t=>{const n=p.getComDef({namespace:t.namespace}),{ioAry:i,def:o,prompts:r}=f(n,{startPin:e});a.push(...i),(o||r)&&l.push(`其中，关于 ${n.title}组件${o?",定义为:"+JSON.stringify(o):""}：${r||""}\n`)})),`\n你是一名思路严谨的流程设计师,请严格按照以下节点定义,做流程编排设计:\n${a.map((e=>JSON.stringify(e))).join("\n")}\n${l.join("\n")}\n${o}\n\n注意：\n1:返回内容只能是下面的JSON结构,对内容无需任何注释,且只需要返回一个结果：\n  {\n    cmd:'createFlow',\n    data:{\n          "type":"mybricks.basic-comlib.rectangle:rotate"\n          "next":{}\n        }\n  }\n2:节点只能来自上述定义，上一个节点的next的语义一定要与下一个节点有良好的连接;\n3:如果没有合适的答案，返回null即可；\n\n以下是一些典型的问答例子:\n问：调用服务接口（或调用接口、调用服务、接口）:\n{cmd:'createFlow',\n  data:{\n    "type":"mybricks.normal-pc.service:call"\n  }\n}\n\n问：接口、js、提示\n{cmd:'createFlow',\n  data:{\n    "type":"mybricks.normal-pc.service:call",\n    "next":{\n      "then":{\n        "type":"mybricks.normal-pc.muilt-inputJs:input",\n        "next":{\n          "output0":{"type":"mybricks.normal-pc.message:showMsg"}\n        }\n      }\n    }\n  }\n}\n\n问：调用服务接口，成功时给出提示，出错时进行一次计算、然后给出提示:\n{cmd:'createFlow',\n  data:{\n    "type":"mybricks.normal-pc.service:call",\n    "next":{\n      "then":{\n        "type":"mybricks.normal-pc.muilt-inputJs:input",\n        "next":{\n          "output0":{"type":"mybricks.normal-pc.message:showMsg"}\n        }\n      },\n      "catch":{"type":"mybricks.normal-pc.message:showMsg"}\n    }\n  }\n}\n\n问：两个计算（或两次计算、计算计算）:\n{cmd:'createFlow',\n  data:{\n    "type":"mybricks.normal-pc.muilt-inputJs:input",\n    "next":{\n      "output0":{\n          "type":"mybricks.normal-pc.muilt-inputJs:input",\n        }\n    }\n  }\n}\n\n问：执行一段计算，然后拔掉电源，当出错时将其内容给到文本组件:\nnull\n      `},execute:n=>new Promise(((d,u)=>{if(null!==n)return n.cmd&&"createFlow"===n.cmd?(function(e,{json:t,comContext:n}){const{context:d,model:u}=n;let p;p=u instanceof a.default?u.forkedFrom.parent.comAry:u.parent.comAry;function f(e){return p.find((t=>t.id===e))}function h(e){const{type:t,next:n}=e;if(!t)return;const[i,o]=t.split(":");let r;if(0===i.indexOf("#"))r=f(i.slice(1));else{if(!d.getComDef({namespace:i}))return;r=i}if(r){const t={};for(let n in e)"type"!==n&&"next"!==n&&(t[n]=e[n]);const i={com:r,props:t,hostId:o,next:{}};if(n)for(let e in n)if(n[e]){const t=h(n[e]);t&&(i.next[e]=t)}return i}}try{const a=h(t.data);if(a){!function(e,t){const{model:n,viewContext:a}=t,{getCurDiagram:d,emitComponent:u}=a,p=d();let f;const h={hostId:void 0,node:void 0,ti:1};function m(){let e;const{title:n,com:d,props:g,hostId:y,next:b}=h.node;(0,r.Ws)((()=>{try{const n=f.searchPinByHostId(h.hostId,"outputs");if((null==n?void 0:n.$el)&&!e){const s=(0,l.oT)(n.$el,n.$el.getStage());let u=s.x+150,f=s.y-10;if(n.conAry.length>0&&(f+=80*n.conAry.length),"string"==typeof d){const n=function(e,t,n){const{viewContext:s}=n,{context:a,emitComponent:l,emitSnap:d,emitLogs:u,getCurDiagram:p}=s,f=new i.Al(e),h=p(),m=h.parent,g=(0,r.X8)(l.add({seedModel:f,toComId:m&&m.parent instanceof o.U?m.parent.id:void 0,toSlotId:m.id,state:"finish"})),y=e.ai;if(y&&"function"==typeof y["@create"]){const e=(0,c.Q)({context:a,model:g,emitComponent:l,emitSnap:d,emitLogs:u});y["@create"](Object.assign({def:t,data:g.runtime.model.data},e))}return g}(a.context.getComDef({namespace:d}),g,t);e=p.addCom(n,{x:u,y:f})}else{const t=d.forkedFrom||d,n=t.searchPinByHostId(y,"inputs"),i={inputs:[y],outputs:n.rels};e=p.addCom(t,{x:u,y:f},i)}}if(e){const t=s.DO.find((e=>e.hostId===y||e.hostId.startsWith(y)),...e.getInputsAll());if(t&&t.$el){const i=p.addConnection(n,t);return u.connected(i),f=e,!0}}}catch(e){console.error(e)}}),(()=>{if(b)for(let e in b){const t=b[e];h.hostId=e,h.node=t,h.ti++,m()}}))}f=e.com,h.hostId=e.hostId,h.node=e.next[e.hostId],m()}({title:u.runtime.title,com:u,hostId:e.hostId,next:{[e.hostId]:a}},n)}else console.log("not found")}catch(e){console.error(e)}}(e,{json:n,comContext:t}),void d("完成")):void 0;d("没有合适的答案,请重新输入")}))}}},40365:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var i=n(96966),o=n(91716),r=n(14046),s=n(95135),a=n(40513),l=n(51807),c=n(6002),d=n(64012);function u(e,t){var n,u,p,f,h,m,g,y;const{model:b,context:v,viewContext:x}=e,{scale:A,emitSnap:w,emitComponent:E,emitMessage:C,configs:_}=x;let M,I=[];M=b.isTypeOfConfig()?"配置项":"joint"===b.type?b.typeTitle||(b.isDirectionOfInput()?"输入":"输出")+"连接项":b.typeTitle||(b.isDirectionOfInput()?"输入":"输出")+"项";const k=new i.K9.Category(M);I.push(k);const P=new i.K9.Group;k.addGroup(P);const F={model:b,emitSnap:w};b.parent;const S=b.parent instanceof l.l&&b.parent.isTypeOfFx(),T=b.parent instanceof l.l&&b.parent.isTypeOfPopup(),O=b.parent instanceof l.l&&b.parent.isTypeOfModule(),D=!b.parent.parent&&b.direction.match(/^inner\-/),N=null===(u=null===(n=_.cards)||void 0===n?void 0:n.main)||void 0===u?void 0:u.ioEditable,j=D&&N;let L=!1;if((j||S)&&(L=!0),!L||S||T||P.addItem((0,s.h)(F,{title:"ID",type:"text",options:()=>({readonly:!L}),value:{get:()=>b.hostId,set(e,t){b.id=t,b.hostId=t}}})),P.addItem((0,s.h)(F,{title:"标题",type:"text",options:()=>({readonly:!b.editable}),value:{get(){let e;return e=b.proxyForPin?b.proxyForPin.title:b.proxyPin?b.proxyPin.title:b.title,e},set(e,t){b.title=t;const n=b.parent;n instanceof r.U?b.isDirectionOfInput()?n.setInputPinTitle(b.hostId,t):n.setOutputPinTitle(b.hostId,t):n instanceof l.l&&(b.isDirectionOfInput()?n.renameInputPin(b.hostId,t):n.renameOutputPin(b.hostId,t))}}})),b.description&&P.addItem((()=>d.createElement("p",{style:{margin:"-10px 0",lineHeight:"14px",color:"#999",fontStyle:"italic"}},b.description))),b.parent instanceof r.U){const e=v.getComDef(b.parent.runtime.def);if(e){let t;t=b.isDirectionOfInput()?null===(p=e.inputs)||void 0===p?void 0:p.find((e=>{if(e.id===b.hostId)return e})):null===(f=e.outputs)||void 0===f?void 0:f.find((e=>{if(e.id===b.hostId)return e})),t&&t.desc&&P.addItem((0,s.h)(F,{title:"说明",type:"text",options:()=>({readonly:!0}),value:{get:()=>t.desc}}))}}if(b.isTypeOfConfig()){P.addItem((0,s.h)(F,{title:"类型",type:"_schema",value:{get:()=>b.schema,set({},e){E.updateFramePinSchema(b.isDirectionOfInput()?"outputs":"inputs",b,e)}}}));const e=[{value:"text",label:"文本框",schemeType:"string"},{value:"textarea",label:"多行文本",schemeType:"string"},{value:"number",label:"数字",schemeType:"number"},{value:"switch",label:"开关",schemeType:"boolean"},{value:"_connectorSelect",label:"连接器(连接服务接口)",schemeType:"object"},{value:"imageselector",label:"图片",schemeType:"string"},{value:"colorpicker",label:"颜色选择器",schemeType:"string"},{value:"json",label:"JSON",schemeType:"any"}];b.isTypeOfConfig()&&(P.addItem((0,s.h)(F,{title:"编辑器",type:"select",options:e.map((e=>"json"===e.value?{value:e.value,label:e.label}:{value:`${e.value}|${e.schemeType}`,label:e.label})),value:{get(){let t=b.editor;if(t||(t=b.editor={type:"text",schemaType:"string"}),t.schemaType)return"json"===t.type?`${t.type}`:`${t.type}|${t.schemaType}`;{const n=e.find((e=>e.value===t.type||"text"));return b.schema={type:n.schemeType},"json"===t.type?`${t.type}`:`${n.value}|${n.schemeType}`}},set({},e){var t,n;if(b.editor||(b.editor={}),(null===(t=b.extValues)||void 0===t?void 0:t.config)&&(b.extValues.config.defaultValue=void 0),e){const[t,i]=e.split("|");let o;o="json"!==t?i:(null===(n=b.editor)||void 0===n?void 0:n.schemaType)||"any",b.editor={type:t,schemaType:o},b.schema={type:o}}}}})),P.addItem((0,s.h)(F,{title:"描述",type:"textarea",value:{get(){var e;if(null===(e=b.extValues)||void 0===e?void 0:e.config)return b.extValues.config.description},set({},e){b.extValues||(b.extValues={}),b.extValues.config||(b.extValues.config={}),b.extValues.config.description=e}}})),P.addItem((0,s.h)(F,{title:"默认值(JSON格式)",type:"code",description:"请输入合法的JSON格式",options:{title:"JSON数据输入",language:"json",height:100,encodeValue:!1,minimap:{enabled:!1}},getUpdater:()=>[b.editor],value:{get(){var e;if(null===(e=b.extValues)||void 0===e?void 0:e.config){const e=b.extValues.config.defaultValue;if(void 0!==e)return(0,o.DK)(e)}},set({values:e},t){var n;try{const e=JSON.parse(t);b.extValues||(b.extValues={}),b.extValues.config||(b.extValues.config={});const i=typeof e;let o;Array.isArray(e)?o="array":"object"===i?o="object":"string"===i?o="string":"number"===i?o="number":"boolean"===i&&(o="boolean"),o!==(null===(n=b.schema)||void 0===n?void 0:n.type)&&(b.schema={type:o}),b.extValues.config.defaultValue=e}catch(e){C.error('默认值格式错误，请使用合法的JSON格式，字符串请使用 "值"。')}}}})))}else P.addItem((0,s.h)(F,{title:"类型",type:"_schema",options:()=>b._schemaEditable||b.editable?b._schemaFollow&&b.conAry.length>0?{readOnly:!0}:void 0:{readOnly:!0},value:{get(){let e=b.schema;return b.isDirectionOfOutput()&&b.proxyPinValue&&(e=b.proxyPinValue.schema),b.proxyForPin&&(e=b.proxyForPin.schema),e},set({},e){(0,c.LN)(b.schema,e)||(b.mockData=(0,c.n_)(e)),b.parent instanceof r.U?E.updatePinSchema(b.isDirectionOfInput()?"inputs":"outputs",b.parent.id,b.hostId,e):E.updateFramePinSchema(b.isDirectionOfInput()?"outputs":"inputs",b,e)}}}));if(v.configs.geoView&&(O||D)&&"inner-output"===b.direction&&!b.isTypeOfConfig()&&(P.addSeparator(),P.addItem((0,s.h)(F,{title:"关联到输出项..",type:"switch",description:"是否关联到当前模块的某个输出项",value:{get:()=>b.rels,set(e,t){b.rels=t?[]:void 0}}})),P.addItem((0,s.h)(F,{title:"关联输出项",type:"select",ifVisible:()=>!!(b.parent instanceof l.l&&b.rels),options(){const e=b.parent.outputPins;return[{label:"[无]",value:""}].concat(e.map((e=>{if(!e.isTypeOfEvent()&&!e.isTypeOfShotcut())return{value:e.hostId,label:e.title}})).filter((e=>e)))},description:"关联到输出项",value:{get(){var e;return(null===(e=b.rels)||void 0===e?void 0:e.join(","))||""},set(e,t){if(b.rels=void 0,t){const e=t.trim();""!==e&&(b.rels=e.split(","))}}}}))),b.isDirectionOfInput()||P.addItem((()=>d.createElement("div",null,d.createElement("span",null,"连接数"),d.createElement("span",{style:{marginLeft:2,fontStyle:"italic",color:"#999"}},"（",void 0!==b.conMax?`允许连接 ${b.conMax} 个输入项`:"不限","）")))),b.isTypeOfConfig()&&b.fromPlugin){const e=v.getPlugin(b.fromPlugin);if(e){const t=null===(g=null===(m=null===(h=e.contributes)||void 0===h?void 0:h.toplView)||void 0===m?void 0:m.globalIO)||void 0===g?void 0:g.configs;if("object"==typeof t&&t){const e=t.addInput;if(e&&"object"==typeof e&&"config"===e.type){const t=e.editors;if(Array.isArray(t)){const e=new i.K9.Group;k.addGroup(e),t.forEach((t=>{var n,i;t&&"function"==typeof(null===(n=t.value)||void 0===n?void 0:n.get)&&"function"==typeof(null===(i=t.value)||void 0===i?void 0:i.set)&&e.addItem((0,s.h)(F,{title:t.title,type:t.type,options:t.options,description:t.description,ifVisible:()=>"function"!=typeof t.ifVisible||t.ifVisible({values:b.extValues}),value:{get:()=>t.value.get({values:b.extValues}),set(e,n){t.value.set({values:b.extValues},n)}}}))}))}}}}}if(v.isDesnMode()){let t;if(b.exeForLast?t=b.exeForLast.val:e.isTypeOfStartWith()&&b.forkedFrom?t=null===(y=b.forkedFrom.exeForLast)||void 0===y?void 0:y.val:b.conAry&&b.conAry.find((e=>{e.exeForLast&&(t=e.exeForLast.val)})),void 0!==t){const e=new i.K9.Group;P.addItem(e),e.addItem((0,s.h)(F,{title:"最后一次调试的值",type:"textarea",options:{readOnly:!0,style:{height:400}},value:{get:()=>(0,o.DK)(t)}}))}const n=new i.K9.Group;k.addGroup(n);let c=j;if(!c&&S){const e=b.parent;b.isDirectionOfInput()?e.inputPins.length>1&&(c=!0):e.outputPins.length>1&&(c=!0)}if(c){const e=b.parent;let t=!1;b.isDirectionOfInput()?e.inputPins.length>1&&(t=!0):b.isDirectionOfOutput()&&e.outputPins.length>1&&(t=!0),t&&(n.addItem((0,s.h)(F,{title:"上移",type:"button",value:{set(t,n){const i=x.getCurDiagram();e.upwardPin(b,i)}}})),n.addItem((0,s.h)(F,{title:"下移",type:"button",value:{set(t,n){const i=x.getCurDiagram();e.downwardPin(b,i)}}})))}b.deletable&&n.addItem((0,s.h)(F,{title:"删除",type:"button",value:{set(){try{const e=b.parent;if(e instanceof r.U)b.isDirectionOfInput()?e.removeInputPin(b.hostId):e.removeOutputPin(b.hostId),E.notifyPinRemoved(b);else if(e instanceof l.l)if(b.isTypeOfJoint()){if(b.isDirectionOfInput()?e.removeInputJoint(b.hostId):e.removeOutputJoint(b.hostId),b.forkedAsJoint){const t=e.parent.parent;t&&t.diagramAry.find((e=>{e.startWithJoint&&e.startWithJoint.outputJoint===b.forkedAsJoint&&t.delete(e)}))}}else b.isDirectionOfInput()?e.removeInputPin(b.hostId):e.removeOutputPin(b.hostId);(0,a.Q)(e,A)}catch(e){console.error(e)}}}}))}let R;if(b.parent instanceof l.l)R=b.parent;else if(b.parent instanceof r.U){const e=b.parent.diagramModel;e&&(R=e.parent)}if(v.isDebugMode()||R&&R.debuggable){const t=new i.K9.Group;k.addGroup(t),t.addItem((0,s.h)(F,{title:"调试-当前值",type:"textarea",options:{readOnly:!0,style:{height:400}},value:{get(){var t;let n;b.exe?n=b.exe.val:e.isTypeOfStartWith()&&b.forkedFrom?n=null===(t=b.forkedFrom.exe)||void 0===t?void 0:t.val:b.conAry&&b.conAry.find((e=>{e.exe&&(n=e.exe.val)}));return(0,o.DK)(n)}}}))}if(b.isDirectionOfInput()){const e=new i.K9.Category("调试");I.push(e);const t=new i.K9.Group;e.addGroup(t),t.addItem((0,s.h)(F,{title:"使用JSON",type:"switch",value:{get:()=>"json"===b.mockDataType,set(e,t){b.mockDataType=t?"json":void 0}}})),t.addItem((0,s.h)(F,{title:"数据",type:"_schemaValue",ifVisible:({data:e})=>"json"!==b.mockDataType,options:()=>({schema:b.schema}),value:{get:()=>b.mockData,set(e,t){b.mockData=t}}})),t.addItem((0,s.h)(F,{ifVisible:({data:e})=>"json"===b.mockDataType,type:"textarea",options:{height:400},value:{get:()=>decodeURIComponent(b.mockData||""),set(e,t){b.mockData=encodeURIComponent(t)}}}))}return I}},52731:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var i=n(87144);function o(e){return{onMouseOver:t=>{const n=e.context.isDebugMode();t.target.getStage().container().style.cursor=n?"default":"crosshair",e.model.hover=!0,e.hoverF=!0,i.X5.set(e.model)},onMouseOut:t=>{t.target.getStage().container().style.cursor="default",e.model.hover=!1,e.hoverF=!1,i.X5.clear()}}}},97538:(e,t,n)=>{"use strict";let i;function o(e){i=e}function r(){return{focusCom(e){const{viewCtx:t,viewModel:n,emitComponent:o}=i,r=n.searchCom(e);r&&r.diagramModel&&(o.focus(r.diagramModel),setTimeout((e=>{o.focus(r)})))}}}n.d(t,{A:()=>r,T:()=>o})},92867:(e,t,n)=>{"use strict";let i;function o(e){i=e}function r({keyword:e}){const{viewModel:t,emitFrame:n,emitLogs:o}=i;if(!t||!t.frames)return;const r=[];return t.frames.forEach((t=>{const n=[];if(s({rtn:n,frame:t,keyword:e}),n.length>0){let e=t.title;e||t.diagramAry.length>0&&(e=t.diagramAry[0].title),r.push({id:t.id,title:e,results:n})}})),r.length>0?r:void 0}function s({rtn:e,frame:t,keyword:n}){t.diagramAry&&t.diagramAry.forEach((t=>{let o;t.title.indexOf(n)>=0&&(o={type:"diagram",id:t.id,title:t.title,focus(){i.emitComponent.focus(t)}});const r=[];t.comAry.forEach((e=>{const t=e.runtime;let o;if(t.title.indexOf(n)>=0||t.id.indexOf(n)>=0)o={desc:"(名称或ID匹配)"};else if(!t.hasUI()){const e=t.searchInModelData(n);e&&(o={desc:`${e}`})}o&&r.push(Object.assign(Object.assign({},o),{type:"com",id:e.id,title:e.runtime.title,focus(){e.diagramModel&&(i.emitComponent.focus(e.diagramModel),setTimeout((t=>{i.emitComponent.focus(e)})))}}))})),r.length>0&&(o=o||{type:"diagram",id:t.id,title:t.title,focus(){i.emitComponent.focus(t)}},o.items=r),o&&e.push(o)})),t.frameAry&&t.frameAry.forEach((t=>{s({rtn:e,frame:t,keyword:n})}))}n.d(t,{A:()=>r,T:()=>o})},95135:(e,t,n)=>{"use strict";n.d(t,{h:()=>c,z:()=>s});var i=n(96966),o=n(38570),r=i.K9.Group;function s(e,t,n){var r,s;const{comDef:c,model:d}=e;if(c.editors){const e=c.rtType&&c.rtType.match(/js|scratch/gi)?c.editors:c.editors.logic;if(e){let u=[];const p=e[o.A9];if(p)if("function"==typeof p){const e=[];e.push({type:"default",title:null,items:[]}),e.push({type:"normal",title:null,items:null}),e.push({type:"normal",title:null,items:null}),p(t,e[0],e[1],e[2]);const o=d.runtime.title||c.title,f=new i.K9.Category({title:o,setTitle(e){d.runtime.title=e}});if(u.push(f),e[0].items){a(f,l(e[0].items,t,n))}if((null===(r=e[1].items)||void 0===r?void 0:r.length)>0){const o=new i.K9.Category(e[1].title||"无标题");u.push(o);a(o,l(e[1].items,t,n))}if((null===(s=e[2].items)||void 0===s?void 0:s.length)>0){const n=new i.K9.Category(e[2].title||"无标题");u.push(n);a(n,l(e[2].items,t))}}else Array.isArray(p)&&(u=l(p,t,n));return u}}}function a(e,t){if(t){const n=new i.K9.Group;n.addItems(t),n.items&&e.addGroup(n)}}function l(e,t,n){const o=[];return e.forEach((e=>{if(null===e||"object"==typeof e&&!e.type)o.push(new i.K9.SeperatorItem);else if(e.type)o.push(c(t,e,n));else if(Array.isArray(e.items)){let i;"function"==typeof e.ifVisible&&(i=()=>{const n=e.ifVisible(t);return"boolean"==typeof n&&n});const s=new r({title:e.title,description:e.description,ifVisible:i});e.items.forEach((e=>{("function"==typeof e||e.type)&&s.addItem(c(t,e,n))})),s.items&&s.items.length>0&&o.push(s)}})),o}function c(e,t,n){const o=e.model;let r,s;if(n&&(r=n.reFocus,s=n.onValueChanged),"function"==typeof t)return new i.K9.FunctionItem((function(){t(e)}));if("object"==typeof t){let n,a=t.options;if("function"==typeof a)try{a=function(){return t.options(e)}}catch(e){return console.error(e),new i.K9.ErrorItem({title:"配置项错误",description:e.stack})}return"function"==typeof t.ifVisible&&(n=()=>{const n=t.ifVisible(e);return"boolean"==typeof n&&n}),new i.K9.EditItem({title:t.title,type:t.type,description:t.description||t.desc,getUpdater:t.getUpdater,value:function(){let n;return{get(){try{n=(t.value&&t.value.get||(()=>{}))(e),n=null==n?null:n}catch(n){return console.error(n),void e.emitMessage.error(`编辑器(${t.title}.value.get)发生错误.`,n.message)}return n},set(i){if(n!==i){const a=e.emitSnap.start("Change value",{target:o});try{(t.value&&t.value.set||(()=>{}))(e,i),a.commit(),n=i,r&&setTimeout(r)}catch(n){return a.cancel(),console.error(n),void e.emitMessage.error(`编辑器(${t.title}.value.set)发生错误.`,n.message)}"function"==typeof s&&s(i)}}}}(),options:a,ifVisible:n,edtContext:e})}throw new Error("Invalid typeof editor(function or object expect)")}},98863:(e,t,n)=>{"use strict";function i(e){var t,n;return"comDev"===(null===(n=null===(t=e.editors)||void 0===t?void 0:t["@ai"])||void 0===n?void 0:n.role)}n.d(t,{g:()=>i})},566:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,JO:()=>l,aC:()=>a,xE:()=>r});var i=n(91716),o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function r(e,t){const{model:n,viewContext:i}=t;let o=[];const r=n.getAllInputsInfo();r&&r.forEach((e=>{o.push({id:e.hostId,title:e.title,schema:e.schema})}));let s=[];const a=n.getAllOutputsInfo();return a&&a.forEach((e=>{s.push({id:e.hostId,title:e.title,schema:e.schema})})),`\n  \`\`\`js file="runtime.js"\n  export default comDef(${e},{\n    title:'商品价格判断',\n    inputs:${JSON.stringify(o,null,2)},\n    outputs:${JSON.stringify(s,null,2)}\n  })\n  \`\`\`\n  `}function s(e,t,n,r){const{model:s,viewContext:a}=n,{emitComponent:l}=a;e=e||[];const c=s.getAllInputsInfo();c&&(t.inputs||(t.inputs=[],c.forEach((e=>{t.inputs.push({id:e.hostId,title:e.title,schema:e.schema})}))));const d=t.inputs,{inputs:u}=r,{deleteIds:p,addIdsMap:f}=(0,i.ZG)(d||[],e||[]);p.forEach((e=>{const t=u.get(e);t&&t.remove(e)})),e.length>0&&(t.inputs=e.map((e=>{var{id:t,title:n,schema:i}=e,r=o(e,["id","title","schema"]);if(f[t])u.add(t,n,i);else{const e=u.get(t,{emitItem:l});e&&(e.setTitle(n),e.setSchema(i))}return Object.assign(Object.assign({},r),{id:t,title:n,schema:i})})))}function a(e,t,n,r){e=e||[];const{model:s,comDef:a}=n;t.outputs||(t.outputs=[],s.getAllOutputsInfo().forEach((e=>{t.outputs.push({id:e.hostId,title:e.title,schema:e.schema})})));const l=t.outputs,{outputs:c}=r,{deleteIds:d,addIdsMap:u}=(0,i.ZG)(l,e);d.forEach((e=>{const t=c.get(e);t&&t.remove(e)})),t.outputs=e.map((e=>{var{id:t,title:n,schema:i}=e,r=o(e,["id","title","schema"]);if(u[t])c.add(t,n,i);else{const e=c.get(t);e&&(e.setTitle(n),e.setSchema(i))}return Object.assign(Object.assign({},r),{id:t,title:n,schema:i})}))}function l(e){if(!e)return e;let t=function(e){if(!e)return e;let t=e;return t}(e);return t=t.replace(/import css from ['"][^'"]*style.less['"]/,"const css = new Proxy({}, { get(target, key) { return key } })"),t}},6002:(e,t,n)=>{"use strict";n.d(t,{LN:()=>s,n_:()=>a,sA:()=>o,vp:()=>r});var i=n(91716);function o(e){return"follow"===e.type}function r(e,t){return JSON.stringify(e)===JSON.stringify(t)}function s(e,t){var n,o,r,a;if(void 0===e)return!1;if(void 0===t)return!1;const l=e.type,c=t.type;if("unknown"===l)return"any"===c||"unknown"===c;if("unknown"===c)return!1;if("any"===l||"any"===c)return!0;if("follow"===l)return"follow"!==c;if("follow"===c)return"follow"!==l;if((0,i.C7)(e))return l===c||(!!c.match(/number|boolean/g)||("string"===l&&"boolean"===c||"number"===l&&"string"===c));if("indexObject"===l&&"indexObject"===c){const i=e.properties,s=t.properties;if(i&&s&&(null===(n=i.key)||void 0===n?void 0:n.type)===(null===(o=s.key)||void 0===o?void 0:o.type)&&(null===(r=i.value)||void 0===r?void 0:r.type)===(null===(a=s.value)||void 0===a?void 0:a.type))return!0}if("enum"===l&&"enum"===c){const n=e.items,i=t.items;if(n&&i&&n.length===i.length&&!n.find(((e,t)=>{const n=i[t];if(e.type!==n.type||e.value!==n.value)return!0})))return!0}if("tuple"===l&&"tuple"===c){const n=e.items,i=t.items;if(n&&i&&n.length===i.length&&!n.find(((e,t)=>{const n=i[t];if(e.type!==n.type)return!0})))return!0}if("object"===l){if("object"!==c)return!1;{const n=e.properties,i=t.properties;if(void 0===n&&void 0===i)return!0;if(n&&void 0===i)return!0;if(void 0===n&&i)return!1;for(let e in n){const t=i[e];if(!t)return!1;if(!s(n[e],t))return!1}for(let e in i){const t=n[e];if(!t)return!1;if(!s(t,i[e]))return!1}return!0}}if("array"===e.type){if("array"!==t.type)return!1;{const n=e.items,i=t.items;if(void 0===n&&void 0===i)return!0;if(n&&void 0===i)return!0;if(void 0===n&&i)return!1;return!!s(n,i)}}return!1}function a(e){switch(e.type){case"number":return 0;case"string":return"字符";case"boolean":return!0;case"object":{const t={},n=e.properties;return n&&Object.keys(n).forEach((e=>{t[e]=a(n[e])})),t}case"array":return[]}}},79081:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,T:()=>a});var i=n(14046),o=n(91737),r=n(40513);function s(e,t){const{emitSnap:n,emitMessage:i}=t,o=n.start("tidyUpDiagram",{target:e});!function(e,t){if(e.comAry){const n=[];if((e.isFn||e.isGlobal)&&e.parent.inputPins.length>0&&e.parent.inputPins.forEach((t=>{c(n,t,e)})),e.isVar){const t=e.varCom.outputPins.find((e=>"changed"===e.hostId));t&&c(n,t,e)}if(e.startWithCom){const t=e.startWithCom.getOutputsAllAry();t&&t.forEach((t=>{c(n,t,e)}))}e.comAry.forEach((e=>{(e.isAutoRun()&&!e.runtime.hasUI()||e.isVar()&&e.getAllInputsLength()<=0)&&u(n,e,0,[])})),l(n,e,t)}}(e,(()=>{i.info("整理完成"),o.commit()}))}function a(e,t){const{emitSnap:n,emitMessage:i}=t,o=n.start("整理组件",{target:e}),r=[];u(r,e,0,[]),l(r,e.diagramModel,(()=>{i.info("整理完成"),o.commit()}))}function l(e,t,n){if(e.length>0){const i=o=>{if(o>=e.length){"function"==typeof n&&n();let e=0,i=0;t.comAry.forEach((t=>{if(t.$el){const n=t.$el.getClientRect(),o=t.style.left+n.width;e=Math.max(e,o);const r=t.style.top+n.height;i=Math.max(i,r)}})),e>t.style.width+100&&t.setWidth(e+100),i>t.style.height+100&&t.setHeight(i+100)}else{e[o].fn(),setTimeout((e=>{i(o+1)}))}};i(0)}}function c(e,t,n){if(!t.$el)return;const r=t.$el.getStage().scaleX();let s=(0,o.oT)(t.$el,n.$el).y-10;if(t.conAry.length>0){const n=p(t),o=[];n.forEach((({con:t,pins:n},a)=>{s+=20*a,0===a&&o.push(s);const{startPin:l,finishPin:c}=t;if(!c)return;const p=c.parent;p&&p instanceof i.U?(e.push((e=>({com:p,fn(){if(a>0){const t=Math.max(...o)/r;e<t&&(e=t,o[0]=t)}d(t,{top:e})}}))(s)),u(e,p,1,o)):s+=20}))}}function d(e,t){const{startPin:n,finishPin:s}=e,a=e.parent,l=(0,o.oT)(n.$el,a.$el),c=n.$el.getStage().scaleX(),d=s.parent;if(d&&d instanceof i.U){let e=d.style.left;if(null==t?void 0:t.left)d.style.left=t.left/c;else{const t=n.$el.getClientRect(),i=s.$el.getClientRect();d.style.left=Math.max(e,l.x+t.width+30+i.width)/c}(null==t?void 0:t.top)&&(d.style.top=t.top/c),(0,r.Q)(d,c)}}function u(e,t,n,r){const s=t.diagramModel,a=t.getOutputsAllAry();if(a.length<=0)return void e.push({level:n,com:t,fn(){let e=(0,o.oT)(t.$el,s.$el).y;e+=t.$el.getClientRect().height+5,r.length<=n?r.push(e):r[n]=e}});let l,c;a.forEach(((f,h)=>{if(f.conAry.length>0){p(f).forEach((({con:p,pins:f},h)=>{const{startPin:m,finishPin:g}=p,y=g.parent;if(y&&y instanceof i.U){e.find((e=>{if(e.com===y)return!0}))?e.push({com:y,fn(){d(p)}}):e.push({level:n,com:y,fn(){if(l||(l=0,a.forEach(((e,t)=>{e.conAry&&(l=Math.max(l,function(e){let t=0;if(e.conAry.length>0){const n=e.conAry[0].parent,i=(0,o.oT)(e.$el,n.$el),r=e.$el.getClientRect();e.conAry.forEach(((e,n)=>{const{finishPin:o}=e,s=o.$el.getClientRect();t=Math.max(t,i.x+r.width+20+s.width)}))}return t}(e)))}))),!c){const e=(0,o.oT)(t.$el,s.$el);c=e.y}let e=c;r.forEach(((t,i)=>{i>=n&&(e=Math.max(e,t))})),c<e&&(c=e),d(p,{left:l,top:c});const i=y.$el.getClientRect();c+=i.height+5,r.length<=n?r.push(c):r[n]=c}}),u(e,y,n+1,r)}}))}}))}function p(e){return e.conAry.map((e=>{const{startPin:t,finishPin:n}=e;if(t&&n){return{con:e,pins:f(t,n.parent)}}})).filter((e=>e)).sort(((e,t)=>{const{con:n,pins:i}=e,{startPin:o,finishPin:r}=n,s=r.parent;if("function"==typeof s.getAllInputsLength){const e=s.getAllInputsLength();return i.length>1?-1*i.length+.1*e:(null==s?void 0:s.runtime.hasUI())?0:e}}))}function f(e,t){const n=e.conAry;if(n){const e=[];return n.forEach((n=>{const{startPin:o,finishPin:r}=n;if(!o||!r)return;const s=r.parent;if(s&&s instanceof i.U){if(s===t)return void e.push(r);if(s.runtime.hasUI()){const n=r.rels;if(n){const i=s.getOutputsAllAry().filter((e=>n.find((t=>{if(e.hostId===t)return!0}))));i&&i.forEach((n=>{f(n,t).length>0&&e.push(r)}))}}else{const n=s.getOutputsAllAry();n&&n.find((n=>{f(n,t).length>0&&e.push(r)}))}}})),e}}},7565:(e,t,n)=>{"use strict";n.d(t,{Ts:()=>u,tf:()=>p});var i=n(51807),o=n(96966),r=n(14046),s=n(21523),a=n(91716),l=n(91737),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let d;function u(e){d=e}function p(e){return c(this,void 0,void 0,(function*(){if(!d)return;if((0,l.gO)())return;const{viewModel:t,emitLogs:n,emitComponent:c}=d,u=[],p=new WeakMap,h=[];function m(e){if(!e)return!1;if(e.hasUI()){const t=c.exist(e);if(!t)return!1;if(t.find((e=>!e.result)))return!1}return!0}function g(e){if(!e.parent){if(!e.isBizTypeOfService)return!1;if(e.isBizTypeOfService())return!0}return!!t.frames.find((t=>t.id===e.id))}function y(t){if(p.get(t))return;p.set(t,!0),t.parent instanceof r.U&&(t.inputPins&&t.inputPins.forEach((e=>{"ext"!==e.type&&e.deletable&&delete e.deletable})),t.outputPins&&t.outputPins.forEach((e=>{e.deletable&&delete e.deletable})));const n=t.parent;if(n){if(n instanceof r.U){if(!m(n.runtime)&&(h.push(`无效Frame ${t.title}.`),e))return!1}else if(n instanceof i.l)if(n.parent instanceof r.U){if(!m(n.parent.runtime)&&(h.push(`无效Frame ${t.title}.`),e))return!1}else if(n.parent instanceof i.l&&!g(t.parent)&&(h.push(`无效Frame ${t.title}.`),e))return!1}else if(!g(t)&&(h.push(`无效Frame ${t.title}.`),e))return!1;if(t.diagramAry){const n=t.diagramAry.filter((n=>{var i;if(!n.parent&&(h.push(`流程卡片 ${n.title} 已删除.`),e))return!1;if(n.hadDestroyed()&&(h.push(`流程卡片 ${n.title} 已删除.`),e))return!1;if(n.parent!==t&&(h.push(`流程卡片 ${n.title} 已删除.`),e))return!1;if(n.showIO&&(null===(i=n.parent)||void 0===i?void 0:i.parent)&&!n.parent.parent.exist()&&(h.push(`流程卡片 ${n.title} 对应的父组件已被删除.`),e))return!1;if(n.startWithCom){const i=n.startWithCom;if(i.runtime){const t=c.exist(i.runtime);if(!t)return!1;if(t.find((e=>!e.result))&&(h.push(`流程卡片 ${n.title} 起点对应的组件已被删除.`),e))return!1}else if(h.push(`流程卡片 ${n.title} 起点对应的组件组件错误.`),e)return!1;if(i instanceof s.default&&i.forkedFrom.parent!==t){const t=i.forkedFrom.parent;if(!t)return h.push(`流程卡片 ${n.title} 位置错误.`),!e&&void 0;if(t.diagramAry.find((e=>e===n))||(n.parent=t,t.diagramAry.push(n)),h.push(`流程卡片 ${n.title} 位置出错.`),e)return!1}}if(n.comAry){const i=n.comAry.filter(((n,i)=>{if(n instanceof s.default){const i=n.forkedFrom;if(!(i instanceof r.U)&&(n.destroyAllConnections(),h.push("残余逻辑组件."),e))return!1;if(i.parent===t&&t.comAry.indexOf(i)<0&&(h.push(`残余逻辑组件 ${i.runtime.title}.`),e))return!1}return n}));i.length!==n.comAry.length&&(n.comAry=i)}if(n.conAry){const t=n.conAry.filter((t=>{const n=t.finishPin.parent;return!(n instanceof r.U&&n.diagramModel&&!n.diagramModel.comAry.includes(n)&&(h.push(`无效连接 ${t.title}.`),e))}));t.length!==n.conAry.length&&(n.conAry=t)}return n}));n.length!==t.diagramAry.length&&(t.diagramAry=n)}if(t.comAry){const n=[],l=t.comAry.filter(((l,c)=>{var d;if(!(l instanceof r.U)&&(l instanceof o.Al?h.push(`组件 ${l.runtime.title} 类型错误.`):h.push("交互视图中发现未知组件."),e))return!1;if(l.ioProxy&&u.push((()=>{const e=y(l.ioProxy);"boolean"!=typeof e||e||(l.ioProxy=void 0)})),l instanceof s.default){const i=l.forkedFrom;if(i.parent===t&&t.comAry.indexOf(i)<0&&(i.runtime.topl=i,n.push(i)),h.push(`组件 ${l.runtime.title} 类型错误.`),e)return!1}if(l.runtime.topl!==l&&(e&&(l.runtime.topl=l),h.push(`组件 ${l.runtime.title} 类型错误.`)),!l.parent){const e=l.runtime.geo;if(e){let t=e.parent;for(;t;){if("scope"===t.type){if(t.parent){const e=t.parent.runtime.topl.frames.find((e=>e.id==e.id));e&&(l.parent=e,e.comAry.indexOf(l)<0&&e.comAry.push(l))}break}t=null===(d=t.parent)||void 0===d?void 0:d.parent}}}return(l.parent===t||(h.push(`组件 ${l.runtime.title} 类型错误.`),!e))&&(!(l.runtime.hasUI()&&!m(l.runtime)&&(h.push(`残余逻辑组件 ${l.runtime.title}.`),e))&&(a.DO.each((t=>{if(t.proxyPin||t.proxyForPin){const e=t.proxyPin||t.proxyForPin;e.parent instanceof i.l&&u.push((()=>{const n=y(e.parent);"boolean"!=typeof n||n||(t.proxyPin?t.proxyPin=void 0:t.proxyForPin&&(t.proxyForPin=void 0))}))}if(t.conAry){t.conAry.find((e=>{if(!e.finishPin||!e.parent.parent)return!0}))&&(h.push(`组件 ${l.runtime.title} 对应的输入连接有误.`),e&&(t.conAry=t.conAry.filter((e=>{if(e.finishPin&&e.parent.parent)return!0}))))}}),...l.getInputsAll()),a.DO.each((t=>{if(t.proxyPin||t.proxyForPin){const e=t.proxyPin||t.proxyForPin;e.parent instanceof i.l&&u.push((()=>{const n=y(e.parent);"boolean"!=typeof n||n||(t.proxyPin?t.proxyPin=void 0:t.proxyForPin&&(t.proxyForPin=void 0))}))}if(t.conAry){t.conAry.find((e=>{if(!e.finishPin||!e.parent.parent)return!0}))&&(h.push(`组件 ${l.runtime.title} 对应的输出连接有误.`),e&&(t.conAry=t.conAry.filter((e=>{if(e.finishPin&&e.parent.parent)return!0}))))}}),...l.getOutputsAll()),l.frames&&l.frames.forEach((e=>{u.push((()=>{y(e)}))})),l))})).map((e=>e));l.length!==t.comAry.length&&(t.comAry=l),n.length>0&&n.forEach((e=>t.comAry.push(e)))}}t.frames.forEach((e=>{u.push((()=>{y(e)}))}));for(let e=0;e<u.length;e++)yield f(),u[e]();return h}))}function f(){return c(this,void 0,void 0,(function*(){return new Promise((e=>{requestIdleCallback((()=>{e()}))}))}))}},3284:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,g:()=>d});var i=n(14549),o=n(11012),r=n(38544),s=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const a="_rootFrame_",l=e=>`未找到组件(${e.namespace}@${e.version})定义`;function c(e,t={}){const{observable:n=e=>e}=t,{json:u,getComDef:p,env:f,_env:h,ref:m,onError:g=()=>{},logger:y=console,debug:b,debugLogger:v,_isNestedRender:x,_isNestCom:A,_context:w,_getComProps:E,_getSlotValue:C,_frameId:_,_getSlotPropsMap:M,_getScopeInputTodoMap:I,rootId:k}=e,P=e.scenesOperate||f.scenesOperate,{_v:F,id:S,slot:T,coms:O={},comsAutoRun:D={},cons:N=[],pinRels:j={},pinProxies:L={},pinValueProxies:R={},type:B}=u;let $=O;"2024-diff"===F&&($=(0,o.C6)(O,{get(e,t){var n;const i=e[t];if(!i||i._ready)return i;const{def:r}=i;i._ready=!0;const s=p(r),a=i.model,l=a.data;return a.data=l?Object.assign((0,o.y_)(s.data),l):(0,o.y_)(s.data),(null===(n=r.rtType)||void 0===n?void 0:n.match(/^js/gi))||(i.inputs=s.inputs.concat(a.inputAry),i.outputs=s.outputs.concat(a.outputAry)),i}}));const z=f,W={},U={},V={},H={},G={};Object.keys(N).forEach((e=>{const t=N[e],{startPinParentKey:n}=t[0];n&&(G[n]=e)}));const J={},K={},q={},Y={},X={},Z={},Q={},ee={},te={},ne=new d;function ie(e,t,n){if(!A)if("com"===e){const{com:e,pinHostId:r,val:s,fromCon:a,notifyAll:l,comDef:c,conId:d}=t;v?v("com","output",{id:e.id,pinHostId:r,val:(0,o.eq)(s),fromCon:a,notifyAll:l,comDef:c,sceneId:u.id,conId:d},n):(0,i.$)(e.title,c,r,s)}else if("frame"===e){const{comId:e,frameId:i,pinHostId:r,val:s,sceneId:a,conId:l}=t;v&&v("frame","output",{comId:e,frameId:i,pinHostId:r,val:(0,o.eq)(s),sceneId:a||u.id,conId:l},n)}}function oe(e,t){if(A)return;const{com:n,pinHostId:r,val:s,frameKey:a,finishPinParentKey:l,comDef:c,conId:d}=e;d&&(v?v("com","input",{id:n.id,pinHostId:r,val:(0,o.eq)(s),frameKey:a,finishPinParentKey:l,comDef:c,sceneId:u.id,conId:d},t):(0,i.sK)(n.title,c,r,s))}function re(n,i,r,s){var l,d,p;let f=L[n.comId+"-"+n.pinId],h=n;if(n.def&&"mybricks.core-comlib.scenes"===n.def.namespace&&n.frameId!==u.id&&(f=null),f){if("myFrame"===f.type){const e=M?M(`${n.comId}-${f.frameId}`):W[`${n.comId}-${f.frameId}`];if(e){const t=Object.entries(e).filter((([e,t])=>{if("slot"===e)return!0;const{curScope:i}=t;return!(!i||i.parentComId!==n.comId)}));if(1===t.length){const e=t[0][1];if(e.curScope)e.inputs[f.pinId](r);else{const e=I?I():te;e[`${n.comId}-${f.frameId}`]?e[`${n.comId}-${f.frameId}`].push({pinId:f.pinId,value:r}):e[`${n.comId}-${f.frameId}`]=[{pinId:f.pinId,value:r}]}}else{const e=t.length>1;t.forEach((([t,i])=>{if("slot"===t&&e)return;const{curScope:o}=i;o&&o.parentComId===n.comId&&i.inputs[f.pinId](r)}))}}else{const e=I?I():te;e[`${n.comId}-${f.frameId}`]?e[`${n.comId}-${f.frameId}`].push({pinId:f.pinId,value:r}):e[`${n.comId}-${f.frameId}`]=[{pinId:f.pinId,value:r}]}return}const d="mybricks.core-comlib.frame-output"===(null===(l=h.def)||void 0===l?void 0:l.namespace);if(d)h=Object.assign(Object.assign({},n),{type:f.type,frameId:f.frameId,pinId:f.pinId,direction:"inner-input",comId:(n.targetFrameKey||n.frameKey).split("-")[0]});else{if(s&&s.finishPinParentKey!==h.startPinParentKey)return;if("frame"===f.type){if("mybricks.core-comlib.fn"===h.def.namespace){const{frameId:n,comId:o,pinId:s}=f;if(N[(o?`${o}-${n}`:`${n}`)+"-"+s])c(Object.assign(Object.assign({},e),{_getComProps:e=>ce(e,i),_getSlotValue:e=>de(e,i),_getSlotPropsMap:e=>M?M(e):W[e],_getScopeInputTodoMap:()=>I?I():te,_frameId:n,ref:e=>{const t=e.getComInfo(h.comId),{configs:n}=t.model.data,{frameId:o,pinId:s}=f,a=t.outputs,l=null;if(null==a?void 0:a.length){const t=ce(h.comId,i);a.forEach((n=>{e.outputs(n,(e=>{const o=t.outputs[n];o&&o(e,i)}))}))}n&&Object.entries(n).forEach((([t,n])=>{e.inputs[t](n,void 0,!0,o,l)})),e.inputs[s](r,void 0,!0,o,l),e.run(o,l)}}),t);else if(ie("frame",{comId:o,frameId:n,pinHostId:s,val:r,sceneId:null}),n!==a)if(u.id===n)H[s](r);else{const e=ce(h.comId,i);null==P||P.open({frameId:n,todo:{pinId:s,value:r},comProps:e,parentScope:e})}return}const n=ce(h.comId,i);let s;return s={id:(0,o.uR)(10,16),frameId:f.frameId,parent:i,proxyComProps:n},me({options:f,value:r,scope:s,comProps:n}),void(d||he({frameId:f.frameId,scope:s}))}q[`${f.frameId}-${f.pinId}`]=r}}if("com"===h.type)s?s.finishPinParentKey===h.startPinParentKey&&ue(h,r,i):ue(h,r,i);else{if("frame"!==h.type)throw new Error("尚未实现");if(s&&s.finishPinParentKey!==h.startPinParentKey)return;if(h.comId&&(null==f?void 0:f.frameId)!==S){if("inner-input"===h.direction){const e=U[h.comId+"-"+h.frameId+"-"+((null==i?void 0:i.id)?i.id+"-":"")+h.pinId]||U[h.comId+"-"+h.frameId+"-"+((null===(d=null==i?void 0:i.parent)||void 0===d?void 0:d.id)?i.parent.id+"-":"")+h.pinId]||U[h.frameKey+"-"+h.pinId];e?e(r):console.log("未找到proxyFn: ",h)}else if("inner-output"===h.direction&&"joint"===h.pinType){const e=N[h.comId+"-"+h.frameId+"-"+h.pinId];e&&se({logProps:null,cons:e,val:r})}}else{const e=null==i?void 0:i.proxyComProps;if(e){const t=e.outputs[h.pinId];if(t)return void t(r,i.parent)}null===(p=H[h.pinId])||void 0===p||p.call(H,r)}}}function se({logProps:e,cons:t,val:n,curScope:i,fromCon:o,notifyAll:l,fromCom:c,isAutoRun:d}){!A&&b&&t.sort(((e,t)=>e.isBreakpoint&&!t.isBreakpoint?-1:!e.isBreakpoint&&t.isBreakpoint?1:0)),t.forEach((t=>s(this,void 0,void 0,(function*(){var s,u;const{comId:p,pinId:f,pinType:h,timerPinInputId:m,frameKey:g}=t,y=$[p];if(o){if(o.finishPinParentKey!==t.startPinParentKey)return}else if(!(0,r.i)(c,t,e))return;if(A||!b||!t.isIgnored){if(!A&&b&&(null===(s=w.debuggerPanel)||void 0===s?void 0:s.hasBreakpoint(t))){let n=!0;yield null===(u=w.debuggerPanel)||void 0===u?void 0:u.wait(t,(()=>{n=!1,e&&(e[1].conId=t.id,e&&ie(...e,!0))})),n&&e&&(e[1].conId=t.id,e&&ie(...e))}else e&&ie(...e);if("timer"===h)ae({value:n,curScope:i,inReg:t,notifyAll:l,fromCon:o});else if(l){const e=t.frameKey;if(e===a||d)le({pinId:f,value:n,component:y,curScope:null,comId:p,val:n,timerPinInputId:m,frameKey:e,inReg:t,notifyAll:l,fromCon:o});else{const[r,s]=e.split("-");if(Y[e]){const n=Y[e],i=n[c.id];i?i[t.id]=t:n[c.id]={[t.id]:t}}else{(Y[e]={})[c.id]={[t.id]:t}}if(c.parentComId)le({pinId:f,value:n,component:y,curScope:i,comId:r,val:n,timerPinInputId:m,frameKey:e,inReg:t,notifyAll:l,fromCon:o});else{const i=W[`${r}-${s}`];if(i){const s=Object.entries(i),a=s.length;s.forEach((([i,s])=>{a>1&&"slot"===i||("scope"===(null==s?void 0:s.type)?s.curScope?le({pinId:f,value:n,component:y,curScope:s.curScope,comId:r,val:n,timerPinInputId:m,frameKey:e,inReg:t,notifyAll:l,fromCon:o}):s.pushTodo((i=>{le({pinId:f,value:n,component:y,curScope:i,comId:r,val:n,timerPinInputId:m,frameKey:e,inReg:t,notifyAll:l,fromCon:o})})):le({pinId:f,value:n,component:y,curScope:s.curScope,comId:r,val:n,timerPinInputId:m,frameKey:e,inReg:t,notifyAll:l,fromCon:o}))}))}}}}else le({pinId:f,value:n,component:y,curScope:i,comId:p,val:n,timerPinInputId:m,frameKey:g,inReg:t,notifyAll:l,fromCon:o})}}))))}function ae({pinId:e,value:t,curScope:n,inReg:i,notifyAll:o,fromCon:r}){let s=n;const l=e?Object.assign(Object.assign({},i),{pinId:e}):i;if(o){const e=l.frameKey;if(!e)throw new Error("数据异常，请检查toJSON结果.");re(l,e===a?{}:n,t,r)}else{const e=l.frameKey.split("-");if(e.length>=2&&!s){const n=fe(e[0],e[1],null,!1);"scope"===(null==n?void 0:n.type)?n.curScope?re(l,n.curScope,t,r):n.pushTodo((e=>{re(l,e,t,r)})):re(l,s,t,r)}else re(l,s,t,r)}}function le({pinId:e,value:t,component:n,curScope:i,comId:o,val:r,timerPinInputId:s,frameKey:a,inReg:l,notifyAll:c,fromCon:d}){const{isReady:u,isMultipleInput:p,pinId:f,value:h,cb:m}=function({pinId:e,value:t,component:n,curScope:i,comId:o,val:r}){const s=e.indexOf("."),a={pinId:e,value:t,isReady:!0,isMultipleInput:!1,cb:null};if(n&&-1!==s){const t=n.id+""+((null==i?void 0:i.id)?`-${i.id}`:""),{inputs:o}=n,l=e.substring(0,s);a.pinId=l;const c=e.substring(s+1);let d=J[t];d||(d=J[t]={}),d[c]=r;const u=new RegExp(`${l}.`),p=o.filter((e=>!!e.match(u)));Object.keys(d).length===p.length?(a.value=d,a.isMultipleInput=!0,a.cb=()=>{Reflect.deleteProperty(J,t)}):a.isReady=!1}return a}({pinId:e,value:t,component:n,curScope:i,comId:o,val:r});if(u){const e={pinId:p?f:null,value:h,curScope:i,inReg:l,notifyAll:c,fromCon:d};if(s){const t=s+"-"+a+((null==i?void 0:i.id)?`-${i.id}`:""),n=K[t];if(n){const{ready:i,todo:o}=n;if(i){let n=!1;Object.entries(o).forEach((([t,i])=>{t===f?(ae(e),n=!0):i()})),n||ae(e),null==m||m(),Reflect.deleteProperty(K,t)}else o[f]=()=>{null==m||m(),ae(e)}}else K[t]={ready:!1,todo:{[f]:()=>{null==m||m(),ae(e)}}}}else null==m||m(),ae(e)}}function ce(e,t,i){var r,s,c;const d=$[e];if(!d)return null;const u=d.def,h=null===(r=u.rtType)||void 0===r?void 0:r.match(/^js/gi);if(E&&!h&&!i||E&&"mybricks.core-comlib.var"===u.namespace&&!i)return E(e);const m=e+(d.frameId||a);let v,x=W[m];x||(x=W[m]={});let A,w=t;for(!w&&d.parentComId&&d.frameId&&(w=null===(c=null===(s=W[`${d.parentComId}-${d.frameId}`])||void 0===s?void 0:s.slot)||void 0===c?void 0:c.curScope);w;){w.dynamicId&&(A=w.dynamicId);const t=w.id+"-"+e;if(w.frameId===d.frameId){v=w.id;const n=A?x[`${v}-${A}-${e}`]:x[t];if(n)return n;{const e=w.parentComId;if(!e)break;if(e===d.paramId||e===d.parentComId)break}}w=w.parent}const C=(v?v+"-":"")+e;if(v){(ee[v]||(ee[v]={}))[m]=C}const _=x[C];if(_)return _;const M=d.model,I=JSON.parse(JSON.stringify(M.data)),k=JSON.parse(JSON.stringify(M.style));k.__model_style__=!0;const F={},S={},T={},D={},R=function(e){return(0,o.C6)({},{ownKeys:e=>d.inputs,getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(t,n)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(n))return;const i=null==e?void 0:e.inputs;if(i){const e=i[n];"function"==typeof e&&e(t)}F[n]=t;const r=S[n];r&&(r.forEach((({val:e,fromCon:n,fromScope:i,next:r})=>{t(e,(0,o.C6)({},{get:(e,t)=>function(e){if("[object Symbol]"===Object.prototype.toString.call(t))return;const o=r||U()[t];if("function"!=typeof o)throw new Error(`outputs.${t} not found`);o(e,i||w,n,!1,t)}}))})),S[n]=void 0)}})},B=(0,o.C6)({},{get:(n,i)=>function(n){if("[object Symbol]"===Object.prototype.toString.call(i))return;const o=j[e+"-"+i];if(o){const r={},s={};return o.forEach((e=>{r[e]=t=>{s[e]=t}})),Promise.resolve().then((()=>{ue({comId:e,def:u,pinId:i},n,t,s)})),r}ue({comId:e,def:u,pinId:i},n,t)}}),z=(0,o.C6)({},{get:(t,n)=>function(t){if("[object Symbol]"===Object.prototype.toString.call(n))return;const i=L[e+"-"+n];i&&(null==P||P.inputs(Object.assign(Object.assign({},i),{value:t,parentScope:J})))}}),U=function(n){return(0,o.C6)({},{ownKeys:e=>d.outputs,getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(i,o,r){const s=function(i,r,s,a){if("[object Symbol]"===Object.prototype.toString.call(o))return;const c="boolean"==typeof r&&r;if(c){if(d.parentComId){const t=`${d.parentComId}-${d.frameId}`;Z[t]?Z[t][e]=!0:Z[t]={[e]:!0}}if(X[`${d.id}${(null==t?void 0:t.id)?`-${t.id}`:""}`]=i,d.global&&!a)return void(null==P||P.exeGlobalCom({com:d,value:i,pinId:o}))}const h=arguments,m=null==n?void 0:n.outputs;if(m){const e=m[o];"function"==typeof e&&e(i)}let y;r&&"object"==typeof r&&(y=r);const b=p(u);if(!b)return void g(l(u));const v=M.outputEvents;let x;if(v){const t=v[o];if(t&&Array.isArray(t)){const n=t.find((e=>e.active));if(n){const{type:t}=n;switch(t){case"none":x=[];break;case"fx":const r=L[e+"-"+o];if("frame"===(null==r?void 0:r.type)){const e=`${r.frameId}-${r.pinId}`;x=N[e]||[],q[e]=i}else x=[];break;case"defined":break;default:if(x=[],Array.isArray(null==f?void 0:f.events)){const e=f.events.find((e=>{if(e.type===t)return e}));e&&"function"==typeof e.exe&&e.exe({options:n.options})}}}}}x=x||N[e+"-"+o],(null==x?void 0:x.length)?se(h.length>=3&&void 0===a?{logProps:["com",{com:d,pinHostId:o,val:i,fromCon:s,notifyAll:c,comDef:b}],cons:x,val:i,curScope:y,fromCon:s,fromCom:d}:{logProps:["com",{com:d,pinHostId:o,val:i,fromCon:s,notifyAll:c,comDef:b}],cons:x,val:i,curScope:y||t,fromCon:s,notifyAll:c,fromCom:d}):ie("com",{com:d,pinHostId:o,val:i,fromCon:s,notifyAll:c,comDef:b})};return s.getConnections=()=>N[e+"-"+o]||[],s}})},V=(0,o.C6)({},{get:(e,t,n)=>function(e){if("[object Symbol]"===Object.prototype.toString.call(t))return;T[t]=e;const n=D[t];n&&(n.forEach((t=>{e(t)})),D[t]=void 0)}}),H=(0,o.C6)({},{get:(n,i,o)=>function(n){if("[object Symbol]"===Object.prototype.toString.call(i))return;const o=N[e+"-"+i];o?se({logProps:["com",{com:d,pinHostId:i,val:n,comDef:u}],cons:o,val:n,curScope:t}):ie("com",{com:d,pinHostId:i,val:n,comDef:u})}});let G=new Set,J={id:d.id,title:d.title,frameId:d.frameId,parentComId:d.parentComId,data:h?I:n(I),style:h?k:n(k),_inputRegs:F,scopeId:v,addInputTodo:(e,t,n,i,o)=>{let r=S[e];r||(S[e]=r=[]),r.push({val:t,fromCon:n,fromScope:i,next:o})},inputs:R(),inputsCallable:B,_inputsCallable:z,outputs:U(),_inputs:V,_outputs:H,clone(e){const t={inputs:R(e),outputs:U(e)};return Object.setPrototypeOf(t,this),t},_notifyBindings:function(t){d.global?null==P||P.var.changed(e,t):ne.changed(e,t)},logger:y,destroy:()=>{J=null,G.forEach((({id:e,callBack:t,global:n})=>{n?null==P||P.var.destroy(e,t):ne.destroy(e,t)}))},onError:b?t=>{g({comId:e,error:t,title:d.title})}:e=>{g(e,{id:d.id,title:d.title,frameId:d.frameId,parentComId:d.parentComId})}};x[C]=J;const{bindingsFrom:K}=d.model;return K&&Object.entries(K).forEach((([e,t])=>{const n=t=>{let n=J;const i=e.split(".");i.forEach(((e,o)=>{o!==i.length-1?n=n[e]:n[e]=t}))};O[t].global?(G.add({id:t,callBack:n,global:!0}),null==P||P.var.regist(t,n)):(G.add({id:t,callBack:n}),ne.regist(t,n))})),J}function de(e,t){let n=q[`${e}${t?`-${t.id}-${t.frameId}`:""}`];return void 0===n&&(null==t?void 0:t.parent)&&(n=de(e,t.parent)),(0,o.y_)(n)}function ue(e,t,n,i){var r,s,c;const{comId:d,def:f,pinId:m,pinType:b,frameKey:v,finishPinParentKey:x,timerPinInputId:A,targetFrameKey:M}=e;if("ext"===b){const i=W[d]||ce(d,n);if("_setStyle"===m){const{scopeId:e}=i,n=k?e?`${k}-${e}-${d}`:`${k}-${d}`:e?`${e}-${d}`:d;null===(s=null===(r=null==w?void 0:w.options)||void 0===r?void 0:r.stylization)||void 0===s||s.setStyle(n,t)}else{const e=i.style;let n=e.display;"show"===m?n="":"hide"===m?n="none":"showOrHide"===m&&(n=void 0===t?"none"===n?"":"none":t?"":"none"),e.display=n}const o=p(f);if(!o)return void g(l(f));oe({com:i,val:t,pinHostId:m,frameKey:v,finishPinParentKey:x,comDef:o,conId:e.id})}else if("config"===b){const i=ce(d,n),o=p(f);if(!o)return void g(l(f));oe({com:i,pinHostId:m,val:t,frameKey:v,finishPinParentKey:x,comDef:o,conId:e.id});const{extBinding:r}=e,s=r.split(".");let a=i;s.forEach(((e,n)=>{n!==s.length-1?a=a[e]:a[e]=t}))}else if("timer"===b){const i=ce(d,n),o=p(f);if(!o)return void g(l(f));oe({com:i,pinHostId:m,val:t,frameKey:v,finishPinParentKey:x,comDef:o,conId:e.id});const r=A+"-"+v+((null==n?void 0:n.id)?`-${n.id}`:""),s=K[r];if(s){const{todo:e}=s;Object.entries(e).forEach((([e,t])=>t())),Reflect.deleteProperty(K,r)}else K[r]={ready:!0,todo:{}}}else if(null===(c=f.rtType)||void 0===c?void 0:c.match(/^js/gi)){const i=$[d];if(i){const r=ce(d,n),s=p(f);if(!s)return void g(l(f));if(i.global){const e=null==P?void 0:P.getGlobalComProps(d);e&&(r.data.val=e.data.val)}const c=null==n?void 0:n.id,b=(c?c+"-":"")+d;i.inputs.find((e=>e===m))?oe({com:i,val:t,pinHostId:m,frameKey:v,finishPinParentKey:x,comDef:s,conId:e.id}):Object.entries(t).forEach((([t,n])=>{oe({com:i,val:n,pinHostId:`${m}.${t}`,frameKey:v,finishPinParentKey:x,comDef:s,conId:e.id})})),V[b]||(V[b]=!0,s.runtime({env:z,_env:h,data:r.data,inputs:r.inputs,outputs:r.outputs,_notifyBindings:r._notifyBindings,_inputsCallable:r._inputsCallable,logger:y,onError:r.onError}));const A=r._inputRegs[m];"function"==typeof A?A((0,o.y_)(t),(0,o.C6)({},{get:(t,i)=>function(t){if("[object Symbol]"!==Object.prototype.toString.call(i)){if(R){const e=R[`${d}-${m}`];if(e){const i=e.frameId,o=`${i===u.id?a:M||v}-${e.pinId}`,r=i===_?de:C||de;void 0===(t=r(o,n))&&(t=r(o,null))}}if(E){ce(d,n,!0).outputs[i](t,n,e)}else r.outputs[i](t,n,e)}}})):(console.log("计算组件的addInputTodo: ",f),r.addInputTodo(m,(0,o.y_)(t),e,n))}}else{const r=ce(d,n);if(!r)return;const s=p(f);if(!s)return void g(l(f));oe({com:r,pinHostId:m,val:t,frameKey:v,finishPinParentKey:x,comDef:s,conId:e.id});const a=r._inputRegs[m];if("function"==typeof a){let s;s=i||(0,o.C6)({},{get:(t,i)=>function(t){if("[object Symbol]"!==Object.prototype.toString.call(i))if(E){ce(d,n,!0).outputs[i](t,n,e)}else r.outputs[i](t,n,e)}}),a((0,o.y_)(t),s)}else r.addInputTodo(m,(0,o.y_)(t),e,n,E?(t,i,o,r,s)=>{ce(d,n,!0).outputs[s](t,n,e)}:null)}if(x){const e=N[G[x]];e&&!j[`${d}-${m}`]&&se({logProps:null,cons:e,val:void 0})}}function pe(e,t){let n;return(null==e?void 0:e.comAry)&&e.comAry.find((e=>{if(e.id===t)return n=e,e;if(e.slots)for(let i in e.slots)if(n=pe(e.slots[i],t),n)return n})),n}function fe(e,t,n,i){var r;const s="string"!=typeof t,a=s?t.id:t,l=`${e}-${a}`;let c=W[l];c||(c=W[l]={});let d=n?n.id:"slot",u=c[d];if(i&&!u&&console.log("不应该再走到这儿了: ",{comId:e,slotId:a,scope:n,notifyAll:i}),!u){let i=s?t:Q[`${e}-${a}`];if(!i){const t=pe(T,e);if(!(null==t?void 0:t.slots))return null;i=null==t?void 0:t.slots[a]}const p={};let f;if(n){const t=W[e+"-"+a];t&&(f=t.todo)}const h={scope:n,todo:f},m=(0,o.C6)({},{get:(e,t)=>function(e){"[object Symbol]"!==Object.prototype.toString.call(t)&&(p[t]=e)}}),g=new Set,y=(0,o.C6)({},{get(t,n){const i=function(t,i){if("[object Symbol]"===Object.prototype.toString.call(n))return;let o=i||h.scope;const r=e+"-"+a+"-"+n,s=N[r],l=`${r}${o?`-${o.id}-${o.frameId}`:""}`;g.add(l),q[l]=t,s?se({logProps:["frame",{comId:e,frameId:a,pinHostId:n,val:t}],cons:s,val:t,curScope:o}):ie("frame",{comId:e,frameId:a,pinHostId:n,val:t})};return i.getConnections=()=>N[e+"-"+a+"-"+n]||[],i}}),b=(0,o.C6)({},{get:(t,i,o)=>function(t){var o;"[object Symbol]"!==Object.prototype.toString.call(i)&&(U[`${e}-${a}-${null==n?void 0:n.id}-${i}`]=t,U[`${e}-${a}-${null===(o=null==n?void 0:n.parent)||void 0===o?void 0:o.id}-${i}`]=t,U[d+"-"+i]=t,U[l+"-"+i]=t)}});let v={};if(u=c[d]={type:null==i?void 0:i.type,run(t,n){let i=h.scope;if(t&&i!==t&&(h.scope=t,i=t),n){if(!i)return;const t=te[`${e}-${i.frameId}`];if(Array.isArray(t))t.forEach((({pinId:e,value:t})=>{u.inputs[e](t)}));else if(t){const{pinId:e,value:n}=t;u.inputs[e](n)}return}const o=(null==i?void 0:i.id)||"none";if(v[o]||(v[o]=!0,he({comId:e,frameId:a,scope:i})),Array.isArray(h.todo)&&(h.todo.forEach((e=>{Promise.resolve().then((()=>{e(i)}))})),h.todo=void 0),i&&"slot"!==d){const t=Y[`${e}-${a}`];Promise.resolve().then((()=>{t&&Object.entries(t).forEach((([e,t])=>{if(!$[e].parentComId){const n=Object.entries(t).map((([e,t])=>t));n.length&&se({logProps:null,cons:n,val:X[e],curScope:i,notifyAll:!0,fromCom:$[e],isAutoRun:!0})}}))}))}},destroy(){if(n){let t=!1;const i=n.parent;if(i&&ee[i.id]||(t=!0),t){const e=ee[n.id];e&&(Object.entries(e).forEach((([e,t])=>{Reflect.deleteProperty(V,t),W[e][t]&&!W[e][t].setSlotValue&&W[e][t].destroy(),Reflect.deleteProperty(W[e],t)})),Reflect.deleteProperty(ee,n.id))}Reflect.deleteProperty(c,`${n.id}-${n.frameId}`);const o=`${n.parentComId}-${n.frameId}`,r=Z[o];r&&Object.keys(r).forEach((e=>{Reflect.deleteProperty(X,`${e}-${n.id}`)})),Reflect.deleteProperty(te,`${e}-${n.frameId}`)}g.forEach((e=>{Reflect.deleteProperty(q,e)})),Reflect.deleteProperty(c,d),u=null},_inputs:m,_inputRegs:p,inputs:y,outputs:b,get curScope(){return h.scope},setCurScope(e){h.scope=e},get todo(){return h.todo},pushTodo(e){h.todo||(h.todo=[]),h.todo.push(e)},setSlotValue(t,n){const i=n||h.scope;Object.entries(t).forEach((([t,n])=>{const o=`${e+"-"+a+"-"+t}${i?`-${i.id}-${i.frameId}`:""}`;g.add(o),q[o]=n}))}},n){(ee[r=n.id.split("-")[0]]||(ee[r]={}))[l]=d}}return u}function he(e){const{comId:t,frameId:n,scope:i}=e,o=D[t?`${t}-${n}`:`${n}`];o&&o.forEach((e=>{const{id:t,def:n}=e;if($[t]){const e=ce(t,i),o=p(n);if(!o)return void g(l(n));o.runtime({env:z,_env:h,data:e.data,inputs:e.inputs,outputs:e.outputs,_inputsCallable:e._inputsCallable,logger:y,onError:e.onError})}}))}function me({options:e,value:t,scope:n,log:i=!0,comProps:o}){const{frameId:r,comId:s,pinId:l,sceneId:c}=e,d=N[(s?`${s}-${r}`:`${r}`)+"-"+l];if(q[`${r}-${l}`]=t,d)se({logProps:["frame",{comId:s,frameId:r,pinHostId:l,val:t,sceneId:c}],cons:d,val:t,curScope:n});else if(i&&ie("frame",{comId:s,frameId:r,pinHostId:l,val:t,sceneId:c}),r!==a)if(u.id===r)H[l](t);else{if(!n)return;null==P||P.open({frameId:r,todo:{pinId:l,value:t},comProps:o,parentScope:n.proxyComProps})}}const ge={get({comId:e,slotId:t,slot:n,scope:i,_ioProxy:o}){let r;if(o&&(o.inputs||o.outputs||o._inputs||o._outputs)&&(r=o),t)return n&&(Q[`${e}-${t}`]=n),fe(e,n||t,i);{const t=ce(e,i);return r?t.clone(r):t}},getComInfo:e=>$[e]};if("function"==typeof m){m({style:null==T?void 0:T.style,run(e=a,t=null){he({frameId:e,scope:t})},inputs:(0,o.C6)({},{get:(n,i)=>function(n,o=void 0,r=!0,s=a,l=null){var d;if("[object Symbol]"!==Object.prototype.toString.call(i)){if(null===(d=u.inputs)||void 0===d?void 0:d.length){const[o,r]=i.split("&execute&");if(r){const i=j[`${a}-${o}`];if(i){const a=null;return void c(Object.assign(Object.assign({},e),{_getComProps:e=>ce(e,a),_getSlotValue:e=>de(e,a),_getSlotPropsMap:e=>M?M(e):W[e],_getScopeInputTodoMap:()=>I?I():te,_frameId:s,ref:e=>{const{inputs:t,outputs:s}=e;i.forEach((e=>{s(e,((...t)=>{const n=`${e}&execute&${r}`;H[n](...t),Reflect.deleteProperty(H,n)}))})),t[o](n)}}),t)}}}me({options:{frameId:s,pinId:i,sceneId:o},value:n,scope:l,log:r})}}}),outputs(e,t){H[e]=t},get:ge.get,getComInfo:ge.getComInfo})}return ge}class d{constructor(){this._varChangeCallBack=new Map}regist(e,t){let n=this._varChangeCallBack.get(e);n||(n=new Set,this._varChangeCallBack.set(e,n)),n.add(t)}destroy(e,t){const n=this._varChangeCallBack.get(e);n&&n.delete(t)}changed(e,t){const n=this._varChangeCallBack.get(e);n&&n.forEach((e=>{e(t)}))}}},38544:(e,t,n)=>{"use strict";function i(e,t,n){var i,o;const r=null===(i=null==e?void 0:e.def)||void 0===i?void 0:i.namespace,s=null===(o=null==n?void 0:n[1])||void 0===o?void 0:o.pinHostId;return!(r&&s&&("test.text"===r&&"testOut"===s||"fangzhou.normal-pc.table-blocks"===r&&"rowSelection"===s)&&t.startPinParentKey)}n.d(t,{i:()=>i})},14549:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,qr:()=>o,sK:()=>r});let i=!1;function o(){i=!0}function r(e,t,n,o){if(i)return;let r;try{r=JSON.stringify(o)}catch(e){r=o}console.log(`%c [MyBricks] 输入项 %c ${e||t.title||t.namespace} | ${n} -> ${r}`,"color:#FFF;background:#000","","")}function s(e,t,n,o){if(i)return;let r;try{r=JSON.stringify(o)}catch(e){r=o}console.log(`%c [MyBricks] 输出项 %c ${e||t.title||t.namespace} | ${n} -> ${r}`,"color:#FFF;background:#fa6400","","")}},53063:(e,t,n)=>{"use strict";n.d(t,{s:()=>v,y:()=>l});var i=n(64012),o=n.n(i),r=n(11012);const s="__render-web-createElement__";let a;function l(e){const{pxToRem:t,pxToVw:n}=e;o()[s]||(o()[s]=!0,a=o().createElement,o().createElement=function(...e){let[s,l]=e;if(l){if(!Object.entries(l).find((([e,t])=>null==t?void 0:t._ob)))return a(...e);const u=l.style;if(t&&u?Object.keys(u).forEach((e=>{const t=u[e];"string"==typeof t&&-1!==t.indexOf("px")&&(u[e]=(0,r.a8)(t))})):n&&u&&Object.keys(u).forEach((e=>{const t=u[e];"string"==typeof t&&-1!==t.indexOf("px")&&(u[e]=n(t))})),l.__no_hijack__)return a(...e);if(e.length>0&&"function"==typeof s){if(!s.prototype||!(s.prototype instanceof o().Component)&&void 0===s.prototype.isReactComponent){const t=function(e,t=!1){let n=e[c];if(!n){t?(n=(0,i.memo)(e),n.render=d(e.render,!1)):n=d(e);try{e[c]=n}catch(e){}}const o=Object.getOwnPropertyNames(e);return o&&o.forEach((i=>{try{t&&"render"===i||(n[i]=e[i])}catch(e){console.error(e)}})),n}(s);e.splice(0,1,t)}return a(...e)}return"object"==typeof s&&(s.$$typeof,Symbol.for("react.forward_ref")),a(...e)}return a(...e)})}const c="__enhanced__";function d(e,t=!0){function n(t,n){const[,o]=(0,i.useState)([]);let r;return(0,i.useEffect)((()=>()=>{h(o)}),[]),f({update:o,run:()=>{r=e(t,n)}}),r}return n.displayName=e.displayName||e.name,t?(0,i.memo)(n):n}let u=0;const p=[],f=({update:e,run:t})=>{p.unshift(e),t();const n=p.indexOf(e);-1!==n&&p.splice(n,1)},h=e=>{g.destroy(e)};let m=/^_ob\d+_/;const g={_obToKey:{},event:{},reverse:new WeakMap,on(e,t,n){const{_obToKey:i,event:o,reverse:r}=this,s=e+t;i[e]||(i[e]=new Set),i[e].add(s),o[s]||(o[s]=new Set),o[s].add(n),r.get(n)||r.set(n,new Set),r.get(n).add(s)},emit(e,t){const n=new WeakSet,i=this.event[e];i&&i.forEach((e=>{n.has(e)||(n.add(e),e(t))}))},destroy(e){const{reverse:t}=this,n=t.get(e);if(n){const{event:i,_obToKey:o}=this;n.forEach((t=>{const n=i[t],r=t.match(m)[0],s=o[r];s&&(s.delete(t),s.size||Reflect.deleteProperty(o,r)),n.delete(e),n.size||Reflect.deleteProperty(i,t)})),t.delete(e)}},destroy2(e){const{_obToKey:t,event:n,reverse:i}=this,o=t[e];o&&(o.forEach((e=>{n[e].forEach((t=>{const n=i.get(t);n&&(n.delete(e),n.size||i.delete(t))})),Reflect.deleteProperty(n,e)})),Reflect.deleteProperty(t,e))}},y=e=>{(null==e?void 0:e._ob)&&(g.destroy2(e._ob),Object.entries(e).forEach((([,e])=>{y(e)})))},b={set(e,t,n,i){const o=Reflect.get(e,t,i),r=Reflect.set(e,t,n,i);return(o!==n||Array.isArray(e)&&"length"===t)&&(g.emit(e._ob+t,[]),y(o)),r},get(e,t,n){const i=Reflect.get(e,t,n);if(["_ob","constructor",Symbol.toPrimitive,Symbol.toStringTag,Symbol.iterator].includes(t))return i;const o=p[0];if(o)if(Reflect.get(e,"__model_style__",n)){if("display"===t)g.on(e._ob,t,o);else if("styleAry"===t)return i}else g.on(e._ob,t,o);if((0,r.Gv)(i)){if(i._ob)return i;{const o=v(i);return Reflect.set(e,t,o,n),o}}return i}};function v(e){return e._ob?e:(Object.defineProperty(e,"_ob",{value:`_ob${++u}_`,enumerable:!1,writable:!1,configurable:!1}),(0,r.C6)(e,b))}},11012:(e,t,n)=>{"use strict";function i(e){return e&&"object"==typeof e}function o(e){return"number"==typeof e&&!isNaN(e)}function r(e,t){const n=e.split("."),i=t.split("."),o=n.length,r=i.length,s=Math.min(o,r);let a=0;for(;a<s;a++){let e=parseInt(n[a]),t=parseInt(i[a]);if(e>t)return 1;if(e<t)return-1}if(o>r){for(let e=a;e<o;e++)if(0!=parseInt(n[e]))return 1;return 0}if(o<r){for(let e=a;e<r;e++)if(0!=parseInt(i[e]))return-1;return 0}return 0}function s(e=5,t=8){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||n.length,e)for(let o=0;o<e;o++)i[o]=n[0|Math.random()*t];else{let e;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(let t=0;t<36;t++)i[t]||(e=0|16*Math.random(),i[t]=n[19==t?3&e|8:e])}return i.join("")}function a(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}n.d(t,{A4:()=>y,BS:()=>p,C6:()=>v,Et:()=>o,Gm:()=>r,Gv:()=>i,RD:()=>a,a8:()=>u,eq:()=>f,iu:()=>m,uR:()=>s,y_:()=>g});const l=function(e,t,n,i){return function(o,r){var s,a,l,c,d=parseFloat(r);return!r||d<=t?o:"".concat((s=d/e,a=n,l=Math.pow(10,a+1),c=Math.floor(s*l),10*Math.round(c/10)/l)).concat(i)}},c=l(12,0,5,"rem"),d=(l(3.75,0,5,"vw"),/"[^"]+"|'[^']+'|url\([^)]+\)|(\d*\.?\d+)px/g),u=e=>e.replace(d,c),p=({viewportWidth:e=375,unitPrecision:t=5})=>{const n=l(e/100,0,t,"vw");return e=>e.replace(d,n)};function f(e){return e}let h;function m(){var e;return h||(h=(null===(e=document.getElementById("_mybricks-geo-webview_"))||void 0===e?void 0:e.shadowRoot)||document.head)}function g(e,t=[]){const n=Object.prototype.toString.call(e);if(!["[object Object]","[object Array]"].includes(n))return e;const i=t.filter((t=>t.original===e))[0];if(i)return i.copy;const o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((n=>{o[n]=g(e[n],t)})),o}function y(e,t=[]){const n=Object.prototype.toString.call(e);if(!["[object Object]","[object Array]"].includes(n))return e;const i=t.filter((t=>t.original===e))[0];if(i)return i.copy;const o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.getOwnPropertyNames(e).forEach((n=>{const i=Object.getOwnPropertyDescriptor(e,n);i&&"function"==typeof i.get?Object.defineProperty(o,n,{get:i.get,enumerable:i.enumerable,configurable:i.configurable}):o[n]=y(e[n],t)})),o}const b="undefined"!=typeof Proxy,v=(e,t)=>{if(b)return new Proxy(e,t);console.log("环境内没有Proxy")}},85044:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(64012),o=n.n(i);Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler");const r=Symbol.for("react.provider"),s=(Symbol.for("react.context"),Symbol.for("react.forward_ref")),a=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo")),l=(Symbol.for("react.lazy"),Symbol.for("react.offscreen"),"data-com-id"),c=(0,i.createContext)({_key:null,_data:null}),d=c.Provider,u=({children:e})=>{if((0,i.isValidElement)(e)){const{type:t}=e;switch(Object.prototype.toString.call(t)){case"[object String]":return o().createElement(m,null,e);case"[object Object]":return o().createElement(g,null,e);case"[object Function]":return o().createElement(x,null,e);case"[object Symbol]":return o().createElement(A,null,e);default:return e}}return e},p=({_data:e,children:t})=>{if(e)return o().createElement(d,{value:{_data:e}},o().createElement(p,null,t));const{_key:n,_data:r}=(0,i.useContext)(c);if(!r)return t;if(Array.isArray(t))return i.Children.map(t,(e=>o().createElement(p,null,e)));if((0,i.isValidElement)(t)){const{props:e}=t,s=e[l];return s?s!==n?o().createElement(d,{value:{_key:s,_data:r}},o().createElement(u,null,t)):o().createElement(u,null,(0,i.cloneElement)(t,{[l]:null})):o().createElement(u,null,t)}return t},f=p,h=({type:e,render:t,next:n})=>{if(e.__airender__){e.__airender__=null;n(e.__ori__),e.__runairender__=!0}else if(!e.__runairender__){n(t),e.__runairender__=!0}},m=({children:e})=>{const{_key:t,_data:n}=(0,i.useContext)(c),{props:r}=e,{children:s}=r;return t?(0,i.cloneElement)(e,{[l]:t,children:s?o().createElement(d,{value:{_key:null,_data:n}},o().createElement(p,null,s)):null}):(0,i.cloneElement)(e,{children:s?o().createElement(p,null,s):null})},g=({children:e})=>{const{type:t}=e;switch(t.$$typeof){case s:return o().createElement(y,null,e);case r:return o().createElement(b,null,e);case a:return o().createElement(v,null,e);default:return e}},y=({children:e})=>{const{props:t,ref:n,type:r}=e,s=t.children;if(s&&"function"==typeof s){const t=s;return(0,i.cloneElement)(e,{children:(...e)=>o().createElement(p,null,t(...e))})}return!r.__airender__&&r.__runairender__||h({type:r,render:r.render,next:e=>{r.render=(...t)=>{const n=e(...t);return o().createElement(p,null,n)}}}),e},b=({children:e})=>{const{props:t}=e,{children:n}=t;return n?(0,i.cloneElement)(e,{children:o().createElement(p,null,n)}):e},v=({children:e})=>{const{type:t,props:n}=e;if("function"==typeof t.type){const e=t.type(n);return o().createElement(p,null,e)}if(t.type.$$typeof===s){const i=t.type.render(n,e.ref);return o().createElement(p,null,i)}return e},x=({children:e})=>{const{type:t,props:n}=e;return t.prototype instanceof i.Component?(!t.__airender__&&t.__runairender__||h({type:t,render:t.prototype.render,next:e=>{t.prototype.render=function(){const t=e.call(this);return o().createElement(p,null,t)}}}),e):o().createElement(p,null,t(n))},A=({children:e})=>{const{props:t}=e,{children:n}=t;return n?(0,i.cloneElement)(e,{children:o().createElement(p,null,n)}):e}},52921:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(64012),o=n.n(i),r=n(12818);const s=n(36090).A.locals;class a extends o().PureComponent{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){var t;return{hasError:!0,error:(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(t=null==e?void 0:e.toString)||void 0===t?void 0:t.call(e))}}componentDidCatch(e,t){var n,i,o,s;null===(i=null===(n=this.props.options)||void 0===n?void 0:n.errorHandler)||void 0===i||i.call(n,e,t),r.A.error(e),this.setState({error:(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(o=null==e?void 0:e.toString)||void 0===o?void 0:o.call(e)),errorInfo:(null==t?void 0:t.stack)||(null==t?void 0:t.message)||(null===(s=null==t?void 0:t.toString)||void 0===s?void 0:s.call(t))})}render(){const{hasError:e,error:t,errorInfo:n}=this.state,{children:i,errorTip:r}=this.props;return e?o().createElement("div",{className:s.error},o().createElement("div",null,r||"渲染错误"),o().createElement("div",null,t||n)):i}}},62705:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(64012),o=n.n(i),r=n(65600),s=n(3284),a=n(39542),l=n(12818),c=n(52921);function d({json:e,options:t,style:n={},className:d="",root:u=!0,from:p}){const f=(0,r.useMyBricksRenderContext)(),h=(0,r.useModuleContext)(),{env:m,onError:g,logger:y,slot:b,getComDef:v}=(0,i.useMemo)((()=>{const{debug:i}=t,{env:o}=h,r=e.slot;if(!o.canvas.isValid&&!t._isNestedRender&&i&&"scene"===p&&r&&"module"!==r.type&&"module"!==r.showType&&(n.flex=1),"module"===(null==r?void 0:r.showType)||"module"===(null==r?void 0:r.type)){const{style:e}=r;n.hasOwnProperty("height")||(e.heightAuto?n.height="fit-content":e.heightFull?n.height="100%":n.height=e.height),n.hasOwnProperty("width")||(e.widthAuto?n.width="fit-content":e.widthFull?n.width="100%":n.width=e.width),r.style.backgroundColor=r.style.backgroundColor||"#ffffff00"}return"module"===e.type&&(r.style.backgroundColor=r.style.backgroundColor||"#ffffff00"),"2024-diff"===f._v&&(e._v=f._v),{env:o,onError:f.onError,logger:f.logger,getComDef:e=>f.getComDef(e),slot:r,_context:f}}),[]),[x,A,w]=(0,i.useMemo)((()=>{var n;try{let n,i=!0;return[(0,s.A)({json:e,getComDef:v,events:t.events,env:m,ref(o){n=o,"function"==typeof t.ref&&(t.ref(o,e),i=!1)},onError:g,debug:t.debug,debugLogger:t.debugLogger,logger:y,scenesOperate:t.scenesOperate,_env:t._env,_isNestedRender:t._isNestedRender,_isNestCom:t._isNestCom,_context:f,rootId:t.rootId},{observable:f.observable}),n,i]}catch(e){throw console.error(e),l.A.error(`导出的JSON.script执行异常: ${(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(n=null==e?void 0:e.toString)||void 0===n?void 0:n.call(e))}`),new Error("导出的JSON.script执行异常.")}}),[]);return(0,i.useLayoutEffect)((()=>{if(!t.disableAutoRun){if(w){const{inputs:n}=A,i=e.inputs;n&&Array.isArray(i)&&i.forEach((e=>{const{id:i,mockData:o,type:r,extValues:s}=e;let a;if(t.debug)if("config"===r&&(null==s?void 0:s.config)&&"defaultValue"in s.config)try{a=JSON.parse(decodeURIComponent(s.config.defaultValue))}catch(e){a=s.config.defaultValue}else try{a=JSON.parse(decodeURIComponent(o))}catch(e){a=o}n[i](a)}))}A.run()}}),[]),o().createElement(c.A,{errorTip:"页面渲染错误",options:t},o().createElement(a.A,Object.assign({env:m,style:n,_env:t._env,slot:b,getComDef:v,context:x,className:d,createPortal:t.createPortal||(()=>{}),onError:g,logger:y,root:u,options:t},"module"===e.type?{onClick(){var e;null===(e=t.outputs)||void 0===e||e.click()}}:{})))}},9655:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(62705),s=n(65600),a=n(3284),l=n(60451),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class d{constructor(e){this.history=[],this.index=-1,"popup"!==e.type&&(this.history[++this.index]={id:e.id,todo:[]})}go(e){this.history=this.history.slice(0,++this.index).concat({id:e,todo:[]})}back(){if(this.index>0)return this.history[--this.index]}forward(){if(this.history.length>this.index+1)return this.history[++this.index]}redirect(e){this.index>-1&&(this.history=this.history.slice(0,this.index).concat({id:e,todo:[]}))}setTodo(e){this.history[this.index].todo=e}}const u=l.A.locals;function p({json:e,options:t}){const n=(0,s.useMyBricksRenderContext)(),r=(0,s.useModuleContext)(),[l,p]=(0,i.useState)(0),[m,g]=(0,i.useState)([]),[y,b]=(0,i.useState)([]),{scenesMap:v,scenesOperateInputsTodo:x,globalVarMap:A,debugHistory:w,env:E}=(0,i.useMemo)((()=>{const{sceneId:i,disableAutoRun:o,globalVariable:s}=t,{env:l}=r;if(i){const t=e.scenes.findIndex((e=>e.id===i));if(-1!==t){const n=e.scenes.splice(t,1);e.scenes.unshift(...n),"popup"===n[0].type&&g([n[0].id])}}const u=[];e.scenes.forEach(((e,t)=>{"popup"===e.type?t||g([e.id]):u.push(e)})),b(u);const{modules:f,definedComs:m,global:y}=e;l.getDefinedComJSON||(l.getDefinedComJSON=e=>m[e].json),l.getModuleJSON=e=>{var t;return null===(t=null==f?void 0:f[e])||void 0===t?void 0:t.json};const E=e.permissions||[];l.themes=e.themes,l.permissions=E;const C=l.hasPermission;"function"==typeof C&&Object.defineProperty(l,"hasPermission",{get:function(){return e=>{if("string"==typeof e){const t=E.find((t=>t.id===e));return C({permission:t})}return C(e)}}});const _={};y.fxFrames.forEach((e=>{_[e.id]=e}));const M=e.scenes[0],I={lastSceneId:"popup"===M.type?null:M.id};l.canvas.open=(e,n,i,o,r)=>c(this,void 0,void 0,(function*(){var s,a;let c=v[e];if(!c){if("function"!=typeof t.scenesLoader)return void(l.history?l.history.go(e,n,i):console.error(`缺少场景信息: ${e}`));const o=yield t.scenesLoader({id:e});if(c={disableAutoRun:!1,json:o,show:!1,parentScope:null,todo:[],type:(null===(s=o.slot)||void 0===s?void 0:s.showType)||o.type,useEntryAnimation:!1},v[e]=c,"popup"===o.type||b((e=>[...e,o])),x[e]){const{parentScope:t,todo:n}=x[e];c.parentScope=t,n.forEach((({value:e,pinId:t,parentScope:n})=>{c.todo=c.todo.concat({type:"inputs",todo:{pinId:t,value:e}})}))}}if(null===(a=t.scenesLoaded)||void 0===a||a.call(t,c.json),i)if("popup"===i&&(c.disableAutoRun=!1),"none"===i)v[e].show=!0,p((e=>e+1));else{o||("blank"===i?w.go(e):"redirect"===i&&w.redirect(e));const n=v[I.lastSceneId],r=v[e];"blank"===i&&"redirect"!==t.sceneOpenType?r.useEntryAnimation=!0:r.useEntryAnimation=!1,r.show=!0,r.hidden=!1,n&&n.json.id!==r.json.id&&(o?"back"===o?(n.show=!1,n._refs=null,n.alreadyOpened=!1):(n.hidden=!0,n.alreadyOpened=!0):"redirect"===i?(n.show=!1,n._refs=null,n.alreadyOpened=!1):(n.hidden=!0,n.alreadyOpened=!0)),p((e=>e+1)),I.lastSceneId=e}else c.show||(c.show=!0,g((t=>[...t,e])));r&&r.callInputs&&r.callInputs.forEach((({frameId:e,value:t,pinId:n})=>{k.inputs({frameId:e,value:t,pinId:n})}))})),l.canvas.back=()=>{const e=w.back();if(e){const{id:t,todo:n}=e;l.canvas.open(t,null,"blank","back");v[t].todo=n}},l.canvas.forward=()=>{const e=w.forward();if(e){const{id:t,todo:n}=e;l.canvas.open(t,null,"blank","forward");v[t].todo=n}};const k={open({todo:e,frameId:i,parentScope:o,comProps:r}){var s;const c=_[i];c?(0,a.A)({json:c,getComDef:e=>n.getComDef(e),events:t.events,env:l,ref(t){var n;const{inputs:i,outputs:s}=t;c.outputs.forEach((e=>{s(e.id,(t=>{o.outputs[e.id](t)}))}));const a=null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.configs;a&&Object.entries(a).forEach((([e,t])=>{i[e](t,void 0,!1)})),i[e.pinId](e.value,void 0,!1),t.run()},onError:n.onError,debug:t.debug,debugLogger:t.debugLogger,logger:n.logger,scenesOperate:k,_context:n},{observable:n.observable}):null===(s=l.callServiceFx)||void 0===s||s.call(l,i,e.value).then((({id:e,value:t})=>{o.outputs[e](t)}))},inputs({frameId:e,parentScope:t,value:n,pinId:i}){const o=v[e];if(o){if(o.alreadyOpened)return void("open"!==i&&o._refs&&o._refs.inputs[i](n));o.parentScope=t,o._refs?o._refs.inputs[i](n):o.todo=o.todo.concat({type:"inputs",todo:{pinId:i,value:n}})}else x[e]?x[e].todo.push({frameId:e,parentScope:t,value:n,pinId:i}):x[e]={parentScope:t,todo:[{value:n,pinId:i}]}},_notifyBindings(e,t){const{bindingsTo:n}=t.model;if(n)for(let t in n)for(let i in v){const o=v[i];if(o.json.coms[t])if(o._refs)h(o._refs,t,n[t],e);else{const i=n[t];o.todo=o.todo.concat({type:"globalVar",todo:{comId:t,bindings:i,value:e}})}}},getGlobalComProps(t){var n;return s?{data:{val:s.get(t)}}:t in A?{data:{val:A[t]}}:null===(n=v[e.scenes[0].id]._refs)||void 0===n?void 0:n.get({comId:t})},exeGlobalCom({com:e,value:t,pinId:n}){const i=e.id;A[i]=t,null==s||s.set(i,t),Object.keys(v).forEach((e=>{const o=v[e];if(o.show&&o._refs){const e=o._refs.get({comId:i});e&&e.outputs[n](t,!0,null,!0)}}))},var:new a.g};return l.scenesOperate=k,{scenesMap:e.scenes.reduce(((e,t,n)=>{var i;return Object.assign(Object.assign({},e),{[t.id]:{show:0===n,todo:[],json:t,disableAutoRun:!(!o&&!n),useEntryAnimation:!1,type:(null===(i=t.slot)||void 0===i?void 0:i.showType)||t.type,main:0===n}})}),{}),scenesOperateInputsTodo:{},globalVarMap:{},debugHistory:new d(e.scenes[0]),globalFxIdToFrame:_,env:l}}),[]);(0,i.useMemo)((()=>{if(t.ref){const e=t.ref;t.ref=n=>(i,o)=>(n(i,o),e.call(t,i,o))}else t.ref=e=>(t,n)=>{e(t,n)}}),[]);const C=(0,i.useCallback)((e=>{const n=v[e];return Object.assign(Object.assign({},t),{env:E,get disableAutoRun(){return n.disableAutoRun},ref:t.ref((i=>{var o;i.canvas=E.canvas,n._refs=i;const r=n.todo,{inputs:s,outputs:a}=i,l=n.disableAutoRun;null===(o=n.json.outputs)||void 0===o||o.forEach((e=>{a(e.id,(t=>{var i,o,r;"apply"===e.id?null===(i=n.parentScope)||void 0===i||i.outputs[e.id](t):"module"!==n.type&&l?(n.show=!1,n.todo=[],n._refs=null,null===(o=n.parentScope)||void 0===o||o.outputs[e.id](t),n.parentScope=null,"popup"===n.type?g((e=>e.filter((e=>e!==n.json.id)))):p((e=>e+1))):null===(r=n.parentScope)||void 0===r||r.outputs[e.id](t)}))})),r.length?(r.forEach((({type:t,todo:n})=>{if("inputs"===t)Promise.resolve().then((()=>{s[n.pinId](n.value,e)}));else if("globalVar"===t){const{comId:e,value:t,bindings:o}=n;h(i,e,o,t)}})),n.type||w.setTodo(r),n.todo=[]):l||(n.disableAutoRun=!0,Promise.resolve().then((()=>{var e,i;const o=[];null===(i=null===(e=n.json.inputs)||void 0===e?void 0:e.forEach)||void 0===i||i.call(e,(e=>{const{id:n,mockData:i,type:r,extValues:a}=e;if("ext"===r)return;let l;if(t.debug)if("config"===r&&(null==a?void 0:a.config)&&"defaultValue"in a.config)try{l=JSON.parse(decodeURIComponent(a.config.defaultValue))}catch(e){l=a.config.defaultValue}else try{l=JSON.parse(decodeURIComponent(i))}catch(e){l=i}o.push({type:"inputs",todo:{pinId:n,value:l}}),s[n](l)})),n.type||w.setTodo(o)}))),l&&Promise.resolve().then((()=>{i.run()}))})),_env:{loadCSSLazy(){},currentScenes:{close(){n.show=!1,n.todo=[],n._refs=null,"popup"===n.type?g((e=>e.filter((e=>e!==n.json.id)))):p((e=>e+1))}},destroyAllPopup(){g((e=>(e.forEach((e=>{const t=v[e];t&&(t.show=!1,t.todo=[],t._refs=null)})),[])))}},scenesOperate:E.scenesOperate})}),[]),_=(0,i.useMemo)((()=>y.length?y.map((e=>{const{id:n}=e,i=v[n];if(i.show){let r=i.useEntryAnimation?u.main:"",s={};if(i.main){const{className:e,style:n}=t;e&&(r+=` ${e}`),n&&(s=Object.assign(s,n))}return i.hidden&&(s.display="none"),i.show&&o().createElement(f,{key:n,json:Object.assign(Object.assign({},e),{scenesMap:v}),options:C(n),className:r,style:s})}return null})):null),[l,y]),M=(0,i.useMemo)((()=>m.length?m.map((e=>{const n=v[e],i=n.json,{id:r}=i;let s="",a={position:t.debug?"fixed":"absolute",top:0,left:0,backgroundColor:"#ffffff00",zIndex:1e3};if(n.main){const{className:e,style:n}=t;e&&(s=e),n&&(a=Object.assign(a,n))}return o().createElement(f,{key:i.id,json:Object.assign(Object.assign({},i),{scenesMap:v}),options:C(r),style:{position:t.debug?"fixed":"absolute",top:0,left:0,backgroundColor:"#ffffff00",zIndex:1e3}})})):null),[m]);return(0,i.useEffect)((()=>{n.setPerformanceRender("end",(new Date).getTime())}),[]),o().createElement(o().Fragment,null,_,M)}function f({json:e,options:t,style:n={},className:i=""}){return o().createElement(r.A,{json:e,options:t,style:n,className:i,from:"scene"})}function h(e,t,n,i){const o=e.get({comId:t});o&&Array.isArray(n)&&n.forEach((e=>{let t=o;const n=e.split(".");n.forEach(((e,o)=>{o!==n.length-1?t=t[e]:t[e]=i}))}))}},12818:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(64012),o=n.n(i),r=n(76033),s=n.n(r);const a=n(36589).A.locals;let l=!1;var c;!function(e){e.Error="error"}(c||(c={}));const d="__fz-debug-info-container__";let u,p=document.getElementById(d),f=0;const h=({content:e,type:t})=>{const[n,r]=(0,i.useState)([]),s=e=>{const t=`__fz-notification-id-${++f}__`;e=Object.assign({_nid:t},e),r((t=>[...t,e]))},l=e=>{r((t=>t.filter((t=>t._nid!==e))))};return(0,i.useEffect)((()=>{u={add:s,remove:l},e&&u.add({content:e,type:t})}),[]),o().createElement("div",{className:a.container},n.map((e=>o().createElement("div",{key:e._nid,className:a.itemWrap},o().createElement("div",{className:`${a.item} ${a.errorItem}`},o().createElement("svg",{className:a.closeIcon,viewBox:"0 0 1045 1024",xmlns:"http://www.w3.org/2000/svg",onClick:()=>u.remove(e._nid)},o().createElement("path",{d:"M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z",fill:"#555555"})),e.content)))))},m=["ResizeObserver loop limit exceeded"],g={init:e=>{l=!1!==e,l&&(window.onerror=function(e,t,n,i,o){if("string"!=typeof e||!m.includes(e))return!1})},error:e=>{var t;if(l){const n=(null==e?void 0:e.stack)||(null==e?void 0:e.message)||(null===(t=null==e?void 0:e.toString)||void 0===t?void 0:t.call(e))||e;if("string"==typeof n&&m.includes(n))return;((e,t)=>{let n={content:"",type:t};if("string"==typeof e)n.content=e;else try{n.content=JSON.stringify(e)}catch(t){console.error("showNotification JSON.stringify Error",t,{message:e})}n.content&&(p?null==u||u.add(n):(p=document.createElement("div"),p.setAttribute("id",d),document.body.appendChild(p),s().render(o().createElement(h,{content:n.content,type:n.type}),p)))})(n,c.Error)}}}},39542:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(64012),o=n.n(i),r=n(11012),s=n(65600),a=n(37978),l=n(52921),c=n(85044),d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const u=a.A.locals;function p({com:e,index:t,env:n,getComDef:i,context:r,scope:s,inputs:a,outputs:l,_inputs:c,_outputs:d,_env:u,template:f,onError:m,logger:g,createPortal:y,options:b}){const{id:v,elements:x,style:A}=e;if(x){let e;const{handlePxToVw:h}=b;return h?(e={},Object.entries(A).forEach((([t,n])=>{const i=typeof n;"string"===i&&-1!==n.indexOf("px")?e[t]=h(n):e[t]="number"===i?h(`${n}px`):n}))):e=A,o().createElement("div",{id:v,key:v,style:e},x.map((e=>p({com:e,index:t,env:n,getComDef:i,context:r,scope:s,inputs:a,outputs:l,_inputs:c,_outputs:d,_env:u,template:f,onError:m,logger:g,createPortal:y,options:b}))))}{const o=h({com:e,env:n,getComDef:i,context:r,scope:s,inputs:a,outputs:l,_inputs:c,_outputs:d,index:t,_env:u,template:f,onError:m,logger:g,createPortal:y,options:b});return null==o?void 0:o.jsx}}function f({scope:e,root:t,slot:n,style:i={},createPortal:r,className:s,params:a,inputs:l,outputs:c,_inputs:u,_outputs:f,wrapper:m,template:g,env:v,_env:x,getComDef:A,context:w,onError:E,logger:C,options:_,onClick:M}){const{style:I,comAry:k,layoutTemplate:P,showType:F}=n;if("smart"===I.layout&&P){const h=(null==a?void 0:a.style)||{},{rowGap:m,layout:k,position:F,justifyContent:S,flexWrap:T,flexDirection:O,display:D,columnGap:N,alignItems:j}=h,L=d(h,["rowGap","layout","position","justifyContent","flexWrap","flexDirection","display","columnGap","alignItems"]),R=Object.assign(L||{},I);return o().createElement("div",{"data-isslot":"1","data-slot-id":n.id,onClick:M,className:`${b(R)}${t&&s?` ${s}`:""}`,style:Object.assign(Object.assign(Object.assign({},y(R,!!L,t,"module"===n.type,_)),i),{display:"none"===(null==i?void 0:i.display)?"none":"flex",flexDirection:"column"})},P.map(((t,n)=>p({com:t,index:n,env:v,getComDef:A,context:w,scope:e,inputs:l,outputs:c,_inputs:u,_outputs:f,_env:x,template:g,onError:E,logger:C,createPortal:r,options:_}))))}const S=[];if(k.forEach(((t,n)=>{const i=h({com:t,env:v,getComDef:A,context:w,scope:e,inputs:l,outputs:c,_inputs:u,_outputs:f,index:n,_env:x,template:g,onError:E,logger:C,createPortal:r,options:_});i&&S.push(i)})),"function"==typeof m)return m(S.map((t=>(t.getJsx=({index:n,id:i})=>h({com:Object.assign(Object.assign({},t.com),{dynamicId:i}),env:v,getComDef:A,context:w,scope:e,inputs:l,outputs:c,_inputs:u,_outputs:f,index:n,_env:x,template:g,onError:E,logger:C,createPortal:r,options:_}),t))));{const e=null==a?void 0:a.style,r=Object.assign(I,e||{});return o().createElement("div",{"data-isslot":"1","data-slot-id":n.id,onClick:M,className:`${b(r)}${t&&s?` ${s}`:""}`,style:Object.assign(Object.assign({},y(r,!!e||"module"===n.type,t,"module"===n.type,_)),i)},S.map((e=>e.jsx)))}}function h({com:e,env:t,getComDef:n,context:i,scope:r,inputs:s,outputs:a,_inputs:l,_outputs:c,index:d,_env:f,template:h,onError:g,logger:y,createPortal:b,options:v}){var x,A;const{id:w,def:E,name:C,child:_,brother:M,dynamicId:I}=e,k=i.getComInfo(w),{hasPermission:P,permissions:F}=t,S=null===(A=null===(x=null==k?void 0:k.model)||void 0===x?void 0:x.permissions)||void 0===A?void 0:A.id;if(S&&"function"==typeof P){const e=P(S);if(!e||"boolean"!=typeof e&&!e.permission){const t=F.find((e=>e.id===S));return"hintLink"===((null==e?void 0:e.type)||(null==t?void 0:t.register.noPrivilege))?{id:w,name:C,jsx:o().createElement("div",{key:w},o().createElement("a",{href:(null==e?void 0:e.hintLinkUrl)||t.hintLink,target:"_blank",style:{textDecoration:"underline"}},(null==e?void 0:e.hintLinkTitle)||t.register.title)),style:{}}:void 0}}if(n(E)){const x=i.get({comId:w,dynamicId:I,scope:r?Object.assign(Object.assign({},r),{id:I?r.id+"-"+I:r.id,dynamicId:I}):null,_ioProxy:{inputs:s,outputs:a,_inputs:l,_outputs:c}});if(x){const u=w+(r?r.id:"")+d;return{id:w,jsx:o().createElement(m,{key:u,com:e,comInfo:k,index:d,getComDef:n,context:i,scope:r,props:x,env:t,_env:f,template:h,onError:g,logger:y,createPortal:b,options:v},null==M?void 0:M.map(((e,o)=>p({com:e,index:o,env:t,getComDef:n,context:i,scope:r,inputs:s,outputs:a,_inputs:l,_outputs:c,_env:f,template:h,onError:g,logger:y,createPortal:b,options:v}))),_?p({com:_,index:d,env:t,getComDef:n,context:i,scope:r,inputs:s,outputs:a,_inputs:l,_outputs:c,_env:f,template:h,onError:g,logger:y,createPortal:b,options:v}):null),name:C,inputs:x.inputsCallable,style:x.style,com:e}}return{id:w,jsx:o().createElement("div",{className:u.error},"未找到组件(",E.namespace,"@",E.version," - ",w,")定义."),name:C,style:{}}}return{id:w,jsx:o().createElement("div",{className:u.error},"未找到组件(",E.namespace,"@",E.version,")定义."),name:C,style:{}}}function m({com:e,comInfo:t,index:n,props:a,scope:d,template:p,env:f,createPortal:h,_env:m,getComDef:y,context:b,onError:v,logger:x,children:A,options:w}){var E;const C=(0,s.useModuleContext)(),{id:_,def:M,name:I,slots:k={},dynamicId:P}=e,{scopeId:F,data:S,title:T,style:O,inputs:D,outputs:N,_inputs:j,_outputs:L,_notifyBindings:R}=a,{rootId:B}=w,[,$]=(0,i.useState)(!1);(0,i.useMemo)((()=>{const{handlePxToVw:e,debug:t,disableStyleInjection:n,rootId:i,stylization:o}=w,r=i?F?`${i}-${F}-${_}`:`${i}-${_}`:F?`${F}-${_}`:_;if(!n&&!o.hasDefaultStyle(r)){o.setDefaultStyle(r);const e=function({env:e,style:t,def:n}){var i;const o=null===(i=null==e?void 0:e.themes)||void 0===i?void 0:i.comThemes;if(!o)return t.styleAry;let r=t.styleAry;const{themesId:s}=t,{namespace:a}=n;if(s)if("_defined"===s);else{const e=o[a];if(Array.isArray(e)){const t=e.find((({id:e})=>e===s));t&&(r=t.styleAry)}}else{const e=o[a];if(Array.isArray(e)){const t=e.find((({isDefault:e})=>e));t&&(r=t.styleAry)}}return r}({env:f,def:M,style:O});Array.isArray(e)&&o.setStyle(r,e,!0),Reflect.deleteProperty(O,"styleAry"),Reflect.deleteProperty(O,"themesId")}}),[]);const z=y(M),W=(0,r.C6)(k,{get(e,t){const n=k[t];if(!n)return;let i;d&&(i={id:d.id+"-"+d.frameId+(P?"-"+P:""),frameId:t,parentComId:_,parent:d,dynamicId:P});const r=b.get({comId:_,slotId:t,slot:n,scope:i});return{render(e){const s=null==e?void 0:e.scope;return s&&(i={id:s.id+"-"+s.frameId,frameId:t,parentComId:_,parent:s}),n?o().createElement(g,{key:null==e?void 0:e.key,props:r,currentScope:i,slotId:t,slot:n,params:e,style:O,onError:v,createPortal:h,parentComId:_,logger:x,env:f,_env:m,scope:d,getComDef:y,context:b,options:w}):o().createElement("div",{className:u.error},`组件(namespace=${M.namespace}）的插槽(id=${t})`," 未找到.")},get size(){var e,n;return!!(null===(n=null===(e=k[t])||void 0===e?void 0:e.comAry)||void 0===n?void 0:n.length)},_inputs:r._inputs,inputs:r.inputs,outputs:r.outputs}}}),U=(0,i.useMemo)((()=>{if(a.frameId&&a.parentComId){let e=(null==d?void 0:d.parentScope)||d;const t=b.get({comId:a.parentComId,slotId:a.frameId,scope:(null==e?void 0:e.parent)?e:null});if(t)return{get _inputs(){return(0,r.C6)({},{get:(e,n)=>t._inputRegs[n]})}}}}),[]),V=function({style:e,id:t,rootId:n}){const i=[t,u.com];1!==e.flex||e._new||i.push(u.flex);e.heightAuto&&i.push(u.comHeightAuto);return i.join(" ")}({style:O,id:_,rootId:B}),H=function({style:e}){const t={},{width:n,height:i,maxWidth:o,flexX:s,minWidth:a,minHeight:l,rotation:c}=e;(n||s)&&((0,r.Et)(n)?t.width=n+"px":n&&(t.width=n));(0,r.Et)(i)?t.height=i+"px":i&&(t.height=i);o&&(t.maxWidth=o);a&&(t.minWidth=a);l&&(t.minHeight=l);(0,r.Et)(c)&&(t.transform=`rotate(${c}deg)`,t.transformOrigin="center center");return t}({style:O}),G=function({style:e}){const{margin:t,marginTop:n,marginLeft:i,marginRight:o,marginBottom:r,paddingTop:s,paddingLeft:a,paddingRight:l,paddingBottom:c}=e;if(t)return{margin:t};return{marginTop:n,marginLeft:i,marginRight:o,marginBottom:r,paddingTop:s,paddingLeft:a,paddingRight:l,paddingBottom:c}}({style:O}),J={zIndex:O.zIndex};if(["fixed","absolute"].includes(O.position)){const{top:e,left:t,right:n,bottom:i}=O;(e||(0,r.Et)(e))&&(J.top=(0,r.Et)(e)?e+"px":e),(i||(0,r.Et)(i))&&(J.bottom=(0,r.Et)(i)?i+"px":i),(t||(0,r.Et)(t))&&(J.left=(0,r.Et)(t)?t+"px":t),(n||(0,r.Et)(n))&&(J.right=(0,r.Et)(n)?n+"px":n),"fixed"===O.position?J.zIndex=1e3:"absolute"===O.position&&(J.zIndex=1)}const K=z.runtime;let q=o().createElement(K,{id:P||_,_id:B?F?`${B}-${F}-${_}`:`${B}-${_}`:F?`${F}-${_}`:_,env:f,_env:m,data:S,name:I,title:T,style:O,inputs:D,outputs:N,_inputs:j,_outputs:L,_notifyBindings:R,slots:W,createPortal:h,parentSlot:U,onError:v,logger:x,_onError_:e=>{throw new Error(e)},modules:C.modules});return(null===(E=null==t?void 0:t.model)||void 0===E?void 0:E.isAICode)&&(q=o().createElement(c.A,{_data:S},q)),(0,i.useLayoutEffect)((()=>{$(!0)}),[]),"function"==typeof p&&(q=p({id:_,jsx:q,name:I,scope:d,index:n})),q=q?o().createElement("div",{id:_,key:_,"data-title":T,"data-namespace":M.namespace,"data-nested-id":B?F?`${B}-${F}-${_}`:`${B}-${_}`:F?`${F}-${_}`:_,style:Object.assign(Object.assign(Object.assign(Object.assign({display:O.display,visibility:O.visibility,position:O.position,flex:O.flex,flexDirection:O.flexDirection,flexShrink:O.flexShrink},J),H),G),O.ext||{}),className:V},o().createElement(l.A,{errorTip:`组件 (namespace = ${M.namespace}@${M.version}）渲染错误`,options:w},q,A)):null,q}function g({slotId:e,parentComId:t,props:n,currentScope:s,slot:a,params:l,scope:c,env:d,createPortal:u,_env:p,style:h,getComDef:m,context:g,onError:y,logger:b,options:v}){const x=(0,i.useRef)(null),{curScope:A,curProps:w,isRuntime:E}=(0,i.useMemo)((()=>{const i=!d.edit;let o=s,c=n,u=!1;if(o||"scope"===(null==a?void 0:a.type)&&(o={id:(0,r.uR)(10,16),frameId:e,parentComId:t},u=!0),l){const n=l.inputValues;if("object"==typeof n&&(u||(o=Object.assign(Object.assign({},o),{id:o.id+"-"+(0,r.uR)(10,16),parentScope:o})),c=g.get({comId:t,slotId:e,scope:o}),i)){c.setSlotValue(n);for(let e in n)c.inputs[e](n[e],o)}}return c.run(o),{curScope:o,curProps:c,isRuntime:i}}),[]);(0,i.useEffect)((()=>{if(E){const e=null==l?void 0:l.inputValues;if(e)if(x.current){if("object"==typeof e&&JSON.stringify(x.current)!==JSON.stringify(e)){x.current=e,w.setSlotValue(e);for(let t in e)w.inputs[t](e[t],A);w.run()}}else x.current=e,w.run(null,!0);else w.run(null,!0)}}),[null==l?void 0:l.inputValues]),(0,i.useEffect)((()=>()=>{w.destroy()}),[]);return(0,i.useMemo)((()=>o().createElement(f,{scope:A,env:d,createPortal:u,_env:p,slot:a,params:l,wrapper:null==l?void 0:l.wrap,template:null==l?void 0:l.itemWrap,getComDef:m,context:g,inputs:null==l?void 0:l.inputs,outputs:null==l?void 0:l.outputs,_inputs:null==l?void 0:l._inputs,_outputs:null==l?void 0:l._outputs,onError:y,logger:b,options:v})),[])}function y(e,t,n,i,o){const{handlePxToVw:r}=o,{paddingLeft:s,paddingTop:a,paddingRight:l,paddingBottom:c,background:u,backgroundColor:p,backgroundImage:f,backgroundPosition:h,backgroundRepeat:m,backgroundSize:g,position:y,rowGap:b,columnGap:v,borderBottomColor:x,borderBottomLeftRadius:A,borderBottomRightRadius:w,borderBottomStyle:E,borderBottomWidth:C,borderLeftColor:_,borderLeftStyle:M,borderLeftWidth:I,borderRightColor:k,borderRightStyle:P,borderRightWidth:F,borderTopColor:S,borderTopLeftRadius:T,borderTopRightRadius:O,borderTopStyle:D,borderTopWidth:N,boxShadow:j,top:L,left:R,marginLeft:B,marginTop:$,marginRight:z,marginBottom:W,overflowX:U,overflowY:V,height:H,heightAuto:G,heightFull:J,width:K,widthAuto:q,widthFull:Y}=e,X=d(e,["paddingLeft","paddingTop","paddingRight","paddingBottom","background","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","position","rowGap","columnGap","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","boxShadow","top","left","marginLeft","marginTop","marginRight","marginBottom","overflowX","overflowY","height","heightAuto","heightFull","width","widthAuto","widthFull"]);let Z={rowGap:b,columnGap:v,paddingLeft:s||0,paddingTop:a||0,paddingRight:l||0,paddingBottom:c||0,backgroundColor:p||(n?"#ffffff":void 0),backgroundImage:f,backgroundPosition:h,backgroundRepeat:m,backgroundSize:g,borderBottomColor:x,borderBottomLeftRadius:A,borderBottomRightRadius:w,borderBottomStyle:E,borderBottomWidth:C,borderLeftColor:_,borderLeftStyle:M,borderLeftWidth:I,borderRightColor:k,borderRightStyle:P,borderRightWidth:F,borderTopColor:S,borderTopLeftRadius:T,borderTopRightRadius:O,borderTopStyle:D,borderTopWidth:N,boxShadow:j,overflowX:U,overflowY:V};if(u){if("object"==typeof u){const{background:e,backgroundImage:t,backgroundColor:n,backgroundRepeat:i,backgroundSize:o}=u;Z.backgroundRepeat=i,Z.backgroundSize=o,e?Z.background=e:(Z.backgroundImage=t,Z.backgroundColor=n)}else Z.background=u}return i&&(Z.height=G?"fit-content":J?"100%":H,Z.width=q?"fit-content":Y?"100%":K),t&&(Z=Object.assign(Z,X)),r&&Object.entries(Z).forEach((([e,t])=>{const n=typeof t;"string"===n&&-1!==t.indexOf("px")?Z[e]=r(t):Z[e]="number"===n?r(`${t}px`):t})),Z}function b(e){var t,n;const i=[u.slot,"slot"],o=e;if(o){"flex-column"==(null===(t=o.layout)||void 0===t?void 0:t.toLowerCase())?i.push(u.lyFlexColumn):"flex-row"==(null===(n=o.layout)||void 0===n?void 0:n.toLowerCase())&&i.push(u.lyFlexRow);const e=o.justifyContent;e&&("FLEX-START"===e.toUpperCase()?i.push(u.justifyContentFlexStart):"CENTER"===e.toUpperCase()?i.push(u.justifyContentFlexCenter):"FLEX-END"===e.toUpperCase()?i.push(u.justifyContentFlexFlexEnd):"SPACE-AROUND"===e.toUpperCase()?i.push(u.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===e.toUpperCase()&&i.push(u.justifyContentFlexSpaceBetween));const r=o.alignItems;r&&("FLEX-START"===r.toUpperCase()?i.push(u.alignItemsFlexStart):"CENTER"===r.toUpperCase()?i.push(u.alignItemsFlexCenter):"FLEX-END"===r.toUpperCase()&&i.push(u.alignItemsFlexFlexEnd))}return i.join(" ")}},65600:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ModuleContextProvider:()=>P,MyBricksRenderProvider:()=>M,executor:()=>b.A,hijackReactcreateElement:()=>u.y,observable:()=>u.s,render:()=>S,transformToJSON:()=>A.Aj,useModuleContext:()=>F,useMyBricksRenderContext:()=>I});var i=n(64012),o=n.n(i),r=n(76033),s=n.n(r),a=n(62705),l=n(60416),c=n(9655),d=n(76909),u=n(53063),p=n(37978),f=n(60451),h=n(36090),m=n(36589),g=n(14549),y=n(12818),b=n(3284),v=n(11012),x=n(4736),A=n(40294);function w(e,t){e.use({target:t})}console.log(`%c ${l.UU} %c@${l.rE}`,"color:#FFF;background:#fa6400","","");class E{constructor(e,t){this.options=e,this.performance={render:{start:window.MYBRICKS_PC_FMP_START||(new Date).getTime(),end:null,time:null},callConnectorTimes:[]},this.onCompleteCallBacks=[],this.comDefs={},this.observable=u.s;const{errorHandler:n}=e;this.onError=(e,t)=>{console.error(e),y.A.error(e),t&&(null==n||n(e,t))},this._v=t._v;const{env:i,debug:r,observable:s,onError:a,plugins:l=[],rootId:c}=e,{onCompleteCallBacks:g}=this;i.runtime||(i.runtime={onComplete(e){r&&g.push(e)}}),i.mybricksSdk||(i.mybricksSdk={comRef:e=>e,comDef:e=>e,renderCom:(e,t={})=>{const{props:n={}}=t;return o().createElement(e,Object.assign({},n))}});const b=(0,v.iu)();let x;e.stylization=new C({rootId:c,root:b,options:e,onCompleteCallBacks:g}),this.mode=r?"development":"production";const A=null==e?void 0:e.pxToVw;A?(x=(0,v.BS)(A),e.handlePxToVw=x,i.pxToVw=x):i.pxToVw=e=>e;const E=null==i?void 0:i.pxToRem;if(E){const{enableAdaptive:e=!1,landscapeWidth:t=1440}=E,n=document.documentElement;if(e){const e=()=>{n.style.fontSize=n.clientWidth/(t/12)+"px"};e(),window.addEventListener("resize",e)}else n.style.fontSize="12px"}if(s?this.observable=s:(0,u.y)({pxToRem:i.pxToRem,pxToVw:x}),w(p.A,b),w(f.A,b),w(h.A,b),w(m.A,b),i.i18n||(i.i18n=e=>e),i.renderModule=(t,n)=>{const o=e.rootId,r=n.rootId;let s=o||r;return o&&r&&(s=o+"_"+r),S(t,Object.assign(Object.assign(Object.assign({},e),n),{rootId:s,env:i,_isNestedRender:!0,_context:this}))},i.renderCom){const t=i.renderCom;i.renderCom=(n,i)=>t(n,Object.assign(Object.assign(Object.assign({},e),i),{_isNestedRender:!0,_isNestCom:!0,_context:this}))}else i.renderCom=(t,n)=>S(t,Object.assign(Object.assign(Object.assign({},e),n),{_isNestedRender:!0,_isNestCom:!0,_context:this}));const _=document.body;i.canvas||(i.canvas={get type(){return _.clientWidth<=414?"mobile":"pc"}}),i.canvas.css||(i.canvas.css={set:(e,t)=>{const n=document.getElementById(e);if(n)return void(n.innerText=t);const i=document.createElement("style");i.id=e,i.innerText=t,document.head.appendChild(i)},remove:e=>{}}),"canvasElement"in i||(i.canvasElement=_);window.RENDER_WEB_PERFORMANCE={getPerformance:this.getPerformance.bind(this)},this.initOther(),this.initComdefs();[new d.A].concat(l).forEach((e=>{e.apply(this)}))}initOther(){const{env:e}=this.options;e.silent&&(localStorage.getItem("MYBRICKS_LOG")||(0,g.qr)()),y.A.init(e.showErrorNotification),this.logger={info:console.info,trace:console.trace,warn:console.warn,error:e=>{console.error(e),y.A.error(e)}}}initComdefs(){const e=(t,n)=>{t.forEach((t=>{t.comAray?e(t.comAray,n):n[`${t.namespace}-${t.version}`]=t}))},{comDefs:t}=this.options,{comDefs:n}=this;t&&Object.assign(n,t);let i=[...window.__comlibs_edit_||[],...window.__comlibs_rt_||[]];i.push(x.A),i.forEach((t=>{const i=t.comAray;i&&Array.isArray(i)&&e(i,n)}))}getComDef(e){const{comDefs:t}=this,n=t[e.namespace+"-"+e.version]||t[e.namespace];if(!n){const n=[];for(let i in t)i.startsWith(e.namespace+"-")&&n.push(t[i]);if(n&&n.length>0){n.sort(((e,t)=>(0,v.Gm)(e.version,t.version)));const t=n[0];return console.warn(`【Mybricks】组件${e.namespace+"@"+e.version}未找到，使用${t.namespace}@${t.version}代替.`),t}return console.error(`组件${e.namespace+"@"+e.version}未找到，请确定是否存在该组件以及对应的版本号.`),null}return n}getPerformance(){return this.performance}setPerformanceRender(e,t){const n=this.performance.render;n[e]=t,"end"===e&&(n.time=t-n.start)}setPerformanceCallConnectorTimes(e){this.performance.callConnectorTimes.push(e)}}class C{constructor({rootId:e,root:t,options:n,onCompleteCallBacks:i}){this._defaultStyleMap={},this._cssMap={},this.root=t,this.rootId=e,this.options=n;const{_cssMap:o}=this;i.push((()=>{Object.entries(o).forEach((([e,n])=>{t.removeChild(n.tag)}))}))}hasDefaultStyle(e){return this._defaultStyleMap[e]}setDefaultStyle(e){this._defaultStyleMap[e]=!0}setStyle(e,t,n=!1){let i=[];Array.isArray(t)?i=t:Object.entries(t).forEach((([e,t])=>{i.push({selector:e,css:t})}));const o=e.split("-"),r=o[o.length-1];if(i.length){const{root:t,options:o}=this,{env:s,handlePxToVw:a,debug:l}=o,{pxToRem:c}=s,d=l?"#_geoview-wrapper_ ":"",u={};i.forEach((({css:t,selector:n,global:i})=>{":root"===n&&(n="> *:first-child"),(Array.isArray(n)?n:[n]).forEach((n=>{const o=`${d}${i?"":`#${r}[data-nested-id="${e}"] `}${n.replace(/\{id\}/g,`${r}`)}`,s={};Object.entries(t).forEach((([e,t])=>{c&&"string"==typeof t&&-1!==t.indexOf("px")?t=(0,v.a8)(t):a&&"string"==typeof t&&-1!==t.indexOf("px")&&(t=a(t)),s[(0,v.RD)(e)]=t})),u[o]?u[o]=Object.assign(u[o],s):u[o]=s}))}));const p=this._cssMap[e];if(p){const{tag:e,css:t}=p;Object.entries(u).forEach((([e,i])=>{if(t[e]){const o=t[e];Object.entries(i).forEach((([e,t])=>{n&&o[e]||(o[e]=t)}))}else t[e]=i}));let i="";Object.entries(t).forEach((([e,t])=>{i+=`${e} {${Object.entries(t).map((([e,t])=>`${e}: ${t};`)).join("")}}`})),e.innerHTML=i}else{const n=document.createElement("style");this._cssMap[e]={tag:n,css:u},t.appendChild(n);let i="";Object.entries(u).forEach((([e,t])=>{i+=`${e} {${Object.entries(t).map((([e,t])=>`${e}: ${t};`)).join("")}}`})),n.innerHTML=i}}}}const _=(0,i.createContext)({});function M({children:e,value:t}){return(0,i.useEffect)((()=>()=>{t.onCompleteCallBacks.forEach((e=>{e()}))}),[]),o().createElement(_.Provider,{value:t},e)}function I(){return(0,i.useContext)(_)}const k=(0,i.createContext)({});function P({children:e,value:t}){return o().createElement(k.Provider,{value:t},e)}function F(){return(0,i.useContext)(k)}function S(e,t){var n;let i=e;if(t.sceneOpenType||(t.sceneOpenType="redirect"),t.env.edit||null===(n=t.env.runtime)||void 0===n||n.debug,i){let e,n=null;if("scenes"in i?n=o().createElement(c.A,{json:i,options:t}):i.slot&&(t.env.edit&&i.type,n=o().createElement(a.A,{json:i,options:t,root:"module"!==i.type})),!n){const e=t._isNestedRender?t._context:new E(t,i);return(0,b.A)({json:i,getComDef:t=>e.getComDef(t),events:t.events,env:t.env,ref(e){if("function"==typeof t.ref)t.ref(e);else{const{inputs:n}=e,o=i.inputs;n&&Array.isArray(o)&&o.forEach((e=>{const{id:i,mockData:o,type:r,extValues:s}=e;let a;if(t.debug)if("config"===r&&(null==s?void 0:s.config)&&"defaultValue"in s.config)try{a=JSON.parse(decodeURIComponent(s.config.defaultValue))}catch(e){a=s.config.defaultValue}else try{a=JSON.parse(decodeURIComponent(o))}catch(e){a=o}n[i](a)})),e.run()}},onError:e.onError,debug:t.debug,debugLogger:t.debugLogger,logger:e.logger,scenesOperate:t.scenesOperate,_isNestedRender:t._isNestedRender,_isNestCom:t._isNestCom,_context:e},{observable:e.observable}),null}if(t._isNestCom){const e=(0,v.A4)(t.env);let r;const s=i.modules;s&&(r=new T(s)),n=o().createElement(P,{value:{env:e,modules:r}},n)}if(t._isNestedRender)return n;const r=i.modules;return r&&(e=new T(r)),"scenes"in i||"module"!==i.type||(t.env.edit=null),o().createElement(M,{value:new E(t,i)},o().createElement(P,{value:{env:t.env,modules:e}},n))}return null}class T{constructor(e){this._jsons=e,this._isReact18=!!s().createRoot,this._renderMap={}}get(e){const{_renderMap:t,_jsons:n,_isReact18:r}=this;return{render(){const a=I(),l=F(),c=(0,i.useRef)();return(0,i.useLayoutEffect)((()=>{const i=t[e];if(i)c.current.appendChild(i);else{const i=document.createElement("div");i.style.width="100%",i.style.height="100%";const d=n[e].json,u=o().createElement(M,{value:a},o().createElement(P,{value:l},l.env.renderModule(d,{})));if(r){s().createRoot(i).render(u)}else s().render(u,i);t[e]=i,c.current.appendChild(i)}}),[]),o().createElement("div",{ref:c,style:{height:"100%",width:"100%"}})}}}}},76909:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(64012),o=n.n(i),r=n(76033),s=n.n(r),a=n(11012),l=n(89034);const c=l.A.locals,d=o().createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10635",width:"12",height:"12"},o().createElement("path",{d:"M219.428571 73.142857v877.714286H73.142857V73.142857zM365.714286 73.142857l585.142857 438.857143-577.828572 438.857143L365.714286 599.771429","p-id":"10636",fill:"#707070"}));function u({resume:e}){return o().createElement("div",{className:c.debugger},o().createElement("div",{className:c.titlebar},o().createElement("div",null,"已在交互视图中暂停"),o().createElement("div",{className:c.resume,onClick:e},d)))}class p{constructor(){}apply(e){const{options:t,mode:n}=e,{env:i,debug:o,onError:r}=t;if("development"===n&&"function"==typeof o){const n=new f(i),{log:s,onResume:c}=o({resume:()=>{n.next()},ignoreAll:e=>{n.setIgnoreWait(e),e&&n.next(!0)}});n.setResume(c),e.debuggerPanel=n,t.debugLogger=s,e.onError=r,l.A.use({target:(0,a.iu)()})}}}class f{constructor(e){this.env=e,this.isReact18=!!s().createRoot,this.resume=()=>{},this._pending=!1,this._ignoreWait=!1,this._waitCount=0,this._waitBreakpointIds=[],this._waitIdToResolvesMap={}}setResume(e){this.resume=e}open(){if(this.dom)this.dom.style.visibility="visible";else{const e=document.createElement("div"),t=this.env.canvasElement;if(this.canvas=t,this.dom=e,e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.zIndex="100000",e.style.visibility="visible",t.appendChild(e),this.isReact18){const t=s().createRoot(e);t.render(o().createElement(u,{resume:this.resume})),this.root=t}else s().render(o().createElement(u,{resume:this.resume}),e)}}close(){this.dom&&(this.dom.style.visibility="hidden")}destroy(){this.dom&&requestAnimationFrame((()=>{this.isReact18?this.root.unmount():s().unmountComponentAtNode(this.dom),this.root=null,this.canvas.removeChild(this.dom),this.canvas=null,this.dom=null}))}hasBreakpoint(e){return!this._ignoreWait&&(this._pending||e.isBreakpoint)}wait(e,t){return new Promise((n=>{if(this._ignoreWait)n();else{const i=this._waitBreakpointIds.length>0;if(i||t(),this.open(),this._pending=!0,e.isBreakpoint){if(i){const e=this._waitBreakpointIds[0];this._waitIdToResolvesMap[e].push(t)}const o=this._waitCount+++e.id;this._waitBreakpointIds.unshift(o),this._waitIdToResolvesMap[o]=[n]}else{const e=this._waitBreakpointIds[0];this._waitIdToResolvesMap[e].push(n)}}}))}next(e=!1){if(e)for(;this._waitBreakpointIds.length;)this.next();else{const e=this._waitBreakpointIds.pop(),t=this._waitIdToResolvesMap[e];t&&t.forEach((e=>e())),this._waitBreakpointIds.length||(this._pending=!1,this.close())}}setIgnoreWait(e){this._ignoreWait=e}}},40294:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>i.Aj});var i=n(34675);n(6903)},25007:(e,t,n)=>{"use strict";n.d(t,{Up:()=>o,b4:()=>i});function i(e){return t=>Reflect.deleteProperty(e,t)}function o(e){let t=Math.min(...e);for(;t>1;){let n=!0;for(let i=0;i<e.length;i++)if(e[i]%t!=0){n=!1;break}if(n)break;t--}return t}},6903:(e,t,n)=>{"use strict"},33838:(e,t,n)=>{"use strict";function i(e,t){const n=e.length;let i,o,r;if(n&&1!==n){e.sort(((e,t)=>e.style.left-t.style.left));const n=e[0],s=e[1];i=n,o=n.style.left-(t.style.left+t.style.width),r=n.style.left+n.style.width>s.style.left}else{const n=e[0];n&&(i=n,o=n.style.left-(t.style.left+t.style.width)),r=!1}return i?{element:i,space:o,intersect:r,direction:"right"}:null}function o(e,t){const n=e.length;let i,o,r;if(n&&1!==n){e.sort(((e,t)=>e.style.top-t.style.top));const n=e[0],s=e[1];i=n,o=n.style.top-(t.style.top+t.style.height),r=n.style.top+n.style.height>s.style.top}else{const n=e[0];n&&(i=n,o=n.style.top-(t.style.top+t.style.height)),r=!1}return i?{element:i,space:o,intersect:r,direction:"bottom"}:null}function r(e,t){const n=e.length;let i,o,r;if(n&&1!==n){e.sort(((e,t)=>t.style.top+t.style.height-(e.style.top+e.style.height)));const n=e[0],s=e[1];i=n,o=t.style.top-(n.style.top+n.style.height),r=s.style.top+s.style.height>n.style.top}else{const n=e[0];n&&(i=n,o=t.style.top-(n.style.top+n.style.height)),r=!1}return i?{element:i,space:o,intersect:r,direction:"top"}:null}function s(e,t){const n=e.length;let i,o,r;if(n&&1!==n){e.sort(((e,t)=>t.style.left+t.style.width-(e.style.left+e.style.width)));const n=e[0],s=e[1];i=n,o=t.style.left-(n.style.left+n.style.width),r=s.style.left+s.style.width>n.style.left}else{const n=e[0];n&&(i=n,o=t.style.left-(n.style.left+n.style.width)),r=!1}return i?{element:i,space:o,intersect:r,direction:"left"}:null}n.d(t,{Sy:()=>r,XB:()=>i,_Z:()=>o,qw:()=>s})},54129:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,n_:()=>d});var i=n(12232),o=n(25007),r=n(65224),s=n(41944),a=n(63047),l=n(90189);function c(e,t){const n=[],i=(0,s.x3)(e.filter((e=>!["fixed","absolute"].includes(e.style.position)||(n.push(e),!1))));let l=(0,a.r)((0,r.q)(i),t.style),c=d(l,t);if(c.length>1&&c.find((e=>e.style.heightFact))){const e=[],n={};let i=0;if(c.forEach((t=>{const{id:o,style:r}=t;r.heightFact&&(e.push(r.heightFact),i+=r.heightFact,n[e.length-1]=o,Reflect.deleteProperty(r,"marginBottom"))})),e.length){const t=(0,o.Up)(e);e.forEach(((e,i)=>{c.find((e=>e.id===n[i])).style.flex=e/t}))}const r=l[0],s=l[l.length-1];Reflect.deleteProperty(c[0].style,"marginTop"),c=[{id:c[0].id,elements:c,style:{height:"100%",display:"flex",flexDirection:"column",marginTop:r.style.top,marginBottom:t.style.height-(s.style.top+s.style.height)}}]}return c.concat(n)}function d(e,t){const n=[],{flexDirection:r,top:s,bottom:a,left:c,right:u,width:p,height:f,isNotAutoGroup:h}=t.style;if("column"===r){const{startOnBottom:r,startOnTop:s}=t;let a,c,d;r?(c=h?0:e[e.length-1].style.bottom,a="bottom",d="marginBottom"):(c=h?0:e[0].style.top,a="top",d="marginTop");const u=[],m={};let g=0;if(e.sort(((e,t)=>e.style[a]-t.style[a])).forEach((e=>{const{id:o,style:s}=e;let y={};if(e.elements)if("row"===e.style.flexDirection){const{style:n,elements:i}=(0,l.A)(e,t);e.elements=i,y=n}else e.style.flexDirection;const b=s[a]-c;let v;const x=s.left,A=p-x-s.width;if(s.heightFull&&(u.push(s.height),g+=s.height,m[u.length-1]=o),s.widthFull)if(s.flexDirection){const t=Object.assign(Object.assign({marginRight:A},y),{[d]:b});if(s.heightFull){const e=f-b-s.height;t.height="100%",t.heightFact=s.height,t.marginBottom=e}v=Object.assign(Object.assign({},e),{id:o,style:t})}else{const t={width:"auto",height:s.height,[d]:b,marginRight:A,marginLeft:x};if(s.heightFull&&(t.height="100%",t.heightFact=s.height,h)){const e=f-b-s.height;t.marginBottom=e}v=Object.assign(Object.assign({},e),{id:o,style:t})}else if("number"!=typeof s.right&&(Math.abs(x-A)<=1||s.xCenter)&&h&&!s.flexDirection)if(s.flexDirection)console.log("【@mybricks/render-utils: 智能布局计算】: 只有单组件、非自动成组的才参与居中计算，不应该走到这段逻辑，观察一段时间，后续删除"),v=Object.assign(Object.assign({},e),{id:o,style:{[d]:b,display:"flex",justifyContent:"center",flexDirection:s.flexDirection}});else{const t={width:s.width,height:s.height},n={[d]:b,display:"flex",width:"100%",justifyContent:"center"};if(s.heightFull){const e=f-b-s.height;t.height="100%",n.marginBottom=e,n.height="100%",n.heightFact=s.height}v={id:o,elements:[Object.assign(Object.assign({},e),{id:o,style:t})],style:n}}else if(s.flexDirection){const t=Object.assign(Object.assign({},y),{[d]:b});if(s.heightFull){const e=f-b-s.height;t.marginBottom=e,t.height="100%",t.heightFact=s.height}v=Object.assign(Object.assign({},e),{id:o,style:t})}else if((0,i.E)(s.right)){const t={width:s.width,height:s.height},n={display:"flex",justifyContent:"flex-end",[d]:b,marginRight:s.right};if(s.heightFull){const e=f-b-s.height;t.height="100%",n.marginBottom=e,n.height="100%",n.heightFact=s.height}v={id:o,style:n,elements:[Object.assign(Object.assign({},e),{id:o,style:t})]}}else{const t={width:s.width,height:s.height,[d]:b,marginLeft:x};if(s.heightFull&&(t.height="100%",t.heightFact=s.height,h)){const e=f-b-s.height;t.marginBottom=e}v=Object.assign(Object.assign({},e),{id:o,style:t})}r?n.unshift(v):n.push(v),c=c+b+s.height})),u.length){const e=(0,o.Up)(u);u.forEach(((t,i)=>{n.find((e=>e.id===m[i])).style.flex=t/e}))}}else{const{startOnRight:i,startOnLeft:r}=t;let s,a,l;i?(a=h?0:e[e.length-1].style.right,s="right",l="marginRight"):(a=h?0:e[0].style.left,s="left",l="marginLeft");const c=[],u={};let p=0;if(e.sort(((e,t)=>e.style[s]-t.style[s])).forEach(((e,t)=>{const{id:o,style:r}=e;e.elements&&(e.elements=d(e.elements,{style:r})),r.widthFull&&(c.push(r.width),p+=r.width,u[c.length-1]=o);const h=r[s]-a;let m;const g=r.top;if(r.widthFull)if(r.flexDirection)m=Object.assign(Object.assign({},e),{id:o,style:{display:"flex",flexDirection:r.flexDirection,marginTop:g,[l]:h}});else{const t={height:r.height,marginTop:g,[l]:h};if(r.heightFull){const e=f-g-r.height;t.height="100%",t.heightFact=r.height,t.marginBottom=e}m=Object.assign(Object.assign({},e),{id:o,style:t})}else if(r.flexDirection)m=Object.assign(Object.assign({},e),{id:o,style:{marginTop:g,display:"flex",flexDirection:r.flexDirection,[l]:h}});else{const t={width:r.width,height:r.height,marginTop:g,[l]:h};if(r.heightFull){t.height="100%";const e=f-g-r.height;t.marginBottom=e}m=Object.assign(Object.assign({},e),{id:e.id,style:t})}i?n.unshift(m):n.push(m),a=a+h+r.width})),c.length){const e=(0,o.Up)(c);c.forEach(((t,i)=>{const o=n.find((e=>e.id===u[i])).style;o.flex=t/e,o.overflow="hidden",o.minWidth="0px"}))}}return n}},90189:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(12232),o=n(25007),r=n(54129);function s(e,t){const{elements:n,style:s}=e,a=n.sort(((e,t)=>e.style.left-t.style.left)).findIndex((e=>(0,i.E)(e.style.right))),l=n.findIndex((e=>e.style.xCenter)),{style:c}=t;if(-1!==l){const{parentStyle:e}=s,t=n.slice(0,l),i=n[l],o=n.slice(l+1),a={display:"flex",flexDirection:"row",justifyContent:"space-between"},c={display:"flex",flexDirection:"row",flexWrap:"wrap",flex:1},d={display:"flex",flexDirection:"row",flexWrap:"wrap",paddingLeft:s.left},u={display:"flex",flexDirection:"row",flexWrap:"wrap",flex:1,justifyContent:"flex-end"},p={display:"flex",flexDirection:"row",flexWrap:"wrap",paddingRight:e?e.width-s.width-s.left:s.right},f=[];return t.length?f.push({id:t[0].id,style:c,elements:[{id:t[0].id,style:d,elements:(0,r.n_)(t,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnLeft:!0})}]}):f.push({id:"left",style:{flex:1},elements:[]}),f.push(i),o.length?f.push({id:o[0].id,style:u,elements:[{id:o[0].id,style:p,elements:(0,r.n_)(o,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnRight:!0})}]}):f.push({id:"right",style:{flex:1},elements:[]}),{style:a,elements:f}}if(-1!==a){const e=n.slice(0,a),t=n.slice(a);c.width,c.left;if(e.length){let n=!1,i=0,a={display:"flex",flexDirection:"row",flexWrap:"wrap"};e.forEach(((t,o)=>{const r=t.style;r.widthFull&&(n=!0),o===e.length-1&&(i=r.left+r.width)}));let l=!1,c=0,d={display:"flex",flexDirection:"row",flexWrap:"wrap"};if(t.forEach(((e,n)=>{const i=e.style;i.widthFull&&(l=!0),n===t.length-1&&(c=i.left+i.width-t[0].style.left)})),n&&!l)a.flex=1;else if(!n&&l)d.flex=1;else if(n&&l){const e=(0,o.Up)([i,c]);a.flex=i/e,d.flex=c/e}const u={display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginLeft:s.left,marginRight:s.right};return(n||l)&&(u.columnGap=t[0].style.left-i),{style:u,elements:[{id:e[0].id,style:a,elements:(0,r.n_)(e,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnLeft:!0})},{id:t[0].id,style:d,elements:(0,r.n_)(t,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnRight:!0})}]}}return{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginRight:s.right},elements:(0,r.n_)(t,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnRight:!0})}}return{style:{display:"flex",flexDirection:"row",marginLeft:s.left},elements:(0,r.n_)(n,{style:Object.assign(Object.assign({},s),{left:0,right:0}),startOnLeft:!0})}}},90437:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(54129);function o(e,t){return(0,i.Ay)(e,{style:Object.assign(Object.assign({},t.style),{top:0,left:0,right:0,bottom:0,flexDirection:"column"}),root:t.root})}},63047:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(65224),o=n(41944),r=n(12232);function s(e,t){const n=(0,o.nj)(e),r={};let c=[];if(e.forEach((e=>{const t=e.id,i=n[t],{min:o,single:s}=i;if(!o)return c.push(e),void(r[t]={idx1:c.length-1,idx2:null});if(s)c.push(e),r[t]={idx1:c.length-1,idx2:null};else if(!r[t]&&!r[o.element.id]&&!n[o.element.id].single&&t===n[o.element.id].min.element.id){c.push([e,o.element]);const n=c.length-1;r[t]={idx1:n,idx2:0},r[o.element.id]={idx1:n,idx2:1}}})),c=c.filter((e=>e)),e.forEach((e=>{r[e.id]||c.push(e)})),e.length!==c.length)return s((0,i.q)(l(c,t)),t);return a(l((0,i.q)(c),t),t)}function a(e,t){if(1===e.length&&!e[0].elements)return e;let n,i;if("column"===t.flexDirection?e.sort(((e,t)=>e.style.top-t.style.top)):e.sort(((e,t)=>e.style.left-t.style.left)),e.forEach(((e,o)=>{const{style:s,elements:l}=e;l&&(a(l,s),l.forEach((e=>{e.style.widthFull&&(s.widthFull=!0),e.style.heightFull&&(s.heightFull=!0),(0,r.E)(e.style.right)&&(s.right=0),(0,r.E)(e.style.bottom)&&(s.bottom=0)}))),s.left=s.left-t.left,s.top=s.top-t.top,s.xCenter&&!(0,r.E)(i)&&(i=o),(0,r.E)(s.right)&&!(0,r.E)(n)&&(n=o)})),(0,r.E)(n)||(0,r.E)(i)){"column"===t.flexDirection&&!t.isNotAutoGroup?e.slice(n).forEach((e=>{Reflect.deleteProperty(e.style,"right")})):"column"===t.flexDirection?e.forEach((e=>{"number"==typeof e.style.right&&(e.style.right=t.width-e.style.width-e.style.left)})):e.slice((0,r.E)(i)?i+1:n).forEach((e=>{e.style.right=t.width-e.style.width-e.style.left}))}return e}function l(e,t){const n=[];return e.forEach((e=>{if(Array.isArray(e)){const[i,o]=e,r=Math.min(i.style.left,o.style.left),s=Math.min(i.style.top,o.style.top),a=Math.max(i.style.left+i.style.width-r,o.style.left+o.style.width-r),l=Math.max(i.style.top+i.style.height-s,o.style.top+o.style.height-s),c=l>=i.style.height+o.style.height?"column":"row",d=i.style.flexDirection,u=o.style.flexDirection,p=i.style.isIntersect,f=o.style.isIntersect;let h=e;(d||u)&&(d===c?h=d===u?[...p?[i]:i.elements,...o.elements&&!f?o.elements:[o]]:[...p?[i]:i.elements,o]:u===c&&(h=u===d?[...i.elements&&!p?i.elements:[i],...f?[o]:o.elements]:[i,...f?[o]:o.elements]));const m={top:s,left:r,width:a,height:l,flexDirection:c,isNotAutoGroup:!1,parentStyle:t};n.push({id:i.id,style:m,elements:h})}else n.push(e)})),n}},41944:(e,t,n)=>{"use strict";n.d(t,{nj:()=>c,x3:()=>s});var i=n(12232),o=n(54129),r=n(33838);function s(e){const t={},n={},r={},s={};let l=[];for(let n=0;n<e.length;n++){const i=e[n],o=i.style;t[i.id]||(t[i.id]=Object.assign(Object.assign({},i),{brother:[],children:[]}));for(let l=n+1;l<e.length;l++){const c=e[l],d=c.style;if(t[c.id]||(t[c.id]=Object.assign(Object.assign({},c),{brother:[],children:[]})),d.left>=o.left+o.width&&d.top>=o.top+o.height)break;const u=a(o,d);u&&("include-left"===u?(s[c.id]=i.id,t[i.id].children.push(t[c.id]),r[c.id]={index:l}):"include-right"===u&&(s[i.id]=c.id,t[c.id].children.push(t[i.id]),r[i.id]={index:n}))}l.push(t[i.id])}Object.entries({}).forEach((([e,t])=>{l[t.index]=null})),Object.entries(r).forEach((([e,t])=>{l[t.index]=null}));function c(e){const{id:t,style:i}=e;e.brother=e.brother.filter((({id:e,style:o,brother:r})=>{let s=n[e]===t;return s&&(c({id:e,style:o,brother:r}),o.position="absolute",o.top=o.top-i.top,o.left=o.left-i.left),s}))}return l.filter((e=>(e&&(c(e),function(e){const{style:t,children:n}=e;if(n.length){let r,s,a=!1,l=!1;n.forEach((e=>{const{style:n}=e;n.top=n.top-t.top,n.left=n.left-t.left,n.widthFull&&(a=!0),n.heightFull&&(l=!0),("number"!=typeof r||r>n.top)&&(r=n.top),("number"!=typeof s||s>n.left)&&(s=n.left)})),e.children=(0,o.Ay)(n.map((e=>Object.assign(Object.assign({},e),{style:Object.assign(Object.assign({},e.style),{top:e.style.top-r,left:e.style.left-s,right:(0,i.E)(e.style.right)?t.left+t.width-(e.style.left+e.style.width):null})}))),{style:{width:t.width,height:t.height,isNotAutoGroup:!0,top:0,left:0,right:0,bottom:0,flexDirection:"column"}});const c={position:"absolute",top:0,left:0};a?c.width="100%":c.left=s,l?c.height="100%":c.top=r,e.child={id:e.children[0].id,style:c,elements:e.children},Reflect.deleteProperty(e,"children")}}(e)),e)))}function a({width:e,height:t,top:n,left:i},{width:o,height:r,top:s,left:a}){const l=i+e,c=n+t,d=a+o,u=s+r;return!(l<=a||i>=d||c<=s||n>=u)&&(a>=i&&s>=n&&l>=d&&c>=u?"include-left":a<=i&&s<=n&&l<=d&&c<=u?"include-right":"intersect")}const l={top:"bottom",bottom:"top",left:"right",right:"left"};function c(e){const t={},n={},i={},o=e.length;return e.forEach((t=>{i[t.id]=t;let r=n[t.id];r||(r=n[t.id]={topElements:[],leftElements:[],rightElements:[],bottomElements:[]});for(let n=0;n<o;n++){const i=e[n];t.id!==i.id&&(i.style.left+i.style.width<=t.style.left&&i.style.top+i.style.height<=t.style.top||i.style.top+i.style.height<=t.style.top&&t.style.left+t.style.width<=i.style.left||i.style.top>=t.style.top+t.style.height&&i.style.left+i.style.width<=t.style.left||i.style.left>=t.style.left+t.style.width&&i.style.top>=t.style.top+t.style.height||(i.style.top>=t.style.top+t.style.height?r.bottomElements.push(i):i.style.top+i.style.height<=t.style.top?r.topElements.push(i):i.style.left>=t.style.left+t.style.width?r.rightElements.push(i):i.style.left+i.style.width<=t.style.left&&r.leftElements.push(i)))}})),Object.entries(n).forEach((([e,n])=>{const o=i[e],s=(0,r.Sy)(n.topElements,o),a=(0,r.XB)(n.rightElements,o),l=(0,r._Z)(n.bottomElements,o),c=(0,r.qw)(n.leftElements,o);t[e]={top:s,left:c,right:a,bottom:l,single:!c&&!a,spaceSort:[]}})),Object.entries(t).forEach((([e,n])=>{if(n.bottom){const i=t[n.bottom.element.id];i.top&&i.top.element.id===e||(n.bottom=null)}if(n.top){const i=t[n.top.element.id];i.bottom&&i.bottom.element.id===e||(n.top=null)}if(n.left){const i=t[n.left.element.id];i.right&&i.right.element.id===e||(n.left=null)}if(n.right){const i=t[n.right.element.id];i.left&&i.left.element.id===e||(n.right=null)}const i=[n.right,n.bottom,n.left,n.top].reduce(((e,n)=>{let i,o;const r=t[null==e?void 0:e.element.id];if(r&&!e.intersect&&!r.single){r[l[e.direction]].intersect||(i=e)}const s=t[null==n?void 0:n.element.id];if(s&&!n.intersect&&!s.single){s[l[n.direction]].intersect||(o=n)}return i||o?i&&o?i.space>o.space?o:i:i||o:void 0}));n.min=i})),t}},65224:(e,t,n)=>{"use strict";function i(e){return e.sort(((e,t)=>{const n=e.style,i=t.style;return n.top===i.top?n.left-i.left:n.top-i.top}))}n.d(t,{q:()=>i})},34675:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>a});var i=n(90437),o=n(12232),r=n(25007),s=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function a(e){const{global:t,modules:n,scenes:i}=e;if(!i)return e.slot?function(e){return l(e.slot,e.coms),e}(e):e;if(t){const{comsReg:e,consReg:o,pinRels:r,fxFrames:s,pinProxies:a}=t;e&&Object.keys(e).forEach((t=>{"mybricks.core-comlib.var"===e[t].def.namespace&&(e[t].global=!0)})),Array.isArray(s)&&s.forEach((t=>{e&&t.coms&&Object.assign(t.coms,e),o&&t.cons&&Object.assign(t.cons,o),r&&t.pinRels&&Object.assign(t.pinRels,r),a&&t.pinProxies&&Object.assign(t.pinProxies,a)})),n&&Object.entries(n).forEach((([t,n])=>{const{json:i}=n;e&&i.coms&&Object.assign(i.coms,e),o&&i.cons&&Object.assign(i.cons,o),r&&i.pinRels&&Object.assign(i.pinRels,r),a&&i.pinProxies&&Object.assign(i.pinProxies,a)})),i.forEach((t=>{l(t.slot,t.coms),e&&t.coms&&Object.assign(t.coms,e),o&&t.cons&&Object.assign(t.cons,o),r&&t.pinRels&&Object.assign(t.pinRels,r),a&&t.pinProxies&&Object.assign(t.pinProxies,a)}))}return e}function l(e,t,n=!0,s){const a={},u={};e.comAry=e.comAry.filter((({id:e})=>{if(u[e])return!1;u[e]=!0;const n=t[e];return n&&!n.isTemp}));const p=e.comAry;if("smart"===e.style.layout){p.forEach((e=>{const{slots:n}=e;n&&Object.entries(n).forEach((([n,i])=>{l(i,t,!1,e)}))}));const d=parseFloat(e.style.paddingTop),u=parseFloat(e.style.paddingLeft),f=parseFloat(e.style.paddingRight),h=parseFloat(e.style.paddingBottom),m=!(d||u||h||d);let g=e.style.width||e.style.widthFact,y=e.style.height||e.style.heightFact;if(n&&!e.type&&(Reflect.deleteProperty(e.style,"width"),Reflect.deleteProperty(e.style,"height")),m){let n,i,o,r;if(p.forEach((({id:e})=>{const s=t[e].model.style;if(!["fixed"].includes(s.position)){const a=t[e].style;"number"==typeof s.bottom&&(s.top=y-a.height-s.bottom),"number"==typeof s.right&&(s.left=g-a.width-s.right),(s.top<i||void 0===i)&&(i=s.top),(s.left<n||void 0===n)&&(n=s.left),(s.left+a.width>o||void 0===o)&&(o=s.left+a.width),(s.top+a.height>r||void 0===r)&&(r=s.top+a.height)}})),"number"!=typeof i)if(s){const n=t[s.id].model.style;n.heightAuto&&(e.style.paddingBottom=`${y}px`),n.widthAuto&&(e.style.paddingRight=`${g}px`)}else e.style.heightAuto&&(e.style.paddingBottom=`${y}px`),e.style.widthAuto&&(e.style.paddingRight=`${g}px`);else if(s){const a=t[s.id].model.style;if(a.heightAuto){e.style.paddingTop=`${i}px`;const t=y-r;e.style.paddingBottom=`${t}px`}if(a.widthAuto){e.style.paddingLeft=`${n}px`;const t=g-o;e.style.paddingRight=`${t}px`}const l=y-r,c=g-o;a.heightAuto&&(y=y-l-i),a.widthAuto&&(g=g-n-c),p.forEach((({id:e})=>{const o=t[e].model.style;if(!["fixed"].includes(o.position)){const r=t[e].style;a.heightAuto&&("number"==typeof o.bottom?(o.bottom=o.bottom-l,o.top=y-r.height-o.bottom):o.top=o.top-i),a.widthAuto&&("number"==typeof o.right?(o.right=o.right-c,o.left=g-r.width-o.right):o.left=o.left-n)}}))}else{if(e.style.heightAuto||!e.type){e.style.paddingTop=`${i}px`;const t=y-r;e.style.paddingBottom=`${t}px`}if(e.style.widthAuto){e.style.paddingLeft=`${n}px`;const t=g-o;e.style.paddingRight=`${t}px`}const s=y-r,a=g-o;!e.style.heightAuto&&e.type||(y=y-s-i),e.style.widthAuto&&(g=g-n-a),p.forEach((({id:o})=>{const r=t[o].model.style;if(!["fixed"].includes(r.position)){const l=t[o].style;!e.style.heightAuto&&e.type||("number"==typeof r.bottom?(r.bottom=r.bottom-s,r.top=y-l.height-r.bottom):r.top=r.top-i),e.style.widthAuto&&("number"==typeof r.right?(r.right=r.right-a,r.left=g-l.width-r.right):r.left=r.left-n)}}))}}else(0,o.E)(d)&&(y-=d),(0,o.E)(u)&&(g-=u),(0,o.E)(f)&&(g-=f),(0,o.E)(h)&&(y-=h);const b=(0,i.A)(p.map(((e,n)=>{const i=e.id,o=t[i],r=o.model.style,s=o.style;return a[i]=e,r.zIndex=n+1,"absolute"===r.position&&Reflect.deleteProperty(r,"position"),{id:i,style:{width:s.width,height:s.height,top:"number"==typeof r.bottom?y-s.height-r.bottom:r.top||0,left:"number"==typeof r.right?g-s.width-r.right:r.left||0,position:r.position,right:r.right,bottom:r.bottom,widthFull:r.widthFull,widthAuto:r.widthAuto,heightFull:r.heightFull,heightAuto:r.heightAuto,xCenter:r.xCenter}}})),{style:{width:g,height:y,isNotAutoGroup:!0},root:n});if(s){const n=t[s.id],{style:i}=n.model,o=(0,r.b4)(e.style);(i.heightAuto||i.heightFull)&&(i.heightAuto,o("height")),(i.widthAuto||i.widthFull)&&(i.widthAuto,o("width"))}e.comAry={length:e.comAry.length},e.layoutTemplate=c(b,t,a)}else{Reflect.deleteProperty(e,"layoutTemplate");const n="absolute"===e.style.layout;s&&(Reflect.deleteProperty(e.style,"width"),Reflect.deleteProperty(e.style,"height"));const i="flex-column"===e.style.layout,o=[],a={};let c=0;if(p.forEach((r=>{const{slots:s}=r,u=t[r.id];if(n){u.model.style.position="absolute";const{style:{paddingTop:t,paddingLeft:n}}=e;try{const e=parseFloat(t);e&&(u.model.style.top=u.model.style.top+e)}catch(e){}try{const e=parseFloat(n);e&&(u.model.style.left=u.model.style.left+e)}catch(e){}}s&&Object.entries(s).forEach((([e,n])=>{l(n,t,!1,r)}));const p=u.model.style,f=u.style;p.heightAuto?n?(Reflect.deleteProperty(p,"height"),p.minHeight="fit-content",p.maxHeight="fit-content"):p.height="fit-content":p.heightFull?(p.height="100%",n||i&&(o.push(f.height),c+=f.height,a[o.length-1]=r.id)):"height"in p&&(p.height=u.style.height),p.widthAuto?p.width="fit-content":p.widthFull?(p.width="100%",n||i||(o.push(f.width),c+=f.width,a[o.length-1]=r.id)):"width"in p&&(p.width=u.style.width),u.asRoot&&(p.height="100%",p.width="100%"),u.model.style=d(p),Reflect.deleteProperty(u,"style")})),o.length){const e=(0,r.Up)(o);o.forEach(((n,i)=>{t[a[i]].model.style.flex=n/e}))}}e.style=function(e){const t=(0,r.b4)(e);switch(e.layout){case"flex-row":case"flex-column":break;default:t("alignItems"),t("justifyContent")}return t("widthFact"),t("heightFact"),t("zoom"),t("top"),t("left"),t("marginLeft"),t("marginTop"),t("marginRight"),t("marginBottom"),e}(e.style)}function c(e,t,n){const i=[];return e.forEach((e=>{const{id:r,style:a,elements:l}=e;if(Array.isArray(l)){(0,o.E)(a.height)&&Reflect.deleteProperty(a,"height"),Reflect.deleteProperty(a,"heightFact");const r=c(l,t,n);["space-between","center","flex-end"].includes(a.justifyContent)||r.filter((e=>{const{id:n,def:i,style:o}=e;if(i){return"fit-content"===t[n].model.style.width}return"fit-content"===o.width})).length!==r.length||(a.width="fit-content"),u(a,!1),i.push(Object.assign(Object.assign({},e),{elements:r}))}else{const l=t[r].model.style;l.width=t[r].style.width,"height"in t[r].model.style&&(l.height=t[r].style.height),l.position=a.position||"relative",l.heightAuto&&("absolute"===l.position?(Reflect.deleteProperty(l,"height"),l.minHeight="fit-content",l.maxHeight="fit-content"):l.height="fit-content",l.flexDirection="column",l.inSmartLayout=!0),l.widthAuto&&(l.width="fit-content");const{marginTop:u,marginRight:p,marginBottom:f,marginLeft:h,width:m,height:g}=a,y=s(a,["marginTop","marginRight","marginBottom","marginLeft","width","height"]);(0,o.E)(u)&&(l.marginTop=u),(0,o.E)(p)&&(l.marginRight=p),(0,o.E)(f)&&(l.marginBottom=f),(0,o.E)(h)&&(l.marginLeft=h),a.flex&&(l.flex=a.flex),(0,o.E)(m)||(l.width=m),(0,o.E)(g)||(l.height=g),"auto"===l.width&&Reflect.deleteProperty(l,"maxWidth"),t[r].model.style=d(Object.assign(l,y));const b=Object.assign({},n[r]),{child:v,brother:x}=e;(null==x?void 0:x.length)&&(b.brother=c(x,t,n)),v&&("auto"===e.style.width&&(v.style.paddingLeft=e.style.marginLeft,v.style.paddingRight=e.style.marginRight),b.child=Object.assign(Object.assign({},e.child),{elements:c(e.child.elements||[],t,n)})),i.push(b)}t[r]})),i}function d(e){const t=(0,r.b4)(e);return"none"!==e.display&&t("display"),t("flexDirection"),["fixed","absolute"].includes(e.position)?((0,o.E)(e.bottom)&&t("top"),(0,o.E)(e.right)&&t("left"),e.widthFull&&(e.width="100%")):(t("left"),t("top"),t("right"),t("bottom")),t("widthFact"),t("widthAuto"),t("widthFull"),t("heightFact"),t("heightAuto"),t("heightFull"),t("proxyStyle"),t("maxWidth"),e._new=!0,u(e),e}function u(e,t=!0){const{width:n,height:i,marginTop:r,marginRight:s,marginBottom:a,marginLeft:l}=e;(t&&!n||["100%","auto"].includes(n))&&((0,o.E)(l)&&l>0&&(e.paddingLeft=l,Reflect.deleteProperty(e,"marginLeft")),(0,o.E)(s)&&s>0&&(e.paddingRight=s,Reflect.deleteProperty(e,"marginRight"))),(t&&!i||["100%","auto"].includes(i))&&((0,o.E)(r)&&r>0&&(e.paddingTop=r,Reflect.deleteProperty(e,"marginTop")),(0,o.E)(a)&&a>0&&(e.paddingBottom=a,Reflect.deleteProperty(e,"marginBottom")))}},12232:(e,t,n)=>{"use strict";function i(e){return"number"==typeof e&&!isNaN(e)}n.d(t,{E:()=>i})},29242:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i,o=n(20034),r=n.n(o),s=n(91737),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class c{constructor(){this.zoom=1,this.positions={}}getCurPosition(){const e=this,t=()=>new Proxy({x:100,y:100},{get:(e,t)=>e[t],set:(t,n,i)=>(t[n]=i,e.scroll(),!0)});return this.curDiagramId?(this.positions[this.curDiagramId]||(this.positions[this.curDiagramId]=t()),this.positions[this.curDiagramId]):t()}scroll(e){const t=this.getCurPosition(),n=this.wrapperEle;"function"==typeof this.onScroll&&this.onScroll({left:t.x+50,top:t.y+50}),n&&t&&(n.childNodes[0].style.transform=`translate(${t.x}px,${t.y}px)`)}}a([s.CP,l("design:type","function"==typeof(i=void 0!==r()&&r().Stage)?i:Object)],c.prototype,"curStage",void 0)},33693:(e,t,n)=>{"use strict";n.d(t,{BI:()=>B,EY:()=>I,FE:()=>P,Ge:()=>L,JU:()=>v,Jn:()=>F,Kc:()=>y,N1:()=>C,Pp:()=>w,Rd:()=>E,Rp:()=>D,Wd:()=>g,YJ:()=>b,_V:()=>M,eD:()=>$,i3:()=>N,jl:()=>A,kx:()=>_,l5:()=>S,lO:()=>R,rw:()=>x,tI:()=>k,vw:()=>T,wA:()=>O,yp:()=>j});var i=n(64012),o=n.n(i),r=n(32935),s=n.n(r),a=n(42743),l=n.n(a),c=n(74532),d=n(64246),u=n(91737),p=n(99487),f=n(29242);const h={w:800,h:500},m=e=>{const t=o().useRef(),n=o().useRef(),r=o().useRef(),a=e.children.filter((e=>"Layer"===e.type)),l=e.children.filter((e=>"Layer"!==e.type)),c=function(e){const t=o().useRef();return(0,i.useLayoutEffect)((()=>{t.current=e})),t.current}(e),[m,g]=(0,i.useState)(h),y=e.widthSpaceKey,b=(0,u.J2)(f.A,(t=>{t({curDiagramId:e.diagramId,onScroll:e.onScroll})}),[e]);b.zoom=e.scaleX;const v=b.getCurPosition(),x=(0,i.useCallback)((t=>{const{forwardedRef:n}=e;n&&("function"==typeof n?n(t):n.current=t)}),[]);return(0,i.useLayoutEffect)((()=>{const e=t.current.parentNode,i=e.offsetWidth,o=e.offsetHeight;return g({w:i,h:o}),n.current=new(s().Stage)({width:m.w,height:m.h,container:t.current}),b.curStage=n.current.getStage(),x(n.current),r.current=R.createContainer(n.current),R.updateContainer(a,r.current),n.current.position({x:50,y:50}),()=>{s().isBrowser&&(x(null),R.updateContainer(null,r.current,null),n.current.destroy())}}),[]),(0,i.useLayoutEffect)((()=>{const n=t.current.parentNode;setTimeout((e=>{b.scroll(!0)})),"function"==typeof e.onLoad&&e.onLoad({goHome(){v.x=100,v.y=100}}),n.onwheel=e=>{const{deltaX:t,deltaY:n}=e;v.x-=t,v.y-=n};const i=e=>{y&&(0,u.zg)(e,(({po:{x:e,y:t},epo:{ex:n,ey:i},dpo:{dx:o,dy:r}},s)=>{"moving"==s&&(v.x+=o,v.y+=r,b.scroll())}))};return n.onmousedown=i,()=>{n.removeEventListener("mousedown",i)}}),[v,y]),(0,i.useLayoutEffect)((()=>{n.current.on("mousedown",(function(e){const t=e.target;function n(e,t){var i;return(null===(i=null==e?void 0:e.attrs)||void 0===i?void 0:i[t])?e:e.parent?n(e.parent,t):void 0}if(t){const i=n(t,"_onMouseDown");if(i){const t=i.attrs._onMouseDown;"function"==typeof t&&(e.currentTarget=i,t(e))}}if(t){const i=n(t,"_onMouseMove");if(i){const t=i.attrs._onMouseMove;"function"==typeof t&&(e.currentTarget=i,t(e))}}}))}),[]),(0,i.useLayoutEffect)((()=>{x(n.current);const i=t.current.parentNode.parentNode;"function"==typeof e.shellRef&&e.shellRef(i),(0,d.$u)(n.current,e,c),R.updateContainer(a,r.current,null)})),(0,i.useEffect)((()=>{const e=n.current.content;e.removeAttribute("class"),e.removeAttribute("role")}),[]),o().createElement("div",{style:{flex:1,position:"relative",overflow:"hidden"},tabIndex:-1,ref:e=>{e&&(b.wrapperEle=e)}},o().createElement("div",{ref:t,accessKey:e.accessKey,className:e.className,style:e.style,tabIndex:e.tabIndex,title:e.title}),l,y?o().createElement("div",{style:{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:100,cursor:"grab"}}):null,o().createElement(p.A,{ctx:b}))},g="Layer",y="FastLayer",b="Group",v="Label",x="Rect",A="Circle",w="Ellipse",E="Wedge",C="Line",_="Sprite",M="Image",I="Text",k="TextPath",P="Star",F="Ring",S="Arc",T="Tag",O="Path",D="RegularPolygon",N="Arrow",j="Shape",L="Transformer",R=l()(c),B=o().forwardRef(((e,t)=>o().createElement(m,Object.assign(Object.assign({},e),{forwardedRef:t})))),$=d.bM},74532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appendChild:()=>P,appendChildToContainer:()=>F,appendInitialChild:()=>c,cancelTimeout:()=>E,clearContainer:()=>W,commitMount:()=>j,commitTextUpdate:()=>N,commitUpdate:()=>L,createInstance:()=>d,createTextInstance:()=>u,detachDeletedInstance:()=>U,finalizeInitialChildren:()=>p,getChildHostContext:()=>A,getPublicInstance:()=>f,getRootHostContext:()=>x,hideInstance:()=>R,hideTextInstance:()=>B,idlePriority:()=>s.unstable_IdlePriority,insertBefore:()=>S,insertInContainerBefore:()=>T,isPrimaryRenderer:()=>M,noTimeout:()=>C,now:()=>s.unstable_now,prepareForCommit:()=>h,preparePortalMount:()=>m,prepareUpdate:()=>g,removeChild:()=>O,removeChildFromContainer:()=>D,resetAfterCommit:()=>y,resetTextContent:()=>b,run:()=>s.unstable_runWithPriority,scheduleTimeout:()=>w,shouldDeprioritizeSubtree:()=>v,shouldSetTextContent:()=>_,supportsMutation:()=>k,unhideInstance:()=>$,unhideTextInstance:()=>z,warnsIfNotActing:()=>I});var i=n(20034),o=n.n(i),r=n(64246),s=n(38686);const a={},l={};function c(e,t){"string"!=typeof t?(e.add(t),(0,r.UU)(e)):console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`)}function d(e,t,n){let i=o()[e];i||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=o().Group);const s={},a={};for(var l in t){"on"===l.slice(0,2)?a[l]=t[l]:s[l]=t[l]}const c=new i(s);if((0,r.$u)(c,a),"Image"===e){const e=t.src,n=t.maxWidth;if(!c.image()){const t=new window.Image;t.onload=function(e){if(n){const e=n/this.width;c.scale({x:e,y:e})}c.image(t)},t.src=e,c.image(new window.Image)}}return c}function u(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function p(e,t,n){return!1}function f(e){return e}function h(){return null}function m(){return null}function g(e,t,n,i){return l}function y(){}function b(e){}function v(e,t){return!1}function x(){return a}function A(){return a}o().Node.prototype._applyProps=r.$u;const w=setTimeout,E=clearTimeout,C=-1;function _(e,t){return!1}const M=!1,I=!0,k=!0;function P(e,t){t.parent===e?t.moveToTop():e.add(t),(0,r.UU)(e)}function F(e,t){t.parent===e?t.moveToTop():e.add(t),(0,r.UU)(e)}function S(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),(0,r.UU)(e)}function T(e,t,n){S(e,t,n)}function O(e,t){t.destroy(),t.off(r.kt),(0,r.UU)(e)}function D(e,t){t.destroy(),t.off(r.kt),(0,r.UU)(e)}function N(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function j(e,t,n){}function L(e,t,n,i,o){(0,r.$u)(e,o,i)}function R(e){e.hide(),(0,r.UU)(e)}function B(e){}function $(e,t){(null==t.visible||t.visible)&&e.show()}function z(e,t){}function W(e){}function U(){}},66362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Arc:()=>r.l5,Arrow:()=>r.i3,Circle:()=>r.jl,Ellipse:()=>r.Pp,FastLayer:()=>r.Kc,Group:()=>r.YJ,Image:()=>r._V,Konva:()=>o.a,KonvaRenderer:()=>r.lO,Label:()=>r.JU,Layer:()=>r.Wd,Line:()=>r.N1,Path:()=>r.wA,Rect:()=>r.rw,RegularPolygon:()=>r.Rp,Ring:()=>r.Jn,Shape:()=>r.yp,Sprite:()=>r.kx,Stage:()=>r.BI,Star:()=>r.FE,Tag:()=>r.vw,Text:()=>r.EY,TextPath:()=>r.tI,Transformer:()=>r.Ge,Wedge:()=>r.Rd,useImage:()=>s.l,useStrictMode:()=>r.eD});var i=n(20034),o=n.n(i),r=n(33693),s=n(24735);o().pixelRatio=window.devicePixelRatio,delete window.Konva},64246:(e,t,n)=>{"use strict";n.d(t,{$u:()=>f,UU:()=>h,bM:()=>c,kt:()=>a});var i=n(52711);const o={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let r=!1,s=!1;const a=".react-konva-event";let l=!1;function c(e){l=e}const d="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",u='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',p={};function f(e,t,n=p){if(!r&&"zIndex"in t&&(console.warn(u),r=!0),!s&&t.draggable){var i=void 0!==t.x||void 0!==t.y,c=t.onDragEnd||t.onDragMove;i&&!c&&(console.warn(d),s=!0)}for(var f in n)if(!o[f]){var m="on"===f.slice(0,2),g=n[f]!==t[f];if(m&&g)"content"===(w=f.substr(2).toLowerCase()).substr(0,7)&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),e.off(w,n[f]);!t.hasOwnProperty(f)&&e.setAttr(f,void 0)}var y=l||t._useStrictMode,b={},v=!1;const x={};for(var f in t)if(!o[f]){m="on"===f.slice(0,2);var A=n[f]!==t[f];if(m&&A)"content"===(w=f.substr(2).toLowerCase()).substr(0,7)&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),t[f]&&(x[w]=t[f]);!m&&(t[f]!==n[f]||y&&t[f]!==e.getAttr(f))&&(v=!0,b[f]=t[f])}for(var w in v&&(e.setAttrs(b),h(e)),x)e.on(w+a,x[w])}function h(e){if(!i.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}},99487:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(89167),o=n(91737),r=n(64012),s=n(64012);const a=300,l=2;function c({ctx:e}){return s.createElement("div",{className:i.A.scroll},s.createElement(u,{ctx:e}),s.createElement(d,{ctx:e}))}function d({ctx:e}){const t=e.zoom,n=e.getCurPosition(),c=a/t,[d,u]=(0,r.useState)(!1),p=(0,o.J2)(class{constructor(){this.height=c,this.top=-1*n.y,this.dy=0}},[t,n]);(0,r.useMemo)((()=>{if(!e.curStage)return;const t=e.wrapperEle.offsetHeight,i=e.curStage.getHeight(),o=Math.max(1,i/t);let r=p.height;const s=t/2+(-1*n.y+t/2-((i-t)/2+t/2))/o;let a=Math.ceil(s-r/2),d=-1*n.y+c-t;const u=p.dy;a<=5?(a=5,u>d?r>20&&(r-=l):r<c&&(r+=l)):a+r>=t?(u>d?r<c&&(r+=l):r>20&&(r-=l),a=t-5-r):r=c,p.height=r,p.top=a,p.dy=d}),[n.y,t,e.curStage]);const f=(0,r.useCallback)((t=>{const i=e.wrapperEle.offsetHeight,r=e.curStage.getHeight(),s=Math.max(1,r/i);(0,o.zg)(t,(({po:{x:t,y:i},epo:{ex:o,ey:r},dpo:{dx:a,dy:l},adpo:{adx:d,ady:f}},h)=>{if("start"===h&&u(!0),"moving"===h){const t=Math.ceil(l*s);n.y-=t;const i=p.height;i<=c&&(p.top<=15?l>0&&(n.y-=10*t):p.top+i>=e.wrapperEle.offsetHeight-5&&l<0&&(n.y-=10*t))}"finish"===h&&u(!1)}))}),[t,n]);return s.createElement("div",{id:"mybricks-geoview-scroll-y",className:`${i.A.scrollY} ${d?i.A.dragging:""}`,style:{transform:`translateY(${p.top}px)`,height:p.height},onMouseDown:(0,o.Wj)(f).stop},s.createElement("div",null))}function u({ctx:e}){const t=e.zoom,n=e.getCurPosition(),c=a/t,[d,u]=(0,r.useState)(!1),p=(0,o.J2)(class{constructor(){this.width=c,this.left=-1*n.x,this.dx=0}},[t]);(0,r.useMemo)((()=>{if(!e.curStage)return;const t=e.wrapperEle.offsetWidth,i=e.curStage.getWidth(),o=Math.max(1,i/t);let r=p.width;let s=t/2+(-1*n.x+t/2-((i-t)/2+t/2))/o-r/2,a=-1*n.x+c-t;const d=p.dx;s<=15?(s=15,d>a?r>20&&(r-=l):r<c&&(r+=l)):s+r>=t-5?(d>a?r<c&&(r+=l):r>20&&(r-=l),s=t-5-r):r=c,p.width=r,p.left=s,p.dx=a}),[n.x,t,e.curStage]);const f=(0,r.useCallback)((t=>{const i=e.wrapperEle.offsetWidth,r=e.curStage.getWidth(),s=Math.max(1,r/i);(0,o.zg)(t,(({po:{x:e,y:t},epo:{ex:o,ey:r},dpo:{dx:a,dy:l},adpo:{adx:d,ady:f}},h)=>{if("start"===h&&u(!0),"moving"==h){const e=Math.ceil(a*s);n.x-=e;const t=p.width;t<=c&&(p.left<=15?a>0&&(n.x-=10*e):p.left+t>=i-5&&a<0&&(n.x-=10*e))}"finish"===h&&u(!1)}))}),[t,n]);return s.createElement("div",{id:"mybricks-geoview-scroll-x",className:`${i.A.scrollX} ${d?i.A.dragging:""}`,style:{transform:`translateX(${p.left}px)`,width:p.width},onMouseDown:(0,o.Wj)(f).stop},s.createElement("div",null))}},24735:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var i=n(64012);const o={image:void 0,status:"loading"};function r(e,t){const[{image:n,status:r},s]=(0,i.useState)(o);return(0,i.useEffect)((()=>{if(!e)return;const n=document.createElement("img");function i(){s({image:n,status:"loaded"})}function r(){s({image:void 0,status:"failed"})}return n.addEventListener("load",i),n.addEventListener("error",r),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",i),n.removeEventListener("error",r),s(o)}}),[e,t]),[n,r]}},64488:(e,t,n)=>{"use strict";n.d(t,{MR:()=>o,T3:()=>l,WY:()=>d,iI:()=>i,ib:()=>c,us:()=>a,vU:()=>s,zz:()=>r});const i="_rxui_meta_",o="_hc_",r="_hc_from_",s="_ignore_",a="_ignore_but_snapshot_",l="_ignore_observable_",c="_ignore_me_",d="function"==typeof HTMLElement?HTMLElement:function(){};"function"==typeof SVGElement&&SVGElement},84837:(e,t,n)=>{"use strict";function i(e){function t(t){e&&e(t)}return t.stop=function(e){var n;"function"==typeof e.stopPropagation?e.stopPropagation():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.stopPropagation)&&(e.evt.stopPropagation(),e.cancelBubble=!0),t(e)},t.prevent=function(e){var n;"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.preventDefault)&&e.evt.preventDefault(),t(e)},t.stop.prevent=function(e){var n;"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.preventDefault)&&e.evt.preventDefault(),t.stop(e)},t}n.d(t,{W:()=>i})},43956:(e,t,n)=>{"use strict";n.d(t,{E9:()=>s,oT:()=>a,zg:()=>r});var i=n(73912),o=n(64488);const r=function(e,t,n){return e.evt instanceof MouseEvent?function(e,t,n){if(!e)return;const o=e.currentTarget,s=o.getStage(),l=a(o),c=document.body.scrollTop||document.documentElement.scrollTop,d=document.body.scrollLeft||document.documentElement.scrollLeft,u={x:l.x,y:l.y,w:o.width(),h:o.height()};e=e.evt;const p=e.pageX-u.x,f=e.pageY-u.y;let h,m,g,y,b;const v={x:0,y:0};if(!t)return u;{i.F.curRT.setInfoIdForDelay();const e=(e,n)=>{const i=e.pageX-p-u.x,s=e.pageY-f-u.y,a=e.pageX-p-h||0,l=e.pageY-f-m||0;if(h=e.pageX-p,m=e.pageY-f,g=e.pageX-v.x-d,y=e.pageY-v.y-c,(Math.abs(i)>3||Math.abs(s)>3)&&(r.event=e),n||0!=a||0!=l)return b=n?"finish":b?"moving":"start",t({po:{x:h,y:m},epo:{ex:g,ey:y},dpo:{dx:a,dy:l},adpo:{adx:i,ady:s},targetStyle:u},b,o)};let a=(new Date).getTime();s.on("mousemove",(t=>{if(r.cancel)return r.cancel=void 0,b=void 0,void l(t,!0);a&&((new Date).getTime()-a>2e3&&(b=void 0,l(t,!0)),a=void 0);try{!1===e(t.evt)&&(b=void 0,l(t,!0))}catch(e){console.error(e)}}));const l=(t,o)=>{setTimeout((()=>r.event=void 0)),o||b||"function"==typeof(null==n?void 0:n.default)&&setTimeout((e=>{n.default()}));try{const n=i.F.applyBatch();b&&e(t.evt||t,"finish"),n.commit()}catch(e){throw e}finally{s.off("mousemove"),s.off("mouseup"),i.F.curRT.clearDelay()}};s.on("mouseup",l)}}(...arguments):function(e,t,n){if(!e)return;const o=(null==n?void 0:n.document)||document,a=null==n?void 0:n.exeIndeed,l=e.currentTarget,c=l.offsetWidth,d=l.offsetHeight,u=3==arguments.length&&n&&n.relDom,p=(3==arguments.length&&n&&n.zoom,s(l,u)),f=u?s(u):{x:0,y:0},h=document.body.scrollTop||document.documentElement.scrollTop,m=document.body.scrollLeft||document.documentElement.scrollLeft,g=e.pageX-p.x,y=e.pageY-p.y;let b,v,x,A;const w={};if(!t)return p;{i.F.curRT.setInfoIdForDelay();const e=e=>{const n=e.pageX-g-p.x,i=e.pageY-y-p.y,o=e.pageX-g,r=e.pageY-y,s=o-b,a=r-v;b=e.pageX-g,v=e.pageY-y,x=e.pageX-f.x-m,A=e.pageY-f.y-h,"finish"===w.now?t({po:{x:b,y:v},epo:{ex:x,ey:A},dpo:{dx:0,dy:0},adpo:{adx:n,ady:i},targetStyle:{x:p.x,y:p.y,w:c,h:d}},w.now,l):0==s&&0==a||(w.now=w.now?"moving":"start",t({po:{x:b,y:v},epo:{ex:x,ey:A},dpo:{dx:s,dy:a},adpo:{adx:n,ady:i},targetStyle:{x:p.x,y:p.y,w:c,h:d}},w.now,l))},n=t=>{setTimeout((()=>r.event=void 0));try{const n=i.F.applyBatch();(w.now||a)&&(w.now="finish",e(t)),n.commit()}catch(e){throw e}finally{w.now=void 0,o.onmousemove=null,o.onmouseup=null,o.oncontextmenu=null,i.F.curRT.clearDelay()}};let s=!1;o.onmousemove=t=>{s||(s=!0,r.event=t,o.oncontextmenu=e=>(n(e),e.preventDefault(),!1));try{e(t)}catch(e){console.error(e)}},o.onmouseup=n}}(...arguments)};function s(e,t,n){if(!e)return;const i=document.body.scrollTop||document.documentElement.scrollTop,o=document.body.scrollLeft||document.documentElement.scrollLeft;let r=0,s=0,a=0,l=0,c=0,d=0;if(n)if(n.noMyBorders){const t=e.style;r=parseInt(t.borderLeftWidth)||0,s=parseInt(t.borderRightWidth)||0,a=parseInt(t.borderTopWidth)||0,l=parseInt(t.borderBottomWidth)||0,c=r+s,d=a+l}else if(n.noRelativeBorders&&t){const e=t.style;r=-1*parseInt(e.borderLeftWidth)||0,s=parseInt(e.borderRightWidth)||0,a=-1*parseInt(e.borderTopWidth)||0,l=parseInt(e.borderBottomWidth)||0}if(t){let n,s={width:0,height:0};if("#text"===e.nodeName){const t=document.createRange();t.selectNodeContents(e);const i=t.getClientRects();if(!(i&&i.length>0))return;{const e=i[0];let t=e.left,o=e.top,r=0,a=0;1===i.length?(r=e.width,a=e.height):(Array.prototype.forEach.call(i,(e=>{r=Math.max(r,e.width)})),a=i[i.length-1].y-e.y+i[i.length-1].height),n={left:t,top:o},s.width=r,s.height=a}}else n=e.getBoundingClientRect(),s.width=n.width,s.height=n.height;const l=t.getBoundingClientRect();return{x:n.left-l.left+o+r,y:n.top-l.top+i+a,w:s.width-c,h:s.height-d}}{e.getBoundingClientRect;const t=e.getBoundingClientRect();return{x:t.left+o+r,y:t.top+i+a,w:t.width-c,h:t.height-d}}}function a(e,t){if(t){const n=e.getAbsolutePosition(),i=t.getAbsolutePosition();return{x:n.x-i.x,y:n.y-i.y,w:e.width(),h:e.height()}}{const t=e.getAbsolutePosition(),n=e.getStage();if(n&&n.content instanceof o.WY){const i=n.content.getBoundingClientRect();return{x:t.x+i.left,y:t.y+i.top,w:e.width(),h:e.height()}}}}},91737:(e,t,n)=>{"use strict";n.d(t,{A1:()=>y,AF:()=>r.AF,Bh:()=>f.Bh,CP:()=>d.C,E9:()=>h.E9,Ec:()=>p.Ec,GV:()=>x,HO:()=>o.A,Hh:()=>f.Hh,Hr:()=>l.Hr,J2:()=>i.A,Nt:()=>p.Nt,TY:()=>b,Wj:()=>m.W,XX:()=>l.Ay,Xe:()=>f.Xe,ZS:()=>u.ZS,c:()=>g.c,gO:()=>u.gO,i7:()=>f.i7,iu:()=>f.iu,lB:()=>s.A,o8:()=>f.o8,oT:()=>h.oT,qA:()=>v,qz:()=>u.qz,sH:()=>r.Ay,tN:()=>u.tN,uR:()=>g.uR,xY:()=>g.xY,yL:()=>p.yL,yx:()=>a.A,zg:()=>h.zg});var i=n(33674),o=n(91704),r=(n(13923),n(30278),n(90871)),s=n(18628),a=n(34205),l=(n(74078),n(2982),n(7274)),c=n(73912),d=n(4596),u=(n(36266),n(26929)),p=(n(26802),n(39069)),f=n(9743),h=n(43956),m=n(84837),g=n(75249);const y=c.F.stopWatch,b=c.F.keepWatch,v=c.F.stopUpdate,x=c.F.updateLater},99742:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var i=n(64488),o=n(75249),r=n(90871);function s(e,t,n){if(void 0===e)return e;const s=[];return function e(a){if("object"!=typeof(a=(0,r.AF)(a))||!a)return a;for(let e=0;e<s.length;e++)if(s[e].target===a)return s[e].copyTarget;let l={};if(Array.isArray(a)&&(l=[]),s.push({target:a,copyTarget:l}),Array.isArray(a))Object.keys(a).forEach((t=>{/^__.+__$/g.test(t)||l[t]||(l[t]=e(a[t]))}));else if(a instanceof FormData||a instanceof RegExp||a instanceof Map||a instanceof Set||a instanceof Date||a instanceof Error||a instanceof Promise||a instanceof ArrayBuffer||a instanceof Int8Array||a instanceof Uint8Array||a instanceof Document||a instanceof DocumentFragment||a instanceof XMLDocument||a instanceof Image||a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof HTMLAudioElement||a instanceof HTMLIFrameElement||a instanceof HTMLScriptElement||a instanceof HTMLStyleElement||a instanceof HTMLLinkElement||a instanceof Event)l=a;else{let n=(0,o.oF)(a);if(n.length>0){const r=a[i.vU];n.forEach((n=>{if(n!==i.MR&&(t||!r||!r[n])){const t=(0,o.Nx)(a,n);t&&t.get?Object.defineProperty(l,n,{get:()=>e(a[n])}):l[n]=e(a[n])}}))}}return"function"==typeof n?n(l):l}(e)}},39069:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ec:()=>IgnoreButSnapshot,Nt:()=>Ignore,VA:()=>searchForMeta,v_:()=>SerializedReg,yL:()=>Serializable});var _util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75249),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64488);const SerializedReg=(0,_util__WEBPACK_IMPORTED_MODULE_0__.nF)("_rxui_serializedReg_",{});function After(e){return function(t,n,i){setMeta(t.constructor,"aop-after",n,e)}}function Ignore(e,t){let n=Object.getOwnPropertyDescriptor(e,_constants__WEBPACK_IMPORTED_MODULE_1__.vU);if(n)n.value[t]=!0;else{let n,i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(i,_constants__WEBPACK_IMPORTED_MODULE_1__.vU),!n);)i=Object.getPrototypeOf(i);const o=Object.assign({},n&&n.value);Object.defineProperty(e,_constants__WEBPACK_IMPORTED_MODULE_1__.vU,{value:o,writable:!0}),o[t]=!0}}function IgnoreButSnapshot(e,t){let n=Object.getOwnPropertyDescriptor(e,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP);if(n)n.value[t]=!0;else{let n,i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(i,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP),!n);)i=Object.getPrototypeOf(i);const o=Object.assign({},n&&n.value);Object.defineProperty(e,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP,{value:o,writable:!0}),o[t]=!0}}function Serializable(e){if(1==arguments.length){const e=arguments[0];if("function"==typeof e)return hashcodeFn(e);if("string"==typeof e)return function(t){return hashcodeFn(t,e)};if("object"==typeof e&&"string"==typeof e.name){let{name:t,load:n}=e;return function(e){return hashcodeFn(e,t,n)}}throw new Error("@Serializable's param error.")}throw new Error("@Serializable should be used to decorate class only.")}function searchForMeta(e){let t;const n=e.constructor&&e.constructor[_constants__WEBPACK_IMPORTED_MODULE_1__.iI],i=Object.getPrototypeOf(e),o=i&&searchForMeta(i);return o?(t=Object.assign({},n||{}),Object.keys(o).forEach((e=>{t[e]=n&&n[e]?Object.assign({},o[e],n[e]):Object.assign({},o[e])})),t):n}function hashcodeFn(fn,name,load){if("string"==typeof name&&SerializedReg[name])throw new Error(`${name} had been registered.`);let fnName=name?(0,_util__WEBPACK_IMPORTED_MODULE_0__.MQ)(fn,name):fn.name;const getUid=_util__WEBPACK_IMPORTED_MODULE_0__.uR;let proxyFn=null,proto;return eval(`\n    proxyFn = function ${fnName}() {//Proxied and named\n      try {\n        const _this = new fn(...arguments)\n\n        Object.defineProperty(_this, '${_constants__WEBPACK_IMPORTED_MODULE_1__.MR}', {\n          value: getUid('${fnName}_'),\n          writable: true,\n          enumerable: false\n        })\n\n        Object.setPrototypeOf(_this, proto)\n        return _this\n      } catch (ex) {//not support ES6?\n        throw ex\n\n        // var args = []\n        //\n        // for(var i=0;i<arguments.length;i++){\n        //   args.push(arguments[i])\n        // }\n        // fn.apply(this,args)\n        //\n          // Object.defineProperty(this, '${_constants__WEBPACK_IMPORTED_MODULE_1__.MR}', {\n          //     value:getUid('${fnName}_'),\n        //     writable: true,\n        //     enumerable:false\n        // })\n      }\n    }\n    proto = {\n      constructor: proxyFn\n    }\n    var statics = Object.getOwnPropertyNames(fn)\n    var regc = /^(length|name|prototype)$/gi\n    for (var i = 0; i < statics.length; i++) {\n      var nm = statics[i]\n      if (!nm.match(regc)) {\n        proxyFn[nm] = fn[nm]\n      }\n    }\n    Object.setPrototypeOf(proto, fn.prototype)\n    proxyFn.prototype = proto\n  `),"string"==typeof name&&(SerializedReg[name]={proto:proxyFn,load},setMeta(proxyFn,"serialized","name",name)),proxyFn}function setMeta(e,t,n,i){const o=Object.getOwnPropertyNames(e).filter((e=>e==_constants__WEBPACK_IMPORTED_MODULE_1__.iI)),r=0==o.length?e[_constants__WEBPACK_IMPORTED_MODULE_1__.iI]={}:e[_constants__WEBPACK_IMPORTED_MODULE_1__.iI];(r[t]||(r[t]={}))[n]=i||e[n]}},38729:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(40486),o=n(75249),r=n(64488),s=n(39069),a=n(90871);const l="_observable_";function c(e,t={}){const n=(e,t,n)=>n;if("string"==typeof e){if(i.su[e])return d(i.su[e],n,Object.assign(t,{noFunction:!0}))}else if(e&&"object"==typeof e)return d(e,n,Object.assign(t,{noFunction:!0}))}function d(e,t,n={}){const{noFunction:c,uncompressed:d,map:p}=n;let f={},h={},m={C:[],W:d?void 0:{}},g=0;let y={},b=0;function v(e){if(d)return e;let t=y[e];return void 0===t&&(y[e]=t=b+++""),t}const x={D:m,refs:f,def:function(e){let n=[];function y(e){if("object"!=typeof e||!e)return e;const y=(0,a.AF)(e);if(u(y))return;if(y[r.MR]){const e=v(y[r.MR]);if(f[e])return{[i.kW]:e};if(h[e])return{[i.kW]:e}}let b={};if(Array.isArray(y)&&(b=[]),y[r.MR]&&(h[v(y[r.MR])]=!0),Array.isArray(y)){const e=[];Object.keys(y).forEach((i=>{try{if(i.match(/^__.+__$/g)||b[i])return}catch(e){}let o=y[i];o=(0,a.AF)(o),u(o)?(e.push(i),b[i]=void 0):n.push((e=>{b[i]=e(t(y,i,o))}))})),e.length>0&&e.forEach((e=>b.splice(e,1)))}else{let u=(0,o.oF)(y);if(u.length>0){const s=e[r.vU],l=e[r.us];u.forEach((u=>{if(u===r.vU||u===r.us||u===r.T3||"_from_"===u||"_hc_temp_"===u)return;const f=(0,o.Nx)(e,u);if((!f||!f.get||f.set)&&!(s&&s[u]||l&&l[u])){let e=y[u];if(e=(0,a.AF)(e),!c||c&&"function"!=typeof e&&!(0,o.sT)(e))if("function"==typeof p&&(e=p(y,u,e)),u!==r.MR&&u!==i.fS){const i=function(e){if(d)return e;if(/^[0-9]+$/.test(e))return e;if(/^u_/.test(e))return e;let t=m.W[e];return void 0===t&&(m.W[e]=t="_"+g+++"_"),t}(u);n.push((n=>{b[i]=n(t(y,u,e))}))}else b[u]=e}}))}!0===y[l]&&(b[l]=!0);const f=(0,s.VA)(y);let h;if(f&&(h=f.serialized)){m.C.find((e=>e===h.name));let e=m.C.indexOf(h.name);-1===e&&(m.C.push(h.name),e=m.C.length-1),b[i.fS]=e}else if(y[r.MR])throw new Error("Invalid data format.")}if(b[r.MR]){const e=v(b[r.MR]);return f[e]=b,delete b[r.MR],{[i.kW]:e}}return b}const b=y(e);for(let e=0;e<n.length;e++)n[e](y);return n=void 0,b}(e)};return h=void 0,x}function u(e){return e&&"object"==typeof e&&e[r.ib]}},117:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var i=n(64488);function o(e){"object"==typeof e&&(e[i.ib]=!0)}},9743:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>o.B,Hh:()=>i.H,Xe:()=>a.X,i7:()=>r.i,iu:()=>i.i,o8:()=>s.o});var i=n(76435),o=n(38729),r=(n(36266),n(28838)),s=n(99742),a=n(117)},76435:(e,t,n)=>{"use strict";n.d(t,{H:()=>f,i:()=>h});var i=n(40486),o=n(39069),r=n(75249),s=n(64488),a=n(73912),l=n(90871);let c,d,u=i.fS,p=i.kW;function f(e,t){if("object"!=typeof e)throw new Error("Invalid data format.");(0,l.AT)(e)&&(e=(0,l.AF)(e)),(null==t?void 0:t.newJSON)&&(e=JSON.parse(JSON.stringify(e)));const n=a.F.applyBatch(),o={};for(let n in e){const r=e[n];if(null==t?void 0:t.notMerge){const e=h(r);o[n]=e}else h(r,{merge(e){const t=i.su[n];void 0!==t?o[n]=m(e,t):i.fT[n]=t=>{const i=a.F.applyBatch();o[n]=m(e,t),i.cancel()}}})}return n.commit(),o}function h(e,t={}){if(!e||"object"!=typeof e||"object"!=typeof e.def||"object"!=typeof e.refs)return e;const{merge:n}=t,{def:r,refs:s,D:a,consts:l}=e;if(l)u="_from_",p="_ref_",c={C:l.froms,W:{}};else if(a)if(a.W){const e={};Object.keys(a.W).forEach((t=>{e[a.W[t]]=t})),a.W=e,c=a}else c=Object.assign({W:{}},a);else c={C:{},W:{}};d={refs:s,didMap:{}},Object.keys(s).forEach((e=>{let t,n=s[e];if(void 0!==(t=n[u])){t=c.C[t]||t;const r=o.v_[t];if(!r)return;if(!r||!r.proto)throw new Error("Invalid data format.");{const o=y(r.proto);o[u]=t,o[i.W2]=n,s[e]=o}}}));const f=r;if(!n)return g(f);n(f)}function m(e,t){const n=g(e,t);return n&&"object"==typeof n&&t?(Object.keys(n).forEach((e=>{let i=n[e];t[e]=i})),t):n}function g(e,t){const{refs:n,didMap:a}=d;let l=[];function f(e,t){if(Array.isArray(e))return e.forEach(((t,n)=>{l.push((i=>{e[n]=i(t)}))})),e;let d=e;if("object"==typeof d&&d){if(d[s.MR])return a[d[s.MR]]=t||d,t||d;const e=d[p];if("string"==typeof e){if(!t&&a[e])return a[e];d=n[e],a[e]=t||d}let f,h;if(h=d[u]){if(f=o.v_[h],!f)return console.warn(`Serializable class for name "${h}" not found.`),d;if(!f||!f.proto)throw new Error("Invalid data format.")}delete d[u];let m=d[i.W2];if(void 0===m&&f&&(m=d,d=y(f.proto)),m){delete d[i.W2],delete m[u];let e=(0,r.oF)(m);if(e.length>0){const t=m[s.vU],n=m[s.us];e.forEach((e=>{let i=c.W[e],o=m[e];if(i?(m[e]=void 0,delete m[e]):i=e,e===s.vU||e===s.us)return;const a=(0,r.Nx)(d,i);a&&a.get&&!a.set||t&&t[i]||n&&n[i]||t&&t[i]||n&&n[i]||l.push((e=>{const t=e(o);try{let e;if(f&&"function"==typeof(e=f.load)){let n=e(d,i,t);void 0!==n&&(d[i]=n)}else try{d[i]=t}catch(e){throw e}}catch(e){throw e}}))}))}}else{let e=(0,r.oF)(d);if(e.length>0){const t=d[s.vU],n=d[s.us];e.forEach((e=>{let i=c.W[e],o=d[e];if(i?(d[e]=void 0,delete d[e]):i=e,e===s.vU||e===s.us)return;const a=(0,r.Nx)(d,i);a&&a.get&&!a.set||t&&t[i]||n&&n[i]||t&&t[i]||n&&n[i]||l.push((e=>{const t=e(o);let n;const s=(0,r.Nx)(d,i);if(!s||!s.get||s.set)if(f&&"function"==typeof(n=f.load)){let e=n(d,i,t);void 0!==e&&(d[i]=e)}else try{d[i]=t}catch(e){throw e}}))}))}}}return d}const h=f(e,t);for(let e=0;e<l.length;e++)l[e]((e=>f(e)));return l=void 0,h}function y(e){return new e}},28838:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var i=n(75249),o=n(64488),r=n(40486);function s(e){if(!e[o.MR])throw new Error(`Model must has ${o.MR} property.`);let t=!1,n={},s=r=>{if("object"==typeof r&&null!==r){if(r[o.MR]==e[o.MR])return!0;if(n[r[o.MR]])return;n[r[o.MR]]=!0;(0,i.oF)(r).forEach((e=>{const n=(0,i.Nx)(r,e);if(n&&n.get&&!n.set)return;let o=r[e];Array.isArray(o)?(o=o.map((e=>s(e)?void(t=!0):e)),t&&(r[e]=o.filter((e=>void 0!==e)))):s(o)&&(t=!0,r[e]=void 0)}))}};return Object.keys(r.su).forEach((e=>{s(r.su[e])})),n=void 0,t}},40486:(e,t,n)=>{"use strict";n.d(t,{W2:()=>r,fS:()=>o,fT:()=>a,kW:()=>i,su:()=>s});const i="_R_",o="_F_",r="_merge_data_",s={},a={}},36266:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(39069),o=n(40486);function r(e,t,n){var r;if(n&&"function"==typeof n){const e=(0,i.VA)(t);if(!(null===(r=null==e?void 0:e.serialized)||void 0===r?void 0:r.name))throw new Error("No @Serializable({name:string}|string) decorator on "+n)}const s=o.fT[e];void 0!==s&&s(t),o.su[e]=t}},4596:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var i=n(64488);function o(e,t){let n=Object.getOwnPropertyDescriptor(e,i.T3);if(n)n.value[t]=!0;else{let n,o=Object.getPrototypeOf(e);for(;o&&o!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(o,i.T3),!n);)o=Object.getPrototypeOf(o);const r=Object.assign({},n&&n.value);Object.defineProperty(e,i.T3,{value:r,writable:!0}),r[t]=!0}}},40737:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});class i extends Error{}},72903:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});const i=["onContextMenu","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onDrop","onDrag","onDragStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragExit","onTouchStart","onTouchEnd","onTouchMove","onTouchCancel","onKeyPress","onKeyDown","onKeyUp","onCopy","onCut","onPaste","onChange","onInput","onSubmit","onFocus","onBlur","onScroll"]},2982:(e,t,n)=>{"use strict";n(90871)},74078:(e,t,n)=>{"use strict";n(75249),n(90871)},34205:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n(73912),r=n(40737);function s(e,t,n,s){const a=[...arguments];if(!(n=a.find((e=>"object"==typeof e)))||"object"!=typeof n||!n.from)throw new Error("invalid argument config,expect pipe(typeClass, impl, config: {from:'parents'|'children'}).");let l;s=a.find((e=>Array.isArray(e))),l=n&&(n.from||(null==n?void 0:n.expectTo))?(0,i.useRef)():{};let c=!l.current;if(void 0===l||!l.current){if(arguments.length<0)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");if("function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");const d={watcherPushed:{}};let u;function p(t,i){let o;try{o=function(e,t,n,i,o){if(e+="Ary","parents"===n){let r,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t)return r=e.proxy,!0})));)s=s.parent;if(void 0!==r)return r[o]}else if("children"===n){const s=[],a=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t){let t;try{t=e.proxy[o]}catch(e){if(!(e instanceof r.G))throw e}if(void 0!==t)return s.push(t),!0}}))||a(i.children)}))},l=i.children;if(a(l),s.length>0)return s;throw new Error(`No implements found for(${o})`)}}("implement",e,n.expectTo,u,t)}catch(e){o=[]}if(!Array.isArray(o)){if("function"!=typeof o)throw new Error("ExpectTo's value must be a Function type.");o=[o]}return i&&o.push(i),o.length>0?(...e)=>{const t=[];o.forEach((n=>{t.push(n(...e))}));const n=t.filter((e=>void 0!==e));return 0===n.length?void 0:1==n.length?n[0]:n}:()=>{}}"function"==typeof t&&o.F.stopWatch((e=>{const n=t((e=>{if(e&&"object"==typeof e)return d.implVal=e,!0}));"object"==typeof n&&(d.implVal=n)}));const f=new Proxy({},{get(e,t){if("toString"===t||"valueOf"===t||"$$typeof"===t||"constructor"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag||t===Symbol.iterator)return e[t];if(d.implVal){let e=d.implVal[t];if(void 0!==e){if(null==n?void 0:n.expectTo){if("function"!=typeof e)throw new Error("ExpectTo's value must be a Function type.");return p(t,e)}return e}}return(null==n?void 0:n.expectTo)?p(t):void 0},set:(t,i,o)=>(function(e,t,n,i,o,r){if(e+="Ary","parents"===n){let n=i.parent;for(;n&&(!n[e]||!n[e].find((e=>{if(e.type===t)return e.proxy[o]=r})));)n=n.parent}else if("children"===n){const n=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.type===t)return e.proxy[o]=r,!0}))||n(i.children)}))},s=i.children;n(s)}else"self"===n&&i.subjectAry&&i.subjectAry.find((e=>{if("self"===e.direction&&e.type===t)return e.proxy[o]=r,!0}))}("subject",e,n.from,u,i,o),!0)});u=o.F.regListener("implement",{type:e,direction:n.from,proxy:f}),d.proxy=f,l.current=d}if(s){const h=[...s],m=(0,i.useCallback)((()=>{if(s&&!c){const e=l.current.implVal;"function"==typeof t&&o.F.stopWatch((n=>{t((t=>{if(t&&"object"==typeof t){for(let n in t)e[n]=t[n];return!0}}))}))}}),h);(0,i.useEffect)(m,h)}return l.current.proxy}},90871:(e,t,n)=>{"use strict";n.d(t,{AF:()=>y,AT:()=>b,Ay:()=>m,BF:()=>v});var i=n(73912),o=n(75249),r=n(26802),s=n(64488),a=n(40737),l=n(39069);const c="__observable__",d="__original__",u="__isExpectTo__",p="__pushWatch__",f=new WeakMap,h=new WeakMap;function m(e,t=e,n,p){if("function"==typeof e&&(e=new e),"object"!=typeof e||!e)return e;let m,v;"object"==typeof n&&(n.to||(m=n.expectTo),Array.isArray(n.ignore)&&(v=n.ignore));return function e(n,x,A="",w){if(b(n))return n;if("object"==typeof n&&"_isVue"in n)return n;const E={},C={get(e,t,n){let i;if("function"==typeof t)[e]in E?i=E[e]:E[e]=i=n();else{if(b(t))return t;i=f.get(t),void 0===i&&f.set(t,i=n())}return i}};w&&h.set(n,`${(0,o.ih)(x.source)}_${w}`);const _={source:n,proxy:void 0,parent:x},M=i.F.applyAgent(A),I=new Proxy(n,{has:(e,t)=>t===c||t===d||t in e,get(i,f,h){if(i instanceof RegExp)return i[f];if(i instanceof HTMLElement)return i[f];if(i instanceof SVGElement)return i[f];if(f===c)return!0;if("toString"===f||"toJSON"===f||"valueOf"===f||"$$typeof"===f||"constructor"===f||(0,o.Bm)(f))return i[f];if(f===d)return d in i?i[d]:y(n);if(f===u)return m;let b;const w=(0,o.Nx)(i,f);if(w&&w.get)try{b=w.get.call(h)}catch(e){}else b=i[f];if(b){if(b instanceof RegExp)return b;if(b instanceof FormData)return b;if(b instanceof Map||b instanceof Set)return b;if(b instanceof Document||b instanceof DocumentFragment||b instanceof XMLDocument||b instanceof Image||b instanceof HTMLElement||b instanceof HTMLImageElement||b instanceof HTMLCanvasElement||b instanceof HTMLVideoElement||b instanceof HTMLAudioElement||b instanceof HTMLIFrameElement||b instanceof HTMLScriptElement||b instanceof HTMLStyleElement||b instanceof HTMLLinkElement||b instanceof SVGElement||b instanceof Event)return b}const E=i[s.T3];if(E&&E[f])return y(b);const I=A+(f.match(/^\d+$/)?`[${f}]`:"."+f);if(void 0!==b||!m||""!==A){if("function"==typeof b){let e;return e=Array.isArray(i)?/^(splice)$/gi.test(f)?C.get(f,b,(()=>(...e)=>{var t;if(r.n){const n=null===(t=A.match(/\.([^\.]+)$/))||void 0===t?void 0:t[1],o=x.source[s.vU];if(!(o&&o[n])){const[t,n,...o]=e,s=i.slice(t,t+n);let a;return r.n.setUndo(h,"before@splice",{start:t,now:{deleteCount:o.length,replaced:s},pre:{deleteCount:n,replaced:o}}),r.n.sleep((()=>{a=b.call(h,...e)})),a}return b.call(h,...e)}return b.call(h,...e)})):/^(indexOf)$/gi.test(f)?(...e)=>{const t=e.map((e=>y(e))),n=i.map((e=>y(e)));return b.call(n,...t)}:b:C.get(f,b,(()=>(...e)=>{try{if(i instanceof Date||i instanceof Set||i instanceof Map)return i[f].call(i,...e);try{const t=(0,l.VA)(i),n=i[f].call(h,...e);if(t){const e=t["aop-after"];if(e&&"object"==typeof e){const t=e[f];if(t){const e=h[t];"function"==typeof e&&e.call(h)}}}return n}catch(t){if(t instanceof TypeError)return i[f](...e);throw t}}catch(e){throw e}})),e}return M.push(I,f),v&&-1!==v.indexOf(f)?b:"object"==typeof b&&b&&!((0,o.sT)(b)||b instanceof RegExp||b.$$typeof||b.nodeType&&b._id)?C.get(f,b,(()=>{let t;return g(i)&&!(0,o.Qn)(i,f)&&(t=f),e(b,_,I,t)})):b}if(M.push(I,f),p){const e=function(e,t,n){if("parents"===n.direction){let i,o=n.node.parent;for(;o&&(!o.implementAry||!o.implementAry.find((n=>{if(n.type===e&&"children"===n.direction){try{i=n.proxy[t]}catch(e){if(!(e instanceof a.G))throw e}if(void 0!==i)return!0}})));)o=o.parent;if("function"==typeof i)return i}else if("children"===n.direction){const i=[],o=n=>{n&&n.length>0&&n.forEach((n=>{n.implementAry&&n.implementAry.find((n=>{if(n.type===e){let e;try{e=n.proxy[t]}catch(e){if(!(e instanceof a.G))throw e}if(void 0!==e)return i.push(e),!0}}))||o(n.children)}))},r=n.node.children;if(o(r),i.length>0)return i}}(t,f,p());return Array.isArray(e)?(...t)=>{const n=[];e.forEach((e=>{n.push(e(...t))}));const i=n.filter((e=>void 0!==e));return 0===i.length?void 0:1==i.length?i[0]:i}:e}},set(e,t,n,i){if("__proto__"===t)return e[t]=n,!0;const s=e[t];if(s!==n||Array.isArray(e)&&t&&"length"===t){const a=A+(t.match(/^\d+$/)?`[${t}]`:"."+t);if(r.n&&g(e)&&!(0,o.sT)(s)){(0,o.Qn)(e,t,!0)||r.n.ifReally&&!r.n.ifReally(e,t,n,a)||r.n.setUndo(i,t,s)}const l=(0,o.Nx)(e,t);if(l&&l.set)l.set.call(i,n);else try{e[t]=n}catch(e){console.error(e)}M.update(a,t,n)}return!0}});return _.proxy=I,I}(e,void 0,(null==n?void 0:n.parentNamespace)||"",!1)}function g(e){return s.MR in e||h.has(e)}function y(e,t){const n="object"==typeof e&&e&&e[d]||e;return t&&"object"==typeof n&&n?n[t]:n}function b(e){return"object"==typeof e&&e&&[c]in e}function v(e){b(e.target)&&e.target[p](e)}},18628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(64012),o=n(73912),r=n(90871),s=n(40737);function a(e,t,n,a){const l=[...arguments];let c;if(n=l.find((e=>"object"==typeof e)),a=l.find((e=>Array.isArray(e))),n&&n.from)c=(0,i.useRef)();else if(c={},a)throw new Error("Updater can not be used here.");let d=!c.current;if(void 0===c||!c.current){if(arguments.length<0)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");if("function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");const i={watcherPushed:{}};let a;if("function"==typeof t){const e=t((e=>{if(e&&"object"==typeof e)return i.implVal=e,!0}));"object"==typeof e&&(i.implVal=e)}const l=new Proxy({},{has(e,t){return this.get(e,t)},get(t,l){if("toString"===l||"valueOf"===l||"$$typeof"===l||"constructor"===l||l===Symbol.toPrimitive||l===Symbol.toStringTag||l===Symbol.iterator)return t[l];if(i.implVal){let e=i.implVal[l];if(void 0!==e)return e}if(null==n?void 0:n.from){const t=function(e,t,n,i,o){if(e+="Ary","parents"===n){let r,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t)return r=e.proxy,!0})));)s=s.parent;if(void 0!==r)return r[o]}else if("children"===n){const r=[],a=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t){let t;try{t=e.proxy[o]}catch(e){if(!(e instanceof s.G))throw e}if(void 0!==t)return r.push(t),!0}}))||a(i.children)}))},l=i.children;if(a(l),r.length>0)return r;throw new Error(`No implements found for(${o})`)}}("subject",e,null==n?void 0:n.from,a,l);let o;if(!i.watcherPushed[l]&&(0,r.AT)(t)&&"object"==typeof n.watch&&(o=n.watch)){i.watcherPushed[l]=!0;const e=new RegExp(`^${l}.(.+)$`);o.on.match(e)&&(0,r.BF)({target:t,on:o.on.replace(e,"$1"),exe:o.exe,node:a})}return t}{const t=o.F.curRT.getNode();if(t&&t.subjectAry){let n;return t.subjectAry.find((t=>{if("self"===t.direction&&t.type===e)return n=t.proxy[l],!0})),n}}},set(t,i,r){let s=a,l=null==n?void 0:n.from;return l||(l="self",s=o.F.curRT.getNode()),s&&function(e,t,n,i,o,r){if(e+="Ary","parents"===n){let n,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{e.type===t&&(n=e)})));)s=s.parent;if(n)n.proxy[o]=r}else if("children"===n){let n;const s=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.type===t)return n=e,!0}))||s(i.children)}))},a=i.children;s(a),n&&(n.proxy[o]=r)}else"self"===n&&i.subjectAry&&i.subjectAry.find((e=>{if("self"===e.direction&&e.type===t)return e.proxy[o]=r,!0}))}("subject",e,l,s,i,r),!0}});n&&n.from&&(a=o.F.regListener("observer",{type:e,direction:n.from,proxy:l}),o.F.regListener("subject",{type:e,direction:"self",proxy:l})),i.proxy=l,c.current=i}if(a){const e=[...a],n=(0,i.useCallback)((()=>{if(a&&!d){const e=c.current.implVal;"function"==typeof t&&t((t=>{if(t&&"object"==typeof t){for(let n in t)e[n]=t[n];return!0}}))}}),e);(0,i.useEffect)(n,e)}return c.current.proxy}},7274:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>E,Hr:()=>C,aZ:()=>g,hR:()=>f});var i=n(64012),o=n.n(i),r=n(73912),s=n(76033),a=n(68917),l=n(72903),c=n(75249);const{ReactCurrentDispatcher:d,ReactCurrentOwner:u}=o().__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p="_cur_parent_info_",f="_parent_info_",h="_render_in_node_info_",m="__enhanced__",g=(0,c.nF)("CurrentNodeInfo",{});let y,b,v,x;const A=o().createContext(!1),w=function(...e){return _(s.render,...e)};w.test=function(e,t){return _(s.render,t)};const E=w,C=(o().createContext(void 0),function(...e){const t=(0,a.H)(...e);return{unmount(...e){},render:(...e)=>_(t,...e)}});function _(e,...t){if(v||(v=o().forwardRef,o().forwardRef=x=function(e){if(!("function"!=typeof e||e.prototype&&(e.prototype instanceof o().Component||void 0!==e.prototype.isReactComponent))){const t=M(e,!0);return v(t)}return v(e)}),y||(y=o().createElement,o().createElement=b=function(...e){if(!g.current&&!A.Consumer._currentValue)return y(...e);let t;if(e.length>0&&"function"==typeof(t=e[0])){if(!t.prototype||!(t.prototype instanceof o().Component)&&void 0===t.prototype.isReactComponent){const n=M(t);e.splice(0,1,n);const i=e[1]||{};if(!i[f])try{Object.defineProperty(i,f,{value:o().createElement[p],writable:!1,enumerable:!0,configurable:!1})}catch(e){console.info(`Object.defineProperty 'PARENT_NODE_INFO' error,in object ${i}.`)}e.splice(1,1,i)}return y(...e)}if("string"==typeof e[0]){const t=e[1];if(t){const e=o().createElement[h];if(e){const n=e.id;l.p.forEach((e=>{const i=t[e];"function"==typeof i&&(t[e]=function(...e){let o;return r.F.curRT.setNodeInfoId(n),(0,s.unstable_batchedUpdates)((()=>{try{o=i(...e)}catch(e){const n=r.F.curRT.getNode();k("render",(null==n?void 0:n.props)||t,e)}})),r.F.curRT.clear(),o})}))}}}return y(...e)}),t.length>0){let e=t[0];if(e){if("function"==typeof e){o().createElement=y;try{e=e()}catch(e){throw e}finally{o().createElement=b}}const n=e.type,i=e.props;if(n){const r=M(n),s=e.key?{key:e.key,ref:e.ref}:{ref:e.ref},a=o().createElement(A.Provider,{value:!0},o().createElement(r,Object.assign(s,i)));t.splice(0,1,a)}}}if("function"==typeof e){return e.call(void 0,...t)}if("object"==typeof e){return e.render.call(e,...t)}}function M(e,t){let n=!1,o=e[m];if(!o){"object"==typeof e&&e.$$typeof===Symbol.for("react.forward_ref")&&(n=!0),n?(e.render=I(e.render,!1),o=(0,i.memo)(e)):o=t?I(e,!1):I(e);try{e[m]=o}catch(e){}}if(!t){const t=Object.getOwnPropertyNames(e);t&&t.forEach((t=>{try{o[t]=e[t]}catch(e){console.error(e)}}))}return o}function I(e,t=!0){function n(t,s){const a=(0,i.useMemo)((()=>{const n={id:(0,c.uR)(),version:0,name:e.name,component:e,parent:r.F.searchNode(t[f]),props:t,responsives:new Set,children:[],subjectAry:[],observerAry:[],implementAry:[]};return r.F.regNode(n),n}),[]),l=g.current;g.current=a,o().createElement[p]=a.id,o().createElement[h]=a;let u={_from_:"render",hoc:n,nodeInfo:a,update:P(),_curSnap:void 0,getSnap(){if(!this._curSnap){const e=this;this._curSnap={_snap_:!0,version:e.nodeInfo.version,_from_:e._from_,hoc:e.hoc,nodeInfo:e.nodeInfo,update:e.update,getSnap:()=>e._curSnap}}return this._curSnap},updateSnap(){this._curSnap&&(this._curSnap.invalid=!0,this._curSnap=void 0)}};(0,i.useEffect)((()=>()=>{r.F.cleanUpdater(u),u=void 0}),[]),r.F.setCurUpdater(u);const m=d.current;let y,b;if(m){const e=m.useMemo;if(y=m.useEffect,a){if(e&&!e._rxui_){const n=function(n,i){return e((function(...e){let i;try{i=r.F.stopWatch((()=>n(...e)))}catch(e){k("useMemo",t,e)}return i}),i)};n._rxui_=!0,m.useMemo=n}if(y&&!y._rxui_){const e=function(e,n){return y((function(...n){let i;r.F.curRT.setNodeInfoId(a.id);try{i=e(...n)}catch(e){k("useEffect",t,e)}finally{r.F.curRT.clear()}return i}),n)};e._rxui_=!0,m.useEffect=e}}}try{b=e(t,s)}catch(e){b=k("render",t,e)}return null==b&&(b=o().createElement(o().Fragment)),y&&(m.useEffect=y),g.current=l,o().createElement[h]=a.parent,b}return n.displayName=e.displayName||e.name,t?(0,i.memo)(n):n}function k(e,t,n){if(!t||"function"!=typeof t._onError_&&"function"!=typeof t._onerror_){const i=t[f];if(i){const t=r.F.searchNode(i);if(null==t?void 0:t.props)return k(e,t.props,n)}throw n}return(t._onError_||t._onerror_)(n,e)}function P(){const[e,t]=(0,i.useState)(0);return(0,i.useCallback)((e=>{t((e=>e+1))}),[])}},73912:(e,t,n)=>{"use strict";n.d(t,{F:()=>f});var i=n(7274),o=n(75249),r=n(76033);const s=(0,o.nF)("nodes",{});let a,l,c=null;const d=(0,o.nF)("IgnoreRx",{stopWatcher:void 0,updateLater:void 0,stopUpdate:void 0});let u=(0,o.nF)("curUpdater",{cur:void 0});const p=(0,o.nF)("batchStack",[]);var f;function h(e,t){return e&&t&&e.nodeInfo&&t.nodeInfo&&e.nodeInfo.id===t.nodeInfo.id&&e.hoc===t.hoc}!function(e){function t(e){return s[e]}function n(e,t){var i;null===(i=e.responsives)||void 0===i||i.forEach((t=>{t.forEach(((n,i)=>{n.nodeInfo&&!n.nodeInfo.invalid&&n.nodeInfo.id!==e.id||t.splice(i,1)}))}));const o=s[e.id];if(o){if(o.parent){const t=o.parent.children;t.forEach(((n,i)=>{n.id===e.id&&t.splice(i,1)}))}o.children&&o.children.forEach((e=>{n(e)})),s[e.id]=null,delete s[e.id]}e.component=null,e.invalid=!0,e.props=null}e.curRT={setNodeInfoId(e){a=e},setInfoIdForDelay(){l=a},getNode(){const e=i.aZ.current;if(e)return s[e.id];if(a){const e=s[a];if(e)return e}return l?s[l]:void 0},clear(){a=null},clearDelay(){l=null}},e.regNode=function(e){if(s[e.id]=e,c){let n,i=e.parent;if(i){if(i.invalid)return;n=t(i.id),e.parent=n,n.children.push(e)}}else c=e},e.regListener=function(e,n){const o=i.aZ.current;if(!o)throw new Error("CurrentNodeInfo.current is undefined.");const r=t(o.id);return n&&r[e+"Ary"].push(n),r},e.getCurNode=function(){const e=i.aZ.current;if(!e)throw new Error("CurrentNodeInfo not found.");return t(e.id)},e.searchNode=t,e.setCurUpdater=function(e){u&&(u.cur=e)},e.getCurUpdater=function(){if(u)return u.cur},e.stopWatch=function(e){if("function"==typeof e){d.stopWatcher=!0;try{return e((()=>{d.stopWatcher=void 0}))}finally{d.stopWatcher=void 0}}},e.keepWatch=function(e){if("function"==typeof e){const t=d.stopWatcher;d.stopWatcher=void 0;try{return e((()=>{d.stopWatcher=t}))}finally{d.stopWatcher=t}}},e.updateLater=function(e){if("function"==typeof e){d.updateLater=[];try{const t=d.updateLater;return e({ary:t,bat(e){d.updateLater=void 0,(0,r.unstable_batchedUpdates)((()=>{e()}))},updateAll(){d.updateLater=void 0,(0,r.unstable_batchedUpdates)((()=>{t.forEach((e=>{e.update()}))}))}})}finally{}}},e.stopUpdate=function(e){if("function"==typeof e){d.stopUpdate=!0;try{return e((()=>{d.stopUpdate=void 0}))}finally{d.stopUpdate=void 0}}},e.igonreObservableBefore=function(){u={}},e.cleanUpdater=function(e){try{e.updateSnap(),n(e.nodeInfo),e.nodeInfo&&(e.nodeInfo=null),e.hoc=null,e.update=null}catch(e){console.error(e)}},e.applyBatch=function(){const e=[];return p.push(e),{commit(){p.pop(),e.forEach((e=>{e&&e.nodeInfo&&!e.nodeInfo.invalid&&e.update(e)}))},cancel(){p.pop()}}};const o=function(){let e,t=[];return{clear(){t=[]},push(n){t.find((e=>h(e,n)))||t.push(n.getSnap()),e||(e=1,Promise.resolve().then((()=>{e=void 0,t.forEach(((e,n)=>{t[n]=void 0,e&&e.nodeInfo&&!e.nodeInfo.invalid&&(e.invalid?console.log("updater.invalid",e):e.update())})),t=t.filter((e=>e))})))}}}();e.applyAgent=function(t){const n={_parentNS_:t},s={push(t,o){var r;if(d.stopWatcher)return;let s=n[o];s||(s=n[o]=[]);const a=e.getCurUpdater();if(a){if(!a.nodeInfo)return;let e;a.nodeInfo.responsives.add(s),s.find(((t,n)=>{if(h(t,a))return e=n,!0}))?e>=0&&(s[e]=a.getSnap()):(null===(r=i.aZ.current)||void 0===r?void 0:r.id)===a.nodeInfo.id&&s.push(a.getSnap())}},update(t,i,s){if(d.stopUpdate)return;const l=t+"="+("function"==typeof s?"function":"object"==typeof s?"{..}":s),c=p[p.length-1];if(c){const e=n[i];e&&e.length>0&&e.forEach((e=>{!e.nodeInfo||e.nodeInfo.invalid||c.find((t=>h(t,e)))||(e.watch=`[${e.nodeInfo.id}]${l}`,c.push(e))}))}else if(d.updateLater){let t=n[i];if(t)try{t.forEach(((n,i)=>{if(n&&n.nodeInfo&&!n.nodeInfo.invalid&&!n.invalid){n.watch=`[${n.nodeInfo.id}]${l}`;const t=e.getCurUpdater();if(t&&t===n)return;return t&&t.nodeInfo.id!==n.nodeInfo.id?a&&a===n.nodeInfo.id?d.updateLater.push({nodeInfo:n.nodeInfo,update:function(){n.update(n)}}):o.push(n):d.updateLater.push({nodeInfo:n.nodeInfo,update:function(){n.update(n)}}),n}t.splice(i,1)})),0===n[i].length&&(n[i]=void 0,delete n[i])}catch(e){console.error(e)}}else{let t=n[i];if(t)try{(0,r.unstable_batchedUpdates)((()=>{t.forEach(((n,i)=>{if(n&&n.nodeInfo&&!n.nodeInfo.invalid&&!n.invalid){n.watch=`[${n.nodeInfo.id}]${l}`;const t=e.getCurUpdater();if(t&&t===n)return;return t&&t.nodeInfo.id!==n.nodeInfo.id?(a&&n.nodeInfo.id,n.update(n)):n.update(n),n}t.splice(i,1)}))})),0===n[i].length&&(n[i]=void 0,delete n[i])}catch(e){console.error(e)}}}};return s}}(f||(f={}))},26802:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,n:()=>r});var i=n(73912);const o=/^before\@splice$/;let r;function s(e){return r=new a(e),r}class a{resetUndoStates(){this._undo.states=[]}resetRedoStates(){this._redo.states=[]}constructor(e){this._undo={states:[]},this._redo={states:[]},this.title=e.title,this.ifReally=e.ifReally,this.onUndo=e.onUndo,this.onRedo=e.onRedo,this.callback=e.callback,this.listener=e.listener,this.ignore=e.ignore}pause(){this.paused=!0}resume(){this.paused=void 0}setUndo(e,t,n,i){this.sleeping||this.paused||"function"==typeof this.ignore&&this.ignore({target:e,prop:t,val:n})||this.set(e,t,n,this._undo)&&this.listener&&(void 0!==i&&!0!==i||this.listener(e,t,n))}setRedo(e,t,n,i){this.sleeping||this.paused||this.set(e,t,n,this._redo)&&this.listener&&(void 0!==i&&!0!==i||this.listener(e,t,n))}sleep(e){this.sleeping=!0;try{"function"==typeof e&&e()}catch(e){throw e}finally{this.sleeping=!1}}dump(){return r=null,this}undo(e){r=null;const t=i.F.applyBatch();try{this._undo.states.reverse().forEach((({obj:e,prop:t,val:n})=>{let i;if(Array.isArray(e)&&"length"===t)i=n;else if(l(t)){const{start:e,now:t,pre:o}=n;i={start:e,now:o,pre:t}}else i=e[t];this.setRedo(e,t,i,!1),this.setVal(e,t,n)})),t.commit(),this.resetUndoStates(),"function"==typeof this.onUndo&&this.onUndo(e)}catch(e){console.error(e),t.cancel()}}redo(){r=null;const e=i.F.applyBatch();try{this._redo.states.reverse().forEach((({obj:e,prop:t,val:n})=>{let i;if(l(t)){const{start:e,now:t,pre:o}=n;i={start:e,now:o,pre:t}}else i=e[t];this.setUndo(e,t,i,!1),this.setVal(e,t,n)})),e.commit(),this.resetRedoStates(),"function"==typeof this.onRedo&&this.onRedo()}catch(t){console.error(t),e.cancel()}}cancel(){r=null}set(e,t,n,i,o){if(!l(t)&&i.states.length>1){let o,r;for(let n=i.states.length-1;n>=0;n--){const s=i.states[n];if(s.obj===e&&s.prop===t){if(o){r=s;break}o=s}}if(o&&r)return o.val=n,!0}return i.states.push({obj:e,prop:t,val:n,callback:o}),!0}setVal(e,t,n){if(Array.isArray(e)){const i=e;if(l(t)){const{start:e,now:t,pre:o}=n;i.splice(e,t.deleteCount,...t.replaced)}else t.match(/^\d+$/)&&void 0===n?e.splice(parseInt(t),1):"length"===t?e.length===n&&(e[t]=n):e[t]=n}else e[t]=n;this.listener&&this.listener(e,t,n)}}function l(e){return e.match(o)}},26929:(e,t,n)=>{"use strict";n.d(t,{ZS:()=>c,gO:()=>h,qz:()=>m,tN:()=>l});var i=n(26802),o=n(90871);const r=(s=[{}],{push(e){s.length>=30&&s.shift(),s.push(e)},handler:(0,o.Ay)({name:"Undo",get size(){return s.length},exe(){if(s.length<=1)return;const e=s.pop();if(e.undo(),"function"==typeof e.callback)try{e.callback()}catch(e){console.error(e)}a.push(e)}})});var s;const a=(e=>({clear(){e.splice(1,e.length-1)},push(t){e.push(t)},handler:(0,o.Ay)({name:"Redo",get size(){return e.length},exe(){if(e.length<=1)return;const t=e.pop();if(t.redo(),"function"==typeof t.callback)try{t.callback()}catch(e){console.error(e)}r.push(t)}})}))([{}]),l=r.handler,c=a.handler;let d,u,p;function f(e){setTimeout((e=>{if(d){const e=d.until-((new Date).getTime()-d.from);e<=0?(r.push(d.dump),d=void 0):f(e)}}),e)}function h(){return!!p}function m(e){if(d)if(u!==e.title)r.push(d.dump),d=void 0,u=void 0;else{if(!(d.until>0&&(new Date).getTime()-d.from>d.until))return{on(e){},wait(){},pause(){},pauseNext(){},resume(){},setCallback(e){t.callback=e},commit(e){if(d.until<0)e&&e.wait?(d.from=(new Date).getTime(),f(d.until)):(r.push(d.dump),d=void 0);else{let t=d.until-((new Date).getTime()-d.from);if(t<=0)return r.push(d.dump),void(d=void 0);e&&e.wait&&(d.from=(new Date).getTime(),t=d.until),f(t)}t.commit(),a.clear()},cancel(){u=void 0,t.undo()}};r.push(d.dump),d=void 0}if(u=e.title,p){const e=new Object;return Object.setPrototypeOf(e,p),e.commit=function(...e){},e}let t=(0,i.P)(e),n=!1;return p={title:e.title,on(e){},wait(){if(!d){const e=t.dump();d={from:(new Date).getTime(),until:-1,dump:e}}},pause(){t.pause()},pauseNext(){n?t.pause():n=!0},resume(){n=!1,t.resume()},setCallback(e){t.callback=e},commit(e){p=void 0,n=!1,t.resume();const i=t.dump();return e&&e.wait?d={from:(new Date).getTime(),until:e.wait,dump:i}:(u=void 0,r.push(i)),a.clear(),!0},cancel(){if(p=void 0,u)return u=void 0,t.undo(!0),!0}},p}},91704:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(64012),o=n(73912),r=n(7274);function s(e,t){const[,n]=(0,i.useState)(),r=o.F.getCurUpdater(),s=(0,i.useMemo)((()=>({c:0,fn:e,updater:{_from_:"useComputed",hoc:e,nodeInfo:r.nodeInfo,update:function(){n(s.c++)},_curSnap:void 0,getSnap(){if(!this._curSnap){const e=this;this._curSnap={version:e.nodeInfo.version,_snap_:!0,_from_:e._from_,hoc:e.hoc,nodeInfo:e.nodeInfo,update:e.update,getSnap:()=>e._curSnap}}return this._curSnap},updateSnap(){this._curSnap}}})),[]),a=(0,i.useMemo)((()=>{const t=s.updater;let n;o.F.setCurUpdater(t),t.updateSnap();try{n=o.F.keepWatch(e)}catch(e){if(!t.nodeInfo||!t.nodeInfo.props)throw e;l("render",t.nodeInfo.props,e)}finally{o.F.setCurUpdater(r)}return n}),[s.c,...t||[]]);return(0,i.useEffect)((()=>()=>{o.F.cleanUpdater(s.updater)}),[]),a}const a=new WeakMap;function l(e,t,n){if(a.has(n))return console.error(n),void setTimeout((e=>a.delete(n)));if(a.set(n,!0),!t||"function"!=typeof t._onError_&&"function"!=typeof t._onerror_){const i=t[r.hR];if(i){const t=o.F.searchNode(i);if(null==t?void 0:t.props)return l(e,t.props,n)}throw n}return(t._onError_||t._onerror_)(n,e)}},33674:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(64012),o=n(73912),r=n(90871),s=n(36266);const a="__observable_proxy__";function l(e,t,n,a,l){const u=[...arguments];n=u.find((e=>"object"==typeof e?e:void 0));const p=(0,i.useRef)(null);let f=!p.current;if(f){if(arguments.length<1)throw new Error("invalid arguments,expect <T>(class:new ()=>T|T).");if("object"!=typeof e&&"function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T|T).");let i;i="function"==typeof e?new e:e;let a=null;const l=(0,r.Ay)(i,e,n,(()=>a));if("function"==typeof t&&o.F.stopWatch((e=>{t((t=>{if(e(),t&&"object"==typeof t)return c(t,l),!0}))})),"object"==typeof n){if(n.to){const t=d(e,l,n.to);t&&(a=t)}else if(n.expectTo){const t=d(e,l,n.expectTo);t&&(a=t)}"function"==typeof n.init&&n.init((0,r.AF)(l))}d(e,l,"self");const f=u.find((e=>"string"==typeof e?e:void 0));f&&(0,s.M)(f,l,e),p.current=l}l=u.find((e=>Array.isArray(e)))||[];const h=[...l],m=(0,i.useCallback)((()=>{if(l&&!f){const i=p.current;if("function"!=typeof e)for(let t in e){const n=e[t];i[t]=n}else"function"==typeof t&&o.F.stopWatch((e=>{t((t=>{if(e(),t&&"object"==typeof t){for(let e in t)i[e]=t[e];return!0}}))}));"function"==typeof(null==n?void 0:n.init)&&n.init((0,r.AF)(i))}}),h);return(0,i.useMemo)(m,h),p.current}function c(e,t){const n=Object.getOwnPropertyNames(e);n&&n.forEach((n=>{const i=e[n];"function"==typeof i?"constructor"!==n&&(t[n]=i):t[n]=i}));const i=Object.getPrototypeOf(e);i&&i!==Object.prototype&&c(i,t)}function d(e,t,n){if("string"!=typeof n||!/^(children|parents|self)$/gi.test(n))throw new Error("direction = 'children'|'parents' expect.");const i=new Proxy({},{has:(e,t)=>t===a||t in e,get:(e,n)=>t[n],set:(e,n,i)=>(t[n]=i,!0)}),r=o.F.regListener("subject",{type:e,direction:n,proxy:i});if(r&&"self"!==n)return{direction:n,node:r}}},30278:(e,t,n)=>{"use strict";n(64012)},13923:(e,t,n)=>{"use strict";n(90871),n(64012),n(73912)},75249:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>f,MQ:()=>c,Nx:()=>u,Qn:()=>r,c:()=>m,ih:()=>s,nF:()=>y,oF:()=>d,sT:()=>a,uR:()=>l,xY:()=>h});var i=n(5680),o=n(64488);function r(e,t,n){if(n){const n=e[o.us];if(n&&n[t])return!1;const i=e[o.vU];if(i)return i[t]}else{const n=e[o.vU];if(n)return n[t];const i=e[o.us];if(i)return i[t]}return!1}function s(e){return e[o.MR]||e[o.zz]}function a(e){if("function"==typeof HTMLElement)return e instanceof HTMLElement;e&&"object"==typeof e&&(1===e.nodeType||9===e.nodeType)&&e.nodeName}function l(e="u_",t=5){return e+(0,i.Ak)(t).replace(/-/gi,"_")}function c(e,t){let n;if("string"==typeof t){let e=t.lastIndexOf(".");n=-1!==e?t.substring(e+1):t}else n=e.name;return n.replace(/[^\w]/gi,"_")}function d(e,t){let n=[];do{if(e==Object.prototype||e==Function.prototype)break;try{n=n.concat(Object.getOwnPropertyNames(e))}catch(e){console.error(e)}}while(e=Object.getPrototypeOf(e));return n.filter((n=>{if(!t||t&&"function"!=typeof e[n])return"constructor"!=n&&!/^__.+/g.test(n)}))}function u(e,t){let n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){let i=e;for(;void 0===n&&null!=(i=Object.getPrototypeOf(i))&&i!==Object.prototype;)n=Object.getOwnPropertyDescriptor(i,t)}return n}const p="[object Symbol]";function f(e){return"symbol"==typeof e||function(e){return"object"==typeof e&&null!==e}(e)&&Object.prototype.toString.call(e)===p}function h(e=100,t){let n,i,o=!1;const r=t||setTimeout,s=function(){Date.now()-i>=e?(n(),n=void 0,i=void 0,o=!1):(o=!0,r(s,e))};return function(e){n=e,i=Date.now(),o||s()}}function m(){let e,t=[];return{push(n,...i){t.find((e=>e.task===n))||t.push({task:n,args:i}),e||(e=1,requestAnimationFrame((()=>{e=void 0,t.forEach((({task:e,args:n},i)=>{e(...n),t[i]=void 0})),t=t.filter((e=>e))})))}}}const g={};function y(e,t){const i="object"==typeof window?window:"object"==typeof n.g?n.g:g;let o;if(i){let n=i.__rxui__;void 0===n&&(n=i.__rxui__={}),o=n[e]?n[e]:n[e]=t}else o=t;return o}},32568:e=>{"use strict";e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRDN0YyREVEMzE2OTExRTI4OTgzRTlDNEE1QzA1NTcyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRDN0YyREVFMzE2OTExRTI4OTgzRTlDNEE1QzA1NTcyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEM3RjJERUIzMTY5MTFFMjg5ODNFOUM0QTVDMDU1NzIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEM3RjJERUMzMTY5MTFFMjg5ODNFOUM0QTVDMDU1NzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAB5AH0DAREAAhEBAxEB/8QAaAABAQEBAQAAAAAAAAAAAAAAAQIAAwcBAQEBAAAAAAAAAAAAAAAAAAABAhAAAQMDAwMEAgMBAQAAAAAAAQARITFBAlFxEvBhgaGxwSIyQpHR4VLSEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8A95FX+FpAPxL66IDJnMxsgkANW2iCocbaIJiJ9EDiA4/pBWI+p/pAgFsoQYECyDYkNlpHugMm49aIM540vruqM5j621GigCexpqgJ0QV+yDW8oNkA/WqAb67hAjH7IBg4hBgC+wQUMTwKCQ89WQBxJYt06DcWxMC3ugcsTSOggwgUFdd0GBgbFBsXaEGnk8UQWchykoBx2qg2TSXHRVED8RIooKx3ogCziQg16oKgYVqR8oJDMUD9WG3zug2XHW/zugMiBdBiYugCYZjRBWLcDBQZg9Dogcnd46KANPKDEGo9+6AHJhNtUFgu8mmqCPs4n1VCCdT/AD3UFP8AUSaoJjiXJqgxZgO2iDZN6oJLG5qgTxYVQYswg07oKBHAxprqgHHL8enQBAq+rqg4Y6j+EDwxmbaKDccPTsgoYY+hQTwxifZAjHCN/lAnDHgIVGYMwF+6gk0EW7oEifPV0EtD90C/sgTkWDaIMMsuICDTy8/KDFxjXVBWOWViEGOWXE0ognLlNDHZA4vysgSci1KIJlxT01QY0FEGYM8O6DQLBAkzS6CXil0GccSZvZAjgwk0Njogfq2LH3QMPWX+UEFuR2rKCgaboJydBbfU+boJyEYn57IMH5f6grIFxsboJYPlN9eyDDi1dVRmxc/YKDBv+rINkPtXp0A5ZBJ1690FBnEGgt/qAhnQJA5FggWHLyUAWeEF2Ox90EZUHVkDjXrVA5PHlBM8smevwgS7UN/hAESXHogzQgcgQX7qhIPGg9f6UEHEtT3QaQRsNUA2XHwg6ABzN0GDOZ1QSTogsEsdj7oIL/WYQbF3CCi54+fdBH2mboKPJjPv2QByyo99CgAcpPbugcnYlroNyyONEGfJqIMTQdkC318fKDOeRi6ABPExqgwd7UQUKVFCgxaJFEE4uwkILh8ZF0AGrCBfE8kBBNv4VGGL45U6Kg2WH1NPTRBji2NkGZgNkEkyK0VBa/8AHdQWMprG6AB+pkVQGVTIQT5FEFUImyAmJCDY1EoKx/EygRlGUoMCLlBsWbKenQGQHHrRBnHHzpuqM4iDTTsoAkWemiA8ILnlVAW8oNkJQS31pUIKAPJANIQYA6WQViMuBKAByms/0gku4r0UGD8TW1+6ByBox6CBEC9VQOWGxUGFKOg08qQyCz+SAYeqDZAv/vdBM8RsgcXKDEEEb6oCQUFUw3I+UAKFBmAAm2vfZBsh36fZAZboMSOyCScWbtogvE48DM7ICHr6KishLt06gkiKXQYg6e2qDB2EW0CChL7aBBJBcR6BUI6gKCv1FK6boJYcTIqgxZhSnfVBsh7oJyAN76IEswlBjxYTZBWOWPAzp7oB8eV6/KDEEy9e6onhkb31UDwLGbd0G4a5W7oKGPexQTwdvt7oEYhx9r99UCcRwElUYgNrOqgk0Faa/wCIEifKCWDP3QLj0QJyDDZAjI8RCAnl5+UE5UO5QAqqLF9lAD4QXjQ7JBBoEDjbq6Cj+AVB/wClAGnhBjXyg369d0AECP12KDGyDft5+UH/2Q=="},85724:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg width=%27100%27 height=%27100%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Ctext x=%2750%25%27 y=%2750%25%27 font-size=%2712%27 fill-opacity=%270.2%27 text-anchor=%27middle%27 dominant-baseline=%27middle%27 transform=%27rotate%28-45, 50 50%29%27%3E加载中%3C/text%3E%3C/svg%3E"},44912:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMyIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMTExXzM3MDgxKSI+PHBhdGggZmlsbD0iIzAwMCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjEuMDA4MTkiIGQ9Ik0xMy41MDQgMTYuNFY5YTcuNTAxIDcuNTAxIDAgMCAxIDcuNDkxLTcuNDk2IDcuNDk2IDcuNDk2IDAgMCAxIDAgMTQuOTkySDEzLjZhLjA5NS4wOTUgMCAwIDEtLjA2OC0uMDI4bC0uMzU3LjM1My4zNTctLjM1M2EuMDk1LjA5NSAwIDAgMS0uMDI4LS4wNjlaIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMTExXzM3MDgxIiB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHg9Ii0xLjk5NzMxIiB5PSItMSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9ImhhcmRBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNCAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzExMTFfMzcwODEiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTExMV8zNzA4MSIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4="},22275:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNSIgaGVpZ2h0PSIzNSIgZmlsbD0ibm9uZSI+PGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMTU1XzM4MTc1KSI+PHBhdGggZmlsbD0iIzAwMCIgc3Ryb2tlPSIjZmZmIiBkPSJtMTYuMTU4IDE1LjUyNi0uOTQ5LS4zMTYuMzE3Ljk0OCA0LjM4NyAxMy4xNjMuNDE2IDEuMjQ4LjUxOC0xLjIxIDIuNTg2LTYuMDQ0IDUuOTIyLTIuNDY2IDEuMjMzLS41MTQtMS4yNjctLjQyMi0xMy4xNjMtNC4zODdaIi8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMTU1XzM4MTc1IiB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIHg9Ii0yIiB5PSItMSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9ImhhcmRBbHBoYSIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldCBkeT0iMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNCAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzExNTVfMzgxNzUiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTE1NV8zODE3NSIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4="},72059:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__72059__},4818:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__4818__},64012:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__64012__},76033:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__76033__},5680:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>o});var i=n(67560);let o=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=i.x[63&n[e]];return t}},67560:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});const i="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"},74521:e=>{"use strict";e.exports=JSON.parse('{"deprecated":true,"visibility":false,"title":"连接器","namespace":"mybricks.core-comlib.connector","author":"MyBricks","author_name":"MyBricks","version":"1.0.0","description":"连接器","runtime":"./runtime.ts","editors":"./editors.tsx","icon":"./icon.svg","rtType":"js-autorun","inputs":[{"id":"call","rels":["then","catch"],"title":"调用","schema":{"type":"object"}}],"outputs":[{"id":"then","title":"结果","schema":{"type":"unknown"}},{"id":"catch","title":"发生错误","schema":{"type":"string"}}]}')},50775:e=>{"use strict";e.exports=JSON.parse('{"visibility":false,"title":"打开对话框","namespace":"mybricks.core-comlib.scenes","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"切换场景","icon":"./icon.png","runtime":"./runtime.ts","data":"./data.json","rtType":"js","inputs":[{"id":"open","title":"打开","schema":{"type":"any"}}]}')},66898:e=>{"use strict";e.exports=JSON.parse('{"_sceneId":null,"_sceneShowType":null,"openType":"blank"}')},3721:e=>{"use strict";e.exports=JSON.parse('{"title":"类型转换","visibility":false,"namespace":"mybricks.core-comlib.type-change","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"类型转换","icon":"./icon.png","runtime":"./rt.tsx","editors":"./editors.tsx","rtType":"js","inputs":[{"id":"from","title":"从","schema":{"type":"follow"},"rels":["to"]}],"outputs":[{"id":"to","title":"到","schema":{"type":"follow"},"conMax":1,"editable":true}]}')},85927:e=>{"use strict";e.exports=JSON.parse('{"visibility":false,"title":"变量","namespace":"mybricks.core-comlib.var","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"变量","icon":"./icon.png","data":"./data.json","runtime":"./Var.tsx","editors":"./editors.tsx","rtType":"js","inputs":[{"id":"get","title":"读取","schema":{"type":"any"},"rels":["return"]},{"id":"set","title":"赋值","schema":{"type":"follow"},"rels":["return"]},{"id":"reset","title":"重置","schema":{"type":"any"}}],"outputs":[{"id":"return","title":"完成","schema":{"type":"unknown"}},{"id":"changed","title":"当值发生变化","schema":{"type":"unknown"}}]}')},24930:e=>{"use strict";e.exports={}},61185:e=>{"use strict";e.exports=JSON.parse('{"title":"JS-AI","namespace":"mybricks.core-comlib.js-ai","version":"1.0.0","description":"JS-AI","author":"MyBricks","author_name":"MyBricks","icon":"./icon.svg","runtime":"./runtime.ts","editors":"./editors.ts","ai":"./ai.ts","rtType":"js-autorun","visibility":false,"inputs":[{"id":"input","title":"输入项","schema":[{"name":"inputValue0","title":"参数0","type":"follow"}],"editable":true}],"outputs":[{"id":"output0","title":"输出项0","schema":{"type":"unknown"},"editable":true}]}')},38717:e=>{"use strict";e.exports=JSON.parse('{"title":"Fn计算","namespace":"mybricks.core-comlib.fn","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"Fn计算","icon":"./icon.png","runtime":"./Fn.tsx","rtType":"js","visibility":false}')},91391:e=>{"use strict";e.exports=JSON.parse('{"visibility":false,"title":"作用域输入","namespace":"mybricks.core-comlib.frame-input","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"作用域输入","rtType":"js","runtime":"./runtime.ts","editors":"./editor.tsx","inputs":[{"id":"getCurValue","title":"获取","schema":{"type":"any"},"rels":["return"]}],"outputs":[{"id":"return","title":"结果","schema":{"type":"follow"}}]}')},71004:e=>{"use strict";e.exports=JSON.parse('{"visibility":false,"title":"输出","namespace":"mybricks.core-comlib.frame-output","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"作用域输出","rtType":"js","runtime":"./runtime.ts","editors":"./editor.tsx","inputs":[{"id":"output","title":"输出","schema":{"type":"any"}}]}')},63036:e=>{"use strict";e.exports=JSON.parse('{"title":"组","namespace":"mybricks.core-comlib.group","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"组","runtime":"./runtime.tsx","editors":"./editors.ts","slots":[{"title":"内容","id":"content","layout":"smart"}],"outputs":[{"id":"click","title":"单击","schema":{"type":"number"}},{"id":"dblClick","title":"双击","schema":{"type":"number"}}]}')},70777:e=>{"use strict";e.exports=JSON.parse('{"title":"模块","namespace":"mybricks.core-comlib.module","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"模块","icon":"./icon.png","data":"./data.json","runtime":"./runtime.tsx","editors":"./editors.ts","outputs":[{"id":"click","title":"单击","description":"点击模块触发的事件","schema":{"type":"any"}}]}')},62016:e=>{"use strict";e.exports={}},89177:e=>{"use strict";e.exports=JSON.parse('{"title":"选区","namespace":"mybricks.core-comlib.selection","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"选区","runtime":"./runtime.tsx","editors":"./editors.ts","slots":[{"id":"content"}]}')},22328:e=>{"use strict";e.exports=JSON.parse('{"title":"服务Fx","namespace":"mybricks.core-comlib.service","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"服务Fx","icon":"./icon.png","runtime":"./Service.tsx","rtType":"js","visibility":false}')},8330:e=>{"use strict";e.exports=JSON.parse('{"UU":"@mybricks/designer-spa","rE":"3.9.200"}')},39644:e=>{"use strict";e.exports={}},96323:e=>{"use strict";e.exports={msgAry:[]}},43855:e=>{"use strict";e.exports={rE:"1.1.0"}},60416:e=>{"use strict";e.exports=JSON.parse('{"UU":"@mybricks/render-web","rE":"1.3.48"}')}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".index.min.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="mybricks:",__webpack_require__.l=(e,t,n,i)=>{if(inProgress[e])inProgress[e].push(t);else{var o,r;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=s[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){o=l;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var c=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),r&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={792:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=o);var r=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(r,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,s,a]=n,l=0;if(r.some((t=>0!==e[t]))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);if(a)a(__webpack_require__)}for(t&&t(n);l<r.length;l++)o=r[l],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmybricks=self.webpackChunkmybricks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SPADesigner:()=>u,command:()=>o,createObservable:()=>p,version:()=>d});var e=__webpack_require__(64012),t=__webpack_require__.n(e),n=__webpack_require__(91737),i=__webpack_require__(94211),o=__webpack_require__(84896),r=__webpack_require__(8330),s=__webpack_require__(76033);if(!t()||!t().version.startsWith("17.")&&!t().version.startsWith("18."))throw new Error("React not found or version less than 17.x or 18.x");const{useMemo:a,forwardRef:l,version:c}=t();console.log(`%c ${r.UU} %c@${r.rE}`,"color:#FFF;background:#fa6400","","");const d=r.rE,u=l(((e,n)=>t().createElement(f,Object.assign({},e,{_ref:n}))));function p(e){if("object"==typeof e&&e)return(0,n.sH)(e)}function f({config:o,onMessage:r,onLoad:l,onEdit:d,onClick:u,onDebug:p,_ref:f}){const m=h({},o||{});m.geoView&&(m.geoView=h({type:"pc",nav:{float:!0},theme:{css:[]}},m.geoView));const g=(0,e.useRef)(),y=(0,e.useRef)();(0,e.useEffect)((()=>()=>{c.startsWith("18.")?g.current.unmount():(0,s.unmountComponentAtNode)(y.current)}),[]);return a((()=>t().createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},ref:e=>{e&&(y.current=e,c.startsWith("18.")?(g.current=(0,n.Hr)(e),g.current.render(t().createElement(i.A,{config:m,onLoad:l,onEdit:d,onMessage:r,onClick:u,onDebug:p,ref:e=>{"function"==typeof f?f(e):"object"==typeof f&&(f.current=e)}}))):g.current=(0,n.XX)(t().createElement(i.A,{config:m,onLoad:l,onEdit:d,onMessage:r,onClick:u,onDebug:p,ref:e=>{"function"==typeof f?f(e):"object"==typeof f&&(f.current=e)}}),e))}})),[])}function h(){var e=Array.from(arguments);return e.reduce((function e(t,n){t||(t=Array.isArray(n)?[]:{});if(n&&"object"==typeof n)for(let i in n)n.hasOwnProperty(i)&&(n[i]&&Array.isArray(n[i])?t[i]=n[i]:n[i]&&"object"==typeof n[i]?t[i]=e(t[i],n[i]):t[i]=n[i]);return t}),e[0])}})(),__webpack_exports__})()));