"use strict";(self.webpackChunkmybricks=self.webpackChunkmybricks||[]).push([[935],{71752:(n,e,i)=>{i.d(e,{A:()=>d});var o=i(88425),t=i.n(o),r=i(93042),a=i.n(r)()(t());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-fee6f,\n._aiWorkingDone-d1948,\n._aiWorkingError-c9c35 {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-fee6f:before,\n._aiWorkingDone-d1948:before,\n._aiWorkingError-c9c35:before,\n._aiWorking-fee6f:after,\n._aiWorkingDone-d1948:after,\n._aiWorkingError-c9c35:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-fee6f:after,\n._aiWorkingDone-d1948:after,\n._aiWorkingError-c9c35:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-a2042 3s infinite alternate;\n}\n._aiWorking-fee6f:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-e5e03 4s linear infinite;\n}\n._aiWorkingCover-da1ba {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-da1ba:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-d1948:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-c9c35:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-e6c26 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-e6c26 > .preview-c05ed {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-e6c26 .btns-d0d51 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-e6c26 .btns-d0d51 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-a2042 {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-e5e03 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeView-b95fa {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.codeView-b95fa .toolbar-db4fd {\n  height: 36px;\n  display: flex;\n  align-items: center;\n  padding: 2px 40px 2px 30px;\n  background: #FFF;\n  justify-content: flex-end;\n}\n.codeView-b95fa .toolbar-db4fd .fileName-fb7cf {\n  color: #AAA;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  margin-right: 10px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button {\n  cursor: pointer;\n  height: 20px;\n  line-height: 100%;\n  display: flex;\n  padding: 2px 10px;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  font-size: 12px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button:hover {\n  border-color: #CCC;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button svg {\n  display: none;\n  max-width: 13px;\n  margin-right: 3px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e:hover {\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnDisable-e3766 {\n  background: #EEE;\n  color: #AAA;\n  pointer-events: none;\n}\n.codeView-b95fa .coder-dde46 {\n  flex: 1;\n  padding: 0 !important;\n  overflow: hidden;\n}\n.codeView-b95fa .coder-dde46 > * {\n  padding: 0 !important;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-fee6f",_aiWorkingDone:"_aiWorkingDone-d1948",_aiWorkingError:"_aiWorkingError-c9c35",opacityChange:"opacityChange-a2042",shining:"shining-e5e03",_aiWorkingCover:"_aiWorkingCover-da1ba",_aiToConfirm:"_aiToConfirm-e6c26",preview:"preview-c05ed",btns:"btns-d0d51",codeView:"codeView-b95fa",toolbar:"toolbar-db4fd",fileName:"fileName-fb7cf",btnActive:"btnActive-abc9e",btnDisable:"btnDisable-e3766",coder:"coder-dde46"};const d=a},14487:(n,e,i)=>{i.d(e,{A:()=>d});var o=i(88425),t=i.n(o),r=i(93042),a=i.n(r)()(t());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-cc9b9,\n._aiWorkingDone-e0cf8,\n._aiWorkingError-b1811 {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-cc9b9:before,\n._aiWorkingDone-e0cf8:before,\n._aiWorkingError-b1811:before,\n._aiWorking-cc9b9:after,\n._aiWorkingDone-e0cf8:after,\n._aiWorkingError-b1811:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-cc9b9:after,\n._aiWorkingDone-e0cf8:after,\n._aiWorkingError-b1811:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-fda90 3s infinite alternate;\n}\n._aiWorking-cc9b9:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-c5a7c 4s linear infinite;\n}\n._aiWorkingCover-ae2a3 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-ae2a3:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-e0cf8:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-b1811:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-b4489 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-b4489 > .preview-d5bf5 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-b4489 .btns-b42ee {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-b4489 .btns-b42ee > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-fda90 {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-c5a7c {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.wrap-d3d84 {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n  padding-top: 36px;\n}\n.outline-fbb46 {\n  border-top: 1px solid #EEE;\n  height: 100%;\n  position: relative;\n  overflow: auto;\n  padding: 10px;\n}\n.outline-fbb46 .file-dfd8e {\n  border-radius: 6px;\n  position: relative;\n  height: 24px;\n  margin: 2px 5px;\n  padding: 0 10px 0 15px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.outline-fbb46 .fileActive-a3587 {\n  background: #DDD;\n}\n.sperV-f3e71 {\n  position: absolute;\n  right: -1px;\n  width: 5px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px;\n  margin-left: -2px;\n  z-index: 100;\n}\n.sperV-f3e71:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperV-f3e71:hover > div {\n  border-left-width: 0;\n}\n.sperV-f3e71 > div {\n  border-left: 1px solid #EEE;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-cc9b9",_aiWorkingDone:"_aiWorkingDone-e0cf8",_aiWorkingError:"_aiWorkingError-b1811",opacityChange:"opacityChange-fda90",shining:"shining-c5a7c",_aiWorkingCover:"_aiWorkingCover-ae2a3",_aiToConfirm:"_aiToConfirm-b4489",preview:"preview-d5bf5",btns:"btns-b42ee",wrap:"wrap-d3d84",outline:"outline-fbb46",file:"file-dfd8e",fileActive:"fileActive-a3587",sperV:"sperV-f3e71"};const d=a},29012:(n,e,i)=>{i.d(e,{A:()=>d});var o=i(88425),t=i.n(o),r=i(93042),a=i.n(r)()(t());a.push([n.id,".view-e48bb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  background-color: #fff;\n}\n",""]),a.locals={view:"view-e48bb"};const d=a},36821:(n,e,i)=>{i.d(e,{A:()=>x});var o=i(85072),t=i.n(o),r=i(97825),a=i.n(r),d=i(77659),s=i.n(d),c=i(55056),l=i.n(c),p=i(10540),b=i.n(p),g=i(41113),f=i.n(g),u=i(71752),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=b();t()(u.A,h);const x=u.A&&u.A.locals?u.A.locals:void 0},57658:(n,e,i)=>{i.d(e,{A:()=>x});var o=i(85072),t=i.n(o),r=i(97825),a=i.n(r),d=i(77659),s=i.n(d),c=i(55056),l=i.n(c),p=i(10540),b=i.n(p),g=i(41113),f=i.n(g),u=i(14487),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=b();t()(u.A,h);const x=u.A&&u.A.locals?u.A.locals:void 0},12507:(n,e,i)=>{i.d(e,{A:()=>x});var o=i(85072),t=i.n(o),r=i(97825),a=i.n(r),d=i(77659),s=i.n(d),c=i(55056),l=i.n(c),p=i(10540),b=i.n(p),g=i(41113),f=i.n(g),u=i(29012),h={};h.styleTagTransform=f(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=b();t()(u.A,h);const x=u.A&&u.A.locals?u.A.locals:void 0},96349:(n,e,i)=>{i.d(e,{A:()=>s});var o=i(94742),t=i.n(o),r=i(64012),a=i(36821),d=i(64012);function s({ctx:n}){const e=n.curFile,i=(0,r.useRef)(null),o=(0,r.useMemo)((()=>{if(e)return e._content||e.content||""}),[e,e._model._updateTime,e._updated]),s=(0,r.useMemo)((()=>{let n={};if("jsx"===e.type){n={path:`file:///${e._model.id}/${e.name}.tsx`,language:"typescript",encodeValue:!1,minimap:{enabled:!1},eslint:{parserOptions:{ecmaVersion:"2020",sourceType:"module"}},babel:!1,autoSave:!1,preview:!1,isTsx:!0}}else if("js"===e.type)n={path:`file:///${e._model.id}/${e.name}.js`,language:"javascript"};else{n={path:`file:///${e._model.id}/${e.name}.${e.type}`,language:e.type}}return n}),[e]),c=(0,r.useCallback)((()=>{const o=i.current.editor.getValue();e._save(o),e._updated=!1,e._content=void 0,n.viewContext.emitMessage.info("保存成功")}),[e]);if(e)return d.createElement("div",{className:a.A.codeView},d.createElement("div",{className:a.A.toolbar},d.createElement("div",{className:a.A.btns},d.createElement("button",{onClick:c,className:`${e._updated?a.A.btnActive:a.A.btnDisable}`},e._updated?"*":"","保存"))),d.createElement(t(),Object.assign({ref:i,value:o},s,{options:{fontSize:12,scrollbar:{horizontal:"auto",vertical:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10}},theme:"light",wrapperClassName:a.A.coder,onChange:n=>{e._content=n,n!==e.content?e._updated=!0:e._updated=!1},onMount:(n,e)=>{}})))}},75464:(n,e,i)=>{i.d(e,{A:()=>d});var o=i(91737),t=i(57658),r=i(64012),a=i.n(r);function d({ctx:n}){const{viewContext:e}=n,i=(0,r.useCallback)((i=>{const o=e.lowCodeViews[0];i._model=o.model,i._save=n=>{o.onSave(i.name,i.type,n)},n.curFile=i}),[e.lowCodeViews]);(0,r.useMemo)((()=>{const o=e.lowCodeViews;if(o.length<=0)return;const t=o[0];n.curFile&&t.files.find((e=>{if(e.id===n.curFile.id)return!0}))||i(t.files[0])}),[e.lowCodeViews]);const d=(0,o.HO)((()=>{const o=e.lowCodeViews;if(o.length<=0)return;return o[0].files.map(((e,o)=>a().createElement("div",{className:`${t.A.file} ${n.curFile.name===e.name?t.A.fileActive:""}`,onClick:n=>{i(e)}},e._updated?"*":"",e.name)))}));return a().createElement("div",{className:t.A.wrap},a().createElement("div",{className:t.A.outline,style:{width:n.outlineWidth},ref:e=>e&&(n.outlineEle=e)},d),a().createElement("div",{className:t.A.sperV,onMouseDown:e=>function(n,e){let{x:i,y:t,w:r,h:a}=(0,o.E9)(e.outlineEle);(0,o.zg)(n,(({po:{x:n,y:i},epo:{ex:o,ey:t},dpo:{dx:a,dy:d}},s)=>{"moving"==s&&(e.outlineWidth=Math.max(r+=a,150))}))}(e,n)},a().createElement("div",null)))}},74715:(n,e,i)=>{i.d(e,{A:()=>o});class o{constructor(){this.outlineWidth=150}setLowCodeViews(n){const e=this.viewContext.lowCodeViews;e.length>0&&e[0].id===n.id||(this.viewContext.lowCodeViews=[n])}}},88935:(n,e,i)=>{i.r(e),i.d(e,{default:()=>p});var o=i(75464),t=i(91737),r=i(74715),a=i(12507),d=i(96349),s=i(96966),c=i(6939),l=i(64012);function p({viewCtx:n}){const e=(0,t.J2)(r.A,(e=>{e({viewContext:n})}));(0,t.yx)(s.Zm.LowCode,(n=>(0,c.Q)(e)),{from:"parents"});const i={};n.isBizTypeOfLowCode()||(i.display="none");const p=n.lowCodeViews;if(0===p.length)return;const b=p[0];return b.model.hadDestroyed()?void 0:l.createElement("div",{style:i,className:a.A.view,onClick:(0,t.Wj)().stop},l.createElement(o.A,{ctx:e,key:`${b.id}-outline`}),l.createElement(d.A,{ctx:e,key:`${b.id}-codeEdit`}))}},6939:(n,e,i)=>{function o(n){return{openView(e){n.setLowCodeViews(e)}}}i.d(e,{Q:()=>o})}}]);