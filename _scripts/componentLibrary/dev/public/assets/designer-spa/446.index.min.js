"use strict";(self.webpackChunkmybricks=self.webpackChunkmybricks||[]).push([[446],{75642:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-b3e2a,\n._aiWorkingDone-f014d,\n._aiWorkingError-a665c {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-b3e2a:before,\n._aiWorkingDone-f014d:before,\n._aiWorkingError-a665c:before,\n._aiWorking-b3e2a:after,\n._aiWorkingDone-f014d:after,\n._aiWorkingError-a665c:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-b3e2a:after,\n._aiWorkingDone-f014d:after,\n._aiWorkingError-a665c:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-c1aff 3s infinite alternate;\n}\n._aiWorking-b3e2a:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-a0ce2 4s linear infinite;\n}\n._aiWorkingCover-ad196 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-ad196:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-f014d:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-a665c:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-f98f1 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-f98f1 > .preview-d9cf9 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-f98f1 .btns-d9d80 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-f98f1 .btns-d9d80 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-c1aff {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-a0ce2 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-a5db0 pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-a5db0 pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-a5db0 pre:hover {\n  background: #FFF;\n}\n.codeFile-a5db0 pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-a5db0 pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-a5db0 pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-a5db0 pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-a5db0 pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-b7f67 {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-a0ce2 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-a0ce2 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.preview-d9cf9 {\n  position: absolute;\n  z-index: 1000;\n  background: rgba(255, 255, 255, 0.9);\n  display: flex;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.preview-d9cf9 .view-f3345 {\n  position: relative;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #FFF;\n  max-height: 90%;\n  box-shadow: 0 0 15px 0 rgba(39, 54, 78, 0.15);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .resizer-efb4e {\n  user-select: none;\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  /* background: #FFF; */\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .resizer0-dcefc {\n  left: -12px;\n  top: -12px;\n  cursor: nw-resize;\n  border-left: 5px solid var(--mybricks-color-primary, #FA6400);\n  border-top: 5px solid var(--mybricks-color-primary, #FA6400);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .resizer1-f42b2 {\n  right: -12px;\n  top: -12px;\n  cursor: ne-resize;\n  border-right: 5px solid var(--mybricks-color-primary, #FA6400);\n  border-top: 5px solid var(--mybricks-color-primary, #FA6400);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .resizer2-e9796 {\n  right: -12px;\n  bottom: -12px;\n  cursor: se-resize;\n  border-right: 5px solid var(--mybricks-color-primary, #FA6400);\n  border-bottom: 5px solid var(--mybricks-color-primary, #FA6400);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .resizer3-ddfb1 {\n  left: -12px;\n  bottom: -12px;\n  cursor: sw-resize;\n  border-left: 5px solid var(--mybricks-color-primary, #FA6400);\n  border-bottom: 5px solid var(--mybricks-color-primary, #FA6400);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * {\n  transform: scale(1);\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-temp-com=slot] {\n  border: 1px dashed #DDD;\n  color: #AAA;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  font-style: italic;\n  font-weight: 200;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-ai-zone-selector] {\n  position: relative;\n  outline: 1px dashed var(--mybricks-color-primary, #FA6400);\n  outline-offset: -1px;\n  cursor: pointer;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-ai-zone-selector]:before {\n  pointer-events: none;\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(244, 132, 132, 0.16);\n  z-index: 10000;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-ai-zone-selector]:after {\n  pointer-events: none;\n  font-size: 12px;\n  content: attr(data-ai-zone-selector);\n  position: absolute;\n  top: 1px;\n  left: 0;\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  padding: 1px 5px 1px 5px;\n  border-bottom-right-radius: 5px;\n  z-index: 10000;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-ai-zone-selector-focus] {\n  position: relative;\n  outline-offset: -1px;\n  outline: 1px dashed var(--mybricks-color-primary, #FA6400) !important;\n}\n.preview-d9cf9 .view-f3345 > .contentWrap-e4ea1 > .content-cb147 > * [data-ai-zone-selector-focus]:before {\n  pointer-events: none;\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(244, 132, 132, 0.16) !important;\n  z-index: 10000;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: 50px;\n  width: fit-content;\n  height: 40px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  background: #FFF;\n  border: 1px solid #DDD;\n  padding: 0 20px;\n  border-radius: 20px;\n  gap: 15px;\n  box-shadow: 0 0 15px 0 rgba(39, 54, 78, 0.15);\n  white-space: nowrap;\n  font-size: 12px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .ver-f9038 {\n  color: #333;\n  padding: 0 10px;\n  font-size: 12px;\n  width: fit-content;\n  height: 22px;\n  background: #EEE;\n  border-radius: 6px;\n  line-height: 22px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .showSelector-ea5c0 label {\n  cursor: pointer;\n  position: relative;\n  display: inline-block;\n  padding: 2px 12px 0 22px;\n  height: 22px;\n  background-color: #999;\n  border-color: #999;\n  color: #FFF;\n  font-size: 12px;\n  border-radius: 15px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .showSelector-ea5c0 label::before {\n  content: \" \";\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  position: absolute;\n  left: 3px;\n  top: 4px;\n  background-color: #fff;\n  transition: all 0.4s ease;\n  cursor: pointer;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .checked-cb67a label {\n  padding: 2px 22px 0 12px !important;\n  background-color: var(--mybricks-color-primary, #FA6400) !important;\n  border-color: var(--mybricks-color-primary, #FA6400) !important;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .checked-cb67a label::before {\n  left: auto !important;\n  right: 3px !important;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 [data-style-optioins] {\n  overflow: hidden;\n  display: flex;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 [data-style-optioins] button {\n  width: 60px;\n  height: 24px;\n  display: flex;\n  cursor: pointer;\n  padding: 1px 10px 0 10px;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  border: 1px solid #CCC;\n  border-right: 1px solid #CCC;\n  margin-right: -1px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 [data-style-optioins] button[data-selected=\"1\"] {\n  color: #fff;\n  z-index: 1;\n  border-color: #616C81;\n  background-color: #616C81;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 [data-style-optioins] button:first-child {\n  border-radius: 6px 0 0 6px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 [data-style-optioins] button:last-child {\n  border-radius: 0 6px 6px 0;\n  margin-right: 0;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .close-d28ae {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  background: var(--mybricks-color-primary, #FA6400);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .close-d28ae svg {\n  max-width: 14px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .close-d28ae svg path {\n  fill: #FFF;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .apply-a7793 {\n  height: 24px;\n  padding: 2px 8px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  background: #439303;\n  color: #FFF;\n  cursor: pointer;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .apply-a7793 label {\n  cursor: pointer;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .apply-a7793 svg {\n  pointer-events: none;\n  max-width: 16px;\n  margin-right: 3px;\n}\n.preview-d9cf9 .view-f3345 > .toolbar-de7f6 .apply-a7793 svg path {\n  fill: #FFF;\n}\n.preview-d9cf9 > .props-def01 {\n  height: 100%;\n  width: 330px;\n  background: #F7F7F7;\n  border-left: 1px solid #DDD;\n  font-size: 12px;\n  overflow-y: auto;\n}\n.preview-d9cf9 > .props-def01 .ttt-b20a9 {\n  color: #333;\n  font-weight: bold;\n  height: 40px;\n  padding: 10px 0 0 20px;\n  font-size: 14px;\n  border-bottom: 1px solid #DDD;\n}\n.preview-d9cf9 > .props-def01 .tt-fdfe0 {\n  color: #777;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.preview-d9cf9 > .props-def01 .tt-fdfe0 label {\n  margin: 0 5px;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8,\n.preview-d9cf9 > .props-def01 .inputs-e5b6c,\n.preview-d9cf9 > .props-def01 .outputs-e6a26 {\n  padding: 10px 10px 10px 15px;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8:not(:last-child),\n.preview-d9cf9 > .props-def01 .inputs-e5b6c:not(:last-child),\n.preview-d9cf9 > .props-def01 .outputs-e6a26:not(:last-child) {\n  border-bottom: 1px solid #EEE;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 .items-cdfca,\n.preview-d9cf9 > .props-def01 .inputs-e5b6c .items-cdfca,\n.preview-d9cf9 > .props-def01 .outputs-e6a26 .items-cdfca {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 .items-cdfca > div,\n.preview-d9cf9 > .props-def01 .inputs-e5b6c .items-cdfca > div,\n.preview-d9cf9 > .props-def01 .outputs-e6a26 .items-cdfca > div {\n  display: flex;\n  align-items: center;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 .items-cdfca > div:before,\n.preview-d9cf9 > .props-def01 .inputs-e5b6c .items-cdfca > div:before,\n.preview-d9cf9 > .props-def01 .outputs-e6a26 .items-cdfca > div:before {\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n  background: #DDD;\n  content: ' ';\n  display: inline-block;\n  margin-right: 5px;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 .items-cdfca:empty:before,\n.preview-d9cf9 > .props-def01 .inputs-e5b6c .items-cdfca:empty:before,\n.preview-d9cf9 > .props-def01 .outputs-e6a26 .items-cdfca:empty:before {\n  content: '空';\n  color: #AAA;\n  font-style: italic;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 {\n  cursor: cell;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8:hover {\n  background: #EEE;\n}\n.preview-d9cf9 > .props-def01 .selectors-b87b8 .tt-fdfe0 {\n  color: var(--mybricks-color-primary, #FA6400);\n}\n",""]),a.locals={_aiWorking:"_aiWorking-b3e2a",_aiWorkingDone:"_aiWorkingDone-f014d",_aiWorkingError:"_aiWorkingError-a665c",opacityChange:"opacityChange-c1aff",shining:"shining-a0ce2",_aiWorkingCover:"_aiWorkingCover-ad196",_aiToConfirm:"_aiToConfirm-f98f1",preview:"preview-d9cf9",btns:"btns-d9d80",codeFile:"codeFile-a5db0",aiBg:"aiBg-b7f67",view:"view-f3345",contentWrap:"contentWrap-e4ea1",resizer:"resizer-efb4e",resizer0:"resizer0-dcefc",resizer1:"resizer1-f42b2",resizer2:"resizer2-e9796",resizer3:"resizer3-ddfb1",content:"content-cb147",toolbar:"toolbar-de7f6",ver:"ver-f9038",showSelector:"showSelector-ea5c0",checked:"checked-cb67a",close:"close-d28ae",apply:"apply-a7793",props:"props-def01",ttt:"ttt-b20a9",tt:"tt-fdfe0",selectors:"selectors-b87b8",inputs:"inputs-e5b6c",outputs:"outputs-e6a26",items:"items-cdfca"};const s=a},77456:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-a9ffc,\n._aiWorkingDone-e98ad,\n._aiWorkingError-bc5d3 {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-a9ffc:before,\n._aiWorkingDone-e98ad:before,\n._aiWorkingError-bc5d3:before,\n._aiWorking-a9ffc:after,\n._aiWorkingDone-e98ad:after,\n._aiWorkingError-bc5d3:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-a9ffc:after,\n._aiWorkingDone-e98ad:after,\n._aiWorkingError-bc5d3:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-ee624 3s infinite alternate;\n}\n._aiWorking-a9ffc:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-d276a 4s linear infinite;\n}\n._aiWorkingCover-bad69 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-bad69:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-e98ad:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-bc5d3:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-d1f40 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-d1f40 > .preview-fd0e7 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-d1f40 .btns-ca800 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-d1f40 .btns-ca800 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-ee624 {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-d276a {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-b06a3 pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-b06a3 pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-b06a3 pre:hover {\n  background: #FFF;\n}\n.codeFile-b06a3 pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-b06a3 pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-b06a3 pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-b06a3 pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-b06a3 pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-a6c7e {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-d276a 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-d276a {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.resultVersions-b4162 {\n  display: flex;\n  flex-direction: column;\n  background: #FFF;\n  margin-bottom: 3px;\n  gap: 10px;\n  padding: 10px 5px;\n  max-height: 150px;\n  overflow-y: auto;\n}\n.resultVersions-b4162 .item-dcf69 {\n  padding: 15px 15px 10px 15px;\n  border: 1px solid #E8E8E8;\n  border-radius: 6px;\n  position: relative;\n  cursor: pointer;\n}\n.resultVersions-b4162 .item-dcf69:hover {\n  border-color: #4c914a;\n}\n.resultVersions-b4162 .item-dcf69:hover .ver-dcc58 {\n  background: #4c914a;\n  color: #FFF;\n}\n.resultVersions-b4162 .item-dcf69 .applied-e00f8 {\n  background: #4c914a;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-top-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n  font-style: italic;\n  pointer-events: none;\n  padding: 0 8px;\n  color: #FFF;\n  font-size: 12px;\n}\n.resultVersions-b4162 .item-dcf69 .ver-dcc58 {\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: #DDD;\n  padding: 1px 5px;\n  line-height: 12px;\n  border-radius: 0 0 0 6px;\n  font-size: 12px;\n}\n.resultVersions-b4162 .item-dcf69 .ver-dcc58:before {\n  content: 'V';\n  margin-right: 0;\n}\n.resultVersions-b4162 .item-dcf69 .summary-f38f7 {\n  font-size: 12px;\n}\n.resultVersions-b4162 .item-dcf69 .log-ffbbf {\n  margin-top: 3px;\n  font-size: 12px;\n  color: #666;\n  line-height: 14px;\n}\n.resultVersions-b4162 .item-dcf69 .log-ffbbf label {\n  color: #2f78b0;\n}\n.resultVersions-b4162 .item-dcf69 .log-ffbbf p {\n  color: #AAA;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-a9ffc",_aiWorkingDone:"_aiWorkingDone-e98ad",_aiWorkingError:"_aiWorkingError-bc5d3",opacityChange:"opacityChange-ee624",shining:"shining-d276a",_aiWorkingCover:"_aiWorkingCover-bad69",_aiToConfirm:"_aiToConfirm-d1f40",preview:"preview-fd0e7",btns:"btns-ca800",codeFile:"codeFile-b06a3",aiBg:"aiBg-a6c7e",resultVersions:"resultVersions-b4162",item:"item-dcf69",ver:"ver-dcc58",applied:"applied-e00f8",summary:"summary-f38f7",log:"log-ffbbf"};const s=a},91430:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-bab47,\n._aiWorkingDone-a1a01,\n._aiWorkingError-f164e {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-bab47:before,\n._aiWorkingDone-a1a01:before,\n._aiWorkingError-f164e:before,\n._aiWorking-bab47:after,\n._aiWorkingDone-a1a01:after,\n._aiWorkingError-f164e:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-bab47:after,\n._aiWorkingDone-a1a01:after,\n._aiWorkingError-f164e:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-e1b0e 3s infinite alternate;\n}\n._aiWorking-bab47:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-f3f92 4s linear infinite;\n}\n._aiWorkingCover-b6677 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-b6677:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-a1a01:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-f164e:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-cabb1 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-cabb1 > .preview-d31a8 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-cabb1 .btns-f27f8 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-cabb1 .btns-f27f8 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-e1b0e {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-f3f92 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-afe2d pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-afe2d pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-afe2d pre:hover {\n  background: #FFF;\n}\n.codeFile-afe2d pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-afe2d pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-afe2d pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-afe2d pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-afe2d pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-ea56c {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-f3f92 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-f3f92 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.dialog-d09c2 {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  background: #FFF;\n}\n.dialog-d09c2 .topBar-f8b17 {\n  min-height: 27px;\n  display: flex;\n}\n.dialog-d09c2 .focusZone-b6374 {\n  display: flex;\n  width: 100%;\n  /* justify-content: center; */\n  align-items: center;\n  margin-bottom: -2px;\n  z-index: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  padding: 0 10px 0 8px;\n}\n.dialog-d09c2 .focusZone-b6374 span {\n  font-style: italic;\n  color: #AAA;\n  margin-top: 2px;\n  font-size: 12px;\n}\n.dialog-d09c2 .focusZone-b6374 label {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: 500;\n  margin-left: 5px;\n  border-radius: 6px;\n  padding: 0 10px;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  height: 18px;\n}\n.dialog-d09c2 .focusZone-b6374 .zone-d9f21 {\n  background: #f3b413;\n  display: flex;\n  align-items: center;\n  overflow: visible;\n}\n.dialog-d09c2 .focusZone-b6374 .zone-d9f21 span {\n  height: 12px;\n  width: 12px;\n  border-radius: 100%;\n  margin-top: -3px;\n  cursor: pointer;\n}\n.dialog-d09c2 .focusZone-b6374 .zone-d9f21 span svg {\n  max-width: 8px;\n  max-height: 10px;\n  margin-left: 5px;\n}\n.dialog-d09c2 .focusZone-b6374 .zone-d9f21 span svg path {\n  fill: #FFF;\n}\n.dialog-d09c2 .focusZone-b6374 .history-d1f13 {\n  margin-left: auto;\n  cursor: pointer;\n  border-radius: 6px;\n  width: 20px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.dialog-d09c2 .focusZone-b6374 .history-d1f13 svg {\n  max-width: 12px;\n}\n.dialog-d09c2 .focusZone-b6374 .historyActive-ce214 {\n  background: var(--mybricks-color-primary, #FA6400);\n}\n.dialog-d09c2 .focusZone-b6374 .historyActive-ce214 svg path {\n  fill: #FFF;\n}\n.dialog-d09c2 .roles-d4ec6 {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1px 3px;\n  padding: 5px 5px 2px 3px;\n}\n.dialog-d09c2 .roles-d4ec6 .activeRole-fc3b7 {\n  font-style: italic;\n  color: #AAA;\n}\n.dialog-d09c2 .roles-d4ec6 .activeRole-fc3b7:before {\n  content: '我是';\n  margin-right: 3px;\n}\n.dialog-d09c2 .roles-d4ec6 .br-e5cd7 {\n  padding: 0;\n  width: 100%;\n  border: none;\n}\n.dialog-d09c2 .roles-d4ec6 > div {\n  cursor: pointer;\n  font-size: 12px;\n  color: #777;\n  background: #FFF;\n  padding: 0 10px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px 6px 0 0;\n}\n.dialog-d09c2 .roles-d4ec6 > div:hover {\n  background: #DDD;\n}\n.dialog-d09c2 .templates-ae1ef {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1px 3px;\n  margin: 8px 5px 8px 5px;\n  justify-content: center;\n}\n.dialog-d09c2 .templates-ae1ef:empty {\n  display: none;\n}\n.dialog-d09c2 .templates-ae1ef .activeTpt-a0dac {\n  background: #616C81 !important;\n  border: 1px solid #616C81 !important;\n  color: #FFF;\n  font-weight: bold;\n  padding: 0 10px 1px 10px;\n}\n.dialog-d09c2 .templates-ae1ef > div {\n  cursor: pointer;\n  font-size: 12px;\n  color: #AAA;\n  background: #FFF;\n  padding: 0 5px 1px 5px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n}\n.dialog-d09c2 .templates-ae1ef > div:hover {\n  background: #616C81;\n  color: #FFF;\n}\n.dialog-d09c2 .forms-a3213 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.dialog-d09c2 .forms-a3213 .toolbar-ed169 {\n  padding-top: 3px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  /* align-items: center; */\n  padding-left: 8px;\n  background: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n}\n.dialog-d09c2 .forms-a3213 .tptMenu-e5e4e {\n  position: absolute;\n  top: 23px;\n  right: 2px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  padding: 2px;\n  z-index: 1000;\n  box-shadow: 0 2px 4px 2px rgba(39, 54, 78, 0.2);\n  font-size: 12px;\n  color: #333;\n  margin: 2px;\n  min-width: 100px;\n  max-height: 200px;\n  overflow: auto;\n}\n.dialog-d09c2 .forms-a3213 .tptMenu-e5e4e > div {\n  border-radius: 6px;\n  padding: 2px 10px;\n  cursor: pointer;\n  font-size: 12px;\n  margin: 2px;\n}\n.dialog-d09c2 .forms-a3213 .tptMenu-e5e4e > div:hover {\n  background: #EEE;\n}\n.dialog-d09c2 .forms-a3213 .diaTpt-db3ff {\n  flex: 1;\n  border-radius: 6px;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef {\n  flex: 1;\n  box-sizing: border-box;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef label {\n  font-style: italic;\n  color: var(--mybricks-color-primary, #FA6400);\n  cursor: pointer;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef label:before {\n  content: '#';\n  margin-right: 2px;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef .modeDrop-e208a {\n  height: 28px;\n  position: relative;\n  padding: 7px 0 0 10px;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef .modeDrop-e208a .modeMenu-d31ec {\n  background: #FFF;\n  border-radius: 6px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n  padding: 2px 0;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef .modeDrop-e208a .modeMenu-d31ec div {\n  height: 24px;\n  display: flex;\n  align-items: center;\n  padding: 1px 15px;\n  cursor: pointer;\n  font-size: 12px;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef .modeDrop-e208a .modeMenu-d31ec div:hover {\n  background: #EEE;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef textarea {\n  padding: 8px 8px 5px 8px;\n  background: #F7F7F7;\n  flex: 1;\n  resize: none;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef textarea::placeholder {\n  color: #999;\n  font-size: 11px;\n  line-height: 14px;\n  font-style: italic;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef textarea:focus::placeholder {\n  color: #AAA;\n}\n.dialog-d09c2 .forms-a3213 .diaDefault-e09ef textarea::selection {\n  background: #000;\n}\n.dialog-d09c2 .forms-a3213 .diaGuide-eeea6 {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  padding: 30px 10px 10px 10px;\n  justify-content: center;\n  flex: 1;\n  background: #F7F7F7;\n}\n.dialog-d09c2 .forms-a3213 .diaGuide-eeea6 .tptCate-d4b3e {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #f5c333;\n  background: #fffcea;\n  border-radius: 8px;\n  height: 27px;\n  cursor: pointer;\n  width: 90%;\n  margin: 0 auto;\n}\n.dialog-d09c2 .forms-a3213 .diaGuide-eeea6 .tptCate-d4b3e:hover {\n  background: #fff9d1;\n}\n.dialog-d09c2 .forms-a3213 .tptTitle-bae2c {\n  height: 22px;\n  font-style: italic;\n  padding: 0 5px 0 10px;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: #fff1d9;\n  border-bottom: 1px solid #EEE;\n  z-index: 1;\n}\n.dialog-d09c2 .forms-a3213 .tptTitle-bae2c label {\n  color: #bc7c02;\n}\n.dialog-d09c2 .forms-a3213 .tptTitle-bae2c span {\n  height: 16px;\n  cursor: pointer;\n}\n.dialog-d09c2 .forms-a3213 .tptTitle-bae2c span svg {\n  max-width: 10px;\n  margin-right: 5px;\n}\n.dialog-d09c2 .forms-a3213 .tptTitle-bae2c span svg path {\n  fill: #999;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 {\n  display: flex;\n  flex-direction: column;\n  margin: 3px 5px 5px 5px;\n  gap: 3px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c {\n  display: flex;\n  margin: 0 8px 0 5px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c span {\n  color: red;\n  margin-top: 6px;\n  width: 8px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c label {\n  margin-right: 4px;\n  padding-top: 3px;\n  color: #AAA;\n  font-size: 12px;\n  font-weight: bold;\n  max-width: 40px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c input,\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c textarea {\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  padding: 1px 5px;\n  flex: 1;\n  background: #FFF;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c input::placeholder,\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c textarea::placeholder {\n  color: #AAA;\n  font-size: 12px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c input {\n  height: 22px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c textarea {\n  resize: none;\n  box-sizing: border-box;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c textarea::placeholder {\n  color: #AAA;\n  font-size: 12px;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c textarea::selection {\n  background: #000;\n}\n.dialog-d09c2 .forms-a3213 .diaForm-deb52 .tptFormItem-b7c0c select {\n  background: #FFF;\n  border-radius: 6px;\n  color: #555;\n  height: 22px;\n  padding: 0 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.dialog-d09c2 .attachments-ea8e5 {\n  display: flex;\n  gap: 5px;\n}\n.dialog-d09c2 .curAttach-c2cd0 {\n  position: relative;\n  display: flex;\n  justify-content: flex-start;\n  background: #FFF;\n  padding: 2px;\n}\n.dialog-d09c2 .curAttach-c2cd0 .showImg-eace0 {\n  position: absolute;\n  right: calc(100% + 10px);\n  bottom: 0;\n  background: #DDD;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  width: 300px;\n  height: 300px;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  padding: 5px;\n}\n.dialog-d09c2 .curAttach-c2cd0 .showImg-eace0 img {\n  max-width: 100%;\n  max-height: 100%;\n  border: 1px solid #FFF;\n  border-radius: 6px;\n}\n.dialog-d09c2 .curAttach-c2cd0 img {\n  max-width: 30px;\n  max-height: 16px;\n  border: 1px solid #CCC;\n  padding: 2px;\n}\n.dialog-d09c2 .curAttach-c2cd0 label {\n  color: #999;\n  font-size: 12px;\n  margin-left: 5px;\n  margin-top: -3px;\n  line-height: 11px;\n}\n.dialog-d09c2 .curAttach-c2cd0 span {\n  position: absolute;\n  top: -3px;\n  left: -3px;\n  background: red;\n  width: 12px;\n  height: 12px;\n  border-radius: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.dialog-d09c2 .curAttach-c2cd0 span svg {\n  max-width: 10px;\n}\n.dialog-d09c2 .curAttach-c2cd0 span svg path {\n  fill: #FFF;\n}\n.dialog-d09c2 .files-ccda9 {\n  cursor: pointer;\n  width: 24px;\n  height: 22px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 4px 2px rgba(39, 54, 78, 0.1);\n}\n.dialog-d09c2 .files-ccda9 svg {\n  width: 13px;\n  height: 13px;\n}\n.dialog-d09c2 .files-ccda9 svg path {\n  fill: #777;\n}\n.dialog-d09c2 .files-ccda9 input {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n.dialog-d09c2 .bottomToolbar-ca328 {\n  display: flex;\n  justify-content: space-between;\n  padding: 5px 8px 3px 8px;\n}\n.dialog-d09c2 .bottomToolbar-ca328 .submit-ad0f6 {\n  width: 24px;\n  height: 24px;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background: var(--mybricks-color-primary, #FA6400);\n  box-shadow: 0 2px 4px 2px rgba(39, 54, 78, 0.1);\n}\n.dialog-d09c2 .bottomToolbar-ca328 .submit-ad0f6 svg {\n  position: static;\n  width: 10px;\n  height: 10px;\n}\n.dialog-d09c2 .bottomToolbar-ca328 .submit-ad0f6 svg path {\n  fill: #FFF;\n}\n.dialog-d09c2 .miniBottomToolbar-f6098 {\n  position: absolute;\n  bottom: 4px;\n  width: 100%;\n  pointer-events: none;\n}\n.dialog-d09c2 .miniBottomToolbar-f6098 > * {\n  pointer-events: auto;\n}\n.dialog-d09c2 .disabled-cfb82 {\n  opacity: 0;\n  cursor: not-allowed;\n  background: #FFF;\n  box-shadow: none;\n}\n.dialog-d09c2 .disabled-cfb82 svg path {\n  opacity: 0.2;\n}\n.dialog-d09c2 .llmIng-bde7d {\n  color: #AAA;\n  font-style: italic;\n  position: absolute;\n  left: 0;\n  top: 1px;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.dialog-d09c2 .llmIng-bde7d label {\n  position: absolute;\n  left: 20px;\n  top: 3px;\n}\n.dialog-d09c2 .llmIng-bde7d label span {\n  color: var(--mybricks-color-primary, #FA6400);\n  font-style: normal;\n  font-size: 12px;\n  margin-right: 5px;\n}\n.dialog-d09c2 .llmIng-bde7d button {\n  border-radius: 6px;\n  pointer-events: auto;\n  cursor: pointer;\n  margin-top: 20px;\n  padding: 0 15px;\n  height: 22px;\n  line-height: 100%;\n  border: 1px solid #DDD;\n  color: #555;\n  font-style: normal;\n  font-size: 11px;\n}\n.dialog-d09c2 .llmIng-bde7d .loader-fc942 {\n  width: 25px;\n  height: 25px;\n  aspect-ratio: 1;\n  border-radius: 25px;\n  border: 4px solid #DDD;\n  border-right-color: var(--mybricks-color-primary, #FA6400);\n  animation: l2-ac167 1s infinite linear;\n}\n.dialog-d09c2 .llmIng-bde7d p {\n  margin-top: 5px;\n  color: #AAA;\n  font-size: 12px;\n}\n@keyframes l2-ac167 {\n  to {\n    transform: rotate(1turn);\n  }\n}\n.dialog-d09c2 .llmConfirm-c4c36 {\n  color: #AAA;\n  font-style: italic;\n  position: absolute;\n  left: 0;\n  top: 1px;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.dialog-d09c2 .llmConfirm-c4c36 label {\n  position: absolute;\n  left: 20px;\n  top: 3px;\n  z-index: 1;\n}\n.dialog-d09c2 .llmConfirm-c4c36 label span {\n  color: var(--mybricks-color-primary, #FA6400);\n  font-style: normal;\n  font-size: 12px;\n  margin-right: 5px;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .loader-fc942 {\n  width: 25px;\n  height: 25px;\n  aspect-ratio: 1;\n  border-radius: 25px;\n  border: 4px solid #DDD;\n  border-right-color: var(--mybricks-color-primary, #FA6400);\n  animation: l2-ac167 1s infinite linear;\n}\n.dialog-d09c2 .llmConfirm-c4c36 p {\n  font-size: 12px;\n  margin-bottom: 5px;\n  color: #AAA;\n  text-align: center;\n  line-height: 14px;\n  overflow: auto;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .confirmTitle-a730e {\n  font-size: 12px;\n  color: #333;\n  padding: 5px 10px;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  width: 80%;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 button {\n  border-radius: 6px;\n  pointer-events: auto;\n  cursor: pointer;\n  padding: 0 15px;\n  height: 25px;\n  font-style: normal;\n  font-size: 12px;\n  font-weight: 500;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnApply-f7b5c {\n  color: #0a7c05;\n  border: 1px solid #0a7c05;\n  background: #FFF;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnApply-f7b5c:hover {\n  background: #f2fbf2;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnTryAgain-c531d {\n  color: red;\n  border: 1px solid red;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnTryAgain-c531d:hover {\n  background: #f8ecec;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnTryAgainLater-a1061 {\n  border: 1px solid #f1a10b;\n  color: #ff8f04;\n  background: #FFF;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnTryAgainLater-a1061:hover {\n  background: #fbf2e0;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnCancel-db847 {\n  color: #333;\n  border: 1px solid #BBB;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnCancel-db847:hover {\n  background: #F7F7F7;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnError-a6f1f {\n  color: #fb4e4e;\n  border: 1px solid #f79d9d;\n}\n.dialog-d09c2 .llmConfirm-c4c36 .btns-f27f8 .btnError-a6f1f:hover {\n  background: #faf0f0;\n}\n@keyframes l2-ac167 {\n  to {\n    transform: rotate(1turn);\n  }\n}\n.dialog-d09c2 .onError-e07db {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 5px;\n  cursor: text;\n  user-select: text;\n}\n.dialog-d09c2 .onError-e07db p {\n  font-style: italic;\n  font-size: 12px;\n  color: #FF0000;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n}\n.dialog-d09c2 .onError-e07db p div {\n  line-height: 14px;\n  padding: 8px 0;\n}\n.dialog-d09c2 .onError-e07db > div {\n  display: flex;\n  margin-top: auto;\n  margin-left: auto;\n}\n.dialog-d09c2 .onError-e07db > div button {\n  font-size: 12px;\n  height: 20px;\n  border: 1px solid #DDD;\n  border-radius: 6px;\n  margin: 5px;\n  padding: 0 15px;\n  cursor: pointer;\n}\n.dialog-d09c2 .onError-e07db > div button:first-of-type {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n",""]),a.locals={_aiWorking:"_aiWorking-bab47",_aiWorkingDone:"_aiWorkingDone-a1a01",_aiWorkingError:"_aiWorkingError-f164e",opacityChange:"opacityChange-e1b0e",shining:"shining-f3f92",_aiWorkingCover:"_aiWorkingCover-b6677",_aiToConfirm:"_aiToConfirm-cabb1",preview:"preview-d31a8",btns:"btns-f27f8",codeFile:"codeFile-afe2d",aiBg:"aiBg-ea56c",dialog:"dialog-d09c2",topBar:"topBar-f8b17",focusZone:"focusZone-b6374",zone:"zone-d9f21",history:"history-d1f13",historyActive:"historyActive-ce214",roles:"roles-d4ec6",activeRole:"activeRole-fc3b7",br:"br-e5cd7",templates:"templates-ae1ef",activeTpt:"activeTpt-a0dac",forms:"forms-a3213",toolbar:"toolbar-ed169",tptMenu:"tptMenu-e5e4e",diaTpt:"diaTpt-db3ff",diaDefault:"diaDefault-e09ef",modeDrop:"modeDrop-e208a",modeMenu:"modeMenu-d31ec",diaGuide:"diaGuide-eeea6",tptCate:"tptCate-d4b3e",tptTitle:"tptTitle-bae2c",diaForm:"diaForm-deb52",tptFormItem:"tptFormItem-b7c0c",attachments:"attachments-ea8e5",curAttach:"curAttach-c2cd0",showImg:"showImg-eace0",files:"files-ccda9",bottomToolbar:"bottomToolbar-ca328",submit:"submit-ad0f6",miniBottomToolbar:"miniBottomToolbar-f6098",disabled:"disabled-cfb82",llmIng:"llmIng-bde7d",loader:"loader-fc942",l2:"l2-ac167",llmConfirm:"llmConfirm-c4c36",confirmTitle:"confirmTitle-a730e",btnApply:"btnApply-f7b5c",btnTryAgain:"btnTryAgain-c531d",btnTryAgainLater:"btnTryAgainLater-a1061",btnCancel:"btnCancel-db847",btnError:"btnError-a6f1f",onError:"onError-e07db"};const s=a},58106:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-d66a0,\n._aiWorkingDone-f7c4e,\n._aiWorkingError-b132a {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-d66a0:before,\n._aiWorkingDone-f7c4e:before,\n._aiWorkingError-b132a:before,\n._aiWorking-d66a0:after,\n._aiWorkingDone-f7c4e:after,\n._aiWorkingError-b132a:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-d66a0:after,\n._aiWorkingDone-f7c4e:after,\n._aiWorkingError-b132a:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-e91b8 3s infinite alternate;\n}\n._aiWorking-d66a0:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-eca44 4s linear infinite;\n}\n._aiWorkingCover-f50dc {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-f50dc:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-f7c4e:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-b132a:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-ca5f3 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-ca5f3 > .preview-d89ad {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-ca5f3 .btns-f1e7a {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-ca5f3 .btns-f1e7a > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-e91b8 {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-eca44 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-a6e09 pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-a6e09 pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-a6e09 pre:hover {\n  background: #FFF;\n}\n.codeFile-a6e09 pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-a6e09 pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-a6e09 pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-a6e09 pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-a6e09 pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-bf909 {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-eca44 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-eca44 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.preview-d89ad {\n  position: relative;\n  margin: 10px 5px 5px 5px;\n  cursor: pointer;\n  height: 60px;\n  border-radius: 6px;\n  background: #FFF;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 12px 0 12px;\n  overflow: hidden;\n  box-shadow: 0 0 5px 0 #CCC;\n}\n.preview-d89ad:hover {\n  box-shadow: 0 0 10px 0 #CCC;\n}\n.preview-d89ad .tt-ba976 {\n  font-size: 12px;\n  color: #333;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n.preview-d89ad .tt-ba976 .version-b6238 {\n  font-size: 12px;\n  color: #333;\n}\n.preview-d89ad .tt-ba976 button {\n  line-height: 100%;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  background: #FFF;\n  height: 20px;\n  padding: 0 10px 0px 10px;\n  font-size: 12px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  color: #333;\n}\n.preview-d89ad .tt-ba976 button:hover {\n  visibility: visible;\n  color: #333;\n  background: #EEE;\n}\n.preview-d89ad .tt-ba976 .btnPreview-a843c {\n  margin-left: auto;\n}\n.preview-d89ad .tt-ba976 .btnApply-fd7a8 {\n  color: #0a7c05;\n  background: #FFF;\n  border: 1px solid #aac59e;\n}\n.preview-d89ad .tt-ba976 .btnApplied-cb4c2 {\n  background: #0a7c05;\n  color: #FFF;\n}\n.preview-d89ad .tt-ba976 .btnApplied-cb4c2:hover {\n  background: #0a7c05;\n  color: #FFF;\n}\n.preview-d89ad .tt-ba976 span {\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-top-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n  font-style: italic;\n  pointer-events: none;\n  padding: 0 8px;\n  color: #FFF;\n  font-size: 12px;\n}\n.preview-d89ad .logs-f3bdd {\n  display: flex;\n  flex-direction: column;\n  color: #AAA;\n}\n.confirm-a3847 .tt-ba976 label {\n  left: 6px;\n  right: auto;\n  top: 4px;\n  background: transparent;\n}\n.confirm-a3847 .content-e1c23 .btnPreview-a843c {\n  color: var(--mybricks-color-primary, #FA6400);\n  visibility: visible;\n}\n.used-f495d {\n  border-color: #4c914a;\n}\n.used-f495d span {\n  background: #4c914a;\n}\n.unused-c16e9 {\n  border-color: #BBB;\n}\n.unused-c16e9 span {\n  background: #CCC;\n}\n.conversation-d735e {\n  background: transparent;\n  padding: 15px 0 5px 0;\n  border-top: 1px dashed #DDD;\n}\n.conversation-d735e:first-child {\n  padding-top: 0;\n  border-top: none;\n}\n.conversation-d735e:hover {\n  background: #F7F7F7;\n}\n.conversation-d735e:hover .resultTools-a3749 {\n  visibility: visible;\n}\n.conversation-d735e .request-a4f7f {\n  padding: 5px 5px 0 5px;\n  position: relative;\n  user-select: text;\n  word-break: break-all;\n}\n.conversation-d735e .request-a4f7f:before {\n  content: '我：';\n  color: #999;\n  font-size: 12px;\n  font-style: italic;\n}\n.conversation-d735e .request-a4f7f label {\n  color: #777;\n  margin-right: 5px;\n  font-size: 12px;\n}\n.conversation-d735e .request-a4f7f span {\n  color: #333;\n}\n.conversation-d735e .resultTools-a3749 {\n  visibility: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  margin: 20px 5px 10px 5px;\n}\n.conversation-d735e .resultTools-a3749 button {\n  cursor: pointer;\n  border: 1px solid #EEE;\n  background: #FFF;\n  height: 20px;\n  padding: 0 15px 2px 15px;\n  font-size: 12px;\n  border-radius: 11px;\n  display: flex;\n  align-items: center;\n}\n.conversation-d735e .resultTools-a3749 button:hover {\n  visibility: visible;\n  color: #333;\n  background: #EEE;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-d66a0",_aiWorkingDone:"_aiWorkingDone-f7c4e",_aiWorkingError:"_aiWorkingError-b132a",opacityChange:"opacityChange-e91b8",shining:"shining-eca44",_aiWorkingCover:"_aiWorkingCover-f50dc",_aiToConfirm:"_aiToConfirm-ca5f3",preview:"preview-d89ad",btns:"btns-f1e7a",codeFile:"codeFile-a6e09",aiBg:"aiBg-bf909",tt:"tt-ba976",version:"version-b6238",btnPreview:"btnPreview-a843c",btnApply:"btnApply-fd7a8",btnApplied:"btnApplied-cb4c2",logs:"logs-f3bdd",confirm:"confirm-a3847",content:"content-e1c23",used:"used-f495d",unused:"unused-c16e9",conversation:"conversation-d735e",resultTools:"resultTools-a3749",request:"request-a4f7f"};const s=a},18074:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-f68e8,\n._aiWorkingDone-af0b1,\n._aiWorkingError-b482d {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-f68e8:before,\n._aiWorkingDone-af0b1:before,\n._aiWorkingError-b482d:before,\n._aiWorking-f68e8:after,\n._aiWorkingDone-af0b1:after,\n._aiWorkingError-b482d:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-f68e8:after,\n._aiWorkingDone-af0b1:after,\n._aiWorkingError-b482d:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-fe8aa 3s infinite alternate;\n}\n._aiWorking-f68e8:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-a4f82 4s linear infinite;\n}\n._aiWorkingCover-b8747 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-b8747:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-af0b1:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-b482d:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-bc97b {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-bc97b > .preview-c5b29 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-bc97b .btns-fd599 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-bc97b .btns-fd599 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-fe8aa {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-a4f82 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-e51a1 pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-e51a1 pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-e51a1 pre:hover {\n  background: #FFF;\n}\n.codeFile-e51a1 pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-e51a1 pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-e51a1 pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-e51a1 pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-e51a1 pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-d390c {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-a4f82 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-a4f82 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.welcome-cef06 {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #FAFAFA;\n  font-size: 14px;\n}\n.welcome-cef06 .content-d268b {\n  width: 500px;\n}\n.welcome-cef06 .content-d268b .mybricks-aa170 {\n  font-size: 22px;\n  margin-bottom: 10px;\n  text-align: center;\n}\n.welcome-cef06 .content-d268b .desc-cbc55 {\n  font-size: 12px;\n  margin-bottom: 5px;\n  margin-left: 10px;\n  color: #AAA;\n  font-weight: 300;\n}\n.welcome-cef06 .content-d268b .text-e1988 {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-a4f82 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n  padding: 3px;\n  display: flex;\n  border-radius: 6px;\n  position: relative;\n}\n.welcome-cef06 .content-d268b .text-e1988 textarea {\n  width: 100%;\n  height: 80px;\n  border: none;\n  resize: none;\n  font-size: 12px;\n  padding: 10px;\n  background-color: #FFF;\n  border-radius: 6px;\n  outline: none;\n}\n.welcome-cef06 .content-d268b .text-e1988 .submit-c734f {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  width: 24px;\n  height: 24px;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background: var(--mybricks-color-primary, #FA6400);\n  box-shadow: 0 2px 4px 2px rgba(39, 54, 78, 0.2);\n}\n.welcome-cef06 .content-d268b .text-e1988 .submit-c734f svg {\n  position: static;\n  width: 10px;\n  height: 10px;\n}\n.welcome-cef06 .content-d268b .text-e1988 .submit-c734f svg path {\n  fill: #FFF;\n}\n.dialog-f4212 {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: #FAFAFA;\n  font-size: 14px;\n}\n.dialog-f4212 .content-d268b {\n  width: 500px;\n  padding-top: 30px;\n}\n.dialog-f4212 .content-d268b .question-ab6f1 {\n  background: #f6e2e2;\n  padding: 8px 15px;\n  width: fit-content;\n  border-radius: 6px;\n}\n.dialog-f4212 .content-d268b .response-fd9bb {\n  padding: 10px;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre:first-of-type {\n  margin-top: 5px;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre:hover {\n  background: #FFF;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.dialog-f4212 .content-d268b .response-fd9bb pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.dialog-f4212 .content-d268b .response-fd9bb:empty:before {\n  content: '处理中，请稍后...';\n  color: #AAA;\n  font-size: 12px;\n  font-style: italic;\n}\n.dialog-f4212 .content-d268b .confirmBtn-af3c0 button {\n  cursor: pointer;\n  background: var(--mybricks-color-primary, #FA6400);\n  border-radius: 6px;\n  color: #FFF;\n  font-weight: 400;\n  border: none;\n  height: 36px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.dialog-f4212 .content-d268b .confirmBtn-af3c0 button svg {\n  max-width: 16px;\n  margin-right: 10px;\n}\n.dialog-f4212 .content-d268b .confirmBtn-af3c0 button svg path {\n  fill: #FFF;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-f68e8",_aiWorkingDone:"_aiWorkingDone-af0b1",_aiWorkingError:"_aiWorkingError-b482d",opacityChange:"opacityChange-fe8aa",shining:"shining-a4f82",_aiWorkingCover:"_aiWorkingCover-b8747",_aiToConfirm:"_aiToConfirm-bc97b",preview:"preview-c5b29",btns:"btns-fd599",codeFile:"codeFile-e51a1",aiBg:"aiBg-d390c",welcome:"welcome-cef06",content:"content-d268b",mybricks:"mybricks-aa170",desc:"desc-cbc55",text:"text-e1988",submit:"submit-c734f",dialog:"dialog-f4212",question:"question-ab6f1",response:"response-fd9bb",confirmBtn:"confirmBtn-af3c0"};const s=a},86787:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(88425),i=t.n(o),r=t(93042),a=t.n(r)()(i());a.push([n.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n._aiWorking-fa548,\n._aiWorkingDone-bcbb5,\n._aiWorkingError-fb538 {\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  clip-path: polygon(0 0, /* 1. 左上外角 */ 100% 0, /* 2. 右上外角 */ 100% 100%, /* 3. 右下外角 */ 0 100%, /* 4. 左下外角 */ 0 0, /* 5. 返回左上外角 */ 4px 4px, /* 6. 左上内角 */ 4px calc(100% - 4px), /* 7. 左下内角 */ calc(100% - 4px) calc(100% - 4px), /* 8. 右下内角 */ calc(100% - 4px) 4px, /* 9. 右上内角 */ 4px 4px /* 10. 返回左上内角，闭合内部路径 */);\n  z-index: 1000;\n}\n._aiWorking-fa548:before,\n._aiWorkingDone-bcbb5:before,\n._aiWorkingError-fb538:before,\n._aiWorking-fa548:after,\n._aiWorkingDone-bcbb5:after,\n._aiWorkingError-fb538:after {\n  content: ' ';\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n._aiWorking-fa548:after,\n._aiWorkingDone-bcbb5:after,\n._aiWorkingError-fb538:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n  left: 3px;\n  top: 3px;\n  right: 3px;\n  bottom: 3px;\n  background: white;\n  animation: opacityChange-f234f 3s infinite alternate;\n}\n._aiWorking-fa548:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  will-change: background-position;\n  background-size: 300% 300%;\n  animation: shining-e3420 4s linear infinite;\n}\n._aiWorkingCover-b7345 {\n  pointer-events: visible !important;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  right: 2px;\n  bottom: 2px;\n  background: rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n}\n._aiWorkingCover-b7345:after {\n  padding: 2px 10px;\n  text-shadow: 0 1px 3px 0 #FFF;\n  content: ' ';\n  color: #000;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n._aiWorkingDone-bcbb5:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #0a7c05;\n}\n._aiWorkingError-fb538:before {\n  content: '';\n  position: absolute;\n  z-index: -2;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, #FF0000 50%, #FFF 50%) repeat-x, linear-gradient(90deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-x, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y, linear-gradient(0deg, rgba(255, 255, 255, 0.8) 50%, #FF0000 50%) repeat-y;\n  background-size: 2px 5px, 2px 5px, 5px 2px, 5px 2px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n}\n._aiToConfirm-fa773 {\n  position: absolute;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000000;\n  overflow: hidden;\n}\n._aiToConfirm-fa773 > .preview-cdca2 {\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  pointer-events: none !important;\n}\n._aiToConfirm-fa773 .btns-a11f6 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._aiToConfirm-fa773 .btns-a11f6 > div {\n  background: #FFF;\n  cursor: pointer !important;\n  padding: 2px 12px;\n  margin: 3px;\n  border-radius: 6px;\n}\n@keyframes opacityChange-f234f {\n  50% {\n    opacity: 1;\n  }\n}\n@keyframes shining-e3420 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.codeFile-a768d pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.codeFile-a768d pre:first-of-type {\n  margin-top: 5px;\n}\n.codeFile-a768d pre:hover {\n  background: #FFF;\n}\n.codeFile-a768d pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.codeFile-a768d pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.codeFile-a768d pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.codeFile-a768d pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.codeFile-a768d pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.aiBg-e66d8 {\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-e3420 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n@keyframes shining-e3420 {\n  0% {\n    background-position: -20% -20%;\n  }\n  25% {\n    background-position: 30% 80%;\n  }\n  50% {\n    background-position: 110% 110%;\n  }\n  75% {\n    background-position: 80% 30%;\n  }\n  to {\n    background-position: -20% -20%;\n  }\n}\n.icon-f61c6 {\n  height: 20px;\n  overflow: visible;\n  position: relative;\n}\n.icon-f61c6 .pop-a2005 {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  z-index: 1000;\n  animation: popAnimation-d4dbf 0.7s;\n}\n.icon-f61c6 .pop-a2005 > span {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  background: var(--mybricks-color-primary, #FA6400);\n  border-radius: 30px;\n  box-shadow: 0 0 5px 1px rgba(39, 54, 78, 0.45);\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, #ef69c5 50%, #04d5fa 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-e3420 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  color: #FFF;\n  font-size: 12px;\n  font-weight: bold;\n}\n.icon-f61c6 .pop-a2005 > span span {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.icon-f61c6 .pop-a2005 > span span svg {\n  max-width: 14px;\n}\n@keyframes positionChange-f3d33 {\n  0% {\n    background-position-x: 0%;\n  }\n  100% {\n    background-position-x: 100%;\n  }\n}\n.icon-f61c6 .pop-a2005 > span svg {\n  max-width: 14px;\n}\n.icon-f61c6 .pop-a2005 > span svg path {\n  fill: #FFF;\n}\n@keyframes popAnimation-d4dbf {\n  0% {\n    bottom: -10px;\n  }\n  20% {\n    bottom: 20px;\n  }\n  50% {\n    bottom: 10px;\n  }\n  75% {\n    bottom: 5px;\n  }\n  100% {\n    bottom: 5px;\n  }\n}\n.view-b20ee {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  margin: 5px 0 1px -1px;\n  padding: 3px;\n  border-radius: 6px;\n  background: radial-gradient(var(--mybricks-color-primary, #FA6400) 0%, var(--mybricks-color-primary, #FA6400) 10%, #00eef4 40%, #7539be 60%, #d519d2 70%, var(--mybricks-color-primary, #FA6400) 100%);\n  animation: shining-e3420 20s linear infinite;\n  will-change: background-position;\n  background-size: 300% 300%;\n  box-shadow: 0 -3px 15px 0px rgba(167, 79, 198, 0.2);\n}\n.view-b20ee .available-ac437 {\n  position: absolute;\n  bottom: 15px;\n  right: 38px;\n  color: #BBB;\n  font-size: 11px;\n  font-style: italic;\n  padding: 0 5px;\n}\n.view-b20ee .curScene-ca949 {\n  padding: 0 0 0 7px;\n  margin: 1px 0 1px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.2);\n  height: 22px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.view-b20ee .curScene-ca949 span {\n  font-style: italic;\n  font-weight: normal;\n  color: #EEE;\n  margin-right: 10px;\n}\n.view-b20ee .curScene-ca949 label {\n  font-weight: bold;\n  flex: 1;\n  color: #FFF;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.view-b20ee .curScene-ca949 select {\n  color: #AAA;\n  text-align: right;\n  margin-right: 8px;\n  font-style: italic;\n}\n.view-b20ee .curScene-ca949 .iconClear-e7381,\n.view-b20ee .curScene-ca949 .iconMini-dd056 {\n  height: 11px;\n  cursor: pointer;\n}\n.view-b20ee .curScene-ca949 .iconClear-e7381 svg,\n.view-b20ee .curScene-ca949 .iconMini-dd056 svg {\n  max-height: 11px;\n  max-width: 11px;\n}\n.view-b20ee .curScene-ca949 .iconClear-e7381 svg path,\n.view-b20ee .curScene-ca949 .iconMini-dd056 svg path {\n  fill: #FFF;\n}\n.view-b20ee .curScene-ca949 .iconMini-dd056 {\n  margin-left: 5px;\n}\n.view-b20ee .running-bb2a7 .iconClear-e7381,\n.view-b20ee .running-bb2a7 .iconMini-dd056 {\n  opacity: 0.2;\n  pointer-events: none;\n}\n.view-b20ee .content-db4d5 {\n  flex: 1;\n  padding: 5px 5px;\n  max-height: 200px;\n  overflow: auto;\n  background-color: #FBFBFB;\n  overflow-anchor: auto;\n}\n.view-b20ee .content-db4d5:empty {\n  padding: 0 !important;\n  margin-top: -1px;\n}\n.view-b20ee .content-db4d5 .response-d799a {\n  padding: 0 5px 5px 5px;\n  position: relative;\n  user-select: text;\n  text-align: right;\n  margin-bottom: 10px;\n  border-bottom: 1px dashed #DDD;\n}\n.view-b20ee .content-db4d5 .response-d799a:last-of-type {\n  border-bottom: none !important;\n  margin-bottom: 0 !important;\n}\n.view-b20ee .content-db4d5 .response-d799a:after {\n  content: ':AI';\n  color: #999;\n  font-style: italic;\n  margin-left: 3px;\n}\n.view-b20ee .content-db4d5 .loading-e3279 {\n  color: #FF0000;\n  font-size: 12px;\n  font-style: italic;\n  margin-left: 3px;\n}\n.view-b20ee .content-db4d5 .ing-b7cb1 {\n  color: #1268c8;\n  line-height: 20px;\n}\n.view-b20ee .content-db4d5 .done-c96e7,\n.view-b20ee .content-db4d5 .apiDone-d2442 {\n  padding-top: 5px;\n  color: #0a7c05;\n  font-size: 12px;\n  margin-left: 3px;\n  line-height: 20px;\n  user-select: text;\n}\n.view-b20ee .content-db4d5 .done-c96e7:before,\n.view-b20ee .content-db4d5 .apiDone-d2442:before {\n  content: attr(data-role-title) '：';\n  color: #999;\n  font-size: 12px;\n  font-style: italic;\n}\n.view-b20ee .content-db4d5 .done-c96e7 span,\n.view-b20ee .content-db4d5 .apiDone-d2442 span {\n  display: inline-block;\n  width: 5px;\n}\n.view-b20ee .content-db4d5 mybricks-file {\n  height: 30px;\n  position: relative;\n  display: flex;\n  overflow: hidden;\n  border: 1px solid #EEE;\n  border-radius: 6px;\n}\n.view-b20ee .content-db4d5 mybricks-file:first-of-type {\n  margin-top: 10px;\n}\n.view-b20ee .content-db4d5 mybricks-file:before {\n  content: attr(type) ' 处理中..';\n  color: #777;\n  font-style: italic;\n  position: absolute;\n  background: #FFF;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n}\n.view-b20ee .content-db4d5 pre {\n  padding: 5px 8px;\n  border-radius: 6px;\n  color: #222;\n  direction: ltr;\n  position: relative;\n  height: 32px;\n  overflow: hidden;\n  background: #FFF;\n  font-size: 12px;\n}\n.view-b20ee .content-db4d5 pre:first-of-type {\n  margin-top: 5px;\n}\n.view-b20ee .content-db4d5 pre:hover {\n  background: #FFF;\n}\n.view-b20ee .content-db4d5 pre:hover [data-code-btn] {\n  opacity: 1;\n  visibility: visible;\n}\n.view-b20ee .content-db4d5 pre label {\n  font-style: italic;\n  color: #999;\n  margin-left: 3px;\n  margin-top: 2px;\n  margin-bottom: -22px;\n  display: flex;\n}\n.view-b20ee .content-db4d5 pre > div {\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: flex;\n  gap: 5px;\n}\n.view-b20ee .content-db4d5 pre > div [data-code-btn] {\n  visibility: hidden;\n  background: #FFF;\n  padding: 0 8px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 6px;\n  border: 1px solid #CCC;\n  font-size: 12px;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.view-b20ee .content-db4d5 pre code {\n  display: none;\n  margin: 0;\n  padding-left: 5px;\n  text-wrap: auto;\n}\n.view-b20ee .content-db4d5 div[data-type=\"load\"] {\n  display: inline-flex;\n  background: #FFF;\n  border: 1px solid #AAA;\n  padding: 0 6px;\n  margin: 0 5px;\n  border-radius: 6px;\n  color: #777;\n  font-style: italic;\n  width: fit-content;\n  font-size: 12px;\n}\n.view-b20ee .content-db4d5 div[data-type=\"cmd\"] {\n  background: #e6f3df;\n  border: 1px solid #b0d6aa;\n  margin-top: 7px;\n  padding: 0 8px;\n  border-radius: 6px;\n  color: #999;\n  font-style: italic;\n  width: fit-content;\n  font-size: 12px;\n}\n.view-b20ee .content-db4d5 .error-ca63e {\n  color: #d36c2c;\n  font-size: 12px;\n  font-style: italic;\n  margin-left: 3px;\n}\n.view-b20ee .content-db4d5 .resDone-f4928 {\n  color: #0a7c05;\n}\n.view-b20ee .content-db4d5 .resError-a9740 {\n  color: red;\n}\n.view-b20ee .content-db4d5 .canceled-b5f6a {\n  color: red;\n  font-style: italic;\n  display: flex;\n  margin: 10px 0;\n}\n.view-b20ee .execute-cd333 button {\n  background: var(--mybricks-color-primary, #FA6400);\n  border-radius: 6px;\n  padding: 1px 5px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  color: #FFF;\n  font-weight: bold;\n}\n.disabled-a6bc8 {\n  background: #AAA;\n  animation: none;\n  box-shadow: none;\n}\n.disabled-a6bc8 .disToolbar-add61 {\n  background: #AAA;\n}\n.error-ca63e {\n  color: #FF0000 !important;\n  animation: none;\n  box-shadow: none;\n}\n.error-ca63e textarea {\n  pointer-events: none;\n  color: #AAA;\n}\n.onlyVersion-bb437 {\n  padding-bottom: 15px;\n  border-bottom: 1px dashed #EEE;\n}\n.onlyVersion-bb437:last-of-type {\n  padding-bottom: 0;\n  border-bottom: none;\n}\n",""]),a.locals={_aiWorking:"_aiWorking-fa548",_aiWorkingDone:"_aiWorkingDone-bcbb5",_aiWorkingError:"_aiWorkingError-fb538",opacityChange:"opacityChange-f234f",shining:"shining-e3420",_aiWorkingCover:"_aiWorkingCover-b7345",_aiToConfirm:"_aiToConfirm-fa773",preview:"preview-cdca2",btns:"btns-a11f6",codeFile:"codeFile-a768d",aiBg:"aiBg-e66d8",icon:"icon-f61c6",pop:"pop-a2005",popAnimation:"popAnimation-d4dbf",view:"view-b20ee",available:"available-ac437",curScene:"curScene-ca949",iconClear:"iconClear-e7381",iconMini:"iconMini-dd056",running:"running-bb2a7",content:"content-db4d5",response:"response-d799a",loading:"loading-e3279",ing:"ing-b7cb1",done:"done-c96e7",apiDone:"apiDone-d2442",error:"error-ca63e",resDone:"resDone-f4928",resError:"resError-a9740",canceled:"canceled-b5f6a",execute:"execute-cd333",disabled:"disabled-a6bc8",disToolbar:"disToolbar-add61",onlyVersion:"onlyVersion-bb437",positionChange:"positionChange-f3d33"};const s=a},16907:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(75642),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},68167:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(77456),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},30649:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(91430),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},25841:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(58106),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},66574:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(18074),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},96488:(n,e,t)=>{t.d(e,{A:()=>x});var o=t(85072),i=t.n(o),r=t(97825),a=t.n(r),s=t(77659),c=t.n(s),l=t(55056),d=t.n(l),p=t(10540),f=t.n(p),g=t(41113),b=t.n(g),u=t(86787),m={};m.styleTagTransform=b(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(u.A,m);const x=u.A&&u.A.locals?u.A.locals:void 0},16380:(n,e,t)=>{t.d(e,{F:()=>l});var o=t(91737),i=t(96966),r=t(13479),a=t(42519),s=t(56845),c=t(64012);function l(){const n=(0,o.lB)(i.Ho,{from:"parents"}),e=(0,o.J2)(i.Zm.Message,{expectTo:"parents"}),t=(0,o.J2)(i.Zm.Component,{expectTo:"parents"}),l=(0,o.J2)(r.A,(o=>{o({context:n,emitMessage:e,emitItem:t})}));return(0,o.HO)((()=>{let e;if(0==n.focusModelAry.length&&(e=n.focusDefault),1==n.focusModelAry.length&&(e=n.focusModelAry[0]),e&&e instanceof s.sz&&e.asRoot&&e.lockedSilent&&(e=e.parent),n.isDebugMode()||!e||"function"!=typeof e.getAssist)return void l.clear();l.curModel;const t=null==e?void 0:e.getAssist();if(t){if(!t.type||!t.type.match(/geoCom|scene/))return;l.setCurScene(t,e)}else l.disabled(),l.clear();l.curModel=e})),c.createElement(a.A,{ctx:l})}},13479:(n,e,t)=>{t.d(e,{A:()=>c});var o=t(91737),i=t(35296),r=t(90396),a=function(n,e,t,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,o);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(a=(r<3?i(a):r>3?i(e,t,a):i(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a},s=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};class c{constructor(){this.scenes={},this.actived=!1,this._scrollPaused=!1,this.loading=!1}focusTextarea(){var n;null===(n=this.textEl)||void 0===n||n.focus()}getSceneById(n){return this.scenes[n]}resetAvailable(){const n=this.context.configs.aiView.getAvailable;"function"==typeof n&&n().then((n=>{n&&"object"==typeof n&&n.times&&(this.available=n)}))}toggleShowRoleCtxMenu(){this.showRoleContextMenu=!this.showRoleContextMenu}closeRoleCtxMenu(){this.showRoleContextMenu=!1}setCurScene(n,e){if(this.curScene&&this.curScene.id===n.id)return;const t=n.id;let o=this.scenes[t];return o||(o=this.scenes[t]=new r.A(n,this,e)),this.curScene=o,n.active&&setTimeout((n=>{this.scrollContent()})),o}hasError(){if(this.errMsg)return!0}getLLMIcon(){return i.My}scrollContent(){if(this.contentEl){if(this._scrollPaused)return;requestAnimationFrame((n=>{this.contentEl.scrollTop=this.contentEl.scrollHeight}))}}scrollPause(){var n;(null===(n=this.curScene)||void 0===n?void 0:n.isRunning())&&(this._scrollPaused=!0)}scrollResume(){this._scrollPaused=!1}setError(n){this.errMsg=n.message,this.curResponseOri=void 0}enable(n){this.actived=!0,this.resetAvailable(),n&&setTimeout((n=>{this.focusTextarea()}))}disabled(){this.actived=!1}minimize(){this.disabled()}clear(){this.curScene=void 0}}a([o.Nt,s("design:type",Object)],c.prototype,"curModel",void 0)},63951:(n,e,t)=>{t.d(e,{e:()=>l});var o=t(91737),i=t(96966),r=t(13479),a=t(52333),s=t(64012),c=t(64012);function l({assist:n,model:e}){const t=(0,o.lB)(i.Ho,{from:"parents"}),l=(0,o.J2)(i.Zm.Message,{expectTo:"parents"}),d=(0,o.J2)(r.A,(n=>{n({context:t,emitMessage:l,curModel:e})}));return(0,s.useMemo)((()=>{d.setCurScene(n)}),[]),c.createElement(a.A,{ctx:d})}},42519:(n,e,t)=>{t.d(e,{A:()=>p});var o=t(64012),i=t(96488),r=t(96966),a=t(91737),s=t(64795),c=t(72549),l=t(35296),d=t(64012);function p({ctx:n}){const e=n.curScene;return(0,a.yx)(r.Zm.AI,(e=>e({ifUsable(){var e;return!(null===(e=n.curScene)||void 0===e?void 0:e.isRunning())},enable(){n.enable(!0)},request(e,t){let o;if(n.enable(),t.model){t.model.getAssist;const e=t.model.getAssist();if(o&&(!o.type||!o.type.match(/geoCom|scene/)))return;o=n.setCurScene(e,t.model)}else o=n.curScene,t.focusArea?o.curFocusZoneArea=t.focusArea:o.curFocusZoneArea=void 0;(0,c.W)(e,"user",void 0,o,t)}})),{from:"parents"}),(0,o.useEffect)((()=>{var e;if("done"===(null===(e=n.curScene)||void 0===e?void 0:e.status)){const e=n.curScene.model;n.context.focusOn(e)&&setTimeout((e=>{const t=n.textEl;t&&(t.select(),t.focus())}),500)}}),[n.textEl,n.actived,null==e?void 0:e.status]),n.actived?d.createElement(s.A,{ctx:n}):e?d.createElement("div",{className:i.A.icon,onClick:e=>n.enable(!0)},d.createElement("div",{className:i.A.pop},d.createElement("span",{"data-mybricks-tip":`{content:'${n.curScene.title||"AI助手"}',position:'left'}`},l.FF))):void 0}},35296:(n,e,t)=>{t.d(e,{FF:()=>i,My:()=>r,XT:()=>a,o3:()=>s});var o=t(64012);o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M348.36 355.61a36 36 0 0 0-36 36v254.54a36 36 0 0 0 72 0V391.61a36 36 0 0 0-36-36zM737.21 367.55a36 36 0 0 0-50.84-2.72L544.71 492.1a36 36 0 0 0 0.64 54.12L687 667.63A36 36 0 1 0 733.86 613l-110.51-94.76 111.14-99.85a36 36 0 0 0 2.72-50.84z",fill:"#515151"}),o.createElement("path",{d:"M910 228.46c-26.1-22.88-61.73-43.81-105.91-62.2-41.66-17.34-89.85-31.72-139.36-41.6A788.76 788.76 0 0 0 511 109c-83.82 0-191.07 21.85-279.88 57-46.8 18.53-84.7 39.15-112.66 61.27-36.63 29-55.21 60.18-55.21 92.7V701c0 72.36 91.14 123.41 167.6 153.5 88.57 34.85 196 56.5 280.4 56.5 76.07 0 182.87-21.5 272.11-54.77 48.54-18.1 87.86-38.07 116.89-59.36 39.15-28.73 59-60 59-92.87V320c0-32.08-16.57-62.88-49.25-91.54zM887.25 704c0 6-7.75 18.79-29.6 34.82-23.33 17.12-57.72 34.39-99.44 49.95-80.59 30-179.83 50.23-247 50.23-76 0-173.31-19.73-254-51.5-89.48-35.21-122-71-122-86.5V320c0-15.5 32.59-51.47 122.38-87 79.75-31.6 179.2-52 253.41-52 88.36 0 187.58 19.34 265.42 51.74 76.15 31.69 110.83 67.45 110.83 87.26z",fill:"#515151"}));const i=o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},o.createElement("path",{d:"M838.898924 641.295308c5.567777 1.983921 9.983601 6.399744 12.031519 11.967521l39.614415 108.155674c2.047918 5.631775 6.399744 9.983601 11.967522 12.031519l108.219671 39.678413a20.159194 20.159194 0 0 1 0 37.75849l-108.155674 39.678412a20.159194 20.159194 0 0 0-12.031519 11.967522l-39.678413 108.219671a20.159194 20.159194 0 0 1-37.758489 0l-39.678413-108.155674a20.159194 20.159194 0 0 0-11.967521-12.031519l-108.219672-39.678412a20.159194 20.159194 0 0 1 0-37.75849l108.155674-39.678413a20.159194 20.159194 0 0 0 12.031519-11.967521l39.678413-108.219672a20.159194 20.159194 0 0 1 25.790968-12.031518zM397.892564 2.472861a40.318387 40.318387 0 0 1 23.99904 23.99904L501.120435 242.911244a40.318387 40.318387 0 0 0 23.99904 23.99904l216.375345 79.22883a40.318387 40.318387 0 0 1 0 75.77297L525.119475 501.140914a40.318387 40.318387 0 0 0-23.99904 23.99904l-79.228831 216.375345a40.318387 40.318387 0 0 1-75.772969 0L266.889804 525.139954a40.318387 40.318387 0 0 0-23.99904-23.99904L26.515419 421.912084a40.318387 40.318387 0 0 1 0-75.77297L242.890764 266.910284a40.318387 40.318387 0 0 0 23.99904-23.99904L346.118635 26.535899a40.318387 40.318387 0 0 1 51.773929-23.99904z",fill:"#515151"})),r=o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M512 1024C229.052632 1024 0 794.947368 0 512S229.052632 0 512 0s512 229.052632 512 512c0 116.77193-40.421053 231.298246-114.526316 321.122807L875.789474 806.175439c67.368421-83.087719 103.298246-186.385965 103.298245-294.175439C979.087719 253.754386 770.245614 44.912281 512 44.912281S44.912281 253.754386 44.912281 512s208.842105 467.087719 467.087719 467.087719c60.631579 0 116.77193-11.22807 172.912281-33.68421l15.719298 42.666666c-58.385965 24.701754-123.508772 35.929825-188.631579 35.929825z",fill:"#515151"}),o.createElement("path",{d:"M714.105263 761.263158V455.859649c0-24.701754 2.245614-56.140351 4.491228-89.824561h-2.245614c-6.736842 22.45614-11.22807 38.175439-15.719298 47.157894L529.964912 763.508772H494.035088l-170.666667-348.070176c-4.491228-8.982456-8.982456-24.701754-15.719298-49.403508h-2.245614c2.245614 22.45614 2.245614 51.649123 2.245614 94.315789V763.508772h-65.122807V300.912281h89.824561l152.701755 316.631579c11.22807 24.701754 20.210526 42.666667 22.45614 56.140351h2.245614c11.22807-29.192982 20.210526-47.157895 24.701754-58.385965l154.947369-314.385965h87.578947v460.350877h-62.877193z",fill:"#515151"})),a=(o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},o.createElement("path",{d:"M939.7888 421.4144a248.832 248.832 0 0 0-21.376-204.3904 251.6608 251.6608 0 0 0-271.0656-120.7424A248.832 248.832 0 0 0 459.648 12.608a251.6864 251.6864 0 0 0-240.0896 174.2592 248.9216 248.9216 0 0 0-166.4 120.704 251.6992 251.6992 0 0 0 30.9504 295.1168 248.832 248.832 0 0 0 21.3888 204.3904 251.6864 251.6864 0 0 0 271.0656 120.7424 248.832 248.832 0 0 0 187.6864 83.6736 251.6736 251.6736 0 0 0 240.1664-174.3488 248.9216 248.9216 0 0 0 166.4-120.7168 251.6992 251.6992 0 0 0-31.04-295.0144zM564.352 946.2016a186.6624 186.6624 0 0 1-119.8208-43.328c1.5104-0.832 4.1728-2.2784 5.9008-3.3536L649.3184 784.64a32.3328 32.3328 0 0 0 16.3328-28.288V475.9296l84.0704 48.5376a3.008 3.008 0 0 1 1.6384 2.304v232.2176a187.4304 187.4304 0 0 1-187.008 187.2z m-402.1888-171.776a186.5472 186.5472 0 0 1-22.336-125.44c1.472 0.8832 4.0576 2.4576 5.9008 3.52l198.8992 114.8928a32.3712 32.3712 0 0 0 32.6656 0l242.8288-140.2112v97.0752a3.008 3.008 0 0 1-1.2032 2.5856l-201.0496 116.0832a187.392 187.392 0 0 1-255.7056-68.5056zM109.824 340.224a186.5088 186.5088 0 0 1 97.4336-82.0736c0 1.7152-0.1024 4.736-0.1024 6.848v229.7728a32.32 32.32 0 0 0 16.3328 28.288l242.816 140.1856-84.0576 48.5376a3.008 3.008 0 0 1-2.8416 0.256L178.3296 595.84A187.392 187.392 0 0 1 109.824 340.224z m690.688 160.7296L557.696 360.7424l84.0576-48.512a3.008 3.008 0 0 1 2.8288-0.256l201.088 116.0832a187.2256 187.2256 0 0 1-28.928 337.8176V529.2416a32.3072 32.3072 0 0 0-16.2304-28.288z m83.6736-125.9264c-1.4848-0.9088-4.0576-2.4704-5.9136-3.5328l-198.8864-114.88a32.4096 32.4096 0 0 0-32.6656 0L403.8912 396.8256v-97.088a3.008 3.008 0 0 1 1.2032-2.5856l201.0496-115.9808a187.2128 187.2128 0 0 1 278.0416 193.856zM358.1824 548.0576l-84.096-48.5376a3.008 3.008 0 0 1-1.6256-2.304V264.9984a187.2128 187.2128 0 0 1 307.008-143.744 172.8 172.8 0 0 0-5.9136 3.3408l-198.8864 114.88a32.32 32.32 0 0 0-16.3456 28.288l-0.1408 280.2944z m45.6704-98.4576L512 387.136l108.16 62.4256v124.8896L512 636.8768l-108.16-62.4256v-124.8512z",fill:"#d81e06"})),o.createElement("svg",{viewBox:"0 0 1040 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M367.632787 14.268852C360.918033 22.662295 327.344262 77.219672 293.770492 135.97377L231.659016 243.409836h-67.986885c-36.931148 0-71.344262 3.357377-76.380328 6.714754C77.219672 256.839344 0 387.777049 0 398.688525c0 4.196721 30.216393 58.754098 67.986885 123.383606L135.97377 637.901639l-30.216393 53.718033C88.970492 720.996721 75.540984 749.534426 75.540984 755.409836c0 5.036066 17.62623 39.44918 38.609836 75.540984l38.609836 67.147541h282.859016l26.859017 47.842623c41.967213 72.183607 49.521311 78.059016 110.793442 77.219672 111.632787-0.839344 107.436066 2.518033 181.298361-125.062295 66.308197-113.311475 66.308197-113.311475 100.721311-117.508197 27.698361-3.357377 36.931148-9.232787 47.003279-28.537705 6.714754-12.590164 12.590164-26.859016 12.590164-30.216393 0-4.196721 4.196721-17.62623 10.072131-31.055738 5.036066-12.590164 9.232787-26.019672 8.393443-30.216394-0.839344-3.357377 2.518033-5.87541 7.554098-5.875409 4.196721 0 5.87541-4.196721 3.357377-8.393443-2.518033-5.036066-20.983607-8.393443-40.288525-8.393443-35.252459 0-35.252459-0.839344-67.986885-58.754098-18.465574-32.734426-36.091803-56.236066-38.609836-52.878689-3.357377 4.196721-65.468852 110.793443-138.491803 237.534427-73.022951 126.740984-133.455738 231.659016-134.295082 233.337705-1.678689 1.678689-18.465574-26.019672-38.609836-60.432787l-36.931148-62.95082-140.170491-2.518033-140.170492-2.518033 35.252459-58.754098 35.252459-58.754098 68.826229-2.518033 67.986886-2.518033-133.455738-230.819672C168.708197 387.777049 109.114754 280.340984 109.114754 276.144262s31.055738-7.554098 69.665574-7.554098h68.826229l67.147541-117.508197c36.931148-64.629508 69.665574-117.508197 73.022951-117.508197C394.491803 33.57377 453.245902 137.652459 453.245902 150.242623c0 4.196721-13.429508 31.055738-29.37705 58.754098-15.947541 26.859016-29.377049 52.039344-29.377049 54.557377 0 2.518033 124.222951 5.87541 276.144263 6.714754l276.983606 2.518033-36.931147 59.593443-36.091804 60.432787 38.609836 67.986885c21.822951 36.931148 41.967213 67.986885 46.163935 67.986885 12.590164 0 5.036066-23.501639-27.698361-78.059016l-32.734426-57.07541 26.019672-43.645902c42.806557-73.022951 42.806557-72.183607 5.87541-145.206557-19.304918-36.931148-40.288525-71.344262-47.842623-77.219672-9.232787-6.714754-52.878689-10.072131-145.206557-10.072131H605.167213l-31.055738-52.878689c-16.786885-28.537705-34.413115-54.557377-40.288524-57.914754-5.036066-3.357377-41.967213-6.714754-81.416394-6.714754-58.754098 0-74.701639 2.518033-84.77377 14.268852z"}),o.createElement("path",{d:"M362.596721 426.386885C369.311475 444.013115 514.518033 688.262295 519.554098 691.619672c4.196721 3.357377 149.403279-237.534426 158.636066-264.393442 1.678689-4.196721-62.111475-7.554098-157.796721-7.554099-88.131148 0-159.47541 3.357377-157.796722 6.714754z"})),o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M96.20121136 636.3124965c-0.1472897-113.41305959-0.29457937-226.8261192-0.29457937-340.23917879 0-14.87625845 7.65906378-26.51214381 20.4732666-34.02391789 45.51251353-26.65943349 91.02502705-53.31886698 136.83211997-79.53643141 71.1409192-40.94653321 142.42912809-81.59848704 213.71733698-122.39773055 7.36448439-4.12411126 14.58167909-8.3955122 21.50429441-13.2560719 19.44223878-13.40336159 39.03176725-16.05457598 60.09419263-3.53495252 27.39588193 16.34915535 54.93905355 32.25644163 82.48222516 48.16372793 88.0792333 50.96223197 176.30575629 101.77717426 264.38498958 152.59211653 9.86840908 5.74429781 19.88410785 11.19401627 29.60522725 17.0856038 14.13981003 8.54280189 21.50429441 21.06242535 21.50429443 37.70616007 0 147.73155685 0.29457937 295.46311371-0.1472897 443.19467057 0 15.46541722-7.2171947 28.57419943-21.7988738 36.96971163-34.7603663 20.17868721-70.55176044 38.88447758-104.57567833 59.94690293-48.90017634 30.19438599-100.00969801 56.11737105-148.76258466 86.60633642-29.01606849 18.11663161-59.50503387 34.02391789-89.11026112 50.96223197-13.10878221 7.51177407-26.07027474 15.17083783-39.03176726 22.9771913-13.84523065 8.3955122-27.83775099 8.83738127-41.97756102 0.73644843-56.41195043-32.55102101-112.82390085-65.10204201-169.38314098-97.653063-61.86166887-35.64410444-123.72333775-71.1409192-185.4377169-106.78502365-11.19401627-6.48074626-22.24074286-12.81420285-32.99289009-19.88410785-11.48859565-7.65906378-17.08560379-19.14765941-17.08560378-32.69831069-0.1472897-34.7603663 0.1472897-69.52073264 0.29457938-104.28109895 1.62018657-0.58915875 1.62018657-1.62018657-0.29457938-2.65121438z m356.58833414-225.500512c2.20934532-1.76747625 4.41869063-3.68224221 6.77532565-5.15513907 68.93157389-39.62092601 137.86314777-79.24185204 206.94201135-118.86277807 2.79850407-1.62018657 6.48074626-1.62018657 6.62803594-6.18616688 0.1472897-4.8605597-4.12411126-4.71327001-6.77532564-6.18616688-40.65195383-23.56635005-81.59848704-46.83812071-122.10315117-70.84633984-16.79102442-10.01569877-32.84560039-8.54280189-48.45830728 0.58915876-45.9543826 26.51214381-91.46689612 53.61344636-137.27398903 80.42016953-31.96186226 18.70579035-64.21830387 37.11700133-96.32745581 55.67550198-18.41121097 10.60485751-27.54317163 25.33382629-27.24859225 47.72185885 0.88373813 89.55213018 0.58915875 179.10426036 0.14728969 268.65639053-0.1472897 20.17868721 9.27925033 33.58204881 25.33382629 43.15587853 31.3727035 18.70579035 63.18727606 37.11700133 95.14913832 54.93905355 10.89943689 6.03887719 21.06242535 13.99252034 35.79139414 18.41121096V505.51925374c6.48074626 19.58952848 18.55850066 34.02391789 36.67513226 44.6287754 27.83775099 16.20186565 63.18727606 12.51962347 86.31175705-10.45756784 26.95401286-26.65943349 28.72148912-62.89269668 12.81420282-90.14128893-16.34915535-28.42690974-43.59774757-37.55887038-74.38129233-38.73718787z m82.48222517 429.64401928c14.28709972-3.82953187 25.92298506-13.99252034 38.88447758-21.35700473 40.94653321-23.27177067 81.30390766-47.72185885 122.54502023-70.55176046 26.95401286-15.02354815 52.87699792-31.66728287 80.71474891-45.21793415 16.79102442-8.10093283 29.60522723-22.53532223 29.60522726-43.4504579 0.1472897-92.939793 0.29457937-185.73229631 0.14728969-278.6720893 0-11.19401627-5.15513907-13.99252034-13.84523067-7.06990501-26.51214381 20.76784598-57.29568854 34.46578693-86.16446735 51.25681135-54.49718448 31.81457257-109.14165865 63.33456576-163.78613282 95.00184862-8.54280189 4.8605597-11.78317502 10.45756784-11.63588535 20.47326662 0.29457937 96.18016613 0.1472897 192.50762194 0.1472897 288.68778806-0.29457937 3.5349525-1.47289687 7.65906378 3.38766282 10.8994369z",fill:"#066AF3"}),o.createElement("path",{d:"M96.20121136 636.3124965c1.91476594 1.03102783 1.91476594 2.06205563 0 3.09308345v-3.09308345z",fill:"#4372E0"}),o.createElement("path",{d:"M391.3697457 505.37196405c-5.44971845-44.33419602 13.84523065-74.08671296 61.4197998-94.55997955 30.93083443 1.17831749 58.03213699 10.31027814 74.38129233 38.5898982 15.75999659 27.39588193 14.13981003 63.48185543-12.81420282 90.14128893-23.27177067 22.97719129-58.47400606 26.65943349-86.31175705 10.45756783-18.11663161-10.60485751-30.34167568-25.03924691-36.67513226-44.62877541z",fill:"#002A9A"})),o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M24.65 399.36L965.485 7.314a29.257 29.257 0 0 1 39.643 34.085L770.78 978.87a29.257 29.257 0 0 1-47.104 15.36L520.192 824.686a29.257 29.257 0 0 0-39.424 1.828L376.393 930.816a29.257 29.257 0 0 1-49.883-20.626V689.737a29.257 29.257 0 0 1 8.557-20.7L759.515 244.59 258.414 620.47a29.257 29.257 0 0 1-36.28-0.95L17.19 448.805a29.257 29.257 0 0 1 7.46-49.445z",fill:"#333333","p-id":"5126"}))),s=o.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},o.createElement("path",{d:"M924.672 126.976q36.864 36.864 54.784 82.432t17.92 93.696-17.92 93.696-54.784 82.432l-392.192 389.12q-36.864 36.864-90.624 61.44t-113.664 28.672-122.368-16.384-115.712-73.728q-52.224-52.224-72.704-113.152t-16.384-121.344 28.16-113.664 60.928-90.112l348.16-345.088q9.216-9.216 27.136-4.608t27.136 13.824q8.192 9.216 13.312 27.136t-4.096 27.136l-347.136 344.064q-27.648 27.648-46.08 64.512t-21.504 78.848 12.288 84.992 55.296 82.944q35.84 35.84 79.36 50.688t86.528 12.288 81.92-18.944 66.56-44.032l391.168-388.096q27.648-27.648 39.424-57.344t11.264-58.88-13.824-56.832-36.864-51.2q-44.032-43.008-98.816-40.448t-110.08 57.856l-353.28 351.232q-23.552 23.552-23.04 52.224t18.944 47.104q22.528 22.528 51.712 18.432t47.616-22.528l320.512-318.464q9.216-9.216 27.136-4.608t27.136 13.824 14.336 27.136-4.096 27.136l-321.536 318.464q-36.864 36.864-70.656 51.2t-63.488 12.8-55.296-15.872-47.104-34.816q-17.408-16.384-31.232-41.984t-15.872-56.32 10.752-65.536 49.664-70.656q18.432-18.432 32.768-33.792 12.288-13.312 23.04-23.552t11.776-11.264l285.696-284.672q36.864-36.864 80.384-57.856t88.576-24.064 88.576 12.288 80.384 52.224z"}))},90396:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(72549),i=t(19785),r=t(91737);class a{clearAttachments(){this.curAttachment=[]}setTryAgain(n,e){this.errTryAgain={role:n,message:e}}clearTryAgain(){this.errTryAgain=void 0}confirmToRequestGo(){const{title:n,question:e}=this.confirmToRequest;this.confirmToRequest=void 0,(0,o.W)(e,"user",void 0,this)}constructor(n,e,t){this.curAttachment=[],this.knowledges=[],this.responses=[],this.resultVersions=[],this.messages={},this.aiCtx=e,this.model=t;for(let e in n)this[e]=n[e];if("function"==typeof n.getFocusArea){const e=n.getFocusArea();this.curFocusArea=e}else this.curFocusArea={title:n.title,selector:":root",model:t};const o=n.getRoles;if("function"==typeof o){const n=o();if(Array.isArray(n)&&n.length>0){this.curRoles=n;const e=this.curRoleId;e?this.setCurRole(n.find((n=>n.id===e))):this.setCurRole(n[0])}}const i=n.getActionsPrompts;if("function"==typeof i){i()}}setState(n){this.status=n,"function"==typeof this.setRequestState&&this.setRequestState(n)}_cancelRequest(){this.setState("canceled");const n=this.messages[this.curRole.id].pop();n.cancelRequest&&n.cancelRequest()}isRunning(){return"ing"===(null==this?void 0:this.status)}isConfirming(){if("confirm"===(null==this?void 0:this.status))return!0}setCurRole(n){var e;if(this.curRole===n)return;const t=this.curRole;(null==t?void 0:t.templates)&&t.templates.forEach((n=>{n.guides&&n.guides.forEach((n=>{n.form&&n.form.forEach((n=>{n.value=void 0}))})),n.curGuide=void 0})),this.curRole=n,this.curRoleId=n.id,this.setRoleTemplate(void 0),(null===(e=n.templates)||void 0===e?void 0:e.length)>0&&(n.templates.forEach(((e,t)=>{e.id||(e.id=`${n.id}-${t}`)})),this.setRoleTemplate(n.templates[0]))}setRoleTemplate(n){const e=this.curRoleTemplate;e!==n&&(e&&e.guides&&e.guides.forEach((n=>{n.form&&n.form.forEach((n=>{n.value=void 0}))})),this.curRoleTemplate=n)}ifCurKnowledgeUpdated(n){if("function"==typeof this.loadKnowledge){const e=this.knowledges;let t;try{t=this.loadKnowledge(n)}catch(n){throw n}if(t){if(0===t.length)return 0;if(t.find((n=>{if(!e.find((e=>e.id===n.id)))return!0}))){t.forEach((n=>{e.find((e=>e.id===n.id))||e.push(n)}));return s(e)}}}return-1}getCurMessageAry(){return this.messages[this.curRole.id]}applyResultVersion(n){this.resultVersions.push(n),n.apply(),this.shouldMergeHistory=!0}syncMessage(n,e){const t=this.messages;if(t)for(let o in t)o!==n.id&&t[o].push(e)}resetResponse(n){}applyMessage(n){const e=this.responses;e&&e.forEach(((t,o)=>{if(t.id===n){if(o<e.length-1){e.splice(o+1);for(let n=e.length-1;n>=0;n++)if(e[n].hasNextRequest){e.splice(n);break}}}}));const t=this.getCurMessageAry();t&&t.forEach(((e,o)=>{e.id===n&&t.splice(o+1)}))}deleteMessageByFilter(n){const e=this.getCurMessageAry();e&&(this.messages[this.curRole.id]=e.filter(n))}cancelMessage(n){const e=this.responses;e&&(this.responses=e.filter((e=>e.id!==n)))}appendMessage(n){const e=this.messages;let t=e[this.curRole.id];t||(t=e[this.curRole.id]=[]),t.push(n)}commitDialog(n){const e={},t=this.curRoleTemplate;let i;if(!t||!t.curGuide||t.curGuide&&!t.curGuide.form);else if(t){if(i=t.curGuide,i){t.curGuide=void 0,e.asPrivate=!0;const o=i.form;if(i.prompts&&o){if("function"==typeof i.validate){const n={};o.forEach((e=>{n[e.name]=e.value}));const e=i.validate(n);if(e)return void this.aiCtx.emitMessage.error(e)}n=i.prompts,o.forEach((e=>{n=n.replaceAll(`{${e.name}}`,e.value||"")}))}}if(this.curRole.contexts){const n=t.contextId;this.curRole.curContext=n?this.curRole.contexts.find((e=>e.id===n)):this.curRole.contexts[0]}this.setRoleTemplate(this.curRole.templates[0])}if(n&&""!==n.trim()){let r;i&&(r=i.aiRole),!r&&t&&(r=t.aiRole),r||(r=this.curRole.aiRole),(0,o.W)(n,"user",r,this,e)}}tryAgain(n){let e;const t=this;t.lastAIRole===i.w.EXPERT?e=i.w.EXPERT:(t.tryAgainTimes?t.tryAgainTimes++:t.tryAgainTimes=1,e=i.w.ARCHITECT,t.tryAgainTimes>=2&&(e=i.w.EXPERT));const r=`（再次尝试）${n.question}`;t.setState("ing"),(0,o.W)(r,"user",e,this)}delete(n){this.cancelMessage(n.id)}request(n){const e=this,{role:t,reqRole:o,aiRole:i,question:a,attachments:c,getStartAIRole:l,getSystemPrompts:d,getPromptAppended:p,getTools:f,emits:g,asPrivate:b,noResetMessages:u}=n,m=this.aiCtx.context.configs.aiView;let x,h;if("function"==typeof m.requestAsStream?x=m.requestAsStream:"function"==typeof m.request&&(h=m.request),"function"!=typeof x&&"function"!=typeof h)throw new Error("未找到AI请求方法");const v=this.messages;let y=v[t.id];y||(y=v[t.id]=[]);let k=i||e.nextAIRole;const w=this.knowledges;let F=!1;if(0===y.length){F=!0,k||(k=l({asStart:!0,attachments:c}));const n=d({asStart:!0,knowledge:w});if(y.push({id:(0,r.uR)(),role:"system",content:n}),"function"==typeof this.getInitKnowledge){const n=e.getInitKnowledge();if(n&&n.length>0){this.knowledges=n;const e=s(n);y.push({id:(0,r.uR)(),role:"user",content:e})}}}else if(!n.continue){const n=d({lastResponse:y[y.length-1].response,messages:y,knowledge:w}),e=y[0];"system"===e.role&&e.content!==n&&(k=l({changedPrompts:!0})||k,e.content=n)}if(k||n.asPrivate,a){const e={id:n.id,role:o,content:a,asPrivate:n.asPrivate};c.length>0&&(k||(k="image"),e.content=[{type:"text",text:a}],c.forEach((n=>{e.content.push({type:"image_url",image_url:{url:n.base64}})}))),y.push(e)}if(n.noResetMessages||(y=this._resetMessages({messages:y,mergeHistory:this.shouldMergeHistory,needToRetry:n.needToRetry,noResetMessages:n.noResetMessages,focusArea:this.curFocusZoneArea||this.curFocusArea})),delete this.shouldMergeHistory,!F){y.find((n=>{const e=n.content;if(Array.isArray(e)&&e.length>1&&"image_url"===e[1].type)return!0}))&&"image"!==k&&(k="architect")}const A=f();e.lastAIRole=k,e.nextAIRole=void 0,this.aiCtx.scrollResume(),e.setState("ing"),e.clearTryAgain();const E=y[y.length-1],C=()=>{if(!y.find((n=>n.id===E.id))){const n=this.responses;let e;return n.length>0&&(e=n.find((n=>n.id===E.id)),e&&(e.status="canceled")),!0}},z={cancel(n){E.cancelRequest=n},write(n){C()||g.write(n,{aiRole:k})},complete(){C()||g.complete({aiRole:k})},error(n){C()||g.error(n,{aiRole:k})}},T=y.map((n=>({role:n.role,content:n.content})));if("function"==typeof x)return x(T,A,z,{aiRole:k});"function"==typeof h&&h(T,k).then((n=>{z.write(n),z.complete()})).catch((n=>{this.aiCtx.setError(n),z.error(n)}))}_resetMessages(n){const e=this.getCurMessageAry(),t=this.resetMessages({messages:e,mergeHistory:n.mergeHistory,needToRetry:n.needToRetry,noResetMessages:n.noResetMessages,focusArea:this.curFocusZoneArea||this.curFocusArea});return t?(this.messages[this.curRole.id]=t,t):e}clearMessages(){this.messages={},this.responses=[]}}function s(n){return`【知识库】\n${n.map((n=>{const e=[];if(n.editors){const t=[];for(const e in n.editors){const o=n.editors[e];t.push({selector:e,title:o.title})}if(t.length>0){const o=t.map((n=>`${n.title}(${n.selector})`));e.push(`${n.lib} 中 ${n.item} 的 选区：${o.join(", ")}`)}}let t="";return e.length>0&&(t=`<组件${n.item}的选区声明>${e.join("\n")}</组件${n.item}的选区声明>`),`${n.docs}\n${t}`})).join("\n")}\n          `}},64795:(n,e,t)=>{t.d(e,{A:()=>p});var o=t(64012),i=t(96488),r=t(96966),a=t(4577),s=t(46785),c=t(91737),l=t(94427),d=t(64012);function p({ctx:n}){var e;const t=(0,o.useCallback)((()=>{n.minimize()}),[]),p=n.curScene,f=(0,o.useCallback)((()=>{p.clearMessages()}),[p]),g=(0,o.useCallback)((()=>{n.showDialogTptMenu=void 0}),[]);if(p){const o=p.isRunning(),b=p.responses;return d.createElement("div",{className:`${i.A.view} ${n.errTryAgain?i.A.error:""}`,onClick:(0,c.Wj)(g).stop},d.createElement(l.t,{curScene:p}),d.createElement("div",{className:i.A.content,ref:e=>{e&&(n.contentEl=e)}},d.createElement(a.S,{curScene:p,myResAry:b})),d.createElement("div",{className:`${i.A.curScene} ${o?i.A.running:""}`},d.createElement("label",null,"我是 ",null===(e=n.curScene)||void 0===e?void 0:e.title),b.length>0?d.createElement("span",{className:i.A.iconClear,"data-mybricks-tip":"清空",onClick:f},r.FI.Clear):null,d.createElement("span",{className:i.A.iconMini,"data-mybricks-tip":"{content:'隐藏',position:'left'}",onClick:t},r.FI.Minimize)),d.createElement(s.A,{ctx:n,curScene:p}),n.available&&!p.isRunning()?d.createElement("span",{className:i.A.available},"(剩余",n.available.times,"次 )"):null)}return d.createElement("div",{className:`${i.A.view} ${i.A.disabled}`,onClick:(0,c.Wj)(g).stop},d.createElement("div",{className:i.A.curScene},d.createElement("label",null,"当前内容不支持AI"),d.createElement("span",{className:i.A.iconMini,"data-mybricks-tip":"隐藏",onClick:t},r.FI.Minimize)))}},44199:(n,e,t)=>{t.d(e,{A:()=>c});var o=t(64012),i=t.n(o),r=t(91737),a=t(16907),s=t(96966);function c({item:n,setShow:e,curScene:t}){const{com:c,meta:l,_used:d,_unused:p}=n.resultVersion,[f,g]=(0,o.useState)({width:l.width,height:l.height}),b=(0,o.useRef)(),[u,m]=(0,o.useState)({showSelectors:!1,focusSelector:null});(0,o.useMemo)((()=>{if(b.current){const n=l.editors;if(n)for(let e in n){const t=n[e],o=b.current.querySelector(e);o&&(u.showSelectors?o.setAttribute("data-ai-zone-selector",t.title):o.removeAttribute("data-ai-zone-selector"))}}}),[u.showSelectors,b.current]),(0,o.useEffect)((()=>{const n=(n,e)=>{const t=n.target,o=l.editors;if(o){const n=[];for(const e in o){const i=o[e],{title:r,items:a}=i,s=b.current.querySelector(e);if(s){let e=!1;if(s===t)e=!0;else{let n=t;for(;n;){if(n===s){e=!0;break}n=n.parentElement}}e&&n.push({ele:s,editor:i})}}if(n.length>0){n.sort(((n,e)=>{const t=n.ele,o=e.ele;return t.offsetWidth*t.offsetHeight-o.offsetWidth*o.offsetHeight}));const t=n[0];e(t.ele,t.editor)}}},e=e=>{n(e,((n,e)=>{b.current.querySelectorAll("[data-ai-zone-selector-focus]").forEach((n=>{n.removeAttribute("data-ai-zone-selector-focus")})),n.setAttribute("data-ai-zone-selector-focus",e.title),m({focusSelector:e})}))},t=e=>{n(e,((n,e)=>{n.setAttribute("data-ai-zone-selector",e.title)}))},o=n=>{b.current.querySelectorAll("[data-ai-zone-selector]").forEach((n=>{n.removeAttribute("data-ai-zone-selector")}))};return b.current&&(b.current.addEventListener("click",e,!0),b.current.addEventListener("mouseenter",t,!0),b.current.addEventListener("mouseleave",o,!0)),()=>{b.current&&(b.current.removeEventListener("click",e,!0),b.current.removeEventListener("mouseenter",t,!0),b.current.removeEventListener("mouseleave",o,!0))}}),[b.current,u]);const x=(0,o.useCallback)(((n,e)=>{let t=f.width,o=f.height;(0,r.zg)(n,(({po:{x:n,y:i},epo:{ex:r,ey:a},dpo:{dx:s,dy:c},adpo:{adx:l,ady:d}},p)=>{if("moving"==p){let n,i;switch(e){case 0:n=t+-1*l*2,i=o+-1*d*2;break;case 1:n=t+1*l*2,i=o+-1*d*2;break;case 2:n=t+1*l*2,i=o+1*d*2;break;case 3:n=t+-1*l*2,i=o+1*d*2}g({width:n,height:i})}})),n.stopPropagation()}),[f.width,f.height]),h=(0,o.useMemo)((()=>{const n=[];if(l){if(u.focusSelector){const{title:e,selector:t,configs:o}=u.focusSelector,r=o||[];n.push(i().createElement("div",{className:a.A.selectors},i().createElement("div",{className:a.A.tt},"选区:",i().createElement("label",null,e)),i().createElement("div",{className:a.A.items},r.map((n=>i().createElement("div",null,n.title))))))}const e=l.inputs||[];Array.isArray(e)&&n.push(i().createElement("div",{className:a.A.inputs},i().createElement("div",{className:a.A.tt},"输入项"),i().createElement("div",{className:a.A.items},e.map((n=>i().createElement("div",null,n.title))))));const t=l.outputs||[];Array.isArray(t)&&n.push(i().createElement("div",{className:a.A.outputs},i().createElement("div",{className:a.A.tt},"输出项"),i().createElement("div",{className:a.A.items},t.map((n=>i().createElement("div",null,n.title))))))}return n}),[u]),[v,y]=(0,o.useState)(null),[k,w]=(0,o.useState)(0),F=(0,o.useCallback)((()=>{e(!1),n.resultVersion.apply(k).then((e=>{t.applyResultVersion(n.resultVersion)}))}),[k]);(0,o.useEffect)((()=>{v&&(n.resultVersion._errorMsg=v)}),[v]);const A=l.comAry;let E;return A&&A.length>1&&(E=i().createElement("div",{"data-style-optioins":"aaa"},A.map(((n,e)=>i().createElement("button",{key:e,"data-selected":e===k?1:0,onClick:()=>{w(e)}},"风格",e+1))))),i().createElement("div",{className:a.A.preview},i().createElement("div",{className:a.A.view,onClick:n=>{e(!1)}},i().createElement("div",{className:a.A.contentWrap,onClick:(0,r.Wj)().stop,style:{width:f.width,height:f.height}},i().createElement("div",{id:l.comId,className:a.A.content,ref:b},i().createElement(s.sr,{title:"组件发生错误",onError:n=>{y(n),console.error(n)}},i().createElement(c,{styleIndex:k,onError:n=>{y(n.message)}}))),i().createElement("span",{className:`${a.A.resizer} ${a.A.resizer0}`,onMouseDown:n=>x(n,0),onClick:(0,r.Wj)().stop}),i().createElement("span",{className:`${a.A.resizer} ${a.A.resizer1}`,onMouseDown:n=>x(n,1),onClick:(0,r.Wj)().stop}),i().createElement("span",{className:`${a.A.resizer} ${a.A.resizer2}`,onMouseDown:n=>x(n,2),onClick:(0,r.Wj)().stop}),i().createElement("span",{className:`${a.A.resizer} ${a.A.resizer3}`,onMouseDown:n=>x(n,3),onClick:(0,r.Wj)().stop})),i().createElement("div",{className:a.A.toolbar,onClick:(0,r.Wj)().stop},i().createElement("div",{className:`${a.A.showSelector} ${u.showSelectors?a.A.checked:""}`,onClick:n=>{m({showSelectors:!u.showSelectors})}},i().createElement("label",null,"选区")),E,i().createElement("div",{className:a.A.apply,onClick:n=>{F(!1)}},s.FI.Check,i().createElement("label",null,"采用")),i().createElement("div",{className:a.A.close,onClick:n=>{e(!1)}},s.FI.Close))),i().createElement("div",{className:a.A.props},i().createElement("div",{className:a.A.ttt},"配置项-输入项-输出项"),h))}},94427:(n,e,t)=>{t.d(e,{t:()=>a});var o=t(64012),i=t.n(o),r=t(68167);function a({curScene:n}){const e=(0,o.useCallback)((e=>{e.apply(),n.curResultVersion=e}),[n]);if(n&&n.showHistory){const t=n.resultVersions;if(t.length>0){const o=n.curResultVersion;return i().createElement("div",{className:r.A.resultVersions},t.map(((n,t)=>{const a=n.meta.update,s=[];return a.files&&a.files.forEach((n=>{s.push(i().createElement("div",{className:r.A.log},i().createElement("label",null,n.name),i().createElement("p",null,n.log)))})),i().createElement("div",{className:r.A.item,"data-mybricks-tip":"切换到当前版本",onClick:t=>e(n)},o===n?i().createElement("span",{className:r.A.applied},"当前版本"):null,i().createElement("label",{className:r.A.ver},t),i().createElement("div",{className:r.A.summary},a.summary),s)})))}}}},46785:(n,e,t)=>{t.d(e,{A:()=>f});var o=t(64012),i=t(30649),r=t(35296),a=t(96966),s=t(72549),c=t(19785),l=t(91737),d=t(48212),p=t(64012);function f({ctx:n,curScene:e}){var t,a;const[l,d]=(0,o.useState)();(0,o.useMemo)((()=>{d(null==e?void 0:e.errTryAgain)}),[null==e?void 0:e.errTryAgain]),(0,o.useMemo)((()=>{var n,t;if(null===(n=null==e?void 0:e.model)||void 0===n?void 0:n.error){const n=e.responses,o=n[n.length-1];if(0===n.length||o.resultVersion&&o.resultVersion._used)return void d(null===(t=null==e?void 0:e.model)||void 0===t?void 0:t.error)}d(void 0)}),[null===(t=null==e?void 0:e.model)||void 0===t?void 0:t.error,e.responses.length]);const f=(0,o.useCallback)((n=>{n?(0,s.W)(`出错了，请修正错误，同时关注此前沟通的目标问题。\n错误信息：${null==l?void 0:l.message}`,"user",c.w.EXPERT,e):(e.clearTryAgain(),d(void 0))}),[l,e]),u=(0,o.useCallback)((()=>{const n=e.responses;if(n)return n[n.length-1]}),[e]),m=(0,o.useCallback)((()=>{u().resultVersion.tryAgain()}),[]),x=(0,o.useCallback)((()=>{u().resultVersion.cancel()}),[]),h=(0,o.useCallback)((()=>{e._cancelRequest()}),[e]);if("ing"===e.status)return p.createElement("div",{className:`${i.A.dialog}`},p.createElement("div",{className:i.A.llmIng},p.createElement("div",{className:i.A.loader}),p.createElement("p",null,"处理中，请稍后"),p.createElement("button",{onClick:h},"终止任务")));if(n.confirmRequest)return p.createElement("div",{className:`${i.A.dialog}`},p.createElement("div",{className:i.A.llmConfirm},p.createElement("p",{className:i.A.confirmTitle},n.confirmRequest.content),p.createElement("div",{className:i.A.btns},p.createElement("button",{className:i.A.btnApply,onClick:e=>{n.confirmRequest.confirm()}},"采用"),p.createElement("button",{className:i.A.btnCancel,onClick:e=>{n.confirmRequest.cancel()}},"取消"))));if(l)return p.createElement("div",{className:`${i.A.dialog}`},p.createElement("div",{className:i.A.onError},p.createElement("p",null,"发生错误：",p.createElement("div",null,l.message),"是否让助手尝试修正错误？"),p.createElement("div",null,p.createElement("button",{onClick:n=>f(!0)},"是"),p.createElement("button",{onClick:n=>f(!1)},"否"))));const v=u();return v&&(null===(a=v.resultVersion)||void 0===a?void 0:a._errorMsg)?p.createElement("div",{className:`${i.A.dialog}`},p.createElement("div",{className:i.A.llmConfirm},p.createElement("p",null,v.resultVersion._errorMsg),p.createElement("div",{className:i.A.btns},p.createElement("button",{className:i.A.btnError,onClick:m},"出错了，重试"),p.createElement("button",{className:i.A.btnCancel,onClick:x},"取消")))):p.createElement("div",{className:`${i.A.dialog}`,onClick:e=>{n.showRoleMenu=!1}},p.createElement(g,{ctx:n,curScene:e}),p.createElement("div",{className:`${i.A.bottomToolbar} ${i.A.miniBottomToolbar}`},p.createElement(b,{ctx:n,curScene:e}),n.showCommitBtn?p.createElement("div",{className:i.A.submit,"data-mybricks-tip":"提交",onClick:t=>{const o=n.textEl.value;n.curRequest="",e.commitDialog(o)}},r.XT):null))}function g({ctx:n,curScene:e}){var t;const r=(0,o.useRef)(),s=(0,o.useCallback)((()=>{setTimeout((n=>{const e=r.current.querySelectorAll("input,textarea");if(e&&e.length>0){const n=e[0];n&&n.focus()}}))}),[r.current]),c=(0,o.useCallback)((n=>{e.curRole.curContext=n}),[e.curRole]),f=(0,l.HO)((()=>{var t;const o=e.curRoleTemplate;if(o){const n=o.curGuide;if(n)return p.createElement(p.Fragment,null,p.createElement("div",{className:i.A.tptTitle},p.createElement("label",null,n.title),p.createElement("span",{onClick:n=>{o.curGuide=void 0}},a.FI.Close)),p.createElement("div",{className:`${i.A.diaTpt} ${i.A.diaForm}`},n.form.map((n=>{const e={};let t;return"image"===n.type||"text"===n.type?t=p.createElement("input",{name:n.name,placeholder:n.placeholder,value:n.value,onChange:e=>{n.value=e.target.value}}):"textarea"===n.type?(e.flex=1,t=p.createElement("textarea",{name:n.name,placeholder:n.placeholder,value:n.value,"data-paste-for-image":n.pasteForImage,onChange:e=>{n.value=e.target.value},onBlur:e=>{n.value=e.target.value}})):"select"===n.type&&(t=p.createElement("select",{name:n.name,ref:n=>{},value:n.value,onChange:e=>{n.value=e.target.value}},n.options.map((n=>p.createElement("option",{value:n.value},n.label))))),p.createElement("div",{className:i.A.tptFormItem,style:e},n.title?p.createElement(p.Fragment,null,p.createElement("span",null," ",n.required?"*":null),p.createElement("label",null,n.title)):null,t)}))));if(o.guides)return p.createElement("div",{className:i.A.diaGuide},o.guides.map((n=>p.createElement("div",{className:i.A.tptCate,onClick:e=>{o.curGuide=n,s()}},n.title))))}const r=e.curRole;let d,f;if(d="ing"===e.status?"处理中...":(null==o?void 0:o.placeholder)||r.placeholder||"请问您的问题是什么？",(null===(t=r.contexts)||void 0===t?void 0:t.length)>0){const e=[];r.contexts.forEach(((n,t)=>{e.push(p.createElement("div",{className:i.A.tptCate,onClick:e=>{c(n),s()}},n.title))}));const t=r.curContext||r.contexts[0];t.placeholder&&(d=t.placeholder),f=p.createElement("div",{className:i.A.modeDrop},p.createElement("label",{onClick:(0,l.Wj)(n.toggleShowRoleCtxMenu).stop},t.title),p.createElement("div",{className:i.A.modeMenu,style:{display:n.showRoleContextMenu?"":"none"}},e))}return p.createElement("div",{className:i.A.diaDefault,onClick:(0,l.Wj)(n.closeRoleCtxMenu).stop},f,p.createElement("textarea",{placeholder:d,disabled:!e||"ing"===e.status,ref:e=>{e&&(n.textEl=e)},value:n.curRequest,onChange:e=>n.curRequest=e.target.value}))})),g=(0,o.useCallback)((n=>{e.setRoleTemplate(n)}),[]),b=((0,o.useCallback)((e=>{var t;n.setCurRole(e),(null===(t=n.curRoleTemplate)||void 0===t?void 0:t.form)&&n.curRoleTemplate.form.forEach((n=>{delete n.value}))}),[]),(0,o.useCallback)((()=>{e.showHistory=!e.showHistory}),[e]),(0,l.HO)((()=>{if(e.curRole.templates)return p.createElement("div",{className:i.A.templates},e.curRole.templates.map((n=>{var t;if(!1===n.visible)return;let o;return(null===(t=e.curRoleTemplate)||void 0===t?void 0:t.id)===n.id&&(o=i.A.activeTpt),p.createElement("div",{className:o,onClick:(0,l.Wj)((e=>{g(n)})).stop},n.title)})))})));if((0,o.useEffect)((()=>{if(r.current){const t=r.current.querySelectorAll("input,textarea");if(t&&t.length>0){n.showCommitBtn=!0;t[0];t[t.length-1].onkeydown=n=>{"Enter"===n.key&&(n.target.blur(),n.preventDefault(),function(n,e){let t=e||n.aiCtx.curRequest;n.aiCtx.curRequest="",n.commitDialog(t)}(e,n.target.value))},t.forEach(((e,t)=>{e.getAttribute("data-paste-for-image")&&(e.onpaste=t=>{(0,d.c)(t,n,(()=>{e.value||(e.value="根据附件图片对当前组件的区域进行调整，要求最大程度还原图片中的各项功能要素与视觉设计要素、可以做适度的创作发挥，要求考虑到功能一致完整与合理性、注意外观视觉美观大方、富有现代感，请返回修改后文件的内容")}))})}))}else n.showCommitBtn=!1}}),[r.current,e.curRole,e.curRoleTemplate,null===(t=e.curRoleTemplate)||void 0===t?void 0:t.curGuide]),!e)return;const u=e.curFocusArea,m=e.curFocusZoneArea;return p.createElement("div",{className:i.A.forms,ref:n=>{n&&(r.current=n)}},u?p.createElement("div",{className:i.A.topBar},p.createElement("div",{className:i.A.focusZone},p.createElement("span",null,"对于"),m?p.createElement("label",{className:i.A.zone},m.title,p.createElement("span",{"data-mybricks-tip":"删除",onClick:n=>{e.curFocusZoneArea=void 0}},a.FI.Close)):null,p.createElement("label",null,u.title))):null,f,b)}function b({ctx:n,curScene:e}){var t,a,s,c;const l=e.curRole,f=null===(t=l.attachment)||void 0===t?void 0:t.join(","),g=(0,o.useRef)(),b=(0,o.useCallback)((t=>{const o=t.target.files[0];if(!o)return;o.name.slice(o.name.lastIndexOf(".")+1).match(/png|jpg/)?(0,d.A)(o,e):n.emitMessage.warn(`只支持${f}格式的文件`)}),[e]);let m=!!l.attachment;((null===(a=null==l?void 0:l.curContext)||void 0===a?void 0:a.useImage)||(null===(c=null===(s=e.curRoleTemplate)||void 0===s?void 0:s.curGuide)||void 0===c?void 0:c.useImage))&&(m=!0);const x=e.curAttachment;return(0,o.useEffect)((()=>{m&&n.textEl&&(n.textEl.onpaste=t=>{(0,d.c)(t,e,(()=>{n.textEl.value||(n.textEl.value="参考附件中的图片进行开发，要求最大程度还原图片中的各项功能要素与视觉设计要素、可以做适度的创作发挥，要求考虑到功能一致完整与合理性、注意外观视觉美观大方、富有现代感",n.textEl.select())}))})})),x.length>0?p.createElement(u,{ctx:n,curScene:e}):p.createElement("div",{className:`${i.A.files}`,style:{visibility:m?"visible":"hidden"},"data-mybricks-tip":"添加附件",onClick:n=>{m&&g.current.click()}},p.createElement("input",{ref:g,type:"file",onChange:b,accept:f}),r.o3)}function u({ctx:n,curScene:e}){const t=e.curAttachment,r=(0,o.useCallback)((n=>{e.curAttachment.splice(n,1)}),[]);if(t)return p.createElement("div",{className:i.A.attachments},t.map(((n,e)=>p.createElement("div",{className:i.A.curAttach,onMouseEnter:e=>{n._preview=!0},onMouseLeave:e=>{n._preview=!1}},p.createElement("img",{src:n.base64}),p.createElement("label",null,n.title,p.createElement("br",null),n.size,"kB"),p.createElement("span",{onClick:n=>r(e),"data-mybricks-tip":"移除附件"},a.FI.Close),n._preview?p.createElement("div",{className:i.A.showImg,onMouseLeave:e=>{n._preview=!1}},p.createElement("img",{src:n.base64})):null))))}},4577:(n,e,t)=>{t.d(e,{S:()=>p});var o=t(96488),i=t(25841),r=t(64012),a=t.n(r),s=t(76033),c=t(91737),l=t(44199),d=t(91716);function p({curScene:n,myResAry:e}){return e.map(((e,t)=>{const r=[],{focusArea:s,content:c}=e;let l=c;if(e.asPrivate&&(l="正在将您的问题进行处理.."),"loading"===e.status?r.push(a().createElement("span",{key:t,className:`${o.A[e.status]}`},"(处理中)")):"apiDone"===e.status?r.push(a().createElement("span",{key:t,className:`${o.A[e.status]}`},"设置OpenAI API Key完成")):"ing"!==e.status&&"done"!==e.status&&"canceled"!==e.status||r.push(a().createElement(f,{key:t,item:e,curScene:n})),"error"===e.status){const n=e.errorMsg;r.push(a().createElement("span",{key:t,className:`${o.A[e.status]}`},n))}return"canceled"===e.status&&r.push(a().createElement("span",{key:t,className:`${o.A[e.status]}`},"(任务终止)")),a().createElement("div",{key:e.id,className:i.A.conversation,onMouseOver:e=>{n.aiCtx.scrollPause()},onMouseOut:e=>{n.aiCtx.scrollResume()}},a().createElement("div",{className:`${i.A.request}`},a().createElement("label",null,"对于",(null==s?void 0:s.title)||e.targetTitle),a().createElement("span",null,l)),r)}))}function f({item:n,curScene:e,ignoreContent:t}){const s=(0,r.useRef)();(0,r.useEffect)((()=>{let n=n=>{const t=n.target,o=t.dataset.codeBtn;if(o){const i=t.parentNode.parentNode;if("show"===o)i.clientHeight<36?(t.innerText="收起",i.style.height="auto",i.querySelectorAll("code").forEach((n=>{n.style.display="block"}))):(t.innerText="查看",i.style.height="32px",i.querySelectorAll("code").forEach((n=>{n.style.display="none"})));else if("copy"===o){const n=i.querySelector("code");if(n){let t=n.innerText;(0,d.C)(t)&&e.aiCtx.emitMessage.info("已复制到剪切板.")}}n.stopPropagation()}};return s.current&&s.current.addEventListener("click",n),()=>{s.current&&s.current.removeEventListener("click",n)}}),[s.current]);const c=(0,r.useCallback)((()=>{e.tryAgain(n)}),[]);(0,r.useCallback)((()=>{getLastResponse().resultVersion.tryAgainLater()}),[]),(0,r.useCallback)((()=>{e.delete(n)}),[]);if(t)return a().createElement("div",{className:o.A.onlyVersion},a().createElement(g,{item:n,curScene:e}));{let t;return"canceled"!==n.status&&(t=o.A[n.status]),a().createElement(a().Fragment,null,a().createElement("div",{ref:s,"data-role-title":n.role.title,"data-role-color":n.role.color,className:t,dangerouslySetInnerHTML:{__html:n.resultHTML}}),a().createElement(g,{item:n,curScene:e}),"done"!==n.status||e.isRunning()?null:a().createElement("div",{className:i.A.resultTools},a().createElement("button",{onClick:c},"重试")))}}function g({item:n,curScene:e}){const[t,o]=(0,r.useState)(!1),d=(0,r.useRef)(),p=(0,r.useCallback)((()=>{n.resultVersion.apply().then((t=>{e.applyResultVersion(n.resultVersion)}))}),[n,e]);if(n.resultVersion){const{meta:r,_used:f,_unused:g,logs:b,version:u}=n.resultVersion,m=[i.A.preview];let x,h;return b.forEach((n=>{n&&(x=a().createElement("div",{className:i.A.log},a().createElement("p",null,n)))})),f?(m.push(i.A.used),h=a().createElement("span",null,"已采用")):m.push(i.A.unused),a().createElement(a().Fragment,null,a().createElement("div",{className:`${m.join(" ")}`,ref:d},a().createElement("div",{className:i.A.tt},a().createElement("div",{className:i.A.version},u),f?a().createElement("button",{className:i.A.btnApplied},"当前版本"):a().createElement("button",{className:i.A.btnApply,"data-mybricks-tip":"应用该版本",onClick:(0,c.Wj)(p).stop},"应用")),a().createElement("div",{className:i.A.logs},x)),t?(0,s.createPortal)(a().createElement(l.A,{item:n,setShow:o,curScene:e}),document.body):null)}}},48212:(n,e,t)=>{function o(n,e,t){const o=n.clipboardData.items;for(let r=0;r<o.length;r++){const a=o[r];if("file"==a.kind){i(a.getAsFile(),e,t),n.stopPropagation(),n.preventDefault();break}}}function i(n,e,t){if(n.size>3145728){const t=(n.size/1024).toFixed(2);return void e.aiCtx.emitMessage.error(`当前文件大小 ${t}K，超过了500K,建议您截取页面中的某个区域作为附件`)}if(e.curAttachment.length>=2)return void e.aiCtx.emitMessage.error("当前只能上传2个附件");let o,i;const r=new FileReader;r.readAsDataURL(n);r.onload=function(r){(r=>{const a=new Image;a.onload=function(){o=a.width,i=a.height},a.src=r,e.curAttachment.push({title:n.name,size:(n.size/1e3).toFixed(2),base64:r}),t&&t()})(r.target.result)}}t.d(e,{A:()=>i,c:()=>o})},19785:(n,e,t)=>{t.d(e,{w:()=>o});const o={IMAGE:"image",EXPERT:"expert",ARCHITECT:"architect"}},52333:(n,e,t)=>{t.d(e,{A:()=>f});var o=t(66574),i=t(64012),r=t.n(i),a=t(72549),s=t(35296),c=t(91716),l=t(91737);class d{constructor(){this.question=""}}let p;function f({ctx:n}){p=(0,l.J2)(d);return n.curScene.responses.length<=0?r().createElement(g,{ctx:n}):r().createElement(b,{ctx:n})}function g({ctx:n}){const e=(0,i.useCallback)((e=>{(0,a.W)(e,"user",void 0,n.curScene,{})}),[]);return r().createElement("div",{className:o.A.welcome},r().createElement("div",{className:o.A.content},r().createElement("div",{className:o.A.mybricks},"欢迎使用MyBricks.ai"),r().createElement("div",{className:o.A.desc},"请描述您要创建的内容"),r().createElement("div",{className:o.A.text},r().createElement("textarea",{value:p.question,onChange:n=>{p.question=n.currentTarget.value},onKeyDown:n=>{"Enter"===n.key&&e(n.currentTarget.value)}}),r().createElement("div",{className:o.A.submit,"data-mybricks-tip":"提交",onClick:t=>{const o=n.textEl.value;n.curRequest="",e(o)}},s.XT))))}function b({ctx:n}){const e=n.curScene.responses,t=e[e.length-1],a=n.curScene.confirmToRequest,l=r().createRef(),d=(0,i.useCallback)((()=>{n.curScene.confirmToRequestGo()}),[]);return(0,i.useEffect)((()=>{const e=e=>{const t=e.target,o=t.dataset.codeBtn;if(o){const i=t.parentNode.parentNode;if("show"===o)i.clientHeight<43?(t.innerText="收起",i.style.height="auto",i.querySelectorAll("code").forEach((n=>{n.style.display="block"}))):(t.innerText="查看",i.style.height="32px",i.querySelectorAll("code").forEach((n=>{n.style.display="none"})));else if("copy"===o){const e=i.querySelector("code");if(e){let t=e.innerText;(0,c.C)(t)&&n.emitMessage.info("已复制到剪切板.")}}e.stopPropagation()}};return l.current&&l.current.addEventListener("click",e),()=>{l.current&&l.current.removeEventListener("click",e)}}),[l.current]),r().createElement("div",{className:o.A.dialog},r().createElement("div",{className:o.A.content},r().createElement("div",{className:o.A.question},p.question),r().createElement("div",{className:o.A.response,ref:l,dangerouslySetInnerHTML:{__html:t.resultHTML}}),a?r().createElement("div",{className:o.A.confirmBtn},r().createElement("button",{onClick:d},s.FF,a.title)):null))}},15446:(n,e,t)=>{t.r(e),t.d(e,{AIAssistant:()=>o.F,AIGlobal:()=>i.e});var o=t(16380),i=t(63951)},72549:(n,e,t)=>{t.d(e,{W:()=>r});var o=t(19785),i=t(91737);function r(n,e,t,a,s){const c=a.aiCtx;if(c.available&&c.available.times<=0)return void c.emitMessage.error("当前AI服务额度已用完.");if(null==s?void 0:s.confirmMsg)return void(c.confirmRequest={content:s.confirmMsg,confirm(){s.confirmMsg=void 0,c.confirmRequest=void 0,r(n,e,t,a,s)},cancel(){s.confirmMsg=void 0,c.confirmRequest=void 0}});const l=a.responses;let d;(null==l?void 0:l.length)>0&&(d=l[l.length-1]);const p=d&&d.needToRetry;if(n){const e={id:(0,i.uR)(),question:n,targetTitle:a.title,focusArea:a.curFocusZoneArea||a.curFocusArea,content:n,status:"loading"};l.push(e)}const f=a.curRole;d=l[l.length-1],d.role=f,d.status="ing",d.asPrivate=(null==s?void 0:s.asPrivate)||!1;let g=1;const b=a.curAttachment;requestAnimationFrame((n=>{c.scrollContent()})),a.request(Object.assign(Object.assign({id:d.id,role:f,reqRole:e,aiRole:t,question:n,attachments:b,getStartAIRole(n){const e=Object.assign({},n,{attachments:b});return a.getStartAIRole(e)},getSystemPrompts:n=>{var e;const t=Object.assign({},n,{contextId:null===(e=f.curContext)||void 0===e?void 0:e.id,attachments:b});return a.getSystemPrompts(f,t)},getPromptAppended:n=>{const e=Object.assign({},n,{attachments:b});return a.getPromptAppended(e)},getTools:()=>{if("function"==typeof a.getTools)return a.getTools()},emits:{write(n,{aiRole:e}){let t=(d.resultHTMLOri||"")+n;if(t.startsWith("M:"))t=t.replace(/^M:/,"");else if(t.startsWith("F:")){const n=t.replace(/^F:/,"");if(n)return d.toolCallsMessage=n,d.resultHTMLOri=void 0,d.resultHTML='<div data-type="cmd">已执行指令</div>',void requestAnimationFrame((n=>{c.scrollContent()}))}d.resultHTMLOri=t;let o=t;o=o.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((n,e,t)=>{if(e){let n,t;if(e.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]/g,((e,o,i)=>{n=o,t=i})),n&&t)return`[${t} 完成]`}return n})),o=o.replaceAll(/```([^\n]+)\n([\s\S]*)/g,((n,e,t)=>{if(e){let n,t;if(e.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]/g,((e,o,i)=>{n=o,t=i})),n&&t)return`处理中,请稍后..${(()=>{const n=g++%2;return".....".repeat(n)})()}`}return n})),o=o.replace(/\n/g,"<br/>"),o=o.replace(/\s/g,"&nbsp;&nbsp;"),o=o.replace(/(#+)(.*?)(<br\/>)/g,"<br/><b>$2</b><br/>"),o=o.replace(/(\*\*)(.*?)(\*\*)/g,"<b>$2</b>"),o=o.replace(/(<br\/>){3,}/g,"<br/><br/>"),d.resultHTML=o,c.scrollContent()},complete({aiRole:n}){if(c.resetAvailable(),a.setState("done"),d.status="done",d.resultHTMLOri){c.curResponseOri=d.resultHTMLOri;const n={};let t=d.resultHTMLOri;t=t.replaceAll(/```([^\n]+)\n([\s\S]*?)```/g,((e,t,o)=>{let i,r=t;if(t){let e;if(t.replaceAll(/(\S+)\s+file=['"`]([^'"]+)['"`]?/g,((n,e,t,o,a)=>{i=e,r=t})),i&&r?e=r.substring(0,r.lastIndexOf(".")):r&&(e=r),e){n[e]?n[e].push({type:i,content:o}):n[e]=[{type:i,content:o}]}}const a=o.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`\n<pre>\n<label>${r}</label>\n<div><button data-code-btn='show'>查看</button><button data-code-btn='copy'>复制</button></div>\n<code>${a}</code>\n</pre>`})),t=t.replaceAll(/<([^>]*)>/g,((n,e,t)=>e.indexOf(".")>=0||e.indexOf(" class")>=0?`_${e}_`:n)),t=t.replace(/```/g,""),t=t.replace(/\n/g,"<br/>"),t=t.replace(/<code\><br\/>/g,"<code>"),t=t.replace(/<pre\><br\/>/g,"<pre>"),t=t.replace(/(<br\/>)?\[完成\]<br\/>/g,"[完成] "),t=t.replace(/(#+)(.*?)(<br\/>)/g,"<br/><b>$2</b><br/>"),t=t.replace(/(\*\*)(.*?)(\*\*)/g,"<b>$2</b>"),t=t.replace(/(<br\/>){3,}/g,"<br/><br/>"),d.resultHTML=t;let s,p=d.resultHTMLOri;n.content=p,d.resultHTMLOri="";try{s=a.ifCurKnowledgeUpdated(n)}catch(n){d.status="error",d.errorMsg=n.message,d.hasNextRequest=!0,a.deleteMessageByFilter((n=>{var e;return!Array.isArray(n.content)&&!(null===(e=n.response)||void 0===e?void 0:e.require)}));const e=`${d.content}\n（注意：当前的技术方案使用了不存在的类库知识，请重新设计开发）`;return void a.setTryAgain("_default",e)}const g=a.getCurMessageAry();try{if(s&&"string"==typeof s&&a.checkIfRetry){const t=a.checkIfRetry(n,{messages:g,knowledgeUpdated:!0});if(t){g.push({id:d.id,role:"assistant",content:c.curResponseOri,response:n}),g.push({id:d.id,role:"user",content:`(好的，据此我更新知识库)\n ${s}`,response:n});const{message:i}=t;r(i,e,o.w.EXPERT,a,{noResetMessages:!0})}return}}catch(n){return console.error(n),void(d.status="error")}if(a.curAttachment=[],"function"==typeof a.checkIfHasError){const e=a.checkIfHasError(n);if(e){const n=`(存在错误 ${e}，请再重试一次) ${d.content}`;return void a.setTryAgain("_default",n)}}if(g.push({id:d.id,role:"assistant",content:c.curResponseOri,response:n}),"function"==typeof a.execute){const e=()=>{a.curAttachment=[]},t=(n,t,s,c)=>{const d=n=>{a.setTryAgain("_default",n)},p=a.execute(n,{setTryError(n){a.setTryAgain("_default",n)},setResultVersion({logs:n,apply:i}){let s=0;l.forEach((n=>{n.resultVersion&&s++}));const p={sceneId:a.id,version:`V${s}`,logs:n,apply(n){return new Promise(((e,t)=>{(()=>{i({styleIndex:n,onError:d}).then((()=>{this._used=!0,e()}))})()}))},tryAgain(){a.setState("done"),a.tryAgainTimes++,this._unused=!0;let n,i=o.w.ARCHITECT;a.tryAgainTimes>=1&&(i=o.w.EXPERT),n=t.resultVersion._errorMsg?`当前版本发生错误：${t.resultVersion._errorMsg}，请修正错误、再次尝试`:"当前结果不符合要求，请仔细检查上下文中的各项信息、再次尝试",t.needToRetry=!0,e(),r(n,"user",i,a)},tryAgainLater(){c&&c(),a.setState("done"),a.tryAgainTimes++,this._unused=!0},cancel(){c&&c(),a.setState("done"),a.cancelMessage(t.id)}};t.resultVersion=p},applyResultVersion(){a.applyResultVersion(t.resultVersion)},focusArea:t.focusArea,syncMessage(n){a.syncMessage(f,n)},appendPrompt(n){n&&a.appendMessage({id:(0,i.uR)(),role:"user",content:n})},appendMessage(n){n&&a.appendMessage(n)},confirmToRequest(n){a.confirmToRequest=n},request(n,e){const t=Object.assign({reqRole:"user"},n),{content:o,reqRole:i}=t;r(o,i,void 0,a)}});p&&p.then&&p.then((n=>{})).catch((n=>{let e;n instanceof Error?e=n.message:"string"==typeof n&&(e=n),console.error(n),a.setTryAgain("_default",e)}))};a.setState("done"),t(n,d,(()=>{}),(()=>{e()}))}c.scrollContent()}c.textEl&&c.textEl.focus()},error(n){a.status="error",d.status="error",n instanceof Error?d.resultHTML=n.message:d.resultHTML=n}}},s||{}),{needToRetry:p}))}}}]);