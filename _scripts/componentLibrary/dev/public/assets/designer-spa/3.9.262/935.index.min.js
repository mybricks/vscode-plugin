"use strict";(self.webpackChunkmybricks=self.webpackChunkmybricks||[]).push([[935],{71752:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),r=t(93042),d=t.n(r)()(o());d.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.codeView-b95fa {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.codeView-b95fa .toolbar-db4fd {\n  height: 32px;\n  display: flex;\n  align-items: center;\n  padding: 2px 20px 2px 20px;\n  background: #FFF;\n  justify-content: space-between;\n}\n.codeView-b95fa .toolbar-db4fd .fileName-fb7cf {\n  color: #AAA;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button {\n  cursor: pointer;\n  height: 20px;\n  line-height: 100%;\n  display: flex;\n  padding: 2px 10px;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  font-size: 12px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button:hover {\n  border-color: #CCC;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button svg {\n  display: none;\n  max-width: 13px;\n  margin-right: 3px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e:hover {\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnDisable-e3766 {\n  background: #EEE;\n  color: #AAA;\n  pointer-events: none;\n}\n.codeView-b95fa .coder-dde46 {\n  flex: 1;\n  padding: 0 !important;\n}\n.codeView-b95fa .coder-dde46 > * {\n  padding: 0 !important;\n}\n",""]),d.locals={codeView:"codeView-b95fa",toolbar:"toolbar-db4fd",fileName:"fileName-fb7cf",btns:"btns-d0d51",btnActive:"btnActive-abc9e",btnDisable:"btnDisable-e3766",coder:"coder-dde46"};const s=d},14487:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),r=t(93042),d=t.n(r)()(o());d.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.wrap-d3d84 {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n}\n.outline-fbb46 {\n  background: #FAFAFA;\n  height: 100%;\n  position: relative;\n  overflow: auto;\n  padding: 10px;\n}\n.outline-fbb46 .file-dfd8e {\n  border-radius: 6px;\n  position: relative;\n  height: 24px;\n  margin: 2px 5px;\n  padding: 0 10px 0 15px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.outline-fbb46 .fileActive-a3587 {\n  background: #DDD;\n}\n.sperV-f3e71 {\n  position: absolute;\n  right: -1px;\n  width: 5px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px;\n  margin-left: -2px;\n  z-index: 100;\n}\n.sperV-f3e71:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperV-f3e71:hover > div {\n  border-left-width: 0;\n}\n.sperV-f3e71 > div {\n  border-left: 1px solid #CCC;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),d.locals={wrap:"wrap-d3d84",outline:"outline-fbb46",file:"file-dfd8e",fileActive:"fileActive-a3587",sperV:"sperV-f3e71"};const s=d},29012:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),r=t(93042),d=t.n(r)()(o());d.push([e.id,".view-e48bb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n}\n",""]),d.locals={view:"view-e48bb"};const s=d},36821:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(85072),o=t.n(i),r=t(97825),d=t.n(r),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),m=t.n(u),f=t(71752),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=p();o()(f.A,h);const v=f.A&&f.A.locals?f.A.locals:void 0},57658:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(85072),o=t.n(i),r=t(97825),d=t.n(r),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),m=t.n(u),f=t(14487),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=p();o()(f.A,h);const v=f.A&&f.A.locals?f.A.locals:void 0},12507:(e,n,t)=>{t.d(n,{A:()=>v});var i=t(85072),o=t.n(i),r=t(97825),d=t.n(r),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),m=t.n(u),f=t(29012),h={};h.styleTagTransform=m(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=p();o()(f.A,h);const v=f.A&&f.A.locals?f.A.locals:void 0},96349:(e,n,t)=>{t.d(n,{A:()=>a});var i=t(94742),o=t.n(i),r=t(64012),d=t(36821),s=t(91737),l=t(64012);function a({ctx:e}){const n=e.curFile,t=(0,r.useRef)(null),i=(0,s.HO)((()=>{if(n)return n.content}),[n.model._updateTime]),a=(0,r.useCallback)((()=>{const i=t.current.editor.getValue();n.save(i),n._updated=!1,e.viewContext.emitMessage.info("保存成功")}),[]);if(!n)return;let c={};return c="jsx"===n.type?{language:"typescript",encodeValue:!1,minimap:{enabled:!1},eslint:{parserOptions:{ecmaVersion:"2020",sourceType:"module"}},babel:!1,autoSave:!1,preview:!1,isTsx:!0}:{language:n.type},l.createElement("div",{className:d.A.codeView},l.createElement("div",{className:d.A.toolbar},l.createElement("div",{className:d.A.btns},l.createElement("button",{onClick:a,className:`${n._updated?d.A.btnActive:d.A.btnDisable}`},n._updated?"*":"","保存")),l.createElement("div",{className:d.A.fileName},n.name)),l.createElement(o(),Object.assign({ref:t,value:i},c,{options:{fontSize:12},theme:"light",wrapperClassName:d.A.coder,onChange:e=>{n._updated=e!==i},onMount:(e,n)=>{}})))}},75464:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(91737),o=t(57658),r=t(64012),d=t.n(r);function s({ctx:e}){const{viewContext:n}=e,t=(0,r.useCallback)((t=>{const i=n.lowCodeViews[0];e.curFile={model:i.model,name:t.name,type:t.type,get content(){return t.content},save(e){i.onSave(t.name,t.type,e)}}}),[n.lowCodeViews]),s=(0,i.HO)((()=>{const i=n.lowCodeViews;if(i.length<=0)return;return i[0].files.map(((n,i)=>d().createElement("div",{className:`${o.A.file} ${e.curFile.name===n.name?o.A.fileActive:""}`,onClick:e=>{t(n)}},n.name)))}));return d().createElement("div",{className:o.A.wrap},d().createElement("div",{className:o.A.outline,style:{width:e.outlineWidth},ref:n=>n&&(e.outlineEle=n),onClick:e=>n.emitComponent.focus(void 0)},s),d().createElement("div",{className:o.A.sperV,onMouseDown:n=>function(e,n){let{x:t,y:o,w:r,h:d}=(0,i.E9)(n.outlineEle);(0,i.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:d,dy:s}},l)=>{"moving"==l&&(n.outlineWidth=Math.max(r+=d,150))}))}(n,e)},d().createElement("div",null)))}},74715:(e,n,t)=>{t.d(n,{A:()=>i});class i{constructor(){this.outlineWidth=150}setLowCodeViews(e){const n=this.viewContext.lowCodeViews;if(n.length>0&&n[0].id===e.id)return;this.viewContext.lowCodeViews=[e];const t=e.files[0];this.curFile={model:e.model,name:t.name,type:t.type,get content(){return t.content},save(n){e.onSave(t.name,t.type,n)}}}}},88935:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(75464),o=t(91737),r=t(74715),d=t(12507),s=t(96349),l=t(96966),a=t(6939),c=t(64012);function b({viewCtx:e}){var n;const t=(0,o.J2)(r.A,(n=>{n({viewContext:e})}));(0,o.yx)(l.Zm.LowCode,(e=>(0,a.Q)(t)),{from:"parents"});const b={};e.isBizTypeOfLowCode()||(b.display="none");const p=e.lowCodeViews;if(0===p.length)return;const u=p[0];return u.model.hadDestroyed()?void 0:(console.log(Math.random()),c.createElement("div",{style:b,className:d.A.view},c.createElement(i.A,{ctx:t}),c.createElement(s.A,{ctx:t,key:u.id+((null===(n=t.curFile)||void 0===n?void 0:n.name)||"")})))}},6939:(e,n,t)=>{function i(e){return{openView(n){e.setLowCodeViews(n)}}}t.d(n,{Q:()=>i})}}]);