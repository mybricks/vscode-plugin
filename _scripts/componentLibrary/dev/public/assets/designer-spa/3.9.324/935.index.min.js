"use strict";(self.webpackChunkmybricks=self.webpackChunkmybricks||[]).push([[935],{71752:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),d=t(93042),r=t.n(d)()(o());r.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.codeView-b95fa {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.codeView-b95fa .toolbar-db4fd {\n  height: 28px;\n  display: flex;\n  align-items: center;\n  padding: 2px 20px 2px 20px;\n  background: #FFF;\n  justify-content: space-between;\n}\n.codeView-b95fa .toolbar-db4fd .fileName-fb7cf {\n  color: #AAA;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button {\n  cursor: pointer;\n  height: 20px;\n  line-height: 100%;\n  display: flex;\n  padding: 2px 10px;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  font-size: 12px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button:hover {\n  border-color: #CCC;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 button svg {\n  display: none;\n  max-width: 13px;\n  margin-right: 3px;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e {\n  background: var(--mybricks-color-primary, #FA6400);\n  color: #FFF;\n  font-weight: bold;\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnActive-abc9e:hover {\n  border-color: var(--mybricks-color-primary, #FA6400);\n}\n.codeView-b95fa .toolbar-db4fd .btns-d0d51 .btnDisable-e3766 {\n  background: #EEE;\n  color: #AAA;\n  pointer-events: none;\n}\n.codeView-b95fa .coder-dde46 {\n  flex: 1;\n  padding: 0 !important;\n}\n.codeView-b95fa .coder-dde46 > * {\n  padding: 0 !important;\n}\n",""]),r.locals={codeView:"codeView-b95fa",toolbar:"toolbar-db4fd",fileName:"fileName-fb7cf",btns:"btns-d0d51",btnActive:"btnActive-abc9e",btnDisable:"btnDisable-e3766",coder:"coder-dde46"};const s=r},14487:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),d=t(93042),r=t.n(d)()(o());r.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.wrap-d3d84 {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n}\n.outline-fbb46 {\n  background: #FAFAFA;\n  height: 100%;\n  position: relative;\n  overflow: auto;\n  padding: 10px;\n}\n.outline-fbb46 .file-dfd8e {\n  border-radius: 6px;\n  position: relative;\n  height: 24px;\n  margin: 2px 5px;\n  padding: 0 10px 0 15px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.outline-fbb46 .fileActive-a3587 {\n  background: #DDD;\n}\n.sperV-f3e71 {\n  position: absolute;\n  right: -1px;\n  width: 5px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px;\n  margin-left: -2px;\n  z-index: 100;\n}\n.sperV-f3e71:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperV-f3e71:hover > div {\n  border-left-width: 0;\n}\n.sperV-f3e71 > div {\n  border-left: 1px solid #CCC;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),r.locals={wrap:"wrap-d3d84",outline:"outline-fbb46",file:"file-dfd8e",fileActive:"fileActive-a3587",sperV:"sperV-f3e71"};const s=r},29012:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(88425),o=t.n(i),d=t(93042),r=t.n(d)()(o());r.push([e.id,".view-e48bb {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n}\n",""]),r.locals={view:"view-e48bb"};const s=r},36821:(e,n,t)=>{t.d(n,{A:()=>w});var i=t(85072),o=t.n(i),d=t(97825),r=t.n(d),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),f=t.n(u),m=t(71752),h={};h.styleTagTransform=f(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=p();o()(m.A,h);const w=m.A&&m.A.locals?m.A.locals:void 0},57658:(e,n,t)=>{t.d(n,{A:()=>w});var i=t(85072),o=t.n(i),d=t(97825),r=t.n(d),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),f=t.n(u),m=t(14487),h={};h.styleTagTransform=f(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=p();o()(m.A,h);const w=m.A&&m.A.locals?m.A.locals:void 0},12507:(e,n,t)=>{t.d(n,{A:()=>w});var i=t(85072),o=t.n(i),d=t(97825),r=t.n(d),s=t(77659),l=t.n(s),a=t(55056),c=t.n(a),b=t(10540),p=t.n(b),u=t(41113),f=t.n(u),m=t(29012),h={};h.styleTagTransform=f(),h.setAttributes=c(),h.insert=l().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=p();o()(m.A,h);const w=m.A&&m.A.locals?m.A.locals:void 0},96349:(e,n,t)=>{t.d(n,{A:()=>l});var i=t(94742),o=t.n(i),d=t(64012),r=t(36821),s=t(64012);function l({ctx:e}){const n=e.curFile,t=(0,d.useRef)(null),i=(0,d.useMemo)((()=>{if(n)return n._content||n.content||""}),[n,n._model._updateTime,n._updated]),l=(0,d.useMemo)((()=>{let e={};if("jsx"===n.type){e={path:`file:///${n._model.id}/${n.name}.tsx`,language:"typescript",encodeValue:!1,minimap:{enabled:!1},eslint:{parserOptions:{ecmaVersion:"2020",sourceType:"module"}},babel:!1,autoSave:!1,preview:!1,isTsx:!0}}else if("js"===n.type)e={path:`file:///${n._model.id}/${n.name}.js`,language:"javascript"};else{e={path:`file:///${n._model.id}/${n.name}.${n.type}`,language:n.type}}return e}),[n]),a=(0,d.useCallback)((()=>{const i=t.current.editor.getValue();n._save(i),n._updated=!1,n._content=void 0,e.viewContext.emitMessage.info("保存成功")}),[n]);if(n)return s.createElement("div",{className:r.A.codeView},s.createElement("div",{className:r.A.toolbar},s.createElement("div",{className:r.A.btns},s.createElement("button",{onClick:a,className:`${n._updated?r.A.btnActive:r.A.btnDisable}`},n._updated?"*":"","保存")),s.createElement("div",{className:r.A.fileName},n.name)),s.createElement(o(),Object.assign({ref:t,value:i},l,{options:{fontSize:12,scrollbar:{horizontal:"auto",vertical:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10}},theme:"light",wrapperClassName:r.A.coder,onChange:e=>{n._content=e,e!==n.content?n._updated=!0:n._updated=!1},onMount:(e,n)=>{}})))}},75464:(e,n,t)=>{t.d(n,{A:()=>s});var i=t(91737),o=t(57658),d=t(64012),r=t.n(d);function s({ctx:e}){const{viewContext:n}=e,t=(0,d.useCallback)((t=>{const i=n.lowCodeViews[0];t._model=i.model,t._save=e=>{i.onSave(t.name,t.type,e)},e.curFile=t}),[n.lowCodeViews]);(0,d.useMemo)((()=>{const i=n.lowCodeViews;if(i.length<=0)return;const o=i[0];e.curFile&&o.files.find((n=>{if(n.id===e.curFile.id)return!0}))||t(o.files[0])}),[n.lowCodeViews]);const s=(0,i.HO)((()=>{const i=n.lowCodeViews;if(i.length<=0)return;return i[0].files.map(((n,i)=>r().createElement("div",{className:`${o.A.file} ${e.curFile.name===n.name?o.A.fileActive:""}`,onClick:e=>{t(n)}},n._updated?"*":"",n.name)))}));return r().createElement("div",{className:o.A.wrap},r().createElement("div",{className:o.A.outline,style:{width:e.outlineWidth},ref:n=>n&&(e.outlineEle=n)},s),r().createElement("div",{className:o.A.sperV,onMouseDown:n=>function(e,n){let{x:t,y:o,w:d,h:r}=(0,i.E9)(n.outlineEle);(0,i.zg)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:r,dy:s}},l)=>{"moving"==l&&(n.outlineWidth=Math.max(d+=r,150))}))}(n,e)},r().createElement("div",null)))}},74715:(e,n,t)=>{t.d(n,{A:()=>i});class i{constructor(){this.outlineWidth=150}setLowCodeViews(e){const n=this.viewContext.lowCodeViews;n.length>0&&n[0].id===e.id||(this.viewContext.lowCodeViews=[e])}}},88935:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(75464),o=t(91737),d=t(74715),r=t(12507),s=t(96349),l=t(96966),a=t(6939),c=t(64012);function b({viewCtx:e}){const n=(0,o.J2)(d.A,(n=>{n({viewContext:e})}));(0,o.yx)(l.Zm.LowCode,(e=>(0,a.Q)(n)),{from:"parents"});const t={};e.isBizTypeOfLowCode()||(t.display="none");const b=e.lowCodeViews;if(0===b.length)return;const p=b[0];return p.model.hadDestroyed()?void 0:c.createElement("div",{style:t,className:r.A.view,onClick:(0,o.Wj)().stop},c.createElement(i.A,{ctx:n,key:`${p.id}-outline`}),c.createElement(s.A,{ctx:n,key:`${p.id}-codeEdit`}))}},6939:(e,n,t)=>{function i(e){return{openView(n){e.setLowCodeViews(n)}}}t.d(n,{Q:()=>i})}}]);