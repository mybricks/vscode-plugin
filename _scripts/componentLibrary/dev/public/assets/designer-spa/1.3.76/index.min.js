!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("antd"),require("icons")):"function"==typeof define&&define.amd?define(["react","react-dom","antd","icons"],t):"object"==typeof exports?exports.mybricks=t(require("react"),require("react-dom"),require("antd"),require("icons")):e.mybricks=t(e.React,e.ReactDOM,e.antd,e.icons)}(self,((__WEBPACK_EXTERNAL_MODULE__90359__,__WEBPACK_EXTERNAL_MODULE__24318__,__WEBPACK_EXTERNAL_MODULE__2721__,__WEBPACK_EXTERNAL_MODULE__15041__)=>(()=>{"use strict";var __webpack_modules__={48814:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},61260:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},37009:e=>{e.exports=function(e){return e[1]}},49001:(e,t,n)=>{var i=n(24318);t.s=i.createRoot,i.hydrateRoot},63425:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-eb764 input,\n.reset-eb764 select,\n.reset-eb764 textarea,\n.reset-eb764 button,\n.reset-eb764 optgroup,\n.reset-eb764 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-eb764 ul,\n.reset-eb764 ol {\n  list-style: none;\n}\n.reset-eb764 p {\n  margin-bottom: 0px;\n}\n.reset-eb764 :focus {\n  outline: 0;\n}\n.loading-e9f58 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.errorCfg-cd49c {\n  padding: 30px;\n  color: red;\n  font-style: italic;\n}\n.designerUi-a9115 {\n  overscroll-behavior-x: none;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n  margin: 0;\n  font-size: 12px;\n  user-select: none;\n}\n.designerUi-a9115:focus {\n  outline: none;\n}\n.designerUi-a9115 .lyMain-ae66e {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n.designerUi-a9115 .lyMain-ae66e .separatorH-c76f8 {\n  height: 8px;\n  cursor: row-resize;\n}\n.designerUi-a9115 .lyMain-ae66e .popBg-f1b8b {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 1000;\n}\n.designerUi-a9115 .lyMain-ae66e .popBg-f1b8b .lyPop-a0f64 {\n  position: absolute;\n  right: 0;\n  height: 100%;\n  width: 700px;\n  display: flex;\n  background: #FFF;\n}\n.designerUi-a9115 .lyMain-ae66e .popBg-f1b8b .lyPopR-fd897 {\n  border-left: 1px solid #BBB;\n}\n.designerUi-a9115 .lyMain-ae66e .popBg-f1b8b .lyPopEdit-a9e49 {\n  border-right: 1px solid #DDD;\n  box-shadow: -3px 3px 7px #ddd;\n}\n.designerUi-a9115 .lyMain-ae66e .lyMax-e3bb2 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.designerUi-a9115 .lyMain-ae66e .lyDocker-a5700 {\n  z-index: 0;\n  width: 50px;\n}\n.designerUi-a9115 .lyMain-ae66e .lyStage-bcb68 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n.designerUi-a9115 .lyMain-ae66e .lyEdt-fbac6 {\n  z-index: 0;\n  width: 280px;\n  background: #F7F7F7;\n  overflow-y: hidden;\n  flex-shrink: 0;\n}\n.designerUi-a9115 .itemMover-a58a3 {\n  position: fixed;\n  z-index: 99999;\n}\n.designerUi-a9115 .componentMast-fb202 {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.designerUi-a9115 .component-ed4fe {\n  position: absolute;\n  top: 40px;\n  left: 50%;\n  min-width: 1800px;\n  max-width: 1800px;\n  background-color: #ffffff;\n  border: 1px solid #aedcd5;\n  transform: scale(0.5) translate(-50%, 0%);\n  transform-origin: 0 0 0;\n  overflow: hidden;\n  height: 160%;\n  width: 120%;\n  z-index: 1100;\n}\nblockquote {\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: antialiased;\n  touch-action: none;\n}\nblockquote input,\nblockquote select,\nblockquote textarea,\nblockquote button,\nblockquote optgroup,\nblockquote option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\nblockquote ul,\nblockquote ol {\n  list-style: none;\n}\nblockquote p {\n  margin-bottom: 0px;\n}\nblockquote :focus {\n  outline: 0;\n}\nblockquote div,\nblockquote h1,\nblockquote h2,\nblockquote h3,\nblockquote h4,\nblockquote h5,\nblockquote h6,\nblockquote hr,\nblockquote p,\nblockquote blockquote,\nblockquote dl,\nblockquote dt,\nblockquote dd,\nblockquote ul,\nblockquote ol,\nblockquote li,\nblockquote pre,\nblockquote fieldset,\nblockquote legend,\nblockquote button,\nblockquote input,\nblockquote textarea,\nblockquote th,\nblockquote td,\nblockquote a {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\nblockquote button,\nblockquote input,\nblockquote select,\nblockquote legend,\nblockquote textarea {\n  font: 14px/1.5 system-ui, -apple-system, BlinkMacSystemFont, 'PingFang SC', miui, Roboto, Helvetica Neue, Helvetica, sans-serif;\n}\nblockquote button::selection,\nblockquote input::selection,\nblockquote select::selection,\nblockquote legend::selection,\nblockquote textarea::selection {\n  background: #FFF;\n}\nblockquote button,\nblockquote input,\nblockquote optgroup,\nblockquote option,\nblockquote select,\nblockquote textarea {\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  font: inherit;\n  background: 0 0;\n  border: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  appearance: none;\n}\nblockquote a {\n  text-decoration: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n}\nblockquote ul,\nblockquote ol {\n  list-style: none;\n}\n.workspace-ee12f {\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n}\n.workspace-ee12f .services-e0bd9 {\n  height: 100%;\n}\n.workspace-ee12f .pages-f0554 {\n  height: 100%;\n}\n.fullScreen-eb0c4 {\n  position: absolute !important;\n  z-index: 1000;\n}\n.hideNavView-be662 .lyNav-e37cd {\n  display: none !important;\n}\n.hideEditView-de8f0 .lyEdt-fbac6 {\n  display: none;\n}\n",""]),s.locals={reset:"reset-eb764",loading:"loading-e9f58",errorCfg:"errorCfg-cd49c",designerUi:"designerUi-a9115",lyMain:"lyMain-ae66e",separatorH:"separatorH-c76f8",popBg:"popBg-f1b8b",lyPop:"lyPop-a0f64",lyPopR:"lyPopR-fd897",lyPopEdit:"lyPopEdit-a9e49",lyMax:"lyMax-e3bb2",lyDocker:"lyDocker-a5700",lyStage:"lyStage-bcb68",lyEdt:"lyEdt-fbac6",itemMover:"itemMover-a58a3",componentMast:"componentMast-fb202",component:"component-ed4fe",workspace:"workspace-ee12f",services:"services-e0bd9",pages:"pages-f0554",fullScreen:"fullScreen-eb0c4",hideNavView:"hideNavView-be662",lyNav:"lyNav-e37cd",hideEditView:"hideEditView-de8f0"};const a=s},38203:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".view-eb688 {\n  background: #F7F7F7;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  overflow-y: hidden;\n  position: relative;\n}\n.resizer-c319c {\n  z-index: 100;\n  height: 100%;\n  width: 5px;\n  margin-right: -2px;\n  margin-left: -2px;\n  cursor: ew-resize;\n  background: transparent;\n}\n.resizer-c319c > div {\n  border-left: 1px solid #ccc;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n.resizer-c319c:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.resizer-c319c:hover > div {\n  border-left-color: #616C81;\n}\n",""]),s.locals={view:"view-eb688",resizer:"resizer-c319c"};const a=s},80898:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".bg-a907c {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  z-index: 10000;\n}\n.bg-a907c .menu-a1044 {\n  position: absolute;\n  width: 220px;\n  background-color: #fff;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.25);\n  padding: 3px 0;\n}\n.bg-a907c .menu-a1044 .sper-a24dd {\n  height: 1px;\n  background-color: #e5e5e5;\n  margin: 3px 0;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829 {\n  height: 32px;\n  padding: 0 10px 0 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829 span {\n  color: #AAA;\n}\n.bg-a907c .menu-a1044 .menuItem-d1829:hover {\n  background-color: #f5f5f5;\n}\n",""]),s.locals={bg:"bg-a907c",menu:"menu-a1044",sper:"sper-a24dd",menuItem:"menuItem-d1829"};const a=s},18070:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".active-eb365 {\n  background-color: #f5f5f5;\n}\n.popup-ea099 {\n  position: fixed;\n  z-index: 10000;\n}\n",""]),s.locals={active:"active-eb365",popup:"popup-ea099"};const a=s},84898:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".tooltip-d794c {\n  pointer-events: none;\n  box-sizing: border-box;\n  padding: 0 0 4px 0;\n  color: #434343;\n  font-size: 12px;\n  font-variant: tabular-nums;\n  line-height: 1.5715;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  position: absolute;\n  z-index: 100000;\n  max-width: 250px;\n}\n.tooltip-d794c .arrow-c763f {\n  left: 50%;\n  bottom: -5px;\n  transform: translateX(-50%);\n  position: absolute;\n  width: 13px;\n  height: 13px;\n  overflow: hidden;\n  background: transparent;\n  pointer-events: none;\n}\n.tooltip-d794c .arrow-c763f .content-dfe7d {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  width: 5px;\n  height: 5px;\n  margin: auto;\n  background-color: #616C81;\n  content: '';\n  transform: translateY(-2.5px) rotate(45deg);\n}\n.tooltip-d794c .inner-c3ba6 {\n  min-height: 24px;\n  padding: 3px 10px;\n  color: #fff;\n  text-align: left;\n  text-decoration: none;\n  word-wrap: break-word;\n  background-color: #616C81;\n  border-radius: 4px;\n}\n.left-fc9a4 .arrow-c763f {\n  left: 100%;\n  bottom: 8px;\n}\n.right-fd961 .arrow-c763f {\n  left: 0;\n  bottom: 8px;\n}\n.bottom-d2026 .arrow-c763f {\n  left: 50%;\n  top: -4px;\n  transform: translateX(-50%);\n}\n",""]),s.locals={tooltip:"tooltip-d794c",arrow:"arrow-c763f",content:"content-dfe7d",inner:"inner-c3ba6",left:"left-fc9a4",right:"right-fd961",bottom:"bottom-d2026"};const a=s},53993:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.sperH-ef5e0 {\n  height: 5px;\n  width: 100%;\n  cursor: ns-resize;\n  margin-bottom: -3px;\n  margin-top: -2px;\n  z-index: 10;\n}\n.sperH-ef5e0:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperH-ef5e0:hover > div {\n  border-bottom-color: #616C81;\n}\n.sperH-ef5e0 > div {\n  margin-top: 2px;\n  border-bottom: 1px solid #CCC;\n}\n.sperH-ef5e0:is(:first-child) {\n  display: none;\n}\n.pop-eb13c .title-c3d5c {\n  width: 100%;\n  height: 40px !important;\n  justify-content: flex-start !important;\n  border-top: 0 !important;\n  border-bottom: 0 !important;\n  position: absolute;\n  z-index: 1000;\n  padding-left: 12px;\n  background-color: transparent !important;\n  pointer-events: none;\n}\n.pop-eb13c .title-c3d5c > * {\n  pointer-events: auto;\n}\n.pop-eb13c .title-c3d5c > span {\n  font-weight: bold;\n}\n.max-e824a .title-c3d5c {\n  border-top: 0px !important;\n}\n.freeze-cdb33:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0);\n}\n.view-c5f9e {\n  position: relative;\n  width: 100%;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n}\n.view-c5f9e .title-c3d5c {\n  height: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n}\n.view-c5f9e .title-c3d5c:hover .icon-f5814 {\n  opacity: 1 !important;\n  transition: all 0.3s;\n}\n.view-c5f9e .title-c3d5c .tt-baabd {\n  font-size: 14px;\n  font-weight: 666;\n  color: #333;\n  height: 100%;\n  /* line-height: 200%; */\n  min-width: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  margin-bottom: -1px;\n}\n.view-c5f9e .title-c3d5c .ext-fe0cc {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-right: 5px;\n  padding-bottom: 2px;\n}\n.view-c5f9e .title-c3d5c .ext-fe0cc:first-child {\n  padding-left: 15px;\n}\n.view-c5f9e .title-c3d5c .icon-f5814 {\n  opacity: 0.2;\n  margin-right: 15px;\n  cursor: pointer;\n  display: flex;\n}\n.view-c5f9e .title-c3d5c .icon-f5814 > * {\n  width: 12px;\n  height: 12px;\n}\n.view-c5f9e .title-c3d5c .iconRecover-f56cd {\n  opacity: 1 !important;\n}\n.view-c5f9e .title-c3d5c .clearIcon-c33b5 {\n  width: 14px;\n  height: 14px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.view-c5f9e .title-c3d5c .closeIcon-a0ea6 {\n  margin-top: 5px;\n  width: 18px;\n  height: 18px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.view-c5f9e .content-dfb61 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n.view-c5f9e .content-dfb61 .dialogContainer-b8230 {\n  position: absolute;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n',""]),s.locals={sperH:"sperH-ef5e0",pop:"pop-eb13c",title:"title-c3d5c",max:"max-e824a",freeze:"freeze-cdb33",view:"view-c5f9e",icon:"icon-f5814",tt:"tt-baabd",ext:"ext-fe0cc",iconRecover:"iconRecover-f56cd",clearIcon:"clearIcon-c33b5",closeIcon:"closeIcon-a0ea6",content:"content-dfb61",dialogContainer:"dialogContainer-b8230"};const a=s},43016:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-c6c5d input,\n.reset-c6c5d select,\n.reset-c6c5d textarea,\n.reset-c6c5d button,\n.reset-c6c5d optgroup,\n.reset-c6c5d option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c6c5d ul,\n.reset-c6c5d ol {\n  list-style: none;\n}\n.reset-c6c5d p {\n  margin-bottom: 0px;\n}\n.reset-c6c5d :focus {\n  outline: 0;\n}\n.loading-ee06d {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.type-b6d6b {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n}\n.type-b6d6b select {\n  color: #555;\n  background: #FFF;\n  height: 26px;\n  flex: 1;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  padding: 0px 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.type-b6d6b button {\n  cursor: pointer;\n  display: block;\n  width: 110px;\n  margin-left: 10px;\n  padding: 0 5px;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #fdf7e3;\n  box-shadow: 0px 1px 3px 0px #bbb;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.type-b6d6b button span {\n  margin-left: 3px;\n  color: #AAA;\n  font-size: 10px;\n}\n.type-b6d6b .clear-d8b43 {\n  width: 50px;\n}\n.type-b6d6b .show-a9fbb {\n  background-color: #eef7f3;\n}\n.type-b6d6b .arrow-cd6b5 {\n  position: absolute;\n  right: 10px;\n  width: 7px;\n  height: 7px;\n  border-top: 1px solid #BBB;\n  border-right: 1px solid #BBB;\n  transform: rotate(135deg);\n  pointer-events: none;\n}\n.edtItem-fab9f {\n  flex: 1;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n.edtItem-fab9f label {\n  white-space: nowrap;\n  padding: 0 5px;\n}\n.edtItem-fab9f input,\n.edtItem-fab9f textarea {\n  width: 100%;\n  margin-left: 5px;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  border: 1px solid #EEE;\n  background-color: #FFF;\n  padding: 0 5px;\n}\n.edtItem-fab9f textarea {\n  min-height: 70px;\n}\n.errInfo-c9e53 {\n  padding: 5px;\n  color: red;\n  font-style: italic;\n}\n.exist-f8e4e {\n  background-color: #eef7f3;\n}\n.error-ea571 {\n  background-color: #f8e9e2 !important;\n  color: red;\n  font-style: italic;\n}\n",""]),s.locals={reset:"reset-c6c5d",loading:"loading-ee06d",type:"type-b6d6b",clear:"clear-d8b43",show:"show-a9fbb",arrow:"arrow-cd6b5",edtItem:"edtItem-fab9f",errInfo:"errInfo-c9e53",exist:"exist-f8e4e",error:"error-ea571"};const a=s},48490:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-c522d input,\n.reset-c522d select,\n.reset-c522d textarea,\n.reset-c522d button,\n.reset-c522d optgroup,\n.reset-c522d option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c522d ul,\n.reset-c522d ol {\n  list-style: none;\n}\n.reset-c522d p {\n  margin-bottom: 0px;\n}\n.reset-c522d :focus {\n  outline: 0;\n}\n.loading-f8f99 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.editor-d71d8 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.editor-d71d8 .toolbar-c3740 {\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-bottom: 1px solid #F7F7F7;\n  padding-right: 10px;\n}\n.editor-d71d8 .toolbar-c3740 button {\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 5px;\n  background: #fa6400;\n  color: #FFF;\n  font-weight: bold;\n  cursor: pointer;\n}\n.editor-d71d8 .textCard-f7e08 {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0;\n  padding: 5px 10px 5px 15px;\n  border-left: 2px solid #616C81;\n  background: #FFF;\n}\n.editor-d71d8 .textCard-f7e08:hover {\n  background-color: #FAFAFA;\n}\n.editor-d71d8 .textCard-f7e08 > span {\n  height: 19px;\n  margin-right: 5px;\n}\n.editor-d71d8 .textCard-f7e08 > span svg {\n  max-width: 16px;\n}\n.editor-d71d8 .textCard-f7e08 .content-a55d7 {\n  display: flex;\n}\n.editor-d71d8 .textCard-f7e08 .content-a55d7 span {\n  color: #AAA;\n  font-style: italic;\n  margin-left: 5px;\n}\n.editor-d71d8 .searchView-e37c8 {\n  flex: 1;\n  background-color: #FAFAFA;\n  padding: 10px 10px 10px 20px;\n  border-top: 1px solid #EEE;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 label {\n  color: #AAA;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd {\n  margin-right: 10px;\n  background-color: #FFF;\n  height: 26px;\n  border-radius: 4px;\n  border: 1px solid #DDD;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 3px;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd input {\n  padding: 1px 5px;\n  flex: 1;\n  appearance: auto;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span {\n  width: 20px;\n  height: 16px;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span svg {\n  max-width: 12px;\n}\n.editor-d71d8 .searchView-e37c8 .tb-b99e5 .search-e87dd span svg path {\n  fill: #AAA;\n}\n.editor-d71d8 .searchView-e37c8 .items-c7ed4 {\n  border-top: 1px dashed #EEE;\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 10px 5px 0;\n  flex: 1;\n  overflow: auto;\n}\n.editor-d71d8 .nowItem-bc79d,\n.editor-d71d8 .edtItem-ade41 {\n  position: relative;\n}\n.editor-d71d8 .nowItem-bc79d > label,\n.editor-d71d8 .edtItem-ade41 > label {\n  color: #AAA;\n  display: flex;\n  justify-content: space-between;\n  padding-right: 16px;\n}\n.editor-d71d8 .nowItem-bc79d > label .del-e90d4,\n.editor-d71d8 .edtItem-ade41 > label .del-e90d4 {\n  cursor: pointer;\n  height: 12px;\n}\n.editor-d71d8 .nowItem-bc79d > label .del-e90d4 svg,\n.editor-d71d8 .edtItem-ade41 > label .del-e90d4 svg {\n  max-width: 14px;\n}\n.editor-d71d8 .nowItem-bc79d button,\n.editor-d71d8 .edtItem-ade41 button {\n  border: 1px solid #DDD;\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 5px;\n}\n.editor-d71d8 .nowItem-bc79d button:disabled,\n.editor-d71d8 .edtItem-ade41 button:disabled {\n  border: 1px solid #EEE;\n  background-color: #F7F7F7;\n  color: #DDD;\n}\n.editor-d71d8 .nowItem-bc79d {\n  padding: 20px 20px 20px 20px;\n}\n.editor-d71d8 .nowItem-bc79d .textCard-f7e08 {\n  background-color: #fdf6f2;\n  border-color: #fa6400;\n}\n.editor-d71d8 .nowItem-bc79d .textCard-f7e08 > span svg path {\n  fill: #fa6400;\n}\n.editor-d71d8 .nowItem-bc79d .empty-db009 {\n  display: flex;\n  align-items: center;\n  padding: 20px 0 20px 20px;\n}\n.editor-d71d8 .nowItem-bc79d .empty-db009 label {\n  font-style: italic;\n  color: #AAA;\n  margin-right: 10px;\n}\n.editor-d71d8 .edtItem-ade41 {\n  margin: 20px;\n}\n.editor-d71d8 .edtItem-ade41 > label {\n  padding-right: 5px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  margin: 10px 10px 15px 20px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 label {\n  margin-right: 5px;\n}\n.editor-d71d8 .edtItem-ade41 .item-c7302 input {\n  flex: 1;\n  height: 20px;\n  border-radius: 3px;\n  border: 1px solid #DDD;\n  padding: 1px 5px;\n  appearance: auto;\n  background-color: #FFF;\n}\n",""]),s.locals={reset:"reset-c522d",loading:"loading-f8f99",editor:"editor-d71d8",toolbar:"toolbar-c3740",textCard:"textCard-f7e08",content:"content-a55d7",searchView:"searchView-e37c8",tb:"tb-b99e5",search:"search-e87dd",items:"items-c7ed4",nowItem:"nowItem-bc79d",edtItem:"edtItem-ade41",del:"del-e90d4",empty:"empty-db009",item:"item-c7302"};const a=s},40135:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-c39dd input,\n.reset-c39dd select,\n.reset-c39dd textarea,\n.reset-c39dd button,\n.reset-c39dd optgroup,\n.reset-c39dd option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-c39dd ul,\n.reset-c39dd ol {\n  list-style: none;\n}\n.reset-c39dd p {\n  margin-bottom: 0px;\n}\n.reset-c39dd :focus {\n  outline: 0;\n}\n.loading-fc379 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.editor-c32a1 .toolbar-c7e77 {\n  height: 40px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-bottom: 1px solid #F7F7F7;\n  padding-right: 10px;\n}\n.editor-c32a1 .toolbar-c7e77 button {\n  padding: 0 10px;\n  height: 23px;\n  border-radius: 5px;\n  background: #fa6400;\n  color: #FFF;\n  font-weight: bold;\n}\n.editor-c32a1 .item-c77cd {\n  display: flex;\n  flex-direction: row;\n  margin: 10px 10px 15px 20px;\n}\n.editor-c32a1 .item-c77cd input {\n  width: 14px;\n  margin-right: 5px;\n  appearance: auto;\n}\n.editor-c32a1 .register-e6c4f {\n  margin-top: -10px;\n  display: flex;\n  flex-direction: column;\n  padding-left: 20px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd {\n  margin: 5px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd label {\n  color: #555;\n  width: 70px;\n  text-align: right;\n  margin-right: 8px;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd input,\n.editor-c32a1 .register-e6c4f .item-c77cd select,\n.editor-c32a1 .register-e6c4f .item-c77cd textarea {\n  width: 200px;\n  border-radius: 3px;\n  border: 1px solid #DDD;\n  padding: 1px 5px;\n  appearance: auto;\n  background-color: #FFF;\n}\n.editor-c32a1 .register-e6c4f .item-c77cd textarea {\n  height: 100px;\n}\n.editor-c32a1 .register-e6c4f .required-cde39 {\n  position: relative;\n}\n.editor-c32a1 .register-e6c4f .required-cde39:before {\n  content: '*';\n  color: red;\n  position: absolute;\n  left: 12px;\n  top: 2px;\n}\n",""]),s.locals={reset:"reset-c39dd",loading:"loading-fc379",editor:"editor-c32a1",toolbar:"toolbar-c7e77",item:"item-c77cd",register:"register-e6c4f",required:"required-cde39"};const a=s},58478:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".titleBar-c009d {\n  height: 42px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n  position: relative;\n}\n.titleBar-c009d label {\n  font-size: 14px;\n  font-weight: 666;\n  color: #333;\n  margin: 3px 10px 5px 15px;\n}\n.titleBar-c009d input {\n  background: #FFF;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  padding: 0 10px;\n  height: 24px;\n  margin-right: 10px;\n  outline: none;\n  font-size: 12px;\n  color: #666;\n  flex: 1;\n}\n.titleBar-c009d span {\n  position: absolute;\n  right: 18px;\n  top: 5px;\n}\n.titleBar-c009d span svg {\n  width: 14px;\n}\n",""]),s.locals={titleBar:"titleBar-c009d"};const a=s},4303:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".titleBar-f09e6 {\n  height: 42px;\n  display: flex;\n  align-items: center;\n  background-color: #F7F7F7;\n  border-bottom: 1px solid #EEE;\n  position: relative;\n}\n.titleBar-f09e6 label {\n  font-size: 14px;\n  color: #AAA;\n  margin: 3px 15px 5px 15px;\n}\n.titleBar-f09e6 span {\n  font-weight: bold;\n}\n.titleBar-f09e6 .iconClose-b275b {\n  color: #777;\n  font-size: 16px;\n  font-weight: normal;\n  /* margin-left: auto; */\n  margin: 0 10px 2px 15px;\n  cursor: pointer;\n}\n.results-d46ab {\n  padding: 0 20px;\n}\n",""]),s.locals={titleBar:"titleBar-f09e6",iconClose:"iconClose-b275b",results:"results-d46ab"};const a=s},15027:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".view-ab32c {\n  width: 400px;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.results-d5145 {\n  padding: 0 20px;\n}\n.results-d5145:empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n}\n.results-d5145:empty:after {\n  content: '输入关键字进行查询';\n  font-style: italic;\n  color: #AAA;\n}\n.catalog-da8d0 {\n  padding: 10px 0;\n}\n.catalog-da8d0 .ttt-b9cef {\n  font-style: italic;\n  color: #AAA;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 {\n  display: flex;\n  flex-direction: column;\n  margin: 10px 0;\n  padding: 0 0 0 10px;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .tt-cfa25 {\n  font-weight: bold;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a {\n  position: relative;\n  cursor: pointer;\n  padding: 8px 10px;\n  margin: 2px;\n  border-radius: 3px;\n  border: 1px solid #EEE;\n  background: #FFF;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a:after {\n  content: '';\n  color: #AAA;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .item-b0a8a:hover {\n  background-color: #EEE;\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .diagramItem-ae1bb:after {\n  content: '（流程卡片）';\n}\n.catalog-da8d0 .scenes-ce6fb .scene-db704 .comItem-e33b2:after {\n  content: '（组件）';\n}\n",""]),s.locals={view:"view-ab32c",results:"results-d5145",catalog:"catalog-da8d0",ttt:"ttt-b9cef",scenes:"scenes-ce6fb",scene:"scene-db704",tt:"tt-cfa25",item:"item-b0a8a",diagramItem:"diagramItem-ae1bb",comItem:"comItem-e33b2"};const a=s},94262:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-deab8 input,\n.reset-deab8 select,\n.reset-deab8 textarea,\n.reset-deab8 button,\n.reset-deab8 optgroup,\n.reset-deab8 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-deab8 ul,\n.reset-deab8 ol {\n  list-style: none;\n}\n.reset-deab8 p {\n  margin-bottom: 0px;\n}\n.reset-deab8 :focus {\n  outline: 0;\n}\n.loading-a71b4 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.view-c2188 {\n  width: 42px;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background-color: #DEE1E6;\n}\n.view-c2188 .plugins-c5116 {\n  display: flex;\n  flex-direction: column;\n}\n.view-c2188 .sper-c30cc {\n  border-right: 1px solid #CCC;\n}\n.sperItem-c62e4 {\n  height: 10px;\n  position: relative;\n  border-right: 1px solid #CCC;\n}\n.sperItem-c62e4:before {\n  position: absolute;\n  top: 5px;\n  content: '';\n  width: 100%;\n  border-top: 1px solid #CCC;\n}\n.sperFlex-fdd91 {\n  position: relative;\n  flex: 1;\n  border-right: 1px solid #CCC;\n}\n.item-be192 {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  border-right: 1px solid #CCC;\n}\n.item-be192 > svg {\n  max-width: 20px;\n}\n.item-be192 > svg path {\n  fill: #AAA;\n}\n.item-be192:first-child {\n  margin-top: -1px;\n}\n.activeTab-d36b7 {\n  position: relative;\n  background: #F7F7F7;\n  margin: 10px 5px;\n  border-radius: 5px;\n  height: 30px;\n}\n.activeTab-d36b7:before {\n  content: ' ';\n  position: absolute;\n  height: 60px;\n  right: -6px;\n  border-right: 1px solid #ccc;\n}\n.activeTab-d36b7 > svg path {\n  fill: #fa6400;\n}\n.activeItem-feded {\n  border-right: 0;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n  background: #F7F7F7;\n  color: #FFF;\n  font-weight: bold;\n}\n.activeItem-feded > svg path {\n  fill: #000;\n}\n.disabledItem-e82fc .item-be192 svg {\n  opacity: 0.2;\n}\n.pluginBg-a11b9 {\n  position: absolute;\n  z-index: 1000;\n  top: 0;\n  left: 42px;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  background: rgba(255, 255, 255, 0.5);\n}\n.pluginBg-a11b9 .activePlugin-f58b6 {\n  width: fit-content;\n  height: 100%;\n  /* height: 100%; */\n  background: #F7F7F7;\n  border-right: 1px solid #CCC;\n  box-shadow: 0 0 10px 3px #ddd;\n}\n.pluginBg-a11b9 .errPlugin-f39f4 {\n  width: 200px;\n}\n.tabContent-f7b6b {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n",""]),s.locals={reset:"reset-deab8",loading:"loading-a71b4",view:"view-c2188",plugins:"plugins-c5116",sper:"sper-c30cc",sperItem:"sperItem-c62e4",sperFlex:"sperFlex-fdd91",item:"item-be192",activeTab:"activeTab-d36b7",activeItem:"activeItem-feded",disabledItem:"disabledItem-e82fc",pluginBg:"pluginBg-a11b9",activePlugin:"activePlugin-f58b6",errPlugin:"errPlugin-f39f4",tabContent:"tabContent-f7b6b"};const a=s},13458:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * MyBricks team @2019\n * mybricks@126.com\n */\n.reset-d4847 input,\n.reset-d4847 select,\n.reset-d4847 textarea,\n.reset-d4847 button,\n.reset-d4847 optgroup,\n.reset-d4847 option {\n  font-family: inherit;\n  font-size: 100%;\n  line-height: 1;\n}\n.reset-d4847 ul,\n.reset-d4847 ol {\n  list-style: none;\n}\n.reset-d4847 p {\n  margin-bottom: 0px;\n}\n.reset-d4847 :focus {\n  outline: 0;\n}\n.loading-c0f03 {\n  color: #AAA;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n}\n.statusBar-f508f {\n  border-top: 1px solid #bbb;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  padding: 0 0 0 20px;\n  justify-content: space-between;\n  background: #EBECEE;\n}\n.statusBar-f508f .statistics-fc19a {\n  display: flex;\n  align-items: center;\n  color: #555;\n  white-space: nowrap;\n}\n.statusBar-f508f .statistics-fc19a label {\n  color: #AAA;\n  margin: 0 5px 0 10px;\n  display: inline-flex;\n  align-items: center;\n}\n.statusBar-f508f .statistics-fc19a label svg {\n  max-width: 12px;\n}\n.statusBar-f508f .statistics-fc19a span {\n  color: #AAA;\n  display: inline-flex;\n  align-items: center;\n}\n.statusBar-f508f .statistics-fc19a span span {\n  padding: 0 3px;\n}\n.statusBar-f508f .statistics-fc19a .level-d9bc9 {\n  margin-left: 10px;\n}\n.statusBar-f508f .statistics-fc19a .level-d9bc9 label,\n.statusBar-f508f .statistics-fc19a .level-d9bc9 span {\n  color: #fa6400 !important;\n  font-weight: bold;\n}\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 {\n  border-left: 1px solid #EEE;\n  height: 100%;\n  display: inline-flex;\n}\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 label,\n.statusBar-f508f .statistics-fc19a .costTime-e19b5 span {\n  color: #777;\n}\n.statusBar-f508f .lyRight-ee451 {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  margin-left: 50px;\n}\n.statusBar-f508f .lastLog-f3ce5 {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100%;\n  overflow: hidden;\n  padding: 0 15px 0 15px;\n  margin-right: 10px;\n  border-right: 1px solid #DDD;\n}\n.statusBar-f508f .lastLog-f3ce5 .icon-e9a33 {\n  display: inline-flex;\n  align-items: center;\n  padding-right: 3px;\n}\n.statusBar-f508f .lastLog-f3ce5 .icon-e9a33 > svg {\n  max-width: 14px;\n}\n.statusBar-f508f .lastLog-f3ce5 p {\n  color: #555;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  margin: 0 !important;\n}\n.statusBar-f508f .btns-d2886 {\n  margin-left: auto;\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n.statusBar-f508f .btns-d2886 span {\n  width: 28px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.statusBar-f508f .btns-d2886 span:hover {\n  background-color: #DDD;\n}\n.statusBar-f508f .btns-d2886 span svg {\n  max-width: 14px;\n}\n.warn-cbbb7 {\n  background: #FFFAE3;\n}\n.error-af829 {\n  color: #FE181B;\n  background: #FFEEEE;\n}\n",""]),s.locals={reset:"reset-d4847",loading:"loading-c0f03",statusBar:"statusBar-f508f",statistics:"statistics-fc19a",level:"level-d9bc9",costTime:"costTime-e19b5",lyRight:"lyRight-ee451",lastLog:"lastLog-f3ce5",icon:"icon-e9a33",btns:"btns-d2886",warn:"warn-cbbb7",error:"error-af829"};const a=s},37073:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.catelog-a9328 {\n  font-size: inherit;\n  height: calc(100% - 42px);\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  background-color: #F7F7F7;\n  padding-top: -5px;\n  justify-content: space-between;\n  flex: 1;\n}\n.catelog-a9328 .scroll-b3d55 {\n  flex: 1;\n}\n.catelog-a9328 .container-cf1e9 {\n  padding: 15px;\n  border-bottom: 1px solid #DDD;\n}\n.catelog-a9328 .container-cf1e9:last-child {\n  border-bottom: none;\n}\n.catelog-a9328 .fixed-abaa0 {\n  z-index: 1;\n  padding: 15px;\n  background-color: #FAFAFA;\n  border-top: 1px solid #ddd;\n  position: relative;\n}\n.catelog-a9328 .fixedFold-ee441 {\n  height: 30px;\n  overflow: hidden;\n}\n.catelog-a9328 .fixedFold-ee441:after {\n  width: 100%;\n  height: 100%;\n  background-color: #FFF;\n  position: absolute;\n  top: 0;\n  left: 0;\n  content: '...';\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.catelog-a9328 .folded-d6158 {\n  /* height: 48px; */\n  padding: 15px 15px 5px 15px !important;\n  border-bottom: 0 !important;\n}\n.catelog-a9328 .fixedAtBottom-e4762 {\n  flex: 1;\n  align-items: flex-end;\n}\n.catelog-a9328 .descriptionTitle-c735f {\n  font-size: 12px;\n}\n.group-b5139 .fixedAtBottom-e4762 {\n  flex: 1;\n  align-items: flex-end;\n}\n.group-b5139 .group-b5139 {\n  padding: 15px;\n  margin: 0px -15px;\n  border-top: solid 1px #ddd;\n  border-bottom: solid 1px #ddd;\n}\n.group-b5139 .group-b5139:first-child {\n  border-top: none;\n  margin-top: -15px !important;\n}\n.group-b5139 .group-b5139:last-child:not(:first-child) {\n  margin-bottom: -15px;\n}\n.group-b5139 .group-b5139:last-child {\n  border-bottom: none !important;\n}\n.group-b5139 .group-b5139 ~ .group-b5139 {\n  margin-top: 0;\n  border-top: none;\n}\n.group-b5139 .groupTitle-b4c39 {\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n}\n.group-b5139 .groupTitle-b4c39 .text-a983c {\n  color: #415058;\n  font-weight: 800;\n  word-break: keep-all;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n}\n.group-b5139 .groupTitle-b4c39 .action-eff0e {\n  cursor: pointer;\n  color: #969698;\n  width: 50px;\n  text-align: right;\n}\n.group-b5139 .groupTitle-b4c39 .action-eff0e > * {\n  width: 12px;\n  opacity: 0.8;\n}\n.sperator-b3519 {\n  margin: 15px -15px 0px -15px;\n  border-top: 1px solid #DDD;\n}\n.withCheck-d6d1c {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #E5E5E5;\n  border-radius: 5px;\n  padding: 10px;\n  margin: 0px -5px;\n}\n.withCheck-d6d1c:not(:first-child) {\n  margin-top: 15px;\n}\n.withCheck-d6d1c .check-b5b7b {\n  /* width: 20px; */\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  /* padding-top: 4px; */\n  margin-top: -21px;\n}\n.withCheck-d6d1c .check-b5b7b input[type=checkbox] {\n  appearance: auto;\n}\n.withCheck-d6d1c .check-b5b7b span {\n  padding-left: 3px;\n  background: #F7F7F7;\n  padding-top: 2px;\n  color: #FA6400;\n}\n.withCheck-d6d1c .check-b5b7b .selected-c420d {\n  color: #333;\n}\n.withCheck-d6d1c .item-b2ecb {\n  flex: 1;\n  padding: 0 1px;\n  margin-top: 0 !important;\n}\n.item-b2ecb:not(:first-child) {\n  margin-top: 20px;\n}\n.item-b2ecb:not(:last-child) {\n  margin-bottom: 15px;\n}\n.item-b2ecb .itemTitle-e214d {\n  color: #555;\n  display: flex;\n  position: relative;\n  align-items: center;\n  padding-bottom: 3px;\n}\n.item-b2ecb .itemTitle-e214d .tt-ed795 {\n  padding-top: 3px;\n}\n.item-b2ecb .itemTitle-e214d .atVar-cc007 {\n  margin-left: auto;\n  position: relative;\n  color: #d59f10;\n  font-size: 10px;\n  font-style: italic;\n  cursor: pointer;\n}\n.item-b2ecb .itemTitle-e214d .atVar-cc007:before {\n  content: '{ / ';\n}\n.item-b2ecb .itemTitle-e214d .atVar-cc007:after {\n  content: '}';\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4 {\n  color: #776383;\n  background: #ede9f9 !important;\n  padding: 2px 8px;\n  border-radius: 5px;\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4:before {\n  content: '@';\n  font-weight: bold;\n}\n.item-b2ecb .itemTitle-e214d .atVarBinded-c5cf4:after {\n  content: '';\n}\n.item-b2ecb .description-fc819 {\n  margin-left: 5px;\n  opacity: 0.4;\n  font-size: 12px;\n}\n.item-b2ecb .description-fc819 svg {\n  width: 12px;\n}\n.item-b2ecb .notFound-fefc0 {\n  color: #cf8c8c;\n  font-style: italic;\n  padding: 5px;\n  border: 1px dashed #ebe6e6;\n}\n.cateloggroup-d1107 .containerBorder-aa9e8 {\n  margin-right: -5px;\n  padding: 3px 8px 8px 8px;\n  position: relative;\n  border: 1px solid #DDD;\n  border-radius: 5px;\n  margin-top: 16px;\n  width: calc(100% + 18px);\n  margin-left: -8px;\n}\n.cateloggroup-d1107 .containerBorder-aa9e8 .containerBorder-aa9e8 {\n  width: calc(100% + 4px) !important;\n  margin-left: -2px !important;\n}\n.cateloggroup-d1107 .containerBorder-aa9e8 .containerCatelog-afcd0 {\n  top: -36px;\n  left: 50%;\n  width: 100%;\n  position: absolute;\n  display: flex;\n  transform: translate(-50%, 100%);\n  justify-content: center;\n}\n.cateloggroup-d1107 .itemTitle-e214d {\n  color: #555;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 {\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE 10+ */\n  display: flex;\n  overflow: hidden;\n  overflow-x: auto;\n  flex-direction: row;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 .btn-f2a3e {\n  height: 24px;\n  display: flex;\n  cursor: pointer;\n  padding: 1px 10px 0 10px;\n  font-size: 12px;\n  margin-right: -1px;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  border: 1px solid #CCC;\n  border-right: 1px solid #CCC;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 .btn-f2a3e div {\n  white-space: nowrap;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 .btn-f2a3e:first-child {\n  border-bottom-left-radius: 4px;\n  border-top-left-radius: 4px;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 .btn-f2a3e:last-child {\n  margin-right: 0px;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.cateloggroup-d1107 .btnGroup-ccef5 .activeBtn-b9d52 {\n  color: #fff;\n  z-index: 1;\n  border-color: #616C81;\n  background-color: #616C81;\n}\n.cateloggroup-d1107 .btnGroup-ccef5::-webkit-scrollbar {\n  display: none;\n  /* Chrome Safari */\n}\n",""]),s.locals={catelog:"catelog-a9328",scroll:"scroll-b3d55",container:"container-cf1e9",fixed:"fixed-abaa0",fixedFold:"fixedFold-ee441",folded:"folded-d6158",fixedAtBottom:"fixedAtBottom-e4762",descriptionTitle:"descriptionTitle-c735f",group:"group-b5139",groupTitle:"groupTitle-b4c39",text:"text-a983c",action:"action-eff0e",sperator:"sperator-b3519",withCheck:"withCheck-d6d1c",check:"check-b5b7b",selected:"selected-c420d",item:"item-b2ecb",itemTitle:"itemTitle-e214d",tt:"tt-ed795",atVar:"atVar-cc007",atVarBinded:"atVarBinded-c5cf4",description:"description-fc819",notFound:"notFound-fefc0",cateloggroup:"cateloggroup-d1107",containerBorder:"containerBorder-aa9e8",containerCatelog:"containerCatelog-afcd0",btnGroup:"btnGroup-ccef5",btn:"btn-f2a3e",activeBtn:"activeBtn-b9d52"};const a=s},71035:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editTabs-b5d47 {\n  font-size: 14px;\n  width: 100%;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #D8D8D8;\n  position: relative;\n  background: #EBECEE;\n}\n.editTabs-b5d47::-webkit-scrollbar {\n  width: 0 !important;\n  height: 0 !important;\n  background-color: transparent;\n}\n.editTab-f4d2e {\n  /* display: flex; */\n  /* justify-content: center; */\n  /* align-items: center; */\n  cursor: pointer;\n  color: #9B9B9B;\n  text-align: center;\n  border-right: 1px solid #D8D8D8;\n  padding: 0 12px;\n  height: calc(100% + 2px);\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  background: #EBECEE;\n  border-bottom: 1px solid #D8D8D8;\n}\n.editTab-f4d2e:hover .icon-c9aea {\n  visibility: visible;\n}\n.editTab-f4d2e .title-b7a87 {\n  min-width: 50px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.editTab-f4d2e .editor-cfac1 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  text-align: center;\n  font-weight: normal;\n}\n.editTab-f4d2e .icon-c9aea {\n  position: absolute;\n  right: 2px;\n  top: 5px;\n  visibility: hidden;\n  max-height: 12px;\n  margin-left: 5px;\n  margin-top: -3px;\n}\n.editTab-f4d2e .icon-c9aea svg {\n  max-width: 14px;\n}\n.editTab-f4d2e .icon-c9aea svg path {\n  fill: #AAA;\n}\n.editTabActived-cdf24 {\n  cursor: inherit;\n  color: #333333;\n  font-weight: 700;\n  background-color: #F7F7F7;\n  border-bottom-width: 0 !important;\n}\n",""]),s.locals={editTabs:"editTabs-b5d47",editTab:"editTab-f4d2e",icon:"icon-c9aea",title:"title-b7a87",editor:"editor-cfac1",editTabActived:"editTabActived-cdf24"};const a=s},64361:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".icon-e5ecb {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.icon-e5ecb svg {\n  max-width: 25px;\n}\n.icon-e5ecb span {\n  margin-left: 5px;\n}\n.view-d3262 {\n  display: flex;\n  flex-direction: column;\n}\n.view-d3262 .tb-f989b {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 80px;\n  outline: 1px solid #df5e09;\n  margin: 2px;\n  border-radius: 3px;\n  background: #FFF;\n}\n.view-d3262 .tb-f989b svg {\n  max-width: 14px;\n  margin-right: 5px;\n  position: absolute;\n  top: -5px;\n  left: 4px;\n}\n.view-d3262 .tb-f989b textarea {\n  flex: 1;\n  padding: 9px 5px 5px 20px;\n  height: 100%;\n  resize: none;\n}\n.view-d3262 .content-eb1fb {\n  flex: 1;\n}\n.view-d3262 .content-eb1fb .item-bf5c2 {\n  padding: 2px 5px 2px 5px;\n  position: relative;\n}\n.view-d3262 .content-eb1fb .loading-e1fe1:before {\n  content: '[处理中]';\n  color: red;\n  font-size: 10px;\n  font-style: italic;\n  margin-right: 3px;\n}\n.view-d3262 .content-eb1fb .done-ff50e:before {\n  content: '[完成]';\n  color: #1a8a16;\n  font-size: 10px;\n  font-style: italic;\n  margin-right: 3px;\n}\n",""]),s.locals={icon:"icon-e5ecb",view:"view-d3262",tb:"tb-f989b",content:"content-eb1fb",item:"item-bf5c2",loading:"loading-e1fe1",done:"done-ff50e"};const a=s},47030:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-f76a3 {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-f76a3 span {\n  display: inline-block;\n}\n.editor-f76a3 span:first-child {\n  width: 40px;\n}\n.editor-f76a3 .tt-cdcac {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  flex: 1;\n  line-height: 12px;\n}\n.editor-f76a3 .type-de40d {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-f76a3 .type-de40d svg {\n  max-width: 16px;\n}\n.editor-f76a3 .btns-c865a .disable-d442d {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .normal-f4eb4 {\n  background-color: #AAA;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .passed-c0af6 {\n  background-color: green;\n}\n.editor-f76a3 .btns-c865a .test-bdc82 .failed-de8ba {\n  background-color: red;\n}\n.conList-bbd4e {\n  padding: 10px;\n  margin-top: 25px;\n  height: 100%;\n  overflow: auto;\n}\n.conList-bbd4e .con-e50b6 {\n  cursor: pointer;\n  padding: 8px 5px 8px 12px;\n  margin: 3px 0;\n  display: flex;\n  justify-content: space-between;\n  border: 1px solid #EEE;\n  border-radius: 5px;\n  background-color: #FAFAFA;\n}\n.conList-bbd4e .con-e50b6:hover {\n  background-color: #F5F5F5;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 .title-a5821 {\n  font-weight: bold;\n  word-wrap: break-word;\n}\n.conList-bbd4e .con-e50b6 .desc-da090 .time-f235b {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-bbd4e .con-e50b6 .typeIcon-a8014 {\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.conList-bbd4e .con-e50b6 .typeIcon-a8014 svg {\n  max-width: 22px;\n}\n.conList-bbd4e .focus-e8f94 {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-f76a3",tt:"tt-cdcac",type:"type-de40d",btns:"btns-c865a",disable:"disable-d442d",test:"test-bdc82",normal:"normal-f4eb4",passed:"passed-c0af6",failed:"failed-de8ba",conList:"conList-bbd4e",con:"con-e50b6",desc:"desc-da090",title:"title-a5821",time:"time-f235b",typeIcon:"typeIcon-a8014",focus:"focus-e8f94"};const a=s},86079:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-fae89 {\n  background-color: #FFF;\n}\n.editor-fae89 .btns-d0deb {\n  padding: 5px 2px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 {\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span {\n  display: inline-block;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span:first-child {\n  width: 40px;\n}\n.editor-fae89 .btns-d0deb .selected-ee583 span:last-child {\n  flex: 1;\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  line-height: 14px;\n}\n.editor-fae89 .btns-d0deb .disable-c0274 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .normal-c2f73 {\n  background-color: #AAA;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .passed-c262e {\n  background-color: green;\n}\n.editor-fae89 .btns-d0deb .test-ee4e7 .failed-c0ea8 {\n  background-color: red;\n}\n.conList-ef612 {\n  padding: 10px;\n}\n.conList-ef612 .con-a6019 {\n  cursor: pointer;\n  padding: 5px 5px 5px 10px;\n}\n.conList-ef612 .con-a6019:hover {\n  background-color: #F5F5F5;\n}\n.conList-ef612 .con-a6019 .time-c409c {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-ef612 .focus-f1690 {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-fae89",btns:"btns-d0deb",selected:"selected-ee583",disable:"disable-c0274",test:"test-ee4e7",normal:"normal-c2f73",passed:"passed-c262e",failed:"failed-c0ea8",conList:"conList-ef612",con:"con-a6019",time:"time-c409c",focus:"focus-f1690"};const a=s},51224:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e0335 {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-e0335 span {\n  display: inline-block;\n}\n.editor-e0335 span:first-child {\n  width: 40px;\n}\n.editor-e0335 .tt-a0a46 {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-e0335 .type-c7897 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-e0335 .type-c7897 svg {\n  max-width: 16px;\n}\n.editor-e0335 .btns-d464a .disable-a5b64 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .normal-b797c {\n  background-color: #AAA;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .passed-e5cba {\n  background-color: green;\n}\n.editor-e0335 .btns-d464a .test-dc9e4 .failed-a81e4 {\n  background-color: red;\n}\n.conList-f3450 {\n  padding: 10px;\n  margin-top: 25px;\n  height: 100%;\n  overflow: auto;\n}\n.conList-f3450 .con-d47ff {\n  cursor: pointer;\n  padding: 8px 5px 8px 12px;\n  margin: 3px 0;\n  display: flex;\n  justify-content: space-between;\n  border: 1px solid #EEE;\n  border-radius: 5px;\n  background-color: #FAFAFA;\n}\n.conList-f3450 .con-d47ff:hover {\n  background-color: #F5F5F5;\n}\n.conList-f3450 .con-d47ff .desc-d9797 {\n  display: flex;\n  flex-direction: column;\n}\n.conList-f3450 .con-d47ff .desc-d9797 .title-d5322 {\n  font-weight: bold;\n}\n.conList-f3450 .con-d47ff .desc-d9797 .time-f847f {\n  color: #AAA;\n  margin-top: 5px;\n}\n.conList-f3450 .con-d47ff .typeIcon-e8021 {\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.conList-f3450 .con-d47ff .typeIcon-e8021 svg {\n  max-width: 22px;\n}\n.conList-f3450 .focus-eb67d {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-e0335",tt:"tt-a0a46",type:"type-c7897",btns:"btns-d464a",disable:"disable-a5b64",test:"test-dc9e4",normal:"normal-b797c",passed:"passed-e5cba",failed:"failed-a81e4",conList:"conList-f3450",con:"con-d47ff",desc:"desc-d9797",title:"title-d5322",time:"time-f847f",typeIcon:"typeIcon-e8021",focus:"focus-eb67d"};const a=s},68282:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.view-f14cb {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.view-f14cb button {\n  padding: 3px 10px;\n  border-radius: 3px;\n  cursor: pointer;\n  box-shadow: 0 1px 4px -1px #777;\n  background: #FFF;\n}\n.view-f14cb > button {\n  margin: 10px 20px;\n}\n.view-f14cb .toolbar-a285e {\n  height: 45px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  text-align: right;\n  padding-right: 5px;\n  z-index: 1;\n  background: #F7F7F7;\n  border-bottom: 1px solid #DDD;\n}\n.view-f14cb .toolbar-a285e button {\n  margin-left: 10px;\n}\n.view-f14cb select {\n  padding: 1px 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.view-f14cb .hide-ef117 {\n  display: none !important;\n}\n.view-f14cb .adder-f61a9 {\n  padding: 20px 20px 0 20px;\n  display: flex;\n  flex-direction: column;\n}\n.view-f14cb .adder-f61a9 button {\n  color: #FFF;\n  font-weight: bold;\n  border-width: 0;\n  background-color: #FA6400;\n}\n.view-f14cb .adder-f61a9 .row-f717d {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n}\n.view-f14cb .adder-f61a9 select {\n  flex: 1;\n  border-radius: 3px;\n}\n.view-f14cb .adder-f61a9 textarea {\n  padding: 5px 10px;\n  border: 1px solid #EEE;\n  height: 100px;\n  border-radius: 3px;\n  margin-bottom: 10px;\n}\n.view-f14cb .list-b4d3f {\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-end;\n  border-top: 1px solid #EEE;\n  flex: 1;\n  background-color: #FCFCFC;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 {\n  display: flex;\n  flex-direction: column;\n  padding: 12px 20px;\n  user-select: text;\n  cursor: text;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43:hover {\n  background-color: #F7F7F7;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 .timeline-bd7da {\n  display: flex;\n  align-content: center;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 .timeline-bd7da .time-bb03e {\n  color: #AAA;\n  margin-right: 15px;\n  position: relative;\n  padding-left: 15px;\n  margin-top: 3px;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 .timeline-bd7da .time-bb03e:before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 3px;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background-color: #DDD;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 .timeline-bd7da .name-c109e {\n  cursor: default;\n  height: 20px;\n  border: 0 solid #DDD;\n  border-radius: 5px;\n  padding: 2px 10px;\n  font-size: 10px;\n  font-weight: 500;\n  color: #FFF;\n}\n.view-f14cb .list-b4d3f .labelItem-dcc43 .desc-aee6c {\n  flex: 1;\n  margin-left: 15px;\n  font-size: 12px;\n  color: #777;\n}\n",""]),s.locals={view:"view-f14cb",toolbar:"toolbar-a285e",hide:"hide-ef117",adder:"adder-f61a9",row:"row-f717d",list:"list-b4d3f",labelItem:"labelItem-dcc43",timeline:"timeline-bd7da",time:"time-bb03e",name:"name-c109e",desc:"desc-aee6c"};const a=s},1433:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".view-f5b30 {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.view-f5b30 .tt-d9cba {\n  margin-right: 7px;\n  color: #777;\n  padding-top: 3px;\n}\n.view-f5b30 .labels-b6eca {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  position: relative;\n}\n.view-f5b30 .labels-b6eca:hover:after {\n  content: '（点击编辑）';\n  position: absolute;\n  top: 0;\n  right: 0;\n  color: #AAA;\n  font-style: italic;\n}\n.view-f5b30 .labels-b6eca span {\n  display: inline-flex;\n  width: 14px;\n  height: 14px;\n  cursor: pointer;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  margin-left: 3px;\n}\n.view-f5b30 .labels-b6eca .todo-b3eff svg path {\n  fill: #f38c23;\n}\n.view-f5b30 .labels-b6eca .doing-c08f5 svg path {\n  fill: #0baebd;\n}\n.view-f5b30 .labels-b6eca .done-a8de5 svg path {\n  fill: #5bbd0b;\n}\n.view-f5b30 .labels-b6eca .labelTitle-a2ec5 {\n  color: #AAA;\n  font-style: italic;\n  font-size: 10px;\n  margin-left: 3px;\n  margin-top: 2px;\n}\n.view-f5b30 .adder-bc7e5 {\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: #EEE;\n  margin-right: 10px;\n  font-weight: 300;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n}\n",""]),s.locals={view:"view-f5b30",tt:"tt-d9cba",labels:"labels-b6eca",todo:"todo-b3eff",doing:"doing-c08f5",done:"done-a8de5",labelTitle:"labelTitle-a2ec5",adder:"adder-bc7e5"};const a=s},86775:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-bddd5 {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-bddd5 span {\n  display: inline-block;\n}\n.editor-bddd5 span:first-child {\n  width: 40px;\n}\n.editor-bddd5 .tt-d319d {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-bddd5 .type-b4bb8 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-bddd5 .type-b4bb8 svg {\n  max-width: 16px;\n}\n.editor-bddd5 .btns-e97a1 .disable-caabb {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .normal-b9c52 {\n  background-color: #AAA;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .passed-da78b {\n  background-color: green;\n}\n.editor-bddd5 .btns-e97a1 .test-d9b87 .failed-d546b {\n  background-color: red;\n}\n.pageList-f8083 {\n  padding: 10px;\n}\n.pageList-f8083 .page-ce24b {\n  cursor: pointer;\n  padding: 3px 5px 3px 0px;\n  border-radius: 3px;\n  margin: 3px 0;\n  display: flex;\n}\n.pageList-f8083 .page-ce24b:hover {\n  background-color: #F5F5F5;\n}\n.pageList-f8083 .page-ce24b .icon-d47f8 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-f8083 .page-ce24b .icon-d47f8 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-f8083 .page-ce24b .title-cbcc8 {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-f8083 .page-ce24b .title-cbcc8 .time-df0eb {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-f8083 .focus-a0df0 {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-bddd5",tt:"tt-d319d",type:"type-b4bb8",btns:"btns-e97a1",disable:"disable-caabb",test:"test-d9b87",normal:"normal-b9c52",passed:"passed-da78b",failed:"failed-d546b",pageList:"pageList-f8083",page:"page-ce24b",icon:"icon-d47f8",title:"title-cbcc8",time:"time-df0eb",focus:"focus-a0df0"};const a=s},11566:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-a9af9 {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-a9af9 span {\n  display: inline-block;\n}\n.editor-a9af9 span:first-child {\n  width: 40px;\n}\n.editor-a9af9 .tt-b765a {\n  overflow: hidden;\n  color: #c6ad18;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n  flex: 1;\n  line-height: 12px;\n}\n.editor-a9af9 .tt-b765a:empty:before {\n  color: #AAA;\n  content: '（空）';\n}\n.editor-a9af9 .type-fd5fd {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-a9af9 .type-fd5fd svg {\n  max-width: 16px;\n}\n.editor-a9af9 .btns-f62c8 .disable-fb356 {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .normal-fabd5 {\n  background-color: #AAA;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .passed-bfd36 {\n  background-color: green;\n}\n.editor-a9af9 .btns-f62c8 .test-a7663 .failed-cfe5f {\n  background-color: red;\n}\n",""]),s.locals={editor:"editor-a9af9",tt:"tt-b765a",type:"type-fd5fd",btns:"btns-f62c8",disable:"disable-fb356",test:"test-a7663",normal:"normal-fabd5",passed:"passed-bfd36",failed:"failed-cfe5f"};const a=s},61552:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-c7b92 {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-c7b92 span {\n  display: inline-block;\n}\n.editor-c7b92 span:first-child {\n  width: 40px;\n}\n.editor-c7b92 .tt-fe4ef {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-c7b92 .type-c24f1 {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-c7b92 .type-c24f1 svg {\n  max-width: 16px;\n}\n.editor-c7b92 .btns-f8185 .disable-b1a7e {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .normal-aa50b {\n  background-color: #AAA;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .passed-b5215 {\n  background-color: green;\n}\n.editor-c7b92 .btns-f8185 .test-a7958 .failed-f63ff {\n  background-color: red;\n}\n.pageList-a7407 {\n  padding: 10px;\n  padding-top: 45px;\n}\n.pageList-a7407 .page-c5124 {\n  cursor: pointer;\n  padding: 12px 5px 12px 0px;\n  border-radius: 5px;\n  margin: 3px 0;\n  display: flex;\n  background-color: #FAFAFA;\n}\n.pageList-a7407 .page-c5124:hover {\n  background-color: #F5F5F5;\n}\n.pageList-a7407 .page-c5124 .icon-fc6c8 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-a7407 .page-c5124 .icon-fc6c8 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-a7407 .page-c5124 .title-dd67d {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-a7407 .page-c5124 .title-dd67d .time-bb839 {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-a7407 .focus-d2eb3 {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-c7b92",tt:"tt-fe4ef",type:"type-c24f1",btns:"btns-f8185",disable:"disable-b1a7e",test:"test-a7958",normal:"normal-aa50b",passed:"passed-b5215",failed:"failed-f63ff",pageList:"pageList-a7407",page:"page-c5124",icon:"icon-fc6c8",title:"title-dd67d",time:"time-bb839",focus:"focus-d2eb3"};const a=s},13893:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e902e {\n  cursor: pointer;\n  padding: 3px 0;\n  display: flex;\n  flex-direction: column;\n}\n.editor-e902e:hover {\n  background-color: #F5F5F5;\n}\n.editor-e902e .preview-d02b1 {\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #AAA;\n  font-style: italic;\n}\n.editor-e902e .preview-d02b1 img {\n  max-height: 40px;\n  max-width: 260px;\n}\n.editor-e902e .title-f6385 {\n  margin-top: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #AAA;\n  flex: 1;\n  display: none;\n}\n.notFound-afaa5 .title-f6385 {\n  font-style: italic;\n  color: #f8bbbb !important;\n}\n.themes-e8a9b {\n  padding: 10px;\n  padding-top: 45px;\n}\n.themes-e8a9b .theme-a52a8 {\n  height: 80px;\n  cursor: pointer;\n  padding: 5px 10px;\n  border-radius: 5px;\n  margin: 3px 0;\n  display: flex;\n  flex-direction: column;\n  background-color: #FAFAFA;\n}\n.themes-e8a9b .theme-a52a8:hover {\n  background-color: #F5F5F5;\n}\n.themes-e8a9b .theme-a52a8 .preview-d02b1 {\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.themes-e8a9b .theme-a52a8 .preview-d02b1 img {\n  max-height: 50px;\n  max-width: 300px;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 {\n  display: flex;\n  flex-direction: column;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 .title-f6385 {\n  color: #AAA;\n  font-style: italic;\n}\n.themes-e8a9b .theme-a52a8 .title-f6385 .time-bb5eb {\n  color: #AAA;\n  margin-top: 5px;\n}\n.themes-e8a9b .focus-e1b49 {\n  outline: 2px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-e902e",preview:"preview-d02b1",title:"title-f6385",notFound:"notFound-afaa5",themes:"themes-e8a9b",theme:"theme-a52a8",time:"time-bb5eb",focus:"focus-e1b49"};const a=s},11455:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.button-a70be {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  border: none;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #FFF;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.danger-ab4d6 {\n  border: 1px solid #F55753;\n  color: #F55753;\n  box-shadow: none;\n}\n",""]),s.locals={button:"button-a70be",danger:"danger-ab4d6"};const a=s},20176:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".editor-fab78 {\n  display: flex;\n  flex-direction: column;\n}\n.editor-fab78 .item-b0a57 {\n  display: flex;\n  align-items: center;\n}\n.editor-fab78 .item-b0a57:not(:first-child) {\n  margin-top: 5px;\n}\n.editor-fab78 .item-b0a57 .label-e8d29 {\n  width: 80px;\n  text-align: right;\n  padding-right: 5px;\n}\n.editor-fab78 .item-b0a57 input {\n  flex: 1;\n  background: #FFF;\n  padding: 5px 10px;\n  border-radius: 3px;\n  border: 1px solid #EEE;\n}\n",""]),s.locals={editor:"editor-fab78",item:"item-b0a57",label:"label-e8d29"};const a=s},73361:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".editor-b7164 table td {\n  border: 1px solid #DDD;\n}\n.editor-b7164 table input {\n  width: 80px;\n  border: 0px;\n}\n",""]),s.locals={editor:"editor-b7164"};const a=s},57894:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-e83b5 {\n  position: relative;\n}\n.editor-e83b5 .input-eadbf {\n  width: 100%;\n  display: block;\n  padding: 3px 5px;\n  border-radius: 3px;\n  border: 1px solid #EEE;\n  background-color: #ffffff;\n  box-sizing: border-box;\n}\n.editor-e83b5 .input-eadbf:hover {\n  border-color: #FA6400;\n}\n.editor-e83b5 .input-eadbf:focus {\n  border-color: #fa6400;\n  -webkit-box-shadow: 0 0 0 2px #fa640033;\n  box-shadow: 0 0 0 2px #fa640033;\n}\n.editor-e83b5 .disabled-cf756 {\n  cursor: default;\n  background-color: #fff;\n  color: rgba(0, 0, 0, 0.85);\n}\n.editor-e83b5 > span {\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  cursor: pointer;\n}\n.editor-e83b5 > span svg {\n  max-width: 16px;\n}\n.editor-e83b5 .useLocale-d8881 svg path {\n  fill: #FA6400;\n}\n",""]),s.locals={editor:"editor-e83b5",input:"input-eadbf",disabled:"disabled-cf756",useLocale:"useLocale-d8881"};const a=s},24033:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editView-fd054 {\n  height: 100%;\n  flex: 1;\n  background: #F7F7F7;\n  overflow-y: auto;\n  overflow-x: hidden;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n}\n.editView-fd054 .empty-fa2d4 {\n  color: #AAA;\n  font-style: italic;\n  text-align: center;\n}\n",""]),s.locals={editView:"editView-fd054",empty:"empty-fa2d4"};const a=s},28006:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-bd4f7 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-fa1ac {\n  display: flex;\n  flex-direction: row;\n  align-content: flex-start;\n}\n.justifyContentFlexStart-d32c2 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-a5529 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-b0055 {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-c7809 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-af75e {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-ed1f8 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-fccfd {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-d8021 {\n  align-items: flex-end;\n}\n.mover-b0a94 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 10px);\n}\n.slotHover-bf7cb .mover-b0a94 {\n  display: block;\n}\n.wrapper-f11d9 {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n}\n.navs-c3f4d {\n  background: #F7F7F7;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.navs-c3f4d .titleBar-ee313 {\n  height: 32px;\n  display: flex;\n  background-color: #EBECEE;\n  border-bottom: 1px solid #D8D8D8;\n}\n.navs-c3f4d .titleBar-ee313 .tt-b52c6 {\n  font-size: 14px;\n  height: 100%;\n  min-width: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  margin-bottom: -1px;\n  border-right: 1px solid #D8D8D8;\n}\n.navs-c3f4d .titleBar-ee313 .focus-aead4 {\n  color: #333;\n  font-weight: 700;\n  background-color: #F7F7F7;\n  height: calc(100% + 2px);\n}\n.navs-c3f4d .panel-c0f48 {\n  flex: 1;\n  overflow: hidden;\n}\n.navFloat-c294c {\n  height: auto !important;\n  position: absolute;\n  top: 65px;\n  bottom: 10px;\n  right: 55px;\n  z-index: 100000;\n  border: 1px solid #CCC;\n  box-shadow: 0 1px 4px 2px rgba(39, 54, 78, 0.15);\n}\n.navHide-ae3c0 {\n  width: 0 !important;\n  visibility: hidden;\n}\n.sperV-ca2f8 {\n  width: 5px;\n  height: 100%;\n  cursor: ew-resize;\n  margin-right: -2px !important;\n  margin-left: -2px !important;\n  z-index: 100000;\n}\n.sperV-ca2f8:hover {\n  transition: 0.2s;\n  background: #616C81;\n}\n.sperV-ca2f8:hover > div {\n  border-left-width: 0;\n}\n.sperV-ca2f8 > div {\n  border-left: 1px solid #ddd;\n  height: 100%;\n  width: 1px;\n  margin-left: 2px;\n}\n",""]),s.locals={lyFlexColumn:"lyFlexColumn-bd4f7",lyFlexRow:"lyFlexRow-fa1ac",justifyContentFlexStart:"justifyContentFlexStart-d32c2",justifyContentFlexCenter:"justifyContentFlexCenter-a5529",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-b0055",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-c7809",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-af75e",alignItemsFlexStart:"alignItemsFlexStart-ed1f8",alignItemsFlexCenter:"alignItemsFlexCenter-fccfd",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-d8021",mover:"mover-b0a94",slotHover:"slotHover-bf7cb",wrapper:"wrapper-f11d9",navs:"navs-c3f4d",titleBar:"titleBar-ee313",tt:"tt-b52c6",focus:"focus-aead4",panel:"panel-c0f48",navFloat:"navFloat-c294c",navHide:"navHide-ae3c0",sperV:"sperV-ca2f8"};const a=s},64772:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.placeholder-eae6f {\n  z-index: 10000;\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n}\n.placeholderH-f14d3 {\n  transform: translateY(-5px);\n}\n.placeholderH-f14d3 > div {\n  border-top: 5px solid #FA6400;\n  margin-top: 3px;\n}\n.placeholderV-df908 {\n  transform: translateX(-5px);\n}\n.placeholderV-df908 > div {\n  height: 100%;\n  border-left: 5px solid #FA6400;\n  margin-left: 3px;\n}\n",""]),s.locals={placeholder:"placeholder-eae6f",placeholderH:"placeholderH-f14d3",placeholderV:"placeholderV-df908"};const a=s},45025:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r),a=n(61260),l=n.n(a),c=new URL(n(28602),n.b),d=s()(o()),u=l()(c);d.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-f1554 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-f6378 {\n  display: flex;\n  flex-direction: row;\n  align-content: flex-start;\n}\n.justifyContentFlexStart-f8827 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-a5a83 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-cb139 {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-aadd0 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-ffd55 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-cb579 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-e8aef {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ff76a {\n  align-items: flex-end;\n}\n.mover-b95f7 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 10px);\n}\n.slotHover-ed325 .mover-b95f7 {\n  display: block;\n}\n.viewWrap-ffa50 {\n  flex: 1;\n  overflow: hidden;\n  background-image: url("+u+");\n  position: relative;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd {\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n  /* margin: -20px; */\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  background: #BBB;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-thumb:hover {\n  background: #777;\n  border-radius: 7px;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-button {\n  display: none;\n}\n.viewWrap-ffa50 .canvasWrap-d66cd::-webkit-scrollbar-corner {\n  display: none;\n}\n.loading-f8eed {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1000;\n  background: #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #AAA;\n}\n.editing-f5648 .editCover-b040e {\n  z-index: 10000;\n  cursor: crosshair !important;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: transparent;\n}\n.movable-dc289 {\n  cursor: grab !important;\n}\n.disabled-cd1f7:after {\n  content: '';\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  background-color: transparent;\n}\n.canvas-f2d48 {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n.canvasView-d9158 {\n  align-items: center;\n  display: flex;\n  height: 100%;\n  margin: auto;\n}\n.canvasTrans-a6775 {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  padding: 0;\n  min-width: 100%;\n  min-height: 100%;\n}\n",""]),d.locals={lyFlexColumn:"lyFlexColumn-f1554",lyFlexRow:"lyFlexRow-f6378",justifyContentFlexStart:"justifyContentFlexStart-f8827",justifyContentFlexCenter:"justifyContentFlexCenter-a5a83",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-cb139",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-aadd0",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-ffd55",alignItemsFlexStart:"alignItemsFlexStart-cb579",alignItemsFlexCenter:"alignItemsFlexCenter-e8aef",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ff76a",mover:"mover-b95f7",slotHover:"slotHover-ed325",viewWrap:"viewWrap-ffa50",canvasWrap:"canvasWrap-d66cd",loading:"loading-f8eed",editing:"editing-f5648",editCover:"editCover-b040e",movable:"movable-dc289",disabled:"disabled-cd1f7",canvas:"canvas-f2d48",canvasView:"canvasView-d9158",canvasTrans:"canvasTrans-a6775"};const p=d},61047:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.mover-eba0b {\n  z-index: 10000;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.mover-eba0b .tipY-c7ee0 {\n  position: absolute;\n  border-left: 1px solid #04bdc5;\n  z-index: 10;\n}\n.mover-eba0b .tipY-c7ee0 span {\n  position: absolute;\n  right: 5px;\n  top: calc(50% - 6px);\n  color: #04bdc5;\n  font-size: 10px;\n  font-weight: bold;\n}\n.mover-eba0b .tipV-b63bb {\n  position: absolute;\n  border-left: 1px solid #FA6400;\n}\n.mover-eba0b .disV-fc82b {\n  position: absolute;\n  width: 1px;\n  background-color: #de9a04;\n}\n.mover-eba0b .disV-fc82b span {\n  position: absolute;\n  left: 3px;\n  top: calc(50% - 6px);\n  color: #de9a04;\n  font-size: 8px;\n  font-weight: bold;\n}\n.mover-eba0b .disH-b7bfa {\n  position: absolute;\n  height: 1px;\n  background-color: #de9a04;\n}\n.mover-eba0b .disH-b7bfa span {\n  position: absolute;\n  top: 3px;\n  left: calc(50% - 6px);\n  color: #de9a04;\n  font-size: 8px;\n  font-weight: bold;\n}\n.mover-eba0b .tipX-d03d4 {\n  position: absolute;\n  border-top: 1px solid #04bdc5;\n  z-index: 10;\n}\n.mover-eba0b .tipX-d03d4 span {\n  position: absolute;\n  bottom: 2px;\n  left: calc(50% - 6px);\n  color: #04bdc5;\n  font-size: 10px;\n  font-weight: bold;\n}\n.mover-eba0b .tipH-caec4 {\n  position: absolute;\n  border-top: 1px solid #FA6400;\n}\n.mover-eba0b .poX-fed61 span,\n.mover-eba0b .poY-e2298 span {\n  position: absolute;\n  padding: 1px 3px;\n  text-align: center;\n  color: #FA6400;\n  font-weight: bold;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.mover-eba0b .poX-fed61 {\n  position: absolute;\n  top: calc(50% - 6px);\n  height: 50px;\n}\n.mover-eba0b .poX-fed61 span {\n  right: 100%;\n}\n.mover-eba0b .poY-e2298 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n}\n.mover-eba0b .poY-e2298 span {\n  bottom: 100%;\n}\n",""]),s.locals={mover:"mover-eba0b",tipY:"tipY-c7ee0",tipV:"tipV-b63bb",disV:"disV-fc82b",disH:"disH-b7bfa",tipX:"tipX-d03d4",tipH:"tipH-caec4",poX:"poX-fed61",poY:"poY-e2298"};const a=s},86515:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.margin-a6260 {\n  position: absolute;\n  background: rgba(161, 107, 177, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.1), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.nMargin-e89c2 {\n  position: absolute;\n  background: rgba(227, 170, 46, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.marginTop-a5744,\n.marginBottom-b1b51 {\n  left: 0;\n  width: 100%;\n}\n.marginRight-e35be,\n.marginLeft-f9dff {\n  top: 0;\n  height: 100%;\n}\n.poX-e3497 span,\n.poY-f8d90 span {\n  position: absolute;\n  padding: 1px 3px;\n  text-align: center;\n  background-color: #FA6400;\n  color: #FFF;\n  border-radius: 6px;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.poX-e3497 {\n  position: absolute;\n  top: 50%;\n  height: 50px;\n  border-top: 1px solid #FA6400;\n}\n.poX-e3497 span {\n  left: calc(50% - 12px);\n}\n.poY-f8d90 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px solid #FA6400;\n}\n.poY-f8d90 span {\n  top: calc(50% - 12px);\n}\n.passive-f8876 {\n  background: transparent !important;\n}\n.opened-d3a10 {\n  outline: 1px dashed #02e8fd !important;\n  background: transparent !important;\n}\n.opened-d3a10 .parentBar-c7961 {\n  z-index: -1 !important;\n}\n.opened-d3a10 .comBar-f5819 {\n  z-index: -1 !important;\n}\n@keyframes linearGradientMove-fd904 {\n  100% {\n    background-position: 8px 0, -8px 100%, 0 -8px, 100% 8px;\n  }\n}\n.focus-c14c3,\n.focusBG-d4039 {\n  box-sizing: content-box;\n  position: absolute;\n  z-index: 10000;\n  user-select: none;\n  pointer-events: none;\n}\n.multi-d918c {\n  pointer-events: auto !important;\n}\n.focus-c14c3 {\n  background: linear-gradient(90deg, #FA6400 50%, #fff 50%) repeat-x, linear-gradient(90deg, #FA6400 50%, #fff 50%) repeat-x, linear-gradient(0deg, #FA6400 50%, #fff 50%) repeat-y, linear-gradient(0deg, #FA6400 50%, #fff 50%) repeat-y;\n  background-size: 8px 1px, 8px 1px, 1px 8px, 1px 8px;\n  background-position: 0 0, 0 100%, 0 0, 100% 0;\n  animation: linearGradientMove-fd904 0.5s infinite linear;\n}\n.focus-c14c3 .itemTitle-ec52a {\n  pointer-events: auto;\n  width: max-content;\n  color: #FFF;\n  font-weight: 700;\n  position: absolute;\n  bottom: calc(100% - 0px);\n  left: 0;\n  z-index: 1000;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n}\n.focus-c14c3 .itemTitle-ec52a .titleBar-bda65 {\n  display: flex;\n  border-radius: 5px 5px 0 0;\n  overflow: hidden;\n  cursor: move;\n}\n.focus-c14c3 .itemTitle-ec52a .titleBar-bda65 .hidden-a6e88 {\n  cursor: pointer;\n  background-color: #FA6400;\n  padding: 1px 8px 0 5px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n}\n.focus-c14c3 .itemTitle-ec52a .titleBar-bda65 .hidden-a6e88 svg {\n  max-width: 14px;\n}\n.focus-c14c3 .itemTitle-ec52a .titleBar-bda65 .hidden-a6e88 svg path {\n  fill: #FFF;\n}\n.focus-c14c3 .itemTitle-ec52a span {\n  padding: 3px 10px 2px 10px;\n  display: inline-block;\n  pointer-events: visible;\n  outline: none !important;\n}\n.focus-c14c3 .itemTitle-ec52a span:not(:last-child) {\n  cursor: pointer;\n  margin-right: -5px;\n}\n.focus-c14c3 .itemTitle-ec52a .parentBar-c7961 {\n  z-index: 1;\n  background-color: #FA6400;\n  display: flex;\n  align-items: center;\n  padding: 0 5px 0 10px;\n}\n.focus-c14c3 .itemTitle-ec52a .parentBar-c7961 svg {\n  width: 12px;\n}\n.focus-c14c3 .itemTitle-ec52a .parentBar-c7961 svg path {\n  fill: #FFF;\n}\n.focus-c14c3 .itemTitle-ec52a .comBar-f5819 {\n  border-radius: 5px 5px 0 0;\n  background-color: #FA6400;\n}\n.focus-c14c3 .itemTitle-ec52a .opened-d3a10 {\n  background-color: #02e8fd !important;\n  padding: 1px 7px 0 7px;\n  margin-top: 7px;\n  margin-left: 2px;\n  margin-right: 3px;\n  font-size: 10px;\n  border-radius: 3px 3px 0 0;\n}\n.focus-c14c3 .itemTitle-ec52a .zoneBar-ec35e {\n  background-color: #f3b413;\n}\n.focus-c14c3 .itemTitle-ec52a .diagrams-f4aae {\n  width: max-content;\n}\n.focus-c14c3 .itemTitle-ec52a .diagrams-f4aae .event-e7271 {\n  padding: 0 5px;\n  margin-left: 2px;\n  width: fit-content;\n  border: 1px solid #bbb;\n  font-style: italic;\n  background-color: #fff4ce;\n  color: #666;\n  font-weight: normal;\n  cursor: pointer;\n  display: inline-flex;\n}\n.focus-c14c3 .shortcuts-f6007 {\n  padding: 1px 5px 0 5px !important;\n  border-radius: 0 3px 0 0;\n  margin: 0px 0px 2px 1px;\n  cursor: pointer;\n}\n.focus-c14c3 .shortcuts-f6007 > * {\n  pointer-events: none;\n  font-size: 10px;\n}\n.focus-c14c3 .dot-f5827 {\n  width: 5px;\n  height: 5px;\n  border: 1px solid #FA6400;\n  background-color: #FFF;\n  position: absolute;\n  pointer-events: all;\n  border-radius: 50%;\n}\n.focus-c14c3 .dot0-b04c1 {\n  left: -4px;\n  top: -4px;\n  cursor: nw-resize;\n}\n.focus-c14c3 .dot1-cb2dc {\n  left: 50%;\n  transform: translateX(-50%);\n  top: -4px;\n  cursor: n-resize;\n}\n.focus-c14c3 .dot2-e0afd {\n  right: -4px;\n  top: -4px;\n  cursor: ne-resize;\n}\n.focus-c14c3 .dot3-eb91f {\n  right: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  cursor: e-resize;\n}\n.focus-c14c3 .dot4-bbc56 {\n  right: -4px;\n  bottom: -4px;\n  cursor: se-resize;\n}\n.focus-c14c3 .dot5-fd390 {\n  left: 50%;\n  transform: translateX(-50%);\n  bottom: -4px;\n  cursor: s-resize;\n}\n.focus-c14c3 .dot6-b1a4c {\n  left: -4px;\n  bottom: -4px;\n  cursor: sw-resize;\n}\n.focus-c14c3 .dot7-a12d3 {\n  left: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  cursor: w-resize;\n}\n.focusBG-d4039 {\n  z-index: 9999;\n}\n.geoComMaskMulti-aa26d {\n  user-select: auto !important;\n  pointer-events: auto !important;\n}\n",""]),s.locals={margin:"margin-a6260",nMargin:"nMargin-e89c2",marginTop:"marginTop-a5744",marginBottom:"marginBottom-b1b51",marginRight:"marginRight-e35be",marginLeft:"marginLeft-f9dff",poX:"poX-e3497",poY:"poY-f8d90",passive:"passive-f8876",opened:"opened-d3a10",parentBar:"parentBar-c7961",comBar:"comBar-f5819",focus:"focus-c14c3",focusBG:"focusBG-d4039",multi:"multi-d918c",linearGradientMove:"linearGradientMove-fd904",itemTitle:"itemTitle-ec52a",titleBar:"titleBar-bda65",hidden:"hidden-a6e88",zoneBar:"zoneBar-ec35e",diagrams:"diagrams-f4aae",event:"event-e7271",shortcuts:"shortcuts-f6007",dot:"dot-f5827",dot0:"dot0-b04c1",dot1:"dot1-cb2dc",dot2:"dot2-e0afd",dot3:"dot3-eb91f",dot4:"dot4-bbc56",dot5:"dot5-fd390",dot6:"dot6-b1a4c",dot7:"dot7-a12d3",geoComMaskMulti:"geoComMaskMulti-aa26d"};const a=s},94504:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.devices-b133e {\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border-radius: 3px;\n  overflow: hidden;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  background: #FFF;\n}\n.devices-b133e .tab-a3f52 {\n  width: 32px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  position: relative;\n}\n.devices-b133e .tab-a3f52 svg path {\n  fill: #777;\n}\n.devices-b133e .active-d6d2f {\n  background: #616C81 !important;\n  font-weight: bold;\n}\n.devices-b133e .active-d6d2f svg path {\n  fill: #fff;\n}\n.devices-b133e svg {\n  max-width: 14px;\n}\n.anchor-f8d83 {\n  position: absolute;\n  top: -6px;\n  left: -8px;\n  z-index: 10000;\n  width: 29px;\n  height: 23px;\n  cursor: pointer;\n  padding: 6px 0 0 11px !important;\n  background: #EEE;\n  border-radius: 21px;\n  box-shadow: 1px 2px 1px 0 rgba(39, 54, 78, 0.08);\n}\n.anchor-f8d83:hover svg path {\n  fill: #333;\n}\n.anchor-f8d83 svg {\n  position: absolute;\n  max-width: 12px;\n}\n.anchor-f8d83 svg path {\n  fill: #aaa;\n  stroke: #FFF !important;\n}\n.btnGroup-f1372 {\n  width: 36px;\n  background: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  z-index: 10000;\n  margin-bottom: 15px;\n}\n.btnGroup-f1372:not(:first-child) {\n  margin-top: 15px;\n}\n.btnGroup-f1372 button {\n  height: 25px;\n  padding: 0;\n  cursor: pointer;\n  font-size: 14px;\n  overflow: hidden;\n}\n.addModule-b5d42 {\n  position: absolute;\n  top: 5px;\n  left: 20px;\n  z-index: 10000;\n}\n.addModule-b5d42 button {\n  height: 30px;\n}\n.toolbar-e3cb9 {\n  position: absolute;\n  z-index: 10000;\n  top: 17px;\n  right: 15px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.toolbar-e3cb9 .icon-eb959 {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-e3cb9 .icon-eb959 span {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-e3cb9 .icon-eb959 svg {\n  max-width: 18px;\n}\n.toolbar-e3cb9 .icon-eb959 svg path {\n  fill: #FA6400;\n  stroke: #FFF !important;\n}\n.toolbar-e3cb9 .debug-de957 {\n  background: #FA6400;\n  color: #FFF;\n  font-weight: bold;\n  position: relative;\n}\n.toolbar-e3cb9 .debug-de957 svg path {\n  fill: #FFF;\n}\n.toolbar-e3cb9 .debug-de957 span:first-child {\n  top: 13px;\n  left: 14px;\n  width: 8px;\n  height: 9px;\n  overflow: hidden;\n}\n.toolbar-e3cb9 .debug-de957 span:first-child svg {\n  max-width: 20px;\n  position: absolute;\n  left: -6px;\n  top: -12px;\n}\n.toolbar-e3cb9 .debug-de957 span:last-child {\n  animation: rot-b759e 2s linear infinite;\n}\n.toolbar-e3cb9 .debug-de957 span:last-child svg {\n  max-width: 22px;\n}\n.toolbar-e3cb9 .tab-a3f52 {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-e3cb9 .tab-a3f52 span {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-e3cb9 .tab-a3f52 svg {\n  max-width: 18px;\n}\n.toolbar-e3cb9 .tab-a3f52 svg path {\n  fill: #777;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .showNav-db9ed {\n  height: 30px;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .showNav-db9ed svg {\n  max-width: 16px;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .showNavActive-dc7cb svg path {\n  fill: #FA6400;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .showNavDisable-d9928 {\n  pointer-events: none;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .showNavDisable-d9928 svg path {\n  fill: #CCC;\n}\n.toolbar-e3cb9 .normalbar-f3c6e .zoom-a080e .zoomInfo-f0377 {\n  font-size: 9px;\n  text-align: center;\n  border-top: 1px solid #DDD;\n  border-bottom: 1px solid #DDD;\n  padding: 5px 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  white-space: nowrap;\n}\n.toolbar-e3cb9 .active-d6d2f {\n  background: #616C81 !important;\n  font-weight: bold;\n}\n.toolbar-e3cb9 .active-d6d2f svg path {\n  fill: #fff;\n}\n.popMenu-b6871 {\n  width: 150px;\n  background: #FFF;\n  box-shadow: 1px 4px 14px -2px #999;\n}\n.popMenu-b6871 > div {\n  height: 36px;\n  line-height: 36px;\n  padding: 0 15px;\n}\n.popMenu-b6871 > div:hover {\n  background: #EEE;\n}\n.popMenu-b6871 .sper-a1876 {\n  border-bottom: 1px solid #EEE;\n  height: 1px;\n}\n@keyframes rot-b759e {\n  0% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(90deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  75% {\n    transform: rotate(270deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),s.locals={devices:"devices-b133e",tab:"tab-a3f52",active:"active-d6d2f",anchor:"anchor-f8d83",btnGroup:"btnGroup-f1372",addModule:"addModule-b5d42",toolbar:"toolbar-e3cb9",icon:"icon-eb959",debug:"debug-de957",rot:"rot-b759e",normalbar:"normalbar-f3c6e",showNav:"showNav-db9ed",showNavActive:"showNavActive-dc7cb",showNavDisable:"showNavDisable-d9928",zoom:"zoom-a080e",zoomInfo:"zoomInfo-f0377",popMenu:"popMenu-b6871",sper:"sper-a1876"};const a=s},90159:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.navBar-ba392 {\n  margin: 0;\n  position: absolute;\n  top: 23px;\n  left: 73px;\n  margin-right: 60px;\n  pointer-events: none;\n  z-index: 10000;\n  box-shadow: -3px 1px 8px 2px rgba(39, 54, 78, 0.2);\n}\n.navBar-ba392 li {\n  pointer-events: auto;\n  display: inline-flex;\n  position: relative;\n  height: 26px;\n  margin-left: -9px;\n  margin-top: -1px;\n  cursor: pointer;\n  color: #888;\n  white-space: nowrap;\n  border-left: 1px solid #CCC;\n}\n.navBar-ba392 li span {\n  display: inline-flex;\n  align-items: center;\n  border-top: 1px solid #CCC;\n  border-bottom: 1px solid #CCC;\n  margin: 0 9px 0 0;\n  padding: 0 5px 0 14px;\n  background: #FFF;\n}\n.navBar-ba392 li svg {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  pointer-events: none;\n}\n.navBar-ba392 li svg path {\n  pointer-events: fill;\n  fill: #FFF;\n  stroke: #CCC;\n  stroke-width: 1px;\n}\n.navBar-ba392 li:hover[data-handlable] > span {\n  background: #EEE !important;\n}\n.navBar-ba392 li:hover[data-handlable] svg path {\n  fill: #EEE !important;\n}\n.navBar-ba392 li:first-child {\n  color: #888 !important;\n  font-weight: normal !important;\n  background: transparent !important;\n}\n.navBar-ba392 li:first-child span {\n  background-color: #FFF !important;\n}\n.navBar-ba392 li:first-child svg path {\n  stroke: #CCC !important;\n  stroke-width: 1px !important;\n  fill: #FFF !important;\n}\n.navBar-ba392 li:first-child:last-child {\n  color: #FFF !important;\n  font-weight: bold !important;\n  background-color: #FA6400 !important;\n}\n.navBar-ba392 li:first-child:last-child span {\n  padding: 0 0 0 15px;\n  border: none !important;\n  background-color: #FA6400 !important;\n}\n.navBar-ba392 li:first-child:last-child:hover[data-handlable]:not(:first-child) span {\n  background: #FA6400 !important;\n}\n.navBar-ba392 li:first-child:last-child:hover[data-handlable]:not(:first-child) svg path {\n  fill: #FA6400 !important;\n}\n.navBar-ba392 li:first-child:last-child svg {\n  right: -10px !important;\n}\n.navBar-ba392 li:first-child:last-child svg path {\n  stroke-width: 0;\n  fill: #FA6400 !important;\n}\n.navBar-ba392 li:nth-last-child(1) {\n  color: #FFF;\n  font-weight: bold;\n  background-color: #FA6400;\n}\n.navBar-ba392 li:nth-last-child(1) span {\n  padding: 0 0 0 15px;\n  border: none !important;\n  background-color: #FA6400;\n}\n.navBar-ba392 li:nth-last-child(1):hover[data-handlable]:not(:first-child) span {\n  background: #FA6400 !important;\n}\n.navBar-ba392 li:nth-last-child(1):hover[data-handlable]:not(:first-child) svg path {\n  fill: #FA6400 !important;\n}\n.navBar-ba392 li:nth-last-child(1) svg {\n  right: -10px;\n}\n.navBar-ba392 li:nth-last-child(1) svg path {\n  stroke-width: 0;\n  fill: #FA6400;\n}\n.zone-dcd0f {\n  background-color: #f3b413 !important;\n}\n.zone-dcd0f span {\n  background-color: #f3b413 !important;\n}\n.zone-dcd0f svg path {\n  fill: #f3b413 !important;\n}\n.cur-f8312 {\n  color: #FFF;\n  font-weight: bold;\n  background-color: #5b6b73;\n}\n.cur-f8312 svg {\n  right: -10px;\n}\n.cur-f8312 svg path {\n  stroke-width: 0;\n  fill: #5b6b73;\n}\n",""]),s.locals={navBar:"navBar-ba392",zone:"zone-dcd0f",cur:"cur-f8312"};const a=s},48917:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.pageNav-d0415 {\n  width: 330px;\n  background: #FFF;\n  box-shadow: 1px 4px 14px -2px #999;\n  border: 1px solid #CCC;\n  position: absolute;\n  left: 20px;\n  top: 58px;\n  z-index: 10000;\n  bottom: 10px;\n  display: flex;\n  flex-direction: column;\n}\n.pageNav-d0415 .titleBar-a42fb {\n  display: flex;\n  justify-content: space-between;\n  padding: 15px 7px 0 15px;\n  border-bottom: 1px solid #EEE;\n  background: #FFF;\n}\n.pageNav-d0415 .titleBar-a42fb span {\n  color: #AAA;\n  padding-left: 10px;\n  font-weight: bold;\n  flex: 1;\n}\n.pageNav-d0415 .titleBar-a42fb span input {\n  width: 267px;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  padding: 2px 5px;\n  color: #333;\n  background-color: #FFF;\n}\n.pageNav-d0415 .titleBar-a42fb .btns-e1267 {\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: -7px;\n}\n.pageNav-d0415 .titleBar-a42fb .btns-e1267 button {\n  width: 30px;\n  cursor: pointer;\n}\n.pageNav-d0415 .titleBar-a42fb .btns-e1267 button:hover {\n  color: #FA6400;\n}\n.pageNav-d0415 .coms-f2669 {\n  padding: 5px 5px 5px 5px;\n  border-bottom: 1px solid #EEE;\n}\n.pageNav-d0415 .pages-a52dd {\n  overflow-y: auto;\n  max-height: 300px;\n  border-bottom: 1px solid #EEE;\n  background: #F7F7F7;\n  padding: 5px 5px 10px 5px;\n}\n.pageNav-d0415 .page-a4d5f {\n  height: 30px;\n  padding: 0 20px 0 13px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-radius: 3px;\n  margin: 2px 5px;\n  cursor: pointer;\n}\n.pageNav-d0415 .page-a4d5f:hover {\n  background: #EEE;\n}\n.pageNav-d0415 .page-a4d5f .icon-db3f6 {\n  height: 16px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 5px;\n}\n.pageNav-d0415 .page-a4d5f .icon-db3f6 svg {\n  max-width: 12px;\n}\n.pageNav-d0415 .com-c0004 {\n  width: 75px;\n  height: 70px;\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  margin: 2px;\n}\n.pageNav-d0415 .com-c0004:hover {\n  background: #EEE;\n}\n.pageNav-d0415 .com-c0004 .icon-db3f6 {\n  height: 38px;\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageNav-d0415 .com-c0004 .title-c36a6 {\n  padding: 0 3px;\n  line-height: 13px;\n  pointer-events: none;\n  text-align: center;\n  overflow: hidden;\n  height: 26px;\n}\n.pageNav-d0415 .focused-aace8 {\n  background: #DDD;\n}\n.pageNav-d0415 .curTitle-ea7ae {\n  color: #AAA;\n  padding: 5px 0 0 10px;\n  font-style: italic;\n}\n.pageNav-d0415 .outline-cfcce {\n  flex: 1;\n  padding: 0 0 0 10px;\n  overflow: hidden;\n}\n.pageNav-d0415 .sper-d9ef6 {\n  border-bottom: 1px solid #EEE;\n  height: 1px;\n}\n.hidden-cd5a1 {\n  display: none;\n}\n",""]),s.locals={pageNav:"pageNav-d0415",titleBar:"titleBar-a42fb",btns:"btns-e1267",coms:"coms-f2669",pages:"pages-a52dd",page:"page-a4d5f",icon:"icon-db3f6",com:"com-c0004",title:"title-c36a6",focused:"focused-aace8",curTitle:"curTitle-ea7ae",outline:"outline-cfcce",sper:"sper-d9ef6",hidden:"hidden-cd5a1"};const a=s},26312:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.margin-a6abe {\n  position: absolute;\n  background: rgba(161, 107, 177, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.1), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.nMargin-eb720 {\n  position: absolute;\n  background: rgba(227, 170, 46, 0.5);\n  background-image: repeating-linear-gradient(150deg, hsla(0, 0%, 100%, 0.5), hsla(0, 0%, 100%, 0.1) 2px, transparent 0, transparent 6px);\n}\n.marginTop-d7441,\n.marginBottom-f4c5f {\n  left: 0;\n  width: 100%;\n}\n.marginRight-a27db,\n.marginLeft-e1fc4 {\n  top: 0;\n  height: 100%;\n}\n.poX-f3e91,\n.poY-f1a34 {\n  z-index: 9999;\n}\n.poX-f3e91 span,\n.poY-f1a34 span {\n  position: absolute;\n  padding: 1px 3px;\n  text-align: center;\n  background-color: red;\n  color: #FFF;\n  border-radius: 6px;\n  border: 1px solid #FFF;\n  word-break: break-all;\n  white-space: nowrap;\n  font-size: 10px;\n}\n.poX-f3e91 {\n  position: absolute;\n  top: 50%;\n  height: 50px;\n  border-top: 1px solid red;\n}\n.poX-f3e91 span {\n  left: calc(50% - 12px);\n}\n.poY-f1a34 {\n  position: absolute;\n  left: 50%;\n  width: 50px;\n  border-left: 1px solid red;\n}\n.poY-f1a34 span {\n  top: calc(50% - 12px);\n}\n.hover-f9d2b {\n  box-sizing: content-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10000;\n  user-select: none;\n  pointer-events: none;\n  outline: 1px solid #FA6400;\n  background: rgba(250, 100, 0, 0.05);\n}\n.hover-f9d2b .itemTitle-ea920 {\n  width: max-content;\n  background-color: #FA6400;\n  color: #FFF;\n  font-weight: 700;\n  position: absolute;\n  padding: 3px 10px 2px 10px;\n  bottom: calc(100% - 0px);\n  left: 0;\n  border-radius: 5px 5px 0 0;\n  outline: 1px solid rgba(255, 255, 255, 0.5);\n}\n.hover-f9d2b .itemTitle-ea920 span {\n  display: inline-block;\n  pointer-events: visible;\n  line-height: 20px;\n}\n.hover-f9d2b .itemTitle-ea920 span:not(:first-child):before {\n  content: '>';\n  padding: 0px 10px;\n}\n.hover-f9d2b .itemTitle-ea920 span:not(:last-child) {\n  cursor: pointer;\n}\n.hover-f9d2b .diagrams-fa8ed {\n  width: max-content;\n}\n.hover-f9d2b .diagrams-fa8ed .event-ad232 {\n  padding: 2px 5px;\n  width: fit-content;\n  border: 1px solid #CCC;\n  font-style: italic;\n  background-color: #fff4ce;\n}\n.hover-f9d2b .diagrams-fa8ed .event-ad232 span {\n  font-size: 16px !important;\n}\n",""]),s.locals={margin:"margin-a6abe",nMargin:"nMargin-eb720",marginTop:"marginTop-d7441",marginBottom:"marginBottom-f4c5f",marginRight:"marginRight-a27db",marginLeft:"marginLeft-e1fc4",poX:"poX-f3e91",poY:"poY-f1a34",hover:"hover-f9d2b",itemTitle:"itemTitle-ea920",diagrams:"diagrams-fa8ed",event:"event-ad232"};const a=s},55323:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.note-c806f {\n  z-index: 1001;\n  position: absolute;\n  pointer-events: auto;\n  width: 300px;\n}\n.note-c806f .title-b6aed {\n  background: #F7F7F7;\n  position: relative;\n  padding: 5px 7px 6px 7px;\n  font-size: 12px;\n  display: flex;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  border-bottom: 1px dashed #eee;\n}\n.note-c806f .title-b6aed .label-d3eac {\n  font-size: 10px;\n  color: #FA6400;\n}\n.note-c806f .title-b6aed .tt-f56d8 {\n  height: 16px;\n  padding-left: 5px;\n}\n.note-c806f .title-b6aed .handler-ff81d {\n  display: none;\n  position: absolute;\n}\n.note-c806f .title-b6aed .handler-ff81d:after {\n  cursor: move;\n  content: ' ';\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n  position: absolute;\n  left: -13px;\n  top: -1px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  background: #FA6400;\n  color: #FFF;\n}\n.note-c806f .items-b5ddb {\n  border: 1px solid transparent;\n  background: #FFF;\n  font-size: 12px;\n  padding: 5px 5px;\n  min-height: 50px;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px dashed #ccc;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b .author-f0f59 {\n  color: #AAA;\n}\n.note-c806f .items-b5ddb .item-b169a .toolbar-e315b .date-d090d {\n  color: #bbb;\n}\n.note-c806f .items-b5ddb .item-b169a .content-eda06 {\n  padding-top: 5px;\n}\n.note-c806f .items-b5ddb .editor-a34ba textarea {\n  background: #FFF;\n  width: 100%;\n  min-height: 50px;\n  resize: none;\n  border: 0px;\n}\n.note-c806f .items-b5ddb .editor-a34ba button {\n  padding: 5px 11px;\n  margin-right: 5px;\n  background: #FFF;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.focus-aaf6f {\n  outline: 1px solid #FA6400;\n}\n.focus-aaf6f .title-b6aed .handler-ff81d {\n  display: block;\n}\n.conToRef-ce552 {\n  z-index: 1000;\n  position: absolute;\n  pointer-events: none;\n}\n.conToRef-ce552 circle {\n  fill: #FA6400;\n  stroke: #FFF;\n  stroke-width: 1px;\n}\n.conToRef-ce552 polyline {\n  shape-rendering: crispEdges;\n  stroke: #FA6400;\n  stroke-width: 1px;\n}\n",""]),s.locals={note:"note-c806f",title:"title-b6aed",label:"label-d3eac",tt:"tt-f56d8",handler:"handler-ff81d",items:"items-b5ddb",item:"item-b169a",toolbar:"toolbar-e315b",author:"author-f0f59",date:"date-d090d",content:"content-eda06",editor:"editor-a34ba",focus:"focus-aaf6f",conToRef:"conToRef-ce552"};const a=s},17614:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".item-dce24 {\n  margin-bottom: 10px;\n}\n.item-dce24 .tt-d7a85 {\n  margin-bottom: 10px;\n}\n.item-dce24 textarea {\n  width: 100%;\n  min-height: 100px;\n  background: #FFF;\n  padding: 5px;\n  border: 1px solid #DDD;\n}\n.btn-edffe {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  border: none;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #f9f9f9;\n  box-shadow: 0 1px 4px -1px #777;\n  border: 1px solid #F55753;\n  color: #F55753;\n  box-shadow: none;\n}\n",""]),s.locals={item:"item-dce24",tt:"tt-d7a85",btn:"btn-edffe"};const a=s},42912:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".noteView-e005f {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 1000px;\n}\n",""]),s.locals={noteView:"noteView-e005f"};const a=s},21374:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".pluginView-bc1f7 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 10000;\n}\n",""]),s.locals={pluginView:"pluginView-bc1f7"};const a=s},55074:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".ruleH-a26ad {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 3000px;\n  height: 9px;\n  background: #EEE;\n  z-index: 10000;\n  border-bottom: 1px solid #CCC;\n}\n.ruleH-a26ad:hover div {\n  outline: 1px solid #EEE;\n}\n.ruleH-a26ad div {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  height: 100%;\n}\n.ruleH-a26ad div label {\n  position: absolute;\n  left: 5px;\n  top: 8px;\n  display: none;\n  font-size: 10px;\n  color: #333;\n}\n.ruleH-a26ad div:hover {\n  background: #616C81;\n  z-index: 100;\n}\n.ruleH-a26ad div:hover label {\n  display: block;\n}\n.ruleH-a26ad .now-e45d2 {\n  background: #FFF;\n  background-image: repeating-linear-gradient(90deg, transparent 0 1.5px, #DDD 0 2.5px, transparent 0 50px), repeating-linear-gradient(90deg, transparent 0 1px, #CCC 0 3px, transparent 0 100px);\n}\n.ruleH-a26ad ._414-da636 {\n  width: 414px;\n}\n.ruleH-a26ad ._768-c9047 {\n  width: 768px;\n}\n.ruleH-a26ad ._1024-a9777 {\n  width: 1024px;\n}\n.ruleH-a26ad ._1280-df685 {\n  width: 1280px;\n}\n.ruleH-a26ad ._1440-bbce8 {\n  width: 1440px;\n}\n.ruleH-a26ad ._full-f40e2 {\n  width: 100%;\n}\n.ruleV-fd26d {\n  height: 100%;\n  width: 8px;\n  z-index: 10000;\n  border-right: 1px solid #CCC;\n  /* position: relative; */\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: #EEE;\n}\n.ruleV-fd26d .now-e45d2 {\n  width: 100%;\n  transform-origin: 0 0;\n  background: #FFF;\n  background-image: repeating-linear-gradient(0deg, transparent 0 1.5px, #EEE 0 2.5px, transparent 0 50px), repeating-linear-gradient(0deg, transparent 0 1px, #DDD 0 3px, transparent 0 100px);\n}\n.ruleV-fd26d .now-e45d2 > label {\n  position: absolute;\n  left: 10px;\n  top: 8px;\n  width: 50px;\n  display: none;\n  font-size: 10px;\n  color: #333;\n}\n.ruleV-fd26d .now-e45d2:hover {\n  background: #616C81;\n  z-index: 100;\n}\n.ruleV-fd26d .now-e45d2:hover > label {\n  display: block;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5 {\n  position: absolute;\n  left: 9px;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5:after {\n  position: absolute;\n  content: '首屏';\n  color: #777;\n  font-size: 12px;\n}\n.ruleV-fd26d .now-e45d2 .firstScreen-d45f5 .line-ae4c0 {\n  width: 25px;\n  border-top: 1px dashed #777;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9 {\n  position: absolute;\n  bottom: -200px;\n  height: 200px;\n  width: 100%;\n  background: #EEE;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9 label {\n  display: none;\n  font-size: 10px;\n  color: #333;\n  position: absolute;\n  top: 5px;\n  left: 10px;\n  width: 100px;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9:hover {\n  background: #616C81;\n}\n.ruleV-fd26d .now-e45d2 .append-d94e9:hover label {\n  display: block;\n}\n.blueprintBG-b9a21 {\n  background-color: #fdf8e6 !important;\n}\n",""]),s.locals={ruleH:"ruleH-a26ad",now:"now-e45d2",_414:"_414-da636",_768:"_768-c9047",_1024:"_1024-a9777",_1280:"_1280-df685",_1440:"_1440-bbce8",_full:"_full-f40e2",ruleV:"ruleV-fd26d",firstScreen:"firstScreen-d45f5",line:"line-ae4c0",append:"append-d94e9",blueprintBG:"blueprintBG-b9a21"};const a=s},44292:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.zone-ae948 {\n  pointer-events: none;\n  position: absolute;\n  border: 1px solid #FA6400;\n  background-color: rgba(245, 206, 206, 0.5);\n}\n",""]),s.locals={zone:"zone-ae948"};const a=s},77983:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.thumbs-aff9a {\n  position: absolute;\n  top: 100px;\n  z-index: 10000;\n  display: flex;\n  flex-direction: row;\n  pointer-events: none;\n}\n.thumbs-aff9a .thumb-bb3c5 {\n  width: 100px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #FFF;\n  margin: 5px;\n  box-shadow: 0 1px 3px #aaa;\n}\n.thumbs-aff9a .cur-afdbf {\n  outline: 2px solid #FA6400;\n  outline-offset: -2px;\n}\n.thumbs-aff9a .placeholder-dd4c6 {\n  position: absolute;\n  top: 0px;\n  width: 5px;\n  height: 100%;\n  background-color: #FA6400;\n}\n",""]),s.locals={thumbs:"thumbs-aff9a",thumb:"thumb-bb3c5",cur:"cur-afdbf",placeholder:"placeholder-dd4c6"};const a=s},54222:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".device-bd380 {\n  display: flex;\n  margin-bottom: 10px;\n}\n.device-bd380 select {\n  flex: 1;\n  margin-left: 5px;\n  color: #555;\n  background: #FFF;\n  height: 24px;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  padding: 0 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.editor-ee234 {\n  padding-left: 2px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.editor-ee234:last-of-type {\n  margin-top: 5px;\n}\n.editor-ee234 .tt-b7f87 {\n  color: #777;\n  white-space: nowrap;\n}\n.editor-ee234 .desc-b6175 {\n  margin-left: 10px;\n  font-style: italic;\n  color: #AAA;\n  white-space: nowrap;\n}\n.editor-ee234 select {\n  width: 70px;\n  margin-left: 10px;\n  color: #555;\n  background: #FFF;\n  height: 24px;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  padding: 0 5px;\n  appearance: auto;\n  cursor: pointer;\n}\n.editor-ee234 input {\n  flex: 1;\n  margin-left: 10px;\n  background: #FFF;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  height: 24px;\n  padding: 0 5px;\n  overflow: hidden;\n}\n.readonly-e2f9e input {\n  background: #F7F7F7;\n  border-color: #F7F7F7;\n}\n",""]),s.locals={device:"device-bd380",editor:"editor-ee234",tt:"tt-b7f87",desc:"desc-b6175",readonly:"readonly-e2f9e"};const a=s},22727:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.empty-a5eab {\n  padding: 10px;\n  color: #999;\n  font-style: italic;\n}\n.info-ba534 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: -5px 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.info-ba534 .tt-fcd60 {\n  color: #b45708;\n  font-weight: bold;\n  padding: 3px 0 3px 0;\n}\n.info-ba534 p {\n  text-align: left;\n  max-height: 70px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #555;\n}\n.info-ba534 p label {\n  color: #AAA;\n  font-style: italic;\n}\n.info-ba534 button {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  text-align: center;\n  height: 26px;\n  line-height: 26px;\n  border-radius: 3px;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n  margin-top: 10px;\n}\n",""]),s.locals={empty:"empty-a5eab",info:"info-ba534",tt:"tt-fcd60"};const a=s},9861:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".view-c6535 {\n  display: flex;\n  flex-direction: column;\n}\n.view-c6535 .toolbar-b9306 {\n  height: 45px;\n  border-bottom: 1px solid #EEE;\n}\n.view-c6535 .content-a4937 {\n  padding: 10px;\n}\n.view-c6535 .content-a4937 .catelog-ba0c4 {\n  padding: 5px;\n}\n.view-c6535 .content-a4937 .empty-cf0f9 {\n  padding: 2px 10px;\n  font-style: italic;\n  color: #AAA;\n  text-align: center;\n}\n.view-c6535 .content-a4937 .var-d3e44 {\n  font-size: 12px;\n  margin: 5px 0 5px 20px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n.view-c6535 .content-a4937 .var-d3e44:hover .name-ac406 {\n  background-color: #ddd3fa;\n}\n.view-c6535 .content-a4937 .var-d3e44 label {\n  color: #AAA;\n  margin-right: 5px;\n}\n.view-c6535 .content-a4937 .var-d3e44 .name-ac406 {\n  position: relative;\n  width: fit-content;\n  line-height: 14px;\n  min-width: 120px;\n  max-width: 100%;\n  border-radius: 5px;\n  padding: 5px 10px 5px 10px;\n  background-color: #ede9f9;\n  white-space: nowrap;\n}\n.view-c6535 .content-a4937 .var-d3e44 .icon-f4f31 {\n  margin-left: auto;\n}\n.view-c6535 .content-a4937 .var-d3e44 .icon-f4f31 svg {\n  max-width: 14px;\n}\n.view-c6535 .content-a4937 .curVar-f252a .name-ac406:after {\n  color: #d9990f;\n  content: '（已选择）';\n  position: absolute;\n  left: 100%;\n  top: 2px;\n}\n",""]),s.locals={view:"view-c6535",toolbar:"toolbar-b9306",content:"content-a4937",catelog:"catelog-ba0c4",empty:"empty-cf0f9",var:"var-d3e44",name:"name-ac406",icon:"icon-f4f31",curVar:"curVar-f252a"};const a=s},99545:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comInfo-a1c73 {\n  margin-bottom: -5px;\n  margin-top: -5px;\n  user-select: text;\n}\n.comInfo-a1c73 .items-d8d1d:first-child {\n  padding-bottom: 5px;\n}\n.comInfo-a1c73 .info-d9784 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.comInfo-a1c73 .info-d9784 .version-fa665 {\n  flex: 1;\n  margin-left: 5px;\n  color: #999;\n  font-style: italic;\n}\n.comInfo-a1c73 .info-d9784 .docs-e5936 {\n  display: flex;\n  color: #777;\n  cursor: pointer;\n}\n.comInfo-a1c73 .info-d9784 .docs-e5936 svg {\n  max-width: 12px;\n  margin-right: 2px;\n}\n.comInfo-a1c73 .desc-f0d3e {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #CCC;\n  font-style: italic;\n}\n.comInfo-a1c73 .desc-f0d3e .id-e9d6d {\n  user-select: text;\n}\n.comInfo-a1c73 .upgrade-f1eb2 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: 5px 0 0 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.comInfo-a1c73 .upgrade-f1eb2 > div {\n  display: flex;\n  align-items: center;\n}\n.comInfo-a1c73 .upgrade-f1eb2 svg {\n  margin-right: 5px;\n}\n.comInfo-a1c73 .upgrade-f1eb2 span {\n  color: #b45708;\n  font-weight: bold;\n}\n.comInfo-a1c73 .upgrade-f1eb2 button {\n  cursor: pointer;\n  padding: 2px 8px;\n  border-radius: 3px;\n  margin: 7px 10px 0 0;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n}\n.comDocs-c06d2 {\n  padding: 40px 20px 10px 20px;\n  overflow: auto;\n}\n.comDocs-c06d2 > * {\n  margin: 10px 0;\n}\n.comDocs-c06d2 .item-c5377 {\n  user-select: text;\n}\n.comDocs-c06d2 .item-c5377 label {\n  font-weight: bold;\n}\n",""]),s.locals={comInfo:"comInfo-a1c73",items:"items-d8d1d",info:"info-d9784",version:"version-fa665",docs:"docs-e5936",desc:"desc-f0d3e",id:"id-e9d6d",upgrade:"upgrade-f1eb2",comDocs:"comDocs-c06d2",item:"item-c5377"};const a=s},30457:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.disable-e1fc3 {\n  pointer-events: none !important;\n}\n.disable-e1fc3:after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #FAFAFA;\n  opacity: 0.6;\n  height: 100%;\n}\n.edt-efbc1 {\n  position: relative;\n  margin-top: 10px;\n}\n.edt-efbc1 select,\n.edt-efbc1 input[type=text] {\n  height: 22px;\n  border: 1px solid #D9D9D9;\n  border-radius: 3px;\n  padding: 0 6px;\n  background: #FFF;\n}\n.edt-efbc1 .tt-c1495 {\n  font-size: 12px;\n  color: #777;\n}\n.edt-efbc1 .content-df9fa {\n  padding-top: 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.edt-efbc1 .content-df9fa .po-e2700 {\n  width: 40px;\n}\n.edt-efbc1 .content-df9fa .po-e2700 label {\n  padding-left: 5px;\n  color: #AAA;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 {\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 label {\n  margin: 0 3px 0 5px;\n  color: #777;\n  width: 16px;\n  text-align: center;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 input {\n  width: 50px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .handler-b02b7 {\n  cursor: pointer;\n  color: #333 !important;\n  position: relative;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .handler-b02b7 > svg {\n  position: absolute;\n  top: -10px;\n  left: 2px;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .attention-caa85 {\n  color: #cc9e02 !important;\n}\n.edt-efbc1 .content-df9fa .options-a03c4 .attention-caa85 > svg path {\n  fill: #cc9e02 !important;\n}\n.edt-efbc1 .aligns-f5de9 {\n  padding: 8px 0px 0px 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.edt-efbc1 .aligns-f5de9 span {\n  cursor: pointer;\n  margin: 0 12px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  padding: 0px 3px;\n}\n.edt-efbc1 .aligns-f5de9 span svg {\n  opacity: 0.5;\n}\n.edt-efbc1 .aligns-f5de9 span:hover {\n  border: 1px solid #FA6400;\n}\n',""]),s.locals={disable:"disable-e1fc3",edt:"edt-efbc1",tt:"tt-c1495",content:"content-df9fa",po:"po-e2700",options:"options-a03c4",handler:"handler-b02b7",attention:"attention-caa85",aligns:"aligns-f5de9"};const a=s},90228:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.disable-d271c {\n  pointer-events: none !important;\n}\n.disable-d271c:after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #FAFAFA;\n  opacity: 0.6;\n  height: 100%;\n}\n.edt-f7a39 {\n  position: relative;\n}\n.item-fe00e {\n  display: flex;\n  flex-direction: row;\n  height: 28px;\n  align-items: center;\n  padding-left: 2px;\n}\n.item-fe00e .tt-e29f8 {\n  font-size: 12px;\n  margin-right: 5px;\n  color: #888;\n}\n.item-fe00e input {\n  width: 110px;\n  padding: 0 5PX;\n  background-color: #FFF;\n  border: 1px solid #DDD;\n  height: 21px;\n  border-radius: 3px;\n}\n.item-fe00e input:disabled {\n  background-color: #EEE;\n}\n.item-fe00e .icons-b9f37 {\n  margin-left: 2px;\n  display: flex;\n}\n.item-fe00e .icons-b9f37 span {\n  width: 24px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 3px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.item-fe00e .icons-b9f37 span:hover {\n  background-color: #DDD;\n}\n.item-fe00e .icons-b9f37 span svg {\n  max-width: 14px;\n}\n.item-fe00e .icons-b9f37 .active-fb3f5 {\n  background-color: #FA6400 !important;\n}\n.item-fe00e .icons-b9f37 .active-fb3f5 svg path {\n  fill: #FFF;\n}\n.item-fe00e .icons-b9f37 .disabled-cc304 {\n  cursor: default !important;\n  background-color: #DDD;\n}\n.item-fe00e .icons-b9f37 .disabled-cc304 svg path {\n  fill: #FFF;\n}\n',""]),s.locals={disable:"disable-d271c",edt:"edt-f7a39",item:"item-fe00e",tt:"tt-e29f8",icons:"icons-b9f37",active:"active-fb3f5",disabled:"disabled-cc304"};const a=s},44202:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.handlerH-cf9ea {\n  width: 7px;\n  height: 7px;\n  border: 1px solid #FA6400;\n  background-color: #FFF;\n  position: absolute;\n  cursor: col-resize;\n  z-index: 10000;\n  box-shadow: 1px 2px 3px 0 #bbb;\n}\n.handlerV-df2aa {\n  width: 7px;\n  height: 7px;\n  border: 1px solid #FA6400;\n  background-color: #FFF;\n  position: absolute;\n  cursor: row-resize;\n  z-index: 10000;\n  box-shadow: 1px 2px 3px 0 #bbb;\n}\n.tip-b1914 {\n  position: absolute;\n  padding: 1px 5px;\n  background-color: #FA6400;\n  color: #FFF;\n  font-weight: bold;\n  z-index: 10000;\n  transform: translate(-50%, 50%);\n  font-size: 10px;\n  border-radius: 3px;\n}\n.tip-b1914 span:first-of-type {\n  padding-right: 3px;\n}\n.tip-b1914 span:last-of-type {\n  padding-left: 3px;\n}\n",""]),s.locals={handlerH:"handlerH-cf9ea",handlerV:"handlerV-df2aa",tip:"tip-b1914"};const a=s},64269:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".bottom-cbc0e .btn-ffa11 {\n  height: 26px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px 10px;\n  color: #555;\n  background-color: #f9f9f9;\n  box-shadow: 0 1px 4px -1px #777;\n}\n",""]),s.locals={bottom:"bottom-cbc0e",btn:"btn-ffa11"};const a=s},58485:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.panel-ffcd3 {\n  position: relative;\n  right: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.panel-ffcd3 .comlibs-d201b {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 5px 0;\n}\n.disabled-a6124 {\n  pointer-events: none;\n}\n.triangle-d9ca1 {\n  background: linear-gradient(-45deg, #333 50%, transparent 50%);\n  border-bottom-right-radius: 2px;\n  width: 8px;\n  height: 8px;\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  cursor: pointer;\n}\n.hoverComGroup-d1847 .comItem-a6548 {\n  background: #e1e4e7 !important;\n  border-color: #616c81 !important;\n}\n",""]),s.locals={panel:"panel-ffcd3",comlibs:"comlibs-d201b",disabled:"disabled-a6124",triangle:"triangle-d9ca1",hoverComGroup:"hoverComGroup-d1847",comItem:"comItem-a6548"};const a=s},65277:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".toolbar-f026d {\n  margin-top: 10px;\n  height: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px 0 15px;\n  overflow: hidden;\n}\n.toolbar-f026d .search-b5531 {\n  border-radius: 3px;\n  border: 1px solid #EEE;\n  height: 27px;\n  flex: 1;\n  padding: 0 5px 0 11px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #FFF;\n}\n.toolbar-f026d .search-b5531 input {\n  flex: 1;\n  height: 100%;\n  padding: 5px;\n  width: 100px;\n}\n.toolbar-f026d .search-b5531 svg {\n  width: 13px;\n}\n.toolbar-f026d .search-b5531 svg path {\n  stroke: #AAA;\n}\n.toolbar-f026d .addLib-aa2d7 {\n  cursor: pointer;\n  color: #999;\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-f026d .addLib-aa2d7:hover {\n  background-color: #DDD;\n}\n.toolbar-f026d .addLib-aa2d7 span {\n  font-size: 18px;\n  padding-bottom: 2px;\n  margin-right: 2px;\n}\n",""]),s.locals={toolbar:"toolbar-f026d",search:"search-b5531",addLib:"addLib-aa2d7"};const a=s},61095:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".withPreview-b7a12 {\n  width: 184px !important;\n  height: 160px !important;\n}\n.withPreview-b7a12 .previewImg-d250c {\n  height: 120px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5px;\n}\n.withPreview-b7a12 .previewImg-d250c > img {\n  max-width: 170px;\n  max-height: 110px;\n}\n.withPreview-b7a12 .title-c313b {\n  margin-top: 5px;\n}\n.mover-ea78e {\n  position: absolute !important;\n  z-index: 10000 !important;\n  opacity: 0 !important;\n  background-color: #e1e4e7 !important;\n  border: 1px solid #616C81 !important;\n  /* pointer-events: none !important; */\n  cursor: crosshair;\n}\n.comItem-a8483 {\n  width: 88px;\n  height: 80px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 4px;\n  color: #5b6b73;\n  border-radius: 4px;\n  overflow: hidden;\n  border: 1px transparent solid;\n  position: relative;\n}\n.comItem-a8483:hover {\n  background: rgba(225, 228, 231, 0.5);\n  border-color: #616C81;\n}\n.comItem-a8483:hover .hover-c47be {\n  display: flex;\n}\n.comItem-a8483 * {\n  pointer-events: none;\n}\n.comItem-a8483 .comIcon-b32d2 {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n}\n.comItem-a8483 .comIcon-b32d2 .comIconFallback-e7e33 {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #eee;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #777;\n}\n.comItem-a8483 .comIcon-b32d2 .img-c32fe,\n.comItem-a8483 .comIcon-b32d2 svg {\n  width: 22px;\n  height: 22px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 100%;\n}\n.comItem-a8483 .title-c313b {\n  width: 100%;\n  font-size: 12px;\n  line-height: 13px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #333;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.comItem-a8483 .management-a049e {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.comItem-a8483 .management-a049e > span {\n  pointer-events: auto;\n  cursor: pointer;\n  display: flex;\n  border-radius: 3px;\n  justify-content: center;\n  align-items: center;\n  padding: 1px 10px 0px 10px;\n  background: #FFF;\n  width: 45px;\n  margin: 7px;\n}\n",""]),s.locals={withPreview:"withPreview-b7a12",previewImg:"previewImg-d250c",title:"title-c313b",mover:"mover-ea78e",comItem:"comItem-a8483",hover:"hover-c47be",comIcon:"comIcon-b32d2",comIconFallback:"comIconFallback-e7e33",img:"img-c32fe",management:"management-a049e"};const a=s},97271:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comlib-dfc72 .header-d9552 {\n  height: 32px;\n  padding-left: 15px;\n  padding-right: 10px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n.comlib-dfc72 .header-d9552 .arrowIcon-a6217 {\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  margin-right: 4px;\n  font-size: 12px;\n  line-height: 12px;\n  text-align: center;\n  color: #8d9ea7;\n}\n.comlib-dfc72 .header-d9552 .expandedIcon-c351b {\n  transform: rotate(90deg);\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a {\n  display: flex;\n  align-items: center;\n  /* justify-content: space-between; */\n  flex: 1;\n  height: 20px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a svg {\n  margin-right: 5px;\n  max-width: 7px;\n  opacity: 0.5;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a .name-cd872 {\n  line-height: 18px;\n  color: #555;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a .version-ca623 {\n  color: #999;\n  font-style: italic;\n  padding-left: 5px;\n  flex: 1;\n  overflow: hidden;\n}\n.comlib-dfc72 .header-d9552 .title-d7a2a:hover .version-ca623 {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552:hover .icons-ee75d {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d {\n  width: 30px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  visibility: hidden;\n  padding-right: 10px;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d > span {\n  height: 18px;\n  padding: 1px;\n  border-radius: 3px;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d > span:hover {\n  background: #DDD;\n}\n.comlib-dfc72 .header-d9552 .icons-ee75d svg {\n  max-width: 14px;\n  cursor: pointer;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 {\n  visibility: visible;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span {\n  background: #999;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span:hover {\n  background: #999;\n}\n.comlib-dfc72 .header-d9552 .visible-e1fc9 > span svg {\n  fill: #FFF;\n}\n.comlib-dfc72 .upgrade-b9e67 {\n  color: #555;\n  font-style: italic;\n  padding: 5px 3px 5px 10px;\n  background-color: #fffbe6;\n  border: 1px solid #ffe58f;\n  cursor: pointer;\n}\n.comlib-dfc72 .body-b506b {\n  overflow: auto;\n  padding: 0 10px;\n}\n.comlib-dfc72 .body-b506b .empty-b040f {\n  color: #BBB;\n  text-align: center;\n  padding: 2px;\n  font-style: italic;\n}\n.comlib-dfc72 .body-b506b .addDefined-d8073 {\n  cursor: pointer;\n  font-size: 20px;\n  font-weight: 200;\n  width: 30px;\n  height: 30px;\n  margin: 20px 20px 20px 35px;\n  padding-bottom: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #ccc;\n  border-radius: 5px;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 {\n  padding: 8px 0 10px 0;\n  width: 100%;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 .comGroupTitle-bf9f6 {\n  color: #AAA;\n  margin-left: 15px;\n}\n.comlib-dfc72 .body-b506b .groupWrap-df8d3 .basicList-b08e8 {\n  margin: 0;\n  padding: 0 2px;\n}\n.comGroupWrap-cfa33 {\n  position: relative;\n}\n.basicList-b08e8 {\n  display: flex;\n  flex-flow: row wrap;\n}\n.basicList-b08e8 .notAllowed-d44a0 {\n  cursor: not-allowed;\n}\n.basicList-b08e8 .notAllowed-d44a0:hover {\n  background: none;\n}\n.basicList-b08e8 .hover-ebea7 {\n  display: none;\n  z-index: 100;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.basicList-b08e8 .hover-ebea7 .icon-dbfed {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 16px;\n  height: 16px;\n  background: #FFF;\n  border-radius: 16px;\n  cursor: pointer;\n}\n.basicList-b08e8 .hover-ebea7 .icon-dbfed path {\n  max-width: 12px;\n}\n",""]),s.locals={comlib:"comlib-dfc72",header:"header-d9552",arrowIcon:"arrowIcon-a6217",expandedIcon:"expandedIcon-c351b",title:"title-d7a2a",name:"name-cd872",version:"version-ca623",icons:"icons-ee75d",visible:"visible-e1fc9",upgrade:"upgrade-b9e67",body:"body-b506b",empty:"empty-b040f",addDefined:"addDefined-d8073",groupWrap:"groupWrap-df8d3",comGroupTitle:"comGroupTitle-bf9f6",basicList:"basicList-b08e8",comGroupWrap:"comGroupWrap-cfa33",notAllowed:"notAllowed-d44a0",hover:"hover-ebea7",icon:"icon-dbfed"};const a=s},14336:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".info-e8ad3 .tt-d0a5d {\n  padding: 5px 0;\n  font-weight: bold;\n}\n.info-e8ad3 .slot-a1391 {\n  margin: 5px;\n  padding: 5px 0 5px 10px;\n  position: relative;\n}\n.info-e8ad3 .slot-a1391 .borders-d946b {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2,\n.info-e8ad3 .slot-a1391 .slotR-b6ca0,\n.info-e8ad3 .slot-a1391 .slotB-d1aea,\n.info-e8ad3 .slot-a1391 .slotL-c3dba {\n  position: absolute;\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, #ffffff 1px, rgba(0, 0, 0, 0.1) 3px);\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2,\n.info-e8ad3 .slot-a1391 .slotB-d1aea {\n  left: 0;\n  height: 3px;\n  width: 100%;\n}\n.info-e8ad3 .slot-a1391 .slotL-c3dba,\n.info-e8ad3 .slot-a1391 .slotR-b6ca0 {\n  top: 0;\n  width: 3px;\n  height: 100%;\n}\n.info-e8ad3 .slot-a1391 .slotT-f89d2 {\n  top: 0;\n}\n.info-e8ad3 .slot-a1391 .slotR-b6ca0 {\n  right: 0;\n}\n.info-e8ad3 .slot-a1391 .slotB-d1aea {\n  bottom: 0;\n}\n.info-e8ad3 .slot-a1391 .slotL-c3dba {\n  left: 0;\n}\n.info-e8ad3 .empty-a9da6 {\n  color: #AAA;\n  font-style: italic;\n  padding: 5px 0 0 15px;\n}\n",""]),s.locals={info:"info-e8ad3",tt:"tt-d0a5d",slot:"slot-a1391",borders:"borders-d946b",slotT:"slotT-f89d2",slotR:"slotR-b6ca0",slotB:"slotB-d1aea",slotL:"slotL-c3dba",empty:"empty-a9da6"};const a=s},76087:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.dragging-a5805 {\n  pointer-events: none;\n}\n.view-e81c0 {\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n.view-e81c0 .body-b03dc {\n  overflow: auto;\n  flex-direction: column;\n  padding-top: 5px;\n  padding-left: 5px;\n  flex: 1;\n}\n.view-e81c0 .zonePops-c41a5,\n.view-e81c0 .zoneAbsolute-cfabd {\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n  border-bottom: 1px dashed #CCC;\n}\n.view-e81c0 .zonePops-c41a5:empty,\n.view-e81c0 .zoneAbsolute-cfabd:empty {\n  display: none;\n}\n.view-e81c0 .items-fdcd9 {\n  min-width: fit-content;\n  margin-left: 20px;\n  position: relative;\n}\n.view-e81c0 .items-fdcd9:first-of-type {\n  margin-left: 0;\n}\n.view-e81c0 .items-fdcd9 .popup-e1eaf {\n  margin: 10px 5px 15px 0;\n  padding: 5px;\n  box-shadow: 0 0 5px #ccc;\n  background: #fafafa;\n  width: fit-content;\n}\n.view-e81c0 .items-fdcd9 .item-fd690 {\n  width: fit-content;\n  min-width: 180px;\n  height: 26px;\n  display: flex;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 3px;\n  align-items: center;\n  padding: 0 5px 0 8px;\n  justify-content: flex-start;\n  border: 1px solid transparent;\n}\n.view-e81c0 .items-fdcd9 .item-fd690:hover {\n  background-color: #E5E5E5;\n  z-index: 1;\n  position: relative;\n}\n.view-e81c0 .items-fdcd9 .item-fd690 > .items-fdcd9 {\n  width: auto !important;\n}\n.view-e81c0 .items-fdcd9 .error-fccd7 {\n  border: 1px dashed red;\n  color: red;\n  font-style: italic;\n}\n.view-e81c0 .items-fdcd9 .slot-e2ffd:hover {\n  outline-offset: -1px;\n  outline: 1px dashed #DDD;\n}\n.view-e81c0 .items-fdcd9 .placeholder-c7c27 {\n  background-color: #EEE;\n}\n.view-e81c0 .items-fdcd9 .active-da2d8 {\n  border-color: #FA6400 !important;\n  background-color: #FFF !important;\n}\n.view-e81c0 .items-fdcd9 .extented-a5f03 .comName-c7e73 {\n  color: #efc358;\n}\n.view-e81c0 .items-fdcd9 .extented-a5f03 .comName-c7e73 span {\n  color: #AAA;\n  padding-left: 5px;\n  font-style: italic !important;\n}\n.view-e81c0 .items-fdcd9 .module-d07e6 .comName-c7e73 {\n  color: #ea8e51;\n}\n.view-e81c0 .items-fdcd9 .module-d07e6 .comName-c7e73 span {\n  color: #AAA;\n  padding-left: 5px;\n  font-style: italic !important;\n}\n.view-e81c0 .items-fdcd9 .hidden-e7f23 .comIcon-aabb5,\n.view-e81c0 .items-fdcd9 .hidden-e7f23 .comName-c7e73 {\n  opacity: 0.3;\n}\n.view-e81c0 .items-fdcd9 .noUI-d1746 .comName-c7e73 {\n  color: #c1a049;\n  font-style: italic !important;\n}\n.view-e81c0 .items-fdcd9 .noMovable-c9bf9 {\n  cursor: no-drop;\n}\n.view-e81c0 .items-fdcd9 .comIcon-aabb5 {\n  max-width: 14px;\n  max-height: 14px;\n  margin-right: 3px;\n  width: 14px;\n  height: 14px;\n  background-repeat: no-repeat !important;\n  background-position: center center !important;\n  background-size: 100% !important;\n}\n.view-e81c0 .items-fdcd9 .comItemContent-d2d1c {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.view-e81c0 .items-fdcd9 .comItemContent-d2d1c .noDef-d3a5f {\n  color: red;\n  font-style: italic;\n  width: fit-content;\n}\n.view-e81c0 .items-fdcd9 .comItemContent-d2d1c .icons-c82a3 {\n  margin-left: 5px;\n  display: flex;\n  align-items: center;\n}\n.view-e81c0 .items-fdcd9 .comItemContent-d2d1c .icons-c82a3 span {\n  padding: 0 2px;\n  display: flex;\n}\n.view-e81c0 .items-fdcd9 .comItemContent-d2d1c .icons-c82a3 span svg {\n  opacity: 0.8;\n  max-width: 12px;\n}\n.view-e81c0 .items-fdcd9 .comName-c7e73 {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n}\n.view-e81c0 .items-fdcd9 .comName-c7e73 > span {\n  margin-left: 3px;\n}\n.view-e81c0 .items-fdcd9 .comName-c7e73 > span svg {\n  max-width: 7px;\n}\n.view-e81c0 .items-fdcd9 .slotName-db4ba {\n  color: #AAA;\n  font-style: italic;\n}\n.view-e81c0 .items-fdcd9 .comInfo-d75b6 {\n  padding-left: 8px;\n  width: max-content;\n  white-space: normal;\n}\n.view-e81c0 .items-fdcd9 .upgrade-cfe80 {\n  white-space: nowrap;\n  color: #FA6400;\n  position: relative;\n}\n.view-e81c0 .items-fdcd9 .upgrade-cfe80 .tip-f66ad {\n  content: '';\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: -6px;\n  right: 3px;\n}\n.view-e81c0 .items-fdcd9 .upgrade-cfe80 .btn-dbc27 {\n  cursor: pointer;\n  padding: 0px 5px;\n  font-weight: 500;\n  border: 1px solid;\n  pointer-events: visible;\n  background-color: #fff;\n}\n.view-e81c0 .slots-fdb4d {\n  margin-left: 26px;\n}\n.view-e81c0 .slots-fdb4d:before {\n  content: '';\n  border-left: 1px solid #DDD;\n  position: absolute;\n  height: 100%;\n  left: -12px;\n  top: -8px;\n}\n.empty-c08a1 {\n  height: 100%;\n  display: flex;\n  color: #AAA;\n  font-style: italic;\n  align-items: center;\n  justify-content: center;\n}\n.icon-de8f5 {\n  display: flex;\n  min-width: 12px;\n  align-items: center;\n  margin-right: 2px;\n  color: #555;\n}\n.icon-de8f5 > * {\n  width: 10px;\n  opacity: 0.8;\n}\n.iconHidden-a11aa {\n  visibility: hidden;\n  display: none;\n}\n",""]),s.locals={dragging:"dragging-a5805",view:"view-e81c0",body:"body-b03dc",zonePops:"zonePops-c41a5",zoneAbsolute:"zoneAbsolute-cfabd",items:"items-fdcd9",popup:"popup-e1eaf",item:"item-fd690",error:"error-fccd7",slot:"slot-e2ffd",placeholder:"placeholder-c7c27",active:"active-da2d8",extented:"extented-a5f03",comName:"comName-c7e73",module:"module-d07e6",hidden:"hidden-e7f23",comIcon:"comIcon-aabb5",noUI:"noUI-d1746",noMovable:"noMovable-c9bf9",comItemContent:"comItemContent-d2d1c",noDef:"noDef-d3a5f",icons:"icons-c82a3",slotName:"slotName-db4ba",comInfo:"comInfo-d75b6",upgrade:"upgrade-cfe80",tip:"tip-f66ad",btn:"btn-dbc27",slots:"slots-fdb4d",empty:"empty-c08a1",icon:"icon-de8f5",iconHidden:"iconHidden-a11aa"};const a=s},82410:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.placeholder-b2bbd {\n  z-index: 100;\n  position: fixed;\n  background-color: #FA6400;\n  height: 3px;\n  width: 180px;\n}\n.coverSlot-ef7fc {\n  height: 22px;\n  opacity: 0.3;\n}\n",""]),s.locals={placeholder:"placeholder-b2bbd",coverSlot:"coverSlot-ef7fc"};const a=s},46966:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".errorRT-aa778 {\n  padding: 5px;\n}\n.errorRT-aa778 .tt-e6028 {\n  font-size: 12px;\n  color: #f5222d;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.errorRT-aa778 .info-d9394 {\n  color: #f5222d;\n  margin-bottom: 5px;\n}\n",""]),s.locals={errorRT:"errorRT-aa778",tt:"tt-e6028",info:"info-d9394"};const a=s},83296:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.btnGroup-cd054 {\n  width: 36px;\n  background: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-shadow: 0px 1px 4px 2px rgba(39, 54, 78, 0.15);\n  z-index: 10000;\n}\n.btnGroup-cd054:not(:first-child) {\n  margin-top: 15px;\n}\n.btnGroup-cd054 button {\n  height: 25px;\n  padding: 0;\n  cursor: pointer;\n  font-size: 14px;\n  overflow: hidden;\n}\n.toolbar-a167f {\n  position: absolute;\n  z-index: 10000;\n  top: 22px;\n  right: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.toolbar-a167f .icon-b4538 {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-a167f .icon-b4538 span {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-a167f .icon-b4538 svg {\n  max-width: 18px;\n}\n.toolbar-a167f .icon-b4538 svg path {\n  fill: #FA6400;\n  stroke: #FFF !important;\n}\n.toolbar-a167f .debug-fc790 {\n  background: #FA6400;\n  color: #FFF;\n  font-weight: bold;\n  position: relative;\n}\n.toolbar-a167f .debug-fc790 svg path {\n  fill: #FFF;\n}\n.toolbar-a167f .debug-fc790 span:first-child {\n  top: 13px;\n  left: 14px;\n  width: 8px;\n  height: 9px;\n  overflow: hidden;\n}\n.toolbar-a167f .debug-fc790 span:first-child svg {\n  max-width: 20px;\n  position: absolute;\n  left: -6px;\n  top: -12px;\n}\n.toolbar-a167f .debug-fc790 span:last-child {\n  animation: rot-a8870 2s linear infinite;\n}\n.toolbar-a167f .debug-fc790 span:last-child svg {\n  max-width: 22px;\n}\n.toolbar-a167f .tab-dbebf {\n  cursor: pointer;\n  position: relative;\n  height: 34px;\n}\n.toolbar-a167f .tab-dbebf span {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.toolbar-a167f .tab-dbebf svg {\n  max-width: 18px;\n}\n.toolbar-a167f .tab-dbebf svg path {\n  fill: #777;\n}\n.toolbar-a167f .active-f24e8 {\n  background: #616C81 !important;\n  font-weight: bold;\n}\n.toolbar-a167f .active-f24e8 svg path {\n  fill: #fff;\n}\n@keyframes rot-a8870 {\n  0% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(90deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  75% {\n    transform: rotate(270deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),s.locals={btnGroup:"btnGroup-cd054",toolbar:"toolbar-a167f",icon:"icon-b4538",debug:"debug-fc790",rot:"rot-a8870",tab:"tab-dbebf",active:"active-f24e8"};const a=s},83283:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.toplView-fe3d6 {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: #F9F9F9;\n}\n.toplView-fe3d6 .loading-ec8fe {\n  text-align: center;\n  margin: auto;\n  color: #999;\n}\n",""]),s.locals={toplView:"toplView-fe3d6",loading:"loading-ec8fe"};const a=s},73740:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".cfgs-ccc67 {\n  margin: 15px 0;\n}\n.cfgs-ccc67 .item-dad5f {\n  margin: 10px 5px 5px 5px;\n  display: flex;\n  align-items: center;\n}\n.cfgs-ccc67 .item-dad5f input[type='checkbox'] {\n  appearance: checkbox;\n  margin-right: 5px;\n}\n",""]),s.locals={cfgs:"cfgs-ccc67",item:"item-dad5f"};const a=s},47751:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.main-f8989 .title-f4909 {\n  display: flex;\n  flex-direction: row;\n  margin: 5px;\n  align-items: center;\n  cursor: pointer;\n}\n.main-f8989 .title-f4909:hover i {\n  background-color: #FA6400;\n  border-color: #FA6400;\n}\n.main-f8989 .title-f4909:hover span {\n  color: #FA6400;\n}\n.main-f8989 .title-f4909 i {\n  border: 1px solid transparent;\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  margin-right: 5px;\n}\n.main-f8989 .title-f4909 .tt-f018a {\n  color: #333;\n}\n.main-f8989 .type-df46c {\n  padding-left: 12px;\n  margin-bottom: 10px;\n}\n.main-f8989 .type-df46c .desc-b304c {\n  display: flex;\n  justify-content: space-between;\n}\n.main-f8989 .type-df46c .desc-b304c .prop-c8b05 {\n  color: #333;\n  margin-right: 5px;\n  margin-left: 10px;\n}\n.main-f8989 .type-df46c .desc-b304c .label-ae3a6 {\n  color: #AAA;\n}\n.main-f8989 .type-df46c .schema-baad8 {\n  padding-left: 40px;\n  margin-top: -23px;\n}\n.main-f8989 .exeVal-a9f9a {\n  display: flex;\n  flex-direction: column;\n  padding-left: 22px;\n}\n.main-f8989 .exeVal-a9f9a span {\n  color: #555;\n}\n.main-f8989 .exeVal-a9f9a textarea {\n  min-height: 100px;\n  background: #fff;\n  padding: 5px;\n  border: 1px solid #EEE;\n}\n.config-a40e7 .item-ebbc1 i {\n  background-color: #FFF;\n}\n.input-b2311 .item-ebbc1 i {\n  background-color: #FFF;\n}\n.output-ff943 .item-ebbc1 i {\n  background-color: #CCC;\n}\n.empty-ebd62 {\n  padding: 2px 15px;\n  color: #AAA;\n  font-style: italic;\n}\n",""]),s.locals={main:"main-f8989",title:"title-f4909",tt:"tt-f018a",type:"type-df46c",desc:"desc-b304c",prop:"prop-c8b05",label:"label-ae3a6",schema:"schema-baad8",exeVal:"exeVal-a9f9a",config:"config-a40e7",item:"item-ebbc1",input:"input-b2311",output:"output-ff943",empty:"empty-ebd62"};const a=s},10977:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".comInfo-b1a40 {\n  margin-bottom: -10px;\n}\n.comInfo-b1a40 .items-e991b {\n  cursor: text;\n  user-select: text;\n}\n.comInfo-b1a40 .items-e991b:first-child {\n  padding-bottom: 5px;\n}\n.comInfo-b1a40 .author-b58d3 {\n  color: #999;\n  font-style: italic;\n}\n.comInfo-b1a40 .version-b9b35 {\n  margin-left: 10px;\n  color: #999;\n  font-style: italic;\n}\n.comInfo-b1a40 .upgrade-a30f2 {\n  display: flex;\n  flex-direction: column;\n  background: #fcfae7;\n  padding: 5px 10px;\n  margin: 5px 0 0 0;\n  border: 1px solid #cccca9;\n  border-radius: 5px;\n}\n.comInfo-b1a40 .upgrade-a30f2 > div {\n  display: flex;\n  align-items: center;\n}\n.comInfo-b1a40 .upgrade-a30f2 svg {\n  margin-right: 5px;\n}\n.comInfo-b1a40 .upgrade-a30f2 span {\n  color: #b45708;\n  font-weight: bold;\n}\n.comInfo-b1a40 .upgrade-a30f2 button {\n  cursor: pointer;\n  padding: 2px 8px;\n  border-radius: 3px;\n  margin: 7px 10px 0 0;\n  background-color: #FFF;\n  border: 1px solid #CCC;\n  color: #333;\n}\n",""]),s.locals={comInfo:"comInfo-b1a40",items:"items-e991b",author:"author-b58d3",version:"version-b9b35",upgrade:"upgrade-a30f2"};const a=s},15472:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.comments-c53d4 {\n  width: 100%;\n  height: 100%;\n}\n.comments-c53d4 > div {\n  background-color: #fff;\n  pointer-events: auto !important;\n  position: absolute;\n  border: 1px solid transparent;\n  padding: 1px;\n  color: #999;\n  font-style: italic;\n}\n.comments-c53d4 .commentFocus-f03d7 {\n  background-color: #fff;\n  border-color: #FA6400;\n}\n",""]),s.locals={comments:"comments-c53d4",commentFocus:"commentFocus-f03d7"};const a=s},21074:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.schema-cde21 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.schema-cde21 .btnEdit-f7570 {\n  height: 20px;\n  border-radius: 3px;\n  background: #FFF;\n  padding: 2px 8px 0 8px;\n  cursor: pointer;\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.schema-cde21 .btnCopy-eeef9 {\n  visibility: hidden;\n  height: 20px;\n  border-radius: 3px;\n  background: #FFF;\n  padding: 2px 8px 0 8px;\n  cursor: pointer;\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-shadow: 0 1px 4px -1px #777;\n}\n.schema-cde21:hover .keyName-bd434 button {\n  display: block !important;\n}\n.schema-cde21:hover .btnCopy-eeef9 {\n  visibility: visible;\n}\n.schema-cde21 .item-cb1f2 {\n  margin-left: 10px;\n  padding: 0 5px 0 15px;\n  position: relative;\n}\n.schema-cde21 .item-cb1f2:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2:last-child:before {\n  left: 0;\n  top: 0;\n  height: 15px;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  white-space: nowrap;\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #DDD;\n  content: '';\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 .typeName-e93b8 {\n  font-style: italic;\n  color: #777;\n  padding-left: 3px;\n}\n.schema-cde21 .item-cb1f2 .keyName-bd434 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 2px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.schema-cde21 .rootItem-ff9ed {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.schema-cde21 .rootItem-ff9ed:before {\n  border-left-width: 0 !important;\n}\n.schema-cde21 .rootItem-ff9ed > .keyName-bd434:before {\n  border-bottom-width: 0 !important;\n}\n",""]),s.locals={schema:"schema-cde21",btnEdit:"btnEdit-f7570",btnCopy:"btnCopy-eeef9",keyName:"keyName-bd434",item:"item-cb1f2",typeName:"typeName-e93b8",rootItem:"rootItem-ff9ed"};const a=s},64581:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-ea9cc {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-size: 12px;\n  position: relative;\n}\n.editor-ea9cc .toolbar-ef348 {\n  height: 42px;\n  background: #FAFAFA;\n  margin-bottom: -1px;\n  position: relative;\n  text-align: right;\n  padding: 10px;\n  border-bottom: 1px solid #EEE;\n}\n.editor-ea9cc .toolbar-ef348 button {\n  background: #FA6400;\n  color: #FFF;\n  font-weight: bold;\n  padding: 1px 8px;\n  border-radius: 3px;\n  height: 22px;\n  cursor: pointer;\n}\n.editor-ea9cc .toolbar-ef348 button:disabled {\n  background: #F7F7F7;\n  color: #AAA;\n}\n.editor-ea9cc .toolbar-ef348 .code-fab6c {\n  z-index: 100;\n  position: absolute;\n  top: 60px;\n  right: 9px;\n  cursor: pointer;\n  width: 40px;\n  height: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n}\n.editor-ea9cc .toolbar-ef348 .focus-c5f76 {\n  background-color: #AAA;\n}\n.editor-ea9cc .toolbar-ef348 .focus-c5f76 path {\n  fill: #FFF;\n}\n.editor-ea9cc .jsonEditor-da29a {\n  padding: 5px;\n  border: 1px solid #EEE;\n  border-radius: 3px;\n  position: absolute;\n  top: 19px;\n  left: 20px;\n  right: 58px;\n  bottom: 20px;\n}\n.editor-ea9cc .schema-a76d7 {\n  flex: 1;\n  position: relative;\n  overflow: auto;\n  padding: 10px 10px 10px 20px;\n}\n.editor-ea9cc .schema-a76d7:hover .keyName-be405 button {\n  display: block !important;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae {\n  margin-left: 10px;\n  padding: 3px 5px 3px 15px;\n  position: relative;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae:last-child:before {\n  left: 0;\n  top: 0;\n  height: 18px;\n  border-left: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  white-space: nowrap;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 input[type='text'] {\n  border: 1px solid #DDD;\n  padding: 3px 8px;\n  width: 120px;\n  margin-left: 5px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .errInput-fc193 {\n  border-color: red !important;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 select {\n  padding: 2px 5px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .typeName-c50c6 {\n  font-style: italic;\n  color: #777;\n  padding-left: 3px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .btnIcon-cff65 {\n  padding: 3px 0 0 5px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .btnIcon-cff65 svg {\n  height: 12px;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 3px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.editor-ea9cc .schema-a76d7 .item-cf2ae .keyName-be405 .err-d58eb {\n  position: absolute;\n  color: red;\n  top: 25px;\n  left: 2px;\n  font-size: 10px;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7:before {\n  border-left-width: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 > .keyName-be405:before {\n  border-bottom-width: 0 !important;\n}\n.editor-ea9cc .schema-a76d7 .rootItem-c95b7 > .keyName-be405 .btnIcon-cff65 {\n  display: none !important;\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09 {\n  color: #999;\n  margin-left: 30px;\n  position: relative;\n  cursor: pointer;\n  font-size: 16px;\n  width: 20px;\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09:before {\n  position: absolute;\n  left: -20px;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #aaa;\n  height: 12px;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .adder-eae09:after {\n  position: absolute;\n  left: -20px;\n  width: 12px;\n  top: 12px;\n  border-bottom: 1px solid #aaa;\n  content: '';\n}\n.editor-ea9cc .schema-a76d7 .disAdder-c7597 {\n  color: #AAA;\n}\n.editor-ea9cc .desc-d3b6a {\n  height: 130px;\n  padding: 10px 15px;\n  color: #999;\n  background: #FAFAFA;\n  border-top: 1px solid #EEE;\n}\n.editor-ea9cc .desc-d3b6a p {\n  font-style: italic;\n  padding: 0 0 5px 0;\n  margin: 0;\n}\n",""]),s.locals={editor:"editor-ea9cc",toolbar:"toolbar-ef348",code:"code-fab6c",focus:"focus-c5f76",jsonEditor:"jsonEditor-da29a",schema:"schema-a76d7",keyName:"keyName-be405",item:"item-cf2ae",errInput:"errInput-fc193",typeName:"typeName-c50c6",btnIcon:"btnIcon-cff65",err:"err-d58eb",rootItem:"rootItem-c95b7",adder:"adder-eae09",disAdder:"disAdder-c7597",desc:"desc-d3b6a"};const a=s},39419:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.returnParams-f4023 {\n  position: relative;\n  padding: 5px;\n}\n.returnParams-f4023:hover .keyName-a70f2 button {\n  display: block !important;\n}\n.returnParams-f4023 .toolbar-cf3ec {\n  display: flex;\n  align-items: center;\n}\n.returnParams-f4023 .toolbar-cf3ec span {\n  margin-right: 12px;\n}\n.returnParams-f4023 .toolbar-cf3ec label {\n  color: #999;\n  font-size: 10px;\n  font-style: italic;\n}\n.returnParams-f4023 .toolbar-cf3ec button {\n  margin-left: 5px;\n  /* padding: 1px 5px; */\n  /* background-color: #FFF; */\n  /* border: 1px solid #DDD; */\n  /* border-radius: 3px; */\n  font-size: 14px;\n  height: 15px;\n  padding: 0 5px 10px 5px;\n  cursor: pointer;\n}\n.returnParams-f4023 .item-b60cf {\n  margin-left: 10px;\n  padding: 0 5px 0 15px;\n  position: relative;\n}\n.returnParams-f4023 .item-b60cf:before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf:last-child:before {\n  left: 0;\n  top: 0;\n  height: 15px;\n  border-left: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 28px;\n  width: fit-content;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2:before {\n  position: absolute;\n  left: -14px;\n  width: 12px;\n  top: 14px;\n  border-bottom: 1px solid #DDD;\n  content: '';\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 {\n  display: flex;\n  align-items: center;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n  background-color: #FFF;\n  margin-left: 8px;\n  padding: 0 5px 0 0;\n  width: 100px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 input {\n  width: 50px;\n  padding: 1px 5px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 .value-fbf16 .typeName-b3f86 {\n  white-space: nowrap;\n  font-style: italic;\n  color: #AAA;\n  padding-left: 3px;\n  font-size: 10px;\n}\n.returnParams-f4023 .item-b60cf .keyName-a70f2 button {\n  display: none;\n  margin: 0 0 0 5px;\n  padding: 3px 5px;\n  width: 30px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.returnParams-f4023 .rootItem-f6b4b {\n  margin-left: 0 !important;\n  padding-left: 0 !important;\n}\n.returnParams-f4023 .rootItem-f6b4b:before {\n  border-left-width: 0 !important;\n}\n.returnParams-f4023 .rootItem-f6b4b > .keyName-a70f2:before {\n  display: none;\n  border-bottom-width: 0 !important;\n}\n.null-f8585 {\n  display: flex;\n  align-items: center;\n  color: #AAA;\n  padding: 10px;\n  font-style: italic;\n}\n",""]),s.locals={returnParams:"returnParams-f4023",keyName:"keyName-a70f2",toolbar:"toolbar-cf3ec",item:"item-b60cf",value:"value-fbf16",typeName:"typeName-b3f86",rootItem:"rootItem-f6b4b",null:"null-f8585"};const a=s},49458:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.editor-c8acc {\n  background-color: #FFF;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex: 1;\n  cursor: pointer;\n  font-style: italic;\n  color: #AAA;\n  overflow: hidden;\n  height: 30px;\n  padding: 0 10px;\n}\n.editor-c8acc span {\n  display: inline-block;\n}\n.editor-c8acc span:first-child {\n  width: 60px;\n}\n.editor-c8acc .tt-a94d9 {\n  overflow: hidden;\n  color: #333;\n  font-style: normal;\n  padding-left: 2px;\n  word-wrap: break-word;\n}\n.editor-c8acc .type-f0c5f {\n  color: #AAA;\n  font-style: italic;\n  margin-left: auto;\n  padding-top: 5px;\n  width: 18px;\n}\n.editor-c8acc .type-f0c5f svg {\n  max-width: 16px;\n}\n.editor-c8acc .btns-adf80 .disable-fc52c {\n  color: #AAA;\n  pointer-events: none;\n}\n.editor-c8acc .btns-adf80 .test-b3221 {\n  width: fit-content;\n  padding: 3px 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #DDD;\n  border-radius: 3px;\n}\n.editor-c8acc .btns-adf80 .test-b3221 span {\n  width: 8px;\n  height: 8px;\n  border-radius: 100%;\n  margin-right: 5px;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .normal-d9f3f {\n  background-color: #AAA;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .passed-d48d6 {\n  background-color: green;\n}\n.editor-c8acc .btns-adf80 .test-b3221 .failed-c1ba0 {\n  background-color: red;\n}\n.pageList-c9070 {\n  padding: 10px;\n  padding-top: 45px;\n}\n.pageList-c9070 .page-ea338 {\n  cursor: pointer;\n  padding: 12px 5px 12px 0px;\n  border-radius: 5px;\n  margin: 3px 0;\n  display: flex;\n  background-color: #FAFAFA;\n}\n.pageList-c9070 .page-ea338:hover {\n  background-color: #F5F5F5;\n}\n.pageList-c9070 .page-ea338 .icon-f2ba7 {\n  width: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pageList-c9070 .page-ea338 .icon-f2ba7 svg {\n  max-width: 16px;\n  max-height: 16px;\n}\n.pageList-c9070 .page-ea338 .title-b178b {\n  display: flex;\n  flex-direction: column;\n}\n.pageList-c9070 .page-ea338 .title-b178b .time-b9a34 {\n  color: #AAA;\n  margin-top: 5px;\n}\n.pageList-c9070 .focus-bb4c1 {\n  outline: 1px solid #FA6400;\n}\n",""]),s.locals={editor:"editor-c8acc",tt:"tt-a94d9",type:"type-f0c5f",btns:"btns-adf80",disable:"disable-fc52c",test:"test-b3221",normal:"normal-d9f3f",passed:"passed-d48d6",failed:"failed-c1ba0",pageList:"pageList-c9070",page:"page-ea338",icon:"icon-f2ba7",title:"title-b178b",time:"time-b9a34",focus:"focus-bb4c1"};const a=s},83634:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.text-f0394 {\n  position: absolute;\n  z-index: 1000;\n}\n.text-f0394 textarea {\n  border: 1px solid #DDD;\n  width: 200px;\n  height: 100px;\n  background-color: #FFF;\n  padding: 5px;\n}\n",""]),s.locals={text:"text-f0394"};const a=s},10465:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.view-a58b6 {\n  display: flex;\n  flex-direction: column;\n}\n.view-a58b6 .toolbar-a0b35 {\n  height: 45px;\n  display: flex;\n  justify-content: flex-end;\n  padding-right: 20px;\n}\n.view-a58b6 .toolbar-a0b35 .adder-ee2f3 {\n  font-size: 22px;\n  font-weight: 300;\n  cursor: pointer;\n}\n.view-a58b6 .content-a20e9 {\n  flex: 1;\n}\n.view-a58b6 .content-a20e9 .card-bcffc {\n  cursor: pointer;\n  display: flex;\n  height: 30px;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #DDD;\n  background-color: #f7f1ee;\n  border-radius: 3px;\n  margin: 10px;\n}\n.view-a58b6 .content-a20e9 .card-bcffc:hover {\n  border-color: #FA6400;\n}\n.view-a58b6 .content-a20e9 .adder-ee2f3 {\n  cursor: pointer;\n  display: flex;\n  height: 30px;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #eee;\n  background: #F9F9F9;\n  border-radius: 3px;\n  margin: 0 10px;\n  color: #777;\n}\n.view-a58b6 .content-a20e9 .adder-ee2f3 span {\n  font-size: 20px;\n  font-weight: 300;\n  /* height: 22px; */\n  padding-bottom: 5px;\n  margin-right: 5px;\n}\n",""]),s.locals={view:"view-a58b6",toolbar:"toolbar-a0b35",adder:"adder-ee2f3",content:"content-a20e9",card:"card-bcffc"};const a=s},96986:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,".info-e6b61 .tt-bf246 {\n  padding: 5px 0;\n  font-weight: bold;\n}\n.info-e6b61 .slot-dded9 {\n  margin: 5px;\n  padding: 5px 0 5px 10px;\n  position: relative;\n}\n.info-e6b61 .empty-f1ead {\n  color: #AAA;\n  font-style: italic;\n}\n",""]),s.locals={info:"info-e6b61",tt:"tt-bf246",slot:"slot-dded9",empty:"empty-f1ead"};const a=s},17831:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-d19d5 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-ffb0b {\n  display: flex;\n  flex-direction: row;\n  align-content: flex-start;\n}\n.justifyContentFlexStart-b0bf6 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-e8b27 {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-a088d {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-e7883 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-adac3 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-ee88b {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-dd506 {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-beebb {\n  align-items: flex-end;\n}\n.mover-b4ed8 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 10px);\n}\n.slotHover-fabba .mover-b4ed8 {\n  display: block;\n}\n.artboard-c1af2 {\n  position: relative;\n  z-index: 1;\n  box-shadow: 0 1px 8px #aaa;\n  transform: scale(1);\n  min-width: 10px;\n  min-height: 10px;\n}\n.artboard-c1af2 * {\n  transition: none !important;\n}\n.artboard-c1af2:not(:first-child) {\n  margin-left: 100px;\n}\n.artboard-c1af2 .heightFitContent-f987c {\n  height: 10px;\n  position: absolute;\n  left: 0;\n  bottom: -18px;\n  width: 100px;\n}\n.artboard-c1af2 .heightFitContent-f987c:after {\n  content: '高度 (适应内容)';\n  font-style: italic;\n  color: #AAA;\n  text-shadow: -1px 1px 1px #eee;\n}\n.artboard-c1af2 > .com-stub-ce319 {\n  border: 1px dashed #FA6400;\n}\n.artboard-c1af2 > .comResizer-d063a {\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  right: 3px;\n  bottom: 3px;\n  cursor: nwse-resize;\n  border-right: 2px solid #999;\n  border-bottom: 2px solid #999;\n  display: none;\n}\n.artboard-c1af2 .comResizerB-a9f70 {\n  position: absolute;\n  left: 0px;\n  right: 10px;\n  bottom: -5px;\n  height: 10px;\n  cursor: ns-resize;\n}\n.artboard-c1af2 .comResizerR-a74d7 {\n  position: absolute;\n  right: -5px;\n  top: 0px;\n  bottom: 10px;\n  width: 10px;\n  cursor: ew-resize;\n}\n.artboard-c1af2 .selectZone-ca6ea {\n  position: absolute;\n  border: 1px dashed #ccc;\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.boardTitle-f8ea2 {\n  position: absolute;\n  top: -25px;\n  height: 25px;\n  padding-top: 3px;\n  font-size: 12px;\n  color: #999;\n  cursor: pointer;\n  min-width: 100%;\n  width: fit-content;\n  display: flex;\n  text-shadow: -1px 1px 1px #eee;\n}\n.boardTitle-f8ea2 .icon-b45fd {\n  height: 16px;\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n}\n.boardTitle-f8ea2 .icon-b45fd svg {\n  max-width: 16px !important;\n}\n.boardTitle-f8ea2 .icon-b45fd svg path {\n  fill: #AAA;\n}\n.boardTitle-f8ea2 .tt-eb750 {\n  font-weight: bold;\n  padding: 0 10px 0 5px;\n  font-style: normal;\n  opacity: 1;\n}\n.boardTitle-f8ea2 > span {\n  font-style: italic;\n  white-space: nowrap;\n}\n.boardTitle-f8ea2 .moving-cd955 {\n  font-size: 20px;\n  color: #FA6400;\n}\n.boardTitle-f8ea2:hover .close-cb1b9 {\n  visibility: visible;\n}\n.boardTitle-f8ea2 .close-cb1b9 {\n  font-size: 12px;\n  align-items: flex-end;\n  font-style: normal;\n  font-weight: bold;\n  margin-left: 10px;\n  visibility: hidden;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg {\n  max-width: 16px;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg path {\n  fill: #AAA;\n}\n.boardTitle-f8ea2 .close-cb1b9 svg:hover path {\n  fill: #FA6400;\n}\n.hidden-c4194 {\n  visibility: hidden;\n}\n.selection-fdd4f {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.now-b6d6f {\n  outline: 4px solid #d3c9bb !important;\n  z-index: 10000;\n}\n.now-b6d6f .boardTitle-f8ea2 .icon-b45fd svg path {\n  fill: #FA6400;\n}\n.now-b6d6f .boardTitle-f8ea2 .tt-eb750 {\n  color: #FA6400;\n}\n.focus-f0489 {\n  outline: 4px solid #CCC;\n}\n.zoomViewFlow-a649e {\n  position: relative;\n}\n.empty-ef224 {\n  pointer-events: none;\n  width: 100%;\n  height: 100%;\n  min-height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #AAA;\n  font-style: italic;\n  position: absolute;\n}\n.debugCanvas-c2434 {\n  box-shadow: 0 2px 6px #AAA;\n  position: absolute;\n  transform: scale(1);\n  z-index: 1000;\n}\n.debugCanvas-c2434 .layer-a0bdb {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  left: 0;\n  top: 0;\n}\n.debugCanvas-c2434 .openLayer-d9e7b {\n  position: absolute !important;\n  animation: slipInto-a8192 0.1s ease-in-out 1;\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 {\n  position: absolute;\n  z-index: 10000;\n  left: 0;\n  top: 0;\n  bottom: 300px;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 > div {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0);\n}\n.debugCanvas-c2434 .canvasElement-a2ce6 > div > * > * {\n  pointer-events: auto !important;\n}\n@keyframes slipInto-a8192 {\n  0% {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n",""]),s.locals={lyFlexColumn:"lyFlexColumn-d19d5",lyFlexRow:"lyFlexRow-ffb0b",justifyContentFlexStart:"justifyContentFlexStart-b0bf6",justifyContentFlexCenter:"justifyContentFlexCenter-e8b27",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-a088d",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-e7883",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-adac3",alignItemsFlexStart:"alignItemsFlexStart-ee88b",alignItemsFlexCenter:"alignItemsFlexCenter-dd506",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-beebb",mover:"mover-b4ed8",slotHover:"slotHover-fabba",artboard:"artboard-c1af2",heightFitContent:"heightFitContent-f987c","com-stub":"com-stub-ce319",comResizer:"comResizer-d063a",comResizerB:"comResizerB-a9f70",comResizerR:"comResizerR-a74d7",selectZone:"selectZone-ca6ea",boardTitle:"boardTitle-f8ea2",icon:"icon-b45fd",tt:"tt-eb750",moving:"moving-cd955",close:"close-cb1b9",hidden:"hidden-c4194",selection:"selection-fdd4f",now:"now-b6d6f",focus:"focus-f0489",zoomViewFlow:"zoomViewFlow-a649e",empty:"empty-ef224",debugCanvas:"debugCanvas-c2434",layer:"layer-a0bdb",openLayer:"openLayer-d9e7b",slipInto:"slipInto-a8192",canvasElement:"canvasElement-a2ce6"};const a=s},97704:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.geoView-ec1a6 {\n  display: inline-flex;\n  align-items: flex-start;\n  flex-direction: row;\n  position: relative;\n  z-index: 0;\n  transform-origin: 0 0;\n  padding: 100px 300px;\n}\n.geoView-ec1a6:hover > .comResizer-fc20b {\n  display: inherit !important;\n}\n.geoView-ec1a6 .header-a40d1 {\n  width: 100%;\n  height: 30px;\n  border: 1px solid transparent;\n  border-bottom: 1px solid #EEE;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  background-color: #FFF;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n.geoView-ec1a6 .header-a40d1 .btns-d3b9c {\n  display: flex;\n  align-items: center;\n}\n.geoView-ec1a6 .header-a40d1 .btns-d3b9c span {\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  background-color: #EEE;\n  margin: auto 5px;\n}\n.geoView-ec1a6 .header-a40d1 p {\n  padding: 0 10px 0 0;\n  color: #AAA;\n  margin: 0;\n  font-size: 10px;\n}\n.blueprint-a6ebb {\n  top: 0;\n  left: 0;\n  position: absolute;\n  z-index: 10000;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.blueprint-a6ebb ._0-b5dfa,\n.blueprint-a6ebb ._1-f57e4,\n.blueprint-a6ebb ._2-b5926,\n.blueprint-a6ebb ._3-f24c6 {\n  position: absolute;\n  font-size: 12px;\n  color: #d8a50d;\n  font-weight: bold;\n}\n.blueprint-a6ebb ._0-b5dfa {\n  left: -30px;\n  top: -30px;\n}\n.blueprint-a6ebb ._1-f57e4 {\n  right: -30px;\n  top: -30px;\n}\n.blueprint-a6ebb ._2-b5926 {\n  left: -30px;\n  bottom: -30px;\n}\n.blueprint-a6ebb ._3-f24c6 {\n  right: -30px;\n  bottom: -30px;\n}\n.screen-ab3da {\n  position: absolute;\n  z-index: 10000;\n  width: 100%;\n}\n.screen-ab3da:before {\n  content: '首屏';\n  position: absolute;\n  left: -48px;\n  top: -7px;\n  font-size: 12px;\n  color: #666;\n}\n.screen-ab3da .arrowLeft-c7019,\n.screen-ab3da .arrowRight-c60c7 {\n  position: absolute;\n  transform: translateY(-8px);\n}\n.screen-ab3da .arrowLeft-c7019 {\n  left: -20px;\n}\n.screen-ab3da .arrowRight-c60c7 {\n  right: -20px;\n}\n",""]),s.locals={geoView:"geoView-ec1a6",comResizer:"comResizer-fc20b",header:"header-a40d1",btns:"btns-d3b9c",blueprint:"blueprint-a6ebb",_0:"_0-b5dfa",_1:"_1-f57e4",_2:"_2-b5926",_3:"_3-f24c6",screen:"screen-ab3da",arrowLeft:"arrowLeft-c7019",arrowRight:"arrowRight-c60c7"};const a=s},2145:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,'/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.com-eecfc {\n  position: relative;\n  box-sizing: border-box;\n  z-index: 1;\n  flex-shrink: 0;\n}\n.module-ef942:after {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10000;\n  content: \'\';\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(to top right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) calc(50% - 1px), rgba(201, 157, 157, 0.08) 50%, rgba(0, 0, 0, 0) calc(50% + 1px), rgba(0, 0, 0, 0) 100%), linear-gradient(to bottom right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) calc(50% - 1px), rgba(201, 157, 157, 0.08) 50%, rgba(0, 0, 0, 0) calc(50% + 1px), rgba(0, 0, 0, 0) 100%);\n  background-size: 30px 30px;\n}\n.fullWidth-c2a86 {\n  display: block;\n  width: 100%;\n}\n.fullHeight-bc816 {\n  display: flex;\n  height: 100%;\n}\n.abs-aafb2 {\n  z-index: 1;\n}\n.fixed-feb38 {\n  z-index: 1000;\n}\n.selected-d9748 {\n  outline: 1px solid #FA6400 !important;\n}\n.opacity-c8b86 {\n  opacity: 0.3;\n  pointer-events: none;\n}\n.opacity-c8b86 * {\n  pointer-events: none;\n  cursor: default;\n}\n.debug-f9be3 {\n  flex-shrink: 0;\n  position: relative;\n}\n.debug-f9be3 .wrap-c360d {\n  width: 100%;\n  height: 100%;\n}\n.debug-f9be3 .wrap-c360d > div * {\n  user-select: auto !important;\n  pointer-events: auto !important;\n}\n.debug-f9be3 .wrap-c360d .geoComSlot-a4683 {\n  border-color: transparent;\n}\n.flex-a36c0 {\n  flex: 1;\n  height: 0;\n}\n.flex-a36c0 > * {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 100%;\n}\n.error-eae23 {\n  font-size: 10px;\n  color: #f5222d;\n  display: flex;\n  flex-wrap: wrap;\n  overflow: hidden;\n}\n.error-eae23:before {\n  content: \'✕\';\n  background: red;\n  color: #FFF;\n  font-weight: bold;\n  padding: 1px 0 0 4px;\n  border-radius: 16px;\n  overflow: hidden;\n  font-size: 8px;\n  height: 14px;\n  width: 14px;\n  margin-right: 3px;\n}\n.staticMoving-f2f3d {\n  opacity: 0.7 !important;\n}\n.absMoving-a96a4 {\n  z-index: 10000;\n  pointer-events: none !important;\n}\n.absMoving-a96a4 > * {\n  pointer-events: none !important;\n}\n.desn-aeea3 {\n  cursor: default !important;\n  pointer-events: auto !important;\n}\n.desn-aeea3 > * {\n  cursor: default !important;\n  box-sizing: border-box;\n  overflow: hidden;\n  vertical-align: top;\n}\n.desn-aeea3 > * * {\n  user-select: none;\n  pointer-events: none;\n  cursor: default !important;\n}\n.desn-aeea3 .append-ffbec {\n  border: 1px solid transparent;\n  pointer-events: none !important;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  top: 0;\n}\n.desn-aeea3 .append-ffbec span {\n  position: absolute;\n  overflow: hidden;\n  width: 12px;\n  height: 12px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.5);\n}\n.desn-aeea3 .append-ffbec span svg {\n  max-width: 10px;\n}\n.desn-aeea3 .append-ffbec .mask-c112b {\n  z-index: 10000;\n  pointer-events: none;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.2);\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(200, 200, 200, 0.2) 2px, rgba(255, 255, 255, 0.2) 6px);\n}\n.desn-aeea3 .append-ffbec .noteLabel-ef45b {\n  font-size: 8px;\n  background: #FFF;\n  right: 3px;\n  color: red;\n}\n.desn-aeea3 .append-ffbec .upgrade-d28df {\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: 3px;\n  right: 3px;\n  z-index: 100;\n}\n.desn-aeea3 .events-a8404 {\n  cursor: pointer !important;\n  pointer-events: auto !important;\n  background-color: #f8e333;\n  /* border: 1px solid #eed90c; */\n  position: absolute !important;\n  z-index: 1000;\n  padding: 0 3px;\n  top: 3px;\n  left: 3px;\n  font-size: 8px;\n  color: #000;\n  height: 12px;\n  display: flex;\n  align-items: center;\n  font-style: italic;\n  right: unset;\n}\n.focusPaasive-e7fe6 {\n  visibility: visible;\n}\n.locked-af055 {\n  pointer-events: none !important;\n}\n.locked-af055 > .append-ffbec {\n  border: 1px dashed #DDD !important;\n}\n.sayHi-d9d7f {\n  animation-name: jump-aed5a;\n  animation-duration: 0.5s;\n  animation-timing-function: linear;\n  z-index: 10000;\n  background-color: #FFF;\n  outline: 2px solid #FA6400;\n}\n@keyframes jump-aed5a {\n  0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1.1, 1.1);\n  }\n  50% {\n    transform: scale(1, 1);\n  }\n  75% {\n    transform: scale(1.1, 1.1);\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n}\n.opened-ca865 * {\n  pointer-events: auto !important;\n}\n.focus-bf60d {\n  cursor: default;\n}\n.focus-bf60d .editableFocus-c446e {\n  cursor: default !important;\n  outline: none !important;\n  pointer-events: none !important;\n}\n.focus-bf60d .editableFocus-c446e * {\n  transition: none !important;\n}\n.focus-bf60d .editableFocus-c446e textarea,\n.focus-bf60d .editableFocus-c446e [type="text"],\n.focus-bf60d .editableFocus-c446e [type="password"],\n.focus-bf60d .editableFocus-c446e [type="tel"] {\n  transition: none !important;\n}\n.labelTodo-f8bd4 {\n  outline: 1px dashed #03B6FC;\n  position: relative;\n}\n.labelTodo-f8bd4:before {\n  content: "Todo";\n  color: #FFF;\n  font-size: 12px;\n  font-weight: 500;\n  font-style: italic;\n  z-index: 1;\n  width: max-content;\n  height: 20px;\n  line-height: 20px;\n  padding: 0px 8px;\n  overflow: hidden;\n  position: absolute;\n  left: -2px;\n  bottom: 2px;\n  background: #03B6FC;\n  border-radius: 10px;\n  transform: scale(0.8);\n  opacity: 0.8;\n}\n.warnUpgrade-ca8cd:before {\n  content: \'\';\n  background-color: #FF0000;\n  border: 1px solid #FFF;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: 3px;\n  right: 3px;\n  z-index: 100;\n}\n.warnUpgrade-ca8cd .info-fff1a {\n  padding: 3px;\n  position: absolute;\n  height: 21px;\n  width: max-content;\n  top: 1px;\n  left: 0px;\n  border-right: 1px solid #faad14;\n  border-bottom: 1px solid #faad14;\n  border-radius: 2px;\n  /* font-style: italic; */\n  background-color: #faad14;\n}\n.warnUpgrade-ca8cd .info-fff1a > ul {\n  padding: 0 2px;\n}\n.warnUpgrade-ca8cd .info-fff1a > ul li {\n  font-size: 12px;\n}\n.warnUpgrade-ca8cd .info-fff1a .upgrade-d28df {\n  pointer-events: visible;\n  background-color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 5px;\n  font-weight: 500;\n}\n.error-eae23 {\n  font-size: 12px;\n  color: #f5222d;\n  overflow: hidden;\n  background: #FFF;\n}\n',""]),s.locals={com:"com-eecfc",module:"module-ef942",fullWidth:"fullWidth-c2a86",fullHeight:"fullHeight-bc816",abs:"abs-aafb2",fixed:"fixed-feb38",selected:"selected-d9748",opacity:"opacity-c8b86",debug:"debug-f9be3",wrap:"wrap-c360d",geoComSlot:"geoComSlot-a4683",flex:"flex-a36c0",error:"error-eae23",staticMoving:"staticMoving-f2f3d",absMoving:"absMoving-a96a4",desn:"desn-aeea3",append:"append-ffbec",mask:"mask-c112b",noteLabel:"noteLabel-ef45b",upgrade:"upgrade-d28df",events:"events-a8404",focusPaasive:"focusPaasive-e7fe6",locked:"locked-af055",sayHi:"sayHi-d9d7f",jump:"jump-aed5a",opened:"opened-ca865",focus:"focus-bf60d",editableFocus:"editableFocus-c446e",labelTodo:"labelTodo-f8bd4",warnUpgrade:"warnUpgrade-ca8cd",info:"info-fff1a"};const a=s},18592:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(37009),o=n.n(i),r=n(48814),s=n.n(r)()(o());s.push([e.id,"/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n/**\n * MyBricks Opensource\n * https://mybricks.world\n * This source code is licensed under the MIT license.\n *\n * CheMingjun @2019\n * mybricks@126.com\n */\n.lyFlexColumn-cac42 {\n  display: flex;\n  flex-direction: column;\n}\n.lyFlexRow-ca34b {\n  display: flex;\n  flex-direction: row;\n  align-content: flex-start;\n}\n.justifyContentFlexStart-be759 {\n  justify-content: flex-start;\n}\n.justifyContentFlexCenter-f4eea {\n  justify-content: center;\n}\n.justifyContentFlexFlexEnd-b574c {\n  justify-content: flex-end;\n}\n.justifyContentFlexSpaceAround-c5f43 {\n  justify-content: space-around;\n}\n.justifyContentFlexSpaceBetween-c6389 {\n  justify-content: space-between;\n}\n.alignItemsFlexStart-a6f01 {\n  align-items: flex-start;\n}\n.alignItemsFlexCenter-da97a {\n  align-items: center;\n}\n.alignItemsFlexFlexEnd-ba290 {\n  align-items: flex-end;\n}\n.mover-e3811 {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: none;\n  pointer-events: none;\n  background: repeating-linear-gradient(135deg, rgba(250, 100, 0, 0.08), rgba(250, 100, 0, 0.08) 5px, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 10px);\n}\n.slotHover-c3b55 .mover-e3811 {\n  display: block;\n}\n.slot-da7d9 {\n  width: 100%;\n  height: 100% !important;\n  pointer-events: auto !important;\n  position: relative !important;\n}\n.slot-da7d9 > .geo-item-c903c > div {\n  pointer-events: auto !important;\n}\n.slot-da7d9 .title-a741f {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  border-top: 0;\n  padding: 0 2px;\n}\n.slot-da7d9 .title-a741f span {\n  display: flex;\n  margin-right: 2px;\n  padding-bottom: 1px;\n}\n.slot-da7d9 .title-a741f span svg {\n  max-width: 10px;\n  opacity: 0.5;\n}\n.slot-da7d9 .title-a741f p {\n  color: #999;\n  font-style: italic;\n  padding: 0;\n  margin: 0;\n  font-size: 10px;\n}\n.slot-da7d9 .placeholder-e9cb5 {\n  height: 10px;\n  background-color: #FA6400;\n}\n.slotDebug-d1dba {\n  width: 100%;\n  height: 100% !important;\n  pointer-events: auto !important;\n  position: relative !important;\n}\n.slotDebug-d1dba > .geo-item-c903c > div {\n  pointer-events: auto !important;\n}\n.focus-fdd37 {\n  box-shadow: inset 0 7px 50px 2px #ddd, inset 0px -12px 19px -19px #ddd;\n}\n.desn-d28eb {\n  outline: 1px dashed rgba(0, 0, 0, 0.1);\n  outline-offset: -1px;\n}\n.desn-d28eb .borders-da06f {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.desn-d28eb .slotT-b3bf9,\n.desn-d28eb .slotR-f7834,\n.desn-d28eb .slotB-d91bd,\n.desn-d28eb .slotL-e9953 {\n  position: absolute;\n  z-index: 1000;\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, rgba(255, 255, 255, 0.6) 1px, rgba(0, 0, 0, 0.3) 3px);\n}\n.desn-d28eb .slotT-b3bf9,\n.desn-d28eb .slotB-d91bd {\n  left: 0;\n  height: 1px;\n  width: 100%;\n}\n.desn-d28eb .slotL-e9953,\n.desn-d28eb .slotR-f7834 {\n  top: 0;\n  width: 1px;\n  height: 100%;\n}\n.desn-d28eb .slotT-b3bf9 {\n  top: 0;\n}\n.desn-d28eb .slotR-f7834 {\n  right: 0;\n}\n.desn-d28eb .slotB-d91bd {\n  bottom: 0;\n}\n.desn-d28eb .slotL-e9953 {\n  left: 0;\n}\n.empty-dd800 {\n  position: relative;\n  overflow: hidden;\n  min-height: 30px;\n  min-width: 30px;\n  background-color: rgba(246, 247, 249, 0.5);\n}\n.empty-dd800 .slotT-b3bf9,\n.empty-dd800 .slotB-d91bd {\n  border-top: 0 !important;\n  height: 4px;\n}\n.empty-dd800 .slotL-e9953,\n.empty-dd800 .slotR-f7834 {\n  border-left: 0 !important;\n  width: 4px;\n}\n.empty-dd800 .slotT-b3bf9,\n.empty-dd800 .slotR-f7834,\n.empty-dd800 .slotB-d91bd,\n.empty-dd800 .slotL-e9953 {\n  background-image: repeating-linear-gradient(-45deg, transparent, transparent 1px, rgba(255, 255, 255, 0.4) 1px, rgba(0, 0, 0, 0.07) 3px);\n  opacity: 1 !important;\n}\n.hover-a8ac4 {\n  outline: 2px dashed #616C81 !important;\n  outline-offset: -2px !important;\n  overflow: hidden !important;\n}\n",""]),s.locals={lyFlexColumn:"lyFlexColumn-cac42",lyFlexRow:"lyFlexRow-ca34b",justifyContentFlexStart:"justifyContentFlexStart-be759",justifyContentFlexCenter:"justifyContentFlexCenter-f4eea",justifyContentFlexFlexEnd:"justifyContentFlexFlexEnd-b574c",justifyContentFlexSpaceAround:"justifyContentFlexSpaceAround-c5f43",justifyContentFlexSpaceBetween:"justifyContentFlexSpaceBetween-c6389",alignItemsFlexStart:"alignItemsFlexStart-a6f01",alignItemsFlexCenter:"alignItemsFlexCenter-da97a",alignItemsFlexFlexEnd:"alignItemsFlexFlexEnd-ba290",mover:"mover-e3811",slotHover:"slotHover-c3b55",slot:"slot-da7d9","geo-item":"geo-item-c903c",title:"title-a741f",placeholder:"placeholder-e9cb5",slotDebug:"slotDebug-d1dba",focus:"focus-fdd37",desn:"desn-d28eb",borders:"borders-da06f",slotT:"slotT-b3bf9",slotR:"slotR-f7834",slotB:"slotB-d91bd",slotL:"slotL-e9953",empty:"empty-dd800",hover:"hover-a8ac4"};const a=s},41674:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(63425),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},21916:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(38203),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},52447:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(80898),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},28671:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(18070),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},60010:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(84898),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},65746:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(53993),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},26262:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(43016),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},43797:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(48490),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},95111:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(40135),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},35082:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(58478),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},93628:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(4303),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},4446:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(15027),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},84493:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(94262),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},70662:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(13458),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},3296:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(37073),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},60847:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(71035),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},15913:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(64361),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},33853:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(47030),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},9603:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(86079),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},70760:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(51224),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},80674:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(68282),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},72110:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(1433),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},18643:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(86775),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},69301:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(11566),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},21118:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(61552),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},44565:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(13893),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},43163:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(11455),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},97343:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(20176),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},860:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(73361),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},10514:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(57894),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},12930:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(24033),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},99772:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(28006),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},56625:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(64772),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},6645:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(45025),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},5227:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(61047),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},50111:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(86515),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},87592:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(94504),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},23841:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(90159),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},54415:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(48917),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},68232:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(26312),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},63076:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(55323),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},63971:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(17614),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},98440:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(42912),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},15511:(e,t,n)=>{var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(21374),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g),h.Z&&h.Z.locals&&h.Z.locals},13104:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(55074),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},97796:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(44292),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},84937:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(77983),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},30276:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(54222),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},59584:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(22727),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},45530:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(9861),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},35534:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(99545),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},35357:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(30457),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},47592:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(90228),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},58938:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(44202),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},72861:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(64269),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},40802:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(58485),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},37024:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(65277),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},27914:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(61095),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},13095:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(97271),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},52939:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(14336),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},40199:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(76087),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},77992:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(82410),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},1061:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(46966),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},34070:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(83296),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},98054:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(83283),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},8209:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(73740),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},34549:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(47751),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},47977:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(10977),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},88047:(e,t,n)=>{var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(15472),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g),h.Z&&h.Z.locals&&h.Z.locals},35444:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(21074),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},19885:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(64581),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},26446:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(39419),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},1773:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(49458),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},64130:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(83634),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},20618:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(10465),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},46075:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(90569),l=n.n(a),c=n(3565),d=n.n(c),u=n(19216),p=n.n(u),f=n(44589),m=n.n(f),h=n(96986),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},55046:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(3565),l=n.n(a),c=n(19216),d=n.n(c),u=n(44589),p=n.n(u),f=n(17831),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var h,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),m.use=function(e){return y.options=e||{},g++||(h=o()(f.Z,y)),m},m.unuse=function(){g>0&&!--g&&(h(),h=null)};const b=m},46959:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(3565),l=n.n(a),c=n(19216),d=n.n(c),u=n(44589),p=n.n(u),f=n(97704),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var h,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),m.use=function(e){return y.options=e||{},g++||(h=o()(f.Z,y)),m},m.unuse=function(){g>0&&!--g&&(h(),h=null)};const b=m},46313:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(3565),l=n.n(a),c=n(19216),d=n.n(c),u=n(44589),p=n.n(u),f=n(2145),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var h,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),m.use=function(e){return y.options=e||{},g++||(h=o()(f.Z,y)),m},m.unuse=function(){g>0&&!--g&&(h(),h=null)};const b=m},39999:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(93379),o=n.n(i),r=n(7795),s=n.n(r),a=n(3565),l=n.n(a),c=n(19216),d=n.n(c),u=n(44589),p=n.n(u),f=n(18592),m={};f.Z&&f.Z.locals&&(m.locals=f.Z.locals);var h,g=0,y={};y.styleTagTransform=p(),y.setAttributes=l(),y.insert=function(e,t){(t.target||document.head).appendChild(e)},y.domAPI=s(),y.insertStyleElement=d(),m.use=function(e){return y.options=e||{},g++||(h=o()(f.Z,y)),m},m.unuse=function(){g>0&&!--g&&(h(),h=null)};const b=m},93379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var p=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=o(f,i);i.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=n(r[s]);t[a].references--}for(var l=i(e,o),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},90569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},19216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},99783:(e,t,n)=>{n.d(t,{Z:()=>o});const i={type:"any"},o={"@init":({data:e,setDesc:t,setAutoRun:n,isAutoRun:i})=>{e.connectorConfig=e.connectorConfig||{};(!!i&&i()||e.immediate)&&(n(!0),e.immediate=!0),t("（连接器为空）")},"@connectorUpdated":({data:e,input:t,output:n,setDesc:i,setAutoRun:o,isAutoRun:r},{connector:a})=>{e.connector&&a.id===e.connector.id&&(e.connector={id:a.id,title:a.title,type:a.type,script:a.script,inputSchema:a.inputSchema,outputSchema:a.outputSchema},s({input:t,output:n},a),i(`已选择：${e.connector.title}`))},"@connectorRemoved":({data:e,input:t,output:n,setDesc:o,setAutoRun:r,isAutoRun:s},{connector:a})=>{if(e.connector&&a.id===e.connector.id){e.connector=void 0;const r=t.get("call");r&&r.setSchema(i);n.get("then").setSchema(i),o(`${a.title} 已失效`)}},":root":[{title:"连接器",type:"_connectorSelect",value:{get:({data:e})=>e.connector,set({data:e,input:t,output:n,setDesc:i},o){e.connector=o,s({input:t,output:n},o),i(`已选择：${e.connector.title}`)}}}]};function r(e){return e&&["object","array","number","string","boolean","any","follow","unknown"].some((t=>e.type===t))}function s({input:e,output:t},n){const o=e.get("call");o&&(r(n.inputSchema)?o.setSchema(n.inputSchema):o.setSchema(i));const s=t.get("then");r(n.outputSchema)?s.setSchema(n.outputSchema):s.setSchema(i)}},28984:(e,t,n)=>{function i({env:e,data:t,outputs:n,onError:i},o={}){if(t.connector)try{e.callConnector(t.connector,o,t.connectorConfig).then((e=>{n.then(e)})).catch((e=>{n.catch(e)}))}catch(e){console.error(e),n.catch(`执行错误 ${e.message||e}`)}else n.catch("没有选择接口")}function o({env:e,data:t,inputs:n,outputs:o,onError:r}){e.runtime&&(t.immediate?i({env:e,data:t,outputs:o}):n.call((n=>{i({env:e,data:t,outputs:o,onError:r},n)})))}n.d(t,{Z:()=>o})},34405:(e,t,n)=>{n.d(t,{Z:()=>o});const i=[{label:"新页面",value:"blank"},{label:"重定向",value:"redirect"}],o={"@init":({data:e,setDesc:t,setAutoRun:n,isAutoRun:i})=>{t("（新页面）")},":root":[{title:"打开方式",type:"select",ifVisible:({data:e})=>"popup"!==e._sceneShowType,options:({data:e,input:t,output:n})=>i,value:{get:({data:e,input:t,output:n})=>e.openType||"blank",set({data:e,setDesc:t},n){e.openType=n;t(`（${i.find((e=>e.value===n)).label}）`)}}}]}},18417:(e,t,n)=>{function i({env:e,data:t,inputs:n,_inputs:i,_inputsCallable:o}){n.open((n=>{e.canvas.open(t._sceneId,n,"popup"===t._sceneShowType?null:t.openType),o._open(n)}))}n.d(t,{Z:()=>i})},8431:(e,t,n)=>{n.d(t,{Z:()=>i});const i={"@init"({data:e,setDesc:t}){e.exchange||t("未配置规则")},":root":[{title:"类型转换",type:"_typeChange",options:({data:e,input:t,output:n})=>({from:t.get("from").schema,to:n.get("to").schema}),value:{get:({data:e,input:t,output:n})=>e.exchange,set({data:e,setDesc:t},n){e.exchange=n,n.script?t(`${n.title}`):t("未配置规则")}}}]}},58732:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__({data,outputs,inputs,onError}){inputs.from(((val,relOutpus)=>{var _a;const script=null===(_a=data.exchange)||void 0===_a?void 0:_a.script;if(script){let fn,returnVal,isOk;try{eval(`fn = ${script}`),returnVal=fn(val),isOk=!0}catch(e){console.error(e),onError(`数据转换错误:${e.message}`,e)}isOk&&outputs.to(returnVal)}else onError("未配置转换规则")}))}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__})},4495:(e,t,n)=>{function i({env:e,data:t,outputs:n,inputs:i,_notifyBindings:r}){i.get(((e,n)=>{const i=o(void 0!==t.val?t.val:t.initValue);n.return(i)})),i.set(((e,i)=>{t.val=e;const s=o(e);n.changed(s,!0),r(s),i.return(s)})),i.reset((()=>{const e=t.initValue;t.val=e;const i=o(e);n.changed(i,!0),r(i)}))}function o(e){if(e&&"object"==typeof e)try{return e instanceof FormData?e:JSON.parse(JSON.stringify(e))}catch(t){return e}return e}n.d(t,{Z:()=>i})},1837:(e,t,n)=>{n.d(t,{Z:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("set"===r){n.get("return").setSchema(a);n.get("changed").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("set"===s.id){n.get("return").setSchema({type:"unknown"});n.get("changed").setSchema({type:"unknown"})}},":root":[{title:"变量名称",type:"text",value:{get:({title:e})=>e,set({setTitle:e},t){e(t)}}},null,{title:"类型",type:"_schema",value:{get:({data:e,outputs:t})=>t.get("return").schema,set({data:e,outputs:t},n){t.get().forEach((e=>{t.get(e.id).setSchema(n)}))}}}]}},99854:(e,t,n)=>{function i({inputs:e,outputs:t}){}n.d(t,{Z:()=>i})},55480:(e,t,n)=>{n.d(t,{Z:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("getCurValue"===r){n.get("return").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("getCurValue"===s.id){n.get("return").setSchema({type:"unknown"})}},":root":[]}},99787:(e,t,n)=>{function i({env:e,data:t,inputs:n,outputs:i}){e.runtime&&n.getCurValue(((e,t)=>{t.return(e)}))}n.d(t,{Z:()=>i})},70029:(e,t,n)=>{n.d(t,{Z:()=>i});const i={"@inputUpdated":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},{id:r,title:s,schema:a})=>{if("getCurValue"===r){n.get("return").setSchema(a)}},"@inputDisConnected":({data:e,input:t,output:n,setAutoRun:i,isAutoRun:o},r,s)=>{if("getCurValue"===s.id){n.get("return").setSchema({type:"unknown"})}},":root":[]}},31636:(e,t,n)=>{function i({env:e,data:t,inputs:n,outputs:i}){e.runtime&&n.output((e=>{}))}n.d(t,{Z:()=>i})},53002:(e,t,n)=>{n.d(t,{Z:()=>Z});var i=n(83417),o=n(6951),r=n(91949),s=n(7031),a=n(2198),l=n(18417),c=n(34405),d=n(36964),u=n(63339),p=n(46426),f=n(64177),m=n(85593),h=n(55480),g=n(99787),y=n(37941),b=n(70029),v=n(31636),x=n(71412),w=n(99854),E=n(36282),A=n(1752),_=n(4495),C=n(1837),I=n(42164),M=n(58732),P=n(8431),k=n(56628),F=n(28984),O=n(99783);const T={id:"@mybricks/comlib-core",title:"MyBricks基础组件库",author:"CheMingjun",icon:"",version:"1.0.1",comAray:[N({comDef:i,rt:o.Z,editors:r.Z}),N({comDef:s,data:a,rt:l.Z,editors:c.Z}),N({comDef:d,data:u,rt:p.Z,editors:f.Z}),N({comDef:m,editors:h.Z,rt:g.Z}),N({comDef:y,editors:b.Z,rt:v.Z}),N({comDef:x,rt:w.Z}),N({comDef:E,data:A,rt:_.Z,editors:C.Z}),N({comDef:I,rt:M.Z,editors:P.Z}),N({comDef:k,rt:F.Z,editors:O.Z,visibility:!1})],visible:!1},Z=T;function N({comDef:e,icon:t,rt:n,rtEdit:i,data:o,editors:r,assistence:s}){return Object.assign(e,{runtime:n,icon:t,"runtime.edit":i,data:o,editors:r,assistence:s})}},64177:(e,t,n)=>{n.d(t,{Z:()=>i});const i={":root":({input:e,output:t},n,i,o)=>{}}},46426:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(90359);function o({env:e,data:t,inputs:n,outputs:o}){const[r,s]=(0,i.useState)(),a=(0,i.useMemo)((()=>{const i=e.getModuleJSON(t.definedId);return e.renderModule(i,{ref(t){if(s(t),e.runtime){const{inputs:e,outputs:r}=i;e.forEach((({id:e})=>{n[e]((n=>{t.inputs[e](n)}))})),r.forEach((({id:e})=>{t.outputs(e,o[e])}))}t.run()},disableAutoRun:!0})}),[]);return(0,i.useMemo)((()=>{if(r){const e=t.configs;for(let t in e)r.inputs[t](e[t])}}),[t.configs,r]),a}},91949:(e,t,n)=>{n.d(t,{Z:()=>i});const i={}},6951:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(90359);function o(){return i.createElement("div",{style:{width:"100%",height:"100%"}})}},79171:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(55443),r=n(79127),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.gq{constructor(e){super(),e&&(this.id=e.id,this.title=e.title,this.type=e.type,this.connectorName=e.connectorName,this.inputSchema=e.inputSchema,this.outputSchema=e.outputSchema,this.script=e.script,this.createTime=(new Date).getTime())}};l=s([(0,i.iV)(o.it+"ConnectorModel"),a("design:paramtypes",[Object])],l);const c=l},64655:(e,t,n)=>{n.d(t,{Z:()=>M});var i=n(41674),o=n(90359),r=n.n(o),s=n(83446),a=n(79127),l=n(62264),c=n(26373),d=n(64664),u=n(86409),p=n(85486),f=n(69205),m=n(13825),h=n(48168),g=n(39751),y=n(32889),b=n(99020),v=n(79906),x=n(97053),w=n(10737),E=n(18909),A=n(87037),_=n(71801);let C;function I({config:e,onMessage:t,onLoad:n,onEdit:I,onDebug:M,onClick:P,_ref:k}){var F;const O=(0,s.mA)(a.zz,{to:"children"});(0,o.useMemo)((()=>{const t=e.editView||{};e.editView=Object.assign(Object.assign({},t),{editorLoader(e){let n;if("function"==typeof t.editorAppender&&(n=t.editorAppender(e)),n)return n;const i=C.emitEditor;if("function"==typeof i.get&&(n=i.get(e),n)){if(!Array.isArray(n))return n;{const e=n.find((e=>e));if(e)return e}}if(n=(0,E.Z)(e),n)return n;return C.pcCommonEditors({editConfig:e,projectData:{}})}});const n=[...e.plugins||[]];n.filter((e=>!e.namespace)).forEach((e=>{e.namespace=e.name})),e.plugins=n,O.configs=e}),[]),C=(0,p.Z)(O,{config:e,onMessage:t,onEdit:I,onDebug:M,onClick:P,ref:k}),(0,f.ZP)(C);const T=(0,m.Z)(C),Z=O.configs.pageMetaLoader;(0,o.useMemo)((()=>{C.model=T,T.viewSlots||(T.viewSlots={},e.geoView&&(T.viewSlots.top=new g.Z({showTitleBar:!1,tabs:["geoView"],height:"auto"})),e.toplView&&(T.viewSlots.bottom=new g.Z({status:e.geoView?"min":"normal",tabs:["toplView"],height:e.geoView?void 0:"auto",showTitleBar:!!e.geoView})),e.templateView&&(T.viewSlots.bottomTpt=new g.Z({status:e.geoView?"min":"normal",tabs:["templateView"],height:e.geoView?void 0:"auto",showTitleBar:!!e.geoView}))),T.views||(T.views={}),e.geoView&&(T.views.geoView={title:"布局",render(){const e=T.getCurModule();if(Z||e){const t=null==e?void 0:e.slot;return r().createElement(d.Li,{viewModel:t,page:C.curPage,pageMetaModel:C.pageMetaModel,cssVars:T.cssVars,comThemes:T.comThemes})}}}),e.toplView&&(T.views.toplView={title:e.toplView.title||"未命名",render({onToolbar:e}){const t=T.getCurModule();if(t){const n=t.frame,i=C.desnContext.configs.toplView;return r().createElement(u.fi,{viewId:"bottom",viewModel:n,configs:i,onToolbar:e,debugParams:C.curDebugParams})}}}),e.templateView&&(T.views.templateView={title:e.templateView.title||"未命名",render({onToolbar:e}){const t=T.getCurModule();if(t){let n=t.template;n||(n=t.template=new u.ei,n.addDefaultFrame());const i=C.desnContext.configs.templateView;return r().createElement(u.fi,{viewId:"template",viewModel:n,configs:i,onToolbar:e,debugParams:C.curDebugParams})}}})}),[T.viewSlots]);const N=(0,o.useRef)();(0,s.vc)((()=>{if(C.desnContext.isDebugMode()){if("function"==typeof M){const e=M();"function"==typeof e&&(N.current=e)}}else N.current&&(N.current(),N.current=void 0)})),(0,s.vc)((()=>{if(C.loaded){const e=O.configs.mode;e&&("blueprint"===e.toLowerCase()&&O.setModeDesnOfBluePrint(),"component"===e.toLowerCase()&&O.setModeDesnOfComponent()),T.pluginDataset||(T.pluginDataset={}),O.initPluginDataset(T.pluginDataset),"function"==typeof n&&n()}}));const D=(0,s.vc)((()=>{if(C.loaded){const t=e.geoView,n=e.toplView,i=(e.templateView,t?{}:{height:"100%"}),o={};return"toplView"===C.activeBottomTabId?(i.display="",o.display="none"):(i.display="none",o.display=""),r().createElement(r().Fragment,null,t?r().createElement(y.Z,{id:"top",style:{overflow:"hidden"}}):null,n?r().createElement(y.Z,{id:"bottom",min:t,style:i,ifVisible:()=>{const t=e.toplView;return!1!==(null==t?void 0:t.display)}}):null)}return r().createElement("div",{className:i.Z.loading},"加载中，请稍后...")}));(0,s.vc)((()=>{C.loaded&&(O.model=T,O.focusDefault={getConfigData:()=>({type:"default"}),getConfigs:()=>(0,h.G)(C),getAssist(){const e=O.configs.aiView;if("object"==typeof e&&e)return e}})})),(0,o.useLayoutEffect)((()=>{if(C.loaded){const e=O.pageMetaModel;e&&e.openedPageAry&&e.openedPageAry.forEach((e=>{C.emitScenes.load(e.id)}))}}),[C.loaded]);const S=(0,s.vc)((()=>{const e=[i.Z.designerUi];return O.isShowModelFullScreen()&&e.push(i.Z.fullScreen),C.showEditView||e.push(i.Z.hideEditView),C.showNavView&&!O.isDebugMode()||e.push(i.Z.hideNavView),e.join(" ")})),j=(0,s.vc)((()=>{var e;const t=C._maxView;if(t){function n(){var e;try{C._maxView=void 0,"function"==typeof(null===(e=t.options)||void 0===e?void 0:e.onClose)&&t.options.onClose()}finally{C.showNavView=!0,C.showEditView=!0}}return C.showNavView=!1,(null===(e=t.options)||void 0===e?void 0:e.showEditView)||(C.showEditView=!1),T.views._maxView={status:"max",title:t.title,render:()=>t.content()},r().createElement("div",{className:i.Z.lyMax,key:"max"},r().createElement(y.Z,{id:"_maxView",onClose:n}))}})),B=(0,s.vc)((()=>{const e=C._popView;if(e){T.views._popView={status:"pop",title:e.title,render:()=>e.content({close(){n()}})};const t=e.options;function n(){C._popView=void 0,"function"==typeof(null==t?void 0:t.onClose)&&t.onClose()}const o={};return t&&(t.width&&(o.width=t.width),t.beforeEditView&&(o.right=T.editViewWidth)),r().createElement("div",{className:i.Z.popBg,onClick:n},r().createElement("div",{className:`${i.Z.lyPop} ${(null==t?void 0:t.beforeEditView)?i.Z.lyPopEdit:i.Z.lyPopR}`,key:"pop",style:o,onClick:(0,s.Ft)().stop},r().createElement(y.Z,{id:"_popView",onClose:n})))}})),L=(0,s.vc)((()=>{var e;const t={main:void 0,edt:void 0},n=C._maxView;return n&&((null===(e=n.options)||void 0===e?void 0:e.showEditView)?t.main={display:"none"}:(t.main={display:"none"},t.edt={display:"none"})),t})),R=null===(F=O.configs)||void 0===F?void 0:F.plugins,V=e.editView;return r().createElement("blockquote",{className:S,ref:e=>e&&(C.ele=e),tabIndex:1},r().createElement("div",{className:i.Z.lyMain},(null==R?void 0:R.length)>0?r().createElement(l.Z,{style:j?{display:"none"}:void 0}):null,j,r().createElement("div",{className:i.Z.lyStage,key:"main",style:L.main},D),r().createElement(v.Z,{style:L.edt,width:T.editViewWidth||(null==V?void 0:V.width)||290,onResize:e=>{T.editViewWidth=e},resizer:"left"},r().createElement(c.Z,{config:e})),B),r().createElement(b.Z,null),r().createElement(x.Z,null),r().createElement(w.Z,null),r().createElement(A.Z,null),r().createElement(_.Z,null))}const M=(0,o.forwardRef)(((e,t)=>r().createElement(I,Object.assign({},e,{_ref:t,_onError_:(e,t)=>{console.error(e);const n=e.message||e;if("render"===t)return r().createElement("div",{style:{padding:10,color:"red"}},"系统运行错误:",n)}}))))},93261:(e,t,n)=>{n.d(t,{Z:()=>p});var i,o=n(83446),r=n(55443),s=n(79127),a=n(56862),l=n(37181),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=class extends s.M_{constructor(){super(...arguments),this.designerVersion=.1,this.pluginDataset={},this.envVars={},this.designCostTime=0,this.comThemes={},this._cssVars=[]}getModule(e){if(this.modules)return this.modules[e]}regModule(e,{slot:t,frame:n},i){this.modules||(this.modules={});const o=(0,l.aD)({slot:t,frame:n});this.modules[e]={type:i,title:t.title,json:o}}deleteModule(e){if(this.modules){const t=this.modules[e];t&&(t.deleted=!0)}}getPermissionById(e){if(this.permissions)return this.permissions.find((t=>t.id===e))}searchLocaleByKeywords(e,t){if(this.localeImpl){const n=this.localeImpl.searchByKeywords(e,t);if(n&&Array.isArray(n))return n.map((e=>new s.Fz(e)))}else if(this.locales)return this.locales.filter((n=>n.ifMatch(e,t)))}getLocaleById(e){if(this.localeImpl){const t=this.localeImpl.getById(e);if(t)return new s.Fz(t)}else if(this.locales)return this.locales.find((t=>t.id===e))}setComThemes(e){this.clearComThemes(),Array.isArray(e)&&e.length>0&&e.forEach((e=>{const{namespace:t}=e;let n=this.comThemes[t];n||(n=this.comThemes[t]=[]),n.find((({id:t})=>t===e.id))||n.push(e)}))}clearComThemes(){Object.keys(this.comThemes).forEach((e=>{delete this.comThemes[e]}))}get cssVars(){return this._cssVars}set cssVars(e){if(Array.isArray(e))this._cssVars=e;else if("object"==typeof e){const t=[];for(let n in e)t.push({name:n,value:e[n]});this._cssVars=t}}clearCSSVar(){this._cssVars&&this._cssVars.splice(0,this._cssVars.length)}getCurModule(){return this.mainModule}addDomainModel(e){this.domainModels||(this.domainModels=[]),this.domainModels.push(e)}searchDomainModel(e){return this.domainModels.find((t=>t.id===e))}removeDomainModel(e){this.domainModels=this.domainModels.filter((t=>t.id!==e))}addConnector(e){this.connectors||(this.connectors=[]),this.connectors.push(e)}searchConnector(e){return this.connectors.find((t=>t.id===e))}removeConnector(e){this.connectors=this.connectors.filter((t=>t.id!==e))}addDataSource(e){this.dataSources||(this.dataSources=[]),this.dataSources.push(e)}searchDataSource(e){return this.dataSources.find((t=>t.id===e))}removeDataSource(e){this.dataSources=this.dataSources.filter((t=>t.id!==e))}};c([o.jj,d("design:type","function"==typeof(i=void 0!==a.T&&a.T)?i:Object)],u.prototype,"factModule",void 0),c([o.jj,d("design:type",Object)],u.prototype,"localeImpl",void 0),c([o.jj,d("design:type",Object),d("design:paramtypes",[Object])],u.prototype,"cssVars",null),c([o.jj,d("design:type",Object)],u.prototype,"views",void 0),u=c([(0,o.iV)(r.it+"StageViewModel")],u);const p=u},45855:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(55443),r=n(79127),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.gq{constructor(e){super(),e&&(this.id=e.id,this.title=e.title,this.type=e.type,this.createTime=(new Date).getTime(),this.query=e.query)}};l=s([(0,i.iV)(o.it+"DomainModel"),a("design:paramtypes",[Object])],l);const c=l},5184:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(79171),o=n(45855),r=n(72111),s=n(3766);class a{constructor(){this.showNavView=!0,this.showEditView=!0,this.handlersDisabled=!1,this.eventLogs=[]}getTheme(e){return this.model.themes[e]}popView(e,t,n){this._popView={title:e,content:t,options:n}}maxView(e,t,n){this._maxView={title:e,content:t,options:n}}setCurPage(e){this.curPage=e}getCurPage(){return this.curPage}addDomainModel(e){const t=new o.Z(e);this.model.addDomainModel(t)}updateDomainModel(e){if(!e.id)throw new Error("expect id");const t=this.model.searchDomainModel(e.id);if(t){for(const n in e)t[n]=e[n];t.lastModifiedTime=(new Date).getTime(),this.emitItem.notifyDomainModelUpdated(t)}}removeDomainModel(e){const t=this.model.searchDomainModel(e);t&&(this.model.removeDomainModel(e),this.emitItem.notifyDomainModelRemoved(t))}addConnector(e){const t=new i.Z(e);this.model.addConnector(t)}updateConnector(e){if(!e.id)throw new Error("expect id");const t=this.model.searchConnector(e.id);if(t){for(const n in e)t[n]=e[n];t.lastModifiedTime=(new Date).getTime(),this.emitItem.notifyConnectorUpdated(t)}}removeConnector(e){const t=this.model.searchConnector(e);t&&(this.model.removeConnector(e),this.emitItem.notifyConnectorRemoved(t))}testDomainModel(e,t,n){var i,o;const r=null===(o=null===(i=this.desnContext.configs.com)||void 0===i?void 0:i.env)||void 0===o?void 0:o.callDomainModel;if("function"==typeof r)return r(e,t,n);throw new Error("configs.com.env.callDomainModel not found")}testConnector(e,t){var n,i;const o=null===(i=null===(n=this.desnContext.configs.com)||void 0===n?void 0:n.env)||void 0===i?void 0:i.callConnector;if("function"==typeof o)return o(e,t);throw new Error("configs.com.env.callConnector not found")}callConnector(e){if("object"==typeof e&&e){const{id:t,params:n}=e,i=this.model.searchConnector(t);if(i)return this.testConnector(i.script,n)}}dump(e){return e?(0,s.Z)(this):(0,r.Z)(this)}}},39751:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(83446),o=n(55443),r=n(79127),s=n(32889),a=n(90359),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends r.M_{get height(){return this._height}set height(e){"number"==typeof e&&e>o.Td&&(this.heightRecover=e),this._height=e}isStatusOfNormal(){return!this.status||"normal"===this.status}isStatusOfMax(){return"max"===this.status}isStatusOfPop(){return"pop"===this.status}recoverSize(){this.status="normal",this.height=this.heightRecover}constructor(e){if(super(),e){const t=Object.assign({closeable:!1,status:"normal",tabs:[],showTitleBar:!0,height:void 0,width:void 0},e);this.closeable=t.closeable,this.status=t.status,this.tabs=t.tabs,this.showTitleBar=t.showTitleBar,this.height=t.height,this.width=t.width}}toJSX(){return a.createElement(s.Z,{model:this})}};d=l([(0,i.iV)(o.it+"ViewSlotModel"),c("design:paramtypes",[Object])],d);const u=d},94755:(e,t,n)=>{n.r(t),n.d(t,{appendScene:()=>f,dump:()=>m,init:()=>p});var i=n(64664),o=n(86409),r=n(55443),s=n(83446),a=n(93261),l=n(79127);const c="_main_";let d,u;function p({comLibs:e}){d=e,u=new a.Z;const t=new i.HZ,n=new o.ei;u.mainModule={instId:c,title:"主模块",slot:t,frame:n}}function f(e){if("string"==typeof e)!function(e){const t=(0,s.vB)(e),{slot:n,frame:i}=t,o=u.mainModule,r=(0,s.Vj)(),a=`复制的 ${n.title}`;let l;n.id=r,n.title=a,n.deletable=!0,i&&(l=i,l.id=r,l.title=a,l.diagramAry.length>0&&(l.diagramAry[0].title=a));o.slot.slots.push(n),l&&o.frame.frames.push(l)}(JSON.parse(e));else if("object"==typeof e){const{id:t,title:n}=e,r=u.mainModule.slot.addSlot({id:t,title:n}),s=u.mainModule.frame.addFrame({id:t,title:n});return s.addIODiagram({title:n}),{appendCom({namespace:e}){!function(e,{slot:t,frame:n}){const r=function(e){let t;const n=i=>{if(i)return i.find((i=>i.namespace===e?(t=i,!0):i.comAray?n(i.comAray):void 0))};d&&d.find((e=>{if(e.comAray)return n(e.comAray)}));return t}(e.namespace);if(!r)throw new Error("not found");{const e=new l.u5(r),s=new i.Zd(e);t.addComponent(s);const a=new o.nW(e);n.addComponent(a)}}({namespace:e},{slot:r,frame:s})}}}}function m(){return{content:{[r.pE]:(0,s.$w)(u)}}}},79906:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(21916),o=n(90359),r=n.n(o),s=n(83446),a=n(5184);class l{}function c({style:e,width:t,resizer:n,children:c,onResize:u}){const p=(0,s.N7)(a.Z,{from:"parents"}),f=(0,s.mA)(l,(e=>e({width:t,resizer:n,spaContext:p,onResize:u})),[t]);return(0,o.useEffect)((()=>{"function"==typeof u&&u(t)}),[]),r().createElement(r().Fragment,null,"left"===n?r().createElement("div",{className:i.Z.resizer,style:Object.assign({},e),onMouseDown:e=>d(e,f)},r().createElement("div",null)):null,r().createElement("div",{className:i.Z.view,style:Object.assign(Object.assign({},e),{width:f.width})},c),"right"===n?r().createElement("div",{className:i.Z.resizer,style:Object.assign({},e),onMouseDown:e=>d(e,f)},r().createElement("div",null)):null)}function d(e,t){requestAnimationFrame((()=>{t.spaContext.reLayout=!0}));const n="left"===t.resizer;let i=t.width;(0,s.qw)(e,(({po:{x:e,y:o},epo:{ex:r,ey:s},dpo:{dx:a,dy:l},adpo:{adx:c,ady:d}},u)=>{if("moving"==u){let e=i+(n?-c:+c);e>=290&&(t.width=e)}"finish"==u&&(t.spaContext.reLayout=void 0,t.onResize&&t.onResize(t.width))}))}},71801:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(5184),r=n(52447),s=n(23037),a=n(90359),l=n(90359);function c(){const e=(0,i.N7)(o.Z,{from:"parents"}),{desnContext:t}=e,{event:n}=t.contextMenuEvent||{},c=(0,a.useCallback)((()=>{const{model:e,finishCallback:n}=t.contextMenuEvent;e&&e.state.cancelContextMenuPopped(),"function"==typeof n&&n(),setTimeout((e=>{i.qw.cancel=void 0}),500),t.contextMenuEvent=void 0}),[]),d=(0,a.useCallback)((e=>{e.exe()}),[]);if(n){const t=e.listeners,i=(0,s.bt)(e.ele),o=n.evt||n;let a=o.clientX,u=o.clientY;if(a-=i.x,u-=i.y,t)return l.createElement("div",{className:r.Z.bg,onClick:c},l.createElement("div",{className:r.Z.menu,style:{left:a,top:u}},t.map(((e,t)=>{var n;return e?l.createElement("div",{className:r.Z.menuItem,key:t,onClick:t=>d(e)},l.createElement("label",null,e.title),l.createElement("span",null,null===(n=e.keys)||void 0===n?void 0:n.join(" "))):l.createElement("div",{className:r.Z.sper,key:t})}))))}}},10737:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(83446),o=n(5184);function r(){const e=(0,i.N7)(o.Z,{from:"parents"}),{desnContext:t}=e;(0,i.vc)((()=>{if(1===t.focusModelAry.length){const n=t.focusModelAry[0],i=null==n?void 0:n.getListeners;e.listeners="function"==typeof i?i():void 0}else e.listeners=void 0}))}},87037:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(5184),r=n(28671),s=n(23037),a=n(90359),l=n(90359);function c(){const{desnContext:e}=(0,i.N7)(o.Z,{from:"parents"}),t=e._popup,n=(0,a.useCallback)((()=>{if(t){t.targetElement.classList.remove(r.Z.active),e._popup=void 0}}),[t]);if((0,a.useEffect)((()=>{t&&e.registerBlur(n,!0)}),[t]),t){const e=t.jsxFn({close:n}),i=t.targetElement,o=t.options;i.classList.add(r.Z.active);const a=(0,s.bt)(i),c={left:a.x,top:a.y+i.offsetHeight};return o&&(o.position.includes("left")&&(c.left=a.x-150-3),o.position.includes("top")&&(c.top=a.y)),l.createElement("div",{className:r.Z.popup,style:c},e)}return l.createElement(l.Fragment,null)}},97053:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Tooltips});var _mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83446),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23037),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24318),react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(90359),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_SPAContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5184),_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60010);class ToolTipCtx{constructor(){this.show=!1,this.description=""}}let toolTipCtx;function Tooltips(){const spaCtx=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_SPAContext__WEBPACK_IMPORTED_MODULE_4__.Z,{from:"parents"});if(toolTipCtx=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.mA)(ToolTipCtx,(e=>{e({ele:null,show:!1,description:""})})),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((()=>{const e=t=>{const n=t.target;toolTipCtx.ele=void 0,toolTipCtx.show=!1,n.removeEventListener("mouseout",e)},t=e=>{const n=e.target;toolTipCtx.ele=void 0,toolTipCtx.show=!1,n.removeEventListener("click",t)};spaCtx.ele.addEventListener("mouseover",(t=>{const n=t.target;if(n){const t=(e=>{var t;if(e.dataset.mybricksTip)return e;{let n=0,i=e.parentNode;for(;i&&n++<5;){if(null===(t=i.dataset)||void 0===t?void 0:t.mybricksTip)return i;i=i.parentNode}}})(n);t?(toolTipCtx.ele=t,toolTipCtx.description=t.dataset.mybricksTip,toolTipCtx.show=!0,t.addEventListener("mouseout",e)):(toolTipCtx.ele=void 0,toolTipCtx.show=!1)}}),!1),spaCtx.ele.addEventListener("click",t,!1)}),[]),toolTipCtx.show&&toolTipCtx.ele){const po=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.bt)(toolTipCtx.ele);let descObj,desc=toolTipCtx.description;if(desc.startsWith("{"))try{eval(`descObj = ${toolTipCtx.description}`)}catch(e){descObj={content:"提示内容错误",position:"default"}}else descObj={content:desc,position:"default"};return(0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{ref:e=>{e&&("right"===descObj.position?(e.style.top=po.y+po.h/2-e.offsetHeight/2+"px",e.style.left=po.x+po.w+"px"):"left"===descObj.position?(e.style.top=po.y+po.h/2-e.offsetHeight/2+"px",e.style.left=po.x-e.offsetWidth-8+"px"):"bottom"===descObj.position?(e.style.top=po.y+e.offsetHeight-16+"px",e.style.left=po.x-e.offsetWidth/2+po.w/2+"px"):(e.style.top=po.y-e.offsetHeight-3+"px",e.style.left=po.x-e.offsetWidth/2+po.w/2+"px"))},className:`${_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.tooltip} \n      ${"left"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.left:""}\n      ${"right"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.right:""}\n      ${"bottom"===descObj.position?_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.bottom:""}\n      `},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.arrow},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.content})),react__WEBPACK_IMPORTED_MODULE_3___default().createElement("div",{className:_Tooltips_less__WEBPACK_IMPORTED_MODULE_5__.Z.inner},react__WEBPACK_IMPORTED_MODULE_3___default().createElement("span",null,descObj.content))),document.body)}}},32889:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(90359),o=n.n(i),r=n(23037),s=n(5184),a=n(39751),l=n(83446),c=n(65746),d=n(55443);class u{constructor(){this.visible=!0}}function p({id:e,style:t,inIFrame:n,focused:r,min:p,onClose:h,ifVisible:g}){const y=(0,l.N7)(s.Z,{from:"parents"}),b=(0,l.mA)(u,(t=>{const n=y.model.viewSlots[e];if(n)t({spaContext:y,model:n});else{const n=y.model.views[e];t({spaContext:y,model:new a.Z({status:n.status,closeable:!1,tabs:[e],showTitleBar:!0,height:n.height})})}})),v=b.model;(0,i.useEffect)((()=>{var e;const{model:t,ele:n}=(0,l.N7)(u);"number"==typeof t.height&&t.height>d.Td&&(t.status="normal");const i=null===(e=null==n?void 0:n.parentElement)||void 0===e?void 0:e.offsetHeight;t.height>i-5&&(t.height=i+1)}),[]);const x=(0,l.vc)((()=>v.tabs.map(((e,t)=>{const n=y.model.views[e];return n?n.title:"Loading"})).filter((e=>e)))),w=(0,i.useCallback)((e=>()=>{switch(e){case"min":v.status="min",(void 0===v.height||v.height>d.Td)&&(v.heightRecover=v.height,v.height=d.Td);break;case"recover":v.status="normal",v.height=v.heightRecover||400;break;case"close":h()}}),[]);(0,l.vc)((()=>{"function"==typeof g&&(g()?b.visible=!0:b.visible=!1)}));const E=(0,l.vc)((()=>{let e;return v.closeable||v.isStatusOfMax()||v.isStatusOfPop()?e=o().createElement("div",{onClick:w("close"),title:"关闭",className:`${c.Z.icon} ${c.Z.closeIcon}`},d.UZ.close):"auto"!==v.height&&(e="min"===v.status?o().createElement("div",{onClick:w("recover"),title:"恢复",className:`${c.Z.icon} ${c.Z.iconRecover}`},d.UZ.recover):v.height>d.Td||!v.height?o().createElement("div",{onClick:w("min"),title:"最小化",className:c.Z.icon},d.UZ.min):o().createElement("div",{onClick:w("recover"),title:"恢复",className:`${c.Z.icon} ${c.Z.iconRecover}`},d.UZ.recover)),e})),A=(0,l.vc)((()=>v.tabs.map(((e,t)=>{const n=y.model.views[e];return n?o().createElement(i.Fragment,{key:t},o().createElement(n.render,{onToolbar:e=>{"function"==typeof e&&(b.toolbarExt=e)}})):null})))),_=(0,l.vc)((()=>{const e=[c.Z.view];return v.status&&e.push(c.Z[v.status]),y.reLayout&&e.push(c.Z.freeze),e.join(" ")}));let C=(0,l.vc)((()=>{const e=b.visible?{}:{display:"none"};return"auto"===v.height&&(e.overflow="auto",e.flex=1),"min"===v.status?e.height=d.Td-1:v.isStatusOfMax()||v.isStatusOfPop()?e.height="100%":e.height=v.height||400,Object.assign(e,t||{})}));C=(0,i.useMemo)((()=>Object.assign({},C,t||{})),[C,t]),(0,l.vc)((()=>{h&&y.desnContext.isDebugMode()&&h()}));const I=(0,l.vc)((()=>{if(b.toolbarExt)return b.toolbarExt()})),M=(0,i.useMemo)((()=>"pop"===v.status?o().createElement(o().Fragment,null,o().createElement("div",{className:c.Z.title},E,o().createElement("span",null,x)),A):v.showTitleBar?o().createElement(o().Fragment,null,o().createElement("div",{className:c.Z.title},x.length>0?o().createElement("div",{className:c.Z.tt,onDoubleClick:f},x):null,o().createElement("div",{className:c.Z.ext,style:{visibility:"min"===v.status?"hidden":"visible"}},I),E),o().createElement("div",{className:c.Z.content},A)):A),[x,E,A]);return o().createElement(o().Fragment,null,"auto"!==v.height?o().createElement("div",{className:c.Z.sperH,style:b.visible?{}:{display:"none"},onMouseDown:m},o().createElement("div",null)):null,o().createElement("div",{className:_,style:C,ref:e=>e&&(b.ele=e)},M))}function f(e){var t;const{model:n,ele:i}=(0,l.N7)(u),o=null===(t=null==i?void 0:i.parentElement)||void 0===t?void 0:t.offsetHeight;n.height>=o?n.height=n.heightRecover:n.height=o+1}function m(e){const t=(0,l.N7)(u),{model:n,spaContext:i}=t;let o,s;(0,l.qw)(e,(({po:{x:a,y:l},epo:{ex:c,ey:u},dpo:{dx:p,dy:f},adpo:{adx:m,ady:h}},g)=>{var y,b;if("start"==g){let{x:n,y:a,w:l,h:c}=(0,r.bt)(t.ele);o=c+e.clientY,s=null===(b=null===(y=t.ele)||void 0===y?void 0:y.parentElement)||void 0===b?void 0:b.offsetHeight,requestAnimationFrame((()=>{i.reLayout=!0}))}if("moving"==g){if(f>0&&n.height<=d.Td+10)return n.height=d.Td-1,void(n.status="min");if(f<0){if(void 0===n.height){const e=t.ele.offsetHeight;n.height=Math.max(e,d.Td)}if(n.height>=s-10)return void(n.height=s+1)}if(o-u<d.Td)return;n.status="normal",requestAnimationFrame((()=>{n.height=o-u}))}"finish"==g&&requestAnimationFrame((()=>{i.reLayout=void 0}))}))}},48168:(e,t,n)=>{n.d(t,{G:()=>r});var i=n(79127),o=n(83446);function r(e){var t,n,r;const{desnContext:a,model:l,config:c,emitItem:d,emitSnap:u}=e;let p=[];const f=null===(t=c.editView)||void 0===t?void 0:t.items,m=(0,o.LO)({get style(){return l.mainModule.slot.style},isDesnMode:()=>a.isDesnMode(),isDesnModeofBluePrint:()=>a.isDesnModeOfBluePrint(),isDesnModeAsNormal:()=>a.isDesnModeOfNormal(),editAsBluePrint(){a.setModeDesnOfBluePrint()},editAsNormal(){a.setModeDesnOfNormal()}});function h(t,n){Array.isArray(n)&&n.forEach(((n,o)=>{if(n.items){const o=new i.Af.Group(n.title);t.addGroup(o),n.items.forEach((t=>{o.addItem(s(e,{title:t.title,type:t.type,options:t.options,description:t.description,ifVisible:()=>!t.ifVisible||t.ifVisible(m),value:{get:()=>t.value.get(m),set(e){"function"==typeof t.value.set&&t.value.set(m,e)}}}))}))}else{const o=new i.Af.Group;t.addGroup(o),"function"==typeof n?o.addItem(n):"object"==typeof n&&o.addItem(s(e,{title:n.title,type:n.type,options:n.options,description:n.description,ifVisible:()=>!n.ifVisible||n.ifVisible(m),value:{get:()=>n.value.get(m),set(e){"function"==typeof n.value.set&&n.value.set(m,e)}}}))}}))}if("function"==typeof f){const e={title:"项目",items:[]},t={title:"",items:[]},o={title:"",items:[]};f({},e,t,o);const s=new i.Af.Category(e.title||"项目");if(p.push(s),h(s,e.items||[]),(null===(n=t.items)||void 0===n?void 0:n.length)>0){const e=new i.Af.Category(t.title||"");p.push(e),h(e,t.items)}if((null===(r=o.items)||void 0===r?void 0:r.length)>0){const e=new i.Af.Category(o.title||"");p.push(e),h(e,o.items)}}else{let e=new i.Af.Category("项目");p.push(e),h(e,f)}return p}function s(e,t){const{model:n,emitSnap:o}=e,r={};if("function"==typeof t)return new i.Af.FunctionItem((function(){t(r)}));if("object"==typeof t){let e=t.options;return"function"==typeof e&&(e=t.options(r)),new i.Af.EditItem({title:t.title,type:t.type,description:t.description,ifVisible:t.ifVisible,value:function(){let e,n=!1;return{get:()=>(n||(n=!0,e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e),e),set(e){n=!1;const i=o.start("Change value");try{(t.value&&t.value.set||(()=>{}))(e),i.commit()}catch(e){throw e}}}}(),options:e})}throw new Error("Invalid typeof editor(function or object expect)")}},55443:(e,t,n)=>{n.d(t,{Td:()=>s,UZ:()=>a,it:()=>r,pE:()=>o});var i=n(90359);const o="xg.desn.stageview",r="xg.desn.designer.stageview.",s=30,a={min:i.createElement("svg",{t:"1634129222044",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6239",width:"16",height:"16"},i.createElement("path",{d:"M78.633918 396.690788l858.20393 0 0 158.309562-858.20393 0 0-158.309562Z","p-id":"6240"})),recover:i.createElement("svg",{t:"1634128935788",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3949",width:"16",height:"16"},i.createElement("path",{d:"M739.95130434 284.04869566v658.32336695H81.62793739V284.04869566h658.32336695m0.60787015-75.98376812H80.4121971c-41.33516985 0-75.37589797 33.43285797-75.37589797 75.37589797V943.5878029c0 41.33516985 33.43285797 75.37589797 75.37589797 75.37589797h660.14697739c41.33516985 0 75.37589797-33.43285797 75.37589797-75.37589797V283.44082551c0-41.94304-33.43285797-75.37589797-75.37589797-75.37589797z","p-id":"3950",fill:"#555555"}),i.createElement("path",{d:"M944.19567304 5.64416928H282.83295536c-41.33516985 0-74.16015768 33.43285797-74.76802782 74.16015768v77.1995084h75.98376812V81.62793739h658.32336695v658.32336695h-75.98376812V815.93507246H943.5878029c41.33516985 0 74.16015768-33.43285797 74.76802782-74.76802782V79.80432696c0-40.72729971-33.43285797-74.16015768-74.16015768-74.16015768z","p-id":"3951",fill:"#555555"})),close:i.createElement("svg",{t:"1634129353244",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7239",width:"16",height:"16"},i.createElement("path",{d:"M426.1888 522.717867L40.004267 136.533333 136.533333 40.004267l386.184534 386.184533L908.9024 40.004267 1005.431467 136.533333 619.178667 522.717867l386.184533 386.184533-96.529067 96.529067L522.717867 619.178667 136.533333 1005.431467 40.004267 908.9024l386.184533-386.184533z","p-id":"7240"}))}},64495:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(90359),o=n.n(i),r=n(83446),s=n(26262),a=n(79127),l=n(64664);class c{getOutputEvents(e){let t;if(this.model instanceof a.cR){const n=this.model.model;e&&!n.outputEvents&&(n.outputEvents={}),t=n.outputEvents}else e&&!this.model.outputEvents&&(this.model.outputEvents={}),t=this.model.outputEvents;return t}clearCurEvent(){this.val={type:"none"}}setCurEvent(e){if(!this.val||e!==this.val.type){let t=this.eventDefs.find((t=>t.type===e));const n=this.getOutputEvents(!0);let i=n[this.outputId];i||(n[this.outputId]=i=[]);let o=i.find((t=>t.type===e));o||i.push(o={type:t.type,options:{}}),i.forEach((e=>e.active=void 0)),o.active=!0,this.val=o}}saveEvent(){if(this.val){let e;e=this.model instanceof a.cR?this.model.geo:this.model;const t=this.emitSnap.start("创建事件",{target:e});this.getOutputEvents(!0)[this.outputId]=[this.val],t.commit()}}}function d(e){var t;const{options:n}=e;let i;i=n&&"function"==typeof n?null===(t=n())||void 0===t?void 0:t.options:n;const d=(0,r.mA)(a.cA.FxFrame,{expectTo:"parents"}),p=(0,r.mA)(a.cA.Frame,{expectTo:"parents"}),f=(0,r.N7)(a.cA.Component,{from:"parents"}),m=(0,r.mA)(a.cA.Snap,{expectTo:"parents"}),h=(0,r.mA)(a.cA.Message,{expectTo:"parents"}),g=(0,r.N7)(a.zz,{from:"parents"}),y=(0,r.mA)(c,(e=>{var t,n,o;const r=[{type:"none",title:"[无]",options:{}}],s=null===(o=null===(n=null===(t=g.configs)||void 0===t?void 0:t.com)||void 0===n?void 0:n.env)||void 0===o?void 0:o.events;let a,c;s&&s.length>0&&(r.push({type:"-",title:"应用自定义"}),r.push(...s)),g.configs.toplView&&(r.push({type:"-",title:"图形化编程"}),r.push({type:"defined",title:"自定义",options:{}}),r.push({type:"fx",title:"选择Fx",options:{}}));const u=g.focusModelAry;if(1===u.length){const e=u[0];e instanceof l.U7?(a=e,c=e.id):(c=i.slotId,a=e.runtime)}e({context:g,emitFxFrame:d,emitFrame:p,emitCom:f,emitSnap:m,emitMessage:h,outputId:i.outputId,slotId:c,eventDefs:r,model:a})}),{init(e){if(e.model){const t=e.getOutputEvents();if(t){const n=t[i.outputId];if(n){const t=n.find((e=>e.active));if(t)return void e.setCurEvent(t.type)}}let n=e.eventDefs.find((e=>e.default));n||(n=e.eventDefs.find((e=>"defined"===e.type))),n&&e.setCurEvent(n.type)}}});if(y.model)return i&&i.outputId?o().createElement(u,{ctx:y}):o().createElement("div",{className:s.Z.errInfo},"未定义outputId")}function u({ctx:e}){var t;const{model:n,outputId:a,slotId:c,eventDefs:d,emitFrame:u,emitFxFrame:f,emitCom:m,emitSnap:h,emitMessage:g}=e,y=(0,i.useMemo)((()=>{const e=[];return d.forEach(((t,n)=>{"-"===t.type?e.push(o().createElement("optgroup",{key:n,label:t.title})):e.push(o().createElement("option",{key:t.type,value:t.type},t.title))})),e}),[]),b=(0,i.useCallback)((t=>{if(n instanceof l.U7)if(t)u.focusDiagram(c,a);else{const t=h.start(`创建场景 ${n.title} 的事件`),i=u.bindDiagram(c,a);i?(e.val.options=i,t.commit()):(t.cancel(),g.error("定义逻辑卡片失败."))}else if(t)m.focusScript(n.id,a,c);else{const t=h.start(`创建组件 ${n.title} 的事件`),i=m.bindScript(n.id,a,c);i?(e.val.options=i,t.commit()):(t.cancel(),g.error("定义逻辑卡片失败,请联系该组件开发者."))}}),[]),v=(0,i.useCallback)((e=>{n instanceof l.U7?alert("尚未实现.."):e?f.focusWithCom(n.id,a):f.bindWithCom(n.id,a)}),[]),x=(0,i.useCallback)((()=>{f.removeWithCom(n.id,a)}),[]),w=(0,r.vc)((()=>{const t=e.val;if("defined"===(null==t?void 0:t.type))try{let e;return e=n instanceof l.U7?u.hasDiagram(c,a):m.hasScript(n.id,a,c),o().createElement("button",{onClick:t=>b(e),className:`${e?s.Z.show:""}`},e?"查看":"新建")}catch(e){return console.error(e),o().createElement("button",{className:s.Z.error},"未找到实现")}else if("fx"===(null==t?void 0:t.type))try{let e;return e=n instanceof l.U7?f.hadBindWithSlot(c,a):f.hadBindWithCom(n.id,a),e?o().createElement(o().Fragment,null,o().createElement("button",{onClick:t=>v(e),className:s.Z.show},"查看",o().createElement("span",null,e.title)),o().createElement("button",{onClick:x,className:s.Z.clear},"清除")):o().createElement("button",{onClick:t=>v(e)},"选择..")}catch(e){return console.error(e),o().createElement("button",{className:s.Z.error},"未找到实现")}})),E=(0,r.vc)((()=>{const t=[],n=e.val;if((null==n?void 0:n.type)&&"defined"!==n.type){const i=d.find((e=>e.type===n.type));i&&Array.isArray(i.options)&&i.options.forEach(((i,r)=>{t.push(o().createElement(p,{key:`${n.type}${r}`,def:i,ctx:e}))}))}return t}));return o().createElement(o().Fragment,null,o().createElement("div",{className:s.Z.type},o().createElement("select",{value:null===(t=e.val)||void 0===t?void 0:t.type,onChange:t=>{e.setCurEvent(t.currentTarget.value)}},y),w),E)}function p({def:e,ctx:t}){switch(e.editor.toLowerCase()){case"text":return o().createElement("div",{className:s.Z.edtItem},o().createElement("label",null,e.title,":"),o().createElement("input",{type:"text"}));case"textarea":return o().createElement("div",{className:s.Z.edtItem},o().createElement("label",null,e.title,":"),o().createElement("textarea",{value:t.val.options[e.id],onChange:n=>{t.val.options[e.id]=n.currentTarget.value},onBlur:e=>{t.saveEvent()}}))}}},18909:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(64495),o=n(79127),r=n(90359);const s={};var a,l;function c(e){if(!e||!e.type)return;const{type:t,options:n,ele:i}=e,o=s[t.toUpperCase()];return o?o(e):void 0}a=o.$U.EVENT,l=i.Z,s[a.toUpperCase()]=function(e){return r.createElement(l,Object.assign({},e))}},66273:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(90359),o=n.n(i),r=n(43797),s=n(83446),a=n(79127);class l{commit(){this.newItem?this.newItem.ifContentValid()?(this.spaContext.emitLocale.addItem(this.newItem),this.value.set(this.newItem),this.close()):this.spaContex.emitMessage.error("请填写正确的文案内容"):this.nowItem?(this.value.set(this.nowItem),this.close()):(this.value.set(),this.close())}}let c;function d(e,t){const{emitView:n}=t;n.popView("编辑文案",(({close:n})=>o().createElement(u,{options:e,spaContext:t,close:n})),{width:350,beforeEditView:!0})}function u({options:e,spaContext:t,close:n}){const{emitLocale:i}=t;return c=(0,s.mA)(l,(o=>{const r=e.value.get();let s;r&&"object"==typeof r&&r.id&&(s=i.searchById(r.id)),o({spaContext:t,close:n,value:e.value,nowItem:s})})),o().createElement("div",{className:r.Z.editor},o().createElement("div",{className:r.Z.toolbar},o().createElement("button",{onClick:c.commit},"确定")),o().createElement(p,null),t.model.localeImpl?null:o().createElement(f,null),o().createElement(m,null))}function p(){const e=c.nowItem,t=(0,i.useCallback)((()=>{c.newItem=new a.Fz}),[]),n=(0,i.useCallback)((e=>{c.nowItem=void 0}),[]);if(c.newItem)return;let s;return s=e?o().createElement(o().Fragment,null,o().createElement("label",null,"已选择",o().createElement("span",{className:r.Z.del,onClick:n},a.PJ.garbage)),o().createElement("div",{className:r.Z.textCard},o().createElement("div",{className:r.Z.content,dangerouslySetInnerHTML:{__html:e.toHTML()}}),o().createElement("span",null,a.PJ.world))):o().createElement("div",{className:r.Z.empty},o().createElement("label",null,"内容为空"),o().createElement("button",{onClick:t,disabled:!!c.newItem},"添加")),o().createElement("div",{className:`${r.Z.nowItem}`},s)}function f(){const e=c.newItem,t=(0,i.useRef)(),n=(0,i.useCallback)((e=>{c.newItem=void 0}),[]);if((0,i.useEffect)((()=>{t.current&&t.current.focus()}),[t.current]),e)return o().createElement("div",{className:`${r.Z.edtItem}`},o().createElement("label",null,"新建文案",o().createElement("span",{className:r.Z.del,onClick:n},a.PJ.garbage)),o().createElement("div",{className:`${r.Z.item}`},o().createElement("label",null,"中文"),o().createElement("input",{type:"text",value:e.getContent("zh")||"",onChange:t=>e.setContent(t.target.value,"zh"),ref:t})),o().createElement("div",{className:r.Z.item},o().createElement("label",null,"英文"),o().createElement("input",{type:"text",value:e.getContent("en")||"",onChange:t=>e.setContent(t.target.value,"en")})))}function m(){const[e,t]=(0,i.useState)([]),n=(0,i.useCallback)((e=>{const n=e.target.value;if(""!==n.trim()){const e=c.spaContext.emitLocale.searchByKeywords(n,"zh");e&&e.length>0?t(e):t(void 0)}else t(void 0)}),[]),s=(0,i.useCallback)((e=>{c.newItem=void 0,c.nowItem=e,c.spaContext.emitLocale.usedById(e.id)}),[]),l=(0,i.useMemo)((()=>{if(e)return e.map((e=>o().createElement("div",{key:e.id,className:r.Z.textCard,onClick:t=>s(e)},o().createElement("div",{className:r.Z.content,dangerouslySetInnerHTML:{__html:e.toHTML()}}),o().createElement("span",null,a.PJ.world))))}),[e]);return o().createElement("div",{className:r.Z.searchView},o().createElement("div",{className:r.Z.tb},o().createElement("label",null,"选择其他文案"),o().createElement("div",{className:r.Z.search},o().createElement("input",{type:"text",placeholder:"搜索",onChange:n}),o().createElement("span",null,a.PJ.search))),o().createElement("div",{className:r.Z.items},l))}},65367:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(95111),s=n(83446),a=n(79127);class l{setRegister(e,t){this.permission.register[e]=t.target.value}setRemark(e){this.permission.remark=e.target.value}commit(){this.value.set(this.permission),this.close()}}function c(e,t){const{emitView:n}=t;n.popView("编辑权限",(({close:n})=>o().createElement(d,{options:e,spaContext:t,close:n})),{width:350,beforeEditView:!0})}function d({options:e,spaContext:t,close:n}){const{model:i}=t,c=(0,s.mA)(l,(t=>{const o=e.value.get();let r;if(o){const e=o.id;r=i.getPermissionById(e)}r||(r=new a.eZ),t({close:n,value:e.value,permission:r})})),d=c.permission;return o().createElement("div",{className:r.Z.editor},o().createElement("div",{className:r.Z.toolbar},o().createElement("button",{onClick:c.commit},"确定")),o().createElement("div",{className:r.Z.item,onClick:e=>d.type="none"},o().createElement("input",{type:"radio",name:"type",checked:"none"===d.type,onChange:e=>{}}),o().createElement("span",null,"无")),o().createElement("div",{className:r.Z.item,onClick:e=>d.type="register"},o().createElement("input",{type:"radio",name:"type",checked:"register"===d.type,onChange:e=>{}}),o().createElement("span",null,"注册为功能项")),"register"===d.type?o().createElement("div",{className:r.Z.register},o().createElement("div",{className:`${r.Z.item} ${r.Z.required} `},o().createElement("label",null,"权限代码"),o().createElement("input",{type:"text",value:d.register.code||"",onChange:e=>c.setRegister("code",e)})),o().createElement("div",{className:r.Z.item},o().createElement("label",null,"显示名称"),o().createElement("input",{type:"text",value:d.register.title||"",onChange:e=>c.setRegister("title",e)})),o().createElement("div",{className:r.Z.item},o().createElement("label",null,"无权限时"),o().createElement("select",{value:d.register.noPrivilege||"hide",onChange:e=>c.setRegister("noPrivilege",e)},o().createElement("option",{value:"hide"},"隐藏"))),o().createElement("div",{className:r.Z.item},o().createElement("label",null,"备注"),o().createElement("textarea",{value:d.remark||"",onChange:e=>c.setRemark(e)}))):null)}},47714:(e,t,n)=>{n.d(t,{Z:()=>i});class i{clear(){this.keyword=void 0,this.geoRst=void 0,this.toplRst=void 0}}},75028:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M947.942255 886.008182 720.970894 659.243529c48.977481-62.368466 78.178547-140.907217 78.178547-226.249931 0-202.907293-165.033707-367.395578-368.613312-367.395578-203.580628 0-368.616382 164.489308-368.616382 367.395578 0 202.90627 165.035754 367.395578 368.616382 367.395578 85.758176 0 164.673503-29.192879 227.295749-78.146824l226.938616 226.728838c12.769838 12.727882 33.475416 12.727882 46.246277 0l16.925485-16.870226C960.713117 919.374104 960.713117 898.736065 947.942255 886.008182zM430.536129 711.482287c-154.315598 0-279.414781-124.682697-279.414781-278.487665 0-153.805992 125.099183-278.488689 279.414781-278.488689 154.315598 0 279.410688 124.68372 279.410688 278.488689C709.946816 586.79959 584.851727 711.482287 430.536129 711.482287z",fill:"#707070"}))},49442:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(90359),o=n.n(i),r=n(4446),s=n(35082),a=n(75028),l=n(64664),c=n(86409);let d;function u({ctx:e}){d=e;const t=(0,i.useCallback)((e=>{const t=e.target.value;""!==t.trim()?(d.keyword=t,d.geoRst=(0,l.yC)({keyword:t}),d.toplRst=(0,c.yC)({keyword:t})):d.clear()}),[]);return o().createElement("div",{className:r.Z.view},o().createElement("div",{className:s.Z.titleBar},o().createElement("label",null,"搜索"),o().createElement("input",{type:"text",placeholder:"搜索组件、流程卡片等内容",ref:e=>{e&&e.focus()},onKeyDown:e=>{13===e.keyCode&&t(e)}}),o().createElement("span",null,a.S)),o().createElement("div",{className:r.Z.results},o().createElement(m,null),o().createElement(f,null)))}function p({item:e,itemClass:t}){const n=(0,i.useCallback)((()=>{"function"==typeof e.focus&&(e.focus(),d.close())}),[]);return o().createElement("div",{className:`${r.Z.item} ${t}`,onClick:n},e.title)}function f(){if(!d.keyword)return null;let e;return d.toplRst&&(e=d.toplRst.map((e=>o().createElement("div",{key:e.id,className:r.Z.scene},o().createElement("div",{className:r.Z.tt},e.title,"："),e.results.map((e=>{switch(e.type){case"diagram":return o().createElement(p,{key:e.id,item:e,itemClass:r.Z.diagramItem});case"com":return o().createElement(p,{key:e.id,item:e,itemClass:r.Z.comItem})}})))))),o().createElement("div",{className:r.Z.catalog},o().createElement("div",{className:r.Z.ttt},"交互视图"),o().createElement("div",{className:r.Z.scenes},e))}function m(){if(!d.keyword)return null;let e;return d.geoRst&&(e=d.geoRst.map((e=>o().createElement("div",{key:e.id,className:r.Z.scene},o().createElement("div",{className:r.Z.tt},e.title,"："),e.results.map((e=>{if("com"===e.type)return o().createElement(p,{key:e.id,item:e,itemClass:r.Z.comItem})})))))),o().createElement("div",{className:r.Z.catalog},o().createElement("div",{className:r.Z.ttt},"UI视图"),o().createElement("div",{className:r.Z.scenes},e))}},29665:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(4446),s=n(93628);let a;function l({ctx:e}){a=e;const t=a.spaContext.findPluginResults,n=(0,i.useCallback)((()=>{a.spaContext.findPluginResults=void 0}),[]);return o().createElement("div",{className:r.Z.view},o().createElement("div",{className:s.Z.titleBar},o().createElement("label",null,"引用:"),o().createElement("span",null,t.title),o().createElement("span",{className:s.Z.iconClose,onClick:n},"✕")),o().createElement("div",{className:r.Z.results},o().createElement("div",{className:r.Z.catalog},o().createElement("div",{className:r.Z.ttt},"交互视图"),o().createElement("div",{className:r.Z.scenes},t.results.map((e=>o().createElement("div",{key:e.id,className:r.Z.scene},o().createElement("div",{className:r.Z.tt},e.title,"："),e.results.map((e=>{switch(e.type){case"diagram":return o().createElement(c,{key:e.id,item:e,itemClass:r.Z.diagramItem});case"com":return o().createElement(c,{key:e.id,item:e,itemClass:r.Z.comItem})}})))))))))}function c({item:e,itemClass:t}){const n=(0,i.useCallback)((()=>{"function"==typeof e.focus&&(e.focus(),a.close())}),[]);return o().createElement("div",{className:`${r.Z.item} ${t}`,onClick:n},e.title)}},75580:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(90359),o=n.n(i),r=n(83446),s=n(5184),a=n(47714),l=n(49442),c=n(29665);let d;function u({close:e}){const t=(0,r.N7)(s.Z,{from:"parents"});return d=(0,r.mA)(a.Z,(n=>{n({close:e,spaContext:t})})),t.findPluginResults?o().createElement(c.Z,{ctx:d}):o().createElement(l.Z,{ctx:d})}},82261:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(75028),o=n(71211),r=n(75580),s=n(90359);const a={namespace:"mybricks.plugin.find",title:"搜索",author:"CheMingjun","author.zh":"车明君",version:"1.0.0",description:"Mybricks的搜索插件",data:o,contributes:{sliderView:{tab:{title:"标签",icon:i.S,apiSet:["label"],render:e=>s.createElement(r.Z,Object.assign({},e))}}},activate(e){},beforeDump(e){}}},89164:(e,t,n)=>{n.d(t,{Z:()=>i});class i{get activePlugin(){return this.spaContext.activePlugin}switchPlugin(e){var t;if(this.spaContext.desnContext.isDebugMode())return;const n=this.spaContext;"object"==typeof e?(null===(t=n.activePlugin)||void 0===t?void 0:t.namespace)===e.namespace?n.activePlugin=void 0:(this.emitItem.blur(),n.activePlugin=e):n.activePlugin===e?n.activePlugin=void 0:n.activePlugin=e}}},62264:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(90359),o=n.n(i),r=n(79127),s=n(83446),a=n(84493),l=n(5184),c=n(24318),d=n(68117),u=n(89164),p=n(82261);let f;function m({style:e}){var t;const n=(0,s.N7)(l.Z,{from:"parents"}),{model:m,desnContext:h,emitLabel:g,emitVariable:y,emitSnap:b}=n,v=(0,s.mA)(r.cA.Component,{expectTo:"parents"});f=(0,s.mA)(u.Z,(e=>{e({spaContext:n,model:m,emitItem:v})})),(0,i.useLayoutEffect)((()=>{n.findPluginResults&&f.switchPlugin(p.Z)}),[n.findPluginResults]);const x=(null===(t=h.configs)||void 0===t?void 0:t.plugins)||[];(0,i.useMemo)((()=>{x.push({namespace:"mybricks.sper"}),x.push(p.Z)}),[]);const w=h.isDebugMode(),E=(0,s.vc)((()=>{let e;f.activePlugin&&(e=f.activePlugin.namespace);const t=[];return x&&Array.isArray(x)&&x.forEach(((n,i)=>{var r,l;if("mybricks.sper"===n.namespace)t.push(o().createElement("div",{key:n.namespace,className:a.Z.sperItem}));else{const i=null===(l=null===(r=null==n?void 0:n.contributes)||void 0===r?void 0:r.sliderView)||void 0===l?void 0:l.tab;if(i){const r=n.namespace,l="object"==typeof i.icon?i.icon:i.title,c=w?{}:{"data-mybricks-tip":`{content:'${n.title}',position:'right'}`};t.push(o().createElement("div",Object.assign({key:r,className:`${a.Z.item} ${e===r?a.Z.activeItem:""}`,onClick:(0,s.Ft)((e=>f.switchPlugin(n))).stop},c),l))}}})),t})),A=(0,s.vc)((()=>{var e,t;const i=f.activePlugin;if("object"==typeof i){const l=null===(t=null===(e=null==i?void 0:i.contributes)||void 0===e?void 0:e.sliderView)||void 0===t?void 0:t.tab;if(l){const e=l.render;if("function"==typeof e){const t=l.apiSet,c={close(){f.switchPlugin(i)},get data(){return f.spaContext.desnContext.getPluginData(i.namespace)}};return Array.isArray(t)&&(t.find((e=>"command"===e))&&(c.command=(0,d.YV)(n)),t.find((e=>"canvas"===e))&&(c.canvas=(0,d.Ne)(n)),t.find((e=>"locale"===e))&&(c.locale=(0,d.mp)(n)),t.find((e=>"label"===e))&&(c.label=(0,d.P0)(n)),t.find((e=>"variables"===e))&&(c.variables=(0,d.P)(n)),t.find((e=>"project"===e))&&(c.project=(0,d.RS)(n)),t.find((e=>"component"===e))&&(c.component=(0,d.s3)(n)),t.find((e=>"theme"===e))&&(c.theme={set(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const n=m._cssVars.find((t=>t.name===e));n?n.value=t:m._cssVars.push({name:e,value:t})},get(e){const t=m._cssVars.find((t=>t.name===e));return t?t.value:void 0},remove(e){m._cssVars.find((t=>t.name===e))&&(m._cssVars=m._cssVars.filter((t=>t.name!==e)))}}),t.find((e=>"themes"===e))&&(c.themes=(0,d.qy)(n)),t.find((e=>"domainModel"===e))&&(c.domainModel=(0,d._g)(n)),t.find((e=>"connector"===e))&&(c.connector=(0,d.ft)(n))),o().createElement("div",{className:a.Z.pluginBg,onClick:(0,s.Ft)((e=>f.switchPlugin(i))).stop},o().createElement("div",{className:a.Z.activePlugin,onClick:(0,s.Ft)().stop},o().createElement(r.Vx,{render:()=>o().createElement("div",{className:a.Z.errPlugin},i.title," 插件发生错误")},e(c))))}}}}));(0,i.useEffect)((()=>{n.loaded&&x&&Array.isArray(x)&&x.forEach((e=>{const t=h.getPluginData(e.namespace);e.data=t,"function"==typeof e.onLoad&&e.onLoad({data:h.getPluginData(e.namespace),locale:(0,d.mp)(n)})}))}),[n.loaded]);const _=h.configs.sliderView;if((h.configs.geoView||x)&&!1!==(null==_?void 0:_.display))return o().createElement(o().Fragment,null,o().createElement("div",{className:`${a.Z.view} ${h.isDebugMode()?a.Z.disabledItem:""}`,style:e,ref:e=>{e&&(f.viewEle=e)}},E,o().createElement("div",{className:a.Z.sperFlex})),A?(0,c.createPortal)(A,f.viewEle.parentElement):null)}},99020:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(70662),o=n(90359),r=n.n(o),s=n(83446),a=n(5184),l=n(79748),c=n(64664),d=n(86409);let u;function p(){u=(0,s.N7)(a.Z,{from:"parents"});const{eventLogs:e,desnContext:t,model:n}=u,[o,c]=(0,s.vc)((()=>{if(t.isDebugMode())return[null,null];const n=e.length>0?e[e.length-1]:void 0;if(n){let e,t;switch(n.type){case"info":e=l.aU,t=i.Z.info;break;case"warn":e=l.mh,t=i.Z.warn;break;case"error":e=l.Uc,t=i.Z.error}return[r().createElement("div",{className:`${i.Z.lastLog} ${t}`},r().createElement("span",{className:`${i.Z.icon}`},e),r().createElement("p",null,n.msg.replace(/%c/gi,""))),t]}return[null,null]}));return r().createElement("div",{className:`${i.Z.statusBar}`},r().createElement(f,null),r().createElement("div",{className:i.Z.lyRight},o,r().createElement("div",{className:i.Z.btns},r().createElement(m,null),r().createElement(h,null))))}function f(){const{eventLogs:e,model:t}=u,[n,a]=(0,o.useState)(""),c=(0,o.useRef)();(0,o.useMemo)((()=>{if(u.loaded){const e=()=>{const e=t.designCostTime;if(e<60)a("1分钟");else if(e<3600){const t=Math.round(e/60);a(`${t}分钟`)}else{const t=(e/60/60).toFixed(1);a(`${t}小时`)}};e();let n=!0;c.current&&clearInterval(c.current),c.current=setInterval((()=>{n&&((0,s.xN)((()=>{t.designCostTime+=5})),e())}),5e3),window.addEventListener("focus",(()=>{n=!0})),window.addEventListener("blur",(()=>{n=!1}))}}),[u.loaded]),(0,o.useEffect)((()=>()=>{c.current&&clearInterval(c.current)}),[]);const d=(0,s.vc)((()=>{if(u.pageLoaded){const e=t.mainModule;if(e){const n=e.slot,i=e.frame;let o,r,s,a,l,c,d=0;if(t.modules&&(d=Object.values(t.modules).filter((e=>!e.deleted)).length),n){r=e.slot.slots.filter((e=>!e.isTypeOfDefinedCom())).length;const t=e.slot.getSummaryInfo();s=t.coms,a=t.slots}if(i){const t=e.frame.getSummaryInfo();l=t.diagrams,c=t.coms}if(n&&i){const e=1*s+2*a+3*l+1.5*c;o=e<=50?"L1":e<=300?"L2":e<=900?"L3":e<=1200?"L4":e<=3e3?"L5":"L5+"}return{level:o,hasSlot:n,hasFrame:i,scenesNo:r,modulesNo:d,uiComsNo:s,slotsNo:a,diagramsNo:l,logicComsNo:c}}}return{}})),{level:p,hasSlot:f,hasFrame:m,scenesNo:h,modulesNo:g,uiComsNo:y,slotsNo:b,diagramsNo:v,logicComsNo:x}=d;return r().createElement("div",{className:i.Z.statistics},r().createElement("span",null,"统计"),p?r().createElement("div",{className:i.Z.level},r().createElement("span",null,p)):null,f?r().createElement("div",null,r().createElement("label",null,"场景"),r().createElement("span",null,h),r().createElement("label",null,"模块"),r().createElement("span",null,g),r().createElement("label",null,"UI"),r().createElement("span",null,y,r().createElement("span",null,"/"),b)):null,m?r().createElement("div",null,r().createElement("label",null,"交互"),r().createElement("span",null,x,r().createElement("span",null,"/"),v)):null,r().createElement("div",{className:i.Z.costTime},r().createElement("label",null,l._$),r().createElement("span",null,n)))}function m(){const{emitLogs:e,model:t}=u,n=(0,o.useCallback)((()=>{e.info("扫描开始.."),setTimeout((e=>{(0,c.Gu)(),(0,d.Gu)()}),100)}),[]);return r().createElement("span",{onClick:n,"data-mybricks-tip":"{content:'错误检查',position:'top'}"},l.NO)}function h(){const{eventLogs:e,model:t}=u,[n,a]=(0,s.vc)((()=>{const t=e.length>0?e[e.length-1]:void 0;if(t){let e,n;switch(t.type){case"info":e=l.aU,n=i.Z.info;break;case"warn":e=l.mh,n=i.Z.warn;break;case"error":e=l.Uc,n=i.Z.error}return[r().createElement("div",{className:`${i.Z.lastLog} ${n}`},r().createElement("span",{className:`${i.Z.icon}`},e),t.msg),n]}return[null,null]})),c=(0,o.useCallback)((()=>{}),[]);return r().createElement("span",{onClick:c,style:{opacity:.3}},l.aU)}},56862:()=>{},79748:(e,t,n)=>{n.d(t,{NO:()=>a,Uc:()=>o,_$:()=>l,aU:()=>s,mh:()=>r});var i=n(90359);const o=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m218.624 672.256c15.872 15.872 15.872 41.984 0 57.856-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776L512 569.856l-160.256 160.256c-8.192 8.192-18.432 11.776-29.184 11.776s-20.992-4.096-29.184-11.776c-15.872-15.872-15.872-41.984 0-57.856L454.144 512 293.376 351.744c-15.872-15.872-15.872-41.984 0-57.856 15.872-15.872 41.984-15.872 57.856 0L512 454.144l160.256-160.256c15.872-15.872 41.984-15.872 57.856 0 15.872 15.872 15.872 41.984 0 57.856L569.856 512l160.768 160.256z",fill:"#d81e06"})),r=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M128.085333 877.226667a128 128 0 0 1-42.496-175.957334L402.773333 182.186667a128 128 0 0 1 218.453334 0l317.184 519.04A128 128 0 0 1 829.184 896H194.816a128 128 0 0 1-66.730667-18.773333zM829.184 810.666667a42.666667 42.666667 0 0 0 36.394667-64.896L548.394667 226.730667a42.666667 42.666667 0 0 0-72.789334 0L158.421333 745.770667A42.666667 42.666667 0 0 0 194.816 810.666667h634.368zM469.333333 384h85.333334v256h-85.333334V384z m0 298.666667h85.333334v85.333333h-85.333334v-85.333333z",fill:"#fa6400"})),s=i.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64z m0 64c-212.077 0-384 171.923-384 384s171.923 384 384 384 384-171.923 384-384-171.923-384-384-384z m0.193 571c14.28 0 25.388 4.034 34.909 13.714 8.727 8.874 13.487 20.168 13.487 33.883 0 14.52-4.76 25.815-13.487 34.689-9.52 8.874-21.422 13.714-34.91 13.714-13.487 0-24.594-4.84-33.322-13.714-9.52-9.681-14.28-20.975-14.28-34.69 0-13.714 4.76-25.008 14.28-33.882 8.728-9.68 19.835-13.714 33.323-13.714z m32.396-470v342c0 34.993-28.083 63.426-62.941 63.991l-1.059 0.009V293c0-35.346 28.654-64 64-64z",fill:"#000000",fillOpacity:".65"})),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M960.42793 531.18976c-6.38976 38.4-19.21024 83.18976-38.42048 121.58976-12.8 19.21024-25.6 25.6-44.81024 19.21024-19.21024-12.8-25.62048-25.6-19.21024-44.81024 19.21024-38.4 32.01024-76.77952 38.42048-115.17952 25.6-102.4 19.21024-198.38976 12.8-255.97952L512.22313 70.4512 115.25929 256.02048c-6.41024 57.58976-12.82048 147.18976 12.8 255.97952 44.81024 211.16928 179.28192 358.35904 384.16384 447.95904 64.04096-25.6 115.26144-57.58976 166.48192-95.98976 12.8-12.8 32.01024-6.41024 44.83072 6.38976 12.8 12.8 6.38976 32.01024-6.41024 44.78976-57.63072 44.81024-121.6512 76.8-192.08192 108.78976h-25.62048C262.51049 927.9488 115.25929 761.56928 64.01833 524.8a973.1072 973.1072 0 0 1-12.8-294.37952c6.41024-12.8 12.8-19.18976 19.21024-25.6L499.42313 0.06144h25.62048l428.99456 204.75904c12.8 6.41024 19.21024 12.8 19.21024 25.6 6.38976 57.58976 12.8 166.4-12.82048 300.76928z m-435.38432 191.97952c-51.22048 0-108.8512-25.6-147.27168-63.97952-83.23072-83.18976-83.23072-211.18976 0-294.37952 83.23072-83.18976 211.29216-83.18976 294.52288 0 70.43072 70.38976 76.84096 185.58976 19.21024 268.77952l134.47168 134.38976c12.8 12.8 12.8 31.98976 0 44.78976-6.41024 6.38976-12.8 6.38976-25.62048 6.38976-12.8 0-19.21024 0-25.6-6.38976l-128.06144-128c-38.42048 25.6-76.84096 38.4-121.6512 38.4zM627.48457 409.6c-25.62048-31.98976-64.04096-44.78976-102.44096-44.78976-38.42048 0-76.84096 19.21024-102.46144 44.78976-57.61024 57.61024-57.61024 147.18976 0 204.77952 57.63072 51.2 147.27168 51.2 204.9024 0 57.63072-57.58976 57.63072-147.16928 0-204.77952z",fill:"#515151"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M984.347406 312.803911c-25.486159-60.870959-63.032731-115.370378-109.795281-162.787148a520.133811 520.133811 0 0 0-162.844038-109.681504A505.17207 505.17207 0 0 0 512.711252 0.001138c-68.693162 0-135.964105 14.165298-199.679501 41.04523-60.927848 25.486159-115.455711 62.975843-162.900926 109.681504a519.73559 519.73559 0 0 0-109.766837 162.758704A504.233406 504.233406 0 0 0 0.001422 512.34119c0 68.664717 13.454189 135.878771 40.39101 198.854614 25.457714 60.870959 63.004287 115.370378 109.738393 162.787149a520.1907 520.1907 0 0 0 162.872481 109.681503A505.17207 505.17207 0 0 0 512.000142 1023.998578c68.693162 0 135.964105-13.454189 198.996836-40.334122 60.870959-25.486159 115.427267-62.975843 162.872482-109.681503a519.73559 519.73559 0 0 0 109.766836-162.787149A504.233406 504.233406 0 0 0 1023.998862 512.369635c0-68.664717-13.454189-135.878771-39.651456-199.565724zM512.711252 935.536577c-233.698971 0-424.19094-190.349746-424.19094-423.878052 0-233.528305 190.491968-423.906496 424.19094-423.906495 233.698971 0 424.19094 190.349746 424.190939 423.906495 0 233.528305-190.491968 423.878051-424.190939 423.878052z",fill:"#707070"}),i.createElement("path",{d:"M512.057031 270.336462A42.382116 42.382116 0 0 0 469.362027 227.556124 42.382116 42.382116 0 0 0 426.667022 270.336462v284.216178A42.382116 42.382116 0 0 0 469.362027 597.332978c2.161772 0 3.612435 0 5.802652-0.71111 1.422219 0 3.612435 0.711109 5.774208 0.71111H753.777316A42.382116 42.382116 0 0 0 796.443876 554.55264a42.382116 42.382116 0 0 0-42.695005-42.780337h-240.980731V270.336462h-0.711109z",fill:"#707070"}))},64843:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(83446),o=n(55443);function r({spaContext:e,model:t,mainModule:n}){const{desnContext:r}=e,s=r.configs.geoView,a=r.configs.toplView;let l;if(s){const e=n.slot;if(e)if(e.slots.length<=0){l=e.addSlot({id:(0,i.Vj)(),title:"主场景"});const t=e.style;if(t)for(let e in t)l.style[e]=t[e];l.comAry=e.comAry;const n=e=>{a||(e.runtime.topl=void 0,e.slots&&e.slots.forEach((e=>{e.comAry.forEach((e=>{n(e)}))})))};l.comAry.forEach((e=>{e.parent=l,n(e)})),e.comAry=void 0}else l=e.slots[0]}else n.slot&&(n.slot=void 0,delete n.slot);if(a){const t=n.frame;let o;if(!t||!t.frames)return e.emitMessage.error("数据格式存在异常,交互视图数据丢失."),void e.emitLogs.error("数据格式存在异常,交互视图数据丢失.");if(t.frames.length<=0&&(o=t.addFrame({id:(0,i.Vj)(),title:"主场景",asDefault:!0}),o.frameAry=t.frameAry||[],o.frameAry&&o.frameAry.forEach((e=>{e.parent=o})),o.diagramAry=t.diagramAry,o.diagramAry.forEach((e=>{e.parent=o})),o.inputPins=t.inputPins,o.inputPins.forEach((e=>{e.parent=o})),o.outputPins=t.outputPins,o.outputPins.forEach((e=>{e.parent=o})),o.comAry=t.comAry,o.comAry.forEach((e=>{e.parent=o})),t.frameAry=void 0,t.diagramAry=void 0,t.inputPins=void 0,t.outputPins=void 0,t.comAry=void 0),1===t.frames.length&&1===n.slot.slots.length){const e=t.frames[0],i=n.slot.slots[0];e.id!==i.id&&(e.id=i.id)}}else n.frame&&(n.frame=void 0,delete n.frame);if(e.blueprint){let r;try{r=(0,i.zD)(e.curPage.content,{notMerge:!0})}catch(e){console.error(e)}const s=n.slot.slots[0],a=n.frame,l=a.frames[0],c=r[o.pE].mainModule,d=c.slot.slots[0];d.comAry&&d.comAry.forEach((e=>{const t=e.parent;if("blueprint"===t._type){const n=s.searchCom(t.comId);n?n.getSlot(t.slotId).addComponent(e):s.addComponent(e)}else s.addComponent(e)}));const u=c.frame,p=u.frames[0];p.comAry&&p.comAry.forEach((e=>{e&&l.addComponent(e)})),p.diagramAry&&p.diagramAry.forEach((e=>{e&&(e.parent=l,l.diagramAry.push(e))})),u.curDiagram&&(a.curDiagram=u.curDiagram),t.factModule=c}}},25685:(e,t,n)=>{n.d(t,{le:()=>l,q7:()=>a,v:()=>c});var i=n(83446),o=n(86409),r=n(79127),s=n(37639);function a(e,t){const{desnContext:n}=t,r=e.runtime,a=(0,i.Ku)(r),l=(0,i.$w)(r,{uncompressed:!1,map(e,t,l){var c,d;if(l===(0,i.Ku)(r.geo.parent))return;if(l instanceof o.Vm)return;if(e instanceof o.ON){if("conAry"===t)return[];if("proxyPinValue"===t)return}if("data"===t&&e===a.model){const e=n.getComDef(r.def);if(e){const t=(0,s.c)(e);if(t){const e=t["@copy"];if("function"==typeof e){const t=e({data:(0,i.d9)(r.model.data,!0)});if("object"==typeof t&&t&&t.data)return t.data}}}}let u=null===(c=r.topl)||void 0===c?void 0:c.parent;for(;u;){if(l===(0,i.Ku)(null===(d=r.topl)||void 0===d?void 0:d.parent))return;u=u.parent}if(e instanceof o.go){if("diagramAry"===t)return l.filter((e=>e.isGlobal||e.showIO));if("comAry"===t)return l.filter((e=>e.runtime.hasUI()))}if(e instanceof o.Vm){if("comAry"===t)return[];if("conAry"===t)return[]}return l}});return{_type_:"geoCom",rt:l}}function l(e,t){return Array.isArray(e)?function(e){const t=[],n=e.map(((n,i)=>{const r=n.getOutputsAllAry();return r&&r.forEach((n=>{n.conAry&&n.conAry.forEach((r=>{const s=r.finishPin.parent,a=e.findIndex((e=>e===s));if(s instanceof o.nW&&a>=0){e.find((e=>{if(e.getInputsAllAry().find((e=>{if(r.finishPin===e)return!0})))return!0}))&&t.push({from:{comIndex:i,pinHostId:n.hostId},to:{comIndex:a,pinHostId:r.finishPin.hostId}})}}))})),n instanceof o.EA?n:n.runtime}));return{_type_:"toplComAry",conAry:t,rt:(0,i.$w)(n,{uncompressed:!1,map(e,t,s){if("forkedFrom"===t)return{id:s.id};if(!n.find((e=>{var t;if(e instanceof r.cR&&s===(0,i.Ku)(null===(t=e.geo)||void 0===t?void 0:t.parent))return!0}))&&!(n.find((e=>{if(e instanceof r.cR&&s===(0,i.Ku)(e.topl.parent))return!0}))||e instanceof o.nW&&"parent"===t)){if(e instanceof r.cR&&"id"===t)return(0,i.Vj)();if("ioProxyForCall"===t)return{frameId:s.frame.id,outputs:s.outputs,_inputs:s._inputs};if("ioProxy"===t)return{frameId:s.id};if("proxyPin"===t&&e instanceof o.ON){const e=s;return e.parent instanceof o.go?{frameId:e.parent.id,id:e.id}:void 0}if("diagramModel"!==t){if(e instanceof o.ON){if("conAry"===t)return[]}else if("conAry"===t)return;return s}}}})}}(e):function(e){const t=e.runtime;if(e instanceof o.EA){const t=(0,i.Ku)(e);return{_type_:"toplComForked",toplComForked:(0,i.$w)(e,{uncompressed:!1,map(e,n,i){if("runtime"!==n){if("forkedFrom"===n)return{id:i.id};if("ioProxyForCall"===n)return{frameId:i.frame.id,outputs:i.outputs,_inputs:i._inputs};if("ioProxy"===n)return{frameId:i.id};if("proxyPin"===n&&e instanceof o.ON){const e=i;return e.parent instanceof o.go?{frameId:e.parent.id,id:e.id}:void 0}if((e!==t||"parent"!==n)&&"diagramModel"!==n){if(e instanceof o.ON){if("conAry"===n)return[]}else if("conAry"===n)return;return i}}}})}}return{_type_:"toplCom",rt:(0,i.$w)(t,{uncompressed:!1,map(e,n,s){var a;if(s!==(0,i.Ku)(null===(a=t.geo)||void 0===a?void 0:a.parent)&&s!==(0,i.Ku)(t.topl.parent)){if(e instanceof r.cR&&"id"===n)return(0,i.Vj)();if("ioProxyForCall"===n)return{frameId:s.frame.id,outputs:s.outputs,_inputs:s._inputs};if("ioProxy"===n)return{frameId:s.id};if("proxyPin"===n&&e instanceof o.ON){const e=s;return e.parent instanceof o.go?{frameId:e.parent.id,id:e.id}:void 0}if("diagramModel"!==n){if(e instanceof o.ON){if("conAry"===n)return[]}else if("conAry"===n)return;return s}}}})}}(e)}function c(e,t){const{model:n,emitSnap:o,emitLogs:s,emitMessage:a}=t,l=(e="组件数据错误.")=>{s.error("组件数据错误."),a.error("组件数据错误.")};if(!e.from||!e.rt&&!e.toplComForked)return l();if(e.toplComForked){const n=(0,i.vB)(e.toplComForked);return n.forkedFrom?(e.toplComForked=n,requestAnimationFrame((n=>{const i=o.start("粘贴组件"),r=t.emitItem.paste(e);i.commit({target:r})})),!0):l()}if(e.rt){const n=(0,i.vB)(e.rt),s=e=>{e.id=(0,i.Vj)(),e.geo&&e.geo.slots&&e.geo.slots.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{s(e.runtime),l(e.runtime)}))}))},a=e=>{e.name=(0,i.Vj)()},l=e=>{e.topl&&e.topl.frames&&e.topl.frames.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{l(e.runtime)})),e.diagramAry&&e.diagramAry.forEach((e=>{e.id=(0,i.Vj)(),e.comAry&&e.comAry.forEach((e=>{const n=e.forkedFrom;if(n&&!n.parent){const i=t.model.mainModule.frame.searchCom(n.id);e.forkedFrom=i;e.getInputsAllAry().forEach((e=>{e.forkedFrom=i.inputPins.find((t=>t.hostId===e.hostId))}));e.getOutputsAllAry().forEach((e=>{e.forkedFrom=i.outputPins.find((t=>t.hostId===e.hostId))}))}}))}))}))};if(Array.isArray(n))n.forEach((e=>{e instanceof r.cR&&(s(e),l(e),e.geo&&a(e.geo))})),e.rt=n;else{const t=n;s(t),l(t),t.geo&&a(t.geo),e.rt=t}return requestAnimationFrame((n=>{const i=o.start("粘贴组件"),r=t.emitItem.paste(e);i.commit({target:r})})),!0}}},79579:(e,t,n)=>{n.d(t,{J:()=>a,v:()=>s});var i=n(83446),o=n(86409),r=n(2892);function s(e,t){const{model:n,emitSnap:o}=t,s=(0,i.vB)(e),{slot:a,frame:l}=s,c=n.getCurModule(),d=(0,i.Vj)(),u=`复制的 ${a.title}`;let p;a.id=d,a.title=u,a.deletable=!0,l&&(p=l,p.id=d,p.title=u,p.diagramAry.length>0&&(p.diagramAry[0].title=u),(0,r.Z)(p,t));const f=o.start("粘贴场景");c.slot.slots.push(a),p&&c.frame.frames.push(p),a.isTypeOfModule()&&n.regModule(a.id,{slot:a,frame:p}),f.commit()}function a(e,t){var n;const{model:r}=t,s=r.getCurModule(),a=s.frame,l=null===(n=r.mainModule.frame)||void 0===n?void 0:n.getFrame(e.id),c={slot:e,frame:l},d=(0,i.$w)(c,{map(t,n,r){if(r!==(0,i.Ku)(e.parent)&&r!==(0,i.Ku)(s.slot)&&r!==(0,i.Ku)(a)){if(l){if(r===(0,i.Ku)(l.parent))return;if(t instanceof o.nW&&t.isSceneOpen()&&"ioProxyForCall"===n){const e=t.ioProxyForCall;return e._todo_?e:{_todo_:!0,frameId:e.frame.id,_inputs:e._inputs,_outputs:e._outputs}}if(t instanceof o.EA&&t.isVar()&&"forkedFrom"===n&&r.parent===(0,i.Ku)(a))return{_todo_:!0,comId:r.id};if(t instanceof o.nW&&t.isFx()&&"ioProxy"===n&&(0,i.Ku)(a.frames).indexOf(r)>=0)return{_todo_:!0,frameId:r.id};if("proxyPin"===n&&t instanceof o.ON&&(0,i.Ku)(a.frames).indexOf(r.parent)>=0)return{_todo_:!0,pinId:r.id,frameId:r.parent.id};if("proxyForPin"===n&&t instanceof o.ON&&(0,i.Ku)(a.frames).indexOf(r.parent)>=0)return{_todo_:!0,pinId:r.id,frameId:r.parent.id}}return r}}});return d._type_="scene",d}},23580:(e,t,n)=>{n.d(t,{J:()=>l,r:()=>c});var i=n(64664),o=n(79579),r=n(86409),s=n(25685),a=n(59553);function l(e,t){const{desnContext:n}=t,a=e||n.focusModel;let l,c;return a instanceof i.U7&&(l="slot",c=(0,o.J)(a,t)),a instanceof i.Zd?(l="geoCom",c=(0,s.q7)(a,t)):a instanceof r.nW&&(l="toplCom",c=(0,s.le)(a,t)),Array.isArray(a)&&a.length>0&&a[0]instanceof r.nW&&(l="toplComAry",c=(0,s.le)(a,t)),n.clipboard={type:l,json:c},c}function c(e,t){const{desnContext:n,emitSnap:i}=t,o=e.target;if(o.tagName.match(/INPUT|TEXTAREA/gi)||o.contentEditable&&"true"==o.contentEditable)return;if(e.path&&e.path.length>0&&e.path[0].tagName.match(/INPUT|TEXTAREA/gi))return;const r=(e.clipboardData||window.clipboardData).getData("text/plain");if(r){let e;try{e=JSON.parse(r)}catch(e){}e&&(0,a.Z)(e,t)}}},59553:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(79579),o=n(25685);function r(e,t){var n;if(e)try{"scene"===e._type_&&(0,i.v)(e,t),((null===(n=e._type_)||void 0===n?void 0:n.match(/geoCom|toplCom/gi))||e.rt)&&(0,o.v)(e,t)}catch(e){console.error(e)}}},2892:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(83446),o=n(86409),r=n(79127);function s(e,t){const{model:n,desnContext:a}=t,l=n.mainModule.frame;e.parent instanceof o.go&&(e.id=(0,i.Vj)()),e.comAry&&e.comAry.forEach((e=>{const n=e.runtime;if(n.id=(0,i.Vj)(),e.frames&&n.topl.frames.forEach((e=>{s(e,t)})),e.isSceneOpen()&&e.ioProxyForCall._todo_){const{frameId:t}=e.ioProxyForCall,n=l.getFrame(t);e.ioProxyForCall.frame=n,e._inputPins.length>0&&e._inputPins.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.length>0&&e.outputPinsInModel.forEach((e=>{if(e.proxyForPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0}))}if(e.isFx()&&e.ioProxy._todo_){const{frameId:t}=e.ioProxy,n=l.getFrame(t);e.ioProxy=n,e.inputPinsInModel.forEach((e=>{if(e.proxyPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.forEach((e=>{if(e.proxyForPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyForPin=o}else e.proxyForPin=void 0}))}})),e.diagramAry&&e.diagramAry.forEach((e=>{e.id=(0,i.Vj)(),e.conAry.forEach((e=>{e.id=(0,i.Vj)()})),e.comAry&&e.comAry.forEach(((e,t)=>{if(e instanceof o.EA&&(e._key=(0,i.Vj)()),e instanceof o.EA&&e.forkedFrom._todo_){const t=l.searchCom(e.forkedFrom.comId);if(t){e.forkedFrom=t;e.getInputsAllAry().forEach((e=>{const n=t.inputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}));e.getOutputsAllAry().forEach((e=>{const n=t.outputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}))}else{const t=a.getComDef({namespace:r.Vm.coms.var}),n=new o.nW(new r.u5(t,!1,"全局变量"));e.forkedFrom=n;e.getInputsAllAry().forEach((e=>{n.inputPins.push(e.forkedFrom)}));e.getOutputsAllAry().forEach((e=>{n.outputPins.push(e.forkedFrom)}))}}}))})),e.frameAry&&e.frameAry.forEach((e=>{s(e,t)}))}},37639:(e,t,n)=>{function i(e){if(e.editors){let t=e.editors;if(t)return t}}n.d(t,{c:()=>i})},64006:(e,t,n)=>{function i(e,t){const{model:n,emitLogs:i,desnContext:o}=t;"function"==typeof e&&n.mainModule.frame.forEachCom((t=>{t.def&&(t.def=o.getComDef({namespace:t.def.namespace,version:t.def.version})),e(t)}))}n.d(t,{l:()=>i})},85486:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(5184),o=n(79127),r=n(83446),s=n(46439),a=n(37319),l=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function c(e,{config:t,onMessage:n,onEdit:c,onDebug:d,onClick:u,ref:p}){let f;function m(e={},t){return l(this,void 0,void 0,(function*(){const{desnContext:e}=f;f.loaded=!1,f.pageLoaded=!1;const t=e.configs.pageMetaLoader;if("function"==typeof t){const n=t();n&&n.then?n.then((t=>{if("object"==typeof t)if(t.content){e.pageMetaModel=new o.Du,f.curPage=t;const n=f.curPage;f.setCurPage(n)}else e.pageMetaModel=new o.Du(t),t.projectContent&&(0,r.zD)(t.projectContent);else e.pageMetaModel=new o.Du,(0,a.Z)(f);f.pageLoaded=!0})):f.pageLoaded=!0}else{if(f.config.pageContentLoader){const e=yield(0,s.Z)(f);f.curPage=e;const t=f.curPage;f.setCurPage(t)}f.pageLoaded=!0}}))}return f=(0,r.mA)(i.Z,(i=>i({desnContext:e,config:t,ref:p,pageContentLoader:m,onMessage:n,onEdit:c,onClick:u,activeBottomTabId:"toplView"})),{to:"children"}),f}},69205:(e,t,n)=>{n.d(t,{ZP:()=>b});var i=n(79127),o=n(90359),r=n(83446),s=n(64664),a=n(86409),l=n(24318),c=n(23580),d=n(65367),u=n(68117),p=n(66273),f=n(46439),m=n(67799),h=n(71540),g=n(59553),y=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function b(e){const{desnContext:t,onMessage:n,onEdit:b}=e,x=e.emitMessage=(0,r.CV)(i.cA.Message,(e=>({info(e){n&&n("info",e)},warn(e){n&&n("warn",e)},error(e){n&&n("error",e)},trace(e){n&&n("trace",e)}})),{from:"children"});e.emitSnap=(0,r.CV)(i.cA.Snap,(()=>({start(n,i){let o=null==i?void 0:i.target;const l=(0,r.MC)({title:n||"todo",ifReally(e,t,n,i){if(0===i.indexOf(".mainModule."))return!0},onUndo(e){b&&b({title:n}),e||(w.info(`撤销 ${n}`),x.info(`撤销 ${n}`),o&&setTimeout((()=>{E.focus(o)})))},onRedo(){b&&b({title:n}),w.info(`重做 ${n}`),x.info(`重做 ${n}`),o&&setTimeout((()=>{E.focus(o)}))},listener(e,t,n){}});return{wait(){l.wait()},pause(){l.pause()},pauseNext(){l.pauseNext()},resume(){l.resume()},commit(i){if(!l.commit(i))return;let r;if((null==i?void 0:i.target)&&(o=i.target),o){let n;if(Array.isArray(o)?o.length>0&&(n=o[0]):n=o,!n)return;for(;n.parent;)n=n.parent;const{model:i}=e,{slot:r,frame:l}=i.mainModule;if(n instanceof s.U7)if(requestAnimationFrame((e=>{if(n.isTypeOfModule()||n.isTypeOfDefinedCom())if(n.hadDestroyed())i.deleteModule(n.id);else{const e=l.getFrame(n.id);i.regModule(n.id,{slot:n,frame:e})}})),n===r);else if(t.pageMetaModel){let e;l&&(e=l.frames.find((e=>e.id===n.id))),t.pageMetaModel.updatePage(n.id,{slot:n,frame:e})}if(l&&n instanceof a.go)if(requestAnimationFrame((e=>{if(n.isTypeOfModule()||n.isTypeOfDefinedCom()){const e=r.getSlot(n.id);i.regModule(n.id,{slot:e,frame:n})}})),n===l);else if(t.pageMetaModel){const e=r.slots.find((e=>e.id===n.id));t.pageMetaModel.updatePage(n.id,{slot:e,frame:n})}}b&&(r=b({title:n}))},cancel(e){l.cancel()&&!e&&w.warn(`${n} 操作回滚`,`操作回滚到${name||"todo"}之前.`)}}}})),{from:"children"}),e.emitScenes=(0,r.CV)(i.cA.Scenes,(t=>t({load(t){return y(this,void 0,void 0,(function*(){const n=e.desnContext.pageMetaModel;n&&n.openPage(t);const i=yield(0,f.Z)(e,t),o=(0,m.Z)(i,e);if(null==o?void 0:o.content){const{slot:t,frame:n}=o.content,i=e.model.getCurModule();return i.slot.slots.push(t),n&&i.frame.frames.push(n),{slot:t,frame:n}}}))},newScene({title:t}){return y(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const{slot:o,frame:r}=(0,h.Z)({title:t},e),s=e.model.getCurModule();s.slot.slots.push(o),r&&s.frame.frames.push(r),n({id:o.id,title:t,slot:o,frame:r})}))}))},setTitle(t,n){var i;null===(i=e.desnContext.pageMetaModel)||void 0===i||i.setPageTitle(t,n)},delete(t){var n;null===(n=e.desnContext.pageMetaModel)||void 0===n||n.deletePage(t)},close(t){e.desnContext.pageMetaModel&&e.desnContext.pageMetaModel.closePage(t)}})),{from:"children",expectTo:"children"}),e.emitView=(0,r.CV)(i.cA.Views,(t=>t({hideNav(){e.showNavView=!1},showNav(){e.showNavView=!0},disableHandlers(){e.handlersDisabled=!0},enableHandlers(){e.handlersDisabled=!1},recoverSize(t){const n=e.model.viewSlots[t];n&&n.recoverSize()},copyFocus:t=>(0,c.J)(t,e),popView(t,n,i){e.popView(t,n,i)},maxView(t,n,i){e.maxView(t,n,i)},openInCurViewSlot(t,n){e.openInCurViewSlot(t,n)},closeInCurViewSlot(){e.closeInCurViewSlot()},getCurRootFrame:()=>e.model.getCurModule().frame})),{from:"children",expectTo:"children"}),e.emitEditor=(0,r.CV)(i.cA.Editor,(e=>e({getAll(){}})),{from:"children",expectTo:"children"}),e.emitLabel=(0,r.mA)(i.cA.Label,{expectTo:"children"}),e.emitVariable=(0,r.mA)(i.cA.Variable,{expectTo:"children"}),e.emitItem=(0,r.mA)(i.cA.Component,{expectTo:"children"}),e.emitIOCAbout=(0,r.mA)(i.cA.IOCAbout,{expectTo:"children"});const w=(0,r.CV)(i.cA.Logs,(t=>t({info(t){requestAnimationFrame((n=>{(0,r.pI)((()=>{e.eventLogs.push({time:new Date,type:"info",msg:t})}))}))},warn(t){requestAnimationFrame((n=>{(0,r.pI)((()=>{e.eventLogs.push({time:new Date,type:"warn",msg:t})}))}))},error(t){requestAnimationFrame((n=>{(0,r.pI)((()=>{e.eventLogs.push({time:new Date,type:"error",msg:t})}))}))}})),{from:"children",expectTo:"children"});e.emitLogs=w,e.emitCommand=(0,r.CV)(i.cA.Command,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.Debug,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.FxFrame,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.WindowEvents,(t=>t({showContextMenu:(t,n,i)=>(r.qw.cancel=!0,n&&n.state.popContextMenu(),requestAnimationFrame((o=>{e.listeners&&(e.desnContext.contextMenuEvent={event:t,model:n,finishCallback:i})})),!0),paste(){if(e.desnContext.clipboard){const{type:t,json:n}=e.desnContext.clipboard,i=JSON.parse(JSON.stringify(n));(0,g.Z)(i,e)}}})),{from:"children"}),(0,r.CV)(i.cA.Frame,(t=>t({exeOutput(t,n){const i=e.model.mainModule.frame.frames[0],o=i.outputPins.find((e=>e.hostId===t));o&&"function"==typeof o._exe&&o._exe(i._curScope_,n)}})),{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.IOCAbout,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.Module,(t=>t({get:t=>e.model.getModule(t),getAll(){const t=e.model.modules;if(t){const e=[];for(let n in t){const i=t[n];i.deleted||e.push(Object.assign({id:n},i))}return e}},setTitle(t,n){const i=e.model.getModule(t);i&&(i.title=n)},register:(t,{slot:n,frame:i},o)=>e.model.regModule(t,{slot:n,frame:i},o)})),{from:"children",expectTo:"children"});const E=(0,r.CV)(i.cA.Component,(n=>n({focus(e){t.focus(e)},reFocus(e){t.reFocus(e)},blur(){t.blur()},upgrade(t,n,i,o){!function(e,t,n,i,o){const{model:r,emitItem:s,emitMessage:a,emitLogs:l,desnContext:c,emitSnap:d}=t,u=c.getComDef({namespace:e.runtime.def.namespace});if(!u)throw new Error(`No definition found for component(${e.runtime.def.namespace})`);const p=e.id,f=r.getCurModule(),m=o?void 0:d.start("升级组件");if(n){if(e.runtime.hasUI()){if(f.slot){const e=f.slot.searchComByDef(u);e&&(e.forEach((e=>{let n;f.frame&&(n=f.frame.searchCom(p)),v(e,n,u,t,!0)})),l.warn(`共有 ${e.length} 个 ${u.title}(${u.namespace}) 组件 更新到 ${u.version} 版本.`))}}else if(f.frame){const e=f.frame.searchComByDef(u);if(e){e.forEach((e=>{e.runtime.hasUI()?e.runtime.geo&&v(e.runtime.geo,e,u,t,!0):v(void 0,e,u,t,!0)}));const n=`共有 ${e.length} 个 ${u.title}(${u.namespace}) 组件 更新到 ${u.version} 版本.`;a.warn(n),l.warn(n)}}}else{let e,n;f.frame&&(n=f.frame.searchCom(p)),f.slot&&(e=f.slot.searchCom(p)),v(e,n,u,t,i)}m&&m.commit()}(t,e,n,i,o)},upgradeAllForDef(t){!function(e,t){if(!e)return;const{model:n,emitItem:i,emitMessage:o,emitLogs:r,desnContext:s,emitSnap:a}=t,l=n.getCurModule(),c={};if(l.slot){const n=l.slot.searchComByDef(e);n&&(n.forEach((n=>{let i;l.frame&&(i=l.frame.searchCom(n.id)),v(n,i,e,t)&&(c[n.id]=!0)})),r.warn(`共有 ${n.length} 个 ${e.title}(${e.namespace}) 组件 更新到 ${e.version} 版本.`))}if(l.frame){const n=l.frame.searchComByDef(e);n&&(n.forEach((n=>{c[n.id]||(n.runtime.hasUI()?n.runtime.geo&&v(n.runtime.geo,n,e,t):v(void 0,n,e,t))})),r.warn(`共有 ${n.length} 个 ${e.title}(${e.namespace}) 组件 更新到 ${e.version} 版本.`))}}(t,e)}})),{from:"children",expectTo:"children"});(0,r.CV)(i.cA.Label,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.Variable,{from:"children",expectTo:"children"}),(0,r.CV)(i.cA.Page,(e=>e({getAll(){const e=t.configs.pageLoader;if("function"==typeof e)return e()}})),{from:"children"}),(0,r.CV)(i.cA.DomainModel,(t=>t({getAll(){const t=e.model.domainModels;if(t)return t.map((e=>e))}})),{from:"children"}),(0,r.CV)(i.cA.Connector,(n=>n({getAll(){const n=e=>e.map((e=>e)),i=e.model.connectors;if(i)return n(i);{const e=t.configs.connectorLoader;if("function"==typeof e){const t=e();if(Array.isArray(t))return n(t)}}}})),{from:"children"});const A=(0,r.CV)(i.cA.Locale,(t=>t({ifEnable:()=>e.model.localeImpl,getAll:()=>e.model.locales,edit(t){(0,p.Z)(t,e)},searchByKeywords(t,n){if(t)return e.model.searchLocaleByKeywords(t,n)},searchById:t=>e.model.getLocaleById(t),addItem(t){let n=e.model.locales;n||(e.model.locales=n=[]),n.push(t)},usedById(t){const n=e.model.localeImpl;if(n&&"function"==typeof n.usedById)return n.usedById(t)},remove(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.id!==t)))}})),{from:"children"});e.emitLocale=A;const _=(0,r.CV)(i.cA.Permission,(t=>t({edit(t){(0,d.Z)(t,e)},searchById:t=>e.model.getPermissionById(t),register(t){const n=e.model;n.permissions||(n.permissions=[]);const i=n.permissions,o=i.find((e=>e.id===t.id));o?i[i.indexOf(o)]=t:i.push(t)},remove(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.id!==t)))},removeByModelId(t){const n=e.model;n.permissions&&(n.permissions=n.permissions.filter((e=>e.modelId!==t)))}})),{from:"children"});(0,r.CV)(i.cA.Find,(t=>t({showUsed(t){e.findPluginResults=t}})),{from:"children",expectTo:"children"}),e.emitPermission=_,(0,o.useEffect)((()=>{if(e.loaded){const n=n=>{let i=n.key;if("Meta"!==i&&(n.ctrlKey||n.metaKey)&&(i=n.shiftKey?"ctrl+shift+"+i:"ctrl+"+i),"ctrl+s"!==i){let e=n.target;if(e.tagName.match(/INPUT|TEXTAREA/gi)||e.contentEditable&&"true"==e.contentEditable)return}const o=t.configs.shortcuts,s=e.listeners;let a;if(s&&(a=s.find((e=>{if(Array.isArray(null==e?void 0:e.keys)&&e.keys.find((e=>{if(e.toLowerCase()===i.toLowerCase())return!0})))return e.exe(n),!0}))),o){const e=o[i];Array.isArray(e)&&e.forEach((e=>{"function"==typeof e&&(e(),a=!0)}))}if(a||("ctrl+z"===i&&(r.Yw.exe(),requestAnimationFrame((()=>{e.desnContext.reFocus()})),a=!0),"ctrl+shift+z"===i&&(r.KX.exe(),requestAnimationFrame((()=>{e.desnContext.reFocus()})),a=!0)),a)return n.preventDefault(),n.returnValue=!1,!1},i=t=>{(0,c.r)(t,e)};document.body.addEventListener("paste",i),document.addEventListener("keydown",(e=>{(0,l.unstable_batchedUpdates)((()=>{n(e)}))}));const o=t.getPluginAry();return o&&o.forEach((n=>{if("function"==typeof n.activate){const{model:i}=e,o={data:t.getPluginData(n.name),get pageStyle(){return{get background(){return i.mainModule.slot.style.background},set background(e){i.mainModule.slot.style.background=e}}},get theme(){return{set(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const n=i.themes.find((t=>t.name===e));n?n.value=t:i.themes.push({name:e,value:t})},get(e){const t=i.themes.find((t=>t.name===e));return t?t.value:void 0},remove(e){i.themes.find((t=>t.name===e))&&(i.themes=i.themes.filter((t=>t.name!==e)))}}},get themes(){return(0,u.qy)(e)}};n.activate(o)}})),()=>{document.body.removeEventListener("paste",i)}}}),[e.loaded])}function v(e,t,n,o,s){const{model:a,emitItem:l,emitIOCAbout:c,emitMessage:d,emitLogs:u,desnContext:p,emitSnap:f,emitPermission:m}=o,h=a.getCurModule(),g=e?e.runtime:t.runtime,y=e?e.name:t.name;let b=!1;if("function"==typeof n.upgrade){const o={};if(e&&e.slots){const t={};e.slots.forEach((e=>{const n=[];e.comAry.forEach((e=>{n.push({id:e.id,name:e.name,title:e.runtime.title,def:e.runtime.def})})),t[e.id]=n})),o.children=t}o.isAutoRun=()=>{if(t)return t._autoRun},o.setAutoRun=e=>{if(t)return t.setAutoRun(e)},o.id=g.id,o.name=y,o.data=g.model.data,o.registerPermission=function(e){if("object"==typeof e&&e){const{code:t,title:n}=e;if(t){const e=new i.eZ({type:"register",register:{code:t,title:n}});return m.register(e),{id:e.id}}}},h.frame&&t&&(o.config=t.getConfigEditor(l),o.input=t.getInputEditor(l,void 0,!0),o.output=t.getOutputEditor(l,void 0,!0)),e&&(o.slot=e.getSlotEditor({emitItem:l,context:p,emitSnap:f,emitIOCAbout:c,emitMessage:d}),o.style=e.style,o.getDeclaredStyle=function(t){const n=t,i=e.style.getStyle(n);if(i)return(0,r.d9)(i)},o.setDeclaredStyle=function(t,n,i){e.style.addStyle(t,n,i)},o.setChildDeclaredStyle=function(t,n,i,o){e.slots&&e.slots.find((e=>{const r=e.comAry.find((e=>e.id===t));r&&r.style.addStyle(n,i,o)}))},o.removeDeclaredStyle=function(t){e.style.removeStyle(t)});try{const e=n.upgrade(o);b=!("boolean"==typeof e&&!e)}catch(e){console.error(e),u.error(`更新${n.title}(${n.namespace})失败.\n${e.message}`),d.error(`更新${n.title}(${n.namespace})失败.`)}}else b=!0;if(b){if(g.def.version=n.version,g.upgrade=void 0,!s){const e=`${n.title}(${n.namespace}) 已更新到 ${n.version} 版本.`;d.warn(e),u.warn(e)}return!0}return!1}},13825:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(90359),o=n(53002),r=n(83446),s=n(93261),a=n(64664),l=n(55443),c=n(29953),d=n(54075),u=n(20605),p=n(68117),f=n(64843),m=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function h(e){const t=(0,r.mA)(s.Z,l.pE);return e.model=t,function(e){(0,i.useMemo)((()=>m(this,void 0,void 0,(function*(){const{desnContext:t,emitLogs:n,emitMessage:i}=e,s=yield t.configs.comLibLoader();if(!Array.isArray(s))throw new Error("Invalid comlibAry.");const l=yield(0,d.E)(s);l.splice(0,-1,o.Z),t.comLibAry=l,yield e.pageContentLoader({init:!0}),t.toJSON=t=>(0,c.a)(e,t);const u={setComLibs(e){return m(this,void 0,void 0,(function*(){if(!Array.isArray(e))throw new Error("Invalid comlibAry.");const n=yield(0,d.E)(e);n.push(o.Z),t.comLibAry=n}))},switchActivity(n){e.activePlugin=t.getPlugin(n)},dump(n){const i=t.getPluginAry();return i&&i.forEach((e=>{"function"==typeof e.beforeDump&&e.beforeDump({data:t.getPluginData(e.name)})})),e.dump(n)},loadContent(e){(0,r.zD)(e)},loadBlueprint(e){},toJSON:()=>t.toJSON({ignoreComs:!0}),get themes(){return(0,p.qy)(e)},get components(){return(0,p.s3)(e)},get geoView(){if(t.configs.geoView)return(0,a.Uq)()},getPlugin:t=>e.desnContext.getPlugin(t),getPluginData:t=>e.desnContext.getPluginData(t),setThemes(t){e.model.mainModule.slot.setThemes(t)},console:{log:{get info(){return n.info},get warn(){return n.warn},get error(){return n.error}}},toggleNavView:t=>{e.showNavView=t},isDebugMode:t.isDebugMode,pageContentLoader:e.pageContentLoader};e.ref(u)}))),[])}(e),function(e){const{desnContext:t,model:o}=e;(0,i.useMemo)((()=>{var i;const s=t.configs.pageMetaLoader,a=t.configs.geoView.scenes,l=t.configs.toplView;if(l&&(l.mode="ui",a&&(l.globalVars||(l.globalVars={}))),e.pageLoaded){if(null===(i=e.curPage)||void 0===i?void 0:i.content){e.blueprint?(0,r.zD)(e.blueprint.content):(0,r.zD)(e.curPage.content);const n=o.mainModule;if(n){if((0,f.Z)({spaContext:e,model:o,mainModule:n}),s){const i=t.pageMetaModel,o=n.slot.slots;o&&o.forEach((e=>{const t=n.frame.frames.find((t=>t.id===e.id));i.addPage({id:e.id,title:e.title,type:e.showType,slot:e,frame:t})}));const r="已经将当前数据转换为分页模式.";e.emitMessage.warn(r),e.emitLogs.warn(r)}}else e.emitMessage.error("数据格式存在异常,视图内容丢失."),e.emitLogs.error("数据格式存在异常,视图内容丢失."),(0,u.Z)(e)}else s||void 0===o.mainModule&&(0,u.Z)(e),Promise.resolve().then((()=>{t.envVars.debug={get envType(){return o.envVars.envType},set envType(e){o.envVars.envType=e},get userToken(){return o.envVars.userToken},set userToken(e){o.envVars.userToken=e},get envParams(){return o.envVars.envParams},set envParams(e){o.envVars.envParams=e}}}));const a=t.configs.debugger;"function"==typeof a?(t.renderWeb=a,Promise.all([Promise.all([n.e(9),n.e(74)]).then(n.bind(n,7074))]).then((([{PcEditor:t}])=>{e.pcCommonEditors=t,(0,r.GQ)((()=>{e.loaded=!0}))}))):Promise.all([Promise.all([n.e(9),n.e(74)]).then(n.bind(n,7074)),n.e(278).then(n.bind(n,50828))]).then((([{PcEditor:n},{render:i}])=>{e.pcCommonEditors=n,t.renderWeb=i,(0,r.GQ)((()=>{e.loaded=!0}))}))}}),[e.pageLoaded])}(e),t}},20605:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(79127),o=n(64664),r=n(86409),s=n(83446),a=n(47321);const l="_main_";function c(e){const{model:t,desnContext:n}=e,c=n.configs.geoView,d=c.scenes,u=n.configs.toplView;t.designerVersion=i.zz.DESIGNER_VERSION;const p={instId:l,title:"主模块",slot:void 0,frame:void 0},f="主场景";function m(t,n,i){const o=p.frame.addFrame({id:t,title:n||f||"主程序",asDefault:!0});return(0,a.Z)(o,{asMultiScenes:i},e),o}if(p.slot=new o.HZ,u&&(p.frame=new r.ei),d){const e=Array.isArray(d)?d:d.presets;if(e)e.forEach(((e,t)=>{const o=e.id,r=e.title;let s;if(p.slot.addSlot({id:o,title:r,template:e.template,deletable:!1}),0===t?u&&(s=m(o,r,!0)):u&&(s=p.frame.addFrame({id:o,title:e.title,type:e.type||"normal"}),s.addIODiagram({title:r}),s.addInputPin({type:"normal",hostId:"open",title:"打开",schema:{type:"any"},editable:!0})),u&&!n.isDesnModeOfBluePrint()){let t=[];t=Array.isArray(e.events)?e.events:i.Io,t.forEach((e=>{s.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))}}));else{const e=(0,s.Vj)();if(p.slot.addSlot({id:e,title:f,template:c.template}),u){const t=m(e,f,!0);if(!n.isDesnModeOfBluePrint()){i.Io.forEach((e=>{t.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))}}}}else{const e=(0,s.Vj)();p.slot.addSlot({id:e,title:f,template:c.template}),u&&m(e)}if(e.blueprint){(0,s.zD)(e.blueprint.content),t.factModule=p;const n=t.mainModule,i=p.frame.frames[0].diagramAry;i&&i.forEach((e=>{n.frame.frames[0].diagramAry.push(e)}))}else t.mainModule=p}},54075:(e,t,n)=>{n.d(t,{E:()=>s});var i=n(79127),o=n(83446),r=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function s(e){return r(this,void 0,void 0,(function*(){const t=[],n=[];e.forEach((e=>{if(e)if("string"==typeof e)n.push((0,i._v)(e));else if("object"==typeof e)if(e.defined){const n=(0,o.d9)(e);n.comAray=e.comAray.map((e=>e)),t.push(n)}else t.push(e)}));const r=yield Promise.all(n);return r&&r.forEach((e=>{t.push(e)})),t}))}},37319:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(79127),o=n(64664),r=n(86409),s=n(47321);const a="_main_";function l(e){const{model:t,desnContext:n}=e;t.designerVersion=i.zz.DESIGNER_VERSION;const l={instId:a,title:"主模块",slot:void 0,frame:void 0};l.slot=new o.HZ;const c=n.configs.toplView;c&&(l.frame=new r.ei),t.mainModule=l;const d=n.configs.geoView.scenes,u=Array.isArray(d)?d:d.presets;function p(t,n,i){const o=l.frame.addFrame({id:t,title:i||"主场景",type:n});return(0,s.Z)(o,{asMultiScenes:!0},e),o}u&&u.forEach(((e,t)=>{let o,r;const s=e.id,a=e.title;if(o=l.slot.addSlot({id:s,title:a,template:e.template,deletable:!1}),0===t?c&&(r=p(s,e.type,a)):c&&(r=l.frame.addFrame({id:s,title:e.title,type:e.type||"normal"}),r.addIODiagram({title:a}),r.addInputPin({type:"normal",hostId:"open",title:"打开",schema:{type:"any"},editable:!0})),c&&!n.isDesnModeOfBluePrint()){let t=[];t=Array.isArray(e.events)?e.events:i.Io,t.forEach((e=>{r.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))}n.pageMetaModel.addPage({id:s,title:a,type:e.type,slot:o,frame:r})}))}},46439:(e,t,n)=>{n.d(t,{Z:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function o(e,t){return i(this,void 0,void 0,(function*(){const n=yield e.config.pageContentLoader(t);let i;return Array.isArray(n)?(i=n[0],n.length>1&&(e.blueprint=n[1])):"object"==typeof n&&(i=n),i||(i={title:"首页"}),i}))}},68117:(e,t,n)=>{n.d(t,{Ne:()=>l,P:()=>u,P0:()=>d,RS:()=>p,YV:()=>a,_g:()=>h,ft:()=>g,mp:()=>c,qy:()=>m,s3:()=>f});var i=n(83446),o=n(29953),r=n(79127),s=n(64006);function a(e){const{emitCommand:t}=e;return{exec:(e,...n)=>t.exec(e,...n)}}function l(e){const{model:t}=e;return{getAll(){const e=t.mainModule.slot;if(e.slots.length>0)return e.slots.map((e=>({id:e.id,title:e.title,get style(){return e.style}})))}}}function c(e){const{desnContext:t,model:n,emitVariable:i,emitLocale:o,emitSnap:r,emitItem:s}=e;return{registerImpl(e){n.localeImpl=e},getAll:()=>o.getAll()}}function d(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAll:()=>o.getAll()}}function u(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAll(){const e=i.getAll();if(e){const t=e.varAry;if(Array.isArray(t))return t.map((e=>({id:e.id,title:e.title,notifyBindings(t){i.notifyBindings(e.id,t,!0)}})))}},add({title:e,schema:t,initValue:n,slotId:o}){i.add({title:e,schema:t,initValue:n,slotId:o})},update:(e,{title:t,schema:n,initValue:o})=>i.update(e,{title:t,schema:n,initValue:o}),remove:e=>i.remove(e)}}function p(e){const{desnContext:t,model:n}=e;return{loadContent(n){if(!(null==n?void 0:n.content))throw new Error("数据错误");(0,i.zD)(n.content),setTimeout((n=>{e.model.designCostTime=0;const i=t.getPluginAry();i&&i.forEach((e=>{const n=t.getPluginData(e.namespace);e.data=n}))}))},dump(){const n=t.getPluginAry();return n&&n.forEach((e=>{"function"==typeof e.beforeDump&&e.beforeDump({data:t.getPluginData(e.namespace)})})),e.dump()},toJSON:()=>(0,o.a)(e,{ignoreComs:!0}),getGeoJSON:()=>function e(t){return{id:t.id,style:t.style.toJSON(),get comAry(){return t.comAry.map((t=>{const n=t.runtime,i=n.def;return{id:t.id,def:{namespace:i.namespace,version:i.version},get model(){return{style:n.model.style.toJSON(),data:n.model.data}},get slots(){if(t.slots){const n=[];return t.slots.forEach((t=>{n.push(e(t))})),n}}}}))}}}(n.mainModule.slot.slots[0])}}function f(e){const{desnContext:t,model:n,emitVariable:o,emitLabel:a,emitSnap:l,emitItem:c}=e;return{forEachCom(t){(0,s.l)(t,e)},getAllComDef:()=>t.getAllComDef(),addComDef(e){t.addComDef(e)},getComInstance(e){if("number"==typeof e){const t=n.mainModule.slot.slots[0].comAry[e];if(t)return{id:t.id,setData(e){if("object"==typeof e&&e)for(let n in e)t.data[n]=e[n]}}}},addInstance(e){if("object"==typeof e&&e.namespace&&e.version){const{slots:n,data:o,style:s,css:a}=e,d=t.getComDef(e);if(d){const e=new r.u5(d),t=l.start("add component"),u=c.add({seedModel:e,state:"finish"},{indeed:!0});let p;if(Array.isArray(u)&&u.length>1&&(p=u[0]),p){if(n&&Array.isArray(n)&&(p.slots=[],n.forEach((e=>{p.addSlot((0,i.d9)(e,!0))}))),"object"==typeof o&&o)for(let e in o)p.data[e]=(0,i.d9)(o[e],!0);if(s&&"object"==typeof s){const e=p.style;for(let t in s)e[t]=s[t]}Array.isArray(a)&&a.forEach((e=>{e&&"object"==typeof e&&e.selector&&e.css&&p.style.addStyle(e.selector,e.css)}))}t.commit()}}},getAll(){function e(n){return{type:"slot",id:n.id,title:n.title,style:n.style.toJSON(),get comAry(){return n.comAry.map((n=>{const i=n.runtime,o=i.def,r=t.getComDef(o);return{id:n.id,title:i.title,def:{namespace:o.namespace,version:o.version,title:r.title,version:r.version},get style(){return i.model.style.toValues(["width","height"])},get model(){return{css:i.model.style.styleAry,data:i.model.data}},get slots(){if(n.slots){const t=[];return n.slots.forEach((n=>{t.push(e(n))})),t}},get dom(){return n.$el},get spm(){return{get:()=>i.model.spm}}}}))}}}return n.mainModule.slot.slots.map((t=>e(t)))}}}function m(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{setComThemes(e){Array.isArray(e)&&e.length>0&&n.setComThemes(e)},updateComThemes(){},clearComThemes(){n.clearComThemes()},setCSSVar(e,t){if("string"!=typeof e||!e.match(/^\-\-\w+/))throw new Error("Invalid theme name,theme name should start with --");const i=n._cssVars.find((t=>t.name===e));i?i.value=t:n._cssVars.push({name:e,value:t})},getCSSVar(e){const t=n._cssVars.find((t=>t.name===e));return t?t.value:void 0},removeCSSVar(e){const t=n._cssVars.find((t=>t.name===e));t&&n._cssVars.splice(n._cssVars.indexOf(t),1)},clearCSSVar(){n.clearCSSVar()}}}function h(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{add(t){e.addDomainModel(t)},update(t){e.updateDomainModel(t)},remove(t){e.removeDomainModel(t)},test:(t,n,i)=>e.testDomainModel(t,n,i)}}function g(e){const{desnContext:t,model:n,emitVariable:i,emitLabel:o,emitSnap:r,emitItem:s}=e;return{getAllByType(e){var t;return null===(t=n.connectors)||void 0===t?void 0:t.filter((t=>t.type===e))},add(t){e.addConnector(t)},update(t){e.updateConnector(t)},remove(t){e.removeConnector(t)},test:(t,n)=>e.testConnector(t,n)}}},71540:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(83446),o=n(64664),r=n(86409),s=n(79127),a=n(47321);function l({title:e},t){const{desnContext:n}=t,l=n.configs.geoView,c=n.configs.toplView,d=(0,i.Vj)(),u=new o.U7({id:d,title:e,template:l.template});let p;return c&&(p=new r.go({id:d,title:e,asDefault:!0}),(0,a.Z)(p,{asMultiScenes:!0},t),n.isDesnModeOfBluePrint()||s.Io.forEach((e=>{p.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))}))),{slot:u,frame:p}}},72111:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(64664),o=n(83446),r=n(86409),s=n(79127),a=n(55443);function l(e){const{model:t,curPage:n}=e;if(t.factModule){const l=t.mainModule,c="__blueprint-slot__";function d(e,t){e.runtime,e.runtime.isBluePrint&&e.slots&&e.slots.forEach((e=>{u(e,t)}))}function u(e,t){const n=e.comAry;n&&n.forEach((n=>{n.runtime.isBluePrint?d(n,t):(t.push(n),n[c]||Object.defineProperty(n,c,{get:()=>({comId:e.parent.id,slotId:e.id})}))}))}const p=(0,o.$w)({mainModule:l},{uncompressed:!0,map(e,t,n){if(!n)return n;if("diagramAry"===t&&Array.isArray(n)){const e=[];return n.forEach(((t,n)=>{t instanceof r.Vm&&!t.isBluePrint&&e.push(t)})),e}if("comAry"===t&&Array.isArray(n)){const e=[];return n.forEach(((t,n)=>{t instanceof i.Zd&&t.runtime.isBluePrint?d(t,e):e.push(t)})),e.length>0?e.filter((e=>e)):n}return e[c]&&"parent"===t?Object.assign({_type:"blueprint"},e[c]):e instanceof s.cR&&e.isBluePrint||e.runtime instanceof s.cR&&e.runtime.isBluePrint?void 0:n}});return{content:{[a.pE]:p}}}return{content:{[a.pE]:(0,o.$w)(a.pE)}}}},3766:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(83446),o=n(86409),r=n(55443);function s(e){try{const{desnContext:t}=e,n=t.pageMetaModel.openedPageAry,s=function(e){const{model:t}=e,n=t.mainModule,{slot:o,frame:s}=n,a=(0,i.$w)(r.pE,{map(e,t,n){if("varComAry"===t)return;const r=(0,i.Ku)(s);if(n!==(0,i.Ku)(o.slots)){if(n===r.frames){return r.frames.filter((e=>{if(e.isTypeOfFx())return!0}))}return n}}});return{[r.pE]:a}}(e),a=[],l=[],c=[],d=t.pageMetaModel.getPageAry();return d&&d.forEach(((t,n)=>{if(t._deleteTime||c.push({id:t.id,title:t.title,type:t.type}),t._upateTime&&!t._deleteTime){const n=function(e,t){const{model:n}=t,r=n.mainModule,s=r.frame,a=e.id;let l=e.slot,c=e.frame;l||(l=r.slot.getSlot(a));c||(c=r.frame.getFrame(a));return(0,i.$w)({slot:l,frame:c},{map(e,t,n){if(n===(0,i.Ku)(l.parent))return;const a=(0,i.Ku)(s);if(n!==(0,i.Ku)(r.slot)&&n!==a){if(c){if(n===(0,i.Ku)(c.parent))return;if(e instanceof o.nW&&e.isSceneOpen()&&"ioProxyForCall"===t){const t=e.ioProxyForCall;return{_todo_:!0,frameId:t.sceneId,_inputs:t._inputs,_outputs:t._outputs}}if(e instanceof o.EA&&e.isVar()&&"forkedFrom"===t&&n.parent===a)return{_todo_:!0,comId:n.id};if(e instanceof o.nW&&e.isFx()&&"ioProxy"===t&&a.frames.indexOf(n)>=0)return{_todo_:!0,frameId:n.id};if("proxyPin"===t&&e instanceof o.ON&&a.frames.indexOf(n.parent)>=0)return{_todo_:!0,pinId:n.id,pinHostId:n.hostId,frameId:n.parent.id};if("proxyForPin"===t&&e instanceof o.ON&&a.frames.indexOf(n.parent)>=0)return{_todo_:!0,pinId:n.id,pinHostId:n.hostId,frameId:n.parent.id}}return n}}})}(t,e);n&&a.push({id:t.id,title:t.title,type:t.type,content:n})}else t._deleteTime&&l.push({id:t.id,title:t.title,type:t.type})})),{json:{pageAry:c,openedPageAry:n,updatedPageAry:a,deletedPageAry:l,projectContent:s},reset(){t.pageMetaModel.reset()}}}catch(e){console.error(e)}}},47321:(e,t,n)=>{function i(e,{asMultiScenes:t},n){var i;const{desnContext:o}=n,r=null===(i=o.configs.toplView.cards)||void 0===i?void 0:i.main;r&&!o.isDesnModeOfBluePrint()&&(e.addIODiagram({title:e.title||r.title}),Array.isArray(r._inputs)&&r._inputs.forEach((t=>{e.add_InputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r.inputs)&&r.inputs.forEach((t=>{e.addInputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r._outputs)&&r._outputs.forEach((t=>{e.add_OutputPin({id:t.id,hostId:t.id,title:t.title,schema:t.schema})})),Array.isArray(r.outputs)&&r.outputs.forEach((t=>{e.addOutputPin({id:t.id,hostId:t.id,title:t.title,type:t.type,schema:t.schema})}))),t&&(e.diagramAry.find((e=>e.isGlobal))||e.addIODiagram({title:e.title}),e.addInputPin({type:"normal",hostId:"open",title:"打开",schema:{type:"any"},editable:!0}))}n.d(t,{Z:()=>i})},67799:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(83446),o=n(86409);function r(e,t){if(e.content){const n=(0,i.vB)(e.content);if(n){const{slot:i,frame:o}=n;return o&&s(o,t),{id:e.id,content:n}}}}function s(e,t){const{model:n}=t,r=n.mainModule.frame;e.comAry&&e.comAry.forEach((e=>{const n=e.runtime;if(e.frames&&n.topl.frames.forEach((e=>{s(e,t)})),e.isSceneOpen()&&e.ioProxyForCall._todo_){const{frameId:t}=e.ioProxyForCall,n=r.getFrame(t);e.ioProxyForCall.frame=n,e._inputPins.length>0&&e._inputPins.forEach((e=>{var t;if((null===(t=e.proxyPin)||void 0===t?void 0:t._todo_)&&n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}})),e.outputPinsInModel.length>0&&e.outputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyForPin)||void 0===t?void 0:t._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0}))}if(e.isFx()&&e.ioProxy._todo_){const{frameId:t}=e.ioProxy,n=r.getFrame(t);e.ioProxy=n,e.inputPinsInModel.forEach((e=>{if(e.proxyPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyPin,o=n.searchPin(i);e.proxyPin=o}else e.proxyPin=void 0})),e.outputPinsInModel.forEach((e=>{if(e.proxyForPin._todo_)if(n){const{frameId:t,pinId:i}=e.proxyForPin,o=n.searchPin(i);e.proxyForPin=o}else e.proxyForPin=void 0}))}})),e.diagramAry&&e.diagramAry.forEach((e=>{e.comAry&&e.comAry.forEach((e=>{if(e instanceof o.EA&&(e._key=(0,i.Vj)()),e instanceof o.EA&&e.forkedFrom._todo_){const t=r.searchCom(e.forkedFrom.comId);if(t){e.forkedFrom=t;e.getInputsAllAry().forEach((e=>{const n=t.inputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}));e.getOutputsAllAry().forEach((e=>{const n=t.outputPins.find((t=>t.hostId===e.hostId));e.forkedFrom=n,e.conAry&&e.conAry.forEach((e=>{n.conAry.push(e)}))}))}}}))})),e.frameAry&&e.frameAry.forEach((e=>{s(e,t)}))}},29953:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(37181),o=n(83446);function r(e,t){var n,r,s,a,l;const{model:c,desnContext:d}=e,u=null===(n=c.mainModule.slot)||void 0===n?void 0:n.slots,p=null===(r=c.mainModule.frame)||void 0===r?void 0:r.frames,f=(0,o.Ku)(u),m=(0,o.Ku)(p);let h;if(null===(a=null===(s=d.configs)||void 0===s?void 0:s.geoView)||void 0===a?void 0:a.scenes){h={themes:{cssVars:(0,o.Ku)(c.themes),comThemes:(0,o.Ku)(c.comThemes)},permissions:(0,o.Ku)(c.permissions),global:(0,i.hf)((0,o.Ku)(c.mainModule.frame),null==t?void 0:t.needClone),scenes:[]};const e=(0,o.Ku)(c.modules);if(e){const t={};for(let n in e){const i=e[n];i.deleted||(t[n]=i)}h.modules=t}null==f||f.forEach(((e,n)=>{if((null==t?void 0:t.ignoreComs)&&(e.isTypeOfDefinedCom()||e.isTypeOfModule()))return;let r;m&&(r=m.find((t=>t.id===e.id))),r||(r=m[n]);const s=(0,i.aD)({slot:(0,o.Ku)(e),frame:(0,o.Ku)(r)},null==t?void 0:t.needClone);h.scenes.push(s)}))}else{const e=null==m?void 0:m[0];h=(0,i.aD)({slot:(0,o.Ku)(f[0]),frame:(0,o.Ku)(null==m?void 0:m[0]),global:e?(0,i.hf)((0,o.Ku)(e)):void 0},null==t?void 0:t.needClone)}const g=null===(l=d.configs)||void 0===l?void 0:l.plugins;if(g){const e={};g.forEach((t=>{if("function"==typeof t.toJSON){const n=d.getPluginData(t.namespace||t.name);e[t.namespace]=t.toJSON({data:n})}})),h.plugins=e}return h}},37181:(e,t,n)=>{n.d(t,{aD:()=>s,hf:()=>r});var i=n(16883),o=n(43966);function r(e,t){return(0,o.a)(e,t)}function s(e,t){return(0,i.au)(e,t)}},43966:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(62645),o=n(16883);function r(e,t){const n={},r={},s={},a=[],l=(e,t)=>{e.rels&&(s[`${t}-${e.hostId}`]=e.rels)},c=(e,t)=>{if(e.conAry){const n=[];if(e.conAry.forEach((e=>{var t,i,o,r,s;let a;const l=e.finishPin;if(!l)return;let d;l.parent.timerInputPin&&(d=l.parent.timerInputPin.id);const u=e.parent.parent;u&&(a=u.parent?1===u.parent._type?`${u.parent.runtime.id}-${u.id}`:`${u.id}`:"_rootFrame_");const p=l.parent;if(1===p._type){const t=l.forkedFrom||l,i=p.forkedFrom||p,o=e.startPin.parent._key,r=e.finishPin.parent._key;n.push({id:e.id,type:"com",frameKey:a,startPinParentKey:o,finishPinParentKey:r,comId:i.runtime.id,def:i.runtime.def,timerPinInputId:d,pinId:t.hostId,pinType:t.type,direction:t.direction,extBinding:t.extBinding,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint})}else{const d=l.forkedFrom||l,u=d.parent;if(0===u._type){const l=d.forkedAsJoint;if(l){const r=(null===(t=l.from)||void 0===t?void 0:t.hostId)||l.hostId,s=null===(i=e.startPin.parent)||void 0===i?void 0:i._key,d={id:e.id,type:"frame",frameKey:a,startPinParentKey:s,frameId:u.id,comId:null===(o=u.parent)||void 0===o?void 0:o.runtime.id,pinId:r,pinType:"joint",direction:l.direction,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint};n.push(d);const p=`${d.comId?d.comId+"-":""}${d.frameId}`;c(l,p)}else{const t=null===(r=e.startPin.parent)||void 0===r?void 0:r._key,i=1===(null===(s=u.parent)||void 0===s?void 0:s._type)?u.parent.runtime.id:void 0;n.push({id:e.id,type:"frame",frameKey:a,startPinParentKey:t,frameId:u.id,comId:i,pinId:d.hostId,pinType:d.type,direction:d.direction,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint})}}}})),n.length>0){let i;i=e.from&&e.from.hostId?e.from.hostId:e.hostId,r[`${t}-${i}`]=n}}};return e.varComAry&&e.varComAry.forEach((e=>{const o=e.runtime,r=o.def,s=[],a=[],d=o.geo,u=t?JSON.parse(JSON.stringify(o.model)):o.model;n[o.id]={id:o.id,def:r,title:o.title,model:u,reservedEditorAry:d?d.reservedEditorAry:void 0,configs:[],inputs:s,outputs:a},i.S6((e=>{l(e,o.id),s.push(e.hostId)}),e.inputPins,e.inputPinsInModel,e.inputPinExts),i.S6((e=>{c(e,o.id),a.push(e.hostId)}),e.outputPins,e.outputPinsInModel,e.outputPinExts,e.outputPinNexts)})),e.comAry&&e.comAry.forEach((e=>{const o=e.runtime,r=o.def,s=[],a=[],d=o.geo,u=t?JSON.parse(JSON.stringify(o.model)):o.model;n[o.id]={id:o.id,def:r,title:o.title,model:u,reservedEditorAry:d?d.reservedEditorAry:void 0,configs:[],inputs:s,outputs:a},i.S6((e=>{l(e,o.id),s.push(e.hostId)}),e.inputPins,e.inputPinsInModel,e.inputPinExts),i.S6((e=>{c(e,o.id),a.push(e.hostId)}),e.outputPins,e.outputPinsInModel,e.outputPinExts,e.outputPinNexts)})),e.frames&&e.frames.forEach((e=>{if("fx"===e.type){const n=(0,o.L1)(e,void 0,t);a.push(n)}})),{comsReg:n,consReg:r,pinRels:s,fxFrames:a}}},16883:(e,t,n)=>{n.d(t,{L1:()=>s,au:()=>r});var i=n(62645),o=n(90782);function r({slot:e,frame:t},n){const i=[],r={};let a,l;return e&&(a=function(e,{depsReg:t,comsReg:n},i,o){let r;const s=e=>{if(e.comAry){const r=[];return e.comAry.forEach((e=>{if(!i){const i=e.runtime,r=i.def;t.find((e=>e.namespace===r.namespace&&e.version===r.version))||t.push(r);const s=o?JSON.parse(JSON.stringify(i.model)):i.model;n[i.id]={id:i.id,def:r,name:e.name,title:i.title,model:s}}let a;e.slots&&(a={},e.slots.forEach((e=>{const t=s(e);t&&(a[e.id]=t)}))),r.push({id:e.runtime.id,name:e.name,def:e.runtime.def,slots:a})})),{id:e.id,title:e.title,type:e.type,showType:e.showType,comAry:r,style:e.style}}};e&&(r=s(e));return r}(e,{depsReg:i,comsReg:r},t,n)),t&&(l=s(t,{depsReg:i,comsReg:r},n)),Object.assign({"-v":o.i8,deps:i,coms:r},l||{},a?{id:a.id,title:a.title,slot:a}:{})}function s(e,t,n){const r=(null==t?void 0:t.depsReg)||[],s=(null==t?void 0:t.comsReg)||{},l=[],c=[],d=[],u=[],p={},f={},m={},h={},g={},y=(e,t)=>{if(e.rels&&(p[`${t}-${e.hostId}`]=e.rels),e.proxyScenePin){const{sceneId:n,hostId:i}=e.proxyScenePin;f[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:i}}if(e.proxyPin)if(e.proxyPin._todo_){const{frameId:n,pinId:i,pinHostId:o}=e.proxyPin;f[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:o}}else{const n=e.proxyPin.parent;if(n&&0===n._type){const i=n.id;f[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}if(e.proxyPinValue){const n=e.proxyPinValue.parent;if(n&&0===n._type){const i=n.id;m[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPinValue.hostId}}}},b=(e,t)=>{if(e.proxyPin)if(e.proxyPin._todo_){const{frameId:n,pinId:i,pinHostId:o}=e.proxyPin;f[`${t}-${e.hostId}`]={type:"frame",frameId:n,pinId:o}}else{const n=e.proxyPin.parent;if(n&&0===n._type){const i=n.id;f[`${t}-${e.hostId}`]={type:"frame",frameId:i,pinId:e.proxyPin.hostId}}}if(e.conAry){const n=[];if(e.conAry.forEach((e=>{var t,i,o,r,s;let l,c;const d=e.finishPin;if(!d)return;let u;d.parent.timerInputPin&&(u=d.parent.timerInputPin.id);const p=e.parent.parent;p&&(l=a(p)),c=d.proxyPinValue?a(d.proxyPinValue.parent):l;const f=d.parent;if(1===f._type){const t=d.forkedFrom||d,i=f.forkedFrom||f,o=e.startPin.parent._key,r=e.finishPin.parent._key;n.push({id:e.id,type:"com",frameKey:l,targetFrameKey:c,startPinParentKey:o,finishPinParentKey:r,comId:i.runtime.id,def:i.runtime.def,timerPinInputId:u,pinId:t.hostId,pinType:t.type,direction:t.direction,extBinding:t.extBinding,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint})}else{const a=d.forkedFrom||d,c=a.parent;if(0===c._type){const d=a.forkedAsJoint;if(d){const r=(null===(t=d.from)||void 0===t?void 0:t.hostId)||d.hostId,s=null===(i=e.startPin.parent)||void 0===i?void 0:i._key,a={id:e.id,type:"frame",frameKey:l,startPinParentKey:s,frameId:c.id,comId:null===(o=c.parent)||void 0===o?void 0:o.runtime.id,pinId:r,pinType:"joint",direction:d.direction,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint};n.push(a);const u=`${a.comId?a.comId+"-":""}${a.frameId}`;b(d,u)}else{const t=null===(r=e.startPin.parent)||void 0===r?void 0:r._key,i=1===(null===(s=c.parent)||void 0===s?void 0:s._type)?c.parent.runtime.id:void 0;n.push({id:e.id,type:"frame",frameKey:l,startPinParentKey:t,frameId:c.id,comId:i,pinId:a.hostId,pinType:a.type,direction:a.direction,isIgnored:e.isIgnored,isBreakpoint:e.isBreakpoint})}}}})),n.length>0){let i;i=e.from&&e.from.hostId?e.from.hostId:e.hostId,h[`${t}-${i}`]=n}}},v=e=>{e._inputPins&&e._inputPins.forEach((t=>{let n;n=e.parent&&1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:e.parent?e.id:"_rootFrame_",b(t,n),y(t,n),e.parent||l.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema,extValues:t.extValues})})),e.inputPins&&e.inputPins.forEach((t=>{let n;n=e.parent&&1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:e.parent?e.id:"_rootFrame_",b(t,n),y(t,n),e.parent||d.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema,extValues:t.extValues,mockData:t.mockData,mockDataType:t.mockDataType})})),e._outputPins&&e._outputPins.forEach((t=>{e.parent||c.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema})})),e.outputPins&&e.outputPins.forEach((t=>{if(e.parent||u.push({id:t.hostId,title:t.title,type:t.type,schema:t.schema}),"event"===t.type){b(t,"_rootFrame_")}})),e.comAry&&e.comAry.forEach((t=>{var o,a,l;if(!t||!t.runtime)return;const c=t.runtime,d=c.def;r.find((e=>e.namespace===d.namespace&&e.version===d.version))||r.push(d);const u=[],p=[],f=[],m=[],h=c.geo,x=n?JSON.parse(JSON.stringify(c.model)):c.model;if(s[c.id]={id:c.id,def:d,frameId:e.parent?e.id:void 0,parentComId:null===(a=null===(o=e.parent)||void 0===o?void 0:o.runtime)||void 0===a?void 0:a.id,title:c.title,model:x,reservedEditorAry:h?h.reservedEditorAry:void 0,configs:u,_inputs:p,timerInput:void 0,inputs:f,outputs:m},t.configPins&&t.configPins.forEach((e=>{u.push(e.hostId)})),t.timerInput&&(y(t.timerInput,c.id),s[c.id].timerInput=t.timerInput.hostId),i.S6((e=>{y(e,c.id),p.push(e.hostId)}),t._inputPins),i.S6((e=>{y(e,c.id),f.push(e.hostId)}),t.inputPins,t.inputPinsInModel,t.inputPinExts),i.S6((e=>{b(e,c.id),m.push(e.hostId)}),t.outputPins,t.outputPinsInModel,t.outputPinExts,t.outputPinNexts),c._autoRun&&(null===(l=d.rtType)||void 0===l?void 0:l.match(/^js/))){let t;t=e.parent?e.parent.runtime?`${e.parent.runtime.id}-${e.id}`:e.id:"_rootFrame_";let n=g[t];n||(n=g[t]=[]),n.push({id:c.id,def:d})}t.frames&&t.frames.forEach((e=>{v(e)}))})),e.frameAry&&e.frameAry.forEach((e=>{v(e)}))};return e&&v(e),{"-v":o.i8,id:e.id,title:e.title,type:e.type,deps:r,coms:s,comsAutoRun:g,_inputs:l,_outputs:c,inputs:d,outputs:u,cons:h,pinRels:p,pinProxies:f,pinValueProxies:m}}function a(e){if(e)return e.parent?1===e.parent._type?`${e.parent.runtime.id}-${e.id}`:`${e.id}`:"_rootFrame_"}},62645:(e,t,n)=>{function i(e,...t){t.forEach((t=>{t&&t.forEach(((n,i)=>{e(n,i,t)}))}))}n.d(t,{S6:()=>i})},37260:(e,t,n)=>{n.d(t,{T:()=>r});var i=n(46873);const o="__id__";function r(e,t,n){const r=(0,i.Vj)(),s=function({node:e,uid:t,ioProxy:n}){const r={};return new Proxy({},{ownKeys(t){const n=[];return i.tk.each((e=>{n.push(e.hostId)}),e.configPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===o?t:function(e){r[n]=e},set(e,t,n,i){const o=r[t];return"function"==typeof o&&o(n),!0}})}({node:e,uid:r,ioProxy:t}),{_inputs:a,_inputsCallable:l}=function({node:e,uid:t,ioProxy:n,curScope:r}){const s={},a={_all:{},_waiting:{},has(e){return"function"==typeof this._all[e]},set(e,t){this._all[e]=t;const n=this._waiting[e];if(n)try{n.forEach((e=>{t(e)})),delete this._waiting[e]}finally{}return!0},get(e){return this._all[e]},waiting(e,t){let n=this._waiting[e];n||(n=this._waiting[e]=[]),n.push(t)}},l=new Proxy({},{ownKeys(t){const n=[];return i.tk.each((e=>{n.push(e.hostId)}),e._inputPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===o?t:"_setInterseptor"===n?e[n]:function(e){a.set(n,(function(t){const i=s[n];if(void 0!==t&&i){s[n]=void 0;const[i,o]=t;e(i,o)}}))},set(e,t,n,i){s[t]=n;const o=a.get(t);return o?o(n):a.waiting(t,n),!0}}),c=new Proxy({},{get(t,n){const i=e._inputPins.find((({hostId:e})=>n==e));if(i)return function(e){i._exe(r,e)}}});return{_inputs:l,_inputsCallable:c}}({node:e,uid:r,ioProxy:t,curScope:n}),{inputs:c,inputsCallable:d}=function({node:e,uid:t,ioProxy:n}){class r{constructor(...e){this._values=e}getVal(e){return this._values[e]}}const s={_all:{},_waiting:{},has(e){return"function"==typeof this._all[e]},set(e,t,n){let i=this._all[e];i||(i=this._all[e]=[]);let o=n||e;const r=i.find((e=>e.id===o));r?r.fn=t:i.push({id:o,fn:t});const s=this._waiting[e];if(s)try{s.forEach((e=>{e(i)})),delete this._waiting[e]}finally{}return!0},get(e){return this._all[e]},waiting(e,t){let n=this._waiting[e];n||(n=this._waiting[e]=[]),n.push(t)}},a=new Proxy({},{ownKeys(t){const n=[];return i.tk.each((e=>{n.push(e.hostId)}),e.inputPins,e.inputPinsInModel),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get:(e,n,i)=>n===Symbol.iterator?Array.prototype[Symbol.iterator]:"hasOwnProperty"===n?()=>!0:n===o?t:"_setInterseptor"===n?e[n]:function(e,t){let i;if(t)if("object"==typeof t){const i=t[n];"function"==typeof i&&i(e)}else"string"==typeof t&&(i=t);s.set(n,(function(n){if(void 0!==n){const[i,o]=n;let r;r="function"==typeof o?o("string"==typeof t?t:void 0):o,e(i,r)}}),i)},set(e,t,i,o){const a=e=>t=>{(null==n?void 0:n.input)&&n.input();const i=t=>e[0]instanceof r?[e[0].getVal(t),e[1],e[2]]:e;t.forEach(((e,t)=>{try{e.fn(i(t))}catch(e){console.error(e)}}))},l=s.get(t);return l?a(i)(l):s.waiting(t,a(i)),!0}}),l=new Proxy({},{get(t,n){const i=e.inputPins.find((({hostId:e})=>n==e));if(i){const e=function(e){let t;if(t=arguments.length>1?new r(...arguments):e,i.rels){const e={},o={};return i.rels.forEach((t=>{e[t]=e=>{o[t]=e}})),Promise.resolve().then((()=>{a[n]=[t,e=>{const t={};return i.rels.forEach((n=>{t[n]=t=>{o[n](t,e)}})),t}]})),e}a[n]=[t,void 0]};return e}}});return{inputs:a,inputsCallable:l}}({node:e,uid:r,ioProxy:t}),u=function({node:e,uid:t,curScope:n}){return new Proxy({},{ownKeys(t){const n=[];return i.tk.each((e=>{n.push(e.hostId)}),e._outputPins),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(r,s,a){if(s===o)return t;if("_setInterseptor"===s)return r[s];if(e.outputPins||e.outputPinsInModel){const t=i.tk.find((({hostId:e})=>s==e),e._outputPins);if(t)return function(i,o){t._exe(n,i,void 0,e)}}}})}({node:e,uid:r,curScope:n}),p=function({node:e,uid:t,ioProxy:n,curScope:r}){return new Proxy({},{ownKeys(t){const n=[];return i.tk.each((e=>{n.push(e.hostId)}),e.outputPins,e.outputPinsInModel),n},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0}),get(s,a,l){if(a===Symbol.iterator)return Array.prototype[Symbol.iterator];if("hasOwnProperty"===a)return()=>!0;if(a===o)return t;if("_setInterseptor"===a)return s[a];if(e.outputPins||e.outputPinsInModel){const t=i.tk.find((({hostId:e})=>a==e),e.outputPins,e.outputPinsInModel);if(t){const i=function(i,o,s){if((null==n?void 0:n.output)&&n.output(i),s){const e=s[a];"function"==typeof e&&e(i)}let l;if(t.runInFrameId){const n=r.comInsts[e.id].scopes;if(n&&(l=n.find((e=>e.frameId===t.runInFrameId))),!l)throw new Error("Scope not found for output.runInFrameId.")}else l=r;t._exe(l,i,o,e)};return i.getConnections=()=>t.conAry.map((e=>({from:{title:e.startPin.title},to:{title:e.finishPin.title}}))),i}}}})}({node:e,uid:r,ioProxy:t,curScope:n});return{configs:s,_inputs:a,_inputsCallable:l,inputs:c,inputsCallable:d,_outputs:u,outputs:p,fork:(e,t,n)=>e&&"_inputs"===e.toLowerCase()?new Proxy(a,{get(e,n){const i=e[n];if("function"==typeof i)return e=>{i(e,t)}}}):e&&"inputs"===e.toLowerCase()?new Proxy(c,{get(e,i){const o=e[i];if("function"==typeof o)return t?e=>{o(e,t)}:"string"==typeof n?e=>{o(e,n)}:o}}):e&&"_outputs"===e.toLowerCase()?new Proxy(u,{get(e,n){const i=e[n];if("function"==typeof i)return e=>{i(e,t)}}}):e&&"outputs"===e.toLowerCase()?new Proxy(p,{get(e,n){if("getConnections"===n)return e.getConnections;const i=e[n];return"function"==typeof i?e=>{i(e,void 0,t)}:void 0}}):void 0}}},40156:(e,t,n)=>{n.d(t,{v:()=>i});const i="default"},95879:(e,t,n)=>{n.d(t,{MY:()=>h,p8:()=>p,uY:()=>m,vc:()=>f});var i=n(99921),o=n(46873),r=n(9428),s=n(38170),a=n(4090);let l,c,d=null;let u="stop";function p(){return"running"===u}let f={},m={};function h(e,t,n="runtime"){(0,o.wj)(e,i.t.FRAME);const p=t.global;return p&&(p.varComAry&&p.varComAry.forEach((e=>{e&&(0,a.M)(e,t,n)})),p.fxFrameAry&&p.fxFrameAry.forEach((e=>{(0,r.M)(e,t,n)}))),(0,r.M)(e,t,n),d={on(e,t){e&&"string"==typeof e&&"function"==typeof t&&(m[e.toLowerCase()]=t)},run(e=e,n){if(t._scopeManager=(0,s.Z)(),t._scopeManager.start(),function(e){return Object.assign(f,e||{}),l=[],c=[],!0}(n))return u="running",new Promise(((e,t)=>{})),t=>{t&&t.outputs&&e.outputPins&&e.outputPins.forEach((e=>{const n=t.outputs[e.id];"function"==typeof n&&(e.proxyPin={_exe(e,t,i,o){n(t)}})}));const i=e._exe(null==n?void 0:n.rootScope,null==t?void 0:t.inputParams,void 0,"input",!0);return t.inputs&&e.inputPins&&Object.keys(t.inputs).forEach((n=>{const o=t.inputs[n],r=e.inputPins.find((e=>e.hostId===n));r&&r.conAry&&r.conAry.length>0&&o((e=>{r._exe(i,e,void 0,void 0)}))})),i}},update:(e,t=t)=>(t._update(e,void 0,void 0),!0),pause:g,stop(){const e=(u="stop",!0);return d=null,l=void 0,c=void 0,t._scopeManager.stop(),e}}}function g(){return u="pause",!0}},14509:(e,t,n)=>{n.d(t,{MY:()=>i.MY,Ns:()=>r.I_Runner,TB:()=>o.T,t_:()=>r.t,uo:()=>r.T_Scope});var i=n(95879),o=n(37260),r=n(99921);n(46873)},77228:(e,t,n)=>{n.d(t,{M:()=>s});var i=n(95879),o=n(99921),r=n(46873);function s(e,t,n="runtime"){let s=e;"object"!=typeof s||s._exe||(s._exe=function(n,a,l){if(e.isBlocked)return;if(!(0,i.p8)())return;if(!e.finishPin)return;const c=e.finishPin.forkedFrom||e.finishPin;if("function"!=typeof c._exe){const p=(0,r.Ym)(e.startPin.parent,o.t.NODE)?e.startPin.parent:void 0;return void t.onError({type:"con",id:e.id},`连接(来自:${p?p.title:"未知组件"}，${s.title})未实现.`)}let d=t.con?t.con(e):void 0;d&&d.exe(a);let u=n;if(l){let f;f=(0,r.Ym)(c.parent,o.t.NODE)?c.parent.parent:c.parent;const m=f._curScope_;function h(e,t){let n=t;e.id!==t.id&&(n=e),i.vc.debug&&i.vc.debug.stepTime,c._exe(n,a,void 0,s)}m?h(m,n):(f.exeTodo||(f.exeTodo=[]),f.exeTodo.push((e=>{h(e._curScope_,n)})))}else{(()=>{i.vc.debug&&i.vc.debug.stepTime,c._exe(u,a,void 0,s)})()}})}},9428:(e,t,n)=>{n.d(t,{M:()=>a});var i=n(40156),o=n(4090),r=n(75542),s=n(5535);function a(e,t,n="runtime"){e.frameAry&&e.frameAry.forEach((e=>{a(e,t,n)})),e.comAry&&e.comAry.forEach((e=>{e&&(0,o.M)(e,t,n)})),e._inputPins&&e._inputPins.forEach((e=>(0,r.M)(e,t,n))),e.inputPins&&e.inputPins.forEach((e=>(0,r.M)(e,t,n))),e._outputPins&&e._outputPins.forEach((e=>(0,r.M)(e,t,n))),e.outputPins&&e.outputPins.forEach((e=>(0,r.M)(e,t,n))),e.inputJoints&&e.inputJoints.forEach((e=>(0,r.M)(e,t,n))),e.outputJoints&&e.outputJoints.forEach((e=>(0,r.M)(e,t,n)));const l=t.frame(e),c=e,d={};c._update=function(r,s,a=i.v){const l=a+r.id,{curScope:c,coms:u}=d[l];e.comAry.forEach((e=>{u.push(e.id),"function"!=typeof e._exe&&((0,o.M)(e,t,n),e._exe(c))}))},c._exe=function(r,a,u=i.v,p,f,m,h){e.parent||(f=!0),r||(e.parent,r=t._scopeManager.applyScope(void 0,e.id,"-parent"));const g=u+r.id;let y=!1;if(d[g]){const t=d[g].coms;(t.length!==e.comAry.length||e.comAry.find((e=>t.indexOf(e.id)<0)))&&(y=!0)}if(!d[g]||y||f){let i,s;if(c._exeAsRoot_=!!f,c._exeAsRoot_)i={inst:void 0,scopes:[]};else if(i=r.comInsts[e.parent.id],!i&&e._rootF)return;const l=[];if("input"==(p="string"==typeof p?p:"input")){const i=!c._exeAsRoot_&&e.parent?e.parent.id:void 0;s=r.applyScope(i,e.id,u,m,e._rootF,h,a),c._curScope_=s,c._allScopes_||(c._allScopes_={}),c._allScopes_[r.path]=s,Array.isArray(c.exeTodo)&&(c.exeTodo.forEach((e=>{e(c)})),c.exeTodo=void 0),e.inputPins.forEach((e=>{"config"===e.type&&e._exe(s,e.mockData,void 0,void 0)})),e.comAry.forEach((e=>{var i;e&&(l.push(e.id),"function"!=typeof e._exe&&(0,o.M)(e,t,n),(null===(i=e.runtime)||void 0===i?void 0:i.geo)&&e._exe(s))})),e.comAry.forEach((e=>{var t;e._autoRun&&((null===(t=e.runtime)||void 0===t?void 0:t.geo)||e._exe(s))}))}d[g]={myInstScope:i,curScope:s,coms:l}}const{curScope:b}=d[g];if("input"==(p="string"==typeof p?p:"input")){l.exe&&l.exe(a);const t={};if("mock"===n&&e.inputPins.length>0&&e.inputPins.forEach((e=>{e.mockData&&(t[e.hostId]=e.mockData)})),a=Object.assign(t,a)){const t=a.__forInputs__;for(let n in a)if("__forInputs__"!==n){let i;i=t?e._inputPins.find((e=>e.hostId==n)):e.inputPins.find((e=>e.hostId==n)),i?i._exe(b,a[n],void 0,void 0):"undefined"!=typeof console&&"function"==typeof console.error&&console.error(`No input or _input (id=${n}) found`)}}return e.inputJoints&&e.inputJoints.forEach((e=>{(0,s.S)(e,b)})),b}if(p.match(/^(output)|(inner-input)$/gi)){let t=b;if(e.outputPins.length){if(a)for(let e in a)t.returnParams[e]=a[e]||null;e.outputPins.find((e=>null==t.returnParams[e.hostId]))||t.resolve()}}}}},5535:(e,t,n)=>{n.d(t,{S:()=>o});n(77228);let i=new WeakMap;function o(e,t){let n=t.parent,o=i.get(e);if(o){let e=o.get(n);e&&e.forEach((e=>{e(t)}))}}},4090:(e,t,n)=>{n.d(t,{M:()=>a});var i=n(9428),o=n(75542),r=n(46873),s=n(40156);function a(e,t,n="runtime"){var a;r.tk.each((e=>(0,o.M)(e,t,n)),e.configPins),r.tk.each((e=>(0,o.M)(e,t,n)),e._inputPins,e.inputPins,e.inputPinExts,e.inputPinsInModel),r.tk.each((e=>(0,o.M)(e,t,n)),e.outputPins,e.inputPinExts,e.outputPinsInModel);const l=e,c=t.node(e),d={},u=e.id||(null===(a=e.runtime)||void 0===a?void 0:a.id),p={};function f(t){if("function"!=typeof c.render)throw new Error("Render config function for node not found.");const n={};e.frames&&e.frames.forEach((e=>{n[e.id]=function(n,i=s.v){const o=e._exe(t,n,i);if(o)return o.path}}));const i=c.render(n,t);t.comInsts[u]={title:e.title,inst:i,scopes:[]},d[t.id]=!0}function m(e,t){if(t){let n=t.comInsts[u];return n||m(e,t.parent)}}l._config=function(n,i){if(d[n.id]||(f(n),d[n.id]=!0),i){const o=i.binding,r=i.value;if(o){const t=e.model;if(t){const e=o.split(".");let n=t;e.forEach(((t,i)=>{i!==e.length-1?n=n[t]:n[t]=r}))}}else{let o,r=!0;if(d[n.id]||(e.parent&&n.parent&&e.parent.id!==n.frameId?(o=m(e,n.parent),r=!1):f(n)),r&&!o&&(o=n.comInsts[u]),!o)return void t.onError({type:"node",id:u},new Error("Scope error."));try{o.inst.configs[i.id]=i.value}catch(e){"function"==typeof t.onError&&t.onError({type:"node",id:u},e)}}}},l._exe=function(n,i,o){var s;let a;r.tk.each((e=>{void 0!==e.dummyData&&(!a&&(a={}),a[e.hostId]=e.dummyData)}),e.inputPins,e.inputPinsInModel),i=a?Object.assign(a,i):i;let l,h=!0;if(!d[n.id])if(e.parent&&n.parent){if(l=m(e,n.parent),!l){let t;t=e.parent._curScope_?e.parent._curScope_:n.getRoot(),f(t),l=t.comInsts[u]}h=!1}else f(n);if(h&&!l&&(l=n.comInsts[u]),!l)return void t.onError({type:"node",id:u},new Error("Scope error."));const g=n.comPinTodo[u];if(Array.isArray(g)&&(n.comPinTodo[u]=void 0,delete n.comPinTodo[u],g.forEach((e=>{e()}))),i){const s=new Proxy({},{get(e,i,s){if(o&&o.finishPin.rels){let e;return o.finishPin.rels.find((s=>{s===i&&(e=e=>{const s=o.finishPin.parent,a=r.tk.find((e=>e.hostId===i),s.outputPinsInModel,s.outputPins);a&&a.conAry&&a.conAry.find((i=>{if(i.finishPin&&i.startPinParentKey===o.finishPinParentKey){let o=t.pin?t.pin(i.startPin):void 0;o&&o.exe(e,i);let r=t.con?t.con(i):void 0;r&&r.exe(e),i.finishPin._exe(n,e,void 0,i)}}))})})),e}}}),a=null==o?void 0:o.finishPin;if((0,r.gk)(a)){const e=null==i?void 0:i[a.hostId];c.exePinExt(n,a,e)}else for(let n in i){const o=i[n];try{let t=n;const i=n.indexOf(".");if(-1!==i){t=n.substring(0,i);const a=n.substring(i+1);let c=p[u];c||(c=p[u]={}),c[a]=o;const d=[];r.tk.each((e=>{e.hostId.match(new RegExp(`${t}.`))&&d.push(e)}),e.inputPins,e.inputPinsInModel),Object.keys(c).length===d.length&&(l.inst.inputs[t]=[c,s],delete p[u])}else{const i=r.tk.find((e=>{if(e.hostId===t)return!0}),e.inputPins,e.inputPinsInModel);i&&(i.wrap,l.inst.inputs[n]=[o,s])}}catch(e){"function"==typeof t.onError&&t.onError({type:"node",id:u},e)}}}if(c.exe&&c.exe(l.inst,i),o){const i=(null===(s=o.finishPin.rels)||void 0===s?void 0:s.length)>0;o&&!i&&e.outputPinNexts.length>0&&e.outputPinNexts.forEach((e=>{e&&e.conAry&&e.conAry.find((e=>{if(e.finishPin&&e.startPinParentKey===o.finishPinParentKey){let i=t.pin?t.pin(e.startPin):void 0;i&&i.exe(void 0,e);let o=t.con?t.con(e):void 0;o&&o.exe(void 0),e.finishPin._exe(n,void 0,void 0,e)}}))}))}},e.frames&&e.frames.forEach((e=>{(0,i.M)(e,t)}))}},75542:(e,t,n)=>{n.d(t,{M:()=>c});var i=n(46873),o=n(77228),r=n(99921),s=n(95879),a=n(83446),l=n(9428);function c(e,t,n="runtime"){e.conAry&&e.conAry.forEach((e=>{(0,o.M)(e,t)})),e.forkedAsJoint&&c(e.forkedAsJoint,t,n),e.forkedFrom?console.warn("The pin is forked one,ignored.",e):e._exe=function(c,d,u,p){if(!(0,s.p8)())return;s.uY.execute&&s.uY.execute(r.t.PIN,e.id,d);let f=c,m=t.pin?t.pin(e):void 0;if(m){if(!1===m.exe(d,p,c))return}const h=e;if("config"==h.direction)e.parent._config(f,{id:h.hostId,value:d,binding:h.extBinding});else if("input"==h.direction)if(e.proxyPinValue){const t=f.params[e.proxyPinValue.hostId];e.parent._exe(f,{[e.hostId]:t},p)}else if(e.proxyPin){const o=e.proxyPin;if((0,i.Ym)(o.parent,r.t.FRAME))if("inner-output"===o.direction){const s=o.parent;if("function"!=typeof s._exe&&(0,l.M)(s,t,n),"function"!=typeof s._exe)throw new Error(`Frame(${s.id}) is not runnable`);const a={};if((0,i.Ym)(e.parent,r.t.NODE)){const t=e.parent;t.outputPins&&t.outputPins.forEach((e=>{e.proxyForPin&&s.outputPins&&s.outputPins.find((t=>{t.hostId===e.hostId&&(a[t.id]=e)}))})),t.outputPinsInModel&&t.outputPinsInModel.forEach((e=>{e.proxyForPin&&s.outputPins&&s.outputPins.find((t=>{t.hostId===e.hostId&&(a[t.id]=e)}))}))}let c,u;s.parent?(c=e.id,u=f):(s._curScope_,u=f.getRoot(),c=void 0),s._exe(u,{[e.proxyPin.hostId]:d},c,e.direction,!1,a,f)}else o._exe(f,d,u)}else if(e.isPrivate){if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.path],t)return void t(d)}}else{e.parent._exe(f,{[e.hostId]:d},p)}else if("inner-input"===e.direction&&"event"!==e.type){if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.path],t)return void t(d)}if(e.proxyPin)e.proxyPin._exe(f.parent,d,void 0,p);else if(e.emitPinAry)e.emitPinAry.forEach((e=>{e.parent.id===c.label&&e._exe(f.parent,d,void 0,p)}));else if(e.forkedAsJoint)e.forkedAsJoint.conAry&&e.forkedAsJoint._exe(f.parent,d,void 0,p);else if(f.proxyForOutPins){const t=f.proxyForOutPins[e.id];t&&t._exe(f.from,d,void 0,p)}}else("output"==e.direction||"inner-output"==e.direction||"inner-input"===e.direction&&"event"===e.type)&&(0,a.pI)((()=>{let n;if((0,i.Ym)(e.parent,r.t.NODE)){const t=e.parent.runtime.model.outputEvents;if(t){const i=t[e.hostId];i&&Array.isArray(i)&&(n=i.find((e=>e.active)))}}if(e._proxyForFn){let t;if(t="function"==typeof e._proxyForFn?e._proxyForFn:e._proxyForFn[f.parent.path],t)return void t(d)}if(n&&"fx"!==n.type||!e.proxyPin)"inner-output"==e.direction&&(f.params[e.hostId]=d),e.conAry&&e.conAry.length>0&&e.conAry.forEach(((e,n)=>{if(e){const n=e;n._exe||(0,o.M)(e,t),n._exe(f,d,u)}}));else if("fx"===(null==n?void 0:n.type)){const t=e.proxyPin;if((0,i.Ym)(t.parent,r.t.FRAME))if("inner-output"===t.direction){const n=t.parent;if("function"==typeof n._exe){let i,o;n.parent?(i=e.id,o=f):(i=e.parent.id,o=f),n._exe(o,{[t.hostId]:d},i,"input",!1,void 0,f)}}else t._exe(f,d,u)}else e.proxyPin._exe(f.parent,d,void 0,p)}))}}},38170:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(46873);function o(){let e;function t(e,n,o,r,s,a,l){const c={id:(0,i.Vj)(),instId:n,frameId:o,label:r,path:void 0,parent:e,from:l,proxyForOutPins:s,returnParams:{},resolve:null,comInsts:{},comPinTodo:{},params:{},applyScope(e,n,i,o,r,s,a){const l=t(c,e,n,i,o,r,s);let d=c.comInsts[e];return d&&(!d.scopes&&(d.scopes=[]),d.scopes.push(l)),a&&(l.params=a),l},findWithInstIdAndPath(e){if(this.path===e)return this;let t,n=e,i=this;for(;i.parent;)if(i=i.parent,n=n.substring(0,n.lastIndexOf(":")),i.path===n){t=i;break}if(t){let o;function r(t){if(t.path!==e){if(t.comInsts)for(let e in t.comInsts){if(t.comInsts[e].scopes.find(r))return}}else o=t}return r(t),o}},getRoot(){let e=this;for(;e.parent;)e=e.parent;return e}};if(a)c.path=c.id;else{const e=[c.id];let t=c.parent;for(;t;)t.parent&&e.push(t.id),t=t.parent;c.path=e.reverse().join(":")}return c}return{applyScope:(e,n,i)=>t(void 0,e,n,i,void 0),start(){e={}},stop(){e={}}}}},99921:(e,t,n)=>{var i;n.d(t,{t:()=>i}),function(e){e[e.FRAME=0]="FRAME",e[e.NODE=1]="NODE",e[e.PIN=2]="PIN",e[e.JOINT=3]="JOINT",e[e.CONNECTION=4]="CONNECTION"}(i||(i={}))},46873:(e,t,n)=>{function i(e,t){if(!o(e,t))throw new Error("Invalid item type")}function o(e,t){return e&&"object"==typeof e&&e._type==t}function r(e){return e&&"object"==typeof e&&"ext"===e.type}function s(){let e="abcdefhijkmnprstwxyz",t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(20*Math.random()));return"u_"+t}var a;n.d(t,{Vj:()=>s,Ym:()=>o,gk:()=>r,tk:()=>a,wj:()=>i}),function(e){e.each=function(e,...t){t.forEach((t=>{t&&t.forEach(e)}))},e.find=function(e,...t){let n;return t.find((t=>{if(t)return n=t.find((t=>e(t)))})),n}}(a||(a={}))},64421:(e,t,n)=>{n.d(t,{Ct:()=>u,ZP:()=>c,x3:()=>d});var i=n(90359),o=n.n(i),r=n(3296),s=n(83446),a=n(22255),l=n(7956);function c({catelog:e}){const t=(0,s.N7)(a.Z,{from:"parents"}),n=[],c=(0,i.useRef)();if((0,i.useMemo)((()=>{var t;null===(t=e.groups)||void 0===t||t.forEach((e=>{p(e)}))}),[]),t.catalogsRendered[e.id])return o().createElement(o().Fragment,null,o().createElement("div",{key:e.id,ref:c,className:r.Z.catelog,style:{display:t.activeCateId===e.id?"flex":"none"}},o().createElement("div",{className:r.Z.scroll},e.groups&&e.groups.map(((e,t)=>{var i;if(!e.fixedAtBottom||!e.fixedAtBottom()){if(e.ifVisible&&!e.ifVisible())return;if(e.hasCatelog)return o().createElement("div",{key:e.id,className:r.Z.container},o().createElement(u,{group:e,index:0}));if(e.catalogs)return o().createElement("div",{key:e.id,className:r.Z.container},o().createElement(d,{group:e,index:0}));if(!(null===(i=e.items)||void 0===i?void 0:i.length))return;return o().createElement("div",{key:e.id,className:r.Z.container},o().createElement(l.Y,{group:e,isChild:!1}))}n.push(e)}))),n.length>0?o().createElement("div",{className:`${r.Z.fixed} `},n.map(((e,t)=>o().createElement(l.Y,{key:t,group:e})))):null))}function d({group:e,level:t}){if(e.ifVisible&&!e.ifVisible())return;const[n,s]=o().useState(0),[a,c]=(0,i.useMemo)((()=>[e.catalogs.map(((e,i)=>e.catalogs?o().createElement("div",{key:i,style:{display:""+(i===n?"block":"none")}},o().createElement(d,{group:e,level:t+1})):o().createElement("div",{key:i,style:{display:""+(i===n?"block":"none")}},e.items.map(((e,t)=>o().createElement(l.B,{key:t,item:e,idx:t})))))),1]),[n]);return c?o().createElement("div",{key:e.id,className:r.Z.cateloggroup,style:{marginTop:15}},o().createElement("div",{className:r.Z.containerBorder,style:{marginTop:0===t?28:16,paddingTop:18}},o().createElement("div",{className:r.Z.containerCatelog},o().createElement("div",{className:r.Z.btnGroup},e.catalogs.map(((e,t)=>o().createElement("div",{key:t,className:`${r.Z.btn} ${n===t?r.Z.activeBtn:""}`,onClick:()=>{n!==t&&s(t)}},o().createElement("div",{className:r.Z.btnName},e.title)))))),a)):void 0}function u({group:e,index:t}){if(e.ifVisible&&!e.ifVisible())return;const n=void 0!==e.title?e.title:"",[i,a]=(0,s.vc)((()=>{let t=0;return[Object.keys(e.catelogMap).map((n=>o().createElement("div",{key:n,style:{display:""+(n===e.catelog?"block":"none")}},e.catelogMap[n].map(((e,n)=>("function"==typeof e.ifVisible?(e._ifVisible=e.ifVisible(),e._ifVisible&&t++):t++,o().createElement(l.B,{key:n,item:e,idx:n+1,isChild:!0}))))))),t]}));return a?o().createElement("div",{key:e.id,className:r.Z.cateloggroup,style:{marginTop:28}},o().createElement("div",{className:r.Z.itemTitle},n),o().createElement("div",{className:r.Z.containerBorder,style:{marginTop:!n&&t?28:16,paddingTop:n?3:18}},o().createElement("div",{className:r.Z.containerCatelog},o().createElement("div",{className:r.Z.btnGroup},e.catelogAry.map((t=>o().createElement("div",{key:t,className:`${r.Z.btn} ${t===e.catelog?r.Z.activeBtn:""}`,onClick:()=>{var n,i,o,r;e.catelog!==t&&(e.catelog=t,(null===(i=null===(n=e.onCatelogChange)||void 0===n?void 0:n.value)||void 0===i?void 0:i.set)&&(null===(r=null===(o=e.onCatelogChange)||void 0===o?void 0:o.value)||void 0===r||r.set(t)))}},o().createElement("div",{className:r.Z.btnName},t)))))),i)):void 0}function p(e){var t,n;const i={默认:[]};let o=["默认"];const{items:r,onCatelogChange:s}=e;let a=!1;r&&(e.items.forEach((e=>{const{catelog:t}=e;t||0===t?i[t]?i[t].push(e):(i[t]=[e],o.push(String(t))):i["默认"].push(e),p(e)})),o.length>1&&(a=!0),(null===(n=null===(t=e.onCatelogChange)||void 0===t?void 0:t.value)||void 0===n?void 0:n.get)&&(e.catelog=e.onCatelogChange.value.get()),i["默认"].length||(o=o.slice(1)),o.includes(e.catelog)||(e.catelog=o[0]),e.catelogMap=i,e.catelogAry=o,e.hasCatelog=a)}},22255:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(23037);class o{constructor(){this.catelogs=[],this.catalogsRendered={},this._activeCateIdxCache={},this.queue=(0,i.pC)(),this.groupStatus={}}get activeCateId(){return this._activeCateId}set activeCateId(e){if(this._activeCateId=e,this.catalogsRendered[e]=!0,this.catelogs.length>0){const t=this.catelogs.findIndex((({id:t})=>t===e));this._activeCateIdxCache[this.nowCatelogsId]=t}else delete this._activeCateIdxCache[this.nowCatelogsId]}setCatelogs(e){if(e){const t=e.id||this.focusModel.id;let n;this.nowCatelogsId=t;const i=this._activeCateIdxCache[t];if(Array.isArray(e)){if(this.catelogs=e,e.length>0){if("number"==typeof i){const t=e[i];t&&(n=t.id)}n&&e.find((({id:e})=>e===n))||(n=e[0].id)}}else if(Array.isArray(e.catalogAry)){if(this.catelogs=e.catalogAry,e.catalogAry.length>0){if("number"==typeof i){const t=e.catalogAry[i];t&&(n=t.id)}n&&this.catelogs.find((({id:e})=>e===n))||(n=this.catelogs[0].id)}"function"==typeof e.isValid&&(this.isValid=e.isValid)}else this.catelogs=void 0;this.catalogsRendered={},this.activeCateId=n}}isActiveCatelog(e){return this.activeCateId===e}switchCatelog(e){this.activeCateId=e}}},19368:(e,t,n)=>{n.d(t,{BD:()=>s,Ec:()=>r,I8:()=>a,aU:()=>o});var i=n(90359);const o=i.createElement("svg",{t:"1636448330297",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2098",width:"16",height:"16"},i.createElement("path",{d:"M560 800l-10.464-416h-75.072L464 800h96z m-14.144-493.984c9.44-9.312 14.144-20.672 14.144-34.016 0-13.6-4.704-24.992-14.144-34.208A46.784 46.784 0 0 0 512 224c-13.12 0-24.448 4.608-33.856 13.792A45.856 45.856 0 0 0 464 272c0 13.344 4.704 24.704 14.144 34.016 9.408 9.312 20.704 13.984 33.856 13.984 13.12 0 24.448-4.672 33.856-13.984zM512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480 265.088 0 480-214.912 480-480 0-265.088-214.912-480-480-480z m0 64c229.76 0 416 186.24 416 416s-186.24 416-416 416S96 741.76 96 512 282.24 96 512 96z","p-id":"2099"})),r=i.createElement("svg",{t:"1636448144846",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1189",width:"16",height:"16"},i.createElement("path",{d:"M249.311159 881.975333 619.286492 512 249.311159 142.024667 327.012845 64.322981 774.688841 512 327.012845 959.677019Z","p-id":"1190"})),s=i.createElement("svg",{t:"1636448051484",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9844",width:"16",height:"16"},i.createElement("path",{d:"M881.975333 249.311159 512 619.286492 142.024667 249.311159 64.322981 327.012845 512 774.688841 959.677019 327.012845Z","p-id":"9845"})),a=i.createElement("svg",{t:"1677333750910",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10361",width:"16",height:"16"},i.createElement("path",{d:"M757 894.1H267c-75.6 0-137.1-61.5-137.1-137.1V267c0-75.6 61.5-137.1 137.1-137.1h357.2c26.5 0 48 21.5 48 48s-21.5 48-48 48H267c-22.7 0-41.1 18.4-41.1 41.1v490c0 22.7 18.4 41.1 41.1 41.1h490c22.7 0 41.1-18.4 41.1-41.1V400.6c0-26.5 21.5-48 48-48s48 21.5 48 48V757c0 75.6-61.5 137.1-137.1 137.1z",fill:"#707070","p-id":"10362"}),i.createElement("path",{d:"M512 560c-12.3 0-24.6-4.7-33.9-14.1-18.8-18.8-18.8-49.1 0-67.9l334-334c18.8-18.7 49.1-18.7 67.9 0s18.8 49.1 0 67.9l-334.1 334c-9.3 9.4-21.6 14.1-33.9 14.1z",fill:"#707070","p-id":"10363"}))},7956:(e,t,n)=>{n.d(t,{B:()=>h,Y:()=>m});var i=n(79127),o=n(3296),r=n(19368),s=n(90359),a=n.n(s),l=n(83446),c=n(22255),d=n(63873),u=n(23037),p=n(85350),f=n(64421);function m({group:e,isChild:t,index:n,groupIndex:s}){var l;if(e.hasCatelog)return a().createElement(f.Ct,{key:e.id,group:e,index:0});if(e.catalogs)return a().createElement(f.x3,{key:e.id,group:e,level:0});if(e.ifVisible&&!e.ifVisible())return;const c=void 0!==e.title?e.title:"";let d=null===(l=(0,p.I)().groupStatus[e.id])||void 0===l?void 0:l.folded;void 0===d&&(d=e.folded);const u=t&&e.items&&e.items.length&&e.title;return a().createElement("div",{key:e.id,className:`\n        ${o.Z.group}\n        ${d?o.Z.folded:o.Z.unfold}\n        ${"function"==typeof e.fixedAtBottom&&e.fixedAtBottom()?o.Z.fixedAtBottom:""}\n      `,style:1===s&&n?{marginTop:15}:{}},""!==c?a().createElement("div",{className:o.Z.groupTitle,style:{marginBottom:c&&!d?5:0},onClick:u?t=>function(e,t){t.folded=!t.folded,t.id&&((0,p.I)().groupStatus[t.id]={folded:t.folded})}(0,e):null},a().createElement("div",{className:o.Z.text},a().createElement("p",{dangerouslySetInnerHTML:{__html:c}}),e.description&&v(e.description)),u?a().createElement("div",{className:o.Z.action},d?r.Ec:r.BD):null):null,a().createElement("div",{style:{display:d?"none":"block"}},e.items&&e.items.map(((e,n)=>(e instanceof i.Af.Group&&!e.hasCatelog&&(s+=1),a().createElement(i.Vx,{key:n,title:`编辑器 ${e.title} 发生错误`},a().createElement(h,{item:e,idx:n,isChild:t,groupIndex:s})))))))}function h({item:e,idx:t,isChild:n,groupIndex:o}){if(e)return e instanceof i.Af.Group?(e.title,a().createElement(m,{group:e,isChild:!0,index:t,groupIndex:o})):a().createElement(g,{key:`item_${t}`,item:e,idx:t})}function g({item:e,idx:t}){const n=(0,l.N7)(c.Z,{from:"parents"}),{context:r,emitLocale:p}=n,f=(0,l.mA)(i.cA.Views,{expectTo:"parents"});if("function"==typeof e)return a().createElement("div",{className:o.Z.item},e());if(e instanceof i.Af.SeperatorItem)return a().createElement("div",{className:o.Z.sperator});if(e instanceof i.Af.RenderItem)return a().createElement("div",{className:o.Z.item},"function"==typeof e.content?a().createElement(e.content,null):e.content);if(e instanceof i.Af.FunctionItem){const t=e.fn();if(t)return a().createElement("div",{className:o.Z.item},t)}else{if(e instanceof i.Af.ErrorItem)return a().createElement("div",{className:`${o.Z.item} ${o.Z.error}`},a().createElement("div",{className:o.Z.itemTitle},a().createElement("span",{dangerouslySetInnerHTML:{__html:e.title}})),a().createElement("div",{className:o.Z.desc,dangerouslySetInnerHTML:{__html:e.description}}));if(e.$$typeof)return a().createElement("div",{className:o.Z.item},e);{const{description:t,title:i,type:l,value:c,binding:m,options:h,_ifVisible:g,ifVisible:w,ele:E}=e;let A,_=!0;if(!e.type)return;let C=h;"function"==typeof h&&(C=h());const I=r.configs.editView,M=I.editorOptions;let P;M&&(P=M[e.type],C?"object"==typeof C&&"object"==typeof P&&(C=Object.assign({},P,C)):C=P);const k=(0,s.useMemo)((()=>{let t;p.ifEnable()&&(t={searchById:e=>p.searchById(e),edit(e){p.edit({value:e.value})}});return Object.assign({_onError_:x,popView:f.popView,locales:t,connectors:{getAll:()=>n.emitConnector.getAll()},getDefaultOptions(e){if(e&&M)return M[e]}},e,{options:C})}),[]);if(!A){const e=(0,d.Z)(k);e&&(_=e.showTitle,A=e.render())}const F=null==I?void 0:I.editorLoader;if(A||"function"!=typeof F||(A=F(k)),!A)return a().createElement("div",{className:o.Z.item},_&&"string"==typeof e.title?a().createElement("div",{className:o.Z.itemTitle},a().createElement("span",{className:o.Z.tt,dangerouslySetInnerHTML:{__html:e.title}}),i&&_&&t&&v(t)):null,_&&"function"==typeof e.title?a().createElement("div",{className:o.Z.itemTitle},a().createElement("span",{className:o.Z.tt,dangerouslySetInnerHTML:{__html:e.title()}})):null,a().createElement("div",{className:o.Z.notFound},"未找到编辑器"));if(A&&(!w||g||w())){if((0,u._O)(A.render,"object")&&(A=A.render,_=!1),l.match(/^_.+_$/g))return a().createElement(a().Fragment,null,A);{let n;if(_)if("string"==typeof e.title){let r;if(m){const t=m.get();r=t?a().createElement("span",{className:`${o.Z.atVar} ${o.Z.atVarBinded}`,onClick:t=>y(e)},t.title):a().createElement("span",{className:o.Z.atVar,onClick:t=>y(e)})}n=a().createElement("div",{className:o.Z.itemTitle},a().createElement("span",{className:o.Z.tt,dangerouslySetInnerHTML:{__html:e.title}}),i&&t&&v(t),r)}else"function"==typeof e.title&&(n=a().createElement("div",{className:o.Z.itemTitle},e.title()));const s=a().createElement(a().Fragment,null,n,A);if(e.selectable){let t;return r.isDesnModeOfBluePrint()&&(t="保留"),r.isDesnModeOfComponent()&&(t="保留"),a().createElement("div",{className:o.Z.withCheck},a().createElement("div",{className:o.Z.check},a().createElement(b,{item:e}),a().createElement("span",null,t)),a().createElement("div",{className:o.Z.item},s))}return a().createElement("div",{className:o.Z.item},s)}}}}}function y(e){const{binding:t}=e;t.set()}function b({item:e}){const[t,n]=(0,s.useState)(e.selected.get());return a().createElement("input",{"data-mybricks-tip":"保留为可编辑项",type:"checkbox",value:1,checked:t,onChange:t=>{const i=t.currentTarget.checked;n(i),e.selected.set(i)}})}function v(e){return a().createElement("div",{className:o.Z.description,"data-mybricks-tip":e},r.aU)}function x(e,t){if(console.error(e),"render"===t)return a().createElement("div",{className:o.Z.error},a().createElement("div",{className:o.Z.itemTitle},"编辑器发生错误:"),a().createElement("div",{className:o.Z.desc},e.message))}},57982:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(60847),r=n(22255),s=n(19368),a=n(90359),l=n(90359);function c(){const e=(0,i.N7)(r.Z,{from:"parents"}),t=(0,i.mA)(class{constructor(){this.title=""}edit(e){this.catalog=e,this.title=e.title}setTitle(e){this.title=e}complete(){this.catalog&&(this.catalog.title=this.title,this.catalog.setTitle(this.title),this.catalog=void 0)}}),n=(0,a.useRef)(),[c,d]=(0,a.useState)(0);(0,a.useMemo)((()=>{d(0)}),[e.catelogs]);const u=(0,a.useCallback)((e=>{const t=n.current;let i=0;for(let e=0;e<t.children.length;e++)i+=t.children[e].offsetWidth;if(i<=t.offsetWidth)return;if(e.deltaX>0){if(t.offsetWidth-c>=i)return void d(t.offsetWidth-i);d(c-e.deltaX)}else{if(c>=0)return void d(0);d(c-e.deltaX)}}),[c]);return l.createElement("div",{ref:n,className:o.Z.editTabs,onWheel:u,style:{transform:`matrix(1, 0, 0, 1, ${c}, 0)`}},e.catelogs&&e.catelogs.map((n=>l.createElement("div",{key:n.id,title:n.setTitle?"（双击编辑标题）":n.title,className:`${o.Z.editTab} ${e.isActiveCatelog(n.id)?o.Z.editTabActived:null}`,onClick:()=>e.switchCatelog(n.id),onDoubleClick:e=>{n.setTitle&&t.edit(n)}},l.createElement("span",{className:o.Z.title},n.title),n.setTitle?l.createElement(l.Fragment,null,l.createElement("span",{className:o.Z.icon,"data-mybricks-tip":"双击编辑标题"},s.I8),t.catalog?l.createElement("input",{className:o.Z.editor,type:"text",value:t.title,ref:e=>{e&&(e.focus(),t.editor||(t.editor=e,e.select()))},onChange:e=>{t.setTitle(e.target.value)},onBlur:t.complete,onKeyDown:e=>{13===e.keyCode&&t.complete()}}):null):null))))}},18633:(e,t,n)=>{n.d(t,{P:()=>o});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M939.7888 421.4144a248.832 248.832 0 0 0-21.376-204.3904 251.6608 251.6608 0 0 0-271.0656-120.7424A248.832 248.832 0 0 0 459.648 12.608a251.6864 251.6864 0 0 0-240.0896 174.2592 248.9216 248.9216 0 0 0-166.4 120.704 251.6992 251.6992 0 0 0 30.9504 295.1168 248.832 248.832 0 0 0 21.3888 204.3904 251.6864 251.6864 0 0 0 271.0656 120.7424 248.832 248.832 0 0 0 187.6864 83.6736 251.6736 251.6736 0 0 0 240.1664-174.3488 248.9216 248.9216 0 0 0 166.4-120.7168 251.6992 251.6992 0 0 0-31.04-295.0144zM564.352 946.2016a186.6624 186.6624 0 0 1-119.8208-43.328c1.5104-0.832 4.1728-2.2784 5.9008-3.3536L649.3184 784.64a32.3328 32.3328 0 0 0 16.3328-28.288V475.9296l84.0704 48.5376a3.008 3.008 0 0 1 1.6384 2.304v232.2176a187.4304 187.4304 0 0 1-187.008 187.2z m-402.1888-171.776a186.5472 186.5472 0 0 1-22.336-125.44c1.472 0.8832 4.0576 2.4576 5.9008 3.52l198.8992 114.8928a32.3712 32.3712 0 0 0 32.6656 0l242.8288-140.2112v97.0752a3.008 3.008 0 0 1-1.2032 2.5856l-201.0496 116.0832a187.392 187.392 0 0 1-255.7056-68.5056zM109.824 340.224a186.5088 186.5088 0 0 1 97.4336-82.0736c0 1.7152-0.1024 4.736-0.1024 6.848v229.7728a32.32 32.32 0 0 0 16.3328 28.288l242.816 140.1856-84.0576 48.5376a3.008 3.008 0 0 1-2.8416 0.256L178.3296 595.84A187.392 187.392 0 0 1 109.824 340.224z m690.688 160.7296L557.696 360.7424l84.0576-48.512a3.008 3.008 0 0 1 2.8288-0.256l201.088 116.0832a187.2256 187.2256 0 0 1-28.928 337.8176V529.2416a32.3072 32.3072 0 0 0-16.2304-28.288z m83.6736-125.9264c-1.4848-0.9088-4.0576-2.4704-5.9136-3.5328l-198.8864-114.88a32.4096 32.4096 0 0 0-32.6656 0L403.8912 396.8256v-97.088a3.008 3.008 0 0 1 1.2032-2.5856l201.0496-115.9808a187.2128 187.2128 0 0 1 278.0416 193.856zM358.1824 548.0576l-84.096-48.5376a3.008 3.008 0 0 1-1.6256-2.304V264.9984a187.2128 187.2128 0 0 1 307.008-143.744 172.8 172.8 0 0 0-5.9136 3.3408l-198.8864 114.88a32.32 32.32 0 0 0-16.3456 28.288l-0.1408 280.2944z m45.6704-98.4576L512 387.136l108.16 62.4256v124.8896L512 636.8768l-108.16-62.4256v-124.8512z",fill:"#d81e06"}))},91269:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(15913),o=n(18633),r=n(83446),s=n(90359),a=n(41026),l=n(90359);class c{constructor(){this.curRequest="添加一个按钮组件",this.request=[],this.loading=!1}}function d({title:e,value:t,options:n,ele:d,containerEle:u}){const p=(0,r.mA)(c),f=(0,s.useCallback)((e=>{if("Enter"===e.key){const i=e.target.value,o={content:i,status:"loading"};p.request.push(o),requestAnimationFrame((e=>{p.curRequest=""})),(0,a.W)(i,n.context).then((e=>{p.request[p.request.length-1].status="done";try{t.set(e)}catch(e){console.log(e),p.errMsg=e.message}})).catch((e=>{console.log(e),p.errMsg=e.message}))}}),[]);return l.createElement("div",{className:i.Z.view},l.createElement("div",{className:i.Z.content},p.request.map(((e,t)=>l.createElement("div",{key:t,className:`${i.Z.item} ${i.Z[e.status]}`},e.content)))),l.createElement("div",{className:i.Z.tb},o.P,l.createElement("textarea",{placeholder:"请问您想做些什么？",onKeyDown:f,value:p.curRequest,onChange:e=>p.curRequest=e.target.value})))}d.showTitle=!1},41026:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>request});const comDefs=[{type:"form",title:"表单",content:[]},{type:"button",title:"按钮",text:"按钮",style:"primary"},{type:"image",title:"图片",style:{width:"100px"}}],ts=comDefs.map((e=>`${e.title}定义为:${JSON.stringify(e)}`)).join(";");function request(prompt,context){const header=new Headers;header.append("Authorization","Bearer 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"),header.append("Content-Type","application/json");const systemPrompt=`\n  你是开发者，基于以下组件定义：\n${context} \n 给出答案，答案遵循以下规则：\n  1. 紧扣主题，且直接以合法的JSON形式返回；\n  2. 不需要注释;\n  2. 除非要求，否则不要给出嵌套结构；\n  `,myPromt=`\n  现在请回答：当前页面内容为[],在页面中${prompt}.\n  `,raw={model:"gpt-3.5-turbo",messages:[{role:"user",content:systemPrompt+myPromt}],temperature:.1,max_tokens:2e3,top_p:1,frequency_penalty:0,presence_penalty:0},reqOptions={method:"POST",headers:header,body:JSON.stringify(raw),redirect:"follow"};return new Promise(((resolve,reject)=>{fetch("https://api.openai.com/v1/chat/completions",reqOptions).then((e=>e.text())).then((res=>{const content=JSON.parse(res).choices[0].message.content;let rtn;try{eval(`rtn = eval(${content})`),resolve(rtn)}catch(e){reject(e)}})).catch((e=>{reject(e)}))}))}},93923:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(33853),s=n(83446),a=n(79127),l=n(23037);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.mA)(a.cA.Connector,{expectTo:"parents"}),p=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),f=(0,s.mA)({passed:void 0,con:t.get()}),m=(0,i.useMemo)((()=>u.getAll()),[]),h=(0,i.useCallback)((()=>{p.popView("选择连接器",(({close:e})=>{let n=[];return Array.isArray(m)&&(n=m.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.Z.con} ${(null===(i=f.con)||void 0===i?void 0:i.id)===n.id?r.Z.focus:""}`,onClick:i=>function(n){t.set(n),f.con=n,e()}(n)},o().createElement("div",{className:r.Z.desc},o().createElement("div",{className:r.Z.title},n.title),o().createElement("div",{className:r.Z.time},"创建于：",(0,l.p6)(n.createTime))),o().createElement("div",{className:r.Z.typeIcon},n.icon))}))),o().createElement("div",{className:r.Z.conList},n)}),{width:350,beforeEditView:!0})}),[]);let g;return f.con&&m&&(g=m.find((e=>e.id===f.con.id))),o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==n?void 0:n.type]}`,onClick:h},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.Z.tt},g?`${g.title}`:"[空] 点击选择.."),g?o().createElement("span",{className:r.Z.type},g.icon):null)}},88905:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(9603),s=n(83446),a=n(79127),l=n(23037);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.mA)(a.cA.DataSource,{expectTo:"parents"}),p=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),f=(0,s.mA)({passed:void 0,ds:t.get()}),m=(0,i.useCallback)((()=>{p.popView("选择数据源",(({close:e})=>{let n=[];const i=u.getAll();return Array.isArray(i)&&(n=i.map(((n,i)=>{var s;return o().createElement("div",{key:i,className:`${r.Z.con} ${(null===(s=f.ds)||void 0===s?void 0:s.id)===n.id?r.Z.focus:""}`,onClick:i=>{return o=n,t.set(o),f.ds=o,void e();var o}},o().createElement("div",{className:r.Z.title},n.title),o().createElement("div",{className:r.Z.time},"创建于：",(0,l.p6)(n.createTime)))}))),o().createElement("div",{className:r.Z.conList},n)}),{width:350,beforeEditView:!0})}),[]);return o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==n?void 0:n.type]}`},o().createElement("div",{className:r.Z.btns},o().createElement("div",{className:r.Z.selected,onClick:m},o().createElement("span",null,"已选择:"),o().createElement("span",null,f.ds?f.ds.title:"[空] 点击选择.."))))}},79461:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(70760),s=n(83446),a=n(79127),l=n(23037);function c({title:e,value:t,options:n,ele:c,containerEle:d}){const u=(0,s.mA)(a.cA.DomainModel,{expectTo:"parents"}),p=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),f=(0,s.mA)({passed:void 0,con:t.get()}),m=(0,i.useMemo)((()=>u.getAll()),[]),h=(0,i.useCallback)((()=>{p.popView("选择连接器..",(({close:e})=>{let n=[];return Array.isArray(m)&&(n=m.map(((n,i)=>{var s;return o().createElement("div",{key:i,className:`${r.Z.con} ${(null===(s=f.con)||void 0===s?void 0:s.id)===n.id?r.Z.focus:""}`,onClick:i=>{return o=n,t.set(o),f.con=o,void e();var o}},o().createElement("div",{className:r.Z.desc},o().createElement("div",{className:r.Z.title},n.title),o().createElement("div",{className:r.Z.time},"创建于：",(0,l.p6)(n.createTime))),o().createElement("div",{className:r.Z.typeIcon},n.icon))}))),o().createElement("div",{className:r.Z.conList},n)}),{width:350,beforeEditView:!0})}),[]);let g;return f.con&&m&&(g=m.find((e=>e.id===f.con.id))),o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==n?void 0:n.type]}`,onClick:h},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.Z.tt},g?`${g.title}`:"[空] 点击选择.."),g?o().createElement("span",{className:r.Z.type},g.icon):null)}},62082:(e,t,n)=>{n.d(t,{W:()=>o});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M945.151667 107.126859c0-36.667049-19.4166-44.189504-19.416601-44.189504-21.976598-15.675065-50.018423-0.669538-50.018423-0.669538-72.467637 39.620893-155.21465 33.476897-155.21465 33.476897-88.536547 7.483071-166.439257-41.117507-166.439256-41.117507C460.327424 0.788479 345.127513 0.000788 345.127513 0.000788 271.281416 0.000788 175.261797 30.838918 175.261797 30.838918v0.393846A49.939654 49.939654 0 0 0 128.709218 0.000788C101.140008 0.079557 78.769564 21.504771 78.769564 47.931828v928.137132C78.769564 1002.456632 101.140008 1024 128.709218 1024c27.56921 0 49.939654-21.464599 50.018423-47.93104v-391.679699c64.787642-41.905199 162.894644-38.793816 162.894644-38.793816 100.548846-6.065226 167.817717 41.117507 167.817717 41.117507 119.5716 58.328571 209.289685 52.381498 209.289685 52.381498 114.84545 0 203.854612-47.143348 203.854613-47.143348 24.969827-11.815376 22.567367-42.495967 22.567367-42.495968V107.126859z",fill:"#707070"}))},60622:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(80674),o=n(83446),r=n(90359),s=n.n(r),a=n(23037),l=n(79127);class c{addLabel({name:e,desc:t}){this.labelAry.push(new l.aS({name:e,description:t}))}add(){this.newLabel=new l.aS({name:"todo",description:""})}finish(){this.close(),this.newLabel&&this.labelAry.push(this.newLabel),this.value.set(this.labelAry)}}let d;function u({value:e,close:t}){d=(0,o.mA)(c,{init(n){n.close=t,n.value=e;const i=e.get();if(i){const e=[];i.forEach((t=>{e.push(t.clone())})),n.labelAry=e}else n.labelAry=[]}});const n=(0,o.vc)((()=>d.labelAry.map(((e,t)=>{var n;return s().createElement("div",{key:t,className:i.Z.labelItem},s().createElement("div",{className:i.Z.timeline},s().createElement("span",{className:i.Z.time},(0,a.p6)(e.createTime)),s().createElement("span",{className:i.Z.name,style:{backgroundColor:e.color}},e.title)),s().createElement("div",{className:i.Z.desc,dangerouslySetInnerHTML:{__html:null===(n=e.description)||void 0===n?void 0:n.replace(/\\n/gi,"<br/>")}}))}))));return s().createElement("div",{className:i.Z.view},s().createElement("div",{className:i.Z.toolbar},s().createElement("button",{onClick:d.finish},"确定")),d.newLabel?s().createElement("div",{className:i.Z.adder},s().createElement("div",{className:i.Z.row},s().createElement("select",{value:d.newLabel.name,onChange:e=>{d.newLabel.name=e.target.value}},l.aS.getAllDef().map(((e,t)=>s().createElement("option",{key:t,label:e.label,value:e.value,style:{color:e.color}}))))),s().createElement("textarea",{value:d.newLabel.description,onChange:e=>{d.newLabel.description=e.target.value},ref:e=>{e&&e.focus()},placeholder:"对当前标签的详细描述"})):s().createElement("button",{onClick:d.add},"添加标签"),s().createElement("div",{className:i.Z.list},n))}},4323:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(72110),o=n(90359),r=n.n(o),s=n(83446),a=n(79127),l=n(60622),c=n(62082);function d({title:e,value:t,options:n,ele:d,containerEle:u}){const p=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),f=(0,o.useCallback)((()=>{p.popView("编辑标签",(({close:e})=>r().createElement(l.Z,{value:t,close:e})),{width:350,beforeEditView:!0})}),[]),m=t.get();let h;return h=m&&m.length>0?r().createElement("div",{className:i.Z.labels},m.map(((e,t)=>{const n=i.Z[e.name];return r().createElement(o.Fragment,{key:t},r().createElement("span",{className:n},c.W),t===m.length-1?r().createElement("label",{className:i.Z.labelTitle},"(",e.title,")"):null)}))):r().createElement("div",{className:i.Z.adder,"data-mybricks-tip":"添加标签"},"+"),r().createElement("div",{className:i.Z.view,onClick:f},r().createElement("div",{className:i.Z.tt},"标签"),h)}},43946:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(18643),s=n(83446),a=n(79127);function l({value:e,options:t}){const n=(0,s.mA)(a.cA.Page,{expectTo:"parents"}),l=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),c=(0,s.mA)({passed:void 0,page:e.get()}),d=(0,i.useMemo)((()=>n.getAll()),[]),u=(0,i.useCallback)((()=>{l.popView("选择页面..",(({close:t})=>{let n=[];return Array.isArray(d)&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.Z.page} ${(null===(i=c.page)||void 0===i?void 0:i.id)===n.id?r.Z.focus:""}`,onClick:i=>function(n){e.set(n),c.page=n,t()}(n)},o().createElement("div",{className:r.Z.icon},n.icon),o().createElement("div",{className:r.Z.title},o().createElement("div",{className:r.Z.title},n.title)))}))),o().createElement("div",{className:r.Z.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.page&&d&&(p=d.find((e=>e.id===c.page.id))),o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==t?void 0:t.type]}`,onClick:u},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.Z.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.Z.type},p.icon):null)}},37117:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(69301),s=n(83446),a=n(79127);function l({title:e,value:t,comModel:n,options:l,ele:c,containerEle:d}){const u=(0,s.mA)(a.cA.Permission,{expectTo:"parents"}),p=t.get();let f;p&&(f=u.searchById(p.id));let m="";f&&(m="register"===f.type?"注册为功能项":"跟随当前场景");const h=(0,i.useCallback)((()=>{u.edit({value:{get:()=>p,set(e){t.set({id:e.id,register(){e.modelId=n.id,u.register(e)}})}}})}),[]);return o().createElement("div",{className:`${r.Z.editor}`,onClick:h},o().createElement("span",{className:r.Z.tt},`${m}`),o().createElement("span",null,"编辑.."))}},32109:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(21118),s=n(83446),a=n(79127);function l({value:e,options:t}){const n=(0,s.mA)(a.cA.Scenes,{expectTo:"parents"}),l=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),c=(0,s.mA)({passed:void 0,scene:e.get()}),d=(0,i.useMemo)((()=>n.getAll()),[]),u=(0,i.useCallback)((()=>{l.popView("选择场景..",(({close:t})=>{let n=[];return Array.isArray(d)&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.Z.page} ${(null===(i=c.scene)||void 0===i?void 0:i.id)===n.id?r.Z.focus:""}`,onClick:i=>function(n){e.set({id:n.id,title:n.title}),c.scene=n,t()}(n)},o().createElement("div",{className:r.Z.icon}),o().createElement("div",{className:r.Z.title},o().createElement("div",{className:r.Z.title},n.title)))}))),o().createElement("div",{className:r.Z.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.scene&&d&&(p=d.find((e=>e.id===c.scene.id))),o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==t?void 0:t.type]}`,onClick:u},o().createElement("span",null,"已选择:"),o().createElement("span",{className:r.Z.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.Z.type},p.icon):null)}},37296:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(44565),s=n(83446),a=n(79127);function l({value:e,options:t}){const{options:n}=t,l=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),c=(0,s.mA)({themeId:e.get()}),d=(0,i.useCallback)((()=>{l.popView("选择风格",(({close:t})=>{let i=[];return Array.isArray(n)&&(i=n.map((n=>{const i=n.previewUrl;return o().createElement("div",{key:n.id,className:`${r.Z.theme} ${c.themeId===n.id?r.Z.focus:""}`,onClick:i=>function(n){e.set(n.id),c.themeId=n.id,t()}(n)},o().createElement("div",{className:r.Z.preview},i?o().createElement("img",{src:i}):null),o().createElement("div",{className:r.Z.title},o().createElement("div",{className:r.Z.title},n.title)))}))),o().createElement("div",{className:r.Z.themes},i)}),{width:350,beforeEditView:!0})}),[]),u=n.find((e=>e.id===c.themeId));return u?o().createElement("div",{className:`${r.Z.editor}`,onClick:d},o().createElement("div",{className:r.Z.preview},u.previewUrl?o().createElement("img",{src:u.previewUrl}):o().createElement("span",null,"<自定义>")),o().createElement("div",{className:r.Z.title},u.title)):o().createElement("div",{className:`${r.Z.editor} ${r.Z.notFound}`,onClick:d},o().createElement("div",{className:r.Z.preview},o().createElement("span",null,"<未找到该风格>")),o().createElement("div",{className:r.Z.title}))}},9935:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n.n(i),r=n(43163);function s({title:e,value:t,options:n,ele:i,containerEle:s}){return o().createElement("div",{className:`${r.Z.button} ${r.Z[null==n?void 0:n.type]}`,onClick:t.set},e)}s.showTitle=!1},63873:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(37296),o=n(79461),r=n(93923),s=n(37117),a=n(43946),l=n(32109),c=n(79127),d=n(4323),u=n(91269),p=n(88905),f=n(10941),m=n(9935),h=n(18360),g=n(38454),y=n(90359);const b={};function v(e,t){b[e.toUpperCase()]=function(e){const{type:n,options:i,ele:o}=e,r=t.showTitle;return{render:()=>y.createElement(t,Object.assign({},e)),showTitle:"function"==typeof r?r(e):void 0===r||r}}}function x(e){if(!e||!e.type)return;const{type:t,options:n,ele:i}=e,o=b[t.toUpperCase()];return o?o(e):void 0}v(c.$U.LABEL,d.Z),v(c.$U.AI,u.Z),v(c.$U.DATASOURCE,p.Z),v(c.$U.THEME_SELECT,i.Z),v(c.$U.DOMAINMODELSELECT,o.Z),v(c.$U.PERMISSION,s.Z),v(c.$U.CONNECTORSELECT,r.Z),v(c.$U.SCENE_SELECT,l.Z),v(c.$U.PAGE_SELECT,a.Z),v(c.$U.TEXT,f.Z),v(c.$U.BUTTON,m.Z),v(c.$U.INPUT_GROUP,h.Z),v(c.$U.INPUT_TABLE,g.Z)},18360:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(97343),o=n(90359),r=n(83446),s=n(90359);function a(e){const{value:t,options:n}=e,a=(0,o.useRef)(),l=(0,r.mA)(class{save(){const e={},n=a.current.querySelectorAll("input");for(let t=0;t<n.length;t++)e[n[t].name]=n[t].value;t.set(e)}}),c=t.get()||{};return s.createElement("div",{className:i.Z.editor,ref:a},n.map(((e,t)=>s.createElement("div",{key:t,className:i.Z.item},s.createElement("span",{className:i.Z.label},e.title,":"),s.createElement("input",{name:e.name,type:"text",value:c[e.name]||"",onChange:l.save})))))}},69700:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(860),o=n(83446),r=n(90359);function s(e){const{value:t,options:n}=e,{columns:s}=n,a=(0,o.mA)(class{save(){const e=[],n=this.ele.querySelectorAll("tr");for(let t=0;t<n.length;t++){const i=n[t].querySelectorAll("input"),o={};for(let e=0;e<i.length;e++)o[i[e].name]=i[e].value;e.push(o)}t.set(e)}});return r.createElement("div",{className:i.Z.editor},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,s.map(((e,t)=>r.createElement("td",{key:t},e.title))))),r.createElement("tbody",{ref:e=>e&&(a.ele=e)},r.createElement("tr",null,s.map(((e,t)=>r.createElement("td",{key:t},r.createElement("input",{name:e.name,type:"text",onBlur:a.save}))))))))}},38454:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(69700).Z},10941:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(44953).Z},44953:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(10514),s=n(79127),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function l(e){const{value:t,options:n={},locales:l}=e,{locale:c,readonly:d=!1,type:u="text"}=n,p=a(n,["locale","readonly","type"]),f=!!c&&l,[m,h]=(0,i.useState)(!1),[g,y]=(0,i.useState)(""),b=t.get();(0,i.useMemo)((()=>{if(b&&"object"==typeof b&&b.id){h(!0);const e=l.searchById(b.id);y(e?e.getContent("zh"):"<未找到文案>")}else y(b)}),[]);const v=(0,i.useRef)(),x=(0,i.useCallback)((e=>{t.set(e.target.value),v.current=void 0}),[]),w=(0,i.useCallback)((e=>{l.edit({value:{get:()=>b,set(e){e?(h(!0),y(e.getContent("zh")),t.set({id:e.id})):(h(!1),y(""),t.set(g))}}})}),[g]);return(0,i.useEffect)((()=>()=>{m&&v.current&&(t.set(v.current.value),v.current=void 0)}),[m]),o().createElement("div",{className:r.Z.editor},o().createElement("input",Object.assign({type:u,className:`${r.Z.input}${d?` ${r.Z.disabled}`:""}`,value:g,disabled:d||m,onChange:e=>{y(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&x(e)},onBlur:e=>{x(e)}},p)),f?o().createElement("span",{className:m?r.Z.useLocale:"",onClick:w,"data-mybricks-tip":"多语言"},s.PJ.world):null)}},26373:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(83446),o=n(79127),r=n(22255),s=n(57982),a=n(64421),l=n(85350),c=n(12930),d=n(90359);function u(){const e=(0,i.N7)(o.zz,{from:"parents"}),t=(0,i.mA)(o.cA.Component,{expectTo:"parents"}),n=(0,i.mA)(o.cA.Message,{expectTo:"parents"}),u=(0,i.mA)(o.cA.Snap,{expectTo:"parents"}),p=(0,i.mA)(o.cA.Locale,{expectTo:"parents"}),f=(0,i.mA)(o.cA.Connector,{expectTo:"parents"}),m=(0,i.mA)(r.Z,(i=>i({fmodel:void 0,context:e,emitConnector:f,emitItems:t,emitMessage:n,emitSnap:u,emitLocale:p})),{to:"children"});(0,l.S)(m),(0,i.vc)((()=>{let t;if(0==e.focusModelAry.length&&(t=e.focusDefault),1==e.focusModelAry.length&&(t=e.focusModelAry[0]),t){m.focusModel=t;const n=e.configs.editView;if("function"==typeof(null==n?void 0:n.render)){let i;i="function"==typeof t.getConfigData?t.getConfigData():e.focusDefault.getConfigData();const o=n.render(i);m.renderedJSX=o}else"function"==typeof t.getConfigs&&requestAnimationFrame((()=>{if(t&&"function"==typeof t.getConfigs){const e=t.getConfigs();m.setCatelogs(e)}}))}}));let h,g=m.catelogs;return h=g&&g.length>0?g.map((e=>d.createElement(a.ZP,{key:e.id,catelog:e}))):"",d.createElement("div",{className:c.Z.editView},m.renderedJSX?d.createElement(o.Vx,{title:"编辑器发生错误"},m.renderedJSX):d.createElement(d.Fragment,null,d.createElement(s.Z,null),d.createElement(o.Vx,{title:"编辑器发生错误"},h)))}},85350:(e,t,n)=>{let i;function o(e){i=e}function r(){return i}n.d(t,{I:()=>r,S:()=>o})},10199:(e,t,n)=>{n.d(t,{T:()=>v,Z:()=>x});var i=n(90359),o=n.n(i),r=n(83446),s=n(79127),a=n(99772),l=n(47716),c=n(7241),d=n(93915),u=n(78990),p=n(24318),f=n(42241),m=n(48626),h=n(18022),g=n(85675),y=n(52232);let b;function v(){return b.viewModel}function x({page:e,viewModel:t,cssVars:n,comThemes:v}){const x=(0,r.mA)(s.cA.Logs,{expectTo:"parents"}),w=(0,r.mA)(s.cA.Module,{expectTo:"parents"}),E=(0,r.mA)(s.cA.Component,{expectTo:"parents"}),A=(0,r.mA)(s.cA.IOCAbout,{expectTo:"parents"}),_=(0,r.mA)(s.cA.Snap,{expectTo:"parents"}),C=(0,r.mA)(s.cA.Page,(e=>e({createPortal(e){const t=b.getCurrentCanvasElement();return(0,p.createPortal)(e,t)}})),{to:"children"}),I=(0,r.mA)(s.cA.Views,{expectTo:"parents"}),M=(0,r.mA)(s.cA.Message,{expectTo:"parents"}),P=(0,r.mA)(s.cA.Debug,{expectTo:"parents"}),k=(0,r.mA)(s.cA.Frame,{expectTo:"parents"}),F=(0,r.mA)(s.cA.WindowEvents,{expectTo:"parents"}),O=(0,r.mA)(s.cA.Variable,{expectTo:"parents"}),T=(0,r.N7)(s.zz,{from:"parents"}),Z=(0,r.mA)(l.F),N=(0,r.mA)(s.cA.Scenes,{expectTo:"parents"}),D=(0,r.mA)(s.cA.Permission,{expectTo:"parents"});return b=(0,r.mA)(l.Z,(i=>i({context:T,viewModel:t,page:e,cssVars:n,comThemes:v,mover:Z,emitLogs:x,emitDebug:P,emitFrame:k,emitWindowEvents:F,emitVariable:O,emitPage:C,emitViews:I,emitPermission:D,emitModule:w,emitItem:E,emitIOCAbout:A,emitSnap:_,emitScenes:N,emitMessage:M})),{to:"children"},[t]),(0,r.CV)(s.cA.Command,(e=>{e((0,y.Z)((()=>b)))}),{from:"parents"}),(0,r.CV)(s.cA.Scenes,(e=>{e((0,u.Z)((()=>b)))}),{from:"parents"}),(0,r.CV)(s.cA.Frame,(e=>{e((0,g.o)((()=>b)))}),{from:"parents"}),(0,r.CV)(s.cA.Component,(e=>{e((0,d.Z)(b))}),{from:"parents"},[t]),(0,i.useMemo)((()=>{(0,m.S)(b),(0,h.S)(b)}),[]),o().createElement("div",{className:a.Z.wrapper,tabIndex:-1,ref:e=>e&&(b.viewEle=e.parentElement)},b.viewEle?o().createElement(f.Z,{viewCtx:b}):null,o().createElement(c.Z,null))}},47716:(e,t,n)=>{n.d(t,{F:()=>d,Z:()=>c});var i=n(46959),o=n(55046),r=n(39999),s=n(46313),a=n(98696),l=n(23037);class c{constructor(){this.cssCanvas=i.Z,this.cssArtboard=o.Z,this.cssSlot=r.Z,this.cssComNormal=s.Z,this.navWidth=233,this.showNavPanel=!0,this.curNavType="material",this.comlibJSLoaded=!0,this.placeholder={},this.uiCheckNodes=[]}getComTheme(e){const t=this.comThemes;if(t){let n;return Object.values(t).find((t=>{if(n=t.find((t=>t.id===e)),n)return!0})),n}}getComThemeDefault(e){const t=this.comThemes;if(t){const n=t[e];if(n)return n.find((e=>e.isDefault))}}loadCSS(){[this.cssCanvas,this.cssArtboard,this.cssSlot,this.cssComNormal].forEach((e=>{const t=e.use({target:this.viewModel.canvasShadowRoot}).locals;Object.assign(e,t)})),a.Z.cssComNormal=this.cssComNormal}unloadCSS(){[this.cssCanvas,this.cssArtboard,this.cssSlot,this.cssComNormal].forEach((e=>{e.unuse()}))}addStyleAry(e,t){if(Array.isArray(e)){const n=this.viewModel.canvasShadowRoot;e.forEach((e=>{n.appendChild(t?e.cloneNode(!0):e)}))}}removeStylesByLibId(e){const t=`style[data-libid='${e}']`;let n=document.head.querySelectorAll(t);n&&n.forEach((e=>{e.remove()})),n=this.viewModel.canvasShadowRoot.querySelectorAll(t),n&&n.forEach((e=>{e.remove()}))}recoverNavType(){this.curNavType="outline"}isMainModule(e){return this.viewModel.getMainModuleSlot().id===e.id}getCurModuleSlot(){const e=this.viewModel,t=e.getSlot(e.curArtboardId);if(e.slots.indexOf(t)>=0)return t}focusArtboard(e){if(this.viewModel.curArtboardId!==e){const t=this.viewModel.slots,n=t.find((t=>t.id===e));if(!n.isOpening()){const e=t.indexOf(n);e<t.length-1&&(t.splice(e,1),t.push(n)),n.open()}this.viewModel.curArtboardId=e,this.emitScenes.switch(e),setTimeout((e=>{!function(e){const{viewModel:t,getCurModuleSlot:n}=e,i=n();if(null==i?void 0:i.$el){const e=t.canvasWrapEle,n=(0,l.bt)(i.$el,t.canvasTransEle);(e.scrollLeft+e.offsetWidth<n.x||e.scrollLeft>n.x+i.style.width)&&(e.scrollLeft=n.x-100)}}(this)}))}}switchViewShowType(e){this.context.blur(),this.viewShowType=e}getViewWrapperElement(){return this.viewModel.canvasShadowRoot.getElementById("_geoview-wrapper_")}getCurrentCanvasElement(){const e=this.viewModel.$el;return this.context.isDebugMode()?e.querySelector("[data-canvas='debug']"):this.getViewWrapperElement()}clearHoverModel(){this.hoverModel=void 0}clearPops(){this.showModeMenu=!1}anchor(){!function(e,t){const{viewModel:n}=e,i=n.canvasWrapEle;if(i){const e=n.style;if(void 0===e.left){if(i.scrollWidth>i.offsetWidth){const e=Math.round((i.scrollWidth-i.offsetWidth)/2);i.scrollLeft=e}if(i.scrollHeight>i.offsetHeight){const e=Math.round((i.scrollHeight-i.offsetHeight)/2);i.scrollTop=e}}else e.left!==i.scrollLeft&&(i.scrollLeft=e.left),e.top!==i.scrollTop&&(i.scrollTop=e.top)}}(this)}addUICheckNode(e){this.uiCheckNodes.push(e)}getUICheckNodes(){return this.uiCheckNodes}getUICheckNode(e){return this.uiCheckNodes[e]}clearUICheckNode(){this.uiCheckNodes=[]}getComDefAIPrompts(e){const t={title:e.title,type:e.namespace};let n;const i=e.ai;if(null==i?void 0:i.prompts){const t=i.prompts;if("function"==typeof t){let i;"object"==typeof e.data&&e.data&&(i=JSON.parse(JSON.stringify(e.data))),n=t({data:i})}else"string"==typeof t&&(n=t)}return{def:t,prompts:n}}}class d{show({x:e,y:t},n,i){this.x=e,this.y=t,n&&(this.model=n),this.type=i}hide(){this.container=void 0,this.model=void 0}}},50350:(e,t,n)=>{n.d(t,{Z:()=>m});var i,o,r,s,a=n(83446),l=n(65731),c=n(92702),d=n(79127),u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends d.M_{constructor(){super(...arguments),this.name=c.Q7,this.style=new l.m,this.slots=[],this.notes=[]}get curArtboardId(){return this._curArtboardId}set curArtboardId(e){this._curArtboardId=e}setThemes(e){this.themes=e}isRoot(){return!0}addSlot(e){const t=new l.Z(e);return this.slots.push(t),this.slots[this.slots.length-1]}getMainModuleSlot(){return this.slots[0]}deleteSlot(e){this.slots=this.slots.filter((t=>t.id!==e))}getSlot(e){return this.slots.find((t=>t.id===e))}searchSlot(e){if(this.slots){let t;return this.slots.find((n=>n.id===e?(t=n,!0):n.comAry.find((n=>{if(n.slots)return n.slots.find((n=>{if(t=n.searchSlot(e),t)return!0}))})))),t}}changeOrder(e,t){const n=this.slots.indexOf(e);n!==t&&(n<t?(this.slots.splice(n,1),this.slots.splice(t-1,0,e)):(this.slots.splice(n,1),this.slots.splice(t,0,e)))}addComponent(e){return this.slots[0].addComponent(e)}addNote(e){return this.notes||(this.notes=[]),this.notes.push(e),e}removeNote(e){if(this.notes){const t=this.notes.find((t=>t.id===e));t&&(t.refComId&&this.slots.find((e=>{const n=e.searchCom(t.refComId);if(n)return n.noteLabel=void 0,!0})),this.notes=this.notes.filter((t=>t.id!==e)))}}searchModulesBySlotId(e){const t=[];if(this.slots)return this.slots.forEach((n=>{const i=n.searchModulesBySlotId(e);i&&t.push(...i)})),t.length>0?t:void 0}searchCom(e){if(this.slots){let t;return this.slots.find((n=>{if(t=n.searchCom(e),t)return!0})),t}}searchComParentSlot(e){if(this.slots){let t;return this.slots.find((n=>{if(t=n.searchComParentSlot(e),t)return!0})),t}}searchComByDef(e){const t=[];if(this.slots)return this.slots.forEach((n=>{const i=n.searchComByDef(e);i&&t.push(...i)})),t.length>0?t:void 0}findVisiblePopup(){if(this.slots){let e;return this.slots.find(((t,n)=>{if(e=t.findVisiblePopup(),e)return!0})),e}}findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r,s){if(this.slots){let a;if(this.slots.find(((s,l)=>{if(s.isOpening()&&(a=s.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},r),a))return!0})),s&&a&&!a.parent){const e=a.comAry.find((e=>e.asRoot));if(e&&e.slots&&e.slots.length>0)return e.slots[0]}return a}}findHoveringSlot(){if(this.slots){let e;return this.slots.find((t=>{if(e=t.findHoveringSlot(),e)return!0})),e}}getSummaryInfo(){let e=0,t=0;return this.slots.length>0&&this.slots.forEach((n=>{const{coms:i,slots:o}=n.getSummaryInfo();e+=i,t+=o})),{coms:e,slots:t}}clearDebugs(){this.slots.forEach((e=>{e.clearDebugs()}))}toJSON(e){const t={};return t.id=this.id,t.style=this.style.toJSON(),t.themes=this.themes,t.slots=[],this.slots.forEach((n=>{t.slots.push(n.toJSON(e))})),t}};u([a.jj,p("design:type","function"==typeof(i="undefined"!=typeof HTMLElement&&HTMLElement)?i:Object)],f.prototype,"canvasWrapEle",void 0),u([a.jj,p("design:type","function"==typeof(o="undefined"!=typeof HTMLElement&&HTMLElement)?o:Object)],f.prototype,"canvasTransEle",void 0),u([a.jj,p("design:type","function"==typeof(r="undefined"!=typeof ShadowRoot&&ShadowRoot)?r:Object)],f.prototype,"canvasShadowRoot",void 0),u([a.jj,p("design:type","function"==typeof(s="undefined"!=typeof HTMLElement&&HTMLElement)?s:Object)],f.prototype,"$elForDebugCanvas",void 0),u([a.jj,p("design:type",Object),p("design:paramtypes",[Object])],f.prototype,"curArtboardId",null),u([a.jj,p("design:type",Object)],f.prototype,"selectZone",void 0),f=u([(0,a.iV)(c.it+"geo.GeoViewModel")],f);const m=f},72014:(e,t,n)=>{n.d(t,{GI:()=>s,Xw:()=>r,fF:()=>o,x8:()=>l,xs:()=>a});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M385.011469 321.043513l319.507958 191.704775-319.507958 191.704774V321.043513z m569.363181 448.589173l-95.213371-95.021667a386.988038 386.988038 0 1 0-184.6756 184.547796l95.213371 95.085569a511.979551 511.979551 0 1 1 184.6756-184.611698z"})),r=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M849.771893 471.406898c0 47.250184 38.985059 85.576959 87.112957 85.57696 48.054754 0 87.112956-38.326775 87.112956-85.57696 0-47.323327-39.058202-85.723245-87.039814-85.723244-48.274182 0-87.186099 38.399918-87.186099 85.723244m-48.639895-185.124174c0 21.13824 8.557696 41.325626 23.771377 56.319879 15.140539 14.847968 35.693638 23.186236 57.051307 23.186236 44.69019 0 80.968969-35.620495 80.968969-79.506115 0-21.211383-8.557696-41.398768-23.771378-56.31988a81.26154 81.26154 0 0 0-57.124449-23.186236c-44.69019 0-80.895827 35.620495-80.895826 79.506116M678.910545 143.361887c0 40.447913 33.426214 73.288986 74.678697 73.288986 41.17934 0 74.605554-32.914215 74.605555-73.288986 0-40.594199-33.426214-73.435271-74.605555-73.435271-41.252483 0-74.678697 32.914215-74.678697 73.435271M506.952057 67.293479c0 37.083349 30.646791 67.291284 68.461567 67.291284A67.876426 67.876426 0 0 0 643.875192 67.293479c0-37.156492-30.719934-67.291284-68.461568-67.291285a67.876426 67.876426 0 0 0-68.461567 67.291285M319.121602 72.632896c0 33.791928 27.794226 61.22044 62.171295 61.22044s62.171295-27.428513 62.171296-61.22044A60.781584 60.781584 0 0 0 425.324803 29.259274a62.463866 62.463866 0 0 0-43.958763-17.846818c-34.377069 0-62.171295 27.35537-62.171295 61.22044M151.771103 158.356141a55.588452 55.588452 0 0 0 56.027309 55.076453 55.588452 55.588452 0 0 0 56.027308-55.076453c0-14.62854-5.924559-28.671939-16.457107-38.98506a56.319879 56.319879 0 0 0-39.497058-16.091394 55.588452 55.588452 0 0 0-56.100452 55.076454M38.034204 308.152391a50.029607 50.029607 0 1 0 84.845533 34.66964 48.713038 48.713038 0 0 0 14.62854-34.66964c0-27.062799-22.308524-49.005609-49.737037-48.932466-13.165686 0-25.819373 5.119989-35.108496 14.262826a48.713038 48.713038 0 0 0-14.701682 34.66964M0 493.93485a43.154193 43.154193 0 0 0 43.519907 42.78848 43.593049 43.593049 0 0 0 39.497058-20.699384 42.422766 42.422766 0 0 0 0-44.105049 43.593049 43.593049 0 0 0-39.497058-20.772527 43.154193 43.154193 0 0 0-43.519907 42.78848M46.079901 680.960735c0.073143 13.165686 7.241127 25.307374 18.724532 31.817075 11.556547 6.582843 25.819373 6.582843 37.302777 0a36.717636 36.717636 0 0 0-18.724532-68.680996 37.010206 37.010206 0 0 0-37.302777 36.863921m123.026022 152.283102c0 10.971405 5.851416 21.065098 15.506253 26.477658a31.451361 31.451361 0 0 0 31.085648 0 30.573649 30.573649 0 0 0-15.579396-57.124449 30.793077 30.793077 0 0 0-31.012505 30.646791m177.517334 89.599808c0 8.777124 4.827418 16.822821 12.434259 21.211383 7.753126 4.315419 17.188535 4.315419 24.868518-0.073142a24.429662 24.429662 0 0 0-12.507401-45.714188 24.64909 24.64909 0 0 0-24.795376 24.575947m200.118429 9.654837c0 6.582843 3.657135 12.653687 9.362265 15.871966 5.851416 3.291422 12.946258 3.291422 18.651389 0a18.358818 18.358818 0 0 0-9.362266-34.377069 18.578246 18.578246 0 0 0-18.651388 18.505103m185.928744-72.04556c0 6.729128 5.558845 12.214831 12.434259 12.214831 6.875414 0 12.434259-5.485703 12.434259-12.214831a12.361116 12.361116 0 0 0-12.434259-12.287974 12.361116 12.361116 0 0 0-12.434259 12.287974m137.947133-139.995129a6.143987 6.143987 0 0 0 2.925708 5.851416 6.363415 6.363415 0 0 0 6.582843 0 6.143987 6.143987 0 0 0-3.218279-11.410261 6.21713 6.21713 0 0 0-6.290272 5.558845"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 64a448.128 448.128 0 0 0 0 896 446.976 446.976 0 0 0 381.056-212.288c18.56-30.08 0-48.768-30.016-67.392-30.08-18.624-60.16-30.08-78.784 0A318.976 318.976 0 0 1 512 832a320 320 0 0 1 0-640c35.328 0 40.448-30.72 40.448-66.048S547.328 64 512 64z m447.68 469.568c6.784-177.92-84.672-327.616-220.224-407.616-30.464-17.92-47.104 1.92-65.088 32.384-17.92 30.4-30.464 59.904 0 77.824A319.744 319.744 0 0 1 832 512c0 35.328 33.664 40.576 61.056 52.864 27.328 12.288 65.28 3.968 66.624-31.296z",fill:"#515151"}))),s=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M123.92 555.9a32 32 0 0 1-14.82-60.38l719.19-374.9a32 32 0 0 1 29.59 56.76l-719.2 374.89a31.87 31.87 0 0 1-14.76 3.63z",fill:"#333333"}),i.createElement("path",{d:"M608.6 957.7a32 32 0 0 1-30.6-41.27l234.64-776.34a32 32 0 0 1 61.26 18.52L639.22 935a32 32 0 0 1-30.62 22.7zM505.92 580.44c-0.68 0-1.36 0-2.05-0.07l-381.46-24.12a32 32 0 1 1 4-63.88l381.5 24.13a32 32 0 0 1-2 63.94z",fill:"#333333"}),i.createElement("path",{d:"M608.14 957.32a32 32 0 0 1-30.87-23.63L475 556.82a32 32 0 1 1 61.77-16.76L639 916.93a32 32 0 0 1-22.51 39.26 31.61 31.61 0 0 1-8.35 1.13z",fill:"#333333"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M865.535278 46.841016h-706.829728A124.507996 124.507996 0 0 0 34.07714 171.228598v555.108185A124.507996 124.507996 0 0 0 160.150517 851.687676h218.430856l106.80715 108.974601c21.554092 21.915334 33.836312 21.915334 55.992474 0l106.445908-106.445908h216.624647c37.689558 0 70.321731-16.376294 93.32079-42.024459 14.208843-15.774224 32.150517-43.469426 32.150518-85.734713v-555.108185A124.507996 124.507996 0 0 0 865.535278 46.841016zM310.667921 456.609595a53.463782 53.463782 0 1 1 15.65381-37.809971 53.463782 53.463782 0 0 1-15.65381 37.809971z m239.142051 0a53.463782 53.463782 0 1 1 15.65381-37.809971 53.463782 53.463782 0 0 1-15.65381 37.809971z m201.332079 15.65381a53.463782 53.463782 0 1 1 53.463782-53.463781 53.463782 53.463782 0 0 1-53.463782 53.463781z",fill:"#707070"}))),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M113.458002 373.217066h826.389537c45.640309 0 82.64066 37.000351 82.64066 82.640661v485.501613c0 45.640309-37.000351 82.64066-82.64066 82.64066H113.458002c-45.640309 0-82.64066-37.000351-82.64066-82.64066v-485.501613c0-45.640309 37.000351-82.64066 82.644927-82.640661z m737.182509 109.456529c-26.222804-26.218538-68.735662-26.218538-94.9542 0l-36.522487 36.522487a67.144203 67.144203 0 1 0 94.949933 94.9542l36.522487-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-258.247264 0c-26.222804-26.218538-68.731395-26.218538-94.954199 0l-36.522488 36.522487a67.144203 67.144203 0 1 0 94.949934 94.9542l36.526753-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-258.247263 0c-26.222804-26.218538-68.731395-26.218538-94.9542 0l-36.522487 36.522487a67.144203 67.144203 0 1 0 94.949933 94.9542l36.526754-36.513954a67.144203 67.144203 0 0 0 0-94.962733z m-273.607188-333.694359L894.723494 1.882359c47.4707-8.371159 75.391629 11.178612 83.767055 58.653578 8.371159 47.474967-11.178612 75.395896-58.657845 83.767055L85.652272 291.395602C38.177306 299.766761 10.260643 280.21699 1.885217 232.742024c-8.371159-47.474967 11.178612-75.391629 58.653579-83.767055z",fill:"#707070"})),l=(i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M957.44 918.1952a38.92736 38.92736 0 0 1-38.92224 38.92736H105.48736A38.92224 38.92224 0 0 1 66.56 918.1952a38.92736 38.92736 0 0 1 38.92736-38.93248h813.03552a38.92736 38.92736 0 0 1 38.91712 38.93248zM511.91296 808.42752a38.9376 38.9376 0 0 1-38.93248-38.93248V105.80992a38.93248 38.93248 0 0 1 77.85984 0v663.69024a38.93248 38.93248 0 0 1-38.92736 38.92736z",fill:"#515151"}),i.createElement("path",{d:"M539.42784 796.77952a38.93248 38.93248 0 0 1-55.04 0L192.26624 504.64256a38.92224 38.92224 0 0 1 0-55.04512 38.912 38.912 0 0 1 55.04 0l292.12672 292.13184a38.912 38.912 0 0 1-0.00512 55.05024z",fill:"#515151"}),i.createElement("path",{d:"M484.38784 796.77952a38.93248 38.93248 0 0 1 0-55.05536l292.13696-292.12672a38.90176 38.90176 0 0 1 55.04512 0 38.912 38.912 0 0 1 0 55.04512l-292.14208 292.13696a38.93248 38.93248 0 0 1-55.04 0z",fill:"#515151"})),i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m0-572.330667L330.965333 270.634667a42.666667 42.666667 0 0 0-60.330666 60.330666L451.669333 512l-181.034666 181.034667a42.666667 42.666667 0 1 0 60.330666 60.330666L512 572.330667l181.034667 181.034666a42.666667 42.666667 0 1 0 60.330666-60.330666L572.330667 512l181.034666-181.034667a42.666667 42.666667 0 0 0-60.330666-60.330666L512 451.669333z",fill:"#707070"})))},42241:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(99772),s=n(39241),a=n(83446),l=n(24318);function c({viewCtx:e}){var t;const n=e.context,c=n.configs,{viewEle:d}=e,u=null===(t=c.geoView.nav)||void 0===t?void 0:t.float;(0,i.useMemo)((()=>{u&&(e.showNavPanel=!1)}),[]);const p=e.showNavPanel,f="material"===e.curNavType,m=n.isDebugMode(),h=(0,i.useRef)(),g=(0,i.useMemo)((()=>(p&&(h.current&&u||(h.current=[o().createElement(s.Z,null)])),h.current)),[p]);return u?(0,l.createPortal)(o().createElement("div",{className:`${r.Z.navs} ${r.Z.navFloat} ${m||u&&!p?r.Z.navHide:""}`,style:{width:329}},o().createElement("div",{className:r.Z.titleBar},o().createElement("div",{className:`${r.Z.tt} ${f?r.Z.focus:""}`,onClick:t=>e.curNavType="material"},"组件")),o().createElement("div",{className:r.Z.panel,style:{display:f?"":"none"}},null==g?void 0:g[0])),d.parentElement):o().createElement(o().Fragment,null,o().createElement("div",{className:`${r.Z.navs} ${m?r.Z.navHide:""}`,style:{width:e.navWidth}},o().createElement("div",{className:r.Z.titleBar},o().createElement("div",{className:`${r.Z.tt} ${f?r.Z.focus:""}`,onClick:t=>e.curNavType="material"},"组件")),o().createElement("div",{className:r.Z.panel,style:{display:f?"":"none"}},g[0])),o().createElement("div",{className:r.Z.sperV,onMouseDown:t=>function(e,t){let n=t.navWidth;(0,a.qw)(e,(({po:{x:e,y:i},epo:{ex:o,ey:r},dpo:{dx:s,dy:a}},l)=>{"moving"==l&&(t.navWidth=Math.max(n+=s,225))}))}(t,e)},o().createElement("div",null)))}},65731:(e,t,n)=>{n.d(t,{Z:()=>p,m:()=>d});var i=n(83446),o=n(79127),r=n(22811),s=n(23037),a=n(92702),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class{constructor(){this.zoom=1,this.layout="flex-column",this.justifyContent="flex-start",this.alignItems="flex-start"}getLayout(){return this.layout}getLayoutTitle(){const e=[];if(this.deviceType)switch(this.deviceType){case"mobile":e.push("手机");break;case"pc":e.push("PC")}if(this.widthType)switch(this.widthType){case"full":e.push("全屏宽度");break;case"half":e.push("半屏宽度");break;case"custom":e.push("自定义宽度")}return this.isLayoutAbsolute()?e.push("自由布局"):e.push("排版布局"),e.join("-")}isLayoutAbsolute(){return!!this.layout&&"absolute"==this.layout.toLowerCase()}isLayoutOfFlex(){return!this.layout||!!this.layout&&this.layout.toLowerCase().match(/flex-row|flex-column/gi)}isLayoutOfFlexRow(){return!!this.layout&&"flex-row"==this.layout.toLowerCase()}isLayoutOfFlexColumn(){return!this.layout||!!this.layout&&"flex-column"==this.layout.toLowerCase()}isDisplayTypeOfMobile(){return this.width<=o.Zm}setLayout(e){this.layout=e}getJustifyContent(){return this.justifyContent}setJustifyContent(e){this.justifyContent=e}getAlignItems(){return this.alignItems}setAlignItems(e){this.alignItems=e}toJSON(){return{left:this.left,top:this.top,backgroundColor:this.backgroundColor,backgroundImage:this.backgroundImage,backgroundRepeat:this.backgroundRepeat,backgroundPosition:this.backgroundPosition,backgroundSize:this.backgroundSize,paddingTop:this.paddingTop,paddingRight:this.paddingRight,paddingBottom:this.paddingBottom,paddingLeft:this.paddingLeft,layout:this.layout||"flex-column",justifyContent:this.justifyContent,alignItems:this.alignItems}}};d=l([(0,i.iV)(a.it+"geo.SlotStyleModel")],d);let u=class extends o.M_{close(){this._closed=!0}open(){this._closed=void 0}isOpening(){return!this._closed}get schema(){return this._schema}set schema(e){if("string"==typeof e)this._schema=[e];else if(Array.isArray(e))this._schema=e;else if(e)throw new Error("Invalid schema type.")}constructor(e){if(super(),this.comAry=[],this.style=new d,this.comsAddedInDebug=[],e){const{id:t,schema:n,capacity:i,title:o,showType:r,layout:s,style:a,asDefault:l,asRoot:c,type:d,template:u,proxyFor:p,deletable:f}=e;if(this.id=t,this.schema=n,this.capacity=i,this.title=o||"未命名",this.showType=r,a)for(let e in a)this.style[e]=a[e];s&&["flex-row","flex-column","absolute"].includes(s)&&this.style.setLayout(s),this._defaultF=l,this._rootF=c,this.type=d,this.template=u,this.proxyFor=p,this.deletable=f}}isDebugging(){return this._debugF}setDebug(e,t){this._debugF=!0,this._debugParams=e,this._debugOpenType=t}clearDebugF(){this._debugF=void 0}clearDebugs(){this.clearDebugF(),this.comAry.forEach((e=>{e.clearDebug()}))}hasRootTemplate(){if(this.template&&this.template.asRoot)return!0}isShowTypeOfPopup(){return"popup"===this.showType}isTypeOfScope(){return"scope"===this.type}isTypeOfDefinedCom(){return"definedCom"===this.type}isTypeOfModule(){return"module"===this.type}get renderKey(){return this._renderKey||this.id}getInnerWidth(){return this.$el.offsetWidth-(parseFloat(this.style.paddingLeft)||0)-(parseFloat(this.style.paddingRight)||0)}setComZIndex(e,t){let n;this.comAry.find(((t,i)=>{if(t.id==e)return n=[i,t],!0}));let[i,o]=n;this.comAry.splice(i,1),"string"==typeof t&&("max"==t.toLowerCase()?this.comAry.push(o):"min"==t.toLowerCase()&&this.comAry.splice(0,0,o))}setLayout(e){this.style.setLayout(e),"absolute"===e&&this.comAry.forEach((e=>{if(e.$el){const t=e.style,n=(0,s.bt)(e.$el,this.$el);t.left=n.x,t.top=n.y}}))}isStateEnable(){return this.state.isEnabled()}isRoot(){return"boolean"==typeof this._rootF?this._rootF:!this.parent}get root(){return(0,i.pI)((()=>{let e=this.parent;if(!e)return this;for(;e&&("function"!=typeof e.isRoot||!e.isRoot());)e=e.parent;return e}))}addComponent(e,t){if(!e)throw new Error("Invalid type for adding in slot.");t||(e.parent=this),this.comAry.push(e);const n=this.comAry.length-1;return this.comAry[n]}changeOrder(e,t){const n=[];return this.comAry.forEach(((i,o)=>{o==t&&n.push(e),i.id!==e.id&&n.push(i)})),t==this.comAry.length&&n.push(e),this.comAry=n,e.parent=this,this.comAry[t]}upwards(e,t){const n=this.comAry;if(n.length>1){const i=n.indexOf(e);if(i>0){if(t)return n.splice(i,1),n.splice(0,0,e),!0;{let t=n[i-1],o=i-1;return t?this.comAry=this.comAry.map(((n,r)=>r===o?e:r===i?t:n)):(n.splice(i,1),n.splice(0,0,e)),!0}}}return!1}downwards(e,t){const n=this.comAry;if(n.length>1){const i=n.indexOf(e);if(i<n.length-1){if(t)return n.splice(i,1),n.push(e),!0;{let t=n[i+1],o=i+1;return t?this.comAry=this.comAry.map(((n,r)=>r===o?e:r===i?t:n)):(n.splice(i,1),n.push(e)),!0}}}return!1}copyIn(e,t){let n;this.state.isHovering()&&(this.state.hoverRecover(),n=!0);let i,o,a=new r.Z(e),l=this.$el,c=e.$el;if(n){let e=(0,s.bt)(a.$el),t=(0,s.bt)(l);i=e.x-t.x,o=e.y-t.y}else if(t){let[e,t]=(0,s.B5)(20,80);i=e,o=t}else i=void 0!==a.style.left?a.style.left:20,o=void 0!==a.style.top?a.style.top:20;return a.style.left=i<0?Math.max(-1*c.clientWidth,i):Math.min(i,l.clientWidth),a.style.top=o<0?Math.max(-1*c.clientHeight,o):Math.min(o,l.clientHeight),this.comAry.push(a),a.parent=this,a}cutIn(e,t){return e.parent.delete(e),e.style.isPositionAbsoluteOrFixed()?(this.state.isHovering()&&this.state.hoverRecover(),this.comAry.push(e)):"number"==typeof t?this.comAry.splice(t,0,e):this.comAry.push(e),e.parent=this,e}searchModulesBySlotId(e,t){return t=t||[],this.comAry&&this.comAry.forEach((n=>{if(n.runtime.def.namespace===o.Vm.coms.module)n.slots[0].id===e&&t.push(n);else if(n.slots)return s.tk.each((n=>{n.searchModulesBySlotId(e,t)}),n.slots,n.runtime.model.slotAry)})),t}searchComByDef(e,t){if(t=t||[],this.comAry){this.comAry.find((n=>(n.runtime.def.namespace===e.namespace&&t.push(n),s.tk.find((n=>{n.searchComByDef(e,t)}),n.slots,n.runtime.model.slotAry))))}return t}searchSlot(e){if(this.id===e)return this;let t;return this.comAry.find((n=>{if(n.slots)return n.slots.find((n=>{if(t=n.searchSlot(e),t)return!0}))})),t}searchCom(e){if(this.comAry){let t;return this.comAry.find((n=>n.id==e?(t=n,!0):s.tk.find((n=>{if(t=n.searchCom(e),t)return!0}),n.slots,n.runtime.model.slotAry))),t}}searchComParentSlot(e){if(this.comAry){let t;return this.comAry.find((n=>n.id==e?(t=this,!0):s.tk.find((n=>{if(t=n.searchComParentSlot(e),t)return!0}),n.slots,n.runtime.model.slotAry))),t}}release(e){if(e instanceof r.Z){let t=[];this.comAry.forEach((n=>{n.id!=e.id&&t.push(n)})),this.comAry=t}}delete(e){const t=n=>{if(n.comAry){const i=n.comAry.indexOf(e);return i>=0?(n.comAry=n.comAry.filter(((e,t)=>t!==i)),!0):n.comAry.find((e=>{if(e.slots)return e.slots.find((e=>t(e)))}))}};if(e instanceof r.Z)return!!t(this)||void 0}focus(){this.state.focus()}findHoveringSlot(){if(this.state.isHovering()){const e=this.comAry.find((e=>e.asRoot));return e&&e.slots&&e.slots.length>0?e.slots[0]:this}let e;return this.comAry.find((t=>{if(t instanceof r.Z&&t.slots)return t.slots.find((t=>t.state.isHovering()?(e=t,!0):!!(e=t.findHoveringSlot())||void 0))})),e}findVisiblePopup(){let e;return this.comAry.find((t=>{if(t.isPopup&&t.isVisible())return e=t,!0;t.slots&&t.slots.find((t=>{if(e=t.findVisiblePopup(),e)return e}))})),e}findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},a){function l(r,l){let c;if(r.isVisible()){let d;r.slots.forEach((u=>{if(u.$el&&u.$el.offsetWidth)if(d=u,r.locked)c=u.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},a);else{const r=(0,s.bt)(u.$el);let d=u.$el.clientWidth*o,p=u.$el.offsetHeight*o;if(l?(r.x-=50,r.y-=50,d+=100,p+=100):(r.x+=5,r.y+=5,d-=10,p-=10),Math.max(e+n,r.x+d)-Math.min(e,r.x)<n+d&&Math.max(t+i,r.y+p)-Math.min(t,r.y)<i+p)return(c=u.findSlotByPo({x:e,y:t,w:n,h:i,zoom:o},a))||(c=u),!0}}))}return c}let c,d;if(n=n||5,i=i||5,this.comAry.find((e=>{if(e.isPopup&&e.isVisible())return c=e,d=l(e),!0}))||this.comAry.find((e=>{if(e instanceof r.Z&&e.id!==a.id&&e.slots){return d=l(e)}})),!d&&c&&(d=l(c,!0)),d)return d;if(!c&&!this.parent&&this.$el){const r=(0,s.bt)(this.$el),a=this.$el.clientWidth,l=this.$el.offsetHeight,c={x:r.x-50,y:r.y-50,w:(a+100)*o,h:(l+100)*o};if(Math.max(e+n,c.x+c.w)-Math.min(e,c.x)<n+c.w&&Math.max(t+i,c.y+c.h)-Math.min(t,c.y)<i+c.h)return this}}getSummaryInfo(){let e=this.comAry.length,t=0;return this.comAry.forEach((n=>{var i;(null===(i=n.slots)||void 0===i?void 0:i.length)>0&&(t+=n.slots.length,n.slots.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.slots})))})),{coms:e,slots:t}}toJSON(e){var t,n;if(e){const e={};if(e.id=this.id,e.type=this.type,e.showType=this.showType,e.title=this.title,e.name=this.name,e.style=this.style.toJSON(),e.parentId=null===(t=this.parent)||void 0===t?void 0:t.id,this.comAry.length>0){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON(!0,"geo"))})),e.comAry=t}return e}{const e={};if(e.id=this.id,e.type=this.type,e.showType=this.showType,e.title=this.title,e.name=this.name,e.style=this.style.toJSON(),e.parentId=null===(n=this.parent)||void 0===n?void 0:n.id,e._rootF=this._rootF,this.comAry.length>0){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON())})),e.comAry=t}return e}}};l([i.jj,c("design:type",String)],u.prototype,"_renderKey",void 0),l([i.jj,c("design:type",Boolean)],u.prototype,"_debugF",void 0),l([i.jj,c("design:type",Object)],u.prototype,"_debugParams",void 0),l([i.jj,c("design:type",Object)],u.prototype,"_debugOpenType",void 0),l([i.jj,c("design:type",Array)],u.prototype,"comsAddedInDebug",void 0),u=l([(0,i.iV)(a.it+"geo.SlotModel"),c("design:paramtypes",[Object])],u);const p=u},64486:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(83446),o=n(45761),r=n(90359),s=n.n(r),a=n(23037),l=n(79127),c=n(65245),d=n(33718),u=n(92702),p=n(74653),f=n(72014);function m({viewCtx:e,slotModel:t,order:n}){const{emitItem:a,emitWindowEvents:f,emitLogs:m,context:y,cssArtboard:b,viewModel:v}=e,x=(0,i.vc)((()=>function(e,t){var n;const{context:i,viewModel:o,viewShowType:r}=e,s=o.getMainModuleSlot(),a=o.style,l=s.style,c=t.style;a.zoom;const d=i.configs.geoView,p="pc"===(null===(n=null==d?void 0:d.type)||void 0===n?void 0:n.toLowerCase());let f;t.isTypeOfModule()?"fit-content"===t.style.widthType||("100%"===t.style.widthType?p&&("mobile"===r?f=u.eN:r&&"pc"!==r||(f=d.width||u.ZO)):f=c.width):(f=c.width||d.width||a.width,r&&p&&("mobile"===r?f=u.eN:"pc"===r&&(f=d.width||a.width)));let m=c.background;if(m)if("string"==typeof m)m=m.indexOf("url()")>=0?{backgroundColor:"RGBA(255,255,255,1)"}:{background:m};else if("object"==typeof m){const e=m.background;m="string"==typeof e?{background:e}:{backgroundColor:"RGBA(255,255,255,1)"}}else m={backgroundColor:"RGBA(255,255,255,1)"};else m=t.isTypeOfModule()?{}:{backgroundColor:"RGBA(255,255,255,1)"},c.backgroundImage&&(m.backgroundImage=c.backgroundImage),c.backgroundColor&&(m.backgroundColor=c.backgroundColor),c.backgroundRepeat&&(m.backgroundRepeat=c.backgroundRepeat),c.backgroundPosition&&(m.backgroundPosition=c.backgroundPosition),c.backgroundSize&&(m.backgroundSize=c.backgroundSize);const h={},g={};return t.hasRootTemplate()?Object.assign(Object.assign({},g),h):("fit-content"!==c.heightType&&(g.minHeight=c.height||l.height||a.height),"string"==typeof f&&(f=parseInt(f)),Object.assign(Object.assign(Object.assign({paddingLeft:c.paddingLeft||0,paddingTop:c.paddingTop||0,paddingRight:c.paddingRight||0,paddingBottom:c.paddingBottom||0,width:f},m),g),h))}(e,t)));let w=y.configs.geoView.scenes;v.slots.length>1&&(w=!0),(0,r.useMemo)((()=>{if(t.getConfigs=n=>(0,c.U)(t,e),t.getListeners=()=>(0,d.U)(t,e),t.getAssist=()=>(0,p.N)(e),t.comAry.length<=0){const e=t.template;if(e)if(Array.isArray(e.coms))e.coms.forEach((e=>{const n=y.getComDef({namespace:e.namespace});if(n){const i=new l.u5(n);a.add({seedModel:i,toSlotId:t.id,state:"finish"},{indeed:!0,noFocus:!0});const o=t.searchCom(i.id);if(e.asFirst?o.asFirst=!0:e.asLast&&(o.asLast=!0),e.data&&"object"==typeof e.data){const t=o.runtime.model.data;for(let n in e.data)t[n]=e.data[n]}o.lockedSilent=!0}else m.error(`作为模版的组件[${e.namespace}]不存在`)}));else if(e.namespace){const n=y.getComDef({namespace:e.namespace});if(n){const i=new l.u5(n);e.asRoot&&(i.asRoot=!0),a.add({seedModel:i,toSlotId:t.id,state:"finish"},{indeed:!0,noFocus:!0});const o=t.searchCom(i.id);if(o.lockedSilent=!0,e.asFirst?o.asFirst=!0:e.asLast&&(o.asLast=!0),e.data&&"object"==typeof e.data){const t=o.runtime.model.data;for(let n in e.data)t[n]=e.data[n]}}else m.error(`作为模版的组件[${e.namespace}]不存在`)}}}),[]);const E=(0,i.vc)((()=>{const n=t.style,i=[b.artboard];if(n.isDisplayTypeOfMobile()&&i.push(l.dc.MOBILE),(y.isDebugMode()||e.artboardMoving)&&i.push(b.hidden),t.state.isHovering()&&!t.state.isHoveringSilent()&&i.push(b.slotHover),w&&e.viewModel.curArtboardId===t.id&&i.push(b.now),y.focusOn(t)&&i.push(b.focus),t.hasRootTemplate());else if(n&&(n.isLayoutOfFlexColumn()?i.push(b.lyFlexColumn):n.isLayoutOfFlexRow()?i.push(b.lyFlexRow):n.isLayoutAbsolute(),n.isLayoutOfFlex())){const e=n.getJustifyContent();e&&("FLEX-START"===e.toUpperCase()?i.push(b.justifyContentFlexStart):"CENTER"===e.toUpperCase()?i.push(b.justifyContentFlexCenter):"FLEX-END"===e.toUpperCase()?i.push(b.justifyContentFlexFlexEnd):"SPACE-AROUND"===e.toUpperCase()?i.push(b.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===e.toUpperCase()&&i.push(b.justifyContentFlexSpaceBetween));const t=n.getAlignItems();t&&("FLEX-START"===t.toUpperCase()?i.push(b.alignItemsFlexStart):"CENTER"===t.toUpperCase()?i.push(b.alignItemsFlexCenter):"FLEX-END"===t.toUpperCase()&&i.push(b.alignItemsFlexFlexEnd))}return i.join(" ")})),A=(0,i.vc)((()=>t.comAry.length>0?t.comAry.map(((t,n)=>{if(t)return s().createElement(o.Z,{key:t.id,model:t,viewContext:e})})):s().createElement("div",{className:b.empty},"添加组件到当前画布")));return s().createElement("div",{key:t.id,className:E,style:x,ref:e=>{e&&(t.$el=e)},onClick:(0,i.Ft)((n=>{e.focusArtboard(t.id),a.focus(t)})).stop,onContextMenu:(0,i.Ft)((e=>{a.focus(t),f.showContextMenu(e)})).stop.prevent},s().createElement(g,{viewCtx:e,slotModel:t}),s().createElement(h,{viewCtx:e,slotModel:t}),A,s().createElement("div",{className:b.mover}))}function h({viewCtx:e,slotModel:t}){const{emitItem:n,context:o,cssArtboard:l,mover:c}=e,d=e.viewModel.style.zoom,u=(0,r.useCallback)((o=>{if(e.focusArtboard(t.id),t.style.isLayoutOfFlex())return;let r;const s=t.$el;(0,i.qw)(o,(({po:{x:i,y:o},epo:{ex:l,ey:c},dpo:{dx:u,dy:p},adpo:{adx:f,ady:m}},h)=>{if("moving"==h){r||(e.selection={justNow:!0,from:{x:l,y:c},to:{x:l,y:c},coms:[]},r=e.selection),r.to={x:l,y:c};const{from:n,to:i,coms:o}=r,u=Math.min(n.x,i.x)/d,p=Math.max(n.x,i.x)/d-u,f=Math.min(n.y,i.y)/d,m=Math.max(n.y,i.y)/d-f;t.comAry.forEach((e=>{const t=e.$el,n=(0,a.bt)(t,s),{x:i,y:r,w:l,h:c}=n,h=i/d,g=r/d;if(Math.max(h+l,u+p)-Math.min(h,u)<p+l&&Math.max(g+c,f+m)-Math.min(g,f)<m+c)o.indexOf(e)<0&&o.push(e);else{const t=o.indexOf(e);t>=0&&o.splice(t,1)}}))}if("finish"==h&&r){if(1===r.coms.length){const t=r.coms[0];requestAnimationFrame((i=>{e.selection=void 0,n.focus(t)}))}requestAnimationFrame((()=>{r.justNow=!1,r=void 0}))}}),{relDom:s})}),[d]);return s().createElement("div",{className:l.selection,onMouseDown:(0,i.Ft)(u).stop})}function g({viewCtx:e,slotModel:t}){var n;const{context:o,viewModel:a,emitItem:c,emitSnap:d,emitScenes:u,cssArtboard:p}=e,m=(0,r.useCallback)((n=>{const o={id:t.id};(0,i.qw)(n,(({po:{x:n,y:i},epo:{ex:r,ey:s},dpo:{dx:l,dy:d},adpo:{adx:u,ady:p}},f)=>{if("moving"==f&&(e.artboardMoving||(o.offsetX=r-n,o.offsetY=s-i,e.artboardMoving=o),e.artboardMoving.adx=u,e.artboardMoving.ady=p),"finish"==f&&e.artboardMoving){const n=e.artboardMoving.curIndex;a.slots.findIndex((e=>e.id===t.id));void 0!==n&&(a.changeOrder(t,n),requestAnimationFrame((n=>{e.focusArtboard(t.id),c.focus(t)}))),e.artboardMoving=void 0}}))}),[]),h=(0,r.useCallback)((()=>{u.close(t.id)}),[]),g=o.configs.geoView;let y,b;return"pc"===(null===(n=null==g?void 0:g.type)||void 0===n?void 0:n.toLowerCase())&&(y=414===t.style.width?"手机 - ":"PC - "),b=t.isTypeOfDefinedCom()?l.PJ.Coms:t.isTypeOfModule()?l.PJ.Module:t.isShowTypeOfPopup()?f.GI:f.xs,s().createElement("div",{className:`${p.boardTitle}`,onMouseDown:(0,i.Ft)(m).stop},s().createElement("span",{className:p.icon},b),s().createElement("span",{className:p.tt},t.title),t.isTypeOfModule()?null:s().createElement(s().Fragment,null,s().createElement("span",null,y),s().createElement("span",null," ",t.style.getLayoutTitle())),s().createElement("span",{className:p.close,onClick:(0,i.Ft)(h).stop,title:"关闭"},f.x8))}},58046:(e,t,n)=>{n.d(t,{X:()=>m});var i=n(83446),o=n(90359),r=n.n(o),s=n(23037),a=n(27814),l=n(14897),c=n(854),d=n(47716),u=n(6471),p=n(79127);let f;function m(){var e;f=(0,i.N7)(d.Z,{from:"parents"});const{viewModel:t,context:n,loadCSS:m,unloadCSS:h}=f,g=t.style.zoom,y=n.isDebugMode(),b=(0,o.useRef)({zoom:g});(0,o.useMemo)(m,[]),(0,o.useMemo)((()=>{!function(){var e,t;const{context:n,viewModel:i,emitItem:o}=f,r=n.configs.geoView,s=null==r?void 0:r.width;void 0!==s&&"boolean"==typeof s.editable&&(i.style.widthEditable=s.editable);const a=null==r?void 0:r.height;void 0!==a&&"boolean"==typeof a.editable&&(i.style.heightEditable=a.editable);if(i.styleInited)return!0;if(i.styleInited=!0,r){let n,o;switch("absolute"==(null===(e=r.layout)||void 0===e?void 0:e.toLowerCase())?(i.style.setLayout("absolute"),i.slots[0].style.setLayout("absolute")):void 0===i.style&&i.style.setLayout("flex-column"),null===i.style.zoom&&(i.style.zoom=(null==r?void 0:r.zoom)||1),void 0!==i.style.width?n=i.style.width:void 0!==s&&("object"==typeof s?n=s.init:"number"==typeof s&&(n=s)),void 0!==i.style.height?o=i.style.height:void 0!==a&&("object"==typeof a?o=a.init:"number"==typeof a&&(o=a)),null===(t=null==r?void 0:r.type)||void 0===t?void 0:t.toLowerCase()){case"mobile":i.showType="mobile",o=o||c.$_.canvasMobile.height,n=n||c.$_.canvasMobile.width;break;case"pc":i.showType="pc",o=o||c.$_.canvasPC.height,n=n||c.$_.canvasPC.width}const l=i.getMainModuleSlot();if(l){const e=l.style;i.style.height=e.height=o,i.style.width=e.width=n}else i.style.height=o,i.style.width=n;if(null==r?void 0:r.style)for(let e in r.style)e.match(/^background(Image|Color)$/gi)&&(i.style[e]=r.style[e])}}(),b.current.zoom=g}),[]),(0,i.vc)((()=>{const{cssVars:e}=f;if(e){const t=[];e.forEach((e=>{t.push(`${e.name}:${e.value};`)})),function(e,t){let n=e.querySelector("#__themes__");n||(n=document.createElement("style"),n.setAttribute("id","__themes__"),e.appendChild(n));n.textContent=`\n:host {\n  ${t.join("\n")}\n}\n  `}(f.viewModel.canvasShadowRoot,t)}})),(0,o.useMemo)((()=>{n.comLibAry&&n.comLibAry.forEach((e=>{e._loaded=!0,f.addStyleAry((0,i.Ku)(e,"_styleArySingleton")),f.addStyleAry((0,i.Ku)(e,"_styleAry"),!0)}))}),[n.comLibAry,null===(e=n.comLibAry)||void 0===e?void 0:e.length]),(0,o.useEffect)((()=>{const e=(0,s.pC)(200),n=t.canvasWrapEle;function i(){const e=t.$el.querySelectorAll("img");Array.from(e).map(((e,t)=>{if(e.dataset&&e.dataset.src&&!e.__render__&&function(e){let{top:t,right:i,bottom:o,left:r}=e.getBoundingClientRect();t-=n.scrollTop,o-=n.scrollTop,r-=n.scrollLeft,i-=n.scrollLeft;let s=window.innerHeight,a=window.innerWidth;return!(t>s||o<0||r>a||i<0)}(e)){const t=e.getAttribute("data-src"),n=new Image;n.src=t,n.onload=function(){e.setAttribute("src",t)},e.__render__=!0}}))}const o=()=>e.push(i);return o(),null==n||n.addEventListener("scroll",o),()=>{null==n||n.removeEventListener("scroll",o)}}),[y]),(0,o.useLayoutEffect)((()=>{requestAnimationFrame((e=>{f.anchor()}))}),[]),(0,o.useEffect)((()=>((0,u.d)().then((e=>{for(let t in e){const n=e[t],i=document.createElement("style"),o=p.dc[t],r=n.map((e=>Array.from(e.cssRules).map((e=>e.cssText)).join("\n"))).join("\n");i.textContent=`.${o} { \n ${r} }`,f.viewModel.canvasShadowRoot.appendChild(i)}})),()=>{h()})),[]);const v=(0,o.useMemo)((()=>{const e=[];return f.comlibJSLoaded&&(e.push(r().createElement(l.Z,{key:"desnView"})),y&&e.push(r().createElement(a.Z,{key:"debugView"}))),e}),[y]);return(0,o.useLayoutEffect)((()=>{const e=b.current.zoom;if(e!==g){b.current.zoom=g;const n=t.$el.offsetWidth;t.$el.style.width=n+1+"px";const i=t.canvasWrapEle,o=i.offsetWidth,r=o/2+i.scrollLeft,s=i.offsetHeight,a=s/2+i.scrollTop;requestAnimationFrame((l=>{t.$el.style.width=n+"px",i.scrollLeft=r*(g/e)-o/2,i.scrollTop=a*(g/e)-s/2}))}}),[g]),r().createElement("div",{className:f.cssCanvas.geoView,style:{transform:`scale(${t.style.zoom})`},onMouseDown:(0,i.Ft)().stop,ref:e=>{e&&(t.$el=e)}},v)}},27814:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(83446),o=n(90359),r=n.n(o),s=n(47716),a=n(23037),l=n(79127),c=n(37181);function d(){var e;const t=(0,i.N7)(s.Z,{from:"parents"}),{context:n,viewModel:d,getCurModuleSlot:u,emitMessage:p,emitFrame:f,emitScenes:m,emitPage:h,cssArtboard:g}=t,y=(0,o.useRef)([]),b=(0,o.useRef)([]);(0,o.useMemo)((()=>{t.debugSlotStartWith=t.getCurModuleSlot();t.getViewWrapperElement().childNodes.forEach(((e,t)=>{t>0&&(e.style.display="none")}))}),[]),(0,o.useEffect)((()=>()=>{d.$elForDebugCanvas=void 0,d.curArtboardId!==t.debugSlotStartWith.id&&m.switch(t.debugSlotStartWith.id),t.debugSlotStartWith=void 0,y.current.length>0&&y.current.forEach((e=>{m.close(e.id)})),b.current.length>0&&b.current.forEach((e=>{e()}));const e=t.getViewWrapperElement();e&&e.childNodes.forEach(((e,t)=>{t>0&&(e.style.display="")}))}),[]);const v="mobile"===(null===(e=n.configs.geoView.type)||void 0===e?void 0:e.toLowerCase()),x=(0,o.useMemo)((()=>function(e){var t;const{context:n,viewModel:i,viewShowType:o,getCurModuleSlot:r,isMainModule:s}=e,a=r(),l=i.style,c=(i.$el,a.style,a.$el),d=n.configs.geoView,u="mobile"===(null===(t=d.type)||void 0===t?void 0:t.toLowerCase());!d.type||d.type.toLowerCase();let p=c.offsetWidth;const f={backgroundColor:"RGBA(255,255,255,1)"},m={minHeight:l.height};u&&(m.height=l.height);return Object.assign(Object.assign({width:p},f),m)}(t)),[]),w=(0,o.useMemo)((()=>u()),[]),E=w.style,A=(0,o.useMemo)((()=>{if(d.slots.length<=1)return{};const e=d.canvasWrapEle,t=(0,a.bt)(w.$el,d.canvasTransEle);(e.scrollLeft+e.offsetWidth<t.x||e.scrollLeft>t.x+w.style.width)&&(e.scrollLeft=t.x-100);const n={left:t.x};return void 0!==E.width&&(n.width=E.width),n}),[w.style.width]),[_,C]=(0,o.useMemo)((()=>{const{context:e,debugSlotStartWith:n,emitDebug:o,emitModule:s}=t,a=e.toJSON({needClone:!0}),l=e.configs.com||{},u=(0,i.d9)(l,!0),g=Object.assign({},u,{sceneId:n.id,debug:!0,observable:i.LO,debug:({resume:e,ignoreAll:t})=>(o.init({resume:e,ignoreAll:t}),{log(e,t,n,r){const s=(0,i.d9)(n,!0);requestAnimationFrame((n=>{o.log("debug",e,t,s,r)}))},onResume(){o.resume()}}),onError({comId:e,error:t}){requestAnimationFrame((n=>{f.onError("com",{comId:e},t)}))}});return g.env.runtime={debug:{onComplete(e){"function"==typeof e&&b.current.push(e)}}},g.env.renderModule=function(t,n){const i=Object.assign({sceneId:null},g,n);return e.renderWeb(t,i)},g.env.getModuleJSON=function(e){const t=s.get(e);if(t)return(0,i.Ku)(t.json)},g.env.canvas={get type(){return n.style.isDisplayTypeOfMobile()?"mobile":"pc"},appendCom(e){e&&e.namespace&&e.data&&p.info(`添加组件：${e.namespace} 完成`)}},Object.defineProperty(g.env,"canvasElement",{get:()=>d.$elForDebugCanvas}),g.comDefs=e.getAllComDef(),g.createPortal=e=>h.createPortal(r().createElement("div",null,e)),g.scenesLoader=({id:e})=>new Promise(((t,n)=>{m.load(e).then((n=>{if(n){const{slot:e,frame:i}=n;y.current.push(e);const o=(0,c.aD)({slot:e,frame:i});t(o)}else p.error(`未找到页面（id=${e}）`)}))})),[a,g]}),[]),[I,M]=(0,o.useState)();return(0,o.useMemo)((()=>{d.$elForDebugCanvas&&M(n.renderWeb(_,C))}),[d.$elForDebugCanvas]),r().createElement("div",{className:`${g.debugCanvas} ${(null==E?void 0:E.isDisplayTypeOfMobile())?l.dc.MOBILE:""}`,"data-canvas":"debug",style:Object.assign(Object.assign({},x),A),onClick:e=>{f.exeOutput("click",0)},ref:e=>{e&&(d.$elForDebugCanvas=e)}},v?r().createElement("div",{style:{height:"100%",overflowY:"scroll"}},I):I)}},14897:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(90359),r=n.n(o),s=n(57885),a=n(47716),l=n(64486);function c(){const e=(0,i.N7)(a.Z,{from:"parents"}),{viewModel:t,context:n}=e;return r().createElement(r().Fragment,null,t.slots.map(((t,n)=>{if(!t._closed)return r().createElement(l.Z,{key:t.id,order:n,slotModel:t,viewCtx:e})})),r().createElement(s.lL,null))}},53626:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(92702),r=n(79127),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.M_{addItem(e){this.items.push({content:e.content,dateTime:(new Date).getTime()})}constructor(e){if(super(),this.items=[],"object"==typeof e){const{type:t,position:n}=e;this.type=t||"normal",this.position=n,this.createTime=(new Date).getTime()}}focus(){this._focused=!0}blur(){this._focused=void 0}};s([i.jj,a("design:type",Object)],l.prototype,"refPo",void 0),s([i.jj,a("design:type",Boolean)],l.prototype,"_focused",void 0),l=s([(0,i.iV)(o.it+"geo.NoteModel"),a("design:paramtypes",[Object])],l);const c=l},75126:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(56625),o=n(90359),r=n.n(o),s=n(83446),a=n(47716);function l(){const{placeholder:e}=(0,s.N7)(a.Z,{from:"parents"});return e&&"none"!==e.type&&r().createElement("div",{className:`${i.Z.placeholder} ${"h"===e.type?i.Z.placeholderH:i.Z.placeholderV}`,style:{display:""+(void 0!==e.y?"block":"none"),top:e.y,left:e.x,height:e.h,width:e.w}},r().createElement("div",null))}},7241:(e,t,n)=>{n.d(t,{U:()=>h,Z:()=>g});var i=n(24318),o=n(90359),r=n.n(o),s=n(23037),a=n(83446),l=n(57885),c=n(75126),d=n(47716),u=n(6645),p=n(58046),f=n(72933);let m;function h(){return{get canvasDom(){return m.viewModel.$el.cloneNode(!0)},addStyle(e){const t=m.viewModel.canvasShadowRoot;if(t){const n=document.createElement("style");n.innerHTML=e,t.appendChild(n)}},addCSSLink(e){const t=m.viewModel.canvasShadowRoot;if(t){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.appendChild(n)}},width(e){if("number"!=typeof e)return m.viewModel.style.width;m.viewModel.style.width=e},height(e){if("number"!=typeof e)return m.viewModel.style.height;m.viewModel.style.height=e}}}function g(){m=(0,a.N7)(d.Z,{from:"parents"});const{emitItem:e,context:t,viewModel:n}=m,h=t.configs.geoView;(0,o.useMemo)((()=>{const e=`geo-${(0,s.Vj)().replace(/\_/g,"").toLowerCase()}`;m.TagName=e,customElements.get(e)||customElements.define(e,class extends HTMLElement{constructor(){super()}connectedCallback(){var e,t;const i=this.attachShadow({mode:"open"});if(Array.isArray(null===(e=h.theme)||void 0===e?void 0:e.css)&&h.theme.css.forEach((e=>{const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),i.appendChild(t)})),null===(t=h.theme)||void 0===t?void 0:t.style){const e=(0,f.D)(h.theme.style),t=document.createElement("style");t.dataset.defined=1,t.textContent=e,i.appendChild(t)}const o=document.createElement("div");o.id="_geoview-wrapper_",o.style.width="100%",o.style.height="100%",i.appendChild(o),n.canvasShadowRoot=i,setTimeout((()=>{m.loaded=!0}),100)}disconnectedCallback(){this.shadowRoot.innerHTML=""}})}),[]);const g=(0,o.useCallback)((t=>{a.qw.event||(m.clearPops(),e.focus(void 0))}),[]);return r().createElement(r().Fragment,null,r().createElement("div",{className:`${u.Z.viewWrap} ${m.spaceKeyPressed?u.Z.movable:""}`,onClick:g,onWheel:e=>function(e,t){const{deltaX:n,deltaY:i}=e,o=t.canvasWrapEle,r=t.style;n<=0?o.scrollLeft<=0?r.left=o.scrollLeft:r.left+=n:o.scrollLeft>=o.scrollWidth-o.clientWidth?r.left=o.scrollLeft:r.left+=n;i<=0?o.scrollTop<=0?r.top=o.scrollTop:r.top+=i:o.scrollTop>=o.scrollHeight-o.clientHeight?r.top=o.scrollTop:r.top+=i}(e,n),ref:e=>{e&&(e.addEventListener("scroll",(function(e){return this.scrollTop=0,this.scrollLeft=0,!1})),e.addEventListener("focus",(function(e){})))}},r().createElement(y,null),r().createElement("div",{className:`${u.Z.canvasWrap}  ${m.spaceKeyPressed?u.Z.disabled:""}`,style:{overflow:t.isDebugMode()&&"mobile"===(null==h?void 0:h.type)?"hidden":"scroll"},tabIndex:-1,onKeyDown:e=>{" "===e.key&&(m.spaceKeyPressed=!0,e.preventDefault())},onKeyUp:e=>{" "===e.key&&(m.spaceKeyPressed=!1)},onMouseDown:e=>{m.spaceKeyPressed&&function(e){const{viewModel:t}=m,n=t.canvasWrapEle,i=t.style;(0,a.qw)(e,(({po:{x:e,y:t},epo:{ex:o,ey:r},dpo:{dx:s,dy:a}},l)=>{if("moving"==l){const e=1;n.scrollLeft-=s*e,n.scrollTop-=a*e,i.left=n.scrollLeft,i.top=n.scrollTop}"finish"==l&&(m.spaceKeyPressed=!1)}))}(e)},ref:e=>{e&&(n.canvasWrapEle=e)}},r().createElement("div",{className:`${u.Z.canvasTrans} ${n.state.isEditing()?u.Z.editing:""}`,ref:e=>e&&(n.canvasTransEle=e),onMouseDown:(0,a.Ft)().stop},t.configs.geoView.notes?r().createElement(l.oA,null):null,r().createElement(m.TagName,{id:"_mybricks-geo-webview_"}),r().createElement(l.TM,null),r().createElement(l.TO,null),r().createElement(l.Ht,null),r().createElement(l.Y1,null),r().createElement("div",{className:u.Z.editCover})),r().createElement(l.o3,null),r().createElement(c.Z,null),r().createElement(l.rb,null)),r().createElement(l.bw,null)),n.canvasShadowRoot?(0,i.createPortal)(r().createElement(p.X,null),n.canvasShadowRoot.querySelector("div")):null)}function y(){if(!m.loaded)return r().createElement("div",{className:u.Z.loading},r().createElement("div",null,"加载中..."))}},65245:(e,t,n)=>{n.d(t,{U:()=>d});var i=n(79127),o=n(23037),r=n(60753),s=n(10097),a=n(95201),l=n(90359);let c=[];function d(e,t){c=[];const{context:n,emitItem:o,emitScenes:a,emitModule:l,emitFrame:d,emitSnap:p}=t,f=n.configs.geoView,m=[],h=new i.Af.Category({title:e.title||"画布",setTitle(t){const n=p.start("修改名称",{target:e});e.title=t,a.setTitle(e.id,t,"geoView"),n.commit()}});if(m.push(h),!e.hasRootTemplate()){const n=new i.Af.Group("");h.addGroup(n),n.addItem((0,r.Z)(e,t));const o=new i.Af.Group("");h.addGroup(o),o.addItem(u(t,{title:"背景",type:"styleNew",options:["background"],description:"设置背景颜色及背景图片",binding:{with:"style.background"},value:{get(){"object"==typeof e.style.background&&(e.style.background=void 0);const t={};for(let n in e.style)n.startsWith("background")&&(t[n]=e.style[n]);return t},set(t){if("object"==typeof t){for(let t in e.style)t.startsWith("background")&&delete e.style[t];for(let n in t)n.startsWith("background")&&(e.style[n]=t[n])}}}})),o.addSeparator(),o.addItem(u(t,{title:"布局",type:"Select",options:[{value:"flex-column",label:"纵向排版"},{value:"flex-row",label:"横向排版"},{value:"absolute",label:"自由排列"}],description:"模块内组件的布局方式",value:{get:()=>e.style.layout||"flex-column",set(t){const n=e.style;n.layout=t,"absolute"===t&&"custom"===f.type&&(n.heightType="custom")}}})),o.addItem(u(t,{title(){const t=e.style.layout;return t&&"flex-column"!==t?"垂直对齐":"水平对齐"},type:"Select",options(){const t=e.style.layout;return t&&"flex-column"!==t?[{value:"flex-start",label:"居上"},{value:"center",label:"居中"},{value:"flex-end",label:"居下"}]:[{value:"flex-start",label:"居左"},{value:"center",label:"居中"},{value:"flex-end",label:"居右"}]},ifVisible:()=>"absolute"!==e.style.layout,value:{get:()=>e.style.getAlignItems(),set(t){e.style.setAlignItems(t)}}})),o.addItem(u(t,{title(){const t=e.style.layout;return t&&"flex-row"!==t?"垂直对齐":"水平对齐"},type:"Select",options(){const t=e.style.layout;return t&&"flex-column"!==t?[{value:"flex-start",label:"居左"},{value:"center",label:"居中"},{value:"flex-end",label:"居右"}]:[{value:"flex-start",label:"居上"},{value:"center",label:"居中"},{value:"flex-end",label:"居下"}]},ifVisible:()=>"absolute"!==e.style.layout,value:{get:()=>e.style.getJustifyContent(),set(t){e.style.setJustifyContent(t)}}})),o.addItem(u(t,{title:"内间距",type:"inputNumber",options:[{title:"上",width:58},{title:"下",width:58},{title:"左",width:58},{title:"右",width:58}],ifVisible:()=>"absolute"!==e.style.layout,value:{get:()=>[e.style.paddingTop,e.style.paddingBottom,e.style.paddingLeft,e.style.paddingRight],set([t,n,i,o]){const r=e=>e===1/0||e===-1/0?0:e;e.style.paddingTop=r(t),e.style.paddingBottom=r(n),e.style.paddingLeft=r(i),e.style.paddingRight=r(o)}}}))}if("function"==typeof d.getAllOutputs){const n=d.getAllOutputs(e.id,"event");if(n&&n.length>0){const e=new i.Af.Group("事件");h.addGroup(e);const o=n=>{e.addItem(u(t,{title:n.title,type:"_event",options:{outputId:n.id},description:`画布的全局${n.title}事件`}))};n.forEach((e=>{e&&(Array.isArray(e)?e.forEach(o):o(e))}))}}const g=new i.Af.Group;return g.fixedAt="bottom",h.addGroup(g),g.addItem((0,s.Z)(e,t)),m.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}function u(e,t){c.push(t);const{getCurModuleSlot:n,emitItem:r,emitSnap:s,emitVariable:d,emitViews:u}=e,p=n();if("object"==typeof t){let e;"function"==typeof t.ifVisible&&(e=()=>{if(c.indexOf(t)>=0){const e=t.ifVisible();return"boolean"==typeof e&&e}});let n=t.options;"function"==typeof n&&(n=t.options());const r={title:t.title,type:t.type,description:t.description,binding:function(){if(t.binding&&t.binding.with)return{get(){const e=p.bindingsFrom;if(e){const n=e[t.binding.with];if(n)return d.get(n)}},set(){let e,n=p.bindingsFrom;n&&(e=n[t.binding.with]);const i=d.getAll();u.popView("选择变量",(({close:o})=>l.createElement(a.Z,{curVarId:e,varAry:i,bindVar:e=>{o(),n||(n=p.bindingsFrom={}),n[t.binding.with]=e.id,e.bind(p.id,t.binding.with,"slot")},removeBinding:e=>{o(),n[t.binding.with]=void 0,delete n[t.binding.with]}})),{width:350,beforeEditView:!0})}}}(),value:function(){let e,n=!1;return{get:()=>(n||(n=!0,e=(t.value&&t.value.get||(()=>{}))(),e=null==e?null:e),e),set(i){(0,o.pC)().push((()=>{try{e=i,n=!1;const o=s.start(`编辑模块${p.title} 的 ${t.title}`,{target:p});(t.value&&t.value.set||(()=>{}))(i),o.commit()}catch(e){throw e}}))}}}(),options:n,ifVisible:e};return new i.Af.EditItem(r)}throw new Error("Invalid typeof editor(function or object expect)")}},33718:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(23037);function o(e,t){var n;const{viewModel:o,context:r,emitItem:s,emitMessage:a,emitViews:l,emitSnap:c,emitFrame:d,emitScenes:u,emitWindowEvents:p}=t;function f(){r.focusModel&&r.reFocus()}const m=[{title:"复制到剪切板",keys:["Ctrl+c"],exe:()=>{const t=l.copyFocus(e);t.from=e.id,(0,i.JG)(JSON.stringify(t))&&a.info("已复制到剪切板.")}},null,{title:"前移",exe:()=>{const t=c.start("移动场景",{target:e}),n=o.slots.indexOf(e);o.changeOrder(e,n-1),t.commit(),requestAnimationFrame(f)}},{title:"后移",exe:()=>{const t=c.start("移动场景",{target:e}),n=o.slots.indexOf(e);o.changeOrder(e,n+2),t.commit(),requestAnimationFrame(f)}}];if(r.clipboard){const{type:e,json:t}=r.clipboard;e.match(/geoCom/)&&m.unshift({title:"粘贴到这里",keys:["Ctrl+v"],exe:()=>{p.paste()}})}const h=r.configs;return((null===(n=h.geoView.scenes)||void 0===n?void 0:n.adder)||h.pageMetaLoader)&&(m.push(null),m.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{const t=c.start("delete slot",{target:e});d.delete(e.id),u.delete(e.id),e.destroy(),t.commit(),s.focus(void 0)}})),m}},74653:(e,t,n)=>{n.d(t,{N:()=>r});var i=n(79127),o=n(11885);function r(e){const{context:t,getCurModuleSlot:n,emitItem:r,getComDefAIPrompts:s}=e,a=n();return{title:"当前画布",getPrompts(e){const n=e(t.getAllComDefArray((e=>{if("js"===e.rtType||"js-autorun"===e.rtType)return!1})).map((e=>({title:e.title,description:e.description,namespace:e.namespace}))),["namespace"]),i=[],o=[];return n.forEach((e=>{const n=t.getComDef({namespace:e.namespace}),{def:r,prompts:a}=s(n);i.push(r),a&&o.push(`其中，关于 ${n.title}组件,${a}`)})),`\n我希望你是一位出色的界面设计师，基于以下组件定义设计界面:\n[组件的JSON定义]\n${i.map((e=>JSON.stringify(e,null,2))).join("\n")}\n${o.join("\n")}\n    \n[要求]\n1：回答仅返回JSON内容，无需对内容做任何解释；\n2：要求返回的JSON结构为：\n{\n  cmd,//命令类型，目前支持的命令有：selectCom（选中组件）、addCom（添加组件）、deleteCom（删除组件）\n  data//命令数据，当cmd为addCom时，data为数组结构，其中的type来自组件中的type定义，数组长度不要大于5；当cmd为selectCom时，data为字符串，可选值为：this（当前组件）、last（最后一个组件）、数字（第几个组件）\n}\n3：如果没有合适的答案，返回null即可；\n\n[以下是一些典型的问答的例子]\n选择这个组件:\n{cmd:'selectCom',data:'this'}\n\n选择最后一个组件:\n{cmd:'selectCom',data:'last'}\n\n删除第三个组件:\n{cmd:'deleteCom',data:2}\n\n添加一个文本:\n{cmd:'addCom',data:{type:'mybricks.basic-comlib.text'}}\n\n添加一个文本、一个矩形:\n{cmd:'addCom',data:[{type:'mybricks.basic-comlib.text'},{type:'mybricks.basic-comlib.rectangle'}]}\n\n添加一个登录表单:\n{\n  cmd:'addCom',\n    data:[\n      {\n        type:'mybricks.normal-pc.form-container',\n        slots:{//在插槽中添加其他组件\n          'content':[\n            {type:'mybricks.normal-pc.form-text'}\n            {type:'mybricks.normal-pc.password'}\n          ]\n        }\n      }\n    ]\n  }\n    `},execute:t=>new Promise(((n,s)=>{if(t){if(t.cmd)switch(t.cmd){case"selectCanvas":return r.focus(a),void n("已选中画布");case"selectCom":{const e=t.data;let i;return"this"===e||"last"===e?i=a.comAry[a.comAry.length-1]:"number"==typeof e&&(i=a.comAry[parseInt(e)]),void(i?(r.focus(i),n("已选中组件")):s("未找到组件"))}case"addCom":return void function(e,t){const{context:n,viewModel:r,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d}=t;return new Promise(((t,n)=>{const i=[],o=e.data;if(Array.isArray(o))o.forEach((e=>{const t=u(e);t&&i.push(t)}));else{const e=u(o);e&&i.push(e)}i?t("已完成添加组件."):n("添加组件发生错误，请重新输入.")}));function u(e,t,p){const f=n.getComDef({namespace:e.type});if(!f)return!1;const m=new i.u5(f);s.add({seedModel:m,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==p?void 0:p.id},{noFocus:!0,indeed:!0});const h=r.searchCom(m.id);if(h){const t=f.ai;if(t&&"function"==typeof t["@create"])try{const i=(0,o.e)({comId:h.id,context:n,model:h,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d},{def:e});t["@create"](i)}catch(e){console.error(e)}if(e.slots)for(let t in e.slots){const n=e.slots[t];Array.isArray(n)&&n.forEach((e=>{u(e,h,h.getSlot(t))}))}return`已添加组件${f.title}`}}}(t,e).then((e=>{n(e)})).catch((e=>{s("添加组件发生错误，请重新输入.")}));case"deleteCom":{const e=t.data;let i="number"==typeof e?e:parseInt(e);return r.delete(a.comAry[i]),void n("已删除组件")}}s("未知错误")}else s("抱歉，我未能理解您的问题，请重新输入.")}))}}},18980:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(5227),o=n(90359),r=n.n(o),s=n(83446),a=n(23037),l=n(47716),c=n(10973),d=n(70418);function u(){var e;const t=(0,s.N7)(l.Z,{from:"parents"}),{mover:n,viewModel:u,selection:p}=t,f=null===(e=n.model)||void 0===e?void 0:e.style,m=(0,o.useMemo)((()=>{const e=u.style.zoom;let t;if((t=null==n?void 0:n.model)&&t.$el){const n=t.parent.$el,i=(0,a.bt)(n),o=(0,a.bt)(u.canvasTransEle),r=[],s=t.parent.comAry;return s&&s.forEach((i=>{if(i!==t&&i.isStyleLayoutAbsoluteOrFixed()&&i.isVisible()){if(p&&p.coms.includes(i))return;const t=i.$el,o=(0,a.bt)(t,n),l=[],c=[];s.forEach((t=>{if(t!==i&&t.isStyleLayoutAbsoluteOrFixed()&&t.isVisible()){if(p&&p.coms.includes(t))return;const i=t.$el,r=(0,a.bt)(i,n),s=Math.max(r.y/e,o.y/e),d=Math.min(r.y/e+r.h,o.y/e+o.h),u=r.x/e,f=o.x/e,m=Math.min(u+r.w,f+o.w)-(r.w+o.w-(Math.max(u+r.w,f+o.w)-Math.min(u,f)))/2,h=s-d;h>0&&l.push({dy:h,x2:m,y0:d,y1:s,com:t});const g=Math.max(r.x/e,o.x/e),y=Math.min(r.x/e+r.w,o.x/e+o.w),b=r.y/e,v=o.y/e,x=Math.min(b+r.h,v+o.h)-(r.h+o.h-(Math.max(b+r.h,v+o.h)-Math.min(b,v)))/2,w=g-y;w>0&&c.push({dx:w,y2:x,x0:y,x1:g,com:t})}})),r.push({id:i.id,x:o.x/e,y:o.y/e,x2:o.x/e+o.w/2,y2:o.y/e+o.h/2,h:o.h,w:o.w,disY:l,disX:c})}})),r.push({x:0,y:0,x2:i.w/2,y2:i.h/2,h:i.h,w:i.w,disY:[],disX:[]}),{ppo:i,vpo:o,others:r}}}),[null==n?void 0:n.model,u.style.zoom,null==f?void 0:f.left,null==f?void 0:f.top]),h=(0,s.vc)((()=>{let e;const i=u.style.zoom;if((e=null==n?void 0:n.model)&&e.$el&&m){const{ppo:o,vpo:r,others:s}=m,a=e.$el,l=n.model.style;if("no-suggest"===n.type)return{x:l.left,y:l.top,left:o.x-r.x,top:o.y-r.y,width:a.offsetWidth*i,height:a.offsetHeight*i,slotWidth:o.w,slotHeight:o.h};const p={x:l.left,y:l.top},f=u.findHoveringSlot();if(f&&f.id!==e.parent.id)return void l.clearSuggest();let h,g,y=l.left,b=l.top;if(s){const e={left:!1,right:!1,top:!1,bottom:!1};h=(0,c.Z)(s,e,t),e.top||(g=(0,d.Z)(s,e,t)),e.left||(l.suggestLeft=void 0),e.right||(l.suggestRight=void 0),e.top||(l.suggestTop=void 0),e.bottom||(l.suggestBottom=void 0)}return p.x=y,p.y=b,Object.assign({},{width:a.offsetWidth*i,height:a.offsetHeight*i,slotWidth:o.w,slotHeight:o.h,left:o.x-r.x,top:o.y-r.y},h,g)}})),g=u.style.zoom;if(h){let e,t;if(h.tipY){const t=h.tipY,n=t.distanceAry,o=t.y1-t.y0;e=r().createElement(r().Fragment,null,r().createElement("div",{className:i.Z.tipV,style:{left:t.x,top:t.y00,height:t.y0-t.y00}}),r().createElement("div",{className:i.Z.tipY,style:{left:t.x,top:Math.min(t.y0,t.y1),height:Math.abs(t.y1-t.y0)}},o===-h.height||Math.abs(o)<10||n.length>0?null:r().createElement("span",null,Math.round(o/g))),r().createElement("div",{className:i.Z.tipV,style:{left:t.x,top:t.y1,height:t.y11-t.y1}}),n.map(((e,t)=>(e.y1-e.y0<0&&console.log(e),r().createElement("div",{key:t,className:i.Z.disV,style:{left:e.x2*g,top:e.y0*g,height:(e.y1-e.y0)*g}},r().createElement("span",null,e.y1-e.y0))))))}if(h.tipX){const e=h.tipX,n=e.distanceAry,o=e.x1-e.x0;t=r().createElement(r().Fragment,null,r().createElement("div",{className:i.Z.tipH,style:{top:e.y,left:e.x00,width:e.x0-e.x00}}),r().createElement("div",{className:i.Z.tipX,style:{top:e.y,left:Math.min(e.x0,e.x1),width:Math.abs(e.x1-e.x0)}},o===-h.width||Math.abs(o)<10?null:r().createElement("span",null,Math.round(o/g))),r().createElement("div",{className:i.Z.tipH,style:{top:e.y,left:e.x1,width:e.x11-e.x1}}),n.map(((e,t)=>(e.x1-e.x0<0&&console.log(e),r().createElement("div",{key:t,className:i.Z.disH,style:{top:e.y2*g,left:e.x0*g,width:(e.x1-e.x0)*g}},r().createElement("span",null,e.x1-e.x0))))))}if(void 0!==h.y&&void 0!==h.x)return r().createElement("div",{className:i.Z.mover,style:{transform:`translateY(${h.top}px) translateX(${h.left}px)`,height:h.height,width:h.width}},r().createElement("div",{className:i.Z.poX,style:{left:0,top:h.y*g,width:h.slotWidth}},r().createElement("span",null,h.y)),r().createElement("div",{className:i.Z.poY,style:{top:0,left:h.x*g,height:h.slotHeight}},r().createElement("span",null,h.x)),e,t)}}},29793:(e,t,n)=>{n.d(t,{X:()=>i});const i=6},10973:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(83446),o=n(29793);let r,s,a,l,c,d,u,p,f,m,h,g,y,b,v;function x(e,t,n){b=e,v=t,s=n.mover,r=s.model,a=s.model.style,l=n.viewModel.style.zoom;const i=r.$el;c={x:a.left,y:a.top},d=Math.max(Math.round(o.X/l),3),u="number"==typeof a.width?a.width:i.offsetWidth,p="number"==typeof a.height?a.height:i.offsetHeight,m=a.left,h=a.top,f=a.left+u/2,g=u,y=p;let x,E=m,A=h;return function(){const e=[];b.forEach((t=>{const n=Math.max(t.y,c.y)-Math.min(t.y+t.h,c.y+y);e.push({other:t,distance:n})}));const t=e.sort(((e,t)=>e.distance-t.distance));return t.length>8?t.slice(0,8):t}().find((({other:e,distance:t})=>{const n=Math.max(e.y+e.h,c.y+y)-Math.min(e.y,c.y)<=y+e.h;return function(e){return(!s.type||-1!=s.type.indexOf("left"))&&Math.abs(e.x-m)<d}(e)?(E=a.suggestLeft=e.x,[x,A]=w(n,e,E),v.left=!0,!0):function(e){return!s.type&&Math.abs(e.x2-f)<d}(e)?(E=a.suggestLeft=Math.round(e.x2-g/2),[x,A]=w(n,e,e.x2),v.left=!0,!0):function(e){return(!s.type||-1!==s.type.indexOf("right"))&&Math.abs(e.x+e.w-m-g)<d}(e)?(a.suggestRight=e.x+e.w,[x,A]=w(n,e,e.x+e.w),v.left=!0,v.right=!0,!0):function(e){return Math.abs(e.x+e.w-m)<d}(e)?(E=a.suggestLeft=e.x+e.w,[x,A]=w(n,e,e.x+e.w),v.left=!0,!0):function(e){return Math.abs(e.x-m-u)<d}(e)?(a.suggestRight=e.x,[x,A]=w(n,e,e.x),v.left=!0,v.right=!0,!0):void 0})),c.x=E,c.y=A,{x:E,y:A,tipY:x}}function w(e,t,n){return(0,i.pI)((()=>{const i=void 0!==a.suggestTop?a.suggestTop:c.y;let o,s,u,p,f,m=[];if(e)u=Math.min(t.y,i),o=Math.max(t.y,i),s=Math.min(t.y+t.h,i+y),p=Math.max(t.y+t.h,i+y);else if(u=Math.min(t.y,i),o=Math.min(t.y+t.h,i+y),s=Math.max(t.y,i),p=Math.max(t.y+t.h,i+y),t.disY){const e=Math.max(t.y,c.y)-Math.min(t.y+t.h,c.y+y);t.disY.find((({dy:n,com:o,y0:s,y1:a})=>{if(o.id!==r.id){const o=n-e;if(Math.abs(o)<d)return b.forEach((e=>{e.disY.forEach((({dy:e,com:t,x2:i,y0:o,y1:r})=>{n===e&&r>o&&(m.find((({y0:e,y1:t})=>e===o||t===r))||m.push({x2:i,y0:o,y1:r}))}))})),void 0===f&&(f=t.y>i?t.y-y-n:t.y+t.h+n),!0}}))}let h=a.top;return void 0!==f&&(h=a.suggestTop=f,v.top=!0,!m.find((({y0:e,y1:t})=>e===o||t===f))&&f>o&&m.push({x2:t.x+t.w/2,y0:o,y1:f})),[{x:n*l,y00:u*l,y0:o*l,y1:s*l,y11:p*l,distanceAry:m.length>=2?m:[]},h]}))}},70418:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(83446),o=n(29793);let r,s,a,l,c,d,u,p,f,m,h,g,y,b,v;function x(e,t,n){b=e,v=t,s=n.mover,r=s.model,a=s.model.style,l=n.viewModel.style.zoom;const i=r.$el;c={x:a.left,y:a.top},d=Math.max(Math.round(o.X/l),3),u="number"==typeof a.width?a.width:i.offsetWidth,p="number"==typeof a.height?a.height:i.offsetHeight,m=a.left,h=a.top,f=a.top+p/2,g=u,y=p;let x,E=m,A=h;return function(){const e=[];b.forEach((t=>{const n=Math.max(t.x,c.x)-Math.min(t.x+t.w,c.x+g);e.push({other:t,distance:n})}));const t=e.sort(((e,t)=>e.distance-t.distance));return t.length>8?t.slice(0,8):t}().find((({other:e,distance:t})=>{const n=Math.max(e.x+e.w,c.x+g)-Math.min(e.x,c.x)<=g+e.w;return function(e){return(!s.type||-1!=s.type.indexOf("top"))&&Math.abs(e.y-h)<d}(e)?(A=a.suggestTop=e.y,[x,E]=w(n,e,A),v.top=!0,!0):function(e){return!s.type&&Math.abs(e.y2-f)<d}(e)?(A=a.suggestTop=Math.round(e.y2-y/2),[x,E]=w(n,e,e.y2),v.top=!0,!0):function(e){return(!s.type||-1!==s.type.indexOf("bottom"))&&Math.abs(e.y+e.h-h-y)<d}(e)?(a.suggestBottom=e.y+e.h,[x,E]=w(n,e,e.y+e.h),v.top=!0,v.bottom=!0,!0):function(e){return Math.abs(e.y+e.h-h)<d}(e)?(A=a.suggestTop=e.y+e.h,[x,E]=w(n,e,e.y+e.h),v.top=!0,!0):function(e){return Math.abs(e.y-h-p)<d}(e)?(a.suggestBottom=e.y,[x,E]=w(n,e,e.y),v.top=!0,v.bottom=!0,!0):void 0})),c.x=E,c.y=A,{x:E,y:A,tipX:x}}function w(e,t,n){return(0,i.pI)((()=>{const i=void 0!==a.suggestLeft?a.suggestLeft:c.x;let o,s,u,p,f,m=[];if(e)u=Math.min(t.x,i),o=Math.max(t.x,i),s=Math.min(t.x+t.w,i+g),p=Math.max(t.x+t.w,i+g);else if(u=Math.min(t.x,i),o=Math.min(t.x+t.w,i+g),s=Math.max(t.x,i),p=Math.max(t.x+t.w,i+g),t.disX){const e=Math.max(t.x,c.x)-Math.min(t.x+t.w,c.x+g);t.disX.find((({dx:n,com:o,x0:s,x1:a})=>{if(o.id!==r.id){const o=n-e;if(Math.abs(o)<d)return b.forEach((e=>{e.disX.forEach((({dx:e,com:t,y2:i,x0:o,x1:r})=>{n===e&&!m.find((({x0:e,x1:t})=>e===o||t===r))&&r>o&&m.push({y2:i,x0:o,x1:r})}))})),void 0===f&&(f=t.x>i?t.x-g-n:t.x+t.w+n),!0}}))}let h=a.left;return void 0!==f&&(h=a.suggestLeft=f,v.left=!0,!m.find((({x0:e,x1:t})=>e===o||t===f))&&f>o&&m.push({y2:t.y+t.h/2,x0:o,x1:f})),[{y:n*l,x00:u*l,x0:o*l,x1:s*l,x11:p*l,distanceAry:m.length>=2?m:[]},h]}))}},84457:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(83446),o=n(22811),r=n(50111),s=n(90359),a=n.n(s),l=n(23037),c=n(47716),d=n(52519),u=n(79127),p=n(45761),f=n(92702),m=n(11885);class h{}function g(){var e;const t=(0,i.N7)(c.Z,{from:"parents"}),{context:n,emitItem:g,viewModel:y,mover:b}=t,v=y.style.zoom,x=(0,i.mA)(h,(e=>e({zoom:v})));(0,s.useEffect)((()=>{x.zoom=v}),[v]);const w=(0,s.useRef)(),E=(0,s.useCallback)((e=>{const r=t.selection;if(r){let t,s,a,l,c;const d={};(0,i.qw)(e,(({po:{x:e,y:i},epo:{ex:p,ey:f},dpo:{dx:m,dy:h},adpo:{adx:g,ady:y}},x)=>{var E;if("moving"==x){if(!s){r.coms.forEach((e=>{const t=e.style;d[e.id]={left:t.left,top:t.top}}));const e=n.getComDef({namespace:u.Vm.coms.selection}),i=new u.u5(e);t=r.coms[0].parent,s=t.addComponent(new o.Z(i)),a=s.style;const p=null===(E=w.current)||void 0===E?void 0:E[0];l=a.left=p.left/v,c=a.top=p.top/v,a.width=p.width/v,a.height=p.height/v,setTimeout((e=>{b.show({x:l,y:c},s)}))}let e,i;a.left=l+g/v,a.top=c+y/v,e=a.suggestLeft?a.suggestLeft-l:g/v,i=a.suggestTop?a.suggestTop-c:y/v,r.coms.forEach((t=>{const n=d[t.id],o=t.style;o.left=n.left+e,o.top=n.top+i}))}"finish"==x&&(b.hide(),t&&(t.comAry=t.comAry.filter((e=>e!==s))))}))}}),[v]);if(n.isDebugMode()||n.focusModelAry.length<=0)return;if(t.activePlugin)return;const A=n.focusModelAry.filter((e=>e instanceof o.Z));return w.current=function(e,t,n){const{context:o,viewModel:s,selection:c,getCurModuleSlot:h,isMainModule:g}=e;if(c){if(0===c.coms.length)return;let e,t,i,o;c.coms.forEach((n=>{const{left:r,top:s}=n.style,a=n.$el,l=a.offsetWidth,c=a.offsetHeight;void 0===e?(e=r,t=s,i=e+l,o=t+c):(e=Math.min(r,e),t=Math.min(s,t),i=Math.max(r+l,i),o=Math.max(s+c,o))}));let r=0,s=0;const a=h();return g(a)||(r=a.style.left,s=a.style.top),[{multi:!0,showPo:!1,openedF:!1,width:(i-e)*n,height:(o-t)*n,left:(e+r)*n,top:(t+s)*n,margin:{top:0,right:0,bottom:0,left:0}}]}{let c,h=t[0];if(h&&h.$el&&h.listenForEleChanged(),h&&h.$el&&(c=h.$el)&&h.parent.$el&&!h.state.isMoving()){const t=(0,l.bt)(c,s.canvasTransEle),g=[],y=o.getComDef(h.runtime.def),b=[],v=(0,d.$E)(void 0,h,o);if(v){const e=v[v.length-1];b.push(a().createElement("span",{key:0,className:r.Z.parentBar,onClick:(0,i.Ft)((t=>{e.model.focus(),e.ele.click()})).stop},u.PJ.Return))}if(b.push(a().createElement("span",{key:"my",className:r.Z.comBar,onClick:(0,i.Ft)((()=>{h.state.isOpened()?h.state.openRecover():h.state.open()})).stop,onMouseDown:(0,i.Ft)((t=>{const n={model:h,viewContext:e};(0,p.u)(t,n)})).stop},h.runtime.title||y.title)),h.state.isOpened()&&b.push(a().createElement("span",{key:"opened",className:r.Z.opened,onClick:(0,i.Ft)().stop,onMouseDown:(0,i.Ft)((t=>{const n={model:h,viewContext:e};(0,p.u)(t,n)})).stop},"展开")),h.focusArea){h.focusArea.listenForEleChanged();const{title:e,ele:t,editorPath:o}=h.focusArea;if(t.isConnected){const c=[];if(o){const e=o[o.length-1];c.push(a().createElement("span",{key:0,className:`${r.Z.parentBar} ${r.Z.zoneBar}`,onClick:(0,i.Ft)((t=>{e.model.focus(),e.ele.click()})).stop},u.PJ.Return))}c.push(a().createElement("span",{key:"my",className:r.Z.zoneBar,onClick:(0,i.Ft)().stop},e||"区域"));const d=(0,l.bt)(t,s.canvasTransEle);g.push({showPo:!1,title:c,width:t.offsetWidth*n,height:t.offsetHeight*n,left:Math.round(d.x),top:Math.round(d.y),margin:{top:0,right:0,bottom:0,left:0},get focusPassive(){return h.state.isFocusPassive()}})}}let x;if(y){let t,n;y.editors&&(t=y.editors.view||y.editors,t&&(n=t[f.kU])),"function"==typeof n&&(x=n((0,m.e)({comId:h.id,context:o,model:h,emitItem:e.emitItem,emitMessage:e.emitMessage,emitSnap:e.emitSnap,emitIOCAbout:e.emitIOCAbout})))}const w=Math.max(c.offsetHeight,1),E=h.style,A=E.getMarginTopAsNum(!0),_=E.getMarginBottomAsNum(!0),C=E.getMarginLeftAsNum(!0),I=E.getMarginRightAsNum(!0),M={showPo:h.isStyleLayoutAbsoluteOrFixed(),locked:h.locked,title:b,get focusPassive(){return h.state.isFocusPassive()},openedF:h.state.isOpened(),appendEditorsJSX:x,width:(c.offsetWidth-C-I)*n,height:(w-A-_)*n,left:Math.round(t.x+C),top:Math.round(t.y+A),margin:{top:E.getMarginTopAsNum()*n,right:E.getMarginRightAsNum()*n,bottom:E.getMarginBottomAsNum()*n,left:E.getMarginLeftAsNum()*n}};return g.push(M),g.length>0?g:void 0}}}(t,A,x.zoom),(null===(e=w.current)||void 0===e?void 0:e.length)>0?w.current.map(((e,t)=>{if(e.width>0&&e.height>0){const n=[r.Z.focusBG];return 0===t&&n.push(r.Z.focus),e.openedF&&n.push(r.Z.opened),e.focusPassive&&n.push(r.Z.passive),e.multi&&n.push(r.Z.multi),a().createElement("div",{key:t,className:n.join(" "),style:e?{width:e.width,height:e.height,left:e.left,top:e.top}:void 0,onMouseDown:(0,i.Ft)(E).stop},0===t?a().createElement(a().Fragment,null,a().createElement("div",{className:e&&`${e.margin.top>0?r.Z.margin:r.Z.nMargin} ${r.Z.marginTop}`,style:e?{height:Math.abs(e.margin.top),top:e.margin.top>0?-1*e.margin.top:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.right>0?r.Z.margin:r.Z.nMargin} ${r.Z.marginRight}`,style:e?{width:Math.abs(e.margin.right),right:e.margin.right>0?-1*e.margin.right:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.bottom>0?r.Z.margin:r.Z.nMargin} ${r.Z.marginBottom}`,style:e?{height:Math.abs(e.margin.bottom),bottom:e.margin.bottom>0?-1*e.margin.bottom:0}:void 0}),a().createElement("div",{className:e&&`${e.margin.left>0?r.Z.margin:r.Z.nMargin} ${r.Z.marginLeft}`,style:e?{width:Math.abs(e.margin.left),left:e.margin.left>0?-1*e.margin.left:0}:void 0}),a().createElement("div",{className:r.Z.itemTitle},a().createElement("div",{className:r.Z.titleBar},null==e?void 0:e.title))):null,a().createElement("div",{style:{visibility:e.focusPassive?"hidden":"visible"}},e.appendEditorsJSX))}})):void 0}},28136:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(87592),o=n(90359),r=n.n(o),s=n(83446),a=n(79127),l=n(82813),c=n(72014),d=n(47716),u=n(59501);function p(){var e;const t=(0,s.N7)(d.Z,{from:"parents"}),{context:n,viewModel:p,emitFrame:f,emitItem:m,emitMessage:h,focusArtboard:g,emitScenes:y,getCurModuleSlot:b}=t,v=n.isDebugMode(),x=n.configs,w=(0,s.vc)((()=>{const e=x.plugins;if(e&&Array.isArray(e)){const n=[];return e.forEach(((e,o)=>{var s,a,l;const c=null===(a=null===(s=null==e?void 0:e.contributes)||void 0===s?void 0:s.geoView)||void 0===a?void 0:a.appender;if(c){const o="object"==typeof c.icon?c.icon:c.title;n.push(r().createElement("div",{key:e.name,className:`${i.Z.tab} ${(null===(l=t.activePlugin)||void 0===l?void 0:l.name)===e.name?i.Z.active:""}`,onClick:t=>E(t,e),"data-mybricks-tip":`{content:'${e.title}',position:'left'}`},r().createElement("span",null,o)))}})),n.length>0?r().createElement("div",{className:i.Z.btnGroup},r().createElement("div",{key:"home",className:`${i.Z.tab} ${t.activePlugin?"":i.Z.active}`,onClick:e=>E(e,"desn"),"data-mybricks-tip":"{content:'设计视图',position:'left'}"},r().createElement("span",null,a.PJ.home)),n):null}})),E=(0,o.useCallback)(((e,i)=>{if(t.clearPops(),"object"==typeof i)t.activePlugin=i;else if(t.activePlugin=void 0,"desn"===i)n.setModeDesn();else if(v)n.setModeDesn();else{m.focus(void 0),requestAnimationFrame((e=>{n.setModeDebug()}))}}),[v]),A=x.geoView.scenes,_=x.pageMetaLoader,C=(0,o.useCallback)((()=>{t.showNavPanel=!t.showNavPanel}),[]),I=null===(e=x.geoView.nav)||void 0===e?void 0:e.float;return r().createElement(r().Fragment,null,!(null==A?void 0:A.adder)&&!_||v?null:r().createElement(u.Z,{gvCtx:t}),r().createElement("div",{className:i.Z.toolbar},x.toplView?r().createElement("div",{className:`${i.Z.btnGroup}`},r().createElement("div",{className:`${i.Z.icon} ${v?i.Z.debug:""}`,onClick:e=>E(e),"data-mybricks-tip":`{content:'${v?"返回设计":"调试"}',position:'left'}`},r().createElement("span",null,c.fF),v?r().createElement("span",null,c.Xw):null)):null,w,r().createElement("div",{className:i.Z.normalbar},I?r().createElement("div",{className:`${i.Z.btnGroup} ${i.Z.showNav}\n                ${t.showNavPanel?i.Z.showNavActive:""}\n                ${v?i.Z.showNavDisable:""}\n                `,"data-mybricks-tip":"{content:'组件',position:'left'}"},r().createElement("button",{onClick:(0,s.Ft)(C).stop},a.PJ.Coms)):null,r().createElement("div",{className:`${i.Z.btnGroup} ${i.Z.zoom}`},r().createElement("button",{onClick:(0,s.Ft)((e=>function(e){const{viewModel:t}=e,n=t.style;.13===n.zoom?n.zoom=.25:n.zoom<1?n.zoom+=.25:n.zoom<8&&(n.zoom+=1)}(t))).stop,"data-mybricks-tip":"{content:'放大画布',position:'left'}"},"+"),r().createElement("div",{className:i.Z.zoomInfo},100*p.style.zoom,"%"),r().createElement("button",{onClick:(0,s.Ft)((e=>function(e){const{viewModel:t}=e,n=t.style;n.zoom>.25?n.zoom>1?n.zoom-=1:n.zoom-=.25:n.zoom=.13}(t))).stop,"data-mybricks-tip":"{content:'缩小画布',position:'left'}"},"-")))),r().createElement(l.Z,null))}},82813:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(52519),o=n(23841),r=n(90359),s=n.n(r),a=n(83446),l=n(22811),c=n(47716);function d(){const e=(0,a.N7)(c.Z,{from:"parents"}),{context:t,viewModel:n,getCurModuleSlot:r,emitItem:d}=e,p=r();if(!p)return;const f=[s().createElement(u,{key:"home",type:"page",model:p,title:t.isDesnModeOfBluePrint()?"母版":p.title,emitItem:d})],m=t.focusModelAry.filter((e=>e instanceof l.Z));let h,g;if(m&&(h=m[0],h&&h.$el&&h.runtime)){const e=t.getComDef(h.runtime.def);if(!h.locked&&h.focusArea){const{title:e,ele:t,editorPath:n}=h.focusArea;n&&n.forEach((({type:e,model:t,title:n,ele:i},o)=>{f.push(s().createElement(u,{key:o,type:e,model:t,ele:i,title:n}))})),f.push(s().createElement(u,{key:"my",type:"zone",model:h,ele:t,title:e||"区域",focused:!0}))}else g=(0,i.$E)(void 0,h,t),g&&g.forEach((({type:e,title:n,ele:i,model:o},r)=>{const a=!o.runtime.isBluePrint||t.isDesnModeOfBluePrint();f.push(s().createElement(u,{key:r,model:o,ele:i,type:e,handlable:a,title:n||"未命名"}))})),f.push(s().createElement(u,{key:"my",type:"com",model:h,ele:h.$el,title:h.runtime.title||e.title,focused:!0}))}const y=t.configs,b=y.geoView.scenes,v=y.pageMetaLoader,x=(null==b?void 0:b.adder)||v;return s().createElement("ul",{className:o.Z.navBar,style:{display:t.isDebugMode()?"none":"",left:x?73:23}},f)}function u({type:e,model:t,ele:n,title:i,handlable:r,emitItem:l,focused:c}){const d=!1===r?{}:{"data-handlable":!0};return s().createElement("li",Object.assign({className:c?`${o.Z[e]}`:""},d,{onClick:(0,a.Ft)((i=>{d["data-handlable"]&&("page"===e?l.focus(t):t&&(t.focus(),n.click()))})).stop}),s().createElement("span",null,i||"(未定义)"),s().createElement("svg",{width:"10",height:"25"},s().createElement("path",{d:"M 0 0 L 8 13 L 0 27"})))}},73605:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(90359),o=n.n(i),r=n(54415),s=n(24318),a=n(49156),l=n(83446),c=n(79127),d=n(87073),u=n(72014),p=n(4910);let f;function m({scenesCtx:e}){f=e;const{gvCtx:t}=e;if(f.openRefEle)return(0,s.createPortal)(o().createElement(h,null),t.viewEle.parentElement)}function h(){var e;const{gvCtx:t}=f,{viewModel:n,context:s,emitScenes:m,emitModule:h,emitItem:g}=t,[y,b]=(0,i.useState)(""),v=(0,i.useCallback)((e=>{s.popMenu((({close:e})=>(0,a.S)({close:e,finish({id:e,title:n,type:i,slot:o,frame:r}){t.showPageNav=!1,f.newScene({id:e,title:n,type:i,slot:o,frame:r})}},t)),e.target,{position:"right"})}),[]),x=(0,i.useCallback)((e=>{t.showPageNav=!1,f.hasScene(e.id)?(g.blur(),t.focusArtboard(e.id)):m.load(e.id).then((()=>{g.blur(),t.focusArtboard(e.id)}))}),[]),w=(0,i.useCallback)(((e,n,i)=>{const o=s.getComDef({namespace:c.Vm.coms.module}),r=new c.Bn(o,{title:n.title,slotId:n.id});"click"===i?(0,d.MT)(o,{gvCtx:t,seedModel:r}):"drag"===i&&(0,d.hI)(o,e,{gvCtx:t,seedModel:r,start(){t.showPageNav=!1}})}),[]),E=(0,i.useMemo)((()=>{if(!t.showPageNav)return;const e=h.getAll();if(e){const t=e.map((e=>{const t=n.slots.find((t=>t.id==e.id));let i;return t&&t.isOpening()&&(i=n.curArtboardId===t.id),o().createElement("div",{key:e.id,className:`${r.Z.com} ${t?r.Z.editing:""} ${i?r.Z.focused:""}`,onClick:(0,l.Ft)((t=>w(t,e,"click"))).stop,onMouseDown:(0,l.Ft)((t=>w(t,e,"drag"))).stop,title:"将组件点击或拖拽到画布"},o().createElement("div",{className:r.Z.icon},c.PJ.Module),o().createElement("div",{className:r.Z.title},e.title))}));if(t.length>0)return t}}),[t.showPageNav]);null===(e=s.configs.geoView.nav)||void 0===e||e.float;let A;const _=t.showPageNav;return o().createElement("div",{className:`${r.Z.pageNav} ${_?"":r.Z.hidden}`,style:{left:_?_.x:""},onClick:(0,l.Ft)().stop},o().createElement("div",{className:r.Z.titleBar},o().createElement("span",null,"场景"),o().createElement("div",{className:r.Z.btns},o().createElement("button",{onClick:(0,l.Ft)((e=>v(e))).stop,"data-mybricks-tip":"{content:'新建场景、对话框等',position:'right'}"},"+"))),E?o().createElement("div",{className:r.Z.coms},E):null,o().createElement("div",{className:r.Z.pages},f.getSceneAry().map((e=>{if((""===y||-1!==e.title.indexOf(y))&&!e._deleteTime){const t=n.slots.find((t=>t.id==e.id));let i,s;return t&&t.isOpening()&&(i=n.curArtboardId===t.id,i&&(A=t)),e.type&&"scene"!==e.type?"popup"===e.type?s=u.GI:"module"===e.type&&(s=c.PJ.Module):s=u.xs,o().createElement("div",{key:e.id,className:`${r.Z.page} ${t?r.Z.editing:""} ${i?r.Z.focused:""}`,onClick:t=>x(e)},o().createElement("span",{className:r.Z.icon},s),o().createElement("span",null,e.title))}}))),A?o().createElement("div",{className:r.Z.curTitle},A.title," 的大纲"):null,o().createElement("div",{className:r.Z.outline},o().createElement(p.Z,null)))}},59501:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(83446),s=n(87592),a=n(73605),l=n(52899);function c({gvCtx:e}){const t=(0,r.mA)(l.Z,(t=>{t({gvCtx:e})})),n=(0,i.useCallback)((n=>{const{context:i}=e;i.configs;t.showNav(n.target)}),[]);return o().createElement(o().Fragment,null,o().createElement("div",{className:`${s.Z.btnGroup} ${s.Z.addModule}`,"data-mybricks-tip":"{content:'导航',position:'right'}"},o().createElement("button",{onClick:(0,r.Ft)((e=>n(e))).stop},"#")),o().createElement(a.Z,{scenesCtx:t}))}},52899:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(23037);class o{showNav(e){this.openRefEle=e;const t=(0,i.bt)(e,this.gvCtx.viewEle);this.gvCtx.showPageNav=t,this.gvCtx.context.registerBlur((()=>{this.gvCtx.showPageNav=!1}))}get pageMetaModel(){return this.gvCtx.context.pageMetaModel}hasScene(e){const{viewModel:t}=this.gvCtx;if(t.slots.some((t=>t.id==e)))return!0}newScene(e){this.pageMetaModel&&this.pageMetaModel.addPage(e)}getComAry(){var e;if(!this.pageMetaModel){const t=null===(e=this.gvCtx.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(e.isTypeOfDefinedCom())return{id:e.id,title:e.title}})).filter((e=>e)):[]}}getModuleAry(){var e;if(!this.pageMetaModel){const t=null===(e=this.gvCtx.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(e.isTypeOfModule())return{id:e.id,title:e.title}})).filter((e=>e)):[]}}getSceneAry(){var e;if(this.pageMetaModel)return this.pageMetaModel.getPageAry();{const t=null===(e=this.gvCtx.viewModel)||void 0===e?void 0:e.slots;return t?t.map((e=>{if(!e.isTypeOfDefinedCom()&&!e.isTypeOfModule()){let t;return t=e.isShowTypeOfPopup()?"popup":e.isTypeOfModule()?"module":"scene",{id:e.id,title:e.title,type:t}}})).filter((e=>e)):[]}}}},49156:(e,t,n)=>{n.d(t,{S:()=>l});var i=n(83446),o=n(79127),r=n(87592),s=n(90359),a=n.n(s);function l({close:e,finish:t},n){var s;const{context:l,viewModel:c,focusArtboard:d,emitSnap:u}=n,p=l.configs.geoView.scenes;function f(r){let s;if(l.pageMetaModel){const e=l.pageMetaModel.getAllPageLength();s=`${r.title}${e+1}`}else s=`${r.title}${c.slots.length}`;const{id:a,slot:u,frame:p}=function(e,t,n,r){const{context:s,viewModel:a,emitFrame:l,emitItem:c,emitMessage:d,focusArtboard:u,emitScenes:p,getCurModuleSlot:f}=r;n();const m=f(),h=null==m?void 0:m.style,g=(0,i.Vj)();let y,b;if("popup"===e.type){if(e.template&&e.template.namespace){if(!s.getComDef({namespace:e.template.namespace}))return void d.error(`未找到模板组件（namespace=${e.template.namespace}).`)}y=a.addSlot({id:g,title:t,showType:"popup",template:e.template,style:{left:(null==h?void 0:h.left)||0,top:(null==h?void 0:h.top)||0},deletable:!0}),b=l.bindFrame({id:g,title:t,type:"popup",inputs:[{id:"open",title:"打开",schema:{type:"object",editable:!0}}],outputs:[{id:"commit",title:"确定",schema:{type:"follow"}},{id:"cancel",title:"取消",schema:{type:"any"}},{id:"apply",title:"应用",schema:{type:"follow"}}]})}else if("normal"===e.type){y=a.addSlot({id:g,title:t,template:e.template,style:{left:(null==h?void 0:h.left)||0,top:(null==h?void 0:h.top)||0},deletable:!0}),e.layout&&(y.style.layout=e.layout);let n=[];Array.isArray(e._inputs)&&(n=e._inputs);let i=[];i=Array.isArray(e.events)?e.events:o.Io,b=l.bindFrame({id:g,title:t,inputs:[{id:"open",title:"打开",schema:{type:"object",editable:!0}}],_inputs:n,events:i})}return{id:g,slot:y,frame:b}}(r,s,e,n);t&&t({id:a,title:s,type:r.type,slot:u,frame:p}),requestAnimationFrame((()=>{d(a)}))}return a().createElement("div",{className:r.Z.popMenu},null===(s=p.adder)||void 0===s?void 0:s.map(((e,t)=>a().createElement("div",{key:t,onClick:t=>{f(e)}},e.title))),a().createElement("div",{className:r.Z.sper}),a().createElement("div",{onClick:function(){let o;if(l.pageMetaModel){o=`模块${l.pageMetaModel.getAllPageLength()+1}`}else o=`模块${c.slots.length}`;const r=u.start(`添加模块 ${o}`,{target:c}),{id:s,slot:a,frame:p}=function(e,t,n){var o;const{context:r,viewModel:s,emitFrame:a,emitItem:l,emitModule:c,getCurModuleSlot:d}=n;t();const u=d(),p=null==u?void 0:u.style,f=(0,i.Vj)();let m,h;m=s.addSlot({id:f,title:e,type:"module",style:{left:(null==p?void 0:p.left)||0,top:(null==p?void 0:p.top)||0},deletable:!0});const g=null===(o=r.configs.geoView.module)||void 0===o?void 0:o.width;void 0!==g?m.style.width=g:m.style.widthType="100%";return m.style.heightType="fit-content",h=a.bindFrame({id:f,title:e,type:"module"}),c.register(f,{slot:m,frame:h}),{id:f,slot:m,frame:h}}(o,e,n);r.commit(),t&&t({id:s,title:o,type:"com",slot:a,frame:p}),requestAnimationFrame((()=>{d(s)}))}},"模块"))}},18338:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(68232),o=n(90359),r=n.n(o),s=n(23037),a=n(83446),l=n(47716);function c(){const e=(0,a.N7)(l.Z,{from:"parents"}),{context:t,hoverModel:n,viewModel:o}=e;if(t.isDebugMode()||!n)return;if(e.activePlugin)return;const c=function(e,t){const{hoverModel:n,viewModel:i}=e;let o;if((o=n)&&o&&!o.hadDestroyed()&&o.$el&&!o.locked&&o.parent.$el&&!o.state.isMoving()&&!o.state.isResizing()){o.listenForEleChanged();const e=o.$el,n=o.isVisibleNow();if(e&&n){const n=o.style,r=(0,s.bt)(e,i.canvasTransEle),a=n.getMarginTopAsNum(!0),l=n.getMarginBottomAsNum(!0),c=n.getMarginLeftAsNum(!0),d=n.getMarginRightAsNum(!0);return{title:o.runtime.title,width:(e.offsetWidth-c-d)*t,height:(e.offsetHeight-a-l)*t,left:Math.round(r.x+c),top:Math.round(r.y+a),margin:{top:n.marginTop||0,right:n.marginRight||0,bottom:n.marginBottom||0,left:n.marginLeft||0}}}}return{margin:{top:0,right:0,bottom:0,left:0}}}(e,o.style.zoom);return c.title?r().createElement("div",{className:i.Z.hover,key:"hover-mask",style:c.width?{width:c.width,height:c.height,transform:`translateX(${c.left}px) translateY(${c.top}px)`}:void 0},r().createElement("div",{className:i.Z.itemTitle},c.title||"无标题")):null}},57885:(e,t,n)=>{n.d(t,{Ht:()=>c.Z,TM:()=>r.Z,TO:()=>o.Z,Y1:()=>s.Z,bw:()=>u.Z,lL:()=>l.Z,o3:()=>a.Z,oA:()=>i.Z,rb:()=>d.Z});var i=n(88632),o=n(84457),r=n(18338),s=n(71893),a=n(97230),l=n(80929),c=n(18980),d=n(28136),u=(n(36865),n(96494),n(91709))},54524:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(23037),o=n(85751),r=n(63076),s=n(90359),a=n.n(s);function l({note:e,noteCtx:t}){const n=t.viewCtx.context.focusOn(e);if(!e.refPo&&!n)return;let s=e.refPo;if(!s&&e.refComId){const{viewModel:n}=t.viewCtx,o=n.searchCom(e.refComId);if(o){const e=(0,i.bt)(o.$el,n.canvasTransEle);s={x:e.x+e.w-10,y:e.y}}else s=void 0}if(s){const t=e.position,{width:n,height:i,left:l,top:c,stPo:d,lines:u}=(0,o.K)(s,{x:t.x-30,y:t.y});return a().createElement("svg",{className:r.Z.conToRef,style:{left:l,top:c,width:n+30,height:i+10}},a().createElement("polyline",{points:u,fill:"none"}),a().createElement("circle",{cx:d.left,cy:d.top,r:"3"}))}}},80235:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(5410),s=n(63076),a=n(83446),l=n(54524);function c({note:e,noteCtx:t}){const{viewCtx:n}=t;(0,i.useMemo)((()=>{e.getConfigs=()=>(0,r.Z)(e,t)}),[]);const c=(0,i.useCallback)((()=>{n.emitItem.focus(e)}),[]),{position:d}=e;if(!d)return;const u=e._focused,p=(0,i.useMemo)((()=>{let e;const n=[],i=t.viewCtx.context.getPluginAry();return i&&i.forEach((e=>{var t,i;const o=null===(i=null===(t=e.contributes)||void 0===t?void 0:t.geoView)||void 0===i?void 0:i.note;"default"===(null==o?void 0:o.type)&&"function"==typeof o.render&&n.push(e)})),n.length>0&&(e=n[0]),e}),[]),f=(0,a.vc)((()=>{var i,r,s;return p?null===(s=null===(r=null===(i=p.contributes)||void 0===i?void 0:i.geoView)||void 0===r?void 0:r.note)||void 0===s?void 0:s.render({get data(){return n.context.getPluginData(p.name)},noteId:e.id,get noteViewDom(){return t.viewEle},deleteNote(){const t=n.emitSnap.start("remove note",{target:e});n.viewModel.removeNote(e.id),n.emitItem.focus(void 0),t.commit()}}):o().createElement("div",null,"未找到插件")}));return o().createElement(o().Fragment,null,o().createElement("div",{className:`${s.Z.note} ${u?s.Z.focus:""}`,style:{left:d.x,top:d.y},onClick:(0,a.Ft)(c).stop},o().createElement("div",{className:s.Z.title,onMouseDown:(0,a.Ft)((t=>function(e,t,n){(0,a.qw)(e,(({po:{x:e,y:n},epo:{ex:i,ey:o},dpo:{dx:r,dy:s}},a)=>{"moving"==a&&(t.position.x+=r,t.position.y+=s)}))}(t,e))).stop},o().createElement("span",{className:s.Z.label},"[",e.label,"]"),o().createElement("span",{className:s.Z.tt},e.title?`${e.title}`:"未标题")),o().createElement("div",{className:s.Z.items},f)),o().createElement(l.Z,{note:e,noteCtx:t}))}},44051:(e,t,n)=>{n.d(t,{Z:()=>i});class i{get curLabel(){return this._maxLabel||(this._maxLabel=this.viewCtx.viewModel.notes.length),String(++this._maxLabel)}createNote(){const e=this.tempNote;if(e){const t=this.viewCtx.viewModel;return t.addNote(e),this.tempNote=void 0,t.notes[t.notes.length-1]}}}},5410:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(79127),o=n(63971),r=n(90359),s=n.n(r),a=n(23037);function l(e,t){const{viewCtx:n}=t,r=new i.Af.Category("笔记"),l=new i.Af.Group;return r.addGroup(l),l.addItem((()=>s().createElement("div",{className:o.Z.item},"创建于  ",(0,a.p6)(e.createTime,"YYYY-mm-dd HH:MM:SS")))),[r]}},88632:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(98440),o=n(63076),r=n(90359),s=n.n(r),a=n(83446),l=n(44051),c=n(47716),d=n(53626),u=n(22811),p=n(80235),f=n(54524),m=n(23037);function h(){const{context:e,viewModel:t,emitItem:n}=(0,a.N7)(c.Z,{from:"parents"}),o=(0,a.N7)(c.Z,{from:"parents"}),f=(0,a.mA)(l.Z,(e=>e({viewCtx:o})),{to:"children"}),h=(0,r.useCallback)((e=>{const{style:t,canvasWrapEle:n}=f.viewCtx.viewModel,i=(0,m.bt)(n),o=e.clientX-i.x-t.left,r=e.clientY-i.y-t.top;f.tempNote.refPo={x:o,y:r}}),[]),y=(0,r.useCallback)((e=>{setTimeout((e=>{const t=f.viewCtx.context.focusModel;t&&t instanceof u.Z||(f.tempNote=void 0)})),b()}),[]),b=(0,r.useCallback)((()=>{f.viewEle.parentElement.removeEventListener("mousemove",h),f.viewEle.parentElement.removeEventListener("click",y)}),[]);(0,r.useEffect)((()=>{const e=e=>{!function(e,t){if(!t.viewCtx.context.isDebugMode()){const{style:n,canvasWrapEle:i}=t.viewCtx.viewModel,o=(0,m.bt)(i),r=e.clientX-o.x-n.left,s=e.clientY-o.y-n.top;t.tempNote=new d.Z({position:{x:r,y:s}})}}(e,f)};return f.viewEle&&o.viewModel.canvasWrapEle.addEventListener("dblclick",e),()=>{o.viewModel.canvasWrapEle.removeEventListener("dblclick",e)}}),[]),(0,r.useEffect)((()=>{f.tempNote&&(f.viewEle.parentElement.addEventListener("mousemove",h),f.viewEle.parentElement.addEventListener("click",y))}),[f.tempNote]),(0,r.useEffect)((()=>{const e=f.tempNote;if(e){const t=f.viewCtx.context.focusModel;if(t&&t instanceof u.Z)if(b(),e.refPo=void 0,t.noteLabel)f.tempNote=void 0,o.emitMessage.warn("已存在该组件的评论.");else{e.refComId=t.id;const n=f.curLabel;t.noteLabel=n,e.label=n,e.title=t.runtime.title;const i=f.createNote();setTimeout((e=>{o.emitItem.focus(i)}))}}}),[f.tempNote,e.focusModel]);const v=(0,a.vc)((()=>{var e;if((null===(e=o.viewModel.notes)||void 0===e?void 0:e.length)>0)return o.viewModel.notes.map((e=>s().createElement(p.Z,{key:e.id,note:e,noteCtx:f})))}));return s().createElement("div",{className:i.Z.noteView,ref:e=>{e&&(f.viewEle=e)}},v,s().createElement(g,null))}function g(){const e=(0,a.N7)(l.Z,{from:"parents"}),t=e.tempNote;if(t){const{position:n}=t;return s().createElement(s().Fragment,null,s().createElement("div",{className:o.Z.note,style:{left:n.x,top:n.y}},s().createElement("div",{className:o.Z.items})),s().createElement(f.Z,{note:t,noteCtx:e}))}}},85751:(e,t,n)=>{function i(e,t){const n=e.x+5,i=e.y+5,o=t.x+5,r=t.y+5,s=Math.min(n,o),a=Math.min(i,r),l=Math.round(Math.abs(n-o)),c=Math.round(Math.abs(i-r)),d=Math.round(Math.min(l,c));let u,p={},f={};return r<i?o>n?(u=`5,${c+5} ${d+5},${c-d+5} ${l+5},4.5 ${l+25},4.5`,p={left:5,top:c+5},f={left:l+5,top:5}):(u=`5,5 ${l-d+5},${c-d+5} ${l+5},${c+5} ${l+25},${c+5}`,p={left:l+5,top:c+5},f={right:l,top:0}):o>n?(u=`5,5 ${d+5},${d+5} ${l+5},${c+4.5} ${l+25},${c+4.5}`,p={left:5,top:5},f={left:l,top:c}):(u=`5,${c+5} ${l-d+5},${d+5} ${l+5},4.5 ${l+25},4.5`,p={left:l+5,top:5},f={right:l,top:c}),{left:s,top:a,width:l,height:c,lines:u,stPo:p,ctPo:f}}n.d(t,{K:()=>i})},36865:(e,t,n)=>{n(79127),n(15511),n(90359),n(83446),n(47716),n(11885)},91709:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(13104),o=n(90359),r=n.n(o),s=n(83446),a=n(47716),l=n(23037);function c(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{setTimeout((()=>{t(!0)}),100)}),[]),e?r().createElement(d,null):null}function d(){const e=(0,s.N7)(a.Z,{from:"parents"}),{viewModel:t,context:n,getCurModuleSlot:c}=e,[d,f]=(0,o.useState)();return(0,s.vc)((()=>{const o=c();if(t.canvasWrapEle&&o&&o.$el){let s;if(n.isDebugMode()?s=t.$elForDebugCanvas:o&&(s=o.$el),!s||0===s.offsetWidth)return d;const a=t.style,c=o.style,m=s.offsetWidth,h=(0,l.bt)(s,t.canvasWrapEle),g=a.left||0,y=c.left||0,b=(m*a.zoom-3e3)/2+(g-g)+(y-y)+(h.x||0),v=h.y+(a.top-a.top),x=s.offsetHeight;f(r().createElement(r().Fragment,null,r().createElement("div",{className:i.Z.ruleH,style:{transform:`translateX(${b}px) scaleX(${a.zoom})`}},r().createElement(p,{gvCtx:e})),r().createElement("div",{className:i.Z.ruleV},r().createElement("div",{className:`${i.Z.now} ${n.isDesnModeOfBluePrint()?i.Z.blueprintBG:""}`,style:{height:x,transform:`translateY(${v}px) scaleY(${a.zoom})`}},r().createElement(u,{gvCtx:e})))))}else f(null)})),d}function u({gvCtx:e}){const{viewModel:t,context:n,getCurModuleSlot:s}=e,a=t.getMainModuleSlot(),l=n.configs.geoView,c=l.type,d=(s()||a).$el.offsetHeight,u=(0,o.useCallback)((e=>{a.style.height=a.$el.offsetHeight+e}),[]),p={transform:`scaleY(${1/t.style.zoom})`};let f=!1;(void 0===l.height||"object"==typeof l.height&&l.height.editable)&&(f=!0);const m=l.rulers,h=void 0===m||m;return r().createElement(r().Fragment,null,r().createElement("label",{style:p},d),"pc"===c&&h&&f?r().createElement("div",{className:i.Z.append,onClick:e=>u(200)},r().createElement("label",{style:p},"+200")):null,"mobile"===c?r().createElement("div",{className:i.Z.firstScreen,style:{top:d}},r().createElement("div",{className:i.Z.line})):null)}function p({gvCtx:e}){const{viewModel:t,context:n,getCurModuleSlot:a,emitSnap:l}=e,c=t.getMainModuleSlot(),d=a()||c,u=d.style,p=d.hasRootTemplate(),[f,m]=(0,o.useState)(0);(0,o.useEffect)((()=>{let e=d.$el.offsetWidth;n.isDebugMode()&&t.$elForDebugCanvas&&(e=t.$elForDebugCanvas.offsetWidth),m(e)}),[d,u.width,n.isDebugMode()]);const h=t.style,g=c.style,y={borderWidth:2/h.zoom},b={transform:`scaleX(${1/h.zoom})`},v=(0,o.useCallback)((e=>{const n=u.width-e;u.width=e,m(e),(0,s.vq)((({ary:e,bat:i,updateAll:o})=>{void 0!==u.left?u.left+=n*t.style.zoom/2:u.left=n*t.style.zoom/2,requestAnimationFrame(o)}))}),[d]),x=n.configs.geoView,w=x.type,E=n.isDesnModeOfBluePrint(),A=i.Z.now+(E?` ${i.Z.blueprintBG}`:""),_=x.rulers,C=void 0===_||_,I=void 0===x.width;if(C){if(!p&&"pc"===w&&I){const e=String(f).match(/3000|1440|1280|1024|768|414/g);return r().createElement(r().Fragment,null,r().createElement("div",{className:`${i.Z._full} ${3e3===f?A:""}`,style:y,onClick:e=>v(3e3)},r().createElement("label",{style:b},"超宽")),r().createElement("div",{className:`${i.Z._1440} ${1440===f?A:""}`,style:y,onClick:e=>v(1440)},r().createElement("label",{style:b},"1440")),r().createElement("div",{className:`${i.Z._1280} ${1280===f?A:""}`,style:y,onClick:e=>v(1280)},r().createElement("label",{style:b},"1280")),r().createElement("div",{className:`${i.Z._1024} ${1024===f?A:""}`,style:y,onClick:e=>v(1024)},r().createElement("label",{style:b},"1024")),r().createElement("div",{className:`${i.Z._768} ${768===f?A:""}`,style:y,onClick:e=>v(768)},r().createElement("label",{style:b},"768")),r().createElement("div",{className:`${i.Z._414} ${414===f?A:""}`,style:y,onClick:e=>v(414)},r().createElement("label",{style:b},"手机 (414）")),e?null:r().createElement("div",{className:A,style:Object.assign(Object.assign({},y),{width:f})},r().createElement("label",{style:b},g.width)))}return r().createElement("div",{className:A,style:Object.assign(Object.assign({},y),{width:f})},r().createElement("label",{style:b},f))}}},80929:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(83446),o=n(47716),r=n(90359);function s(){const e=(0,i.N7)(o.Z,{from:"parents"}),{viewModel:t,context:n,cssCanvas:s}=e,a=(t.style,n.configs.geoView,[]);return n.isDesnModeOfBluePrint()&&a.push(r.createElement("div",{key:"master",className:s.blueprint},r.createElement("span",{className:s._0},"母版"),r.createElement("span",{className:s._1},"母版"),r.createElement("span",{className:s._2},"母版"),r.createElement("span",{className:s._3},"母版"))),a}},71893:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(83446),s=n(47716),a=n(97796),l=n(23037);function c(){const e=(0,r.N7)(s.Z,{from:"parents"}),{selection:t,viewModel:n,getCurModuleSlot:i,isMainModule:c}=e;n.style.zoom;let d;if(t&&t.justNow){const e=i(),{from:r,to:s}=t;let u=0,p=0,f=r.x,m=s.x,h=r.y,g=s.y;if(!c(e)){const t=(0,l.bt)(e.$el,n.$el);u=t.x,p=t.y,f=r.x+u,m=s.x+u,h=r.y+p,g=s.y+p}const y=Math.min(f,m),b=Math.max(f,m)-y,v=Math.min(h,g),x=Math.max(h,g)-v;d=o().createElement("div",{className:a.Z.zone,style:{left:y,top:v,width:b,height:x}})}return o().createElement("div",null,d)}},96494:(e,t,n)=>{n(83446),n(47716)},97230:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(47716),r=n(23037),s=n(84937),a=n(90359);const l=110;function c(){const e=(0,i.N7)(o.Z,{from:"parents"}),{viewModel:t,context:n,cssCanvas:c}=e,[d,u]=(0,i.vc)((()=>{if(e.artboardMoving){const{id:n,offsetX:i,offsetY:o}=e.artboardMoving,c=[],d={};return t.slots.forEach(((e,u)=>{if(e.id===n){const n=(0,r.bt)(e.$el,t.canvasWrapEle);d.left=n.x-u*l+i,d.top=n.y+o-20}c.push(a.createElement("div",{className:`${s.Z.thumb} ${e.id===n?s.Z.cur:""}`,key:u},e.title))})),[c,d]}return[]})),p=(0,i.vc)((()=>{if(e.artboardMoving){const n=e.artboardMoving,{id:i,adx:o,ady:r}=n,c=t.slots.findIndex((e=>e.id===i)),d=c*l+o,u={};return n.curIndex=void 0,t.slots.find(((e,t)=>d>=t*l&&d<t*l+l/2?(u.left=t*l-2.5,void(c!==t&&(n.curIndex=t))):d>=t*l+l/2&&d<(t+1)*l?(u.left=(t+1)*l-2.5,void(c!==t&&(n.curIndex=t+1))):void 0)),d<=0?(u.left=-2.5,0!==c&&(n.curIndex=0)):d>t.slots.length*l&&(u.left=t.slots.length*l-2.5,c!==t.slots.length-1&&(n.curIndex=t.slots.length)),a.createElement("div",{className:s.Z.placeholder,style:u})}}));if(e.artboardMoving)return a.createElement("div",{className:s.Z.thumbs,style:u},d,p)}},6471:(e,t,n)=>{n.d(t,{d:()=>o});var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function o(){return i(this,void 0,void 0,(function*(){const e=function(e){const t=[];for(const n of Array.from(e)){if(n.href)continue;const e=n.cssRules||n.rules||"";if(0!==e.length)for(const n of e)n instanceof CSSMediaRule&&t.push(n)}return t}([...yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelectorAll("link"),t=[];for(const n of e)"stylesheet"===n.rel&&t.push(n.href);return yield Promise.all(t.map((e=>fetch(e).then((e=>e.text())).then((e=>{const t=new CSSStyleSheet;return t.replaceSync(e),t})).catch((e=>{console.error("Error loading external CSS file:",e)})))))}))}(),...Array.from(document.styleSheets)]),t={DESKTOP:[],TABLET:[],MOBILE:[]};return e.forEach((e=>{if(e.conditionText){const n=e.conditionText.match(/max-width:\s*(.*)px\)/);if(n&&n.length>=2){parseInt(n[1])<=575&&t.MOBILE.push(e)}const i=e.conditionText.match(/min-width:\s*(.*)px\)/);if(i&&i.length>=2){parseInt(i[1])>=768&&t.DESKTOP.push(e)}}})),t}))}},60753:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(30276),o=n(90359),r=n(92702),s=n(90359);function a(e,t){return s.createElement(l,{slotModel:e,geoCtx:t})}function l({slotModel:e,geoCtx:t}){var n,a;const{context:l,viewModel:c}=t,d=e.style,u=l.configs.geoView,[p,f]=(0,o.useState)(!0),m=d.widthType||(null===(n=u.custom)||void 0===n?void 0:n.width),h=d.heightType||(null===(a=u.custom)||void 0===a?void 0:a.height),g=(0,o.useCallback)((([t,n,i])=>{var o,s,a;t&&(d.deviceType=t),n&&(d.widthType=n,"fit-content"===n&&(d.width=void 0)),i&&(d.heightType=i,"fit-content"===i&&(d.height=void 0));const l=d.deviceType||(null===(o=u.custom)||void 0===o?void 0:o.device),c=d.widthType||(null===(s=u.custom)||void 0===s?void 0:s.width),m=d.heightType||(null===(a=u.custom)||void 0===a?void 0:a.height);"mobile"===l?"100%"===c?d.width=r.eN:"fit-content"===c&&(d.width=e.$el.offsetWidth):"pc"===l?"100%"===c?d.width=r.ZO:"fit-content"===c&&(d.width=e.$el.offsetWidth):("custom"===c&&(d.width=e.$el.offsetWidth),"custom"===m&&(d.height=e.$el.offsetHeight)),f(!p)}),[p]),y=(0,o.useMemo)((()=>d.layout),[]);return(0,o.useEffect)((()=>{y!==d.layout&&f(!p)}),[d.layout]),e.isTypeOfModule()||e.isTypeOfDefinedCom()?s.createElement(s.Fragment,null,s.createElement("div",{className:i.Z.editor},s.createElement("span",{className:i.Z.tt},"宽度"),s.createElement("select",{value:m,onChange:e=>{g([null,e.target.value,null])}},s.createElement("option",{value:"100%"},"100%"),s.createElement("option",{value:"fit-content"},"适应内容"),s.createElement("option",{value:"custom"},"自定义")),"custom"===m?s.createElement("input",{type:"number",value:d.width,onChange:e=>{d.width=parseInt(e.target.value),f(!p)}}):s.createElement("span",{className:i.Z.desc})),s.createElement("div",{className:i.Z.editor},s.createElement("span",{className:i.Z.tt},"高度"),s.createElement("select",{value:h,onChange:e=>{g([null,null,e.target.value])}},"absolute"!==d.layout?s.createElement("option",{value:"fit-content"},"适应内容"):null,s.createElement("option",{value:"custom"},"自定义")),"custom"===h?s.createElement("input",{type:"number",value:d.height,onChange:e=>{d.height=parseInt(e.target.value),f(!p)}}):s.createElement("span",{className:i.Z.desc}))):s.createElement(s.Fragment,null,s.createElement("div",{className:`${i.Z.editor}`},s.createElement("span",{className:i.Z.tt},"宽度"),s.createElement("input",{type:"number",value:d.width,onChange:e=>{d.width=parseInt(e.target.value),f(!p)}})),s.createElement("div",{className:`${i.Z.editor}`},s.createElement("span",{className:i.Z.tt},"高度"),s.createElement("input",{type:"number",value:d.height,onChange:e=>{d.height=parseInt(e.target.value),f(!p)}})))}},10097:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(59584),o=n(90359),r=n(90359);function s(e,t){const{emitItem:n,emitFrame:i}=t,o=[];!function e(t){t.comAry&&t.comAry.forEach((t=>{const n=t.runtime;n.upgrade&&o.push({title:n.title,version:n.upgrade.version,com:t}),t.slots&&t.slots.forEach((t=>{e(t)}))}))}(e);const s=i.getUpgradeInfo(e.id);if((null==s?void 0:s.length)>0&&o.push(...s),o.length>0)return r.createElement(a,{info:o,geoViewContext:t})}function a({info:e,geoViewContext:t}){const{viewModel:n,emitSnap:s,emitMessage:a,emitItem:l}=t,[c,d]=(0,o.useState)(e),u=c.map((e=>`${e.title}<label>(${e.version})</label>`)).join("、"),p=(0,o.useCallback)((e=>{const t=s.start("升级全部组件",{target:n});try{c.forEach((e=>{const{com:t}=e;l.upgrade(t,void 0,!0,!0)})),t.commit(),a.info(`共有 ${c.length} 个组件升级完成.`),d([])}catch(e){t.cancel()}}),[c]);return c.length>0?r.createElement("div",{className:i.Z.info},r.createElement("div",{className:i.Z.tt},e.length,"个组件可升级"),r.createElement("p",{dangerouslySetInnerHTML:{__html:u}}),r.createElement("button",{onClick:p},"升级全部")):r.createElement("div",{className:i.Z.empty},"当前场景没有可升级的组件")}},98696:(e,t,n)=>{n.d(t,{Z:()=>i});class i{get context(){return this.viewContext.context}get emitLogs(){return this.viewContext.emitLogs}get emitPage(){return this.viewContext.emitPage}get emitMessage(){return this.viewContext.emitMessage}get emitItem(){return this.viewContext.emitItem}get emitVariable(){return this.viewContext.emitVariable}get emitViews(){return this.viewContext.emitViews}get emitPermission(){return this.viewContext.emitPermission}get emitSnap(){return this.viewContext.emitSnap}get emitIOCAbout(){return this.viewContext.emitIOCAbout}}},45761:(e,t,n)=>{n.d(t,{Z:()=>f,u:()=>m});var i=n(83446),o=n(79127),r=n(6941),s=n(23037),a=n(19821),l=n(90359),c=n(96660),d=n(73806),u=n(98696),p=n(90359);function f({renderKey:e,model:t,mode:n,data:s,_inputs:d,inputs:f,_outputs:h,outputs:g,scopePath:y,frameLabel:b,iterator:v,viewContext:x,template:w}){const{context:E,emitLogs:A,emitItem:_}=x,C=E.getComDef(t.runtime.def),I=(0,i.mA)(u.Z,(e=>{if(C&&!t.runtime.upgrade&&(t.runtime.def.version||(t.runtime.def.version=C.version),t.runtime.def.version!==C.version)){const e=`${t.runtime.def.version} > ${C.version}`;t.runtime.upgrade={info:e,version:C.version}}t.isBluePrint&&(t.runtime.isBluePrint=!0),e({viewContext:x,model:t,comDef:C})}),{to:"children"});if((0,l.useEffect)((()=>{if(I.comDef&&t.runtime.def.version!==I.comDef.version){const e=E.getComDef(t.runtime.def);I.comDef=e}}),[t.runtime.def.version]),(0,l.useEffect)((()=>{const e=t.runtime;return e.geo=t,e.title||(e.title=C.title),t.name||(t.name=(0,i.Vj)()),()=>{}}),[]),!C)return A.error("组件库错误",`未找到组件(${t.runtime.def.namespace}@${t.runtime.def.version})定义.`),p.createElement(c.Z,{model:t,type:"error",msg:`未找到组件(${t.runtime.def.namespace}@${t.runtime.def.version})定义.`});if(E.configs.toplView){const e=t.runtime.topl;if(!e||!e.isValid||!e.isValid()){const e=`组件（${t.runtime.title}）已损坏，请删除.`;return A.error("组件错误",e),p.createElement(c.Z,{model:t,type:"error",msg:e})}}return C.namespace===o.Vm.coms.module?p.createElement(a.Z,{mouseDown:m}):p.createElement(r.Z,{key:t.id,data:s,mode:n,_inputs:d,inputs:f,_outputs:h,outputs:g,mouseDown:m,template:w})}function m(e,t){!function(e,t){const{model:n,viewContext:o}=t,{context:r,viewModel:a,emitSnap:l,emitItem:c,emitMessage:u}=o;if(n.isPopup)return;if(n.runtime.isBluePrint){if(!r.isDesnModeOfBluePrint())return}else if(r.isDesnModeOfBluePrint())return;let p,f,m,h,g,y,b,v,x,w=a.style.zoom;(0,i.qw)(e,(({po:{x:e,y:t},epo:{ex:i,ey:o},dpo:{dx:E,dy:A}},_)=>{var C;if("start"==_&&(x=n.root,m=(0,s.bt)(x.$el),v=(0,s.bt)(n.parent.$el),f=n.style,g=n.$el,y={x:f.left,y:f.top,positionOfAbsolute:n.isStyleLayoutAbsoluteOrFixed()},b=n.parent,c.move(n,"start")),"moving"==_){if(n.state.moving(),n.isStyleLayoutAbsoluteOrFixed()){p||(p=l.start("移动组件",{target:n}));const i=Math.round((e-v.x)/w),o=Math.round((t-v.y)/w);void 0!==f.right?f.right=v.w-i-g.offsetWidth:f.left=i,void 0!==f.bottom?f.bottom=v.h-o-g.offsetHeight:f.top=o}if(h&&h.state.hoverRecover(),h=(null===(C=n.parent.parent)||void 0===C?void 0:C.locked)?n.parent:a.findSlotByPo({x:i,y:o,zoom:w},n,!0),h&&h.root.id===n.root.id){const e=n.parent;let t=n.parent.id===h.id;e.parent&&h.parent&&e.parent.id!==h.parent.id&&(t=!1),h.state.hover(t)}c.move(n,"ing",{x:i,y:o})}if("finish"==_){if(!n.state.isMoving())return;requestAnimationFrame((e=>{f.clearSuggest()})),n.state.enable();const e=c.move(n,"finish");let t,a=e;if(Array.isArray(e)&&(a=e.find((e=>e&&void 0!==e.insertOrder))),h&&h.state.isHovering()&&(t=!0,h.state.hoverRecover()),t&&function(e,t){if(t)return(null==t?void 0:t.parent)===e||e.parent===t||t.parent&&e.style.isPositionFixed()||t.parent&&e.runtime.isBluePrint&&!t.parent.runtime.isBluePrint?0:1;return-1}(n,h)){const e=h.isRoot()?null:h.parent.id,t=r.getComDef({namespace:n.runtime.def.namespace});if(!(0,d.H$)(h,t.schema))return void u.warn("组件类型不匹配");p||(p=l.start("移动组件",{target:n})),c.cutToSlot(n.id,e,h.id,null==a?void 0:a.insertOrder)}else t&&a&&void 0!==a.insertOrder&&(p||(p=l.start("移动组件",{target:n})),c.changeOrder(n,a.insertOrder));if(n.isStyleLayoutAbsoluteOrFixed())if(n.parent!==b)if(y.positionOfAbsolute){const e=(0,s.bt)(b.$el,x.$el),t={x:e.x+f.left||0,y:e.y+f.top||0},i=(0,s.bt)(n.parent.$el,x.$el),o={x:t.x-i.x,y:t.y-i.y};f.left=o.x/w,f.top=o.y/w}else{const e=(0,s.bt)(n.parent.$el),t={x:i-e.x,y:o-e.y};f.left=t.x/w,f.top=t.y/w}else void 0!==f.suggestLeft&&(f.left=f.suggestLeft),void 0!==f.suggestTop&&(f.top=f.suggestTop),void 0!==f.suggestRight&&(f.left=f.suggestRight-f.width),void 0!==f.suggestBottom&&(f.top=f.suggestBottom-f.height);requestAnimationFrame((()=>{n.notifyEleChanged(),n.state.isFocused()||c.reFocus(n)})),p&&p.commit()}}),{})}(e,t)}},97488:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(22811),o=n(83446),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class a extends i.Z{constructor(e){super(void 0,e),this.forkAry=[]}}r([o.jj,s("design:type",Object)],a.prototype,"_pluginExtJsx",void 0),r([o.jj,s("design:type",Array)],a.prototype,"forkAry",void 0)},22811:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(83446),o=n(65731),r=n(79127),s=n(92702),a=n(73806),l=n(98696),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class u{constructor(e,t,n,i){this._eleChanged=0,this.ele=e,this.selectors=t,this.editorPath=n,this.title=i,this.elePre=e.previousSibling,this.eleNext=e.nextSibling}isValid(){return this.ele.isConnected}clear(){this.ele.classList.remove(l.Z.cssComNormal.editableFocus)}listenForEleChanged(){return this._eleChanged}notifyEleChanged(){this._eleChanged=~this._eleChanged}}let p=class extends r.M_{get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}get style(){return this.runtime.model.style}addBlurFn(e){this.state.isFocused()?this._blurFns.push(e):e()}listenForFocusAreaDeleted(){return this._focusAreaDeleted}notifyFocusAreaDeleted(){this._focusAreaDeleted=~this._focusAreaDeleted}isEditorReserved(e,t){if(this.reservedEditorAry){const n=this.reservedEditorAry[e];if(n)return n.find((e=>e.id===t))}}reserveEditor(e,t){if(!this.isEditorReserved(e,t)){this.reservedEditorAry=this.reservedEditorAry||{};let n=this.reservedEditorAry[e];n||(n=this.reservedEditorAry[e]=[]),n.push({selector:e,id:t})}}abandonEditor(e,t){if(this.isEditorReserved(e,t)){this.reservedEditorAry=this.reservedEditorAry||{};let n=this.reservedEditorAry[e];n&&n.find(((e,i)=>{e.id===t&&n.splice(i,1)}))}}isStylePositionOfDefault(){return this.style.isStylePositionOfDefault()}isStyleLayoutAbsolute(){const e="absolute"==this.parent.style.getLayout();return this.style.isPositionAbsolute()||!this.style.position&&e}isStyleLayoutFixed(){return this.style.isPositionFixed()}isStyleLayoutAbsoluteOrFixed(){var e;const t="absolute"==(null===(e=this.parent.style)||void 0===e?void 0:e.getLayout());return this.style.isPositionAbsoluteOrFixed()||!this.style.position&&t}isVisible(){if(this.$el&&"hidden"!==this.$el.style.visibility)return!0}isVisibleNow(){var e;if(this.$el&&"hidden"!==this.$el.style.visibility){if(!(null===(e=this.parent)||void 0===e?void 0:e.parent))return!0;if(this.parent.parent.isVisibleNow())return!0}return!1}constructor(e,t){super(),this.init=!1,this.initDom=!1,this._focusAreaDeleted=0,this._blurFns=[],this.events={click:[],mouseenter:[]},this.debugs={},this._eleChanged=0,e&&(e instanceof r.u5?(this.name=e.name,this.runtime=e.runtime,e.asRoot&&(this.asRoot=e.asRoot)):e instanceof r.cR&&(this.runtime=e)),this.getConfigs=void 0,this.getListeners=void 0,t?this.name=t:this.name||(this.name=(0,i.Vj)())}getContentWidth(){return this.$el.firstChild.offsetWidth}listenForEleChanged(){return this._eleChanged}notifyEleChanged(e){e?setTimeout((e=>this._eleChanged=~this._eleChanged)):this._eleChanged=~this._eleChanged}setFocusArea(e,t,n,i){this.focusArea=new u(e,t,n,i)}get root(){let e=this.parent;for(;e&&("function"!=typeof e.isRoot||!e.isRoot());)e=e.parent;return e}sayHi(e){this._sayHi=!0,this.setVisibleOnceVisible(),setTimeout((e=>{this._sayHi=void 0}),1500)}getSlot(e){if(this.slots)return this.slots.find((t=>t.id===e))}removeSlot(e){if(this.slots){let t;const n=this.slots.find(((n,i)=>{if(n.id===e)return t=i,!0}));if(!n)throw new Error(`Slot(id=${e}) not found.`);return this.slots.splice(t,1),n}}addEvent(e,t){this.events[e].push(t)}setZIndex(e){this.parent.setComZIndex(this.id,e)}focus(){this.state.focus(),this.focusArea&&this.state.editing(),this.setVisibleOnceVisible()}addSlot({id:e,schema:t,title:n,type:i,capacity:r,layout:s,style:a,asDefault:l,asRoot:c}){const d=new o.Z({id:e,schema:t,capacity:r,title:n,layout:s,style:a,asDefault:l,asRoot:c,type:i});return d.parent=this,(this.slots=this.slots||[]).push(d),d}addProxySlot(e){return(this.slots=this.slots||[]).push(e),e}invisible(){f(this,"hidden")}setVisible(){f(this,"visible")}setVisibleOnceVisible(){var e,t;this.style.isVisible()||(this.style.visibleOnce=!0),(null===(e=this.parent)||void 0===e?void 0:e.parent)&&(null===(t=this.parent)||void 0===t||t.parent.setVisibleOnceVisible())}hasFocusedChildren(){if(this.slots)return this.slots.find((e=>{if(e.comAry)return e.comAry.find((e=>!!e.state.isFocused()||e.hasFocusedChildren()))}))}hasFocusedParent(){var e;const t=null===(e=this.parent)||void 0===e?void 0:e.parent;return!!t&&(!!t.state.isFocused()||t.hasFocusedParent())}setVisibleOnceHidden(){var e,t;this.state.isFocused()||this.hasFocusedChildren()||(this.style.visibleOnce&&(this.style.visibleOnce=void 0,f(this,"hidden")),this.hadDestroyed()||(null===(e=this.parent)||void 0===e?void 0:e.parent)&&(null===(t=this.parent)||void 0===t||t.parent.setVisibleOnceHidden()))}blur(){this.state.isFocused()&&(requestAnimationFrame((e=>{this.setVisibleOnceHidden()})),this.focusArea&&this.focusArea.clear(),this.state.blur(),requestAnimationFrame((e=>{this.state.isFocused()||this._blurFns.length>0&&(this._blurFns.forEach((e=>{try{e()}catch(e){console.error(e)}})),this._blurFns=[])})))}cutIn(e,t,n){if(this.slots){const i=this.slots.find((e=>e.id===t));if(i)return i.cutIn(e,n),!0}}toJSON(e){const t={};if(t.id=this.id,t.refId=this.runtime.refId,this.reservedEditorAry&&(t.reservedEditorAry=this.reservedEditorAry),this.slots&&this.slots.length>0){const n=[];this.slots.forEach((t=>{n.push(t.toJSON(e))})),t.slots=n}return t}dump(){return(0,i.$w)(this,{uncompressed:!0,ignore:{parent:!0,runtime:!0}})}getSlotEditor({emitItem:e,context:t,emitSnap:n,emitIOCAbout:i,emitMessage:o}){let s=this;return{get(l){const c=s.getSlot(l);if(c)return{id:c.id,title:c.title,schema:c.schema,setSchema(e){c.schema=e},get children(){const r=[];return c.comAry&&c.comAry.forEach((s=>{const a={id:s.id,title:s.runtime.title,get data(){return s.data},get namespace(){var e,t;return null===(t=null===(e=s.runtime)||void 0===e?void 0:e.def)||void 0===t?void 0:t.namespace},get inputs(){return i.getInputEditor(s.id)},get outputs(){return i.getOutputEditor(s.id)}};s.slots&&Object.assign(a,{get slots(){return s.getSlotEditor({emitItem:e,context:t,emitSnap:n,emitIOCAbout:i,emitMessage:o})}}),r.push(a)})),r.length>0?r:void 0},setTitle(e){c.title=e},getLayout:()=>c.style.getLayout(),setLayout(e){e&&e.match(/flex-row|flex-column|absolute/)&&c.setLayout(e)},getJustifyContent:()=>c.style.getJustifyContent(),setJustifyContent(e){e&&e.match(/flex-start|center|flex-end|space-around|space-between/)&&c.style.setJustifyContent(e)},getAlignItems:()=>c.style.getAlignItems(),setAlignItems(e){e&&e.match(/flex-start|center|flex-end/)&&c.style.setAlignItems(e)},cutInto(e){Array.isArray(e)&&e.length>0&&e.forEach((({id:e})=>{const t=s.root.searchCom(e);c.parent.cutIn(t,c.id)}))},addCom(n,i=!0,s){const l=t.getComDef({namespace:n});if(!l)return void o.warn("添加的组件不存在");if(l.singleton&&(0,a.di)(t.model.mainModule.slot.comAry,l))return void o.warn(`${l.title}已存在，不能重复添加`);const d=new r.u5(l);return e.add(Object.assign(Object.assign({seedModel:d,state:"finish",deletable:!l.schema,isParasite:l.schema},s),{toComId:c.parent.id,toSlotId:c.id}),{indeed:!0,noFocus:!0}),d.id},clear(){c.comAry&&(0,a.Tb)(c,e),c.comAry=[]},moveTo(e){if("number"==typeof e&&!isNaN(e)&&e>=0&&e<=s.slots.length-1){const t=s.slots.findIndex((e=>e.id===c.id)),n=s.slots[e];s.slots[e]=s.slots[t],s.slots[t]=n}},get _inputs(){return i.get_InputEditor(s.id,c.id)},get inputs(){return i.getInputEditor(s.id,c.id)},get outputs(){return i.getOutputEditor(s.id,c.id)},remove(){e.removeSlot(s.id,l)}}},add(t,n,i,o){if(1===arguments.length&&"object"==typeof arguments[0]){const{id:t,title:n,layout:i,schema:o,type:r,inputs:a,outputs:l}=arguments[0];e.addSlot({comId:s.id,id:t,title:n,layout:i,schema:o,type:r,inputs:a,outputs:l})}else e.addSlot({comId:s.id,id:t,title:n,layout:i,schema:o})},setTitle(t,n){e.setSlotTitle(s.id,t,n)},remove(t){e.removeSlot(s.id,t)}}}getConfigs(){throw new Error("Not implements")}getListeners(){throw new Error("Not implements")}setDebugContext(e,{_inputs:t,inputs:i,inputsCallable:o,_outputs:r,outputs:s,frames:a,inputParams:l},c="default",d){const u=new(0,n(97488).Z)(this.name);let p;return u.parent=this.parent,u.runtime=this.runtime.clone(e),u.slots=this.slots,u._inputs=t,u.inputs=i,u.inputsCallable=o,u._outputs=r,u.outputs=s,u.frames=a,u.inputParams=l,this._pluginExtJsx&&(u._pluginExtJsx=this._pluginExtJsx),d&&-1!==d.indexOf(":")?(this.debugs[d+c]=u,p=this.getDebug(c,d)):(this.debugs[c]=u,p=this.getDebug(c)),{show:()=>(p.runtime.model.style.display="",!0),hide:()=>(p.runtime.model.style.display="none",!0),showOrHide(){const e=p.runtime.model.style.display;return p.runtime.model.style.display="none"===e?"":"none",!0}}}getDebug(e="default",t){return t?this.debugs[t+e]:this.debugs[e]}clearDebug(){this.debugs={},this.slots&&this.slots.forEach((e=>{e.comAry.forEach((e=>{e.clearDebug()}))}))}};function f(e,t){let n=e;for(n.runtime.model.style.display="visible"===t?"block":"none";n;)"function"!=typeof n.style.isVisible||n.style.isVisible()?n=n.parent?n.parent.parent:void 0:(n.$el&&("visible"===t?n.isStyleLayoutAbsoluteOrFixed()||(n.$el.style.position="relative"):n.$el.style.position="absolute",n.$el.style.visibility=t),n=void 0)}c([i.jj,d("design:type",Boolean)],p.prototype,"initDom",void 0),c([i.jj,d("design:type",u)],p.prototype,"focusArea",void 0),c([i.jj,d("design:type",Number)],p.prototype,"_focusAreaDeleted",void 0),c([i.jj,d("design:type",Array)],p.prototype,"_blurFns",void 0),c([i.jj,d("design:type",Array)],p.prototype,"editorPath",void 0),c([i.jj,d("design:type",Object)],p.prototype,"events",void 0),c([i.jj,d("design:type",Object)],p.prototype,"debugs",void 0),c([i.jj,d("design:type",String)],p.prototype,"errorMsg",void 0),c([i.jj,d("design:type",String)],p.prototype,"_errorMsg",void 0),c([i.jj,d("design:type",Number)],p.prototype,"_eleChanged",void 0),c([i.jj,d("design:type",Object)],p.prototype,"_pluginModel",void 0),c([i.jj,d("design:type",Object)],p.prototype,"_pluginExtJsx",void 0),c([i.jj,d("design:type",Boolean)],p.prototype,"_sayHi",void 0),p=c([(0,i.iV)(s.it+"geo.GeoComModel"),d("design:paramtypes",[Object,Object])],p)},76641:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C2:()=>getStyle,D4:()=>getComLogger,G9:()=>getInputs,G_:()=>getConfigs,Ks:()=>get_Inputs,LQ:()=>computeStyle,N4:()=>getOnError,RX:()=>getOutputs,bP:()=>get_Env,dU:()=>getEnv,iE:()=>get_Outputs});var _mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83446),_ComContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98696),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90359),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_geoUtil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(73806),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11885);function getOnError(e,t){return()=>{let n,i;for(let e=0;e<arguments.length;e++){const t=arguments[e];"string"==typeof t?n=t:"object"==typeof t&&t instanceof Error&&(i=t)}(n||i)&&(requestAnimationFrame((t=>{e._errorMsg=n||i.message})),t.emitLogs.error(e.runtime.title,n),i&&console.error(i))}}function get_Env(e,t,n){return{loadCSSLazy(e){const n=e.use({target:t.viewModel.canvasShadowRoot}).locals;Object.assign(e,n)},currentScenes:{close(){if(n){const n=e.root;t.emitScenes.close(n.id)}}}}}function getEnv(model,viewContext,debugMode){const{context,emitPage,emitItem,emitModule}=viewContext,comCfg=context.configs.com,cfgEnv=null==comCfg?void 0:comCfg.env;return Object.assign(debugMode?{}:{searchComDefAry:e=>(0,_geoUtil__WEBPACK_IMPORTED_MODULE_2__.oV)(context.comLibAry,e)},{getModuleJSON(e){const t=emitModule.get(e);if(t)return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.Ku)(t.json)},renderCom(e,t){const n=Object.assign({},{debug:!0,observable:_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.LO,debugLogger(e,t,n){},onError({comId:e,error:t}){}},t);return n.env.edit={},n.comDefs=context.getAllComDef(),context.renderWeb(e,n)},renderModule(e,t){const n=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.d9)(comCfg,!0),i=Object.assign({},n,{debug:!0,observable:_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.LO,debugLogger(e,t,n){},onError({comId:e,error:t}){}},t);return i.env.edit={},i.comDefs=context.getAllComDef(),i.scenesLoader=({id:e})=>new Promise(((e,t)=>{})),context.renderWeb(e,i)},canvas:{get id(){return model.root.id},get type(){let e;return e=debugMode?viewContext.debugSlotStartWith:model.root,e.style.isDisplayTypeOfMobile()?"mobile":"pc"},isValid(e){if(context.configs.pageMetaLoader)return context.pageMetaModel.hasPage(e);return!!viewContext.viewModel.getSlot(e)},get zoom(){return viewContext.viewModel.style.zoom},get themes(){return viewContext.viewModel.themes},open(e,t,n){viewContext.emitScenes.debug(e,t,n,"geoView")}},get canvasElement(){return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.pI)((()=>viewContext.getCurrentCanvasElement()))},createPortal:e=>emitPage.createPortal(react__WEBPACK_IMPORTED_MODULE_1___default().createElement("div",{className:model.id},e)),get edit(){if(!debugMode)return{focusPaasive(){const e=model.state.focusPassive();return()=>{e()}},regBlur(e){"function"==typeof e&&model.addBlurFn(e)},get focusArea(){const e=model.focusArea;if(e&&e.isValid()&&e.ele.classList.contains(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z.cssComNormal.editableFocus))return e}}},get runtime(){return!!debugMode&&Object.assign({debug:{},getUserToken:()=>context.envVars.debug.userToken,getEnvType:()=>context.envVars.debug.envType,getEnvParam(name){const params=context.envVars.debug.envParams;if("string"==typeof params){let obj;try{eval(`obj = ${params}`)}catch(e){throw new Error(`解析环境参数错误:${e.message}`)}return obj[name]}}},{})}},cfgEnv||{})}function computeStyle(){const e=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z),{model:t,context:n,emitItem:i,emitSnap:o,comDef:r}=e;if(null==r?void 0:r.editors){const t=r.editors.view||r.editors;t&&"function"==typeof t["@willMount"]&&t["@willMount"]((0,_utils__WEBPACK_IMPORTED_MODULE_3__.e)(e))}const s=t.style,{top:a,bottom:l,left:c,right:d,width:u,height:p,marginTop:f=0,marginLeft:m=0,marginBottom:h=0,marginRight:g=0}=s;let y=u,b=p;if(t.state.isResizing()){const e=s.resizingSnapLeft;if(e){const t=void 0!==s.suggestLeft?s.suggestLeft:s.left;y=e.oriLeft-t+e.oriWidth}const t=s.resizingSnapRight;t&&s.suggestRight&&(y=s.suggestRight-t.oriLeft,s.suggestLeft=s.suggestRight-y);const n=s.resizingSnapTop;if(n){const e=void 0!==s.suggestTop?s.suggestTop:s.top;b=n.oriTop-e+n.oriHeight}const i=s.resizingSnapBottom;i&&s.suggestBottom&&(b=s.suggestBottom-i.oriTop,s.suggestTop=s.suggestBottom-b)}const v="number"==typeof y?y+(m>0?m:0)+(g>0?g:0):y,x="number"==typeof b?b+(f>0?f:0)+(h>0?h:0):b;let w={};const E=t.style.toCSS();for(let e in E)w[e]="width"===e?v:"height"===e?x:E[e];let A;if(s.isVisible()||(w.width="100%",w.visibility="hidden",w.position="absolute"),t.style.isPositionAbsoluteOrFixed()||t.isStyleLayoutAbsoluteOrFixed()){A={position:"absolute",width:v,height:x,zIndex:t.style.zIndex};let e=s.left;void 0!==s.suggestLeft&&(e=s.suggestLeft),s.resizingSnapRight||void 0===s.suggestRight||(e=s.suggestRight-s.width);let n=s.top;void 0!==s.suggestTop&&(n=s.suggestTop),s.resizingSnapBottom||void 0===s.suggestBottom||(n=s.suggestBottom-s.height),void 0!==d?A.right=d:A.left=e,void 0!==l?A.bottom=l:A.top=n}else A={height:x};if(w=Object.assign(w,A),s.ext)for(let e in s.ext)w[e]=s.ext[e];return(0,_geoUtil__WEBPACK_IMPORTED_MODULE_2__.zi)(w),delete w.display,t.style.visibleOnce&&(w.visibility="visible",t.isPopup||(w.position="")),w}function getRTParentSlot(e,t,n,i){const{comDef:o,emitLogs:r,emitIOCAbout:s}=t,a=e.parent;if(a){const e=a.parent;if(e){if(s.getSlot_IOInfo(e.id,a.id))return{get _inputs(){return new Proxy({},{get(t,i){if(e.runtime.topl)return t=>{e.runtime.topl._exeFrame_Input(a.id,i,t,n)}}})}}}}}function getComLogger(e,t){const{emitLogs:n}=t;return{trace(t,i){n.info(e.runtime.title+(i?`-${i}`:""),t)},info(t,i){n.info(e.runtime.title+(i?`-${i}`:""),t)},warn(t,i){n.warn(e.runtime.title+(i?`-${i}`:""),t)},error(t,i){n.error(e.runtime.title+(i?`-${i}`:""),t)}}}function getStyle(e){const{model:t,context:n}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z);return e?{get position(){return e.style.position},get display(){return e.style.display},set display(t){if("string"!=typeof t||!t.match(/initial|block|none/g))throw new Error("Invalid value");e.style.display=t},get width(){return e.style.width},set width(t){e.style.width=t},get height(){return e.style.height},set height(t){e.style.height=t}}:{get position(){return t.style.position},get display(){return t.style.display},set display(e){if("string"!=typeof e||!e.match(/block|none/g))throw new Error("Invalid value");t.style.display=e},get width(){return t.style.width},get height(){return t.style.height}}}function getConfigs(){return new Proxy({},{get(e,t,n){}})}function get_Inputs(){const{model:e,context:t,emitIOCAbout:n,emitSnap:i}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z),o={};return new Proxy({},{get(n,i,r){const s=t.getComDef(e.runtime.def);let a;if(!a&&s._inputs&&(a=s._inputs.find((e=>e.id===i))),"_refresh"===i&&(a={id:"_refresh"}),a)return function(e){o[i]||(o[i]=!0)}}})}function getInputs(e){const{model:t,context:n,emitIOCAbout:i,emitSnap:o}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z),r={};return new Proxy({},{get(i,o,s){const a=n.getComDef(t.runtime.def);let l;if(t.runtime.model.inputAry&&(l=t.runtime.model.inputAry.find((e=>e.hostId===o))),!l&&a.inputs&&(l=a.inputs.find((e=>e.id===o))),"_refresh"===o&&(l={id:"_refresh"}),l)return function(t){if(!r[o]&&(r[o]=!0,e&&"object"==typeof e)){const n=e[o];"function"==typeof n&&n(t)}}}})}function get_Outputs(){const{model:e,context:t,emitIOCAbout:n,emitSnap:i}=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_0__.N7)(_ComContext__WEBPACK_IMPORTED_MODULE_4__.Z);return new Proxy({},{get(n,i,o){const r=t.getComDef(e.runtime.def);let s;if(!s&&r._outputs&&(s=r._outputs.find((e=>e.id===i))),s)return function(e){}}})}function getOutputs(e,t,{context:n}){return new Proxy({},{get(i,o,r){const s=n.getComDef(e.runtime.def);let a;if(e.runtime.model.outputAry&&(a=e.runtime.model.outputAry.find((e=>e.hostId===o))),!a&&s.outputs&&(a=s.outputs.find((e=>e.id===o))),a){const e=function(e){if(t&&"object"==typeof t){const n=t[o];"function"==typeof n&&n(e)}};return e.getConnections=function(){return[]},e}}})}},95201:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(45530),o=n(79127),r=n(83446),s=n(90359);function a({curVarId:e,varAry:t,bindVar:n,removeBinding:o}){return s.createElement("div",{className:i.Z.view},s.createElement("div",{className:i.Z.toolbar}),s.createElement("div",{className:i.Z.content},s.createElement(l,{curVarId:e,cur:t,bindVar:n,removeBinding:o})))}function l({curVarId:e,cur:t,bindVar:n,removeBinding:a}){const{title:c,varAry:d,parent:u}=t;return s.createElement(s.Fragment,null,d.length>0?s.createElement(s.Fragment,null,c?s.createElement("div",{className:i.Z.catelog},c):null,d.length>0?d.map(((t,l)=>{const c=e===t.id;return s.createElement("div",{key:l,className:`${i.Z.var} ${c?i.Z.curVar:""}`,onClick:e=>n(t)},s.createElement("label",null,"@"),s.createElement("span",{className:i.Z.name},t.title),c?s.createElement("span",{className:i.Z.icon,onClick:(0,r.Ft)((e=>a(t))).stop},o.PJ.garbage):null)})):s.createElement("div",{className:i.Z.empty},"变量为空")):null,u?s.createElement(l,{curVarId:e,cur:u,bindVar:n,removeBinding:a}):null)}},62460:(e,t,n)=>{n.d(t,{U:()=>f});var i=n(79127),o=n(92702),r=n(90869),s=n(36584),a=n(70261),l=n(7300),c=n(11885),d=n(10741),u=n(83446),p=i.Af.Group;function f(e,t){let n;(0,d.S1)();const{model:f,comDef:m,context:h,viewContext:g}=e,y=f.focusArea,b=y&&y.isValid();n=b?(0,d.r9)(e,t):function(e,t){var n,f;const{model:m,comDef:h,context:g,emitItem:y,emitIOCAbout:b,emitSnap:v,viewContext:x}=e,w=[],E=o.tD;if(!h){const e=`${m.runtime.def.namespace} not found`,t=new i.Af.Category(e);return w.push(t),w}const A=m.$el.firstChild;let _,C,I,M,P,k;h.editors&&(_=h.editors.view||h.editors,_&&(C=_[o.tD]));C||(C=[]);if(h.schema&&m.parent&&(I=m.parent.parent,I&&(M=g.getComDef(I.runtime.def),M.editors))){const e=M.editors.view||M.editors;if(e){const t=h.schema;Array.isArray(t)?t.find((t=>{if(k=e[`${o.xt}(${t})`],k)return!0})):k=e[`${o.xt}(${t})`]}}if("function"==typeof C||"object"==typeof C&&"function"==typeof C.items){let o;o="function"==typeof C?C:C.items;const r=[];r.push({type:"default",title:null,items:[]}),r.push({type:"normal",title:null,items:null}),r.push({type:"normal",title:null,items:null}),o((0,c.e)(e),r[0],r[1],r[2]);const s=m.runtime.title||h.title,a=new i.Af.Category({title:s,setTitle(e){m.runtime.title=e}});let l;if(w.push(a),r[0].items&&(l=(0,d.RL)(E,r[0].items,e,A,A,t),k)){const{context:n,viewContext:i,emitItem:o,emitIOCAbout:r,emitSnap:s}=e;P={id:m.id,comId:m.id,comName:m.name,comDef:M,model:I,context:n,viewContext:i,emitItem:o,emitIOCAbout:r,emitSnap:s};const a=(0,d.RL)(E,k,P,A,A,t);l[0]=[...a[0],...l[0]]}if(O(a,l,!0),(null===(n=r[1].items)||void 0===n?void 0:n.length)>0){const n=new i.Af.Category(r[1].title||"无标题");w.push(n);O(n,(0,d.RL)(E,r[1].items,e,A,A,t))}if((null===(f=r[2].items)||void 0===f?void 0:f.length)>0){const n=new i.Af.Category(r[2].title||"无标题");w.push(n);O(n,(0,d.RL)(E,r[2].items,e,A,A,t))}F(E,_,k,P)}else{const n=new i.Af.Category({title:m.runtime.title||h.title,setTitle(e){m.runtime.title=e}});w.push(n);O(n,(0,d.RL)(E,C,e,A,A,t),!(!g.isDesnModeOfBluePrint()&&m.runtime.isBluePrint)),_&&F(E,_,k,P)}function F(t,n,r,s){var a,l;const{viewContext:p,model:f,comDef:m}=e,{comThemes:h}=p,g=f.runtime.model.style,y=h[m.namespace]||[],b=y.find((e=>e.isDefault)),v=new i.Af.Category("样式"),x=(0,u.LO)({v:!0});function E(e){x.v=!x.v}function A(n,i,r,s){const a="string"==typeof n.target?n.target:t,l=(...e)=>{if(g.themesId===o.W$){if("function"==typeof n.ifVisible){const t=n.ifVisible(...e);return"boolean"==typeof t&&t}return!0}if(b)return!1;if(void 0!==g.themesId)return!1;if(!g.themesId&&"function"==typeof n.ifVisible){const t=n.ifVisible(...e);return"boolean"==typeof t&&t}return!0};let c,u;return n.target?"function"==typeof n.target?c=n.target(i,s?{childId:f.id}:void 0):("string"==typeof n.target||Array.isArray(n.target))&&(c=n.target):c=a,n.domTarget?"function"==typeof n.domTarget?u=n.domTarget(i,s?{childId:f.id}:void 0):("string"==typeof n.domTarget||Array.isArray(n.domTarget))&&(u=n.domTarget):u=c,(0,d.Bb)({selector:t,comContext:e,edtContext:i,editor:{title:n.title,catelog:n.catelog,type:o.py,ifVisible:l,ifRefresh:()=>x.v,options:()=>({get targetDom(){let e;try{if(u===o.tD)e=r;else if("string"==typeof u)u=u.replace(/\{id\}/gi,f.id),e=r.parentNode.querySelector(`#${f.id} ${u}`);else if(Array.isArray(u)&&u.length>0){const t=u[0].replace(/\{id\}/gi,f.id);e=r.parentNode.querySelector(`#${f.id} ${t}`)}}catch(e){console.error(e)}return e},plugins:n.options,comId:f.id,selector:c,defaultOpen:n.folded||!1}),value:{get(){const e=g.getStyle(c);if(e)return e.css},set(e,t){g.addStyle(c,t,n.global,s),g.themesId=o.W$}}}})}const _=null==r?void 0:r.style;if(_&&("object"==typeof _||Array.isArray(_))){const I=[],{model:M}=s;if(Array.isArray(_))_.forEach((e=>{if(!e.value){const t=A(e,s,M.$el.firstChild,!0);I.push(t)}}));else{const P=A(_,s,M.$el.firstChild,!0);I.push(P)}if(I.length>0){const k=new i.Af.Group;k.addItems(I),v.addGroup(k)}}const C=null===(a=n[t])||void 0===a?void 0:a.style;if(C){const F=(0,c.e)(e),O=e.model.$el.firstChild;function T(n){const o=[];if(Array.isArray(n)){let r=[];const s=()=>{if(r.length>0){const n=(0,d.RL)(t,r,e,void 0,O,!1,E);if(r=[],n){const[e,t]=n;if(e.length>0)return e}}};n.forEach((e=>{if(e.value)r.push(e);else{if(r.length>0){const e=s();e&&o.push(...e)}if(e.items){const t=T(e.items);if(t.length>0){const n=new i.Af.Group({ifVisible:"function"==typeof e.ifVisible?()=>e.ifVisible(F):void 0,title:e.title,onCatelogChange:e.catelogChange,folded:e.folded});n.addItems(t),o.push(n)}}else if(e.catalogs){const t=new i.Af.Group({ifVisible:"function"==typeof e.ifVisible?()=>e.ifVisible(F):void 0,title:e.title,folded:e.folded});if(e.catalogs){const n=T(e.catalogs);t.catalogs=n}o.push(t)}else{const t=s();t&&o.push(...t);const n=A(e,F,O);o.push(n)}}}));const a=s();a&&o.push(...a)}else{const e=A(n,F,O);o.push(e)}return o}if(y.length>0){const N=new i.Af.Group;N.addItem((0,d.Bb)({selector:t,comContext:e,edtContext:F,editor:{title:"风格",type:"_themeSelect",options:()=>({options:[...y.sort((e=>e.isDefault?-1:1)).map((e=>e)),{id:o.W$,title:"自定义"}]}),value:{get(){var e;return g.themesId?g.themesId:b?b.id:(null===(e=g.styleAry)||void 0===e||e.length,o.W$)},set(e,t){if(t===o.W$){let e=g.themesId;!e&&b&&(e=b.id);const t=y.find((t=>t.id===e));t&&t.styleAry&&Array.isArray(t.styleAry)&&t.styleAry.forEach((e=>{g.addStyle(e.selector,e.css)}))}else g.clearStyleAry();g.themesId=t}}}})),v.addGroup(N)}const Z=T(C);if(Z.length>0){const D=new i.Af.Group;D.addItems(Z),v.addGroup(D)}}(null===(l=v.groups)||void 0===l?void 0:l.length)>0&&w.push(v)}function O(t,n,o){var u,f,h,v,w,C,I;const M=(0,c.e)(e);if(n){const[o,r]=n,s=new i.Af.Group({onCatelogChange:"object"==typeof r?(0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:Object.assign(Object.assign({},r),{value:{get(){var e;if("function"==typeof(null===(e=r.value)||void 0===e?void 0:e.get))return r.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=r.value)||void 0===n?void 0:n.set)&&r.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:A}):void 0});s.addItems(o),s.items&&t.addGroup(s)}if(m.slots,m.proxySlot){const n=new p;t.addGroup(n),n.addItem((0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:{title:"打开",type:i.$U.BUTTON,value:{set(){x.focusArtboard(m.proxySlot.id)}}}}));const o=b.getSlotIOInfo(m.id,m.proxySlot.id);if(o){if((null===(u=o.configs)||void 0===u?void 0:u.length)>0){const n=new p;t.addGroup(n),o.configs.forEach((t=>{n.addItem((0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:{title:t.title,type:t.editor?t.editor.type:"text",value:{get({data:e}){if(e.configs)return e.configs[t.hostId]},set({data:e},n){e.configs=Object.assign({},e.configs,{[t.hostId]:n})}}}}))}))}if((null===(f=o.outputs)||void 0===f?void 0:f.length)>0){const n=new p({title:"事件"});t.addGroup(n),o.outputs.forEach((t=>{n.addItem((0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:{title:t.title,type:i.$U.EVENT,options:{outputId:t.hostId}}}))}))}}}if(o&&!m.lockedSilent){const n=new i.Af.Group({});n.fixedAt="bottom",t.addGroup(n);const o=null===(w=null===(v=null===(h=g.configs.editView)||void 0===h?void 0:h.geoCom)||void 0===v?void 0:v.commonEditors)||void 0===w?void 0:w.enable;if(void 0===o||o){const t=new p({id:"commmon-editors"});if(n.addItem(t),t.addItem((()=>(0,r.Z)(e))),_){let n,i;const o=_["@resize"],r=({left:e,top:t,width:n,height:i},{d:r})=>{var s;const a=m.style;if(void 0!==e){const t=e-a.left;if("left"===r)if(m.isStyleLayoutAbsoluteOrFixed()){a.width-t>0&&(a.left=e)}else a.width+=t;else"number"!=typeof a.width?a.width=A.offsetWidth+t:a.width+=t}if(void 0!==n&&(a.width=n),void 0!==t){const e=t-a.top;if("top"===r)if(m.isStyleLayoutAbsoluteOrFixed()){a.height-e>0&&(a.top=t)}else"number"!=typeof a.height&&(a.height=A.offsetHeight+e),a.height+=e;else"number"!=typeof a.height&&(a.height=A.offsetHeight+e),a.height+=e}if(void 0!==i&&(a.height=i),void 0!==n||void 0!==i){const e={};void 0!==i&&(e.height=i),void 0!==n&&(e.width=n),"function"==typeof o?o(arguments[0],e):"object"==typeof o&&"function"==typeof(null===(s=o.value)||void 0===s?void 0:s.set)&&o.value.set(M,e)}requestAnimationFrame((e=>{m.notifyEleChanged()}))};if("function"==typeof o);else if("object"==typeof o){const{options:s}=o;let a,c;a="function"==typeof s?s(M):s,Array.isArray(a)?(n=a.find((e=>"width"===e)),i=a.find((e=>"height"===e))):"object"==typeof a&&(n=void 0!==a.width,i=void 0!==a.height),"function"==typeof o.ifVisible&&(c=(...e)=>{const t=o.ifVisible(...e);return"boolean"==typeof t&&t}),t.addItem((()=>(0,l.Z)({options:a||["width"],ifVisible:c,value:{set(e,{state:t}){r(...arguments),"start"===t&&m.state.editing(),"finish"===t&&(m.state.editingRecover(),y.reFocus(m))}}},e)))}t.addItem((()=>(0,s.Z)({options:{width:{title:"宽",disabled:!n},height:{title:"高",disabled:!i}},value:{sync:!0,get(){const e=m.style,t="number"==typeof e.width?e.width:null==A?void 0:A.clientWidth,n="number"==typeof e.height?e.height:null==A?void 0:A.clientHeight;return{width:{value:t,auto:"fit-content"===e.width,fill:"100%"===e.width},height:{value:n,auto:"auto"===e.height,flex:1===e.flex||"100%"===e.height}}},set({width:e,height:t}){const o=m.style;if(n){const{value:t,auto:n,fill:i}=e;let r=t;n&&(r="fit-content"),i&&(r="100%"),o.width=r}if(i){const{value:e,auto:n,flex:i}=t;let r=e;n&&(r="auto"),i?(r="100%",o.flex=1):o.flex=void 0,o.height=r}r({style:o},{width:e,height:t}),Promise.resolve().then((e=>{m.notifyEleChanged()}))}}},e)))}m.isStyleLayoutAbsoluteOrFixed()||t.addItem((0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:{title:"外边距",type:"inputNumber",options:[{title:"上",width:55},{title:"下",width:55},{title:"左",width:55},{title:"右",width:55}],value:{get:()=>[m.style.marginTop,m.style.marginBottom,m.style.marginLeft,m.style.marginRight],set({style:e},[t,n,i,o]){m.style.marginTop=t,m.style.marginBottom=n,m.style.marginRight=o,m.style.marginLeft=i}}},ele:A,sysEditor:!0}));const i=null===(I=null===(C=g.configs.editView)||void 0===C?void 0:C.geoCom)||void 0===I?void 0:I.appendEditors;Array.isArray(i)&&i.forEach((n=>{"string"==typeof n.title&&"string"==typeof n.type&&"object"==typeof n.value&&t.addItem((0,d.Bb)({selector:E,comContext:e,edtContext:M,editor:{title:n.title,type:n.type,description:n.description,value:{get(){if("function"==typeof n.value.get)return n.value.get(M)},set(e,t){"function"==typeof n.value.set&&n.value.set(M,t)}}},ele:A,sysEditor:!0}))}))}n.addItem((0,a.Z)(e))}}return w}(e,t);const v=null==n?void 0:n.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)));if(b)return v;{const e=h.configs.editView.panelAppender;if("function"==typeof e){let t;if(m.editors){const e=m.editors.view||m.editors;e&&(t=e[o.tD])}const n=e("com",{id:f.id,title:f.runtime.title||m.title,def:m,data:f.data,spm:{get:()=>f.runtime.model.spm,set(e){f.runtime.model.spm=e}}});if(n&&"object"==typeof n&&"string"==typeof n.title&&"function"==typeof n.render){const e=new i.Af.Category(n.title||"未命名"),t=new i.Af.Group("");e.addGroup(t),t.addItem(new i.Af.FunctionItem(n.render)),v.push(e)}}return v}}},76283:(e,t,n)=>{n.d(t,{U:()=>a});var i=n(79127),o=n(92702),r=n(10741),s=n(90359);function a(e,t){(0,r.S1)();const n=function(e,t){const{model:n,comDef:a,context:l,emitItem:c,emitIOCAbout:d,emitSnap:u,viewContext:p}=e,f=[],m=o.tD,h=new i.Af.Category("错误的组件"),g=new i.Af.Group("");g.addItem((()=>s.createElement("div",{style:{padding:10,fontStyle:"italic",color:"red"}},t))),h.addGroup(g);const y=new i.Af.Group("");return y.fixedAt="bottom",y.addItem((0,r.Bb)({selector:m,comContext:e,edtContext:{},editor:{title:"删除",type:"button",options:{type:"danger"},value:{set(e,t){const i=u.start("itemDelete",{target:n});c.delete(n),c.focus(void 0),i.commit()}}},sysEditor:!0})),h.addGroup(y),f.push(h),f}(e,t);return null==n?void 0:n.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}},67845:(e,t,n)=>{n.d(t,{Q:()=>l});var i=n(79127),o=n(92702),r=n(11885),s=n(90359),a=i.Af.Group;function l(e){let t;const{model:n}=e,s=n.focusArea;return t=s&&s.isValid()?function(e){const{model:t,comDef:n}=e,o=((0,r.e)(e),[]),s=(t.$el,t.focusArea);if(s&&s.isValid()&&n.editors){const a=n.editors.view||n.editors;let{ele:l,selectors:d}=s;function u(e,t,n){if(t){const[n,o,r]=t,s=new i.Af.Group;s.addItems(n),s.items&&e.addGroup(s)}}d&&Object.keys(d).forEach((t=>{const n=a[t];function l(n){var a,l,d;const p=[];p.push({type:"default",title:null,items:[]}),p.push({type:"normal",title:null,items:null}),p.push({type:"normal",title:null,items:null});const f=n((0,r.e)(e),p[0],p[1],p[2]);if((null==f?void 0:f.title)&&(s.title=f.title),(null===(a=p[0].items)||void 0===a?void 0:a.length)>0){const n=c(t,p[0].items,e),[r,s,a]=n,l=new i.Af.Category(p[0].title||s||"区域");o.push(l),u(l,n,t)}if((null===(l=p[1].items)||void 0===l?void 0:l.length)>0){const n=c(t,p[1].items,e),r=new i.Af.Category(p[1].title||"无标题");o.push(r),u(r,n,t)}if((null===(d=p[2].items)||void 0===d?void 0:d.length)>0){const n=c(t,p[2].items,e),r=new i.Af.Category(p[2].title||"无标题");o.push(r),u(r,n,t)}}if("function"==typeof n)l(n);else if("object"==typeof n&&"function"==typeof n.items)l(n.items),(null==n?void 0:n.title)&&(s.title=n.title);else{const r=c(t,n,e);if(r){let[e,t,n]=r,s=new i.Af.Group;if(e){let n=new i.Af.Category(t||"区域");o.push(n),n.addGroup(s),s.addItems(e)}}}}))}return o}(e):function(e){var t,n;const{model:s,comDef:a,context:l,emitItem:d,emitIOCAbout:u,emitSnap:p,viewContext:f}=e,m=[],h=o.tD;s.$el.firstChild;let g,y;a.editors&&(g=a.editors.view||a.editors,g&&(y=g[o.tD]));y||(y=[]);if("function"==typeof y||"object"==typeof y&&"function"==typeof y.items){let o;o="function"==typeof y?y:y.items;const l=[];l.push({type:"default",title:null,items:[]}),l.push({type:"normal",title:null,items:null}),l.push({type:"normal",title:null,items:null}),o((0,r.e)(e),l[0],l[1],l[2]);const d=s.runtime.title||a.title,u=new i.Af.Category(d);let p;if(m.push(u),l[0].items&&(p=c(h,l[0].items,e)),b(u,p),(null===(t=l[1].items)||void 0===t?void 0:t.length)>0){const t=new i.Af.Category(l[1].title||"无标题");m.push(t);b(t,c(h,l[1].items,e))}if((null===(n=l[2].items)||void 0===n?void 0:n.length)>0){const t=new i.Af.Category(l[2].title||"无标题");m.push(t);b(t,c(h,l[2].items,e))}}else{const t=new i.Af.Category({title:s.runtime.title||a.title,setTitle(e){s.runtime.title=e}});m.push(t);b(t,c(h,y,e))}function b(e,t){if(t){const[n,o]=t,r=new i.Af.Group({});r.addItems(n),r.items&&e.addGroup(r)}}return m}(e),null==t?void 0:t.map((e=>(e.groups&&e.groups.forEach((e=>{e.items&&(e.items=e.items.filter((e=>e)))})),e)))}function c(e,t,n){const{comDef:i,model:o}=n,s=(0,r.e)(n);let a,l=[];if(!Array.isArray(t)&&"object"==typeof t){if(!t.items)return;if("function"==typeof t.items)t=t.items(s);else{if(!Array.isArray(t.items))throw new Error(`Invalid value type for selector(${e}) in component(${i.namespace}),expect {items:[],title:string}.`);t=t.items}a=t.title}return t.forEach((t=>{if("function"==typeof t||t.type)l.push(u({selector:e,comContext:n,edtContext:s,editor:t}));else if("object"==typeof t)if(Array.isArray(t.items)){const i=d(e,n,t);i.items&&i.items.length>0&&l.push(i)}else if("function"==typeof t.items){const i=d(e,n,t);i.items&&i.items.length>0&&l.push(i)}})),[l,a]}function d(e,t,n){let i;"function"==typeof n.ifVisible&&(i=()=>{const e=n.ifVisible((0,r.e)(t));return"boolean"==typeof e&&e});const o=(0,r.e)(t),s=new a({title:n.title});if(Array.isArray(n.items))n.items.forEach((n=>{if(Array.isArray(n.items)){const i=d(e,t,n);s.addItem(i)}else("function"==typeof n||n.type||Array.isArray(n.items))&&s.addItem(u({selector:e,comContext:t,edtContext:o,editor:n}))}));else if("function"==typeof n.items){const i=n.items(o);Array.isArray(i)&&i.forEach((n=>{if(Array.isArray(n.items)){const i=d(e,t,n);s.addItem(i)}else("function"==typeof n||n.type||Array.isArray(n.items))&&s.addItem(u({selector:e,comContext:t,edtContext:o,editor:n}))}))}return s}function u({selector:e,comContext:t,edtContext:n,editor:o}){const{model:r,context:a,emitSnap:l,emitLogs:c,emitVariable:d,viewContext:u}=t;if((!r.runtime.isBluePrint||a.isDesnModeOfBluePrint()||o.id&&r.isEditorReserved(e,o.id))&&("function"==typeof o&&(o=o(n)),"object"==typeof o)){if(s.isValidElement(o))return;if(o.type&&"_event"===o.type.toLowerCase()){let e=o.options;if("function"==typeof e)try{e=()=>{const e=o.options(n);return e&&"object"==typeof e&&!Array.isArray(e)?e:{options:e}}}catch(e){return console.error(e),new i.Af.ErrorItem({title:`${o.title}.options 发生错误.`,description:e.message})}return{title:o.title,type:o.type,options:e}}}}},10741:(e,t,n)=>{n.d(t,{Bb:()=>h,RL:()=>g,S1:()=>f,r9:()=>m});var i=n(11885),o=n(79127),r=n(83446),s=n(92702),a=n(45761),l=n(95201),c=n(6941),d=n(90359),u=o.Af.Group;let p=[];function f(){p=[]}function m(e,t){const{model:n,comDef:r}=e,a=(0,i.e)(e),l=[],c=n.$el,d=n.focusArea;if(d&&d.isValid()&&r.editors){const u=r.editors.view||r.editors;let{ele:p,selectors:f}=d;function m(t,n,i){if(n){const[r,s,l]=n,c=new o.Af.Group({onCatelogChange:"object"==typeof l?h({selector:i,comContext:e,edtContext:a,editor:Object.assign(Object.assign({},l),{value:{get(){var e;if("function"==typeof(null===(e=l.value)||void 0===e?void 0:e.get))return l.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=l.value)||void 0===n?void 0:n.set)&&l.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:p}):void 0});c.addItems(r),c.items&&t.addGroup(c)}}function y({selector:t,editors:r}){var a;const d=r.style;if(!d)return;const u={v:!0};function f(e){u.v=!u.v}const m=new o.Af.Category("样式"),y=(0,i.e)(e);function b(i){let o,r,a;i.target?"function"==typeof i.target?o=i.target(y):("string"==typeof i.target||Array.isArray(i.target))&&(o=i.target):o=function(e){const n=t.split(/\s/).map((t=>{var n;if(t.match(/^\[.*\]$/)){const i=t.substring(1,t.length-1),o=e.ele.getAttribute(i);if(void 0!==o){if("object"==typeof d){const e=null===(n=d.options)||void 0===n?void 0:n.target;if(e)return`[${i}=${o}] ${e}`}return`[${i}=${o}]`}}return t})).join(" ");return n}(n.focusArea),i.domTarget?"function"==typeof i.domTarget?r=i.domTarget(y):("string"==typeof i.domTarget||Array.isArray(i.domTarget))&&(r=i.domTarget):r=o,"function"==typeof i.ifVisible&&(a=(...e)=>{const t=i.ifVisible(...e);return"boolean"==typeof t&&t});const l=n.runtime.model.style;return h({selector:t,comContext:e,edtContext:y,editor:{title:i.title||"常规",type:s.py,description:"常规样式",catelog:i.catelog,ifVisible:a,ifRefresh:()=>u.v,options:()=>({get targetDom(){let e;try{if("string"==typeof r)r=r.replace(/\{id\}/gi,n.id),e=c.querySelector(":scope "+r);else if(Array.isArray(r)&&r.length>0){r[0].replace(/\{id\}/gi,n.id);e=c.querySelector(":scope "+r[0])}}catch(e){}return e},plugins:i.options,comId:n.id,selector:o,defaultOpen:i.folded||!1}),value:{get({focusArea:e}){if("string"==typeof o){const e=l.getStyle(o);if(e)return e.css}else if(Array.isArray(o)&&o.length>0){const e=l.getStyle(o[0]);if(e)return e.css}},set({focusArea:e},t){"string"==typeof o?(l.addStyle(o,t,i.global),l.themesId=s.W$):Array.isArray(o)&&o.length>0&&(o.forEach((e=>{l.addStyle(e,t,e.global)})),l.themesId=s.W$)}}}})}const v=function n(i){const r=[];if(Array.isArray(i)){let s=[];const a=()=>{if(s.length>0){const n=g(t,s,e,void 0,p,!1,f);if(s=[],n){const[e,t]=n;if(e.length>0)return e}}};i.forEach((e=>{if(e.value)s.push(e);else{if(s.length>0){const e=a();e&&r.push(...e)}if(e.items){const t=n(e.items);if(t.length>0){const n=new o.Af.Group({ifVisible:"function"==typeof e.ifVisible?()=>e.ifVisible(y):void 0,title:e.title,onCatelogChange:e.catelogChange});n.addItems(t),r.push(n)}}else{const t=a();t&&r.push(...t);const n=b(e);r.push(n)}}}));const l=a();l&&r.push(...l)}else{const e=b(i);r.push(e)}return r}(d);if(v.length>0){const e=new o.Af.Group;e.addItems(v),m.addGroup(e)}(null===(a=m.groups)||void 0===a?void 0:a.length)>0&&l.push(m)}f&&Object.keys(f).forEach((n=>{const r=u[n];function s(r){var s,a,u;const f=[];f.push({type:"default",title:null,items:[]}),f.push({type:"normal",title:null,items:null}),f.push({type:"normal",title:null,items:null});const h=r((0,i.e)(e),f[0],f[1],f[2]);if((null==h?void 0:h.title)&&(d.title=h.title),(null===(s=f[0].items)||void 0===s?void 0:s.length)>0){const i=g(n,f[0].items,e,c,p,t),[r,s,a]=i,d=new o.Af.Category(f[0].title||s||"区域");l.push(d),m(d,i,n)}if((null===(a=f[1].items)||void 0===a?void 0:a.length)>0){const i=g(n,f[1].items,e,c,p,t),r=new o.Af.Category(f[1].title||"无标题");l.push(r),m(r,i,n)}if((null===(u=f[2].items)||void 0===u?void 0:u.length)>0){const i=g(n,f[2].items,e,c,p,t),r=new o.Af.Category(f[2].title||"无标题");l.push(r),m(r,i,n)}}if("function"==typeof r)s(r);else if("object"==typeof r&&"function"==typeof r.items)s(r.items),(null==r?void 0:r.title)&&(d.title=r.title),y({selector:n,editors:r});else{const i=g(n,r,e,c,p,t);if(i){let[t,r,s]=i,c=new o.Af.Group({onCatelogChange:"object"==typeof s?h({selector:n,comContext:e,edtContext:a,editor:Object.assign(Object.assign({},s),{value:{get(){var e;if("function"==typeof(null===(e=s.value)||void 0===e?void 0:e.get))return s.value.get(...arguments)},set(e,t){var n;"function"==typeof(null===(n=s.value)||void 0===n?void 0:n.set)&&s.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:p}):void 0});if(t){let e=new o.Af.Category(r||"区域");l.push(e),e.addGroup(c),c.addItems(t)}}y({selector:n,editors:r})}}))}return l}function h({selector:e,comContext:t,edtContext:n,editor:i,ele:u,sysEditor:f,sameAsShortcut:m,onValueChanged:h}){const{model:g,context:y,emitSnap:b,emitLogs:v,emitVariable:x,viewContext:w}=t;if((!g.runtime.isBluePrint||y.isDesnModeOfBluePrint()||i.id&&g.isEditorReserved(e,i.id))&&(p.push(i),"function"==typeof i&&(i=i(n)),"object"==typeof i)){if(d.isValidElement(i))return new o.Af.FunctionItem((()=>i));let E,A,_=i.options;if("function"==typeof _)try{_=()=>{const e=i.options(n);return e&&"object"==typeof e&&!Array.isArray(e)?e:{options:e}}}catch(e){return console.error(e),new o.Af.ErrorItem({title:`${i.title}.options 发生错误.`,description:e.message})}"function"==typeof i.ifVisible&&(E=()=>{const e=p.indexOf(i)>=0;if(!g.hadDestroyed()&&e)return(0,r.pI)((()=>{if(!g.focusArea||g.focusArea.isValid())return(0,r.GQ)((()=>{const e=i.ifVisible(n);return"boolean"==typeof e&&e}))}))}),i.id&&(f||(y.isDesnModeOfBluePrint()&&g.runtime.isBluePrint&&(A=!0),y.isDesnModeOfComponent()&&(A=!0)));const C={catelog:i.catelog,title:i.title,type:i.type,selector:i.selector,description:i.description,selectable:A,selected:{get:()=>g.isEditorReserved(e,i.id),set(t){t?g.reserveEditor(e,i.id):g.abandonEditor(e,i.id)}},binding:function(){if(i.binding&&i.binding.with)return{get(){const e=g.runtime.model.bindingsFrom;if(e){const t=e[i.binding.with];if(t)return x.get(t)}},set(){let e,t=g.runtime.model.bindingsFrom;t&&(e=t[i.binding.with]);const n=x.getAllBaseOn(g.id);w.emitViews.popView("选择变量",(({close:o})=>d.createElement(l.Z,{curVarId:e,varAry:n,bindVar:e=>{o(),t||(t=g.runtime.model.bindingsFrom={}),t[i.binding.with]=e.id},removeBinding:e=>{o(),t[i.binding.with]=void 0,delete t[i.binding.with]}})),{width:350,beforeEditView:!0})}}}(),value:{get(){var t;if((e===s.tD||g.focusArea&&g.focusArea.isValid())&&(!g.focusArea||g.focusArea.isValid())){let e;try{null===(t=i.value)||void 0===t||t.sync,e=(i.value&&i.value.get||(()=>{}))(n)}catch(e){return console.error(e),void v.error(`编辑器(${i.title}.value.get)发生错误.`,e.message)}return"object"==typeof e&&e&&(e=(0,r.d9)(e,!0)),null==e?null:e}},set(e,t){if(!y.isDebugMode()&&void 0!==e){const o=b.start(`编辑组件${g.runtime.title} 的 ${i.title}`,{target:g}),s=i.value&&i.value.set||(()=>{});i.selector&&(null==t?void 0:t.ele)&&(n.focusArea={ele:t.ele,dataset:t.ele.dataset});try{(0,r.vq)((({ary:i,bat:o})=>{s(n,e,t);const r=[],l=[];i.forEach((e=>{let t,n=e.nodeInfo.parent;for(;n;){if(n.component===a.Z){t=!0;break}n=n.parent}t?r.push(e):l.push(e)})),r.length>0?(o((()=>{r.forEach((e=>{g.hadDestroyed()&&e.nodeInfo.comoponent===c.Z||e.update()}))})),l.length>0&&requestAnimationFrame((()=>{o((()=>{l.forEach((e=>{e.update()}))}))}))):o((()=>{l.forEach((e=>{e.update()}))}))}))}catch(e){return console.error(e),void v.error(`编辑器(${i.title}.value.set)发生错误.`,e.message)}g.focusArea?Promise.resolve().then((e=>{g.focusArea.notifyEleChanged(),g.focusArea&&!g.focusArea.isValid()&&(g.focusArea=void 0,g.notifyFocusAreaDeleted())})):Promise.resolve().then((e=>{g.notifyEleChanged(!0)})),"ing"===(null==t?void 0:t.state)&&g.state.editing(),t&&t.state&&"finish"!==t.state?o.wait():(g.state.editingRecover(),o.commit()),"function"==typeof h&&h(e)}}},options:_,ifVisible:E,ifRefresh:i.ifRefresh,ele:u,comModel:t.model,comEle:t.model.$el,canvasEle:w.viewModel.canvasWrapEle,zoom:w.viewModel.style.zoom};return m=void 0!==m?m:"shortcut"===i.sameAs,new o.Af.EditItem(C,m)}}function g(e,t,n,r,s,a,l){const{comDef:c,model:d}=n,u=(0,i.e)(n);let p,f,m=[];if(!Array.isArray(t)&&"object"==typeof t){if(!t.items)return;if("function"==typeof t.items)t=t.items(u);else{if(!Array.isArray(t.items))throw new Error(`Invalid value type for selector(${e}) in component(${c.namespace}),expect {items:[],title:string}.`);t=t.items}f=t.catelogChange,p=t.title}return t.forEach((t=>{if("function"==typeof t||t.type)m.push(h({selector:e,comContext:n,edtContext:u,editor:t,ele:s,onValueChanged:l}));else if("object"==typeof t)if(Array.isArray(t.items)){const i=y(e,n,t,s,l);i.items&&i.items.length>0&&m.push(i)}else if("function"==typeof t.items){const i=y(e,n,t,s,l);i.items&&i.items.length>0&&m.push(i)}else t.catalogs&&Array.isArray(t.catalogs)||t.type||m.push(new o.Af.SeperatorItem)})),[m,p,f]}function y(e,t,n,o,r){let s;"function"==typeof n.ifVisible&&(s=()=>{const e=n.ifVisible((0,i.e)(t));return"boolean"==typeof e&&e});const a=(0,i.e)(t),l=new u({title:n.title,description:n.description,sameAsShortcut:"shortcut"===n.sameAs,catelog:n.catelog,onCatelogChange:"object"==typeof n.catelogChange?h({selector:e,comContext:t,edtContext:a,editor:Object.assign(Object.assign({},n.catelogChange),{value:{get(){var e;if("function"==typeof(null===(e=n.catelogChange.value)||void 0===e?void 0:e.get))return n.catelogChange.value.get(...arguments)},set(e,t){var i;"function"==typeof(null===(i=n.catelogChange.value)||void 0===i?void 0:i.set)&&n.catelogChange.value.set(Object.assign(Object.assign({},e),{catelog:t}))}}}),ele:o}):void 0,ifVisible:s,folded:n.folded});if(Array.isArray(n.items))n.items.forEach((n=>{if(Array.isArray(n.items)){const i=y(e,t,n,o);l.addItem(i)}else("function"==typeof n||n.type||Array.isArray(n.items))&&l.addItem(h({selector:e,comContext:t,edtContext:a,editor:n,ele:o,onValueChanged:r}))}));else if("function"==typeof n.items){const i=n.items(a);Array.isArray(i)&&i.forEach((n=>{if(Array.isArray(n.items)){const i=y(e,t,n,o);l.addItem(i)}else("function"==typeof n||n.type||Array.isArray(n.items))&&l.addItem(h({selector:e,comContext:t,edtContext:a,editor:n,ele:o,onValueChanged:r}))}))}return l}},52519:(e,t,n)=>{n.d(t,{$E:()=>r,IS:()=>o,c5:()=>i});n(854);function i(e){if(e.editors){let t=e.editors.layout||e.editors;if(t)return t}}function o(e){let t=e&&e.editors;if(t){const e=t.layout||t;if(e){const t=Object.keys(e);if(t)return t.map((t=>{if("logic"!==t)return{selector:t,edtAry:e[t],viewOn:e}})).filter((e=>e))}}return[]}function r(e,t,n){if(!t.$el)return;const i=[];function s(e){let t;if(e.parent&&!e.parent.isRoot()&&(t=e.parent.parent)){return r(e.$el,t,n)}}if(void 0===e)return s(t);{const r=n.getComDef(t.runtime.def),a=o(r);let l=e.parentNode;for(;l&&l!==t.$el.firstChild;){const e=l.parentNode;e&&a.find((({selector:n,edtAry:o,viewOn:r})=>{if("*"!==n){let r;try{r=e.querySelectorAll(n)}catch(t){try{r=e.querySelectorAll(":scope"+n)}catch(e){}}if(r){[].indexOf.call(r,l)>=0&&i.push({type:"zone",model:t,ele:l,title:Array.isArray(o)?"未标题":o.title})}}})),l=l.parentNode}i.push({type:"com",model:t,title:t.runtime.title||r.title,ele:t.$el});const c=s(t);return c?c.concat(i.reverse()):i.reverse()}}},70261:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(35534),o=n(79127),r=n(90359),s=n(90359);function a(e){return s.createElement(l,{comContext:e})}function l({comContext:e}){const{model:t,comDef:n,emitItem:a,emitViews:l}=e,d=t.runtime.upgrade,[u,p]=(0,r.useState)(!0),f=(0,r.useCallback)((()=>{l.popView(n.title,(t=>s.createElement(c,{comContext:e})),{width:400})}),[]);return s.createElement("div",{className:i.Z.comInfo},s.createElement("div",{className:i.Z.info},n.title,s.createElement("span",{className:i.Z.version},"(",t.runtime.def.version,")"),s.createElement("span",{className:i.Z.docs,onClick:f},o.PJ.tip,"组件说明")),d&&u?s.createElement("div",{className:`${i.Z.upgrade}`},s.createElement("div",null,o.PJ.alert,s.createElement("span",null,"发现新版本",d.version," ")),s.createElement("div",null,s.createElement("button",{onClick:()=>{a.upgrade(t),p(!1)}},"升级"),s.createElement("button",{onClick:()=>{a.upgrade(t,"all"),p(!1)}},"升级全部"))):null)}function c({comContext:e}){const{model:t,comDef:n,emitItem:o,emitViews:r}=e,a=o.getDocs(t.id);let l;return a&&(l=a.map(((e,t)=>s.createElement("div",{key:t,style:{borderTop:"1px solid #EEE",paddingTop:10}},e)))),s.createElement("div",{className:i.Z.comDocs},s.createElement("div",{className:i.Z.item,style:{borderBottom:"1px solid #EEE",paddingBottom:10}},s.createElement("label",null,"ID:")," ",t.id),s.createElement("div",{className:i.Z.item},s.createElement("label",null,"作者:")," ",n.author),s.createElement("div",{className:i.Z.item},s.createElement("label",null,"版本:")," ",t.runtime.def.version),s.createElement("div",{className:i.Z.item},s.createElement("label",null,"namespace:")," ",t.runtime.def.namespace),l)}},90869:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(35357),o=n(90359),r=n(83446),s=n(23037),a=n(79127),l=n(90359);function c(e){if(e.context.isDesnMode())return l.createElement(u,{comContext:e})}class d{setX(e){if(this.x=e,/^-?\d+(\.\d+)?$/.test(e=""==e?0:e)){const t=this.model,n=t.style,i=this.emitSnap.start(`修改组件 ${t.runtime.title} 的X坐标`,{target:t}),o=parseFloat(e);void 0!==n.right?n.right=o:n.left=o,n.suggestLeft=void 0,i.commit(),t.notifyEleChanged(!0)}}setY(e){if(this.y=e,/^-?\d+(\.\d+)?$/.test(e=""==e?0:e)){const t=this.model,n=t.style,i=this.emitSnap.start(`修改组件 ${t.runtime.title} 的Y坐标`,{target:t}),o=parseFloat(e);void 0!==n.bottom?n.bottom=o:n.top=o,n.suggestTop=void 0,i.commit(),t.notifyEleChanged(!0)}}}function u({comContext:e}){const{model:t,viewContext:n,emitItem:c}=e,{context:u,viewModel:p,emitSnap:f}=n,m=(u.getComDef(t.runtime.def),t.style),h=(0,r.mA)(d,(e=>{var n;const i=u.configs.geoView;e({forMobile:"mobile"===(null===(n=null==i?void 0:i.type)||void 0===n?void 0:n.toLowerCase()),viewModel:p,model:t,emitSnap:f})}));(0,r.vc)((()=>{const e=t.style,n="absolute"==t.parent.style.getLayout(),i="relative"===e.position||!n&&!e.position,o="absolute"===e.position||n&&!e.position;if(i){const e=(0,s.bt)(t.$el,t.root.$el);h.position="relative",h.x=e.x,h.y=e.y}else o?h.position="absolute":"fixed"===e.position&&(h.position="fixed"),void 0!==e.suggestLeft?h.x=e.suggestLeft:void 0!==e.right?h.x=e.right:h.x=e.left,void 0!==e.suggestTop?h.y=e.suggestTop:void 0!==e.bottom?h.y=e.bottom:h.y=e.top}));const g=(0,o.useCallback)((e=>{const n=e.target.value;if("relative"===h.position){const e=(0,s.bt)(t.$el,t.root.$el);m.left=e.x,m.top=e.y}"relative"===n?(t.$el.style.display="relative",m.position=n,requestAnimationFrame((e=>{c.reFocus(t)}))):(m.position=n,c.reFocus(t))}),[]),y=(0,o.useCallback)((e=>{const n=t.$el,i=t.parent.$el.offsetWidth;void 0!==m.right?(m.left=i-m.right-n.offsetWidth,m.right=void 0):(m.right=i-m.left-n.offsetWidth,m.left=void 0)}),[]),b=(0,o.useCallback)((e=>{const n=t.$el,i=t.parent.$el.offsetHeight;void 0!==m.bottom?(m.top=i-m.bottom-n.offsetHeight,m.bottom=void 0):(m.bottom=i-m.top-n.offsetHeight,m.top=void 0)}),[]),v=(0,r.vc)((()=>l.createElement("select",{value:h.position,className:i.Z.po,onChange:g},l.createElement("option",{value:"relative"},"排版","relative"===h.position?" *":""),l.createElement("option",{value:"absolute"},"自由","absolute"===h.position?" *":""),t.parent.parent?null:l.createElement("option",{value:"fixed"},"固定")))),x=(0,r.vc)((()=>{if("relative"===h.position)return l.createElement(l.Fragment,null,l.createElement("label",null,"X"),l.createElement("input",{type:"text",value:h.x,readOnly:!0,style:{opacity:.5}}),l.createElement("label",null,"Y"),l.createElement("input",{type:"text",value:h.y,readOnly:!0,style:{opacity:.5}}));if("absolute"===h.position||"fixed"===t.style.position){const e=void 0!==m.right,t=void 0!==m.bottom;return l.createElement(l.Fragment,null,l.createElement("label",{onClick:y,className:`${i.Z.handler} ${e?i.Z.attention:""}`},e?a.PJ.arrowRight:a.PJ.arrowLeft,"X"),l.createElement("input",{type:"text",value:h.x||0,onChange:e=>h.setX(e.target.value)}),l.createElement("label",{onClick:b,className:`${i.Z.handler} ${t?i.Z.attention:""}`},t?a.PJ.arrowDown:a.PJ.arrowTop,"Y"),l.createElement("input",{type:"text",value:h.y||0,onChange:e=>h.setY(e.target.value)}))}}));return l.createElement("div",{className:`${i.Z.edt}`},l.createElement("div",{className:i.Z.tt},"位置"),l.createElement("div",{className:`${i.Z.content}`},v,l.createElement("div",{className:i.Z.options},x)))}},36584:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(83446),s=n(47592),a=n(79127);function l(e,t){if(t.context.isDesnMode())return o().createElement(d,{editConfig:e,comContext:t})}class c{snapCommit(e){const t=this.comContext.emitSnap.start("resize",{target:this.comContext.model});e(),t.commit()}setWidth(e,t){"value"===e?/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)&&this.snapCommit((()=>{this.width=t,this.val.width.value=parseFloat(t),this.value.set(this.val)})):this.snapCommit((()=>{"auto"===e?this.val.width.fill=!1:"fill"===e&&(this.val.width.auto=!1),this.val.width[e]=t,this.value.set(this.val)}))}setHeight(e,t){"value"===e?/^-?\d+(\.\d*)?$/.test(t=""==t?0:t)&&this.snapCommit((()=>{this.height=t,this.val.height.value=parseFloat(t),this.value.set(this.val)})):this.snapCommit((()=>{"auto"===e?this.val.height.flex=!1:"flex"===e&&(this.val.height.auto=!1),this.val.height[e]=t,this.value.set(this.val)}))}}function d({editConfig:e,comContext:t}){const{model:n}=t,{value:i,options:l=[]}=e,d=(0,r.mA)(c,(e=>{const n=i.get();e({comContext:t,val:n,value:i})}),[]);(0,r.vc)((()=>{n.listenForEleChanged();const e=i.get();d.width=e.width.value,d.height=e.height.value}));const u=d.val,p=l.width.disabled,f=l.height.disabled,m=p||u.width.fill||u.width.auto,h=f||u.height.flex||u.height.auto;return o().createElement("div",{className:`${s.Z.edt} ${n.isPopup?s.Z.disable:""}`},o().createElement("div",{className:s.Z.item},o().createElement("div",{className:s.Z.tt},"宽"),o().createElement("input",{type:"text",value:d.width,disabled:m,onChange:e=>{d.setWidth("value",e.target.value)}}),o().createElement("div",{className:s.Z.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${d.val.width.auto?s.Z.active:""} ${p?s.Z.disabled:""}`,onClick:e=>{p||d.setWidth("auto",!d.val.width.auto)}},a.PJ.fitContentW),o().createElement("span",{"data-mybricks-tip":"100%",className:`${d.val.width.fill?s.Z.active:""} ${p?s.Z.disabled:""}`,onClick:e=>{p||d.setWidth("fill",!d.val.width.fill)}},a.PJ.fullWidth))),o().createElement("div",{className:s.Z.item},o().createElement("div",{className:s.Z.tt},"高"),o().createElement("input",{type:"text",value:d.height,disabled:h,onChange:e=>{d.setHeight("value",e.target.value)}}),o().createElement("div",{className:s.Z.icons},o().createElement("span",{"data-mybricks-tip":"适应内容",className:`${d.val.height.auto?s.Z.active:""} ${f?s.Z.disabled:""}`,onClick:e=>{f||d.setHeight("auto",!d.val.height.auto)}},a.PJ.fitContentH),o().createElement("span",{"data-mybricks-tip":"100%",className:`${d.val.height.flex?s.Z.active:""} ${f?s.Z.disabled:""}`,onClick:e=>{f||d.setHeight("flex",!d.val.height.flex)}},a.PJ.fullHeight))))}},53619:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(23037);class o{refreshPo(e){const t=this.comContext,{viewContext:n,model:o}=t,{viewModel:r,mover:s}=n,a=t.model.$el.children[0],l=(0,i.bt)(a,r.canvasTransEle);this.showTips=e,s.show(l,o,e)}finishPo(){this.showTips=void 0;const e=this.comContext,{viewContext:t,model:n}=e,{viewModel:i,mover:o}=t;o.hide()}}},7300:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(24318),o=n(83446),r=n(23037),s=n(90359),a=n.n(s),l=n(58938),c=n(53619);const d=7;let u;function p(e,t){if(t.context.isDesnMode())return a().createElement(f,{editConfig:e,comContext:t})}function f({editConfig:e,comContext:t}){const{type:n,options:i,value:r}=e,{model:s,viewContext:l,context:d}=t,{viewModel:p}=l,f=s.$el;if(u=(0,o.mA)(c.Z,(e=>{e({comModel:s,comContext:t,comEle:f,value:r,top:{},right:{},bottom:{},left:{}})})),!s.hadDestroyed()){if(Array.isArray(i)){if(-1==i.indexOf("width")&&-1==i.indexOf("height"))return}else if("object"==typeof i&&void 0===i.width&&void 0===i.height)return;return a().createElement(m,{comContext:t,editConfig:e})}}function m({comContext:e,editConfig:t}){const{model:n,viewContext:c,context:d}=e,p=n.$el,{viewModel:f}=c,m=f.style.zoom,g=f.canvasTransEle,{type:y,options:b,value:v}=t,x=n.style,w=x.getMarginTopAsNum(!0),E=x.getMarginBottomAsNum(!0),A=x.getMarginLeftAsNum(!0),_=x.getMarginRightAsNum(!0);n&&n.$el&&n.listenForEleChanged(),(0,s.useLayoutEffect)((()=>{const e=p,t=(0,r.bt)(e,g),i=(0,r.bt)(e,n.parent.$el),o=t.y-4,s=t.x+e.offsetWidth*m-4,a=t.y+e.offsetHeight*m-4,l=t.x-3;u.top=o+w,u.right=s-_,u.bottom=a-E,u.left=l+A,u.comTop=i.y+w,u.comLeft=i.x+A,u.comRight=i.x+e.offsetWidth*m,u.comBottom=i.y+e.offsetHeight*m}),[x.marginTop,x.marginLeft,x.marginRight,x.marginBottom,x.top,x.left,x.width,x.height,m,n._eleChanged]);const C=(0,o.vc)((()=>{n.listenForEleChanged();const e=p.children[0],t=e.offsetWidth,i=e.offsetHeight,o=[],r=void 0!==b.width||b.indexOf("width")>=0&&!["auto","100%"].includes(x.width),s=void 0!==b.height||b.indexOf("height")>=0&&!["auto","100%"].includes(x.height),c=n.state.isMoving()||u.showTips?"hidden":"visible";return r&&!s&&(o.push(a().createElement("div",{key:"left",className:l.Z.handlerH,style:{left:u.left,top:u.top+i*m/2,visibility:c},onMouseDown:e=>h(e,"left")})),o.push(a().createElement("div",{key:"right",className:l.Z.handlerH,style:{left:u.right,top:u.top+i*m/2,visibility:c},onMouseDown:e=>h(e,"right")}))),s&&!r&&(o.push(a().createElement("div",{key:"top",className:l.Z.handlerV,style:{left:u.left+t*m/2,top:u.top,visibility:c},onMouseDown:e=>h(e,"top")})),o.push(a().createElement("div",{key:"bottom",className:l.Z.handlerV,style:{left:u.left+t*m/2,top:u.bottom,visibility:c},onMouseDown:e=>h(e,"bottom")}))),r&&s&&(o.push(a().createElement("div",{key:"0",className:l.Z.handlerH,style:{left:u.left,top:u.top+1,cursor:"nw-resize",visibility:c},onMouseDown:e=>h(e,"left-top")})),o.push(a().createElement("div",{key:"1",className:l.Z.handlerH,style:{left:u.right,top:u.top+1,cursor:"ne-resize",visibility:c},onMouseDown:e=>h(e,"top-right")})),o.push(a().createElement("div",{key:"2",className:l.Z.handlerV,style:{left:u.right,top:u.bottom,cursor:"se-resize",visibility:c},onMouseDown:e=>h(e,"bottom-right")})),o.push(a().createElement("div",{key:"3",className:l.Z.handlerV,style:{left:u.left,top:u.bottom,cursor:"sw-resize",visibility:c},onMouseDown:e=>h(e,"left-bottom")}))),o})),I=(0,o.vc)((()=>{if(u.showTips){const e=p.children[0],t=e.offsetWidth,n=e.offsetHeight;return a().createElement("div",{className:l.Z.tip,style:{left:u.left+(u.right-u.left)/2+3,top:u.bottom}},a().createElement("span",null,t),"×",a().createElement("span",null,n))}}));if(!d.isDebugMode()&&(!n.state.isEditing()||u.showTips))return(0,i.createPortal)(a().createElement(a().Fragment,null,C,I),g)}function h(e,t){const{comContext:n}=u,{model:i,viewContext:r}=n,{emitSnap:s}=r,a=i.style,l=r.viewModel.style.zoom;let c,p,f,m,h;(0,o.qw)(e,(({po:{x:e,y:n},epo:{ex:o,ey:r},dpo:{dx:g,dy:y}},b)=>{if("start"==b&&(i.state.resizing(),u.refreshPo(t),c=t.indexOf("top")>=0,p=t.indexOf("bottom")>=0,f=t.indexOf("left")>=0,m=t.indexOf("right")>=0,f&&(a.resizingSnapLeft={oriLeft:a.left,oriWidth:a.width}),m&&(a.resizingSnapRight={oriLeft:a.left,oriWidth:a.width}),c&&(a.resizingSnapTop={oriTop:a.top,oriHeight:a.height}),p&&(a.resizingSnapBottom={oriTop:a.top,oriHeight:a.height}),h=s.start("改变组件尺寸",{target:i})),"moving"==b){let t,i;if(h.pauseNext(),(c||p)&&u.comBottom-u.comTop<=d&&y<=0&&(t=!0),(f||m)&&u.comRight-u.comLeft<=d&&g<=0&&(i=!0),!t&&(c&&u.value.set({top:Math.round(n/l)},{d:"top",state:"ing"}),p)){const e=n-u.comTop;u.value.set({height:Math.round(e/l)},{state:"ing"})}if(!i&&(f&&u.value.set({left:Math.round(e/l)},{d:"left",state:"ing"}),m)){const t=e-u.comLeft;u.value.set({width:Math.round(t/l)},{state:"ing"})}}"finish"===b&&(i.state.resizingRecover(),u.value.set({},{state:"finish"}),h.commit(),u.finishPo())}),{relDom:i.parent.$el})}},96660:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(98696),r=n(90359),s=n(76283),a=n(4259),l=n(90359);function c({model:e,type:t,msg:n}){const c=(0,i.N7)(o.Z,{from:"parents"}),{cssComNormal:f}=c.viewContext;(0,r.useMemo)((()=>{e.getConfigs=function(){return(0,s.U)(c,n)},e.getListeners=function(){return(0,a.U)(c)}}),[]);const m=(0,i.vc)((()=>[f.com,f.desn,f.error].join(" ")));return l.createElement("div",{onClick:(0,i.Ft)(p).stop,ref:t=>t&&(e.$el=t),onMouseOver:(0,i.Ft)(d).stop,onMouseOut:(0,i.Ft)(u).stop,className:m},l.createElement("p",null,n))}function d(){const{model:e,context:t,emitItem:n,emitSnap:r}=(0,i.N7)(o.Z);n.hover(e)}function u(){const{emitItem:e}=(0,i.N7)(o.Z);e&&e.hover(null)}function p(e){const t=(0,i.N7)(o.Z),{model:n,comDef:r,context:s,emitItem:a,emitSnap:l}=t;s.isDebugMode()||a.focus(n)}},19821:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(83446),o=n(90359),r=n.n(o),s=n(98696),a=n(62460),l=n(4259),c=n(76641);function d({mouseDown:e}){const t=(0,i.N7)(s.Z,{from:"parents"}),{model:n,viewContext:d,emitItem:g}=t,{context:y,cssComNormal:b}=d;(0,o.useMemo)((()=>{n.getConfigs=function(){return(0,a.U)(t)},n.getListeners=function(){return(0,l.U)(t)}}),[]);const v=(0,i.vc)((()=>{const e=[n.id,b.com,b.module,b.desn],t=n.runtime,i=n.style,o=n.state,r=i.isPositionAbsoluteOrFixed();return o.isOpened()&&e.push(b.opened),y.isConfigAsBluePrint()&&!t.isBluePrint&&e.push(b.opacity),y.isConfigAsBluePrint()||!t.isBluePrint||n.reservedEditorAry||e.push(b.ignore),n.locked&&e.push(b.locked),n._sayHi&&e.push(b.sayHi),i.isPositionAbsolute()&&e.push(b.abs),i.isPositionFixed()&&e.push(b.fixed),1===i.flex&&e.push(b.flex),!r&&n.parent.style.isLayoutOfFlexColumn()&&"100%"===i.height&&e.push(b.flex),o.isSelected()&&e.push(b.selected),o.isMoving()&&(n.isStyleLayoutAbsoluteOrFixed()?e.push(b.absMoving):e.push(b.staticMoving)),e.join(" ")}));(0,i.vc)((()=>{const e=n.style,t=n.proxySlot.style;"100%"===t.widthType?e.width="100%":void 0!==t.width&&t.width?e.width=t.width:e.width=void 0,void 0!==t.height&&t.height?e.height=t.height:e.height=void 0}));const x=(0,i.vc)(c.LQ);return(0,o.useEffect)((()=>{n.state.isFocused()&&g.focus(n)}),[]),r().createElement("div",{ref:e=>{e&&n.set$elOnce(e)},style:x,className:v,onMouseOver:(0,i.Ft)(f).stop,onMouseOut:(0,i.Ft)(m).stop,onClick:(0,i.Ft)(h).stop,onDoubleClick:(0,i.Ft)(p).stop,onMouseDown:(0,i.Ft)((n=>e(n,t))).stop},r().createElement(u,{comContext:t}))}function u({comContext:e}){const{comDef:t,model:n,viewContext:s}=e,{emitModule:a}=s;(0,o.useMemo)((()=>{n.runtime.model.data.definedId=n.proxySlot.id}),[]);const[l,d]=(0,i.vc)((()=>{const e=a.get(n.proxySlot.id);return!e||e.deleted?[,null==e?void 0:e.title]:[String(Math.random()),e.title]}));if(!l)return r().createElement("div",null,d," 已被删除");const u=t.runtime;return r().createElement(u,{key:l,data:n.data,env:(0,c.dU)(n,s)})}function p(e){const{model:t,viewContext:n}=(0,i.N7)(s.Z);n.focusArtboard(t.proxySlot.id)}function f(){const{model:e,context:t,emitItem:n,emitSnap:o}=(0,i.N7)(s.Z);n.hover(e)}function m(){const{emitItem:e}=(0,i.N7)(s.Z);e&&e.hover(null)}function h(e){const{model:t,comDef:n,context:o,emitItem:r,emitSnap:a}=(0,i.N7)(s.Z);if(o.isDebugMode())return;let l=t.state;(l.isMoving()||l.isEnabled())&&r.focus(t)}},6941:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(83446),o=n(90359),r=n.n(o),s=n(98696),a=n(76641),l=n(52519),c=n(45747),d=n(62460),u=n(4259),p=n(73806),f=n(79127),m=n(92702),h=n(23037),g=n(11885),y=n(74238),b=n(72933),v=n(67845);function x({data:e,mode:t,inputs:n,outputs:c,mouseDown:p,template:x}){var C,I;const M=(0,i.N7)(s.Z,{from:"parents"}),{comDef:P,model:k,context:F,emitItem:O,emitLogs:T,viewContext:Z}=M,{cssComNormal:N}=Z,D=(0,o.useMemo)((()=>F.isConfigAsBluePrint()&&k.runtime.isBluePrint||!F.isConfigAsBluePrint()&&!k.runtime.isBluePrint),[]);let S;(0,o.useMemo)((()=>{k.getConfigData=()=>({type:"component",get data(){return k.data}}),k.getConfigs=e=>{const t=(0,d.U)(M,e);k.getAssist=()=>(0,y.Z)(M,t);let n={catalogAry:t},i=k.focusArea;if(i){let e="";if("object"==typeof i.selectors)for(let t in i.selectors)e+=`${t}:${i.selectors[t]}`;else e=i.selectors;n.id=`${k.id}-${e}`}else n.id=k.id;return n},k.getListeners=()=>{if(D)return(0,u.U)(M)}}),[]),(0,i.vc)((()=>{const e=k.style;k.isStyleLayoutAbsoluteOrFixed()?e.factPosition="absolute":e.factPosition=void 0})),(0,i.vc)((()=>{const e=k.style,t=Z.viewModel.canvasShadowRoot,n=t.querySelector(`style[id="${k.id}"]`);n&&t.removeChild(n);let i=e.styleAry;const o=[];if(!i){const t=(0,l.c5)(P);if(t)for(let e in t){const n=t[e];if(n){const t=n.style;if(t)if(Array.isArray(t))t.forEach((e=>{if(Array.isArray(e),"string"==typeof e.target){const t=e.initValue;if(t&&Object.keys(t).length>0){const n=e.target.replace(/\{id\}/gi,k.id);k.style.addStyle(n,t)}}}));else if("object"==typeof t&&(!t.target||"string"==typeof t.target)){const n=t.initValue;if(n&&Object.keys(n).length>0){let i=t.target||e;i=e.replace(/\{id\}/gi,k.id),k.style.addStyle(e,n)}}}}i=e.styleAry}const r=e=>{e.forEach((e=>{const{selector:t,css:n,global:i,withParentComId:r}=e,s=(0,b.D)(n),a=e=>{if(i)o.push(`${e} {${s}}`);else{let t="";r&&k.parent.parent&&(t=`.${k.parent.parent.id}`),e===m.tD?o.push(`#${m.Dl} ${t} .${k.id} > *:first-child{${s}}`):o.push(`#${m.Dl} ${t} .${k.id} ${e} {${s}}`)}};if(Array.isArray(t))t.forEach(((e,t)=>{const n=e.replace(/\{id\}/gi,k.id);a(n)}));else{const e=t.replace(/\{id\}/gi,k.id);a(e)}}))};if(k.style.themesId===m.W$||i)r(i);else{let e;e=k.style.themesId?Z.getComTheme(k.style.themesId):Z.getComThemeDefault(k.runtime.def.namespace),e?e.styleAry&&Array.isArray(e.styleAry)&&r(e.styleAry):i&&r(i)}if(o.length>0){const e=document.createElement("style");e.setAttribute("id",k.id),e.setAttribute("type","text/css"),e.innerHTML=o.join("\n"),t.appendChild(e)}})),(0,o.useEffect)((()=>()=>{if(k.hadDestroyed()){k.initDom=!1;const{viewModel:e,context:t}=Z,n=e.canvasShadowRoot,i=n.querySelector(`style[id="${k.id}"]`);i&&n.removeChild(i)}}),[]),(0,o.useLayoutEffect)((()=>{if(!k.initDom){k.initDom=!0;k.$el&&(t&&"normal"!=t||setTimeout((e=>{const t=Z.viewModel.canvasShadowRoot;w(t,`.${k.id}-hover:hover{cursor: pointer;}`,{temp:k.id}),(0,l.IS)(P).forEach((({selector:e,edtAry:n})=>{if(!e.match(/^\:|\@|\*/)){let i,o;Array.isArray(n)||"object"!=typeof n||"function"==typeof n?o=n:(n.title&&(i=n.title),(Array.isArray(n.items)||"function"==typeof n.items)&&(o=n.items));let r=!1;"function"==typeof o||"object"==typeof n&&n.style?r=!0:Array.isArray(o)&&(o=o.filter((e=>e)),r=o.find((e=>e&&(e.type||Array.isArray(e.items)||"function"==typeof e)))),D&&r&&(w(t,`.${N.desn}#${k.id} ${e}:not(.slot){\n                  pointer-events: auto !important;\n                  cursor:pointer;\n                  position:relative;}`,{temp:k.id}),w(t,`.${N.desn}#${k.id}:not(.${N.focusPaasive})[data-handlable] ${e}:not(.${N.editableFocus}):not(.slot):hover:after{\n                  position:absolute;\n                  top:0px;\n                  right:0px;\n                  bottom:0px;\n                  left:0px;\n                  z-index:100;\n                  text-align:left;\n                  border: 1px dashed ${m.A6} !important;\n                  overflow:hidden !important;\n                  pointer-events:none !important;\n                  font-size:10px;\n                  font-weight:bold;\n                  content:'${i||"区域"}';\n                  color:${m.A6};\n                  text-shadow: #FFF 1px 0 0, #FFF 0 1px 0, #FFF -1px 0 0, #FFF 0 -1px 0;\n                  padding:1px 4px !important;\n                  white-space: nowrap;\n                }`,{temp:k.id}))}}))})))}return()=>{setTimeout((e=>{if(k.hadDestroyed()){const e=Z.viewModel.canvasShadowRoot.querySelectorAll(`style[data-temp=${k.id}]`);e&&e.forEach((e=>e.remove()))}}))}}),[]),(0,o.useLayoutEffect)((()=>{if(!k.init){k.init=!0;const e=k.$el;if(e){const t=e.children[0];if(t){const n=k.style;if(void 0===k.style.width){const n=t.offsetWidth;e.classList.add(N.fullWidth),n!==t.offsetWidth?(k.style.width="100%",requestAnimationFrame((()=>{k.notifyEleChanged()}))):n===k.$el.parentElement.offsetWidth?k.style.width="100%":k.style.width="fit-content",e.classList.remove(N.fullWidth)}if(void 0===n.width||void 0===n.height){const e=(0,l.c5)(P);if(e){const i=e["@resize"];if("object"==typeof i){const{options:e}=i;let o;if("function"==typeof e){o=e((0,g.e)(M))}else o=e;if(o){let e,i;Array.isArray(o)?(e=o.find((e=>"width"===e)),i=o.find((e=>"height"===e))):"object"==typeof o&&(e=void 0!==o.width,i=void 0!==o.height),void 0===n.height&&i&&(n.height=t.offsetHeight)}}}}}}}}),[]),(0,o.useLayoutEffect)((()=>{(0,i.pI)((()=>{k.state.isFocused()&&!k.focusArea&&O.reFocus(k)}))}),[k.listenForFocusAreaDeleted()]);const j=(0,o.useCallback)((e=>{if(!k.isPopup){k.isPopup=!0;const e=k.style;e.display="none",e.position="fixed",e.height="100%",e.top=0,e.left=0}return e}),[]),B=(0,i.vc)((()=>{if(k.hadDestroyed())return;const t=(0,i.pI)((()=>F.getComDef({namespace:k.runtime.def.namespace,version:k.runtime.def.version})));let o;if(!t||"function"!=typeof t["runtime.edit"]&&"function"!=typeof t.runtime)o=`"${k.runtime.def.namespace}" not found`;else{const i="function"==typeof t["runtime.edit"]?t["runtime.edit"]:t.runtime;let s=k.id+"dev";t._upgrade&&(s+=t._upgrade);const l=i;if("function"==typeof l){k._errorMsg=void 0;const t={};t._env=(0,a.bP)(k,M),o=r().createElement(l,Object.assign({key:s,id:k.id,name:k.name,data:e||k.data,env:(0,a.dU)(k,Z)},t,{title:k.runtime.title,style:(0,a.C2)(k),createPortal:j,slots:E(k,"dev",Z),configs:(0,a.G_)(),_inputs:(0,a.Ks)(),inputs:(0,a.G9)(n),_outputs:(0,a.iE)(),outputs:(0,a.RX)(k,c,{context:F}),logger:(0,a.D4)(k,Z),onError:(0,a.N4)(k,Z),_onError_:(e,t)=>{if(k._errorMsg=e.message,console.error(e),T.error(`组件异常 ${e.message}`,e.stack.replace(/\/n/gi,"<br/>")),"render"===t)return r().createElement("div",{className:N.error},k.runtime.title,"组件发生错误:",r().createElement("br",null),e.message)}}))}}return"function"==typeof x?x({id:k.id,name:k.name,jsx:o}):o})),L=(0,i.vc)((()=>{const e=[k.id,N.com,N.desn],t=k.runtime,n=k.style,i=k.state,o=n.isPositionAbsoluteOrFixed();return i.isOpened()&&e.push(N.opened),F.isConfigAsBluePrint()&&!t.isBluePrint&&e.push(N.opacity),F.isConfigAsBluePrint()||!t.isBluePrint||k.reservedEditorAry||e.push(N.ignore),k.locked&&e.push(N.locked),k._sayHi&&e.push(N.sayHi),n.isPositionAbsolute()&&e.push(N.abs),n.isPositionFixed()&&e.push(N.fixed),1===n.flex&&e.push(N.flex),!o&&k.parent.style.isLayoutOfFlexColumn()&&("100%"!==n.height||k.parent.isShowTypeOfPopup()||e.push(N.flex)),i.isSelected()&&e.push(N.selected),i.isMoving()&&(k.isStyleLayoutAbsoluteOrFixed()?e.push(N.absMoving):e.push(N.staticMoving)),e.join(" ")})),R=(0,o.useCallback)((e=>{e&&requestAnimationFrame((t=>{const n=e[0];O.focusScript(k.id,n.hostId)}))}),[]);(0,i.vc)((()=>{if(k.$el&&k.runtime.topl){const e=k.runtime.topl.getAllOutputsInfo();e&&setTimeout((t=>{k.$el.querySelectorAll(`:scope>i.${N.events}`).forEach((e=>{e.remove()}));const n=(t,i)=>{if(Array.isArray(t))t.forEach((e=>{n(e,i)}));else if(Array.isArray(t.groups))n(t.groups,i);else if(Array.isArray(t.items))n(t.items,i);else if(t&&"string"==typeof t.type&&"_event"===t.type.toLowerCase()){let n;"function"==typeof t.options?n=t.options():"object"==typeof t.options&&(n=t.options),n&&"object"==typeof n&&n.outputId&&e.find((e=>{if(e.hostId===n.outputId&&e.connections.length>0)return i.push(e),!0}))}};k.addBlurFn((()=>{(0,l.IS)(P).forEach((({selector:e,edtAry:t})=>{if(!e.match(/^\@|\*/)){if(":root"!==e||k.focusArea){if(!e.startsWith(":child")){const t=Z.viewModel.canvasShadowRoot.querySelectorAll(`.${N.desn}#${k.id} ${e}:not(.slot)`);setTimeout((()=>{t.forEach((t=>{t.querySelectorAll(`:scope>i.${N.events}`).forEach((e=>{e.remove()})),k.setFocusArea(t,{[e]:!0},void 0,void 0);const i=(0,v.Q)(M),o=[];if(n(i,o),o.length>0){const e=document.createElement("i");e.classList.add(N.events),e.innerText=o.length+"",e.onclick=e=>{R(o)},t.appendChild(e)}}))}))}}else{const e=(0,v.Q)(M),t=[];if(n(e,t),t.length>0){const e=document.createElement("i");e.classList.add(N.events),e.innerText=t.length+"",e.onclick=e=>{R(t)},k.$el.appendChild(e)}}k.focusArea=void 0}}))}))}))}}));const V=P.parasitic||k.lockedSilent?void 0:(0,i.Ft)((e=>p(e,M))).stop,$=F.isConfigAsBluePrint(),z=$&&k.runtime.isBluePrint||!$&&!k.runtime.isBluePrint||!$&&k.runtime.isBluePrint&&k.reservedEditorAry,U=Object.assign(k.locked?{}:{onMouseOver:(0,i.Ft)((e=>function(e,t,n){var i;const{model:o,comDef:r,context:s,emitItem:a,viewContext:l}=n;if(null===(i=o.parent.state)||void 0===i?void 0:i.isHovering())return;if(o.runtime.isBluePrint){if(!s.isConfigAsBluePrint()&&!o.reservedEditorAry)return}else if(s.isConfigAsBluePrint())return;if(l.activePlugin){const e=(0,h.bt)(o.$el,o.root.$el);(s.isConfigAsBluePrint()&&o.runtime.isBluePrint||!s.isConfigAsBluePrint()&&!o.runtime.isBluePrint)&&a.hover({_for:"plugin",isBluePrint:o.runtime.isBluePrint,title:o.runtime.title,style:{left:e.x,top:e.y,width:e.w,height:e.h}})}else a.hover(n.model)}(0,0,M))).stop,onMouseOut:(0,i.Ft)((e=>function(e){e.emitItem.hover(null)}(M))).stop,onClick:(0,i.Ft)((e=>A(e,S,M))).stop,onDoubleClick:(0,i.Ft)((e=>function(e,t){const{model:n,context:i,viewContext:o,emitItem:r}=t;n.state.open()}(0,M))).stop,onContextMenu:(0,i.Ft)((e=>{A(e,S,M,!0),Z.emitWindowEvents.showContextMenu(e)})).stop.prevent,onMouseDown:V},z?{"data-handlable":1}:{});k.state.isOpened()?U.onWheel=e=>{let t,n=e.target,i=k.$el;for(;n&&n!==i&&n!==document.body;)n.scrollWidth>n.offsetWidth&&(t=!0),n=n.parentNode;t&&e.stopPropagation()}:U.onWheel=void 0;const H=(0,i.vc)(a.LQ),W=(0,i.vc)(_);return r().createElement("div",Object.assign({id:k.id,ref:e=>{e&&(S=e,k.set$elOnce(e))},style:H,className:L,"data-info":null===(C=k.runtime.upgrade)||void 0===C?void 0:C.info},U),r().createElement(f.Vx,{title:`${k.runtime.title} 组件发生错误`},B),r().createElement("div",{className:N.append,style:W},k.style.isPositionFixed()?r().createElement("span",null,f.PJ.positionFixed):null,k.locked?r().createElement("span",null,f.PJ.lock):null,k.noteLabel?r().createElement("span",{className:N.noteLabel},"[",k.noteLabel,"]"):null,k.errorMsg?r().createElement("div",{className:N.error},k.errorMsg):null,k.runtime.upgrade?r().createElement("span",{className:N.upgrade}):null,null===(I=M.maskAry)||void 0===I?void 0:I.map(((e,t)=>r().createElement("div",{key:t,className:N.mask,style:{left:e.left,top:e.top,width:e.width,height:e.height}})))),k._pluginExtJsx?k._pluginExtJsx:null)}function w(e,t,n){const i=document.createElement("style");if(n&&"object"==typeof n)for(let e in n)i.dataset[e]=n[e];i.textContent=t,e.appendChild(i)}function E(e,t,n){const{context:o,emitItem:s,emitMessage:a}=n,l={};return e.slots&&e.slots.forEach(((d,u)=>{l[d.id]={id:d.id,get title(){return d.title},set title(e){d.title=e},get _inputs(){return new Proxy({},{get:(e,t,n)=>e=>{}})},get inputs(){return new Proxy({},{get(t,n,i){if(e.runtime.topl){const t=e.runtime.topl.getFrame(d.id);if(t&&t.inputPins){const e=t.inputPins.find((e=>e.hostId===n));if(e){const t=function(e){};return t.getConnections=function(){return e.conAry.map((e=>({})))},t}}}}})},get outputs(){return new Proxy({},{get(t,n,i){if(e.runtime.topl){const t=e.runtime.topl.getFrame(d.id);if(t&&t.outputPins){if(t.outputPins.find((e=>e.hostId===n)))return e=>{}}}}})},render(e){let o=d.id+t;return e&&"object"==typeof e&&(o="string"==typeof e.key?e.key:(0,i.Vj)()),r().createElement(c.Z,{key:o,model:d,options:e||{},viewContext:n})},get size(){return d.comAry.length},addCom(t,n=!0,i){let r;"string"==typeof t?r={namespace:t}:t&&"object"==typeof t&&(r=t);const l=o.getComDef(r);if(!l)return void a.warn("添加的组件不存在");const{data:c,title:u,rtType:m,schema:h,version:g,singleton:y,namespace:b}=l;if(y&&(0,p.di)(o.model.mainModule.slot.comAry,l))return void a.warn(`${u}已存在，不能重复添加`);const v=new f.u5(l);n&&d.comAry.forEach((e=>{s.delete(e)})),s.add(Object.assign(Object.assign({seedModel:v,state:"finish",deletable:!h,isParasite:h},i),{toComId:e.id,toSlotId:d.id,noFocus:!0}))},clear(){d.comAry&&(0,p.Tb)(d,s),d.comAry=[]},moveTo(t){if("number"==typeof t&&!isNaN(t)&&t>=0&&t<=e.slots.length-1){const n=e.slots.findIndex((e=>e.id===d.id)),i=e.slots[t];e.slots[t]=e.slots[n],e.slots[n]=i}}}})),l}function A(e,t,n,i){var o,r;const{model:s,context:a,viewContext:c,emitItem:d}=n,{cssComNormal:u}=c;if(s.runtime.isBluePrint){if(!a.isConfigAsBluePrint()&&!s.reservedEditorAry)return void d.blur()}else if(a.isConfigAsBluePrint())return void d.blur();s.$el=t;const p=function(e){c.clearHoverModel(),d.focus(e)};let f=s.state;if(f.isMoving())return void p(s);const m=i?null:function(e,t){const{model:n,comDef:i,context:o}=t,r=n.$el.firstChild,s=(0,l.IS)(i),a=[];let c,d,u;if(s.forEach((({selector:e,edtAry:t,viewOn:i})=>{if(!e.match(/^:|\@|\*/)){let t,o=i[e],s=!1;if(Array.isArray(o)||"object"!=typeof o||"function"==typeof o||(o.title&&(t=o.title),o.style||(Array.isArray(o.items)||"function"==typeof o.items)&&(o=o.items)),"function"==typeof o||"object"==typeof o&&o.style?s=!0:Array.isArray(o)&&(s=o.find((e=>"function"==typeof e||e.type||Array.isArray(e.items)))),s){let i;try{i=r.querySelectorAll(e)}catch(t){console.log(n.$el),i=r.querySelectorAll(":scope"+e)}a.push({selector:e,title:t,edtAry:o,eles:i})}}})),a.length>0){let t=e;do{if(a.find((({selector:e,title:n,edtAry:i,eles:o})=>[].find.call(o,(o=>{if(t===o)return c=n,d=o,d._vc_init_?d._vc_init_.selectors[e]=!0:d._vc_init_={selectors:{[e]:!0}},u||(u=i),!0})))))break;t=t.parentNode}while(t.parentNode)}if(d){return{editorPath:(0,l.$E)(d,n,o),title:c,ele:d,editorAry:u}}}(e.target,n),h=s.$el.querySelectorAll(`.${u.editableFocus}`);if(!m||(null===(r=null===(o=h[0])||void 0===o?void 0:o.classList)||void 0===r?void 0:r.value)!==m.ele.classList.value){if(h.length>0)for(let e=0;e<h.length;e++)h[e].classList.remove(u.editableFocus);if(f.isEnabled()){if(m){const{title:e,ele:t,editorAry:n,editorPath:i}=m;setTimeout((()=>{t.classList.add(u.editableFocus)})),s.setFocusArea(t,t._vc_init_.selectors,i,e)}else s.focusArea=void 0;p(s)}else if(f.isFocused())if(m){const{title:e,ele:t,editorAry:n,editorPath:i}=m;setTimeout((()=>{t.classList.add(u.editableFocus)})),s.setFocusArea(t,t._vc_init_.selectors,i,e),d.reFocus(s)}else(e.target===s.$el||s.focusArea)&&(s.focusArea=void 0,d.reFocus(s))}}function _(){const e=(0,i.N7)(s.Z),{model:t,context:n,emitItem:o,emitSnap:r,comDef:a}=e,l=t.style,{marginTop:c=0,marginLeft:d=0,marginBottom:u=0,marginRight:p=0}=l;return{top:c,left:d,bottom:u,right:p}}},74238:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(11885),o=n(92702);function r(e,t){const{model:n,context:r}=e,s=r.getComDef(n.runtime.def);let a,l,c,d;const u=s.ai;let p;if(u){p=(0,i.e)(e);const t=n.focusArea;if(t&&t.isValid()){a=t.title||"当前区域";let{ele:e,selectors:i}=t;for(let t in i)if("function"==typeof u[t]){const i=u[t](Object.assign({data:n.runtime.model.data,focusArea:{dataset:e.dataset}},p));if(i){const{prompts:e,placeholder:t,execute:o}=i;l=`你是一名优秀的程序员，根据用户的需求，返回合理的数据\n      当前是一个按钮, 组件相关定义为：${JSON.stringify(n.runtime.model.data||{})}\n      要求：\n      1.回答仅返回JSON格式的内容，不需要任何注释等信息\n      2.如果没有合适的答案，返回 null\n\n      ${e}\n      `,c=t,d=o}break}}else if(a=n.runtime.title,"function"==typeof u[o.tD]){const e=u[o.tD](Object.assign({data:n.runtime.model.data},p));if(e){const{prompts:t,placeholder:i,execute:o}=e;l=`\n你是一名优秀的程序员，请根据需求返回合理的数据。\n[要求]\n1：回答仅返回JSON格式的内容，内容要严格遵循JSON格式要求;\n2：无需对内容做任何解释、无需以 答：或 \`\`\`json 开头；\n3：如果没有合适的答案，返回 null;\n\n当前组件是一个${s.title}, 定义为：${JSON.stringify(n.data)}\n\n${t}\n      `,c=i,d=o}}}if(l)return{title:a,placeholder:c,getPrompts:()=>l,execute:(e,t)=>new Promise(((i,o)=>{if(e){if(e){if("function"==typeof d)return d(Object.assign({data:n.runtime.model.data,newData:e},p)),i("更新完成"),setTimeout((()=>{var e;null===(e=n.focusArea)||void 0===e||e.notifyEleChanged()})),void t();o("该组件未提供更新接口")}}else o("抱歉，我未能理解您的问题，请重新输入.")}))}}},4259:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(23037);function o(e){const{model:t,viewContext:n,comDef:o,emitSnap:s,emitItem:a,emitMessage:l,emitViews:c,emitPermission:d}=e,{style:u}=t,{mover:p}=n;if(t.asRoot){const{viewModel:b,context:v}=n,x=t.parent;function w(){v.focusModel&&v.reFocus()}return x.deletable?[{title:"复制当前场景",keys:["ctrl+c"],exe:()=>{const e=c.copyFocus(x);e.from=x.id,(0,i.JG)(JSON.stringify(e))&&l.info("已复制到剪切板.")}},null,{title:"前移",exe:()=>{const e=s.start("移动场景",{target:x}),t=b.slots.indexOf(x);b.changeOrder(x,t-1),e.commit(),requestAnimationFrame(w)}},{title:"后移",exe:()=>{const e=s.start("移动场景",{target:x}),t=b.slots.indexOf(x);b.changeOrder(x,t+2),e.commit(),requestAnimationFrame(w)}},null,{title:"删除当前场景",keys:["Backspace","Delete"],exe:()=>{const e=x.id,t=s.start("删除场景",{target:x}),{emitFrame:i,emitScenes:o}=n;i.delete(e),o.delete(e),a.focus(void 0),t.commit()}}]:void 0}u.isPositionAbsoluteOrFixed();let f,m;function h(){setTimeout((()=>{f.shift(),f.length<=0?(f=void 0,p.hide()):h()}),f.length<=0?300:100)}function g(e){t.isStyleLayoutAbsoluteOrFixed()&&(u.clearSuggest(),e(),p.show({x:u.left,y:u.top},t,"no-suggest"),t.notifyEleChanged(!0),f||(f=[],h()),f.push(1))}m=t.isStyleLayoutAbsoluteOrFixed()?[{title:"上移",keys:["ArrowUp"],exe:()=>{g((()=>{u.top-=1}))}},{title:"上移",keys:["ArrowUp"],exe:()=>{g((()=>{u.top-=1}))}},{title:"向左",keys:["ArrowLeft"],exe:()=>{g((()=>{u.left-=1}))}},{title:"向右",keys:["ArrowRight"],exe:()=>{g((()=>{u.left+=1}))}},null,{title:"移至最前",exe:()=>{const e=s.start("itemZIndex",{target:t});t.setZIndex("max"),e.commit()}},{title:"移至最后",exe:()=>{const e=s.start("itemZIndex",{target:t});t.setZIndex("min"),e.commit()}}]:[{title:"置顶",exe:()=>{r("bottom",e)}},{title:"向上调整",exe:()=>{r("down",e)}},{title:"向下调整",exe:()=>{r("up",e)}},{title:"置底",exe:()=>{r("top",e)}}];let y=[{title:"复制到剪切板",keys:["Ctrl+c"],exe:()=>{if(!t.focusArea)if("boolean"!=typeof o.visibility||o.visibility){const e=c.copyFocus();e.from=t.id,(0,i.JG)(JSON.stringify(e))&&l.info("已复制到剪切板.")}else l.info("当前组件不可见,无法完成复制.")}},null,{get title(){return"none"!==u.display?"隐藏":"显示"},exe:()=>{const e=s.start(`显示/隐藏 组件${t.runtime.title}`,{target:t});"none"!==u.display?(t.style.display="none",a.blur(),l.info("组件已设置为运行时隐藏.")):(u.display="block",u.visibleOnce&&(u.visibleOnce=void 0),l.info("组件已设置为运行时显示.")),e.commit()}},{get title(){return t.locked?"解锁":"锁定"},exe:()=>{const e=s.start(`锁定/解锁 组件${t.runtime.title}`,{target:t});t.locked=!t.locked,e.commit(),l.info("组件已设置为锁定.")}},null,...m,null,{title:"编辑权限",exe:()=>{d.edit({value:{get:()=>t.runtime.model.permissions,set(e){const n=s.start(`设置 组件${t.runtime.title} 的权限`,{target:t});e.isTypeOfNone()?(d.remove(e.id),t.runtime.model.permissions=void 0):(e.modelId=t.id,d.register(e),t.runtime.model.permissions={id:e.id}),n.commit()}}})}}];return t.lockedSilent||y.push({title:"删除",keys:["Backspace","Delete"],exe:()=>{if(!t.focusArea){const e=s.start("itemDelete",{target:t});a.delete(t),a.focus(void 0),e.commit()}}}),y}function r(e,t){const{emitItem:n,model:i,emitSnap:o}=t,r=o.start(`更改 组件${i.runtime.title} 的层级`,{target:i});i.isStyleLayoutAbsoluteOrFixed()?"top"===e?n.upwards(i,!0):"up"===e?n.upwards(i):"down"===e?n.downwards(i):"bottom"===e&&n.downwards(i,!0):"top"===e?n.downwards(i,!0):"up"===e?n.downwards(i):"down"===e?n.upwards(i):"bottom"===e&&n.upwards(i,!0),i.notifyEleChanged(!0),r.commit()}},97899:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(72861),o=n(90359),r=n.n(o),s=n(97262),a=n(83446),l=n(79127),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function d({myCtx:e}){var t;if("function"==typeof(null===(t=e.viewCtx.context.configs)||void 0===t?void 0:t.comLibAdder))return r().createElement("div",{className:i.Z.bottom},r().createElement("div",{className:i.Z.btn,onClick:(0,a.Ft)((()=>function(e){return c(this,void 0,void 0,(function*(){const{viewCtx:t,emitMessage:n,emitLogs:i,emitSnap:o}=e,{context:r}=t,a=yield r.configs.comLibAdder();if(a){function c(t){const n=o.start(`添加组件库:${t.title}`);(0,s.Ac)(t),n.commit(),e.scrollTo(1e3)}"string"==typeof a?(0,l._v)(a).then(c):"object"==typeof a&&c(a)}else i.error("添加组件库失败."),n.error("添加组件库失败.")}))}(e))).stop},"+ 添加组件库"))}},95868:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(23919),o=n(90359),r=n.n(o),s=n(83446),a=n(79127),l=n(40802),c=n(97262),d=n(18010),u=n(97899),p=n(51893),f=n(47716),m=n(87073);let h,g;function y({mode:e,model:t}){var n,y,b;const v=(0,s.N7)(f.Z,{from:"parents"}),x=(0,s.mA)(a.cA.Snap,{expectTo:"parents"}),w=(0,s.mA)(a.cA.Message,{expectTo:"parents"}),E=(0,s.mA)(a.cA.Component,{expectTo:"parents"}),A=(0,s.mA)(a.cA.Logs,{expectTo:"parents"}),_=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),{context:C}=v;h||(h=null===(y=null===(n=C.configs)||void 0===n?void 0:n.com)||void 0===y?void 0:y.env),g=(0,s.mA)(i.Z,(n=>{n({viewCtx:v,emitLogs:A,emitSnap:x,emitItems:E,emitViews:_,emitMessage:w,mode:e,model:t,renderedLib:[]})}),{to:"children"}),(0,o.useMemo)((()=>{let e=[];if(C.comLibAry){const t=[],n=[],i=[];C.comLibAry.forEach((e=>{e.defined?t.push(e):e.id===a.Vm.id?n.push(e):i.push(e)}));t.concat(n).concat(i).forEach((t=>{if(t){if(!1===t.visible)return;const n=t.comAray;(t.defined||(null==n?void 0:n.length)>0)&&e.push({id:t.id,namespace:t.namespace,title:t.title,version:t.version,latestComlib:t.latestComlib,defined:t.defined,comAray:n})}}))}g.libAry=e}),[C.comLibAry,null===(b=C.comLibAry)||void 0===b?void 0:b.length]),(0,c.aA)(g);const I=(0,o.useMemo)((()=>{var e,t;const n=null===(t=null===(e=C.configs.geoView.nav)||void 0===e?void 0:e.comlibs)||void 0===t?void 0:t.view;if("function"==typeof n)return n({addComInstance(e){if(e.namespace){const t=C.getComDef(e);if(t)return(0,m.MT)(t),!0}},dragToAddComInstance(e,t){if(t&&e.namespace){const n=C.getComDef(e);if(n)return(0,m.hI)(n,t),!0}}})}),[]);return I?r().createElement("div",{className:`${l.Z.panel} ${v.comDragToAdding?l.Z.disabled:""}`,ref:e=>e&&(g.comsPanelNode=e)},I):r().createElement("div",{className:`${l.Z.panel} ${v.comDragToAdding?l.Z.disabled:""}`,ref:e=>e&&(g.comsPanelNode=e)},r().createElement(d.Z,null),r().createElement("div",{className:l.Z.comlibs,ref:e=>e&&(g.bodyEle=e)},g.libAry.map(((e,t)=>{const n=`${e.id}_${e.version}`;return r().createElement(p.c,{key:n,comLib:e})}))),r().createElement(u.Z,{myCtx:g}))}},23919:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(90359);class o{constructor(){this.show=!1,this.renderedLib=[],this.searchTxt=""}scrollTo(e){this.bodyEle.scrollTop=2*this.bodyEle.scrollHeight}search(e){this.searchTxt=e}showDocs(e){const t=e.docs;this.emitViews.popView(e.title,(()=>i.createElement("iframe",{src:t,frameBorder:0,style:{height:"100%",width:"100%"}})),{onClose(){}})}ifComEnable(e){return(void 0===e.enable||!1!==e.enable)&&((void 0===e.visibility||!1!==e.visibility)&&(!(e.rtType&&!e.rtType.match(/vue|react|popup/gi))||void 0))}}},18010:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(37024),o=n(83446),r=n(79127),s=n(90359),a=n.n(s),l=n(23919);function c(){const e=(0,o.N7)(l.Z,{from:"parents"}),t=(0,s.useRef)();return(0,s.useEffect)((()=>{e.viewCtx.showNavPanel&&t.current.focus()}),[e.viewCtx.showNavPanel]),a().createElement("div",{className:i.Z.toolbar},a().createElement("div",{className:i.Z.search},r.PJ.search,a().createElement("input",{type:"text",ref:t,placeholder:"搜索组件",value:e.searchTxt,onChange:t=>e.search(t.target.value)})))}},39241:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(95868).Z},87073:(e,t,n)=>{n.d(t,{MT:()=>g,SX:()=>h,hI:()=>y,sS:()=>m});var i=n(79127),o=n(97262),r=n(13095),s=n(27914),a=n(83446),l=n(64664),c=n(23037),d=n(90359),u=n.n(d),p=n(51893),f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function m(e,t){const{mainIdx:n,title:i}=e;if((0,o.PR)(e))return;if(void 0===n||n<0)return u().createElement("div",{className:r.Z.groupWrap,key:i},u().createElement("div",{className:r.Z.comGroupTitle},i),u().createElement(p.E,{comLib:e,level:t+1}));const s=e.comAray[n||0],a=[r.Z.comGroupWrap];return u().createElement("div",{key:s.namespace,className:a.join(" ")},h(e,s))}function h(e,t){var n,l;const d=(0,o.Iy)();if(""!==d.searchTxt&&t.title.indexOf(d.searchTxt)<0){const e=c.N9.convertToPinyin(t.title);if(e&&e.indexOf(d.searchTxt.toUpperCase())<0)return}let p;return p=t.previewImg?u().createElement("div",{className:s.Z.previewImg},u().createElement("img",{src:t.previewImg})):"string"==typeof t.icon?"./icon.png"!==t.icon&&/^(https:|data:)/.test(t.icon)?u().createElement("div",{className:s.Z.comIcon},u().createElement("img",{className:s.Z.img,src:t.icon})):u().createElement("div",{className:s.Z.comIcon},u().createElement("div",{className:s.Z.comIconFallback},null===(n=t.title)||void 0===n?void 0:n.substr(0,1))):"object"==typeof t.icon?u().createElement("div",{className:s.Z.comIcon},t.icon):u().createElement("div",{className:s.Z.comIcon},u().createElement("div",{className:s.Z.comIconFallback},null===(l=t.title)||void 0===l?void 0:l.substr(0,1))),u().createElement("div",{key:t.namespace,className:`${s.Z.comItem} ${t.previewImg?s.Z.withPreview:""}`,onMouseDown:n=>{e._managing||y(t,n)},onClick:n=>{e._managing||g(t)}},p,u().createElement("div",{className:s.Z.title},t.title),u().createElement("div",{className:r.Z.hover},t.docs?u().createElement("span",{className:r.Z.icon,onClick:(0,a.Ft)((e=>d.showDocs(t))).stop},i.PJ.tip):null),e._managing?u().createElement("div",{className:s.Z.management},u().createElement("span",{onClick:(0,a.Ft)((n=>function(e,t){return f(this,void 0,void 0,(function*(){const n=(0,o.Iy)(),{viewCtx:i,emitItems:r}=n,s=i.context.configs.comLibLoader,a=e.namespace,l=e.version,c=yield s({cmd:"upgradeCom",comNamespace:a,libId:t.id,version:t.version});(0,o.Rh)(c);const d=c.comAray.find((e=>e.namespace===a));d.version!==l&&r.upgradeAllForDef(d)}))}(t,e))).stop},"更新"),u().createElement("span",{onClick:(0,a.Ft)((n=>function(e,t){return f(this,void 0,void 0,(function*(){const n=(0,o.Iy)().viewCtx.context.configs.comLibLoader,i=yield n({cmd:"deleteCom",comNamespace:e.namespace,comVersion:e.version,libId:t.id});(0,o.Rh)(i)}))}(t,e))).stop},"删除")):null)}function g(e,t){var n,r;let s=null==t?void 0:t.gvCtx;if(!s){const e=(0,o.Iy)();s=e.viewCtx}const{context:a,emitSnap:l,emitItem:c}=s,d=()=>{const n=s.getCurModuleSlot();if(!n)return;const o=(null==t?void 0:t.seedModel)||new i.u5(e);if(o instanceof i.Bn&&(n.isTypeOfModule()||n.isTypeOfDefinedCom()))return;const r=l.start("向画布中添加组件"),a=n.template;if(a&&!a.coms&&a.asRoot){const e=n.comAry[0];if(e&&e.runtime.def.namespace===a.namespace&&e.slots.length>0){const t=c.add({seedModel:o,toComId:e.id,toSlotId:e.slots[0].id,state:"finish"},{indeed:!0});r.commit({target:t})}else r.cancel()}else{const e=c.add({seedModel:o,toSlotId:n.id,state:"finish"},{indeed:!0});r.commit({target:e})}},u=null===(r=null===(n=a.configs.geoView.nav)||void 0===n?void 0:n.comlibs)||void 0===r?void 0:r.onComClick;if("function"==typeof u){const t=u(e);"boolean"==typeof t&&t?d():"object"==typeof t&&"function"==typeof t.then&&t.then((e=>{"boolean"==typeof e&&e&&d()}))}else d()}function y(e,t,n){let r=null==n?void 0:n.gvCtx;if(!r){const e=(0,o.Iy)();r=e.viewCtx}if(0===r.viewModel.slots.length)return;const d=r.viewModel.style.zoom;let u,p,f=-1,m=null==n?void 0:n.seedModel;const h=(0,l.TE)();let g;(0,a.qw)(t,(({po:{x:o,y:a},epo:{ex:l,ey:y},dpo:{dx:b,dy:v}},x)=>{var w,E,A;if(f){if(-1===f){if("start"==x)return r.showNavPanel=!1,m||(m=new i.u5(e)),u=t.target.cloneNode(!0),u.classList.add(s.Z.mover),u.style.width=50,u.style.height=50,document.body.appendChild(u),r.comDragToAdding=!0,g=h.findVisiblePopup(),void("function"==typeof(null==n?void 0:n.start)&&n.start());if("moving"==x){u.style.top=`${a+v}px`,u.style.left=`${o+b}px`,p&&p.state.hoverRecover();const e=l,t=y;if("popup"!==m.runtime.def.rtType?p=h.findSlotByPo({x:e,y:t,zoom:d},{},!0):(p=h.findSlotByPo({x:e,y:t,zoom:d},{},!0),p&&(p=h.slots[0])),p){let e=!1;m instanceof i.Bn&&(p.isTypeOfDefinedCom()||p.root.isTypeOfDefinedCom()||p.isTypeOfModule()||p.root.isTypeOfModule())&&(e=!0),e||p.state.hover()}const n=m.runtime.model.style;let s;n.left=e,n.top=t,p&&p.parent&&(s=p.parent.id),r.emitItem.add({seedModel:m,state:"ing",toComId:s,toSlot:null==p?void 0:p.id})}if("finish"==x){r.comDragToAdding=void 0,document.body.removeChild(u);const t=r.context.configs.geoView,n=(null===(w=t.nav)||void 0===w||w.float,null===(A=null===(E=t.nav)||void 0===E?void 0:E.comlibs)||void 0===A?void 0:A.onComClick),o=!0,s=e=>{if(p&&m instanceof i.Bn){if(p.isTypeOfDefinedCom()||p.root.isTypeOfDefinedCom())return;if(p.isTypeOfModule()||p.root.isTypeOfModule())return}const t=l,n=y,o=p?(0,c.bt)(p.$el):{x:0,y:0},s=h.style.zoom;let a,d;m.runtime.model.style.left=(t-o.x)/s,m.runtime.model.style.top=(n-o.y)/s,p&&p.parent&&(a=p.parent.id),e&&(d=r.emitSnap.start("添加组件",{target:p})),r.emitItem.add({seedModel:m,state:e?"finish":"cancel",toComId:a,toSlotId:null==p?void 0:p.id}),p&&p.state.hoverRecover(),d&&d.commit()};if(o)if("function"==typeof n){const t=n(e);"boolean"==typeof t&&t?s(!0):"object"==typeof t&&"function"==typeof t.then?t.then((e=>{s(!("boolean"!=typeof e||!e))})).catch((e=>{s(!1)})):s(!1)}else s(o);else s(o)}}}else f=1,r.emitMessage.warn(`${e.title}已存在，不能重复添加`)}),{document:h.canvasWrapEle.ownerDocument})}},51893:(e,t,n)=>{n.d(t,{E:()=>p,c:()=>u});var i=n(90359),o=n.n(i),r=n(13095),s=n(79127),a=n(83446),l=n(97262),c=n(87073),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function u({comLib:e}){const t=(0,i.useCallback)((e=>{e._toggle=!e._toggle}),[]),n=(0,l.Iy)(),{context:c}=n.viewCtx,u=(0,i.useCallback)((e=>d(this,void 0,void 0,(function*(){const t=c.configs.comLibLoader,i=n.emitSnap.start("移除组件库");(yield t({cmd:"deleteComLib",libId:e.id,libNamespace:e.namespace,version:e.version}))?(c.removeComLib(e.id),i.commit()):i.cancel}))),[]);if(e.defined)return o().createElement("div",{className:`${r.Z.comlib}`},o().createElement("div",{className:r.Z.header,onClick:n=>t(e)},o().createElement("div",{className:r.Z.title},e._toggle?s.PJ.triangle_right:s.PJ.triangle_down,o().createElement("span",{className:r.Z.name},e.title)),o().createElement("div",{className:`${r.Z.icons} ${e._managing?r.Z.visible:""}`},o().createElement("span",{onClick:(0,a.Ft)((t=>function(e){e._managing=!e._managing}(e))).stop},s.PJ.manage))),o().createElement("div",{className:r.Z.body,style:{display:e._toggle?"none":""}},o().createElement(p,{comLib:e,level:1})));{const n=e.latestComlib&&e.latestComlib.version!==e.version;return o().createElement("div",{className:r.Z.comlib},o().createElement("div",{className:r.Z.header,onClick:n=>t(e)},o().createElement("div",{className:r.Z.title},e._toggle?s.PJ.triangle_right:s.PJ.triangle_down,o().createElement("span",{className:r.Z.name},e.title),o().createElement("span",{className:r.Z.version},"(",e.version,")")),o().createElement("div",{className:r.Z.icons},o().createElement("span",{onClick:t=>u(e)},s.PJ.garbage))),o().createElement("div",{className:r.Z.body,style:{display:e._toggle?"none":""}},n?o().createElement("div",{className:r.Z.upgrade,onClick:(0,a.Ft)((()=>function(e){return d(this,void 0,void 0,(function*(){const{viewCtx:t,emitMessage:n,emitLogs:i,emitSnap:o}=(0,l.Iy)(),{context:r}=t,a=yield r.configs.comLibLoader({cmd:"upgradeComLib",libId:e.id,libNamespace:e.namespace,libVersion:e.version});if(a){function c(e){const t=o.start("更新组件库");(0,l.Ac)(e),t.commit()}"string"==typeof a?(0,s._v)(a).then(c):"object"==typeof a&&c(a)}else i.error("添加组件库失败."),n.error("添加组件库失败.")}))}(e))).stop},"存在新版本 ",e.latestComlib.version,", 点击升级"):null,o().createElement(p,{comLib:e,level:1})))}}function p({comLib:e,level:t}){const n=[];let s=[],u=[];const p=(0,l.Iy)();if(e.comAray.forEach((n=>{if(!p.ifComEnable(n))return;let i;n.hasOwnProperty("comAray")?(n.version=e.version,n.id=e.id,i=(0,c.sS)(n,t)):i=(0,c.SX)(e,n),i&&u.push(i)})),e.defined&&u.push(o().createElement("div",{key:"addDefined",onClick:(0,a.Ft)((()=>function(e){return d(this,void 0,void 0,(function*(){const t=(0,l.Iy)().viewCtx.context.configs.comLibLoader,n=yield t({cmd:"addCom",libId:e.id,libVersion:e.version});(0,l.Rh)(n)}))}(e))).stop,className:r.Z.addDefined},"+")),u.length>0){let e=o().createElement("div",{key:"noCatalog",className:r.Z.basicList},u);s.push(e)}return n.push({id:e.id,content:s}),n.map((({id:e,content:t},n)=>o().createElement(i.Fragment,{key:e},t)))}},97262:(e,t,n)=>{n.d(t,{Ac:()=>c,Iy:()=>s,PR:()=>a,Rh:()=>l,aA:()=>r});var i=n(23037);let o;function r(e){o=e}function s(){return o}function a(e){return!1===e.visible||!e.comAray.some((e=>{if(e.hasOwnProperty("comAray"))return!a(e);const{enable:t,visibility:n}=e;return(void 0===t||!1!==t)&&((void 0===n||!1!==n)&&o.ifComEnable(e))}))}function l(e){const{viewCtx:t,emitMessage:n,emitLogs:i,libAry:r}=o,{context:s,removeDomsBySelector:a,addStyleAry:l}=t;if(s.comLibAry){const t=s.comLibAry.find((e=>{if(e.defined)return!0}));t&&(e.comAray&&e.comAray.forEach((e=>{if(t.comAray){t.comAray.find((t=>t.namespace===e.namespace))||t.comAray.push(e)}})),t.comAray&&t.comAray.forEach(((n,i)=>{if(e.comAray){const o=e.comAray.find((e=>e.namespace===n.namespace));if(o&&n.version!==o.version){for(let e in o)n[e]=o[e];n._upgrade=Math.random()}o||(n._upgrade=Math.random(),t.comAray.splice(i,1))}})))}}function c(e){const{viewCtx:t,emitMessage:n,emitLogs:r,emitItems:s,libAry:a}=o,{context:l,removeStylesByLibId:c,addStyleAry:d}=t,u=l.comLibAry.find((t=>t.id===e.id));if(u){if(e.version===u.version){const t=`已存在组件库 ${e.title}@${e.version}.`;return r.warn(t),void n.warn(t)}if((0,i.O_)(e.version,u.version)){c(u.id),d(e._styleAry,!0);const t=l.comLibAry.indexOf(u);l.comLibAry.splice(t,1,e);const p=e.comAray;a.find(((t,n)=>{t.id===u.id&&(o.activeLib=a[n]={id:e.id,title:e.title,version:e.version,latestComlib:e.latestComlib,comAray:p})}));let f=[];u.comAray.forEach((e=>{Array.isArray(e.comAray)?f=f.concat(e.comAray):f.push(e)}));let m=[];e.comAray.forEach((e=>{Array.isArray(e.comAray)?m=m.concat(e.comAray):m.push(e)})),f.forEach(((e,t)=>{const n=m.find((t=>t.namespace===e.namespace));s.upgradeAllForDef(n);const o=(0,i.Vj)();e._upgrade=n._upgrade=o})),r.info(`已将组件库 ${u.title} 更新到版本 ${e.version}.`),n.info(`已将组件库 ${u.title} 更新到版本 ${e.version}.`)}else r.error("当前存在更高版本的组件库."),n.error("当前存在更高版本的组件库.")}else l.comLibAry.push(e),o.activeLib=l.comLibAry[l.comLibAry.length-1],r.info(`已添加组件库 ${e.title}@${e.version}.`),n.info(`已添加组件库 ${e.title}@${e.version}.`)}},854:(e,t,n)=>{n.d(t,{$_:()=>i});const i={canvas:{type:"mobile",layout:"default",overflowY:"hidden"},canvasMobile:{height:736,width:414},canvasPC:{height:800,width:1024},canvasCustom:{height:400,width:750}}},92702:(e,t,n)=>{n.d(t,{A6:()=>o,Dl:()=>i,Q7:()=>r,W$:()=>f,ZO:()=>u,eN:()=>p,it:()=>s,kU:()=>c,py:()=>a,tD:()=>l,xt:()=>d});const i="_geoview-wrapper_",o="#5b6b73",r="geo",s="xg.desn.designer.stageview.",a="STYLENEW",l=":root",c=":focus-mask",d=":child",u=768,p=414,f="_defined"},73806:(e,t,n)=>{n.d(t,{H$:()=>o,Tb:()=>l,di:()=>a,oV:()=>s,zi:()=>i});!function(){var e=/[\w-]+/g,t=/#[\w-]+/g,n=/\.[\w-]+/g,i=/\[[^\]]+\]/g,o=/\:(?!not)[\w-]+(\(.*\))?/g,r=/\:\:?(after|before|first-letter|first-line|selection)/g;function s(e){return[].slice.call(e)}function a(e){var t=e.media&&e.media.mediaText;return e.disabled||t&&t.length&&!window.matchMedia(t).matches?[]:s(e.cssRules)}function l(e,t){var n=e.match(t);return n?n.length:0}function c(s){for(var a,c,d=[0,0,0],u=s.split(" ");"string"==typeof(a=u.shift());)c=l(a,r),d[2]+=c,c&&(a=a.replace(r,"")),c=l(a,o),d[1]+=c,c&&(a=a.replace(o,"")),c=l(a,i),d[1]+=c,c&&(a=a.replace(i,"")),c=l(a,t),d[0]+=c,c&&(a=a.replace(t,"")),c=l(a,n),d[1]+=c,c&&(a=a.replace(n,"")),d[2]+=l(a,e);return parseInt(d.join(""),10)}function d(e,t){for(var n,i,o=t.split(","),r=0;n=o.shift();)u(e,n)&&(r=(i=c(n))>r?i:r);return r}function u(e,t){return(e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||e.msMatchesSelector).call(e,t)}}();function i(e){Object.keys(e).forEach((t=>{let n=e[t];n&&("number"==typeof n&&(n=""+n),["paddingTop","paddingBottom","paddingLeft","paddingRight","left","top","right","bottom","height","width"].includes(t)?n=n.match(/[0-9]+$/gi)?`${n}px`:n:"backgroundImage"===t?n=n.match(/^url\(/gi)?n:`url(${n})`:t.match(/(margin|padding)/gi)&&-1==n.indexOf("px")&&(n=n.split(",").map((e=>e+"px")).join(" ")),e[t]=n)}))}function o(e,t){return!(e.schema&&!e.isRoot())||!!t&&(!!("*"===t||Array.isArray(t)&&t.find((e=>"*"===e)))||!(e.schema&&!t||!e.schema&&t)&&e.schema.find((e=>{if("string"==typeof t){if(r(e,t))return!0}else if(Array.isArray(t))return t.find((t=>r(e,t)))})))}function r(e,t){if(!t)return!1;if("*"===t)return!0;if(e!=t){let n=e.indexOf("*");if(n>0&&(e=e.substring(0,n)),n=t.indexOf("*"),n>0&&(t=t.substring(0,n)),t.indexOf(e)<0)return!1}return!0}function s(e,t){const n=[];if(e&&(e=e.filter((e=>(void 0===e.visible||e.visible)&&e._visible)))){function i(e){e.find((e=>{const{namespace:o,version:s,schema:a,title:l,comAray:c}=e;Array.isArray(c)&&i(c),r(t,a)&&n.push({namespace:o,version:s,title:l,schema:a})}))}e.forEach((e=>{i(e.comAray)}))}return n.length>0?n:void 0}function a(e,t){return e.find((e=>{var n,i;return(null===(i=null===(n=e.runtime)||void 0===n?void 0:n.def)||void 0===i?void 0:i.namespace)===t||(Array.isArray(e.slots)?e.slots.find((e=>a(e.comAry,t))):void 0)}))}function l(e,t){const n=e.comAry.length;for(let i=0;i<n;i++){const n=e.comAry[0];t.delete(n),Array.isArray(n.slots)&&n.slots.forEach((e=>{l(e,t)}))}}},52232:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(79127),o=n(11885);function r(e){return{exec(t,...n){const r=e();if("ui.addComs"===t)return function(e,t){const{context:n,viewModel:r,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d}=t;return new Promise(((t,n)=>{const i=[],o=e.data;if(Array.isArray(o))o.forEach((e=>{const t=u(e);t&&i.push(t)}));else{const e=u(o);e&&i.push(e)}i?t("已完成添加组件."):n("添加组件发生错误，请重新输入.")}));function u(e,t,p){const f=n.getComDef({namespace:e.type});if(!f)return!1;const m=new i.u5(f);s.add({seedModel:m,state:"finish",toComId:null==t?void 0:t.id,toSlotId:null==p?void 0:p.id},{noFocus:!0,indeed:!0});const h=r.searchCom(m.id);if(h){const t=f.ai;if(t&&"function"==typeof t["@create"])try{const i=(0,o.e)({comId:h.id,context:n,model:h,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d},{def:e});t["@create"](i)}catch(e){console.error(e)}if(e.slots)for(let t in e.slots){const n=e.slots[t];Array.isArray(n)&&n.forEach((e=>{u(e,h,h.getSlot(t))}))}return`已添加组件${f.title}`}}}(n[0],r)}}}},93915:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(79127),o=n(22811),r=n(73806),s=n(23037),a=n(59055),l=n(75101),c=n(5691);function d(e){const{viewModel:t,mover:n,emitItem:s,emitFrame:d,emitPermission:p,context:f,emitMessage:m}=e;return{getCanvasElement(){const e=t.$el;if(e)return f.isDebugMode()?e.querySelector("[data-canvas='debug']"):e.children[0]},getDocs(n){const i=t.searchCom(n);if(void 0!==i)return(0,l.Z)(i,e)},exist:e=>void 0!==t.searchCom(e.id)?{id:e.id,result:!0,info:void 0}:{id:e.id,result:!1,info:`组件 ${e.title}(namespace=${e.def.namespace}) 在布局视图中不存在.`},add(a,l){if(!a||"object"!=typeof a)return;const{state:d,seedModel:p,toComId:h,toSlotId:g,json:y,deletable:b,isParasite:v,debugProxy:x}=a;if(!(p instanceof o.Z)&&!(p instanceof i.cR)&&p.runtime.hasUI())if("ing"===d){const t=p.runtime.model.style;t&&n.show({x:t.left,y:t.top},p),t.isPositionAbsoluteOrFixed()||"popup"===p.runtime.def.rtType||u(p,e,n)}else{if("finish"===d){let a;if(n.hide(),h&&g){const e=t.searchCom(h);a=e.getSlot(g)}a||(a=g?t.getSlot(g):t.getMainModuleSlot());const d=a.root;try{p.init({cancel(){requestAnimationFrame((()=>{s.delete(u),s.focus(void 0)}))},viewSlot:d})}catch(e){console.error(e)}e.focusArtboard(d.id);const u=new o.Z(p);f.isDesnModeOfBluePrint()&&(u.runtime.isBluePrint=!0),v&&(u.isParasite=!0);const y=p.def;if(p instanceof i.Bn){u.runtime.title=p.title;const e=t.slots.find((e=>e.id===p.slotId));u.proxySlot=e}else y.slots&&y.slots.length>0&&y.slots.forEach((e=>{const{id:t,title:n,type:i,layout:o,schema:r,capacity:s,default:a}=e;u.addSlot({id:t,title:n,type:i,layout:o,schema:r,capacity:s,asDefault:a})}));let b;const x=a.state.isHovering();if((null==l?void 0:l.indeed)||x)if(null==l?void 0:l.indeed){if(!(0,r.H$)(a,y.schema))return void m.warn("组件类型不匹配");b=a.addComponent(u)}else{const t=e.placeholder;if(t&&void 0!==t.index){const e={insertOrder:t.index};if(t.y=void 0,t.index=void 0,void 0!==e.insertOrder){if(!(0,r.H$)(a,y.schema))return void m.warn("组件类型不匹配");b=a.changeOrder(u,e.insertOrder)}}else b=a.addComponent(u)}if(!b)return;return requestAnimationFrame((t=>{const n=null==a?void 0:a.parent;if(n){const t=(0,c.hN)(i.AX.CHILD_ADD,n,u,a,e);"boolean"!=typeof t||t?(0,c.gF)(i.AX.PARENT_UPDATED,b,a,e):s.delete(b)}else(0,c.gF)(i.AX.PARENT_UPDATED,b,a,e)})),f.isDebugMode()||!b||l&&l.noFocus||requestAnimationFrame((e=>{s.focus(b,{noBlur:!0})})),u.isStyleLayoutAbsoluteOrFixed()||u.style.reset(),b}"cancel"===d&&(n.hide(),e.placeholder&&void 0!==e.placeholder.index&&(e.placeholder.y=void 0,e.placeholder.index=void 0))}},addSlot:({comId:e,id:n,title:i,type:o,schema:r,inputs:s,outputs:a})=>(t.searchCom(e).addSlot({id:n,title:i,schema:r,type:o}),!0),setSlotTitle:(e,n,i)=>(t.searchCom(e).getSlot(n).title=i,!0),removeSlot(e,n){const i=t.searchCom(e),o=i.getSlot(n);return o&&o.comAry&&o.comAry.forEach((e=>{s.delete(e)})),i.removeSlot(n),!0},getFocus(){const e=f.focusModelAry;if(e){const t=e.find((e=>e instanceof o.Z));if(t)return t.runtime}},reFocus(){e.showNavPanel=!1},focus(t,n){if(f.exeBlurFns(),e.showPageNav=!1,e.showNavPanel=!1,e.selection&&(e.selection.justNow||(e.selection=void 0)),t){if(t instanceof o.Z){const n=t.root.id;return void e.focusArtboard(n)}}else f.blur()},focusFork(e){if(!e)return;const n=f.getComDef(e.runtime.def),{rtType:i}=n;if(i&&null===i.match(/react|vue/gi))return!1;if(e instanceof o.Z)return t.state.disable(),!1;if(t.state.enable(),f.isDebugMode())return!1;let r=t.searchCom(e.id);return r?(setTimeout((()=>{const e=r.$el,t=f.model.mainModule.slot,n=t.scrollEle,i=e.getBoundingClientRect(),o=n.getBoundingClientRect();(o.height<i.y||i.y<o.y)&&(i.height>o.height?n.scrollTop=t.style.top+i.y-o.y-100:n.scrollTop=t.style.top+(i.top-o.height/2+i.height/2))})),s.focus(r),!0):void 0},hover(n){if(f.isDebugMode())return;if(!n||null==n){if(e.hoverModel=void 0,e.activePlugin){const e=f.getPluginOn("hover");e&&e.forEach((e=>e()))}return}let r;if(n instanceof o.Z)r=n;else if(n instanceof i.M_){const e=n.id;r=t.searchCom(e)}if(r)if(e.activePlugin&&"plugin"===r._for){const e=f.getPluginOn("hover");e&&e.forEach((e=>e(r)))}else r instanceof o.Z&&(!r.state.isFocused()||r.focusArea)&&(e.hoverModel&&e.hoverModel.id===r.id||(e.hoverModel=r))},sayHi(e,n){if(f.isDebugMode()||"geoView"===n)return;const i=t.searchCom(e);i&&i.sayHi((()=>{}))},move(i,r,s,a){if("ing"===r&&t.state.editing(),"finish"===r&&t.state.editingRecover(),i instanceof o.Z)if(i.isStyleLayoutAbsoluteOrFixed()){if("ing"==r)s&&n.show(s,i);else if("finish"==r&&(n.hide(),e.placeholder)){const t={insertOrder:e.placeholder.index};return e.placeholder.y=void 0,e.placeholder.index=void 0,t}}else if("ing"==r)s&&n.show(s),u(i,e,n,!0);else if("finish"==r&&(n.hide(),e.placeholder)){const t={insertOrder:e.placeholder.index};return e.placeholder.y=void 0,e.placeholder.index=void 0,t}},upwards(e,t){if(e instanceof o.Z)return e.parent.upwards(e,t)},downwards:(e,n)=>t.slots[0].downwards(e,n),changeOrder(e,n){const i=t.searchCom(e.id);i.parent.changeOrder(i,n)},cutToSlot:(n,o,r,s)=>{var a;const l=t.searchCom(n),u=void 0!==s&&s;if(!l)return;let p,f=null===(a=l.parent)||void 0===a?void 0:a.parent;if(f&&(p=(0,c.hN)(i.AX.CHILD_REMOVE,f,l,l.parent,e)),"boolean"!=typeof p||p){function m(e,t){var n;e.runtime.def.namespace!==i.Vm.coms.definedCom&&(t.isRoot()||t.isTypeOfScope())&&(null===(n=e.slots)||void 0===n?void 0:n.length)>0&&e.slots.forEach((e=>{e.isTypeOfScope()||e.comAry.forEach((e=>{const n=t.parent;d.cutComToMe(e.id,null==n?void 0:n.id,t.id),m(e,t)}))}))}if(null==o){const h=e.getCurModuleSlot();h.cutIn(l,u),(0,c.gF)(i.AX.PARENT_UPDATED,l,h,e),m(l,h)}else{const g=t.searchCom(o),y=g.getSlot(r);let b=(0,c.hN)(i.AX.CHILD_ADD,g,l,y,e);if("boolean"!=typeof b||b){g.cutIn(l,r,u),(0,c.gF)(i.AX.PARENT_UPDATED,l,y,e);let v=y;for(;v&&!v.isTypeOfScope()&&!v.isRoot();)v.parent&&(v=v.parent.parent);v&&m(l,v)}}}},paste:t=>(0,a.J)(t,e),delete:n=>{var r;if(!n.runtime||!n.runtime.hasUI()||n.forkedFrom)return;const a=t.searchCom(n.id);if(!a)return!1;if(n instanceof o.Z){let o,l=null===(r=n.parent)||void 0===r?void 0:r.parent;if(l&&(o=(0,c.hN)(i.AX.CHILD_REMOVE,l,n,n.parent,e)),void 0===o||o){const o=n.runtime.def.namespace;if(o!==i.Vm.coms.definedCom&&a.slots)for(;a.slots.length;){const e=a.slots[0];s.removeSlot(a.id,e.id)}if(!a.parent.delete(a)){t.searchComParentSlot(a.id).delete(a)}if(e.activePlugin){const e=f.getPluginOn("delete");e&&e.forEach((e=>e({id:n.id,def:{namespace:o}})))}return p.removeByModelId(n.id),n.destroy(),!0}}}}}function u(e,t,n,o){const{viewModel:r,placeholder:a,context:l,getCurModuleSlot:c}=t,d=r.findHoveringSlot(),u=c();if(!d)return void(a.type="none");if(o){if(e.root.id!==d.root.id)return void(a.type="none")}if(e instanceof i.Bn&&e.slotId===d.root.id)return void(a.type="none");if(l.isDesnModeOfBluePrint()&&d.parent&&!d.parent.runtime.isBluePrint)return a.type="none",void(a.index=void 0);if(d&&d.style.isLayoutAbsolute())return a.type="none",void(a.index=void 0);const p=d||e.parent||u,f=p.$el,m=r.style.zoom,h=r.canvasWrapEle,g=(0,s.bt)(h),y={width:30,height:30,top:n.y-g.y,left:n.x-g.x};let b,v;if(e.parent?(b={x:y.left,y:y.top},v={w:y.width,h:y.height}):(b={x:y.left/m,y:y.top/m},v={w:y.width/m,h:y.height/m}),d&&d.style.isLayoutAbsolute())return void(a.index=void 0);const x=(0,s.bt)(f,h);n.container={left:x.x,top:x.y,width:x.w*m,height:x.h*m};const w=p.comAry;if(p.style.isLayoutOfFlexRow()){a.type="v",a.x=x.x,a.y=x.y,a.w=10,a.h=f.offsetHeight*m,a.index=void 0;w.find(((e,t)=>{let n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed()){const e=(0,s.bt)(n,h);if(e.x+n.offsetWidth/2>b.x)return a.index=t,a.x=e.x,!0}}))||(w.slice().reverse().find(((e,t)=>{let n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed())return a.x=(0,s.bt)(n,h).x+n.clientWidth*m,!0})),a.index=w.length)}else{let e=f.offsetWidth;a.type="h",a.x=x.x,a.h=10,a.w=e*m,a.index=void 0,(w.length<=0||!w[0].asFirst)&&(a.y=x.y);if(!w.find(((e,t)=>{const n=e.$el;if(n&&!e.style.isPositionAbsoluteOrFixed()){const i=(0,s.bt)(n,h);if(!e.asFirst&&i.y+n.offsetHeight/2>b.y)return a.index=t,a.x=x.x,a.y=i.y,!0}}))){const e=w.length;let t=w.length;w.slice().reverse().find(((n,i)=>{0===i?n.asFirst&&(t=1):n.asLast||(t=e-i);let o=n.$el;if(!n.asLast&&o&&!n.style.isPositionAbsoluteOrFixed())return a.x=x.x,a.y=(0,s.bt)(o,h).y+o.clientHeight*m,!0})),a.index=t}}}},85675:(e,t,n)=>{function i(e){return{getUIComDefTree(t,n){const{viewModel:i,context:o}=e();let r,s;if(n?(s=i.searchCom(n),r=s.getSlot(t)):r=i.searchSlot(t),r){const e=t=>{if(t&&(s&&!t.isTypeOfDefinedCom()||!s)){const n=[];return t.comAry.forEach((t=>{const i=o.getComDef(t.runtime.def),r={id:t.id,def:i,slots:[]};n.push(r),t.slots&&t.slots.forEach((t=>{t.isTypeOfScope()||r.slots.push({id:t.id,title:t.title,coms:e(t)||[]})}))})),n}};return e(r)}}}}n.d(t,{o:()=>i})},75101:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(52939),o=n(90359),r=n.n(o);function s(e,t){const{context:n}=t;if(n.getComDef(e.runtime.def)){let t;return t=e.slots?e.slots.map((e=>r().createElement("div",{key:e.id,className:i.Z.slot},e.title,r().createElement("div",{className:i.Z.borders},r().createElement("div",{className:i.Z.slotT}),r().createElement("div",{className:i.Z.slotR}),r().createElement("div",{className:i.Z.slotB}),r().createElement("div",{className:i.Z.slotL}))))):r().createElement("div",{className:i.Z.empty},"[无]"),r().createElement("div",{className:i.Z.info},r().createElement("div",{className:i.Z.tt},"插槽"),t)}}},59055:(e,t,n)=>{n.d(t,{J:()=>s});var i=n(22811),o=n(79127),r=n(5691);function s(e,t){var n;const{viewModel:s,getCurModuleSlot:a,mover:l,emitSnap:c,emitLogs:d,emitItem:u,emitIOCAbout:p,context:f,emitMessage:m}=t,{from:h,rt:g}=e;if(g){const e=g.geo;if(e){const l=s.searchCom(h),c=a();let d;const p=f.focusModel;if(p&&p instanceof i.Z&&(null===(n=p.slots)||void 0===n?void 0:n.length)>0&&(d=p.slots[0]),!d){const e=null==l?void 0:l.parent;d=e&&e.root===c.root?e:c}const m=d.addComponent(e);requestAnimationFrame((n=>{const i=null==d?void 0:d.parent;if(i){const n=(0,r.hN)(o.AX.CHILD_ADD,i,e,d,t);"boolean"!=typeof n||n?(0,r.gF)(o.AX.PARENT_UPDATED,e,d,t):u.delete(e)}else(0,r.gF)(o.AX.PARENT_UPDATED,e,d,t)}));const g=e=>{e.slots&&e.slots.forEach((e=>{e.comAry.forEach((t=>{var n;e.isTypeOfScope()||(u.add({seedModel:t.runtime,state:"finish",toComId:null===(n=d.parent)||void 0===n?void 0:n.id,toSlotId:d.id}),g(t))}))}))};return g(e),u.focus(m),m}}}},78990:(e,t,n)=>{function i(e){return{setTitle(t,n,i){if("geoView"!==i){const i=e(),{context:o,viewModel:r}=i,s=r.getSlot(t);s&&(s.title=n)}},switch(t){const n=e(),{context:i,viewModel:o}=n;if(i.isDesnMode()&&o.curArtboardId!==t){n.viewModel.getSlot(t)&&(n.focusArtboard(t),setTimeout(n.anchor))}},getAll(){const t=e(),{viewModel:n}=t;return n.slots},debug(t,n,i,o){const r=e(),s=r.viewModel.getSlot(t),a=r.getCurModuleSlot();s&&!s._debugF&&("popup"!==s.showType&&r.emitScenes.close(a.id),s._debugF=!0,s._debugParams=n,s._debugOpenType=i,r.focusArtboard(t))},close(t){const n=e(),{context:i,viewModel:o}=n,r=o.slots;if(r.length>0){const e=r.find((e=>e.id===t));if(e){e.close();o.curArtboardId===e.id&&(o.curArtboardId=void 0)}}},delete(t){const n=e(),{viewModel:i,emitItem:o,emitSnap:r,focusArtboard:s}=n,a=i.getSlot(t);if(a)try{o.delete(a),i.deleteSlot(t);s(i.getMainModuleSlot().id)}catch(e){}return!0}}}n.d(t,{Z:()=>i})},5691:(e,t,n)=>{function i(e,t,n,i){var o;const{context:r,emitIOCAbout:s,emitItem:a,emitSnap:l,emitMessage:c}=i,d=r.getComDef(t.runtime.def);let u;if(d&&d.editors){const i=d.editors.view||d.editors;if(i){const d=i[e];d&&(u=d({id:t.id,get data(){return t.data},get inputs(){return s.getInputEditor(t.id)},get outputs(){return s.getOutputEditor(t.id)},get parent(){var e;const n=null===(e=t.parent)||void 0===e?void 0:e.parent;if(n){const e=r.getComDef(n.runtime.def),t=e.editors.view||e.editors;if(t)return new Proxy({},{get(e,i){if("string"==typeof i&&i.startsWith("@")){const e=t[i];if("function"==typeof e)return function(){const t={data:n.data,get inputs(){return s.getInputEditor(n.id)},get outputs(){return s.getOutputEditor(n.id)},get slots(){return n.getSlotEditor({emitItem:a,context:r,emitSnap:l,emitIOCAbout:s,emitMessage:c})}};return e(t,...arguments)}}}})}}},{title:n.title,schema:null===(o=n.schema)||void 0===o?void 0:o[0]}))}}return u}function o(e,t,n,i,o){const{context:r,emitIOCAbout:s,emitItem:a,emitSnap:l,emitMessage:c}=o,d=r.getComDef(t.runtime.def);let u;if(d&&d.editors){const o=d.editors.view||d.editors;if(o){const d=o[e];if(d)try{u=d({get def(){const e=r.getComDef(n.runtime.def);return{namespace:e.namespace,title:e.title,schema:e.schema}},get data(){return t.data},get children(){return{get(e){const t=i.comAry.find((t=>t.id===e));if(t){const e=r.getComDef(t.runtime.def),i=e.editors.view||e.editors;if(i)return new Proxy({},{get(e,t){if("string"==typeof t&&t.startsWith("@")){const e=i[t];if("function"==typeof e)return()=>e({data:n.data})}}})}}}},get inputs(){return r.configs.toplView?s.getInputEditor(t.id):{get:()=>({setSchema(){}})}},get outputs(){return r.configs.toplView?s.getOutputEditor(t.id):{get:()=>({setSchema(){}})}},get input(){return s.getInputEditor(t.id)},get output(){return s.getOutputEditor(t.id)},get slots(){return r.configs.toplView?t.getSlotEditor({emitItem:a,context:r,emitSnap:l,emitIOCAbout:s,emitMessage:c}):{get:()=>({inputs:{get:()=>({setSchema(){}})}})}}},{id:n.id,name:n.name,title:n.runtime.title,get data(){return n.data},get inputDefs(){return r.getComDef(n.runtime.def).inputs},get outputDefs(){return r.getComDef(n.runtime.def).outputs},get dom(){return n.$el}},{id:i.id})}catch(e){console.error(e),u=void 0}}}return u}n.d(t,{gF:()=>i,hN:()=>o})},64664:(e,t,n)=>{n.d(t,{Gu:()=>c.Z,H$:()=>l.H$,HZ:()=>r.Z,Li:()=>i.Z,TE:()=>i.T,U7:()=>a.Z,Uq:()=>o.U,Zd:()=>s.Z,yC:()=>d.Z});var i=n(10199),o=n(7241),r=n(50350),s=n(22811),a=n(65731),l=n(73806),c=n(48626),d=n(18022)},32318:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(90359),o=n.n(i),r=n(23037),s=n(44336),a=n(79127),l=n(64664),c=n(83446),d=n(40199),u=n(17057),p=n(22593),f=n(47716);let m;function h(){const e=(0,c.N7)(f.Z,{from:"parents"}),{viewModel:t,getCurModuleSlot:n}=e;m=(0,c.mA)(p.I,(t=>{t({comNodeMap:{},geoViewContext:e})}));const i=n();if(i)return o().createElement(o().Fragment,null,o().createElement("div",{className:`${d.Z.view} ${m.isDragging?d.Z.dragging:""}`},o().createElement("div",{className:d.Z.body,ref:e=>e&&(m.bodyEle=e)},i.comAry.length>0?o().createElement("div",{className:d.Z.items,ref:e=>e&&(m.itemsEle=e)},o().createElement(g,{slot:i,asRoot:!0})):o().createElement("div",{className:d.Z.empty},"组件为空")),o().createElement(s.Z,{myCtx:m})))}function g({slot:e,asRoot:t}){const n=e.comAry;return t?o().createElement(o().Fragment,null,o().createElement("div",{className:d.Z.zonePops},n.filter((e=>e.isPopup)).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t})))),o().createElement("div",{className:d.Z.zoneAbsolute},n.filter((e=>!e.isPopup&&e.isStyleLayoutFixed())).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t})))),o().createElement("div",{ref:e=>e&&(m.normalItemsEle=e)},n.filter((e=>!e.isPopup&&!e.isStyleLayoutFixed())).map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t}))))):o().createElement(o().Fragment,null,n.map(((e,t)=>o().createElement(y,{key:e.id,com:e,idx:t}))))}function y({com:e}){var t;const{geoViewContext:n}=m,{emitItem:s,emitSnap:u,emitMessage:p,context:f}=n,h=e.runtime,g=h.def,y=n.context.getComDef(g),v=h.isBluePrint,x=!e.isPopup&&e.isStyleLayoutFixed(),w=g.namespace===a.Vm.coms.module,E=e.style.isVisible(),A=e.state.isFocused(),_=null===(t=h.upgrade)||void 0===t?void 0:t.info,C=E&&(!v||f.isDesnModeOfBluePrint()),I=!e.locked&&y,M=(0,i.useCallback)((t=>{C&&s.hover(e)}),[C]),P=(0,i.useCallback)((e=>{C&&s.hover(null)}),[C]),k=(0,i.useCallback)((t=>{e.focusArea=void 0,requestAnimationFrame((()=>{s.focus(e,{noBlur:!0})}))}),[C]),F=(0,i.useCallback)((()=>{const t=e.style;if(!t.isVisible()){const n=u.start("设置组件可见",{target:e});t.display="block",t.visibleOnce&&(t.visibleOnce=void 0),n.commit(),p.info("组件已设置为运行时可见.")}}),[]),O=(0,i.useCallback)((()=>{const t=u.start("unlock com",{target:e});e.locked=void 0,t.commit(),p.info("组件已解除锁定.")}),[]);if(n.context.isDesnModeOfBluePrint()&&!v)return;let T,Z,N;(null==y?void 0:y.icon)&&(T=/^(https:|data:image)/.test(y.icon)?o().createElement("img",{className:d.Z.comIcon,src:y.icon}):o().createElement("div",{className:d.Z.comIcon},o().createElement("span",null,h.title.substring(0,1)))),I&&(Z=e.isPopup?t=>function(e,t){const{geoViewContext:n,placeholder:i}=m,{viewModel:o}=n;let s,a;(0,c.qw)(e,(({po:{x:e,y:n},epo:{ex:l,ey:c},dpo:{dx:d,dy:u}},p)=>{if("start"==p){m.isDragging=!0;const e=o.slots[0].comAry;s=e.filter((e=>e.isPopup))}"moving"==p&&(a=void 0,s.find(((e,t)=>{const n=e,o=e.__ele__;if(o){const e=(0,r.bt)(o),s=o.offsetHeight;if(c>=e.y&&c<e.y+s/2?a={slot:n.parent,index:t,x:e.x,y:e.y-2,w:e.w,h:e.h}:c>=e.y+s/2&&c<=e.y+e.h&&(a={slot:n.parent,index:t+1,x:e.x,y:e.y+e.h,w:e.w,h:e.h}),a)return i.x=a.x,i.y=a.y,i.slot=a.slot,i.emptySlot=a.emptySlot,!0}}))),"finish"==p&&(m.isDragging=void 0,i.slot=void 0,i.y=void 0,a&&t.parent.changeOrder(t,a.index))}))}(t,e):t=>function(e,t){const{geoViewContext:n,bodyEle:i,itemsEle:o,normalItemsEle:s,placeholder:a}=m,{emitItem:d,emitMessage:u,viewModel:p,context:f,emitSnap:h}=n,{getComDef:g}=f,y=p.slots[0].comAry,b=t.__ele__,v=t;let x,w,E,A;(0,c.qw)(e,(({po:{x:e,y:t},epo:{ex:n,ey:c},dpo:{dx:f,dy:_}},C)=>{var I;if("start"==C&&(m.isDragging=!0,b.style.opacity="0.3",x=(0,r.bt)(o),w=(0,r.bt)(i),A=(0,r.bt)(s)),"moving"==C&&(n<w.x&&(i.scrollLeft-=10),n>w.x+w.w&&(i.scrollLeft+=10),c<w.y&&(i.scrollTop-=10),c>w.y+w.h&&(i.scrollTop+=10),c<x.y?(E={slot:v.root,y:-1},a.x=x.x,a.y=x.y,a.emptySlot=!1):c>x.y+x.h?(E={slot:v.root,y:1/0},a.x=x.x,a.y=x.y+x.h-1,a.emptySlot=!1):(E=function(e){const{geoViewContext:t,bodyEle:n}=m,{getCurModuleSlot:i}=t,o=((0,r.bt)(n),(t,n)=>{let i;const s=t.comAry;if(s&&s.find(((t,n)=>{const s=t,a=t.__ele__;if(a&&!t.isPopup){const t=(0,r.bt)(a),o=a.offsetHeight;if(e>=t.y&&e<=t.y+o/2)return i={slot:s.parent,index:n,x:t.x,y:t.y,w:t.w,h:t.h},i;if(e>=t.y+o/2&&e<=t.y+t.h)return i={slot:s.parent,index:n+1,x:t.x,y:t.y+t.h,w:t.w,h:t.h},i}if(t.slots&&t.slots.find(((n,s)=>{const a=n.__ele__,l=a.nextSibling,c=(0,r.bt)(a),d=(0,r.bt)(l),u=a.offsetHeight+d.h;if(e>c.y&&e<c.y+u){if(i=o(n),!i){const o=n.comAry.length;i=0===o?Object.assign({slot:n,index:0,emptySlot:!0,item:t},c):e<d.y||d.y-e<2?{slot:n,index:0,item:t,x:d.x,y:d.y}:{slot:n,index:o,item:t,x:d.x,y:c.y+u-2}}return!0}})))return i})),!i&&n){const n=(0,r.bt)(m.normalItemsEle);e<=n.y&&(i={slot:t,index:0,x:n.x,y:n.y-2})}return i});return o(i(),!0)}(c),E?(a.x=E.x,a.y=E.y,a.slot=E.slot,a.emptySlot=E.emptySlot):0===s.childNodes.length&&(E={slot:p,emptySlot:!0,index:0,x:A.x,y:A.y-2,w:A.w,h:A.h},a.x=E.x,a.y=E.y,a.emptySlot=E.emptySlot))),"finish"==C){if(m.isDragging=void 0,b.style.opacity="1",a.slot=void 0,a.y=void 0,!E)return;let e;if(-1===E.y)d.cutToSlot(v.id,void 0,v.parent.id,0),e=!0;else if(E.y===1/0)d.cutToSlot(v.id,void 0,v.parent.id,y.length),e=!0;else{const t=E.slot;if(function(e,t){if(e.parent===t)return!1;function n(e){return!!e.slots&&e.slots.find((e=>e===t||(e.comAry?e.comAry.find((e=>n(e))):void 0)))}return!n(e)}(v,t)){const n=g(v.runtime.def);if(!(0,l.H$)(t,n.schema))return void u.warn("组件类型不匹配");t.style.isLayoutAbsolute()&&(v.style.top=30,v.style.left=30);const i=h.start("move com",{target:t});d.cutToSlot(v.id,null===(I=t.parent)||void 0===I?void 0:I.id,t.id,E.index),i.commit(),e=!0}else if(v.parent.id===t.id){const t=h.start("move com",{target:v.parent});v.parent.changeOrder(v,E.index),t.commit(),e=!0}}e&&v.notifyEleChanged(!0)}}))}(t,e)),y?e.errorMsg&&(N=e.errorMsg):N="（未定义）";const D=o().createElement("div",Object.assign({ref:t=>t&&!e.isPopup&&(e.__ele__=t),className:`${d.Z.item} ${v?d.Z.blueprint:""}\n          ${A?d.Z.active:""} ${w?d.Z.module:""}\n          ${E?"":d.Z.hidden} ${!I&&A?d.Z.noMovable:""}\n          ${e._errorMsg?d.Z.error:""}\n        `},C?{"data-handlable":!0}:{},{onClick:(0,c.Ft)(k).stop,onMouseDown:(0,c.Ft)(Z).stop,onMouseEnter:M,onMouseLeave:P}),T,o().createElement("div",{className:d.Z.comItemContent},o().createElement("div",{className:`${d.Z.comName}`},h.title,w?"模块":"",_&&o().createElement("span",null,a.PJ.circle),N?o().createElement("span",{className:d.Z.noDef},N):null),o().createElement("div",{className:d.Z.icons},x&&o().createElement("span",null,a.PJ.positionFixed),e.locked&&o().createElement("span",{onClick:(0,c.Ft)(O).stop,"data-mybricks-tip":"{content:'解锁'}"},a.PJ.lock),!E&&o().createElement("span",{onClick:(0,c.Ft)(F).stop,"data-mybricks-tip":"{content:'显示该组件'}"},a.PJ.eyeClosed))));let S;return e.slots&&(S=o().createElement("div",{className:`${d.Z.items} ${v?d.Z.blueprintItems:""}`},o().createElement(b,{slots:e.slots,comClick:k}))),e.isPopup?o().createElement("div",{className:`${e.isPopup?d.Z.popup:""}`,onClick:k,ref:t=>t&&(e.__ele__=t)},D,S):S?o().createElement(o().Fragment,null,D,S):D}function b({slots:e,comClick:t}){const n=m.placeholder;return e.map((e=>o().createElement(i.Fragment,{key:e.id},o().createElement("div",{ref:t=>t&&(e.__ele__=t),className:`${d.Z.item} ${d.Z.slot} ${(null==n?void 0:n.slot)===e?d.Z.placeholder:""}`,onClick:(0,c.Ft)((()=>{e.__fold__=!e.__fold__})).stop},o().createElement("div",{className:`${d.Z.icon} ${e.comAry.length<=0?d.Z.iconHidden:""}`},e.__fold__?u.U.ArrowRight:u.U.ArrowDown),o().createElement("span",{className:`${d.Z.comName} ${d.Z.slotName}`},e.title,"(",e.id,")")),o().createElement("div",{className:`${d.Z.items} ${d.Z.slots}`,style:{display:e.__fold__?"none":"block"}},o().createElement(g,{slot:e})))))}},44336:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(77992),o=n(90359),r=n.n(o);function s({myCtx:e}){const{placeholder:t}=e;return t&&r().createElement("div",{className:`${i.Z.placeholder} ${t.emptySlot?i.Z.coverSlot:""}`,style:{display:""+(void 0!==t.y?"block":"none"),top:t.y||0,left:t.x||0,height:t.emptySlot?22:3}})}},4910:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(32318).Z},17057:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(90359);const o={ArrowRight:i.createElement("svg",{t:"1636448144846",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1189",width:"16",height:"16"},i.createElement("path",{d:"M249.311159 881.975333 619.286492 512 249.311159 142.024667 327.012845 64.322981 774.688841 512 327.012845 959.677019Z","p-id":"1190"})),ArrowDown:i.createElement("svg",{t:"1636448051484",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9844",width:"16",height:"16"},i.createElement("path",{d:"M881.975333 249.311159 512 619.286492 142.024667 249.311159 64.322981 327.012845 512 774.688841 959.677019 327.012845Z","p-id":"9845"}))}},22593:(e,t,n)=>{n.d(t,{I:()=>o});var i=n(83446);class o{constructor(){this.placeholder={},this.comNodeMap={}}focusItem(e){setTimeout((t=>{const n=(0,i.bt)(e._ele,this.itemsEle),o=this.bodyEle.offsetHeight,r=this.bodyEle.offsetWidth;n.y>this.bodyEle.scrollTop+o?this.bodyEle.scrollTop=n.y-o+100:n.y<o&&(this.bodyEle.scrollTop=n.y-30),n.x>this.bodyEle.scrollLeft+r?this.bodyEle.scrollLeft=n.x-r+100:n.x<r&&(this.bodyEle.scrollLeft=n.x-30)}))}}},18022:(e,t,n)=>{let i;function o(e){i=e}function r({keyword:e}){const{viewModel:t,emitFrame:n,emitLogs:o}=i;if(!t||!t.slots)return;const r=[];return t.slots.forEach((t=>{const n=[];s({rtn:n,slot:t,keyword:e}),n.length>0&&r.push({id:t.id,title:t.title,results:n})})),r.length>0?r:void 0}function s({rtn:e,slot:t,keyword:n}){t.comAry&&t.comAry.forEach((t=>{t.runtime.title.indexOf(n)>=0&&e.push({type:"com",id:t.id,title:t.runtime.title,focus(){i.emitItem.focus(t)}}),t.slots&&t.slots.forEach((t=>{s({rtn:e,slot:t,keyword:n})}))}))}n.d(t,{S:()=>o,Z:()=>r})},45747:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(45761),o=n(83446),r=n(90359),s=n.n(r),a=n(76641),l=n(79127);function c({model:e,mode:t,frameLable:n,scopePath:r,options:c={},viewContext:d}){const{context:u,cssSlot:p}=d,f=(0,o.vc)((()=>{var n;const r="function"==typeof c.wrap;let l;return(null===(n=e.comAry)||void 0===n?void 0:n.length)>0&&(l=e.comAry.map(((e,n)=>{if(e.runtime.hasUI()){let l;if("function"==typeof c){const t=e.runtime;l=c({namespace:t.def.namespace,version:t.def.version,title:t.title},n)}e.name||(e.name=(0,o.Vj)());const p=e.runtime.model.data;let f=s().createElement(i.Z,{key:e.id,model:e,mode:t,data:p,_inputs:(null==l?void 0:l._inputs)||c._inputs,_outputs:(null==l?void 0:l._outputs)||c._outputs,inputs:(null==l?void 0:l.inputs)||c.inputs,outputs:(null==l?void 0:l.outputs)||c.outputs,viewContext:d,template:c.itemWrap});return r?{id:e.id,name:e.name,jsx:f,get style(){return e.runtime.model.style},get def(){const t=u.getComDef(e.runtime.def),n={title:t.title,namespace:t.namespace,version:t.version};for(const e in t)e.startsWith("_")&&"_inputs"!==e&&"_outputs"!==e&&(n[e]=(0,o.d9)(t[e]));return n},inputs:{},get outputs(){return(0,a.RX)(e,void 0,{context:u})}}:f}}))),r?c.wrap(l):l})),m=(0,o.vc)((()=>{const{cssSlot:t}=d,n=[t.slot,"slot"];e.state.isHovering()&&!e.state.isHoveringSilent()&&n.push(t.slotHover),u.isDebugMode()||(n.push(t.desn),0==e.comAry.length&&(n.push(t.empty),e.isTypeOfScope()&&n.push(t.emptyForScope)),e.state.isFocused()&&n.push(t.focus));const i=e.style;if(i&&"function"!=typeof c.wrap){i.isLayoutOfFlexColumn()?n.push(t.lyFlexColumn):i.isLayoutOfFlexRow()&&n.push(t.lyFlexRow);const e=i.getJustifyContent();e&&("FLEX-START"===e.toUpperCase()?n.push(t.justifyContentFlexStart):"CENTER"===e.toUpperCase()?n.push(t.justifyContentFlexCenter):"FLEX-END"===e.toUpperCase()?n.push(t.justifyContentFlexFlexEnd):"SPACE-AROUND"===e.toUpperCase()?n.push(t.justifyContentFlexSpaceAround):"SPACE-BETWEEN"===e.toUpperCase()&&n.push(t.justifyContentFlexSpaceBetween));const o=i.getAlignItems();o&&("FLEX-START"===o.toUpperCase()?n.push(t.alignItemsFlexStart):"CENTER"===o.toUpperCase()?n.push(t.alignItemsFlexCenter):"FLEX-END"===o.toUpperCase()&&n.push(t.alignItemsFlexFlexEnd))}return n.join(" ")})),h=(0,o.vc)((()=>{var t;if((null===(t=e.comAry)||void 0===t?void 0:t.length)<=0&&e.title)return s().createElement("div",{className:p.title},e.isTypeOfScope()?s().createElement("span",null,l.PJ.Folder):null,s().createElement("p",null,e.title))}));return s().createElement("div",{ref:t=>{t&&e.set$elOnce(t)},"data-title":(null==c?void 0:c.title)||e.title||"拖拽组件到这里","data-isslot":1,className:m,style:null==c?void 0:c.style},f,h,s().createElement("div",{className:p.mover}))}},72933:(e,t,n)=>{function i(e){return Object.keys(e).map((t=>{return`${n=t,n.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e[t]};`;var n})).join(";\n")}n.d(t,{D:()=>i})},18249:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(83446),o=n(73806);function r({comId:e,comName:t,context:n,model:r,emitItem:s,emitMessage:a,emitSnap:l,emitIOCAbout:c,emitPermission:d},u={}){let p;const f=(0,i.pI)((()=>r.focusArea));if(f){const e=f.ele;let t,n=e.parentNode;null!==n&&(p={ele:e,get index(){let i=Object.keys(f.selectors).join("");i.endsWith("*")&&(i=i.substring(0,i.length-1));try{t=n.querySelectorAll(i)}catch(e){t=n.querySelectorAll(":scope"+i)}return[].indexOf.call(t,e)},dataset:e.dataset})}const m={id:e||r.id,name:t||r.name,undo:function(){let e;return{start(t){e=l.start(t||"组件编辑",{target:r})},cancel(){e&&e.cencel()},commit(){e&&e.commit()}}}(),style:{get width(){return r.style.width},set width(e){r.style.width=e},get height(){return r.style.height},set height(e){("number"==typeof e||"string"==typeof e&&(e.match(/^\d+%$/),1))&&(r.style.height=e)},get flex(){return r.style.flex},set flex(e){r.style.flex=e},get top(){return r.style.top},set top(e){r.style.top=e},get right(){return r.style.right},set right(e){r.style.right=e},get bottom(){return r.style.bottom},set bottom(e){r.style.bottom=e},get left(){return r.style.left},set left(e){r.style.left=e},get display(){return r.style.display},set display(e){r.style.display=e}},get data(){return r.data},title:r.runtime.title,focusArea:p,get slot(){return this.slots},get slots(){return r.getSlotEditor({emitItem:s,context:n,emitSnap:l,emitIOCAbout:c,emitMessage:a})},get parent(){var e;const t=null===(e=r.parent)||void 0===e?void 0:e.parent;if(t){const e=n.getComDef(t.runtime.def),i=e.editors.view||e.editors;if(i)return new Proxy({},{get(e,n){if("string"==typeof n&&n.startsWith("@")){const e=i[n];if("function"==typeof e)return function(){const n={data:t.data,get inputs(){return c.getInputEditor(t.id)},get outputs(){return c.getOutputEditor(t.id)}};return e(n,...arguments)}}}})}},getChildByName(e){let t;const n=r.slots;if(n&&n.find((n=>{if(t=n.comAry.find((t=>t.name===e)),t)return!0})),t)return{id:t.id,title:t.title,def:t.runtime.def,data:t.data}},removePermission(e){d.remove(e)},get inputs(){return c.getInputEditor(r.id)},get outputs(){return n.configs.toplView?c.getOutputEditor(r.id):{get:()=>({setSchema(){}})}},get input(){return this.inputs},get output(){return this.outputs},get diagram(){return{edit(e){setTimeout((t=>{s.editDiagram(r.id,e)}))}}},get env(){var e;const t=null===(e=n.configs.com)||void 0===e?void 0:e.env;return Object.assign(t,{get message(){return{warn(e){"string"==typeof e&&a.warn(e)}}},searchComDefAry:e=>(0,o.oV)(n.comLibAry,e)})},get element(){return r.$el.firstChild},domChanged(){r.notifyEleChanged()}};if("object"==typeof u)for(let e in u)m[e]=u[e];return m}},11885:(e,t,n)=>{n.d(t,{e:()=>i.Z});var i=n(18249)},48626:(e,t,n)=>{let i;function o(e){i=e}function r(){const{viewModel:e,emitFrame:t,emitLogs:n}=i;if(!e||!e.slots)return;const o=[];function r(e){if(e.comAry){const t=e.comAry.filter((t=>{if(!t.runtime)return o.push("删除 未知组件."),!1;if(t.parent!==e&&(t.parent=e),t.runtime.topl._F_)return o.push("删除 未知组件."),!1;if(t.slots){const e=[];t.slots.forEach((n=>{t.slots.filter((e=>e.id===n.id)).length>1&&e.find((e=>e.id===n.id))||e.push(n)})),e.length!==t.slots.length&&(t.slots=e,o.push(`修复 组件${t.runtime.title} 的错误数据`)),e.forEach((e=>{r(e)}))}return!0}));t.length<e.comAry.length&&(e.comAry=t)}}e.slots.forEach((e=>{r(e)})),o.length>0&&n.warn(o.join("\n"))}n.d(t,{S:()=>o,Z:()=>r})},37826:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(23037);class o{constructor(e){if(!e&&!this.id)try{this.id=(0,i.Vj)()}catch(e){if(!(e instanceof TypeError))throw e}}}},99319:(e,t,n)=>{n.d(t,{ZP:()=>f,aS:()=>p});var i,o,r=n(83446),s=n(10637),a=n(37826),l=n(23037),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=class{constructor(){this.contextMenuF=!1,this.hoverF=!1,this.hoverFSilent=!1,this.openedF=!1,this.editingF=!1,this.resizingF=!1,this.runningF=!1,this._fTimeAry=[],this.now=0}pushFocusedTime(){this._fTimeAry.push((new Date).getTime()),this._fTimeAry.length>2&&this._fTimeAry.splice(0,this._fTimeAry.length-2)}popContextMenu(){this.contextMenuF=!0}cancelContextMenuPopped(){this.contextMenuF=!1}isContextMenuPopped(){return this.contextMenuF}isSelected(){return this._selected}selected(){this._selected=!0}cancelSelected(){this._selected=!1}open(){this.openedF=!0}openRecover(){this.openedF=!1}isOpened(){return this.openedF}disable(){this.now=-1}isDisabled(){return-1==this.now}static isDisabled(e){return-1==e}enable(){this.now=0,this._fTimeAry=[],this.editingF=!1,this.runningF=!1}isEnabled(){return 0==this.now}static isEnabled(e){return 0==e}isEnabledOrAbove(){return this.now>=0}static isEnabledOrAbove(e){return e>=0}hover(e){e?this.hoverFSilent=!0:this.hoverF=!0}hoverRecover(){this.hoverF=!1,this.hoverFSilent=!1}isHovering(){return this.hoverF||this.hoverFSilent}isHoveringSilent(){return this.hoverFSilent}editing(){this.editingF=!0}isEditing(){return this.editingF}editingRecover(){this.editingF=!1}focus(){this.now=2,this.pushFocusedTime()}focusPassive(){return this._focusPassive=!0,()=>{this._focusPassive=void 0}}focusedTimeRefresh(){this.pushFocusedTime()}get focusedStepTime(){let e=this._fTimeAry,t=e[e.length-1];return e.length>=2?t-e[e.length-2]:t-(new Date).getTime()}isFocused(){return 2==this.now}isFocusPassive(){return this._focusPassive}static isFocused(e){return 2==e}blur(){this.now=0,this._fTimeAry=[],this.editingRecover(),this.openRecover()}moving(){this.now=3}isMoving(){return 3==this.now}static isMoving(e){return 3==e}resizing(){this.resizingF=!0}isResizing(){return this.resizingF}resizingRecover(){this.resizingF=void 0}running(){this.runningF=!0}isRunning(){return this.runningF}runningRecover(){this.runningF=!1}};c([r.jj,d("design:type",Boolean)],u.prototype,"contextMenuF",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"hoverF",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"hoverFSilent",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"openedF",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"editingF",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"resizingF",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"runningF",void 0),c([r.jj,d("design:type","function"==typeof(o="undefined"!=typeof Array&&Array)?o:Object)],u.prototype,"_fTimeAry",void 0),c([r.jj,d("design:type",Object)],u.prototype,"now",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"_focusPassive",void 0),c([r.jj,d("design:type",Boolean)],u.prototype,"_selected",void 0),u=c([(0,r.iV)(s.it+"ModelState"),d("design:paramtypes",[])],u);let p=i=class{get title(){if(this.name)switch(this.name){case"todo":return"待完成";case"doing":return"进行中";case"done":return"已完成"}}get color(){if(this.name)switch(this.name){case"todo":return"#f38c23";case"doing":return"#0baebd";case"done":return"#5bbd0b"}}constructor(e){e&&(this.name=e.name,this.creatorId=e.creatorId,this.creatorName=e.creatorName,this.createTime=(new Date).getTime(),this.description=e.description)}static getAllDef(){return[{value:"todo",label:"待完成",color:"#f38c23"},{value:"doing",label:"进行中",color:"#0baebd"},{value:"done",label:"已完成",color:"#5bbd0b"}]}clone(){return new i(this)}};c([r.jj,d("design:type",Object),d("design:paramtypes",[])],p.prototype,"title",null),c([r.jj,d("design:type",Object),d("design:paramtypes",[])],p.prototype,"color",null),p=i=c([(0,r.iV)(s.it+"LabelModel"),d("design:paramtypes",[Object])],p);class f extends a.Z{constructor(){super(...arguments),this.state=new u}get $el(){return this.__el__}set $el(e){this.__el__=e}set$elOnce(e){if(e){let t=this.__el__;if(t)if((0,l.K6)(e)){if(t.isConnected)return;{let n=t;for(;n;){if(n.parentNode===document.body)return;if(null===n.parentNode)return void(this.__el__=e);n=n.parentNode}}}else t.nodeType&&(t.parent||(this.__el__=e));else this.__el__=e}}updated(){this._updateTime=(new Date).getTime()}getUpdateTime(){return this._updateTime}focus(){this.state.focus()}blur(){this.state.blur()}hadDestroyed(){return this.__destroied__}destroy(){return!!this.__destroied__||(this.__destroied__=!0,(0,r.$i)(this),!1)}}c([r.jj,d("design:type",Number)],f.prototype,"_updateTime",void 0),c([r.jj,d("design:type",Object)],f.prototype,"__el__",void 0),c([r.jj,d("design:type",Object),d("design:paramtypes",[Object])],f.prototype,"$el",null)},88970:(e,t,n)=>{n.d(t,{Z:()=>u});var i,o=n(83446),r=n(66643),s=n(10637),a=n(37826),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=i=class extends a.Z{constructor(){super(...arguments),this.model={data:void 0,bindingsFrom:void 0,bindingsTo:void 0,inputAry:[],outputAry:[],outputEvents:{},style:new r.Z,permissions:void 0,spm:void 0},this._forked={data:{},style:{}}}forkData(e,t){if(t)return(0,o.d9)(this.model.data);let n=this._forked.data[e];return n||(n=0===Object.keys(this._forked.data).length?this.model.data:(0,o.d9)(this.model.data),this._forked.data[e]=n),n}hasUI(e){const t=this.def.rtType;return!(!t&&e)&&(!(t&&!t.match(/react|vue|popup|vuePopup/gi))||void 0)}get autorun(){return this._autoRun||this.hasUI()}setDebugContext(e,t,n,i){if(this.geo)return this.geo.setDebugContext(e,t,n,i)}addForkContext(e,t,n){if(this.geo)return this.geo.addForkContext(e,t,n)}clone({getBindingValue:e}){const t=new i;t.id=this.id,t.title=this.title,t.def=this.def,t.__cloned=!0;const n=this.model,r=(0,o.d9)(n.data),s=n.bindingsFrom;return s&&Object.keys(s).forEach((t=>{const n=e(s[t],t);let i=r;if(i){const e=t.split(".");e.forEach(((t,o)=>{o>=1&&(o===e.length-1?i[t]=n:i=i[t])}))}})),t.model={data:r,inputAry:(0,o.d9)(n.inputAry),outputAry:(0,o.d9)(n.outputAry),script:(0,o.d9)(n.script),style:n.style.clone(),permissions:(0,o.d9)(n.permissions)},t.geo=this.geo,t.topl=this.topl,this.cloned=t,t}toJSON(e,t){const n=this.model;if(e){const i={};return i.id=this.id,i.def=this.def,i.autorun=this.autorun,this.title&&(i.title=this.title),"geo"===t&&this.geo&&(i.style=n.style.toJSON(),this.topl||(i.model={data:(0,o.d9)(n.data),outputEvents:n.outputEvents?(0,o.d9)(n.outputEvents):void 0}),Object.assign(i,this.geo.toJSON(e))),"topl"===t&&(i.model={data:(0,o.d9)(n.data),style:n.style.clone(),outputEvents:n.outputEvents?(0,o.d9)(n.outputEvents):void 0},void 0!==n.script&&(i.model.script=(0,o.d9)(n.script)),n.permissions&&(i.model.permissions=(0,o.d9)(n.permissions)),this.topl&&Object.assign(i,this.topl.toJSON(e))),i}{const e={};return e.id=this.id,e.def=this.def,e.title=this.title,e.model={data:(0,o.d9)(n.data),style:n.style.clone(),permissions:n.permissions},void 0!==n.script&&(e.model.script=(0,o.d9)(n.script)),n.permissions&&(e.model.permissions=(0,o.d9)(n.permissions)),t?("geo"===t&&this.geo&&Object.assign(e,this.geo.toJSON()),"topl"===t&&this.topl&&Object.assign(e,this.topl.toJSON())):(this.geo&&(e.geo=this.geo.toJSON()),this.topl&&(e.topl=this.topl.toJSON())),e}}};l([o.jj,c("design:type",Object)],d.prototype,"_forked",void 0),l([o.jj,c("design:type",Object)],d.prototype,"upgrade",void 0),l([o.jj,c("design:type",d)],d.prototype,"cloned",void 0),d=i=l([(0,o.iV)(s.it+"ComRuntimeModel")],d);const u=d},92334:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(88970),o=n(37826),r=n(83446);class s extends o.Z{constructor(e,t,n){if(super(),this.deletable=!0,e){this.def=e,this.name=(0,r.Vj)();const{namespace:o,version:s,rtType:a,title:l,style:c,data:d}=e,u=this.runtime=new i.Z;u.title=n||l;let p=e.namespace.substring(e.namespace.lastIndexOf(".")+1)+(0,r.Vj)("_",3).replace(/\-/gi,"_");u.refId=p,u.def={namespace:o,version:s,rtType:a},t&&(u._autoRun=!0);const f=u.model;if("object"==typeof c)for(const e in c)f.style[e]=c[e];if(d){if("object"!=typeof d)throw new Error("data in component must be an object.");f.data=JSON.parse(JSON.stringify(d))}else f.data={}}}init({cancel:e,viewSlot:t}){if(this._inited)return;this._inited=!0;const n=this.def,i=this.runtime,o=i.model;(()=>{if(n.editors){const r=n.editors["@init"];if("function"==typeof r){const n=this,s=(e,t)=>({id:e.id,title:e.title,rels:e.rels,setTitle(n){t&&(e.title=n)},get connectionCount(){},get schema(){return e.schema},setSchema(n){(t||"follow"===e.schema.type)&&(e.schema=n)},remove(){if(t){const e=t.find((e=>e.hostId===e.id));t.splice(t.indexOf(e),1)}},setRels(n){t&&(e.rels=n)}});r({get env(){return{canvas:{get id(){if(t)return t.id},get type(){if(t)return t.style.isDisplayTypeOfMobile()?"mobile":"pc"}}}},get data(){return o.data},get style(){return o.style},isAutoRun:()=>i.autorun,setAutoRun(e){i._autoRun=e},get input(){return{get(e){if(!e){const e=[];i.model.inputAry.forEach((t=>{e.push({id:t.hostId,title:t.title})}));const t=n.def.inputs;return t&&t.forEach((t=>{e.push({id:t.id,title:t.title})})),e}let t=i.model.inputAry.find((t=>t.hostId===e));if(t)return s(t,i.model.inputAry);const o=n.def.inputs;return o&&(t=o.find((t=>t.id===e)),t)?s(t):void 0},add(e,t,n,o,r){i.model.inputAry.push({hostId:e,title:t,schema:n,deletable:o,conMax:r})}}},get output(){return{get(e){if(!e){const e=[];i.model.outputAry.forEach((t=>{e.push({id:t.hostId,title:t.title})}));const t=n.def.outputs;return t&&t.forEach((t=>{e.push({id:t.id,title:t.title})})),e}let t=i.model.outputAry.find((t=>t.hostId===e));if(t)return s(t,i.model.outputAry);const o=n.def.outputs;return o&&(t=o.find((t=>t.id===e)),t)?s(t):void 0},add(e,t,n,o,r){i.model.outputAry.push({hostId:e,title:t,schema:n,deletable:o,conMax:r})}}},setDesc(e){n.description=e}},{cancel:e})}}})()}get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}addInputPin(e){this.runtime.model.inputAry.push(e)}addOutputPin(e){this.runtime.model.outputAry.push(e)}}},66643:(e,t,n)=>{n.d(t,{Z:()=>c});var i,o=n(83446),r=n(10637),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=i=class{constructor(){this.display="block"}findIndexBySelector(e){let t;return t=Array.isArray(e)?this.styleAry.findIndex((t=>{const n=t.selector;if(Array.isArray(n)&&n.length===e.length&&!n.find(((t,n)=>{if(e.indexOf(t)<0)return!0})))return!0})):this.styleAry.findIndex((t=>{if(t.selector===e)return!0})),t}addStyle(e,t,n,i){this.styleAry||(this.styleAry=[]);const o=this.findIndexBySelector(e);o>=0&&this.styleAry.splice(o,1),t&&this.styleAry.push({selector:e,css:t,global:n,withParentComId:i})}removeStyle(e){if(this.styleAry){const t=this.findIndexBySelector(e);t>=0&&this.styleAry.splice(t,1)}}getStyle(e){if(this.styleAry){const t=this.findIndexBySelector(e);if(t>=0)return this.styleAry[t]}}clearStyleAry(){this.styleAry=void 0}get visibleOnce(){return this._visibleOnce}set visibleOnce(e){this._visibleOnce=e}_getMarginAsNum(e,t){const n=this[e];return void 0===n?0:t?n>=0?n:0:n}getMarginTopAsNum(e){return this._getMarginAsNum("marginTop",e)}getMarginRightAsNum(e){return this._getMarginAsNum("marginRight",e)}getMarginBottomAsNum(e){return this._getMarginAsNum("marginBottom",e)}getMarginLeftAsNum(e){return this._getMarginAsNum("marginLeft",e)}toCSS(){return{width:this.width,height:this.height,display:this.display,[this.marginTop<0?"marginTop":"paddingTop"]:this.marginTop,[this.marginRight<0?"marginRight":"paddingRight"]:this.marginRight,[this.marginBottom<0?"marginBottom":"paddingBottom"]:this.marginBottom,[this.marginLeft<0?"marginLeft":"paddingLeft"]:this.marginLeft}}isVisible(){return this.display&&("block"===this.display||"inline-block"===this.display)}isStylePositionOfDefault(){return!this.position}isPositionRelative(){const e=this.position;return!!/relative/gi.test(e)}isPositionAbsoluteOrFixed(){const e=this.position;return!!/absolute|fixed/gi.test(e)}isPositionAbsolute(){const e=this.position;return!!/absolute/gi.test(e)}isPositionFixed(){const e=this.position;return!!/fixed/gi.test(e)}clearSuggest(){this.suggestLeft=void 0,this.suggestMiddleX=void 0,this.suggestRight=void 0,this.suggestTop=void 0,this.suggestMiddleY=void 0,this.suggestBottom=void 0}reset(){this.left=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0}clone(){const e=new i;for(const t in this)e[t]=this[t];const t=(0,o.d9)(this);return Object.assign(e,t),"fit-content"===this.width&&(e.maxWidth=this.width),e}toValues(e){const t={};return e.forEach((e=>{t[e]=this[e]})),t}toJSON(){const e={};for(const t in this)"function"!=typeof this[t]&&"factPosition"!==t&&(e[t]=this[t]);return void 0===e.position&&(e.position=this.factPosition),"fit-content"===this.width&&(e.maxWidth=this.width),e}};s([o.jj,a("design:type",Number)],l.prototype,"suggestLeft",void 0),s([o.jj,a("design:type",Number)],l.prototype,"suggestMiddleX",void 0),s([o.jj,a("design:type",Number)],l.prototype,"suggestRight",void 0),s([o.jj,a("design:type",Number)],l.prototype,"suggestTop",void 0),s([o.jj,a("design:type",Number)],l.prototype,"suggestMiddleY",void 0),s([o.jj,a("design:type",Number)],l.prototype,"suggestBottom",void 0),s([o.jj,a("design:type",Object)],l.prototype,"resizingSnapLeft",void 0),s([o.jj,a("design:type",Object)],l.prototype,"resizingSnapRight",void 0),s([o.jj,a("design:type",Object)],l.prototype,"resizingSnapTop",void 0),s([o.jj,a("design:type",Object)],l.prototype,"resizingSnapBottom",void 0),l=i=s([(0,o.iV)(r.it+"ComStyle")],l);const c=l},88010:(e,t,n)=>{n.d(t,{Z:()=>u});var i,o,r,s=n(42754),a=n(83446),l=n(23037),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class u{constructor(){this.mode="Desn",this.debugEnable=!0,this.showMode="normal",this._pluginOn={},this.focusModelAry=[],this._registedBlur=[],this._designerVersion=0,this.envVars={scripts:{getUserToken:()=>"_envVars_.getUserToken()",getEnvType:()=>"_envVars_.getEnvType()",getEnvParam:e=>`_envVars_.getEnvParam('${e}')`},debug:{userToken:void 0,envType:void 0,envParams:void 0}}}popMenu(e,t,n){this._popup={type:"menu",jsxFn:e,targetElement:t,options:n}}set pageLoader(e){}registerBlur(e,t){"function"==typeof e&&(t?this._registedBlur.push({once:!0,fn:e}):this._registedBlur.push(e))}getPluginAry(){var e;return null===(e=this.configs)||void 0===e?void 0:e.plugins}getPlugin(e){var t;const n=null===(t=this.configs)||void 0===t?void 0:t.plugins;if(n)return n.find((t=>t.namespace===e))}setPluginOn(e,t,n){let i=this._pluginOn[e];i||(this._pluginOn[e]=i={}),i[t]=n}getPluginOn(e,t){if(!t){const t=[];return Object.values(this._pluginOn).forEach((n=>{const i=n[e];"function"==typeof i&&t.push(i)})),t.length>0?t:void 0}{const n=this._pluginOn[t];if(n)return n[e]}}initPluginDataset(e){this._pluginDataset=e}getPluginData(e){let t;if(this._pluginDataset){t=this._pluginDataset[e];const n=this.getPluginAry();if(!t&&Array.isArray(n)){const i=n.find((t=>t.namespace===e));if(i&&i.data){if("function"==typeof i.data)try{t=new(0,i.data)}catch(e){throw new Error(`Invalid data in Plugin(${i.title}) \n ${e.message}`)}else{if("object"!=typeof i.data)throw new Error(`Invalid data type in Plugin(${i.title})`);t=(0,a.d9)(i.data)}this._pluginDataset[e]=t}}}return t}focusOn(e){if("function"==typeof e){if(this.focusModelAry)return this.focusModelAry.find(e)}else if(this.focusModelAry)return this.focusModelAry.find((t=>t===e))}focus(e){-1===this.focusModelAry.indexOf(e)&&(e?this.reFocus(e):this.blur())}reFocus(e){!e&&this.focusModelAry.length>0&&(e=this.focusModelAry[0]),e&&(this.blur(),"object"==typeof e&&e&&("function"==typeof e.focus&&e.focus(),this.focusModel=e,this.focusModelAry.push(e)))}exeBlurFns(){this._registedBlur.forEach(((e,t)=>{try{"function"==typeof e?e():"object"==typeof e&&(e.fn(),e.once&&this._registedBlur.splice(t,1))}catch(e){console.error(e)}}))}blur(){this.focusModelAry.forEach((e=>{"function"==typeof e.blur&&e.blur()})),this.focusModel=void 0,this.focusModelAry=[],this.exeBlurFns()}getMode(){return this.mode}isDebugEnable(){return this.debugEnable}setDebugDisable(){this.debugEnable=!1}setDebugEnable(){this.debugEnable=!0}isDesnMode(){return"Desn"===this.mode}setModeDesn(){this.mode="Desn"}isDesnModeOfNormal(){return this.isDesnMode()&&(!this._configs.desnMode||"normal"===this._configs.desnMode)}setModeDesnOfNormal(){this._configs.desnMode="normal"}isConfigAsBluePrint(){return"blueprint"===this._configs.desnMode}isDesnModeOfBluePrint(){return this.isDesnMode()&&this.isConfigAsBluePrint()}setModeDesnOfBluePrint(){this._configs.desnMode="blueprint"}isDesnModeOfComponent(){return this.isDesnMode()&&"component"===this._configs.desnMode}setModeDesnOfComponent(){this._configs.desnMode="component"}isDebugMode(){return"Debug"===this.mode}setModeDebug(){this.mode="Debug"}isShowModelFullScreen(){return"fullscreen"===this.showMode}setShowModelFullScreen(){this.showMode="fullscreen"}setShowModelNormal(){this.showMode="normal"}get useLatestFeatures(){return!0}get configs(){return this._configs}set configs(e){const t=this;if(!t._configs&&"object"==typeof e&&e){if(!e.comLibLoader||"function"!=typeof e.comLibLoader)throw new Error("Invalid comLibLoader config.");t._configs={};for(let n in e)t._configs[n]=e[n]}}appendConfigs(e,t){this._configs[e]||(this._configs[e]=t)}set comLibAry(e){this._comLibAry=e.filter((e=>e))}get comLibAry(){return this._comLibAry}addComLib(e){this.comLibAry.find((t=>t.id===e.id))||this.comLibAry.push(e)}removeComLib(e){this.comLibAry.find((t=>t.id===e))&&(this.comLibAry=this.comLibAry.filter((t=>t.id!==e)))}getAllComDef(){if(this.comLibAry){const e={},t=n=>{n.forEach((n=>{n.comAray?t(n.comAray):e[`${n.namespace}-${n.version}`]=n}))};return this.comLibAry.forEach((e=>{const n=e.comAray;n&&Array.isArray(n)&&t(n)})),e}}getComDef(e){if(this.comLibAry){const{namespace:t,version:n}=e,i=[];let o;function r(e){return e.find((e=>Array.isArray(e.comAray)?r(e.comAray):e.namespace===t&&(i.push(e),n&&e.version===n)?(o=e,!0):void 0))}return this.comLibAry.forEach((e=>{if(e.comAray)return r(e.comAray)})),!o&&i.length>0?(i.sort(((e,t)=>(0,l.O_)(t.version,e.version))),i[0]):o}}addComDef(e){if(this.comLibAry){let t=this.comLibAry.find((e=>e.defined));t||(t={id:"mylib",defined:!0,title:"我的组件",comAray:[]},this.comLibAry.push(t)),t.comAray.push(e)}}getAllComDefArray(e){const t=[];return function t(n,i){n.forEach((n=>{if(n.comAray)t(n.comAray,i);else{if(void 0!==n.visibility&&!n.visibility||e&&!1===e(n))return;i.push(n)}}))}(this.comLibAry,t),t}}u.DESIGNER_VERSION=.2,c([a.oQ,d("design:type",Object)],u.prototype,"clipboard",void 0),c([a.oQ,d("design:type",Object)],u.prototype,"_pluginOn",void 0),c([a.jj,d("design:type",Object)],u.prototype,"focusModel",void 0),c([a.jj,d("design:type","function"==typeof(i="undefined"!=typeof Array&&Array)?i:Object)],u.prototype,"focusModelAry",void 0),c([a.jj,d("design:type",Object)],u.prototype,"_registedBlur",void 0),c([a.oQ,d("design:type","function"==typeof(o=void 0!==s.t_&&s.t_)?o:Object),d("design:paramtypes",["function"==typeof(r=void 0!==s.t_&&s.t_)?r:Object])],u.prototype,"configs",null)},3134:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n.n(i),r=n(1061);class s extends o().Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.errorInfo?o().createElement("div",{className:r.Z.errorRT},"function"==typeof this.props.render?this.props.render():o().createElement("div",{className:r.Z.tt},this.props.title),o().createElement("div",{className:r.Z.info},this.state.error&&this.state.error.toString()),o().createElement("div",{className:r.Z.stack},this.state.errorInfo.componentStack)):this.props.children}}},72655:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(10637),r=n(37826),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.Z{constructor(e){if(super(),e)for(const t in e)this[t]=e[t]}ifContentValid(e){if(!this.content)return!1;if(this.content)if(e){const t=this.content[e];if(t&&""!==t)return!0}else if(!Object.keys(this.content).find((e=>!this.content[e]||""===this.content[e])))return!0;return!1}ifMatch(e,t){if(this.content){const n=this.content[t];if(n)return n.indexOf(e)>-1}return!1}getContent(e){if(this.content)return this.content[e]}setContent(e,t){this.content||(this.content={}),this.content[t]=e}toHTML(){const e=this.content;if(e){const t=[];return Object.keys(e).forEach((n=>{t.push(`<div>${e[n]}<span>(${n})</span></div>`)})),`<div>${t.join("")}</div>`}}};l=s([(0,i.iV)(o.it+"LocaleItemModel"),a("design:paramtypes",[Object])],l);const c=l},64630:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(92334);class o extends i.Z{constructor(e,t){super(e),this.title=t.title,this.slotId=t.slotId}}},1927:(e,t,n)=>{n.d(t,{Z:()=>i});class i{constructor(e){this.openedPageAry=[],e?(Array.isArray(e.openedPageAry)&&(this.openedPageAry=e.openedPageAry),Array.isArray(e.pageAry)?this.pageAry=e.pageAry:this.pageAry=[]):this.pageAry=[]}hasPage(e){const t=this.pageAry.find((t=>t.id===e));return!(!t||t._deleteTime)}getPageById(e){return this.pageAry.find((t=>t.id===e))}getAllPageLength(){return this.pageAry.length}getPageAry(){return this.pageAry}addPage(e){e._upateTime=(new Date).getTime(),this.pageAry.push(e),this.openedPageAry.push(e)}updatePage(e,t){if(this.pageAry){const n=this.pageAry.find((t=>t.id===e));n&&(n._upateTime=(new Date).getTime(),t.title&&(n.title=t.title),t.slot&&(n.slot=t.slot),t.frame&&(n.frame=t.frame))}}setPageTitle(e,t){if(this.pageAry){const n=this.pageAry.find((t=>t.id===e));n&&(n._upateTime=(new Date).getTime(),n.title=t)}}deletePage(e){if(this.pageAry){const t=this.pageAry.find((t=>t.id===e));t&&(t._deleteTime=(new Date).getTime()),this.closePage(e)}}openPage(e){const t=this.pageAry.find((t=>t.id===e));t&&!this.openedPageAry.find((t=>t.id===e))&&this.openedPageAry.push(t)}closePage(e){if(this.openedPageAry){const t=this.openedPageAry.findIndex((t=>t.id===e));t>=0&&this.openedPageAry.splice(t,1)}}reset(){this.pageAry.forEach((e=>{delete e._upateTime}))}}},76862:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(10637),r=n(37826),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.Z{constructor(e){if(super(),this.type="none",this.register={},e){const{type:t,register:n}=e;t&&(this.type=t),n&&(this.register=n)}}isTypeOfNone(){return"none"===this.type}};l=s([(0,i.iV)(o.it+"PermissionModel"),a("design:paramtypes",[Object])],l);const c=l},39168:(e,t,n)=>{n.d(t,{A:()=>i});var i,o=n(23037);!function(e){class t{constructor(e,t,n,i,o){this.title=e,this.description=t,n&&(this.sameAsShortcut=n),i&&(this.onCatelogChange=i),this.catelog=o}}e.Category=class extends t{constructor(e){"string"==typeof e?super(e):"object"==typeof e&&(super(e.title),this.setTitle=e.setTitle),this.id=(0,o.Vj)()}addGroup(e){(this.groups||(this.groups=[])).push(e)}};class n extends t{constructor(e){if(e)if("object"==typeof arguments[0]){const{id:t,title:n,description:i,sameAsShortcut:o,onCatelogChange:r,ifVisible:s,catelog:a,folded:l}=e;super(n,i,o,r,a),"function"==typeof s&&(this.ifVisible=s),this.id=t,this.folded=l}else super(arguments[0],arguments[1],arguments[2]);else super();this.id||(this.id=(0,o.Vj)())}addSeparator(){(this.items||(this.items=[])).push(new r)}addItem(e){e&&((this.items||(this.items=[])).push(e),(e instanceof n||e instanceof i)&&e.sameAsShortcut&&(this.shortcuts||(this.shortcuts=[])).push(e))}addItems(e){e&&e.forEach((e=>{e&&this.addItem(e)}))}fixedAtBottom(){return"bottom"===this.fixedAt}}e.Group=n;e.ErrorItem=class extends t{constructor(e,t){super(e.title,e.description,t)}};class i extends t{constructor(e,t){super(e.title,e.description,t),this.type=e.type,e.selector&&(this.selector=e.selector),this.binding=e.binding,this.value=e.value,this.options=e.options,"function"==typeof e.ifVisible&&(this.ifVisible=e.ifVisible),"function"==typeof e.ifRefresh&&(this.ifRefresh=e.ifRefresh),this.selected=e.selected,this.selectable=e.selectable,e.ele&&(this.ele=e.ele),e.comModel&&(this.comModel=e.comModel),e.comEle&&(this.comEle=e.comEle),e.canvasEle&&(this.canvasEle=e.canvasEle),this.catelog=e.catelog,e.edtContext&&(this.edtContext=e.edtContext),e.zoom&&(this.zoom=e.zoom)}}e.EditItem=i;class r extends t{}e.SeperatorItem=r;e.FunctionItem=class extends t{constructor(e){super(),this.fn=e}};e.RenderItem=class extends t{constructor(e,t,n){super(e),this.content=t,this.props=n}}}(i||(i={}))},10637:(e,t,n)=>{n.d(t,{$U:()=>l,AX:()=>a,CB:()=>h,Io:()=>d,NE:()=>c,RX:()=>m,Vm:()=>r,Zm:()=>u,dc:()=>p,it:()=>i,s5:()=>f,zV:()=>o});const i="xg.desn.sdk.",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAIxJREFUOE+tkgEKgDAMA7OXqS9Tf6Y/k4AZsVsdiIUxGLu0aVvwMUrCzQB4VgA7gC3+i6CAAwAPg1AjILAHxCQSWCgq0EtpyrKyKXayCgcF+C2fBOiVwbcuqBIpMN2A/MrSK8hPDEHKNsz4K1j9+xxjc2LGh+e4AD4Kb0hsErKVkzpn5ltUlyIDh6t/Ad3mKA/tblYeAAAAAElFTkSuQmCC";var r,s,a,l;!function(e){e.id="mybricks-core-comlib",e.namespacePre="mybricks.core-comlib.",e.coms={var:e.namespacePre+"var",frameIn:e.namespacePre+"frame-input",frameOut:e.namespacePre+"frame-output",fn:e.namespacePre+"fn",scenes:e.namespacePre+"scenes",module:"mybricks.core-comlib.module",selection:e.namespacePre+"selection"}}(r||(r={})),function(e){e.INIT="_init_"}(s||(s={})),function(e){e.PARENT_UPDATED="@parentUpdated",e.CHILD_ADD="@childAdd",e.CHILD_REMOVE="@childRemove",e.DOMAIN_MODEL_UPDATED="@domainModelUpdated",e.DOMAIN_MODEL_REMOVED="@domainModelRemoved",e.CONNECTOR_UPDATED="@connectorUpdated",e.CONNECTOR_REMOVED="@connectorRemoved",e.INPUT_CONNECTED="@inputConnected",e.INPUT_DIS_CONNECTED="@inputDisConnected",e.INPUT_REMOVED="@inputRemoved",e.OUTPUT_REMOVED="@outputRemoved",e.INPUT_UPDATED="@inputUpdated",e.OUTPUT_UPDATED="@outputUpdated",e.OUTPUT_CONNECTED="@outputConnected",e.OUTPUT_DIS_CONNECTED="@outputDisConnected",e.SLOT_OUTPUT_UPDATED="@slotOutputUpdated",e.SLOT_INPUT_UPDATED="@slotInputUpdated",e.SLOT_INPUT_CONNECTED="@slotInputConnected",e.SLOT_OUTPUT_CONNECTED="@slotOutputConnected",e.SLOT_INPUT_DIS_CONNECTED="@slotInputDisConnected",e.SLOT_OUTPUT_DIS_CONNECTED="@slotOutputDisConnected"}(a||(a={})),function(e){e.LABEL="_label",e.AI="_ai",e.SCHEMA="_schema",e.SCHEMA_VALUE="_schemaValue",e.TYPE_CHANGE="_typeChange",e.DATASOURCE="_dataSource",e.THEME_SELECT="_themeSelect",e.DOMAINMODELSELECT="_domainModelSelect",e.PERMISSION="_permission",e.CONNECTORSELECT="_connectorSelect",e.SCENE_SELECT="_sceneSelect",e.PAGE_SELECT="_pageSelect",e.EVENT="_EVENT",e.TEXT="TEXT",e.INPUTNUMBER="INPUTNUMBER",e.BUTTON="BUTTON",e.TEXTAREA="TEXTAREA",e.RADIO="RADIO",e.SLIDER="SLIDER",e.SELECT="SELECT",e.SWITCH="SWITCH",e.COLORPICKER="COLORPICKER",e.SCRATCH="SCRATCH",e._TEXT_="_TEXT_",e.COMSIZE="_COMSIZE",e.RESIZER="_RESIZER_",e.RESIZERH="_RESIZERH_",e.RESIZERV="_RESIZERV_",e.SERVICESELECT="SERVICESELECT",e.TREESELECT="TREESELECT",e.INPUT_GROUP="inputGroup",e.INPUT_TABLE="inputTable",e.STYLE="STYLE",e.COMSELECTOR="COMSELECTOR"}(l||(l={}));const c=[{type:"number",title:"数字",strokeColor:"#4460B8",fillColor:"#8297DA"},{type:"boolean",title:"布尔",strokeColor:"#ff0000",fillColor:"#f8bcbc"},{type:"string",title:"字符",strokeColor:"#88a409",fillColor:"#b4cb9a"},{type:"object",title:"对象",strokeColor:"#9727d0",fillColor:"#e4b1f8"},{type:"indexObject",title:"索引对象",strokeColor:"#c4049d",fillColor:"#eab9fd"},{type:"array",title:"数组",strokeColor:"#ce980f",fillColor:"#ecc86a"},{type:"list",title:"数组",strokeColor:"#ce980f",fillColor:"#ecc86a"},{type:"tuple",title:"元组",strokeColor:"#ce6903",fillColor:"#f1be83"},{type:"enum",title:"枚举",strokeColor:"#02be8d",fillColor:"#aee3de"},{type:"any",title:"任意",strokeColor:"#999",fillColor:"#FFF"},{type:"follow",title:"跟随",strokeColor:"#999",fillColor:"#FFF"},{type:"unknown",title:"未知",strokeColor:"#999",fillColor:"#DDD"}],d=[{id:"click",title:"点击",type:"event",schema:{type:"any"}},{id:"scroll",title:"滚动",schema:{type:"object",properties:{scrollTop:{type:"number"},scrollLeft:{type:"number"}}}},{id:"load",title:"加载完成",schema:{type:"any"}},{id:"unload",title:"卸载",schema:{type:"any"}}],u=414,p={MOBILE:"media-mobile",TABLET:"media-tablet",DESKTOP:"media-desktop"},f=[{id:"_open",hostId:"_open",title:"打开",schema:{type:"follow"}}],m=[{id:"open",hostId:"open",title:"打开",schema:{type:"follow"}}],h=[{id:"commit",title:"确定",schema:{type:"follow"}},{id:"cancel",title:"取消",schema:{type:"any"}},{id:"apply",title:"应用",schema:{type:"follow"}}]},84209:(e,t,n)=>{var i;n.d(t,{c:()=>i}),function(e){e.WindowEvents=class{};e.Command=class{};e.Editor=class{};e.Env=class{};e.Scenes=class{};e.Page=class{};e.DataSource=class{};e.Label=class{};e.Variable=class{};e.DomainModel=class{};e.Locale=class{};e.Permission=class{};e.Connector=class{};e.File=class{};e.Find=class{};e.Snap=class{};e.Message=class{};e.Module=class{};e.Views=class{};e.Diagram=class{};e.FxFrame=class{};e.Frame=class{};e.Component=class{};e.LowCode=class{};e.Debug=class{};e.Logs=class{};e.IOCAbout=class{}}(i||(i={}))},2910:(e,t,n)=>{n.r(t),n.d(t,{pad:()=>r,pc:()=>o,phone:()=>s});var i=n(90359);const o=i.createElement("svg",{t:"1645763830270",className:"icon",viewBox:"0 0 1194 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2360",width:"32",height:"32"},i.createElement("path",{d:"M1110.189521 84.477146v627.87068h-1027.42475v-627.87068zM1118.180602 0H76.486065A76.486065 76.486065 0 0 0 0 76.486065v642.140468a76.486065 76.486065 0 0 0 76.486065 76.486065H553.667781v144.410256H356.744705a42.238573 42.238573 0 0 0 0 84.477146h479.464883a42.238573 42.238573 0 0 0 0-84.477146h-198.06466v-144.410256h480.035674a76.486065 76.486065 0 0 0 76.486065-76.486065V76.486065A76.486065 76.486065 0 0 0 1118.180602 0z",fill:"#5E5C5C","p-id":"2361"})),r=i.createElement("svg",{t:"1646647319338",className:"icon",viewBox:"0 0 1280 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14214",width:"32",height:"32"},i.createElement("path",{d:"M1152 1024H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h1024a128 128 0 0 1 128 128v768a128 128 0 0 1-128 128z m-511.424-155.968a51.2 51.2 0 1 0 51.2 51.2 51.2 51.2 0 0 0-51.2-51.2zM91.392 89.024v743.552h1097.216V89.024z",fill:"#515151","p-id":"14215"})),s=i.createElement("svg",{t:"1645764158783",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12671",width:"32",height:"32"},i.createElement("path",{d:"M785.078857 113.810286H238.921143V819.2H785.078857zM568.868571 56.905143a11.410286 11.410286 0 0 0-11.410285-11.410286H443.648a11.410286 11.410286 0 0 0-11.410286 11.410286v11.410286a11.410286 11.410286 0 0 0 11.410286 11.410285h113.810286a11.410286 11.410286 0 0 0 11.410285-11.410285V56.905143z m-56.905142 898.852571a45.494857 45.494857 0 1 0-45.494858-45.494857 45.641143 45.641143 0 0 0 45.568 45.494857zM785.005714 1024H238.848a68.461714 68.461714 0 0 1-68.242286-68.242286V68.169143a68.461714 68.461714 0 0 1 68.242286-68.242286h546.157714a68.461714 68.461714 0 0 1 68.242286 68.242286v887.442286A68.461714 68.461714 0 0 1 785.078857 1024z","p-id":"12672"}))},26975:(e,t,n)=>{n.r(t),n.d(t,{tip:()=>o});var i=n(90359);const o=i.createElement("svg",{t:"1636448330297",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2098",width:"16",height:"16"},i.createElement("path",{d:"M560 800l-10.464-416h-75.072L464 800h96z m-14.144-493.984c9.44-9.312 14.144-20.672 14.144-34.016 0-13.6-4.704-24.992-14.144-34.208A46.784 46.784 0 0 0 512 224c-13.12 0-24.448 4.608-33.856 13.792A45.856 45.856 0 0 0 464 272c0 13.344 4.704 24.704 14.144 34.016 9.408 9.312 20.704 13.984 33.856 13.984 13.12 0 24.448-4.672 33.856-13.984zM512 32C246.912 32 32 246.912 32 512c0 265.088 214.912 480 480 480 265.088 0 480-214.912 480-480 0-265.088-214.912-480-480-480z m0 64c229.76 0 416 186.24 416 416s-186.24 416-416 416S96 741.76 96 512 282.24 96 512 96z","p-id":"2099"}))},72390:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(17374),o=n(75409),r=n(2910),s=n(26975),a=n(87829),l=n(47198);const c=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),o),r),s),a),l)},17374:(e,t,n)=>{n.r(t),n.d(t,{Coms:()=>T,Folder:()=>F,Module:()=>O,ZIndex:()=>u,alert:()=>d,alignDefault:()=>r,anchor:()=>A,arrowDown:()=>c,arrowLeft:()=>s,arrowRight:()=>a,arrowTop:()=>l,circle:()=>h,command:()=>o,eye:()=>f,eyeClosed:()=>m,fitContentH:()=>w,fitContentW:()=>v,fullHeight:()=>E,fullWidth:()=>x,garbage:()=>C,home:()=>M,layout:()=>_,lock:()=>p,master:()=>g,positionAbsolute:()=>b,positionFixed:()=>y,search:()=>I,setting:()=>P,world:()=>k});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M736 896c-88.224 0-160-71.776-160-160l0-96-128 0 0 96c0 88.224-71.776 160-160 160s-160-71.776-160-160 71.776-160 160-160l96 0 0-128-96 0c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160l0 96 128 0 0-96c0-88.224 71.776-160 160-160s160 71.776 160 160-71.776 160-160 160l-96 0 0 128 96 0c88.224 0 160 71.776 160 160s-71.776 160-160 160zM640 640l0 96c0 52.928 43.072 96 96 96s96-43.072 96-96-43.072-96-96-96l-96 0zM288 640c-52.928 0-96 43.072-96 96s43.072 96 96 96 96-43.072 96-96l0-96-96 0zM448 576l128 0 0-128-128 0 0 128zM640 384l96 0c52.928 0 96-43.072 96-96s-43.072-96-96-96-96 43.072-96 96l0 96zM288 192c-52.928 0-96 43.072-96 96s43.072 96 96 96l96 0 0-96c0-52.928-43.072-96-96-96z"})),r=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22"},i.createElement("path",{d:"M219.272533 218.555733h248.6272v248.6272H219.272533zM556.100267 218.555733h248.6272v248.6272h-248.6272zM219.272533 556.817067h248.6272v248.6272H219.272533zM556.100267 556.817067h248.6272v248.6272h-248.6272z"})),s=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M896 544H250.4l242.4 242.4L448 832 173.6 557.6 128 512l45.6-45.6L448 192l45.6 45.6L250.4 480H896v64z"})),a=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M128 480h645.6L530.4 237.6 576 192l274.4 274.4L896 512l-45.6 45.6L576 832l-45.6-45.6L773.6 544H128v-64z"})),l=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M480 896V250.4L237.6 493.6 192 448l274.4-274.4L512 128l45.6 45.6L832 448l-45.6 45.6L544 250.4V896h-64z"})),c=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},i.createElement("path",{d:"M544 128v645.6l242.4-242.4L832 576l-274.4 274.4L512 896l-45.6-45.6L192 576l45.6-45.6L480 773.6V128h64z"})),d=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},i.createElement("path",{d:"M900.4032 847.4624 123.5968 847.4624c-33.792 0-62.8736-12.1856-87.1424-36.4544C12.1856 786.7392 0 757.76 0 723.8656 0 695.9104 4.4032 677.4784 13.2096 668.672L13.2096 666.5216l397.2096-613.4784L410.4192 50.7904C436.9408 16.896 470.8352 0 512 0s75.0592 16.896 101.4784 50.7904l0 2.2528 397.2096 613.4784L1010.688 668.672C1019.5968 686.3872 1024 704.8192 1024 723.8656 1024 757.76 1011.8144 786.7392 987.5456 811.008 963.2768 835.2768 934.2976 847.4624 900.4032 847.4624zM44.1344 684.1344C38.2976 701.7472 35.328 715.0592 35.328 723.8656c0 23.552 8.8064 44.1344 26.5216 61.7472 17.6128 17.6128 38.2976 26.5216 61.7472 26.5216l776.8064 0c23.552 0 44.1344-8.8064 61.7472-26.5216C979.8656 768 988.672 747.4176 988.672 723.8656c0-8.8064-2.9696-22.1184-8.8064-39.7312L582.656 70.656C566.4768 47.104 542.9248 35.328 512 35.328c-30.9248 0-54.4768 11.776-70.656 35.328L44.1344 684.1344zM553.984 704C542.208 717.2096 528.1792 723.8656 512 723.8656c-16.1792 0-30.5152-6.2464-43.008-18.7392-12.4928-12.4928-18.7392-26.8288-18.7392-43.008 0-16.1792 6.2464-30.1056 18.7392-41.8816C481.4848 608.3584 495.8208 602.5216 512 602.5216c16.1792 0 30.208 5.8368 41.984 17.6128 11.776 11.776 17.6128 25.7024 17.6128 41.8816C571.5968 678.2976 565.76 692.224 553.984 704zM459.0592 512 459.0592 229.4784c0-14.6432 5.12-27.2384 15.4624-37.4784C484.7616 181.76 497.2544 176.5376 512 176.5376c14.7456 0 27.2384 5.2224 37.4784 15.4624 10.3424 10.3424 15.4624 22.8352 15.4624 37.4784L564.9408 512c0 14.7456-5.12 27.2384-15.4624 37.4784C539.2384 559.8208 526.7456 564.9408 512 564.9408c-14.7456 0-27.2384-5.12-37.4784-15.4624C464.1792 539.2384 459.0592 526.7456 459.0592 512z",fill:"#e0620d"})),u={top:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512.401569 140.54902l404.279215 404.198902-73.487059 73.487058-279.230745-279.170509V1024h-103.92596V339.887686L181.649569 618.23498l-73.446902-73.487058L460.03702 192.953725v-0.401568h0.361411L512.361412 140.54902h0.060235zM933.647059 0v100.392157H90.352941V0h843.294118z",fill:"#333333"})),up:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M511.995907 113.852024c-26.862811 0-48.638767 21.775956-48.638767 48.638767L463.35714 912.382876c0 26.862811 21.775956 48.638767 48.638767 48.638767l0 0c26.862811 0 48.638767-21.775956 48.638767-48.638767L560.634674 162.491815C560.634674 135.629004 538.858718 113.852024 511.995907 113.852024L511.995907 113.852024zM546.514071 77.968769c-18.99461-18.99461-48.701189-20.084431-66.352197-2.433422L121.890095 433.807127c-17.649985 17.651009-16.561188 47.357588 2.433422 66.352197l0 0c18.99461 18.99461 48.701189 20.084431 66.352197 2.433422l358.272803-358.272803C566.598502 126.669958 565.508681 96.963379 546.514071 77.968769L546.514071 77.968769zM477.484905 77.968769c-18.99461 18.99461-20.084431 48.701189-2.433422 66.352197l358.272803 358.272803c17.649985 17.649985 47.357588 16.561188 66.352197-2.433422l0 0c18.99461-18.99461 20.084431-48.701189 2.433422-66.352197L543.837102 75.535347C526.187117 57.884338 496.479515 58.97416 477.484905 77.968769L477.484905 77.968769z",fill:"#272636"})),down:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512.213871 908.72251c26.78197 0 48.492434-21.710464 48.492434-48.492434L560.706305 112.595404c0-26.78197-21.710464-48.492434-48.492434-48.492434l0 0c-26.78197 0-48.492434 21.710464-48.492434 48.492434l0 747.634672C463.721437 887.012046 485.431901 908.72251 512.213871 908.72251L512.213871 908.72251zM477.79906 944.498318c18.937305 18.937305 48.554856 20.024056 66.152653 2.426259l357.195262-357.195262c17.597797-17.597797 16.511046-47.214325-2.426259-66.152653l0 0c-18.937305-18.937305-48.554856-20.024056-66.152653-2.426259l-357.194238 357.195262C457.775005 895.943462 458.861756 925.561014 477.79906 944.498318L477.79906 944.498318zM546.620495 944.498318c18.937305-18.937305 20.024056-48.554856 2.426259-66.152653l-357.195262-357.195262c-17.597797-17.597797-47.214325-16.511046-66.152653 2.426259l0 0c-18.937305 18.937305-20.024056 48.554856-2.426259 66.152653l357.195262 357.195262C498.065639 964.522374 527.683191 963.435623 546.620495 944.498318L546.620495 944.498318z",fill:"#272636"})),bottom:i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M518.52549 883.45098L114.246275 479.252078l73.487058-73.487058 279.210667 279.170509V0h103.946039v684.112314l278.387451-278.347294 73.426824 73.487058L570.910118 831.046275v0.401568h-0.361412L518.565647 883.45098h-0.040157zM97.28 1024v-100.392157h843.294118v100.392157h-843.294118z",fill:"#333333"}))},p=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18"},i.createElement("path",{d:"M735.984 428.816h52.016c33.136 0 60 26.608 60 59.424v380.32C848 901.408 821.136 928 788 928h-552C202.864 928 176 901.392 176 868.576v-380.32c0-32.832 26.864-59.44 60-59.44h52.016v-110.944c0-122.544 100.304-221.872 224-221.872 123.728 0 224.032 99.328 224.032 221.872V428.8h-0.064v0.016z m-367.808 0h288V315.2c0-78.768-64.48-142.624-144-142.624s-144 63.84-144 142.624v113.616z",fill:"#333333","p-id":"10265"})),f=i.createElement("svg",{t:"1637656683075",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6929",width:"16",height:"16"},i.createElement("path",{d:"M512 192C298.666667 192 116.48 324.693333 42.666667 512c73.813333 187.306667 256 320 469.333333 320s395.52-132.693333 469.333333-320c-73.813333-187.306667-256-320-469.333333-320zM512 725.333333c-117.76 0-213.333333-95.573333-213.333333-213.333333s95.573333-213.333333 213.333333-213.333333 213.333333 95.573333 213.333333 213.333333-95.573333 213.333333-213.333333 213.333333z m0-341.333333c-70.826667 0-128 57.173333-128 128s57.173333 128 128 128 128-57.173333 128-128-57.173333-128-128-128z","p-id":"6930",fill:"#333333"})),m=i.createElement("svg",{t:"1637660604548",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11275",width:"16",height:"16"},i.createElement("path",{d:"M512 298.666667c117.76 0 213.333333 95.573333 213.333333 213.333333 0 27.733333-5.546667 53.76-15.36 78.08l124.586667 124.586667c64.426667-53.76 115.2-123.306667 146.346667-202.666667-73.813333-187.306667-256-320-469.333334-320-59.733333 0-116.906667 10.666667-169.813333 29.866667l92.16 92.16C458.24 304.213333 484.266667 298.666667 512 298.666667zM85.333333 182.186667l97.28 97.28 19.626667 19.626666A503.637333 503.637333 0 0 0 42.666667 512c73.813333 187.306667 256 320 469.333333 320 66.133333 0 129.28-12.8 186.88-35.84l17.92 17.92L841.813333 938.666667 896 884.48 139.52 128 85.333333 182.186667zM321.28 418.133333l66.133333 66.133334c-2.133333 8.96-3.413333 18.346667-3.413333 27.733333 0 70.826667 57.173333 128 128 128 9.386667 0 18.773333-1.28 27.733333-3.413333l66.133334 66.133333c-28.586667 14.08-60.16 22.613333-93.866667 22.613333-117.76 0-213.333333-95.573333-213.333333-213.333333 0-33.706667 8.533333-65.28 22.613333-93.866667z m183.893333-33.28l134.4 134.4 0.853334-6.826666c0-70.826667-57.173333-128-128-128l-7.253334 0.426666z","p-id":"11276",fill:"#AAA"})),h=i.createElement("svg",{t:"1637675655070",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"62670",width:"16",height:"16"},i.createElement("path",{d:"M514.048 128q79.872 0 149.504 30.208t121.856 82.432 82.432 122.368 30.208 150.016q0 78.848-30.208 148.48t-82.432 121.856-121.856 82.432-149.504 30.208-149.504-30.208-121.856-82.432-82.432-121.856-30.208-148.48q0-79.872 30.208-150.016t82.432-122.368 121.856-82.432 149.504-30.208z","p-id":"62671",fill:"#FF0000"})),g=i.createElement("svg",{t:"1649670526101",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19716",width:"32",height:"32"},i.createElement("path",{d:"M912 64H960v192h-64V128h-160V64h176z m-800 0H64v192h64V128h160V64H112zM896 896h-160v64h224v-256h-64v192zM64 384h64v192H64v-192z m0 320h64v192H64v-192z m0 192h224v64H64v-64z m352 0h192v64h-192v-64z m480-480h64v192h-64v-192zM416 64h192v64h-192V64z",fill:"#000000","p-id":"19717"})),y=i.createElement("svg",{t:"1637743513446",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"65032",width:"16",height:"16"},i.createElement("path",{d:"M951 299.269L724.726 72.995c-12.445-12.445-32.81-12.445-45.255 0s-12.445 32.81 0 45.255l6.844 6.844-399.412 191.022-15.786-15.786c-12.445-12.445-32.81-12.445-45.255 0s-12.445 32.81 0 45.255l196.42 196.42L64 960l417.996-358.282 196.415 196.415c12.445 12.445 32.81 12.445 45.255 0s12.445-32.81 0-45.255l-15.786-15.786L898.902 337.68l6.844 6.843c12.445 12.445 32.81 12.445 45.255 0 12.444-12.444 12.444-32.809-0.001-45.254z","p-id":"65033",fill:"#333333"})),b=i.createElement("svg",{t:"1641885745357",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4787",width:"16",height:"16"},i.createElement("path",{d:"M508.5 61.7c-193.9 0-351 157.2-351 351s269.7 544.1 351 544.1 351-350.2 351-544.1-157.1-351-351-351z m0 527.6c-97.5 0-176.6-79-176.6-176.6s79-176.6 176.6-176.6 176.6 79 176.6 176.6S606 589.3 508.5 589.3z",fill:"#515151","p-id":"4788"})),v=i.createElement("svg",{t:"1637672260825",className:"icon",viewBox:"0 0 1066 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"60975",width:"16",height:"16"},i.createElement("path",{d:"M395.178667 952.277333a24.576 24.576 0 0 1-24.661334-24.405333V96.341333a24.405333 24.405333 0 0 1 24.661334-24.405333h276.437333a24.405333 24.405333 0 0 1 24.405333 24.405333v831.530667a24.576 24.576 0 0 1-24.405333 24.405333z m24.405333-49.066666h227.328V121.045333H419.584z m425.514667-280.021334l-93.866667-93.866666a28.288 28.288 0 0 1-5.248-7.893334 24.448 24.448 0 0 1-1.834667-9.472 23.466667 23.466667 0 0 1 1.834667-9.429333 25.045333 25.045333 0 0 1 5.248-7.893333l93.866667-93.866667a24.277333 24.277333 0 0 1 34.688 0 24.533333 24.533333 0 0 1 0 34.645333l-51.754667 51.712h192.682667a24.533333 24.533333 0 1 1 0 49.066667h-192.682667l51.754667 51.968a24.490667 24.490667 0 0 1-34.645334 34.645333z m-658.005334 0a23.936 23.936 0 0 1 0-34.645333l51.669334-51.968H46.08a24.533333 24.533333 0 1 1 0-49.066667h192.682667l-51.669334-51.712a24.490667 24.490667 0 1 1 34.602667-34.645333l93.482667 93.866667a24.106667 24.106667 0 0 1 0 34.645333l-93.482667 93.866667a25.002667 25.002667 0 0 1-17.408 7.082666 24.106667 24.106667 0 0 1-17.194667-7.466666z",fill:"#333333","p-id":"60976"})),x=i.createElement("svg",{t:"1637671861777",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19007",width:"16",height:"16"},i.createElement("path",{d:"M919.466667 234.666667v268.8l-198.4-128v104.533333h-138.666667v64h138.666667v104.533333l198.4-128V789.333333H981.333333V234.666667zM104.533333 234.666667v268.8l198.4-128v104.533333h138.666667v64h-138.666667v104.533333l-198.4-128V789.333333H42.666667V234.666667z",fill:"#333333","p-id":"19008"})),w=i.createElement("svg",{t:"1637749944078",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"68791",width:"16",height:"16"},i.createElement("path",{d:"M89.545724 379.319946a23.594848 23.594848 0 0 1 23.430994-23.676775h798.333307a23.430994 23.430994 0 0 1 23.430994 23.676775v265.401072a23.430994 23.430994 0 0 1-23.430994 23.430994H112.976718a23.594848 23.594848 0 0 1-23.430994-23.430994z m47.107768 23.430994v218.25234h750.938795V402.75094zM405.49548 811.277702l90.119209-90.119209a27.158653 27.158653 0 0 1 7.578206-5.038483 23.471958 23.471958 0 0 1 9.093848-1.761421 22.529802 22.529802 0 0 1 9.052884 1.761421 24.045444 24.045444 0 0 1 7.578206 5.038483l90.11921 90.119209a23.308105 23.308105 0 0 1 0 33.303144 23.553884 23.553884 0 0 1-33.262181 0l-49.647492-49.688455v184.99016a23.553884 23.553884 0 1 1-47.107768 0v-184.99016l-49.893272 49.688455a23.512921 23.512921 0 0 1-33.262181-33.262181z m0-631.735659a22.980398 22.980398 0 0 1 33.262181 0l49.893271 49.606529V44.158413a23.553884 23.553884 0 1 1 47.107769 0v184.990159l49.647491-49.606529a23.512921 23.512921 0 1 1 33.262181 33.221218l-90.119209 89.75054a23.144252 23.144252 0 0 1-33.262181 0l-90.11921-89.75054a24.00448 24.00448 0 0 1-6.799904-16.713017 23.144252 23.144252 0 0 1 7.168574-16.508201z",fill:"#333333","p-id":"68792"})),E=i.createElement("svg",{t:"1637671841534",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18672",width:"16",height:"16"},i.createElement("path",{d:"M789.333333 919.466667H520.533333l128-198.4h-104.533333v-138.666667h-64v138.666667h-104.533333l128 198.4H234.666667V981.333333h554.666666zM789.333333 104.533333H520.533333l128 198.4h-104.533333v138.666667h-64v-138.666667h-104.533333l128-198.4H234.666667V42.666667h554.666666z",fill:"#333333","p-id":"18673"})),A=i.createElement("svg",{t:"1636626242689",className:"icon",viewBox:"0 0 1027 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3591",width:"16",height:"16"},i.createElement("path",{d:"M482.071 912.12v81.75a30.13 30.13 0 0 0 60.26 0v-81.75c-10.446 0-20.087 1.606-31.335 1.606s-18.48-0.803-28.925-1.607z m60.26-800.44V30.13a30.13 30.13 0 0 0-60.26 0v81.55c10.044 0 20.087-1.406 30.13-1.406s19.684 0.602 30.13 1.406zM111.478 482.07H31.134a30.13 30.13 0 0 0 0 60.26h80.345c0-10.044-1.406-20.087-1.406-30.13s0.803-20.488 1.406-30.13z m885.204 0h-84.765c0 9.843 1.607 20.087 1.607 30.13s0 20.086-1.607 30.13h84.765a30.13 30.13 0 0 0 0-60.26z","p-id":"3592"}),i.createElement("path",{d:"M911.918 482.071A401.726 401.726 0 0 0 542.33 111.68c-10.043 0-20.086-1.406-30.13-1.406s-20.085 0-30.129 1.406A401.726 401.726 0 0 0 111.48 482.07c0 9.843-1.406 20.087-1.406 30.13s0 20.086 1.406 30.13a401.726 401.726 0 0 0 370.592 369.788c9.642 0 19.082 1.607 28.925 1.607s20.086 0 31.334-1.607A401.726 401.726 0 0 0 911.918 542.33c0-10.043 1.607-20.086 1.607-30.13s-0.803-20.487-1.607-30.129zM542.33 851.861c-10.244 0-20.086 1.606-31.334 1.606s-20.087 0-28.925-1.607a341.467 341.467 0 0 1-310.333-309.53c0-10.043-1.406-20.086-1.406-30.13s0-20.085 1.406-30.129A341.467 341.467 0 0 1 482.07 171.94c9.843 0 20.087-1.406 30.13-1.406s20.086 0 30.13 1.406A341.467 341.467 0 0 1 851.658 482.07a296.474 296.474 0 0 1 1.607 30.13c0 10.043 0 20.086-1.607 30.13A341.467 341.467 0 0 1 542.33 851.86z","p-id":"3593"}),i.createElement("path",{d:"M362.759 512a150.647 150.647 0 1 0 301.294 0 150.647 150.647 0 1 0-301.294 0z","p-id":"3594"})),_=i.createElement("svg",{t:"1636366161471",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6668",width:"16",height:"16"},i.createElement("path",{d:"M0 568.888889h455.111111V0H0v568.888889z m0 455.111111h455.111111v-341.333333H0v341.333333z m568.888889 0h455.111111V455.111111h-455.111111v568.888889z m0-1024v341.333333h455.111111V0h-455.111111z","p-id":"6669",fill:"#707070"})),C=i.createElement("svg",{t:"1642076788836",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2146",width:"16",height:"16"},i.createElement("path",{d:"M608 768c-17.696 0-32-14.304-32-32L576 384c0-17.696 14.304-32 32-32s32 14.304 32 32l0 352C640 753.696 625.696 768 608 768z","p-id":"2147"}),i.createElement("path",{d:"M416 768c-17.696 0-32-14.304-32-32L384 384c0-17.696 14.304-32 32-32s32 14.304 32 32l0 352C448 753.696 433.696 768 416 768z","p-id":"2148"}),i.createElement("path",{d:"M928 224l-160 0L768 160c0-52.928-42.72-96-95.264-96L352 64C299.072 64 256 107.072 256 160l0 64L96 224C78.304 224 64 238.304 64 256s14.304 32 32 32l832 0c17.696 0 32-14.304 32-32S945.696 224 928 224zM320 160c0-17.632 14.368-32 32-32l320.736 0C690.272 128 704 142.048 704 160l0 64L320 224 320 160z","p-id":"2149"}),i.createElement("path",{d:"M736.128 960 288.064 960c-52.928 0-96-43.072-96-96L192.064 383.52c0-17.664 14.336-32 32-32s32 14.336 32 32L256.064 864c0 17.664 14.368 32 32 32l448.064 0c17.664 0 32-14.336 32-32L768.128 384.832c0-17.664 14.304-32 32-32s32 14.336 32 32L832.128 864C832.128 916.928 789.056 960 736.128 960z","p-id":"2150"})),I=i.createElement("svg",{t:"1640761177460",className:"icon",viewBox:"0 0 1057 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6542",width:"16",height:"16"},i.createElement("path",{d:"M835.847314 455.613421c0-212.727502-171.486774-385.271307-383.107696-385.271307C241.135212 70.35863 69.648437 242.869403 69.648437 455.613421c0 212.760534 171.486774 385.271307 383.091181 385.271307 109.666973 0 211.769567-46.525883 283.961486-126.645534a384.891436 384.891436 0 0 0 99.14621-258.625773zM1045.634948 962.757107c33.560736 32.421125-14.583725 83.257712-48.144461 50.853103L763.176429 787.28995a449.79975 449.79975 0 0 1-310.436811 123.953408C202.735255 911.243358 0 707.269395 0 455.613421S202.735255 0 452.739618 0C702.760497 0 905.495752 203.957447 905.495752 455.613421a455.662969 455.662969 0 0 1-95.330989 279.716846l235.486702 227.42684z","p-id":"6543"})),M=i.createElement("svg",{t:"1642749391152",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},i.createElement("path",{d:"M512 115.2a51.2 51.2 0 0 1 30.72 10.24l358.4 268.8A51.2 51.2 0 0 1 921.6 435.2v384a102.4 102.4 0 0 1-102.4 102.4H204.8a102.4 102.4 0 0 1-102.4-102.4V435.2a51.2 51.2 0 0 1 20.48-40.96l358.4-268.8a51.2 51.2 0 0 1 30.72-10.24m0-102.4a153.6 153.6 0 0 0-92.16 30.72l-358.4 268.8A153.6 153.6 0 0 0 0 435.2v384a204.8 204.8 0 0 0 204.8 204.8h614.4a204.8 204.8 0 0 0 204.8-204.8V435.2a153.6 153.6 0 0 0-61.44-122.88l-358.4-268.8A153.6 153.6 0 0 0 512 12.8z"}),i.createElement("path",{d:"M640 665.6H384a51.2 51.2 0 0 0 0 102.4h256a51.2 51.2 0 0 0 0-102.4z","p-id":"8469"})),P=i.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"setting",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"})),k=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M854.4 800.9c0.2-0.3 0.5-0.6 0.7-0.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-0.2-0.3-0.5-0.5-0.7-0.8-1.1-1.3-2.1-2.5-3.2-3.7-0.4-0.5-0.8-0.9-1.2-1.4l-4.1-4.7-0.1-0.1c-1.5-1.7-3.1-3.4-4.6-5.1l-0.1-0.1c-3.2-3.4-6.4-6.8-9.7-10.1l-0.1-0.1-4.8-4.8-0.3-0.3c-1.5-1.5-3-2.9-4.5-4.3-0.5-0.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-0.3-0.3-0.7-0.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-0.3 0.3-0.7 0.6-1 1-1 0.9-2 1.9-3 2.9-0.5 0.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-0.3 0.3-4.8 4.8-0.1 0.1c-3.3 3.3-6.5 6.7-9.7 10.1l-0.1 0.1c-1.6 1.7-3.1 3.4-4.6 5.1l-0.1 0.1c-1.4 1.5-2.8 3.1-4.1 4.7-0.4 0.5-0.8 0.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-0.2 0.3-0.5 0.5-0.7 0.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c0.2 0.3 0.5 0.6 0.7 0.9l3.1 3.7c0.4 0.5 0.8 0.9 1.2 1.4l4.1 4.7c0 0.1 0.1 0.1 0.1 0.2 1.5 1.7 3 3.4 4.6 5l0.1 0.1c3.2 3.4 6.4 6.8 9.6 10.1l0.1 0.1c1.6 1.6 3.1 3.2 4.7 4.7l0.3 0.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l0.3-0.3c1.6-1.6 3.2-3.1 4.7-4.7l0.1-0.1c3.3-3.3 6.5-6.7 9.6-10.1l0.1-0.1c1.5-1.7 3.1-3.3 4.6-5 0-0.1 0.1-0.1 0.1-0.2 1.4-1.5 2.8-3.1 4.1-4.7 0.4-0.5 0.8-0.9 1.2-1.4a99 99 0 0 0 3.3-3.7z m4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4z m-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1z m59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-0.3 1.2A445.02 445.02 0 0 0 540 640.9z m0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l0.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540z m-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-0.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484z m-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l0.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1z m0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540z m228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4z m292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z",fill:"#8a8a8a"})),F=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M85.312 153.6v716.8h853.376V288H471.36L364.416 153.6h-279.04zM0 64h404.288L511.36 198.4H1024V960H0V64z",fill:"#262626"})),O=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M850.140277 490.865657l-63.400982 0L786.739295 321.79603c0-46.705742-37.829584-84.535325-84.535325-84.535325L533.13332 237.260705l0-63.400982c0-58.329477-47.339168-105.668645-105.668645-105.668645S321.79603 115.530246 321.79603 173.859723l0 63.400982L152.726403 237.260705c-46.705742 0-84.1127 37.829584-84.1127 84.535325l-0.211824 160.616094 63.190181 0c62.978357 0 114.122177 51.14382 114.122177 114.122177s-51.14382 114.122177-114.122177 114.122177L68.402903 710.656479l-0.211824 160.616094c0 46.705742 37.829584 84.535325 84.535325 84.535325l160.616094 0 0-63.400982c0-62.978357 51.14382-114.122177 114.122177-114.122177s114.122177 51.14382 114.122177 114.122177l0 63.400982 160.616094 0c46.705742 0 84.535325-37.829584 84.535325-84.535325L786.738271 702.20397l63.400982 0c58.329477 0 105.668645-47.339168 105.668645-105.668645S908.46873 490.865657 850.140277 490.865657z",fill:"#707070"})),T=i.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",style:{maxWidth:20}},i.createElement("path",{d:"M99.328 737.4848V259.6864l8.8064-4.3008 404.0704-196.8128 403.0464 196.8128 9.6256 4.7104V737.6896L512 959.488 99.328 737.4848zM476.3648 856.064V475.3408l-303.104-162.4064v380.3136l303.104 162.816z m74.1376-1.6384l300.032-161.3824V313.9584L550.5024 475.136v379.2896z m-37.0688-442.9824L775.9872 270.336 512.6144 140.6976l-265.216 128 266.0352 142.7456z",fill:"#777"}))},47198:(e,t,n)=>{n.r(t),n.d(t,{Return:()=>o});var i=n(90359);const o=i.createElement("svg",{t:"1652428915922",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3301",width:"16",height:"16"},i.createElement("path",{d:"M586.102 353.952l-65.694 65.694-187.584-187.584v499.872c0 76.824 62.578 139.374 139.402 139.374H1024v92.914H472.226c-128.152 0-232.316-104.166-232.316-232.288v-488.74L65.694 417.288 0 351.592l291.932-291.81 294.17 294.17z","p-id":"3302"}))},87829:(e,t,n)=>{n.r(t),n.d(t,{manage:()=>o});var i=n(90359);const o=i.createElement("svg",{t:"1651220252672",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2893",width:"16",height:"16"},i.createElement("path",{d:"M943.698093 792.31222 574.317301 422.932452c36.332487-92.849688 16.147772-203.865107-58.535161-278.549064-80.738859-80.738859-201.847148-96.886631-298.733778-50.461275l175.606507 175.606507L269.52862 392.655891 93.922113 217.048361c-46.424332 96.886631-30.27656 217.994919 50.461275 298.733778 74.682933 74.682933 185.699376 94.867648 278.549064 58.535161l369.379769 369.379769c16.147772 16.147772 42.387389 16.147772 56.517201 0l94.867648-94.867648C959.845865 834.700633 959.845865 808.459992 943.698093 792.31222z","p-id":"2894"}))},75409:(e,t,n)=>{n.r(t),n.d(t,{triangle_down:()=>o,triangle_right:()=>r});var i=n(90359);const o=i.createElement("svg",{t:"1643364461030",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5296",width:"16",height:"16"},i.createElement("path",{d:"M514.525867 956.474027L3.413333 70.46144l1017.173334-2.932053-506.0608 888.94464z","p-id":"5297"})),r=i.createElement("svg",{t:"1643364315149",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3732",width:"16",height:"16"},i.createElement("path",{d:"M836.512 512l-648.992-512 0 1024 648.992-512z","p-id":"3733"}))},79127:(e,t,n)=>{n.d(t,{$U:()=>p.$U,AX:()=>p.AX,Af:()=>i.A,Bn:()=>c.Z,CB:()=>p.CB,Du:()=>h.Z,Fz:()=>y.Z,Io:()=>p.Io,M_:()=>r.ZP,NE:()=>p.NE,PJ:()=>m.Z,RX:()=>p.RX,Vm:()=>p.Vm,Vx:()=>d.Z,Zm:()=>p.Zm,_v:()=>f.Q,aS:()=>r.aS,cA:()=>u.c,cR:()=>a.Z,dc:()=>p.dc,eZ:()=>g.Z,gq:()=>o.Z,pD:()=>b.pD,s5:()=>p.s5,u5:()=>l.Z,zV:()=>p.zV,zz:()=>s.Z});var i=n(39168),o=n(37826),r=n(99319),s=n(88010),a=n(88970),l=n(92334),c=n(64630),d=(n(66643),n(3134)),u=n(84209),p=n(10637),f=n(37696),m=(n(4544),n(72390)),h=(n(5198),n(1927)),g=n(76862),y=n(72655),b=n(42754)},4544:(e,t,n)=>{n(37207)},37207:()=>{},37696:(e,t,n)=>{n.d(t,{Q:()=>s});const i=document.head.appendChild;let o=[],r=[];function s(e){return new Promise(((t,n)=>{const s=function(e,t){var n=document.createElement("script");return n.setAttribute("src",e),n.setAttribute("defer","true"),n.setAttribute("index",t),n}(e,0);s.onerror=e=>{n(e)},s.onload=function(){o.shift(),0===o.length&&(document.head.appendChild=i);const e=window.__comlibs_edit_,n=e[e.length-1];r.forEach((e=>{n&&(n._styleAry||(n._styleAry=[]),e.setAttribute("data-libid",n.id),n._styleAry.push(e))})),r=[];const s=window.__comlibs_edit_,a=s[s.length-1];t(a)},0==o.length&&(document.head.appendChild=e=>{var t;return e&&"style"===(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())&&(r.push(e),i.call(document.head,e)),e}),o.push({url:e}),document.body.appendChild(s)}))}},5198:()=>{},42754:()=>{},13006:(e,t,n)=>{function i(e){let t,n;return{push(i){t=i,n||(n=1,setTimeout((()=>{n=void 0,t()}),e||0))}}}n.d(t,{p:()=>i})},44511:(e,t,n)=>{function i(e,...t){t.forEach(((t,n)=>{t&&(Array.isArray(t)?t.forEach(((n,i)=>{e(n,i,t)})):e(t,n,t))}))}function o(e,...t){let n;return t.find((t=>{if(t){if(Array.isArray(t))return n=t.find((t=>e(t)));if(e(t))return n=t}})),n}function r(...e){let t=[];return e.forEach((e=>{t=t.concat(e)})),t}function s(...e){let t=0;return e.forEach((e=>{Array.isArray(e)&&(t+=e.length)})),t}n.r(t),n.d(t,{each:()=>i,find:()=>o,length:()=>s,merge:()=>r})},25425:(e,t,n)=>{function i(e){const t=document.createElement("input");return document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(t),!0}n.d(t,{J:()=>i})},20576:(e,t,n)=>{function i(e){return null!=e?JSON.parse(JSON.stringify(e)):e}n.d(t,{I:()=>i})},77671:(e,t,n)=>{function i(e,t="YY-mm-dd HH:MM:SS"){if("number"==typeof e&&(e=new Date(e)),"object"==typeof e&&e instanceof Date){const n={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};let i;for(let e in n)i=new RegExp("("+e+")").exec(t),i&&(t=t.replace(i[1],1==i[1].length?n[e]:n[e].padStart(i[1].length,"0")));return t}return e}n.d(t,{p:()=>i})},85782:(e,t,n)=>{function i(e){if("function"==typeof HTMLElement)return e instanceof HTMLElement;e&&"object"==typeof e&&(1===e.nodeType||9===e.nodeType)&&e.nodeName}function o(e,t){if(t){let n,i={width:0,height:0};if("#text"===e.nodeName){const t=document.createRange();t.selectNodeContents(e);const o=t.getClientRects();if(!(o&&o.length>0))return;{const e=o[0];let t=e.left,r=e.top,s=0,a=0;1===o.length?(s=e.width,a=e.height):(Array.prototype.forEach.call(o,(e=>{s=Math.max(s,e.width)})),a=o[o.length-1].y-e.y+o[o.length-1].height),n={left:t,top:r},i.width=s,i.height=a}}else n=e.getBoundingClientRect(),i.width=e.offsetWidth,i.height=e.offsetHeight;const o=t.getBoundingClientRect();return{x:n.left-o.left,y:n.top-o.top,w:i.width,h:i.height}}{e.getBoundingClientRect;let t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:e.offsetWidth,h:e.offsetHeight}}}n.d(t,{K6:()=>i,bt:()=>o})},23037:(e,t,n)=>{n.d(t,{B5:()=>c.B,Dq:()=>m.D,I8:()=>a.I,JG:()=>r.J,K6:()=>l.K6,N9:()=>h.N,Ne:()=>u.Ne,O_:()=>p.O,Ts:()=>u.Ts,Vj:()=>d.Vj,Wu:()=>u.Wu,XQ:()=>u.XQ,_O:()=>s._,bt:()=>l.bt,p6:()=>f.p,pC:()=>o.p,tk:()=>i,xn:()=>u.xn});var i=n(44511),o=n(13006),r=n(25425),s=n(34094),a=n(20576),l=n(85782),c=n(27199),d=n(83446),u=n(41487),p=n(3425),f=n(77671),m=n(591),h=n(32918)},51005:(e,t,n)=>{n.r(t),n.d(t,{convertToPinyin:()=>h,genToken:()=>f,isSupported:()=>p,parse:()=>m,patchDict:()=>u});var i=n(74976);const o="阿",r="鿿",s=1,a=2,l=3;let c,d=null;function u(e){e&&("function"==typeof e&&(e=[e]),e.forEach&&e.forEach((e=>{"function"==typeof e&&e(i)})))}function p(e){return e||null===d?("object"==typeof Intl&&Intl.Collator?(c=new Intl.Collator(["zh-Hans-CN","zh-CN"]),d=1===Intl.Collator.supportedLocalesOf(["zh-CN"]).length):d=!1,d):d}function f(e){const t=i.UNIHANS,n=i.PINYINS,d=i.EXCEPTIONS,u={source:e};if(e in d)return u.type=a,u.target=d[e],u;let p,f=-1;if(e.charCodeAt(0)<256)return u.type=s,u.target=e,u;if(p=c.compare(e,o),p<0)return u.type=l,u.target=e,u;if(0===p)u.type=a,f=0;else{if(p=c.compare(e,r),p>0)return u.type=l,u.target=e,u;0===p&&(u.type=a,f=t.length-1)}if(u.type=a,f<0){let n=0,i=t.length-1;for(;n<=i;){f=~~((n+i)/2);let o=t[f];if(p=c.compare(e,o),0===p)break;p>0?n=f+1:i=f-1}}return p<0&&f--,u.target=n[f],u.target||(u.type=l,u.target=u.source),u}function m(e){if("string"!=typeof e)throw new Error("argument should be string.");if(!p())throw new Error("not support Intl or zh-CN language.");return e.split("").map((e=>f(e)))}function h(e,t,n){return m(e).map((e=>n&&e.type===a?e.target.toLowerCase():e.target)).join(t||"")}},74976:(e,t,n)=>{n.r(t),n.d(t,{EXCEPTIONS:()=>r,PINYINS:()=>o,UNIHANS:()=>i});const i=["阿","哎","安","肮","凹","八","挀","扳","邦","勹","陂","奔","伻","屄","边","灬","憋","汃","冫","癶","峬","嚓","偲","参","仓","撡","冊","嵾","曽","叉","芆","辿","伥","抄","车","抻","阷","吃","充","抽","出","欻","揣","巛","刅","吹","旾","逴","呲","匆","凑","粗","汆","崔","邨","搓","咑","呆","丹","当","刀","嘚","扥","灯","氐","甸","刁","爹","丁","丟","东","吺","厾","耑","垖","吨","多","妸","诶","奀","鞥","儿","发","帆","匚","飞","分","丰","覅","仏","紑","夫","旮","侅","甘","冈","皋","戈","给","根","刯","工","勾","估","瓜","乖","关","光","归","丨","呙","哈","咍","佄","夯","茠","诃","黒","拫","亨","噷","叿","齁","乎","花","怀","欢","巟","灰","昏","吙","丌","加","戋","江","艽","阶","巾","坕","冂","丩","凥","姢","噘","军","咔","开","刊","忼","尻","匼","肎","劥","空","抠","扝","夸","蒯","宽","匡","亏","坤","扩","垃","来","兰","啷","捞","肋","勒","崚","哩","俩","奁","良","撩","毟","拎","伶","溜","囖","龙","瞜","噜","驴","娈","掠","抡","罗","呣","妈","埋","嫚","牤","猫","么","呅","门","甿","咪","宀","喵","乜","民","名","谬","摸","哞","毪","嗯","拏","腉","囡","囔","孬","疒","娞","恁","能","妮","拈","娘","鸟","捏","囜","宁","妞","农","羺","奴","女","奻","疟","黁","挪","喔","讴","妑","拍","眅","乓","抛","呸","喷","匉","丕","囨","剽","氕","姘","乒","钋","剖","仆","七","掐","千","呛","悄","癿","亲","靑","卭","丘","区","峑","缺","夋","呥","穣","娆","惹","人","扔","日","茸","厹","邚","挼","堧","婑","瞤","捼","仨","毢","三","桒","掻","閪","森","僧","杀","筛","山","伤","弰","奢","申","升","尸","収","书","刷","衰","闩","双","脽","吮","说","厶","忪","捜","苏","狻","夊","孙","唆","他","囼","坍","汤","夲","忑","熥","剔","天","旫","帖","厅","囲","偷","凸","湍","推","吞","乇","穵","歪","弯","尣","危","昷","翁","挝","乌","夕","虲","仙","乡","灱","些","心","星","凶","休","吁","吅","削","坃","丫","恹","央","幺","倻","一","囙","应","哟","佣","优","扜","囦","曰","晕","帀","災","兂","匨","傮","则","贼","怎","増","扎","捚","沾","张","佋","蜇","贞","争","之","中","州","朱","抓","拽","专","妆","隹","宒","卓","乲","宗","邹","租","钻","厜","尊","昨","兙"],o=["A","AI","AN","ANG","AO","BA","BAI","BAN","BANG","BAO","BEI","BEN","BENG","BI","BIAN","BIAO","BIE","BIN","BING","BO","BU","CA","CAI","CAN","CANG","CAO","CE","CEN","CENG","CHA","CHAI","CHAN","CHANG","CHAO","CHE","CHEN","CHENG","CHI","CHONG","CHOU","CHU","CHUA","CHUAI","CHUAN","CHUANG","CHUI","CHUN","CHUO","CI","CONG","COU","CU","CUAN","CUI","CUN","CUO","DA","DAI","DAN","DANG","DAO","DE","DEN","DENG","DI","DIAN","DIAO","DIE","DING","DIU","DONG","DOU","DU","DUAN","DUI","DUN","DUO","E","EI","EN","ENG","ER","FA","FAN","FANG","FEI","FEN","FENG","FIAO","FO","FOU","FU","GA","GAI","GAN","GANG","GAO","GE","GEI","GEN","GENG","GONG","GOU","GU","GUA","GUAI","GUAN","GUANG","GUI","GUN","GUO","HA","HAI","HAN","HANG","HAO","HE","HEI","HEN","HENG","HM","HONG","HOU","HU","HUA","HUAI","HUAN","HUANG","HUI","HUN","HUO","JI","JIA","JIAN","JIANG","JIAO","JIE","JIN","JING","JIONG","JIU","JU","JUAN","JUE","JUN","KA","KAI","KAN","KANG","KAO","KE","KEN","KENG","KONG","KOU","KU","KUA","KUAI","KUAN","KUANG","KUI","KUN","KUO","LA","LAI","LAN","LANG","LAO","LE","LEI","LENG","LI","LIA","LIAN","LIANG","LIAO","LIE","LIN","LING","LIU","LO","LONG","LOU","LU","LV","LUAN","LVE","LUN","LUO","M","MA","MAI","MAN","MANG","MAO","ME","MEI","MEN","MENG","MI","MIAN","MIAO","MIE","MIN","MING","MIU","MO","MOU","MU","N","NA","NAI","NAN","NANG","NAO","NE","NEI","NEN","NENG","NI","NIAN","NIANG","NIAO","NIE","NIN","NING","NIU","NONG","NOU","NU","NV","NUAN","NVE","NUN","NUO","O","OU","PA","PAI","PAN","PANG","PAO","PEI","PEN","PENG","PI","PIAN","PIAO","PIE","PIN","PING","PO","POU","PU","QI","QIA","QIAN","QIANG","QIAO","QIE","QIN","QING","QIONG","QIU","QU","QUAN","QUE","QUN","RAN","RANG","RAO","RE","REN","RENG","RI","RONG","ROU","RU","RUA","RUAN","RUI","RUN","RUO","SA","SAI","SAN","SANG","SAO","SE","SEN","SENG","SHA","SHAI","SHAN","SHANG","SHAO","SHE","SHEN","SHENG","SHI","SHOU","SHU","SHUA","SHUAI","SHUAN","SHUANG","SHUI","SHUN","SHUO","SI","SONG","SOU","SU","SUAN","SUI","SUN","SUO","TA","TAI","TAN","TANG","TAO","TE","TENG","TI","TIAN","TIAO","TIE","TING","TONG","TOU","TU","TUAN","TUI","TUN","TUO","WA","WAI","WAN","WANG","WEI","WEN","WENG","WO","WU","XI","XIA","XIAN","XIANG","XIAO","XIE","XIN","XING","XIONG","XIU","XU","XUAN","XUE","XUN","YA","YAN","YANG","YAO","YE","YI","YIN","YING","YO","YONG","YOU","YU","YUAN","YUE","YUN","ZA","ZAI","ZAN","ZANG","ZAO","ZE","ZEI","ZEN","ZENG","ZHA","ZHAI","ZHAN","ZHANG","ZHAO","ZHE","ZHEN","ZHENG","ZHI","ZHONG","ZHOU","ZHU","ZHUA","ZHUAI","ZHUAN","ZHUANG","ZHUI","ZHUN","ZHUO","ZI","ZONG","ZOU","ZU","ZUAN","ZUI","ZUN","ZUO",""],r={曾:"ZENG",沈:"SHEN",嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬤:"MO",嬷:"MO",蹒:"PAN",蹊:"XI",丬:"PAN",霰:"XIAN",莘:"XIN",豉:"CHI",饧:"XING",筠:"JUN",长:"CHANG",帧:"ZHEN",峙:"SHI",郍:"NA",芎:"XIONG",谁:"SHUI"}},32918:(e,t,n)=>{n.d(t,{N:()=>i});var i=n(51005),o=n(70343);i.isSupported()&&o.shouldPatch(i.genToken)&&i.patchDict(o)},70343:(e,t,n)=>{function i(e){e.EXCEPTIONS={嗲:"DIA",碡:"ZHOU",聒:"GUO",炔:"QUE",蚵:"KE",砉:"HUA",嬷:"MO",蹊:"XI",丬:"PAN",霰:"XIAN",豉:"CHI",饧:"XING",帧:"ZHEN",芎:"XIONG",谁:"SHUI",钶:"KE"},e.UNIHANS[91]="伕",e.UNIHANS[347]="仚",e.UNIHANS[393]="诌",e.UNIHANS[39]="婤",e.UNIHANS[50]="腠",e.UNIHANS[369]="攸",e.UNIHANS[123]="乯",e.UNIHANS[171]="刕",e.UNIHANS[102]="佝",e.UNIHANS[126]="犿",e.UNIHANS[176]="列",e.UNIHANS[178]="刢",e.UNIHANS[252]="娝",e.UNIHANS[330]="偸"}function o(e){return"function"==typeof e&&("FOU"===e("伕").target&&"XIA"===e("仚").target&&"ZHONG"===e("诌").target&&"CHONG"===e("婤").target&&"CONG"===e("腠").target&&"YONG"===e("攸").target&&"HOU"===e("乯").target&&"LENG"===e("刕").target&&"GONG"===e("佝").target&&"HUAI"===e("犿").target&&"LIAO"===e("列").target&&"LIN"===e("刢").target&&"E"===e("钶").target)}n.r(t),n.d(t,{default:()=>i,shouldPatch:()=>o})},27199:(e,t,n)=>{function i(e,t){let n=(e,t)=>parseInt(String(Math.random()*((void 0!==t?t:2*e)-e+1)),10);return[n(e,t),n(e,t)]}n.d(t,{B:()=>i})},41487:(e,t,n)=>{function i(e){if(!e||"object"!=typeof e||"string"!=typeof e.type)return"错误类型";switch(e.type){case"number":return"数字";case"string":return"字符";case"boolean":return"布尔";case"object":return e.properties?"对象":"任意对象";case"indexObject":return"索引对象";case"enum":return"枚举";case"array":return""+(e.items?"列表":"任意列表");case"tuple":return"元组";case"any":return"任意";case"follow":return"跟随";case"unknown":return"未知";default:return"未定义"}}function o(e){return!e||"unknown"===e.type}function r(e,t){const n=null==e?void 0:e.type;if(n&&"string"==typeof n){if(n.match(/number|string|boolean|enum|tuple/g))return!0;if("unknown"===n&&t)return!0;if("object"===n){if(!e.properties)return!0;const n=e.properties,i=Object.keys(n);if(i.length<=0)return!0;if(!i.find((e=>{if(!r(n[e],t))return!0})))return!0}if("indexObject"===n)return!0;if("array"===n&&(!e.items||"object"==typeof e.items&&"any"===e.items.type||r(e.items,!0)))return!0}return!1}function s(e){var t;return null===(t=e.type)||void 0===t?void 0:t.match(/number|string|boolean/g)}function a(e){if(!e||"object"!=typeof e||!e.type)return"Invalid schema, {type:'number'|'boolean'|'string'|'any'|'follow'} or {type:'object',properties:{}} or {type:'array',items:{}} expect.";const t=e.type.toLowerCase();if(!/number|boolean|string|object|indexObject|enum|tuple|array|list|any|follow|unknown/gi.test(t))return`Invalid type(${t})`;if("object"===t){if(!e.properties)return;if("object"!=typeof e.properties)return"Invalid type object";for(let t in e.properties){const n=a(e.properties[t]);if(n)return n}}else if("array"===t){if(!e.items||!e.items.type)return;if("object"!=typeof e.items)return"Invalid type array";{const t=a(e.items);if(t)return t}}}n.d(t,{Ne:()=>a,Ts:()=>o,Wu:()=>s,XQ:()=>i,xn:()=>r})},591:(e,t,n)=>{function i(e){if(void 0!==e){if("function"==typeof e)return e.toString();if(e instanceof Map)return function(e){const t={};return e.forEach(((e,n)=>{t[n]=i(e)})),t}(e);if(e instanceof Set)return function(e){const t=[];return e.forEach((e=>{t.push(i(e))})),t}(e);if(Array.isArray(e))return e.map((e=>i(e)));if(e instanceof Date||e instanceof RegExp||e instanceof Error||e instanceof Promise||e instanceof ArrayBuffer||e instanceof Int8Array||e instanceof Uint8Array||e instanceof FormData)return e.toString();if("object"==typeof e&&e){const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}}return e}function o(e){if(void 0!==e){const t=i(e);return JSON.stringify(t,((e,t)=>{if(void 0!==t)return t}),4)}return"[空]"}n.d(t,{D:()=>o})},34094:(e,t,n)=>{n.d(t,{_:()=>o});const i={NULL:"[object Null]",ARRAY:"[object Array]",OBJECT:"[object Object]",STRING:"[object String]",NUMBER:"[object Number]",BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]",FORMDATA:"[object FormData]",UNDEFINED:"[object Undefined]"};function o(e,t){const n=/^\[.*\]$/.test(t)?t:i[t.toUpperCase()];return Object.prototype.toString.call(e)===n}},3425:(e,t,n)=>{function i(e,t){function n(e){const t=e.toString().split("."),n=["","0","00","000","0000"].reverse();for(let e=0;e<t.length;e++){const i=t[e].length;t[e]=n[i]+t[e]}return t.join("")}return function(e,t){const i=n(e),o=n(t);return i>o?1:i<o?-1:0}(`${e}`.split(".").length<3?`${e}`.concat(".0"):`${e}`,`${t}`.split(".").length<3?`${t}`.concat(".0"):`${t}`)}n.d(t,{O:()=>i})},91275:(e,t,n)=>{n.d(t,{KH:()=>d});var i=n(14509),o=n(35401),r=n(22270),s=n(44780);const a={};let l,c={};function d(e,t,n,r){const{context:s,viewModel:d,emitDiagram:g,emitLogs:y,emitModule:b,configs:v}=t;function x(n){var i,r;try{const s=n.run(e,{rootScope:l,debug:{stepTime:o.Dk}}),a={},c={},d={};function u(){l=s({inputParams:d,inputs:a,outputs:c}).parent}e.inputPins.length>0&&e.inputPins.forEach((e=>{let n;if(void 0!==e.mockData)if("json"===e.mockDataType)try{const t=decodeURIComponent(e.mockData);n=JSON.parse(t)}catch(t){return void y.error(`Mock数据错误:${e.mockData}`)}else n=e.mockData;else n=t.curDebugParams;e.wrap?d[e.hostId]=[n,e.mockWrapData]:d[e.hostId]=n}));const p=null===(r=null===(i=v.cards)||void 0===i?void 0:i.frame)||void 0===r?void 0:r.debug;p&&"function"==typeof p.start?p.start().then((()=>{u()})):u()}catch(f){w(),y.error(`运行失败:${f.message}<br/>${f.stack.replace(/\n/gi,"<br/>").replace(/\<anonymous\>/gi,"")}`),console.error(f),y.warn("调试停止.")}}function w(){d.blur();const t=a[e.id];t&&(t.stop(),a[e.id]=void 0,delete a[e.id])}switch(n){case"start":{y.warn("开始调试...");const n=a[e.id];if(n)x(n);else{let n;d.blur(),c={},u.init(t),h.init(t),m.init(t),p.init(d,y);try{n=(0,i.MY)(e,{global:{varComAry:d.varComAry,fxFrameAry:d.getFxFrameAry()},frame:u.fn,node:h.fn,con:f.fn,pin:m.fn,joint:p.fn,onError(e,t){if(t){let n="未知错误";if(t&&(t instanceof Error?(console.error(t),n=t.message):"string"==typeof t&&(n=t)),y.error("程序运行",n),"node"===(null==e?void 0:e.type)){const n=d.searchCom(e.id);n&&n.setExe({errorMsg:t.message})}}}},r?"mock":void 0),a[e.id]=n,y.info("编译完成.")}catch(e){console.error(e),y.error(`编译失败:${e.message}`)}x(n)}break}case"update":{const t=a[e.id];t&&(t.update(l,d),y.warn("内容发生变化,运行更新."));break}case"pause":{const t=a[e.id];t&&(t.pause(),y.warn("调试暂停."));break}case"stop":w()}}const u=function(){let e;return{init(t){e=t},fn:e=>({exe(t){e.parent}})}}(),p=function(){let e,t;return{init(n,i){e=n,t=i},fn(e){let n=e;const i=`${n.parent.parent.runtime.title}`;return{exe(e){n.exeValue=e,n.state.running(),n.from&&n.from.state.enable(),n.to&&n.to.state.running(),t.info(`${i} | 经过点 ${"input"===n.type?"传入":"传出"}`,e,(()=>{n.hoverExeval(e)}),(()=>{n.clearDebugHints()}))}}}}}(),f=function(){let e,t,n,i;return{init(o,r,s,a){e=r,i=o,t=s,n=a},fn:e=>({exe(t){e.exe={val:t}}})}}(),m=function(){let e;return{init(t){e=t},fn(t){const n=t,i=n.parent;let o;return i instanceof r.n?o=i:i.parent instanceof r.n&&(o=i.parent),{exe(t,r,a){var l,c,d;const{context:u,emitLogs:p,emitScenes:f}=e;n.isParentAFrame()&&(n.exe={val:t,from:r},n.state.running()),i instanceof s.g&&i.isTypeOfPopup()&&n.isDirectionOfOutput()&&f.close(i.id);const m="input"==n.direction||"inner-input"==n.direction;m&&o&&o.clearExe();const h=n.getRoot((e=>e instanceof s.g));if(h instanceof s.g){const e=h.searchDiagramByPin(n);e&&e.forEach((e=>{e.state.running()}))}let g,y,b;if(g=o&&o.runtime?`${o.runtime.title} | `:`${h.title} | `,m?(y=`%c 输入 %c ${g}${n.title}  `,b=["color:#FFF;background:#000","",t]):(y=`%c 输出 %c ${g}${n.title}  `,b=["color:#FFF;background:#fa6400","",t]),n.isPrivate||m&&!(n.conAry.length>0)||p.info(y,...b),o)if(m);else{const e=null==o?void 0:o.runtime.model.outputEvents;if(e){const i=e[n.hostId];if(i&&Array.isArray(i)){const e=i.find((e=>e.active));if(e){if("none"===e.type)return!1;if("fx"===e.type)return;if("defined"===e.type)return;const n=null===(d=null===(c=null===(l=u.configs)||void 0===l?void 0:l.com)||void 0===c?void 0:c.env)||void 0===d?void 0:d.events;if(Array.isArray(n)){const i=n.find((t=>{if(t.type===e.type)return t}));i&&"function"==typeof i.exe&&i.exe({options:e.options},t)}return!1}}}}}}}}}(),h=function(){let e,t;function n(n,i){var o;const{viewModel:r,context:s,emitComponent:a,emitScenes:l}=e,c=null===(o=s.configs.com)||void 0===o?void 0:o.env;return t||(t=Object.assign({debug:{},getUserToken:()=>s.envVars.debug.userToken,getEnvType:()=>s.envVars.debug.envType,getEnvParam(e){const t=s.envVars.debug.envParams;if("string"==typeof t)return JSON.parse(t)[e]}})),Object.assign({canvas:{open(e,t,n){l.debug(e,t,n,"toplView")}},get canvasElement(){return e.emitComponent.getCanvasElement()},runtime:Object.assign({},t)},c||{})}return{init(t){e=t},fn:t=>({render(o,r){const{emitLogs:s,context:a,viewModel:l}=e;let d,u,p,f,m,h,g,y,b;if(t.debugProxy)p=t.debugProxy.inputs,g=t.debugProxy.outputs,b=t.debugProxy.inputParams;else{const v=(0,i.TB)(t,{output(){}},r);d=v.configs,u=v._inputs,p=v.inputs,m=v.inputsCallable,f=v._inputsCallable,h=v._outputs,g=v.outputs,y=v.fork}if(t.runtime.hasUI())try{c[r.path+r.label+t.id]=t.runtime.setDebugContext({getBindingValue(e,t){const n=l.searchCom(e);if(n&&n.isVar()){const e=n.runtime.cloned;if(e){let t=e.model.data.val;return void 0!==t?t:e.model.data.initValue}}}},{_inputs:(e,t)=>e||t?y("_inputs",e,t):u,inputs:(e,t)=>e||t?y("inputs",e,t):p,inputsCallable:m,_outputs:e=>e?y("_outputs",e):h,outputs:e=>e?y("outputs",e):g,frames:o,inputParams:b},r.label,r.path)}catch(x){console.error(x),s.error("运行错误",x.message)}else{const w=a.getComDef(t.runtime.def);if(!w)return void s.error("运行错误",`组件 ${t.runtime.def.namespace}@${t.runtime.def.version} 未找到`);let E=w.runtime;if(E){"string"==typeof w.style&&(E=E());try{t.runtime.clone({searchCom:l.searchCom});const A=t.runtime.cloned;function _(){let e,n;for(let t=0;t<arguments.length;t++){const i=arguments[t];"string"==typeof i?e=i:"object"==typeof i&&i instanceof Error&&(n=i)}(e||n)&&(requestAnimationFrame((i=>{t._exeInfo={errorMsg:e||n.message}})),s.error(w.title,e),n&&console.error(n))}const C=E({id:t.id,name:t.name,data:A.model.data,configs:d,_inputsCallable:f,_inputs:u,inputs:p,outputs:g,_notifyBindings(e){t.notifyBindings(e)},env:n(),isAutoRun:()=>t.isAutoRun(),logger:{trace(e,t){s.info(w.title+(t?`-${t}`:""),e)},info(e,t){s.info(w.title+(t?`-${t}`:""),e)},warn(e,t){s.warn(w.title+(t?`-${t}`:""),e)},error(e,n){requestAnimationFrame((n=>{t._exeInfo={errorMsg:e}})),s.error(w.title+(n?`-${n}`:""),e)}},cancelError(){t._exeInfo=void 0},throwError:_,onError(){return _(...arguments)}});if(C&&"object"==typeof C&&C.$$typeof)throw new Error("Do not use react when rtType='js'")}catch(I){throw I&&I.message.toUpperCase().indexOf("REACT")>=0?new Error("Do not use react when rtType='js'"):I}}}return{configs:d,inputs:p,outputs:g}},fork(n,o,r){const{emitLogs:s,context:a}=e;let l,c,d,u,p;if(t.debugProxy)c=t.debugProxy.inputs,d=t.debugProxy.outputs,p=t.debugProxy.inputParams;else{const e=(0,i.TB)(t,{output(){}},r);l=e.configs,c=e.inputs,d=e.outputs,u=e.fork}if(t.runtime.hasUI())try{t.runtime.addForkContext({inputs:e=>e?u("inputs",e):c,outputs:e=>e?u("outputs",e):d,frames:n,inputParams:p},o.label,o.path)}catch(e){console.error(e),s.error("运行错误",e.message)}return{configs:l,inputs:c,outputs:d}},exe(e,n,i){if(e){const{inputs:n,outputs:i}=e;t._exeInfo=void 0}},exePinExt(e,n,i){if(n.isTypeOfExt()){let o=c[e.path+e.label+t.id];return!o&&e.parent&&(o=c[e.parent.path+e.parent.label+t.id]),o?o[n.hostId](i):console.error(`No exts found for pin(${n.hostId})`),!1}}})}}();!function(){let e;function t(...t){let n;return t.find((t=>(t&&t.find((t=>{t.id===e&&(n=t)})),n))),n}function n(i){if(i.id===e)return i;let o=t(i.inputPins,i.outputPins,i.inputJoints,i.outputJoints);return o||(i.comAry&&i.comAry.find((i=>(o=function(i){if(i.id===e)return i;let o=t(i.inputPins,i.outputPins);return o||(i.frames&&i.frames.find((e=>(o=n(e),o))),o)}(i),o))),o)}}()},62037:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(34070),o=n(90359),r=n.n(o),s=n(83446),a=n(27319),l=n(39740);function c(){const e=(0,s.N7)(l.Z,{from:"parents"}),{context:t,configs:n}=e,c=t.isDebugMode(),d=(0,o.useCallback)((e=>{c?t.setModeDesn():t.setModeDebug()}),[c]);return r().createElement(r().Fragment,null,r().createElement("div",{className:i.Z.toolbar},n?r().createElement("div",{className:`${i.Z.btnGroup}`},r().createElement("div",{className:`${i.Z.icon} ${c?i.Z.debug:""}`,onClick:e=>d(),"data-mybricks-tip":`{content:'${c?"返回设计":"调试"}',position:'left'}`},r().createElement("span",null,a.fF),c?r().createElement("span",null,a.Xw):null)):null))}},27319:(e,t,n)=>{n.d(t,{Xw:()=>r,fF:()=>o});var i=n(90359);const o=i.createElement("svg",{t:"1643283047297",className:"icon",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16836",width:"32",height:"32"},i.createElement("path",{d:"M385.011469 321.043513l319.507958 191.704775-319.507958 191.704774V321.043513z m569.363181 448.589173l-95.213371-95.021667a386.988038 386.988038 0 1 0-184.6756 184.547796l95.213371 95.085569a511.979551 511.979551 0 1 1 184.6756-184.611698z","p-id":"16837"})),r=(i.createElement("svg",{t:"1643283960586",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26672",width:"32",height:"32"},i.createElement("path",{d:"M849.771893 471.406898c0 47.250184 38.985059 85.576959 87.112957 85.57696 48.054754 0 87.112956-38.326775 87.112956-85.57696 0-47.323327-39.058202-85.723245-87.039814-85.723244-48.274182 0-87.186099 38.399918-87.186099 85.723244m-48.639895-185.124174c0 21.13824 8.557696 41.325626 23.771377 56.319879 15.140539 14.847968 35.693638 23.186236 57.051307 23.186236 44.69019 0 80.968969-35.620495 80.968969-79.506115 0-21.211383-8.557696-41.398768-23.771378-56.31988a81.26154 81.26154 0 0 0-57.124449-23.186236c-44.69019 0-80.895827 35.620495-80.895826 79.506116M678.910545 143.361887c0 40.447913 33.426214 73.288986 74.678697 73.288986 41.17934 0 74.605554-32.914215 74.605555-73.288986 0-40.594199-33.426214-73.435271-74.605555-73.435271-41.252483 0-74.678697 32.914215-74.678697 73.435271M506.952057 67.293479c0 37.083349 30.646791 67.291284 68.461567 67.291284A67.876426 67.876426 0 0 0 643.875192 67.293479c0-37.156492-30.719934-67.291284-68.461568-67.291285a67.876426 67.876426 0 0 0-68.461567 67.291285M319.121602 72.632896c0 33.791928 27.794226 61.22044 62.171295 61.22044s62.171295-27.428513 62.171296-61.22044A60.781584 60.781584 0 0 0 425.324803 29.259274a62.463866 62.463866 0 0 0-43.958763-17.846818c-34.377069 0-62.171295 27.35537-62.171295 61.22044M151.771103 158.356141a55.588452 55.588452 0 0 0 56.027309 55.076453 55.588452 55.588452 0 0 0 56.027308-55.076453c0-14.62854-5.924559-28.671939-16.457107-38.98506a56.319879 56.319879 0 0 0-39.497058-16.091394 55.588452 55.588452 0 0 0-56.100452 55.076454M38.034204 308.152391a50.029607 50.029607 0 1 0 84.845533 34.66964 48.713038 48.713038 0 0 0 14.62854-34.66964c0-27.062799-22.308524-49.005609-49.737037-48.932466-13.165686 0-25.819373 5.119989-35.108496 14.262826a48.713038 48.713038 0 0 0-14.701682 34.66964M0 493.93485a43.154193 43.154193 0 0 0 43.519907 42.78848 43.593049 43.593049 0 0 0 39.497058-20.699384 42.422766 42.422766 0 0 0 0-44.105049 43.593049 43.593049 0 0 0-39.497058-20.772527 43.154193 43.154193 0 0 0-43.519907 42.78848M46.079901 680.960735c0.073143 13.165686 7.241127 25.307374 18.724532 31.817075 11.556547 6.582843 25.819373 6.582843 37.302777 0a36.717636 36.717636 0 0 0-18.724532-68.680996 37.010206 37.010206 0 0 0-37.302777 36.863921m123.026022 152.283102c0 10.971405 5.851416 21.065098 15.506253 26.477658a31.451361 31.451361 0 0 0 31.085648 0 30.573649 30.573649 0 0 0-15.579396-57.124449 30.793077 30.793077 0 0 0-31.012505 30.646791m177.517334 89.599808c0 8.777124 4.827418 16.822821 12.434259 21.211383 7.753126 4.315419 17.188535 4.315419 24.868518-0.073142a24.429662 24.429662 0 0 0-12.507401-45.714188 24.64909 24.64909 0 0 0-24.795376 24.575947m200.118429 9.654837c0 6.582843 3.657135 12.653687 9.362265 15.871966 5.851416 3.291422 12.946258 3.291422 18.651389 0a18.358818 18.358818 0 0 0-9.362266-34.377069 18.578246 18.578246 0 0 0-18.651388 18.505103m185.928744-72.04556c0 6.729128 5.558845 12.214831 12.434259 12.214831 6.875414 0 12.434259-5.485703 12.434259-12.214831a12.361116 12.361116 0 0 0-12.434259-12.287974 12.361116 12.361116 0 0 0-12.434259 12.287974m137.947133-139.995129a6.143987 6.143987 0 0 0 2.925708 5.851416 6.363415 6.363415 0 0 0 6.582843 0 6.143987 6.143987 0 0 0-3.218279-11.410261 6.21713 6.21713 0 0 0-6.290272 5.558845","p-id":"26673"})),i.createElement("svg",{t:"1643293354621",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2049",width:"32",height:"32"},i.createElement("path",{d:"M512 64a448.128 448.128 0 0 0 0 896 446.976 446.976 0 0 0 381.056-212.288c18.56-30.08 0-48.768-30.016-67.392-30.08-18.624-60.16-30.08-78.784 0A318.976 318.976 0 0 1 512 832a320 320 0 0 1 0-640c35.328 0 40.448-30.72 40.448-66.048S547.328 64 512 64z m447.68 469.568c6.784-177.92-84.672-327.616-220.224-407.616-30.464-17.92-47.104 1.92-65.088 32.384-17.92 30.4-30.464 59.904 0 77.824A319.744 319.744 0 0 1 832 512c0 35.328 33.664 40.576 61.056 52.864 27.328 12.288 65.28 3.968 66.624-31.296z",fill:"#515151","p-id":"2050"})))},40741:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(18204);class o extends i.Z{constructor(){super(...arguments),this.zIndex=0}isParentAFrame(){return parent&&parent.parent}getRoot(e){let t=this;if("function"==typeof e&&e(t))return t;for(;t.parent&&(t=t.parent,"function"!=typeof e||!e(t)););return t}focus(e){this.state.focus()}blur(){this.state.isDisabled()||this.state.blur(),this.state.runningRecover()}}},18204:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(79127);class o extends i.M_{set$elOnce(e){this.__el__&&this.__el__.parent||(this.__el__=e)}}},81120:(e,t,n)=>{n.d(t,{_B:()=>s,vg:()=>a});var i=n(5962),o=n(35401),r=n(83446);function s(e,t,n){const o=n.getStage().scaleX(),s=e.$el,a=t.$el,l=(0,r.dL)(s,n),c=(0,r.dL)(a,n);if(t.isTypeOfConfig()){const n={x:Math.round(c.x/o),y:Math.round(c.y/o)+.5,j:t.getJoinerWidth()};return i.o.create(e,{x:Math.round(l.x/o+l.w/2),y:Math.round(l.y/o)+.5,j:e.getJoinerWidth()},t,n)}return i.o.create(e,{x:Math.round(l.x/o+l.w/2),y:Math.round(l.y/o)+.5,j:e.getJoinerWidth()},t,{x:Math.round(c.x/o-c.w/2),y:Math.round(c.y/o)+.5,j:t.getJoinerWidth()})}function a(e,t=o.Dd){return Math.round(e/t)*t}},25495:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(83446),o=n(90359),r=n.n(o),s=n(79127),a=n(98265),l=n(98054),c=n(39740),d=n(16531),u=n(30720),p=n(62037),f=n(47871),m=n(78694);function h({viewId:e,viewModel:t,configs:n,onToolbar:l}){const p=(0,i.N7)(s.zz,{from:"parents"}),h=(0,i.mA)(s.cA.Message,{expectTo:"parents"}),y=(0,i.mA)(s.cA.Component,{expectTo:"parents"}),b=(0,i.mA)(s.cA.Snap,{expectTo:"parents"}),v=(0,i.mA)(s.cA.WindowEvents,{expectTo:"parents"}),x=(0,i.mA)(s.cA.Scenes,{expectTo:"parents"}),w=(0,i.mA)(s.cA.Views,{expectTo:"parents"}),E=(0,i.mA)(s.cA.Frame,{expectTo:"parents"}),A=(0,i.mA)(s.cA.Logs,{expectTo:"parents"}),_=(0,i.mA)(s.cA.Editor,{expectTo:"parents"}),C=(0,i.mA)(s.cA.Find,{expectTo:"parents"}),I=(0,i.mA)(c.Z,(i=>{const o=t.frames[0];i({viewId:e,context:p,configs:n,viewModel:t,curFrameModel:o,emitLogs:A,emitMessage:h,emitWindowEvents:v,emitFrame:E,emitView:w,emitScenes:x,emitComponent:y,emitSnap:b,emitEditor:_,emitFind:C})}),{expectTo:"children"});(0,o.useMemo)((()=>{(0,d.S1)(I),(0,u.S)(I)}),[]),(0,o.useEffect)((()=>{p.isDesnMode()&&t.clearAllTempComs()}),[p.getMode()]),(0,o.useEffect)((()=>{p.isDebugMode()?I.lastFrameModelBeforeDebug=I.curFrameModel:(I.debugger={},I.lastFrameModelBeforeDebug&&(I.curFrameModel!==I.lastFrameModelBeforeDebug&&x.switch(I.lastFrameModelBeforeDebug.id),I.lastFrameModelBeforeDebug=void 0,requestAnimationFrame((()=>{t.stopDebug()})),A.info("调试停止.")))}),[p.getMode()]),(0,i.CV)(s.cA.Editor,(e=>(0,f.Z)(I)),{from:"parents"}),(0,i.CV)(s.cA.Env,(e=>(0,a.ok)(I)),{from:"parents"}),(0,i.CV)(s.cA.FxFrame,(e=>(0,a.jq)(I)),{from:"parents"});const M=(0,i.CV)(s.cA.Debug,(e=>(0,a.dG)(I)),{from:"parents"});return(0,i.CV)(s.cA.Frame,(e=>(0,a.oN)(I)),{from:"parents"}),(0,i.CV)(s.cA.Scenes,(e=>(0,a.dI)(I)),{from:"parents"}),(0,i.CV)(s.cA.Label,(e=>(0,a.yS)(I)),{from:"parents"}),(0,i.CV)(s.cA.Variable,(e=>(0,m.g)(I)),{from:"parents"}),(0,i.CV)(s.cA.Component,(e=>(0,a.Fk)(I)),{from:"parents"}),(0,i.CV)(s.cA.IOCAbout,(e=>(0,a.V_)(I)),{from:"parents"}),I.emitDebug=M,r().createElement(g,{viewCtx:I})}function g({viewCtx:e}){const{context:t}=e,[i,s]=(0,o.useState)(void 0);if((0,o.useMemo)((()=>{Promise.all([n.e(937),n.e(554),n.e(635),n.e(452)]).then(n.bind(n,67452)).then((e=>{s(e)}))}),[]),i){const t=i.default;return r().createElement("div",{className:l.Z.toplView,ref:t=>{t&&(e.wrapEle=t)}},r().createElement(t,{viewCtx:e}),e.configs.handlers?r().createElement(p.Z,null):null)}return r().createElement("div",{className:l.Z.toplView},r().createElement("div",{className:l.Z.loading},"加载中.."))}},39740:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(81120),o=n(71442),r=n(23037);class s{constructor(){this.debugger={},this.renderedDiagramAry=[],this.scale=1}ifVisible(){if(this.wrapEle){const e=(0,r.bt)(this.wrapEle);if(e&&!(e.w>0&&e.h>0))return!1}return!0}getCurDiagram(){return this.curDiagramModel}setCurDiagram(e){if(this.curDiagramModel!==e){const t=e.root;if(t.isTypeOfFx&&!t.isTypeOfFx()){this.switchFrame(e.root);try{this.emitScenes.switch(e.root.id)}catch(e){}}this.renderedDiagramAry.find((t=>t.id===e.id))||(this.renderedDiagramAry.length>5&&this.renderedDiagramAry.splice(0,1),this.renderedDiagramAry.push(e)),this.viewModel.curDiagramId=e.id,this.curDiagramModel=e,e.refreshUpdateTime()}}clearCurFrameModel(){this.curFrameModel&&(this.clearCurDiagram(),this.curFrameModel=void 0)}clearCurDiagram(){const e=this.curDiagramModel;e&&(this.curDiagramModel=void 0,this.renderedDiagramAry.forEach(((t,n)=>{t.id===e.id&&this.renderedDiagramAry.splice(n,1)})))}isCurDiagram(e){var t;return(null===(t=this.curDiagramModel)||void 0===t?void 0:t.id)===e}switchFrame(e){this.curFrameModel!==e&&(this.curFrameModel=e,e.diagramAry.length>0?this.setCurDiagram(e.diagramAry[0]):this.curDiagramModel=void 0,this.viewModel.curFrameId=e.id)}isMainSlot(e){return this.viewModel.getMainModuleFrame().id===e.id}scrollTo({x:e,y:t},n){}diagramsLayout(e,t){const{viewModel:n,emitLogs:o}=this;if("refactor"===e){const e=n.diagramAry;if(e.length>0){let t=0,n=0;e.forEach(((e,o)=>{0===o&&(n=e.style.top||0,t=(0,i.vg)(void 0!==e.style.left?e.style.left:200,50)),e.style.top=n,n+=(0,i.vg)(e.style.height+50,50)}))}t||o.info("流程卡片重新排列完成.")}}set assitWith(e){this._assitWith=e}get assitWith(){return this._assitWith}getComEventAssist(e,t){return a(e,t)}hintConnection(e,t){const{stop:i}=function({model:e,animationLayer:t,loop:i}){let r;e.$el&&Promise.all([n.e(937),n.e(635)]).then(n.bind(n,40635)).then((({Konva:n})=>{const s=e.$el.children[0],a=i?e.$el.getLayer():t;if(s){let t,l;t=s.getLength(),l=25;const c=t/l,d=(0,o.a0)(e.startPin.schema.type),u=e.parent.$el.getPosition(),p=s.getPointAtLength(0);if(u&&p&&t){const o=new n.Circle({x:u.x+p.x,y:u.y+p.y,radius:3,fill:d.strokeColor});i&&o.zIndex(-2),a.add(o);let l,f=0;const m=new n.Animation((n=>{f+=1;const a=f*c;l=s.getPointAtLength(a),o.position({x:u.x+l.x,y:u.y+l.y}),(e.hadDestroyed()||a>=t)&&(i?f=0:r())}),a);m.start(),r=function(){o.destroy(),m.stop()}}}}));return{stop(){r&&r()}}}({model:e,animationLayer:this.animationLayer,loop:t});return function(){i()}}}function a(e,t){let n,i;const o=[],r=t.comTitle||e.title;let s=e.inputs?[...e.inputs]:[];if("js"===e.rtType||"js-autorun"===e.rtType){let a=e.outputs;s.forEach((n=>{a?a.forEach((i=>{const s=Array.from(new Set([n.title,r+"组件",i.title]));o.push({title:`${s.join("->")}`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`,next:i.id})})):o.push({title:`${n.title}->${r}组件`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`})}));const l=e.ai;let c;if("object"==typeof l&&("object"==typeof l.def&&(n=l.def),c=l.prompts),c)if("string"==typeof c)i=c;else if("function"==typeof c){const e={};if(t.startPin){const{title:n,schema:i}=t.startPin;e.startPin={title:n,schema:JSON.parse(JSON.stringify(i))}}const n=c(e);"string"==typeof n&&(i=n)}}else s.push({id:"hide",title:"隐藏"},{id:"show",title:"显示"}),s.forEach((n=>{n.rels?n.rels.forEach((i=>{const s=e.outputs.find((e=>e.id===i));if(s){const i=Array.from(new Set([n.title,r+"组件",s.title]));o.push({title:`${i.join("->")}`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`,next:s.id})}})):o.push({title:`${n.title}->${r}组件`,type:`${t.instanceId?"#"+t.instanceId:e.namespace}:${n.id}`})}));return{def:n,prompts:i,ioAry:o}}},12190:(e,t,n)=>{n.d(t,{Z:()=>m});var i,o=n(44780),r=n(14509),s=n(83446),a=n(71442),l=n(79127),c=n(22270),d=n(56976),u=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let f=class extends l.M_{constructor(){super(...arguments),this.name=a.jY,this.frames=[],this.varComAry=[],this.comAry=[],this.diagramAry=[],this.style={left:0,top:0}}addFrame({id:e,title:t,name:n,catalogId:i,type:r,deletable:s,debuggable:a,asDefault:l}){const c=new o.g({id:e,catalogId:i,title:t,name:n,type:r,deletable:s,debuggable:a,asDefault:l});return this.frames.push(c),this.frames[this.frames.length-1]}addDefaultFrame(){const e=new o.g({rootF:!0,asDefault:!0});return this.frames.push(e),this.frames[this.frames.length-1]}addVarDiagram(e){let t=new d.Z(this,e.title,"normal");return this.diagramAry||this.diagramAry,this.diagramAry.push(t),t=this.diagramAry[this.diagramAry.length-1],t.isVar=!0,t.varCom=e,t}addFxDiagram(){let e=1;this.frames.forEach((t=>{t.isTypeOfFx()&&e++}));let t=new o.g;t.type="fx",this.frames.push(t),t=this.frames[this.frames.length-1],t.addInputPin({type:"normal",hostId:"param0",title:"输入项",schema:{type:"unknown"},editable:!0});const n=new d.Z(t,`全局Fx卡片${e}`,"normal");return n.isFn=!0,t.diagramAry.push(n),t.diagramAry[t.diagramAry.length-1]}addComponent(e){return this.comAry.find((t=>t.id===e.id))?e:(e.parent=this,this.comAry.push(e),this.comAry[this.comAry.length-1])}getFrameAryByCatalogId(e){return this.frames.filter((t=>t.catalogId===e))}getFxFrameAry(){return this.frames.filter((e=>e.isTypeOfFx()))}getDefaultFrame(){return this.frames.find((e=>e.isDefault()))}getFrame(e){return this.frames.find((t=>t.id===e))}deleteFrame(e){const t=this.frames.indexOf(e);t>=0&&this.frames.splice(t,1)}delete(e){if(e instanceof c.n){const t=this.varComAry.indexOf(e);t>=0&&this.varComAry.splice(t,1)}else if(e instanceof d.Z){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}}getMainModuleFrame(){return this.frames[0]}addVarComponent(e){return this.varComAry.find((t=>t.id===e.id))?e:(e.parent=this,this.varComAry.push(e),this.varComAry[this.varComAry.length-1])}getVarComponent(e){var t;return null===(t=this.varComAry)||void 0===t?void 0:t.find((t=>t.id===e))}hasChildCom(e){return void 0!==this.varComAry.find((t=>t.id==e.id))}searchFrame(e){if(this.frames){const t=this.frames.find((t=>{if(t.id===e)return!0}));if(t)return t;let n;return this.frames.find((t=>(n=t.searchFrame(e),n))),n}}searchDiagramByFxRef(e){if(this.frames){const t=[];return this.frames.forEach((n=>{const i=[];n.searchDiagramByFxRef(i,e),i.length>0&&t.push({id:n.id,title:n.title,results:i})})),t}}searchDiagram(e){if(this.frames){let t;this.frames.find((n=>(t=n.searchDiagram(e),t)));return t}}searchCom(e,t){let n;return n=this.getVarComponent(e),n||(this.frames.find((i=>{if(n=i.searchCom(e,t),n)return!0})),n)}searchComInDiagrams(e){let t;return this.frames.find((n=>{if(t=n.searchComInDiagrams(e),t)return!0})),t}searchComInDiagramsBy_key(e){let t;return this.frames.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return!0})),t}searchComByDef(e){const t=[];if(this.frames)return this.frames.forEach((n=>{const i=n.searchComByDef(e);i&&t.push(...i)})),t.length>0?t:void 0}searchCon(e){let t;return this.frames.find((n=>{if(t=n.searchCon(e),t)return!0})),t}getFocusedDiagram(){let e;return this.frames.find((t=>{if(e=t.getFocusedDiagram(),e)return!0})),e}clearAllTempComs(){this.frames.forEach((e=>{e.clearAllTempComs()}))}stopDebug(){this.frames.forEach((e=>{e.stopDebug()}))}clearDebugHints(){this.varComAry.forEach((e=>{e.clearDebugHints()})),this.frames.forEach((e=>{e.clearDebugHints()}))}getSummaryInfo(){let e=0,t=0;return this.frames.length>0&&this.frames.forEach((n=>{const{coms:i,diagrams:o}=n.getSummaryInfo();e+=i,t+=o})),{coms:e,diagrams:t}}toJSON(e){const t={};return t.id=this.id,t.frames=[],this.frames.forEach((n=>{t.frames.push(n.toJSON(e))})),t}};u([s.jj,p("design:type","function"==typeof(i=void 0!==r.Ns&&r.Ns)?i:Object)],f.prototype,"runner",void 0),f=u([(0,s.iV)(a.it+"topl.ToplViewModel")],f);const m=f},91952:(e,t,n)=>{n.d(t,{H:()=>d});var i=n(83446),o=n(71442),r=n(22270),s=n(33029),a=n(23037),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends r.n{constructor(){super(...arguments),this._inputPins=[],this._outputPins=[],Object.defineProperty(this,"outputPins",{get(){const e=this.ioProxyForCall.frame.inputPins;e.forEach((e=>{if(!this._inputPins.find((t=>t.hostId===e.hostId))){this.addInputPin({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyPin=e}}));let t=this._inputPins.filter(((t,n)=>{if(!e.find((e=>e.hostId===t.hostId)))return!0}));return t.length>0&&t.forEach((e=>{e.destroy(),this.removeInputPin(e.hostId)})),this._inputPins}}),Object.defineProperty(this,"outputPins",{get(){const e=this.ioProxyForCall.frame.outputPins;e.forEach((e=>{if(!this._outputPins.find((t=>t.hostId===e.hostId))){this.addOutputPin({hostId:e.hostId,title:e.title,schema:e.schema,deletable:!0}).proxyPin=e}}));let t=this._outputPins.filter(((t,n)=>{if(!e.find((e=>e.hostId===t.hostId)))return!0}));return t.length>0&&t.forEach((e=>{e.destroy(),this.removeOutputPin(e.hostId)})),this._outputPins}})}addInputPin({hostId:e,title:t,schema:n,deletable:i,conMax:o}){let r=this._inputPins;r||(r=this._inputPins=[]);const l=a.tk.find((t=>t.hostId===e),r);if(l)return;const c=new s.O({type:"normal",direction:"input",hostId:e,title:t,schema:n,conMax:o,deletable:i});return c.parent=this,r.push(c),r[r.length-1]}removeInputPin(e){let t;const n=this._inputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}getInputsAll(){return[this._inputPins,this.inputPinExts]}addOutputPin({hostId:e,title:t,schema:n,deletable:i,conMax:o}){let r=this._outputPins;r||(r=this._outputPins=[]);const l=a.tk.find((t=>t.hostId===e),r);if(l)return;const c=new s.O({type:"normal",direction:"output",hostId:e,title:t,schema:n,conMax:o,deletable:i});return c.parent=this,r.push(c),r[r.length-1]}removeOutputPin(e){let t;const n=this._outputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}getOutputsAll(){return[this._outputPins,this.outputPinExts]}destroy(){super.destroy(!0)}};d=l([(0,i.iV)(o.it+"topl.ModuleComModel"),c("design:paramtypes",[])],d)},22270:(e,t,n)=>{n.d(t,{n:()=>g});var i,o,r=n(33029),s=n(23037),a=n(44780),l=n(14509),c=n(83446),d=n(79127),u=n(71442),p=n(12190),f=n(42524),m=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let g=i=class extends d.M_{get _autoRun(){return this.runtime.autorun}get model(){var e;return null===(e=this.runtime.cloned)||void 0===e?void 0:e.model}get id(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.id}get data(){var e;return null===(e=this.runtime)||void 0===e?void 0:e.model.data}get renderKey(){return this.id}get title(){return this.runtime.title}setHeight(e){this.style.height=e}setWidth(e){this.style.width!==e&&(void 0!==this.style.width&&requestAnimationFrame((e=>{const t=this.getOutputsAll();t&&s.tk.each((e=>{e.refreshView()}),...t)})),this.style.width=e)}constructor(e,t,n){if(super(),this._type=l.t_.NODE,this.init=!1,this.style={width:0,height:0,left:0,top:0},this.foldedStyle={},this.configPins=[],this._inputPins=[],this.inputPins=[],this.inputPinsInModel=[],this.inputPinExts=[],this._outputPins=[],this.outputPins=[],this.outputPinsInModel=[],this.outputPinExts=[],this.outputPinNexts=[],e&&(e instanceof d.u5?(this.name=e.name,this.runtime=e.runtime,t=e.def,e.description&&(this.description=e.description),e.asRoot&&(this.asRoot=e.asRoot)):e instanceof d.cR&&(this.runtime=e)),!t)return;const i=this.runtime,o=i.model;let r,c;if(o&&(!i._autoRun&&o.inputAry&&o.inputAry.forEach((e=>{const t=this.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,conMax:e.conMax});e.proxyPin&&(t.proxyPin=e.proxyPin)})),o.outputAry&&o.outputAry.forEach((e=>{const t=this.addOutputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,conMax:e.conMax});e.proxyPin&&(t.proxyPin=e.proxyPin),e.proxyForPin&&(t.proxyForPin=e.proxyForPin)}))),n){r={},c={},Array.isArray(n.inputs)&&n.inputs.forEach((e=>{r[e]=!0})),Array.isArray(n.outputs)&&n.outputs.forEach((e=>{c[e]=!0})),n.proxy&&(this.ioProxy=n.proxy);const e=n.proxyForCall;e&&(this.ioProxyForCall=e,e.sceneId&&(Object.keys(e._inputs).forEach((t=>{const n=d.s5.find((e=>e.id===t));if(n){const i=this.add_InputPin({hostId:n.id,title:n.title,schema:n.schema}),o=e._inputs[t];i.proxyScenePin={sceneId:e.sceneId,hostId:o}}})),Array.isArray(e.outputs)&&e.outputs.forEach((e=>{this.addOutputPinInModel({hostId:e.id,title:e.title,schema:e.schema})}))))}if(t.configs&&t.configs.forEach((e=>{let t=e.schema?e.schema:{type:"unknown"};if((0,s.Ne)(t))throw new Error("Schema is invalid.");this.addConfigPin({hostId:e.id,title:e.title,schema:t,extBinding:e.binding,editor:e.editor})})),this.ioProxy?n&&Array.isArray(n.inputs)&&n.inputs.forEach((e=>{const t=this.ioProxy.inputPins.find((t=>t.id===e));this.addInputPinInModel({hostId:t.hostId,title:t.title,schema:t.schema,deletable:!0}).proxyPin=t})):(t._inputs&&t._inputs.forEach((e=>{let t=e.schema?e.schema:{type:"unknown"};if((0,s.Ne)(t))throw new Error("Schema is invalid.");this.add_InputPin({hostId:e.id,title:e.title,schema:t,rels:e.rels,conMax:e.conMax})})),!i._autoRun&&t.inputs&&t.inputs.forEach((e=>{if(r&&!r[e.id])return;const t=e.schema?e.schema:{type:"unknown"};if(Array.isArray(t))t.forEach((t=>{if((0,s.Ne)(t))throw new Error("Schema is invalid.");this.addInputPin({type:"param",hostId:`${e.id}.${t.name}`,title:t.title,schema:t,editable:e.editable,rels:e.rels,conMax:e.conMax})}));else{if((0,s.Ne)(t))throw new Error("Schema is invalid.");this.addInputPin({hostId:e.id,title:e.title,wrap:e.wrap,schema:t,editable:e.editable,rels:e.rels,conMax:e.conMax})}})),t._outputs&&t._outputs.forEach((e=>{let t=e.schema?e.schema:{type:"unknown"};if((0,s.Ne)(t))throw new Error("Schema is invalid.");this.add_OutputPin({hostId:e.id,title:e.title,schema:t,conMax:e.conMax})})),t.outputs&&t.outputs.forEach((e=>{if(c&&!c[e.id])return;let t=e.schema?e.schema:{type:"unknown"};this.addOutputPin({hostId:e.id,title:e.title,wrap:e.wrap,schema:t,editable:e.editable,conMax:e.conMax})}))),t.slots&&t.slots.length>0){let e=[];t.slots.forEach((t=>{if(t.type&&"scope"===t.type){const n=t.title||"未命名",i=new a.g({id:t.id,title:n,asDefault:!!t.default});i.parent=this,!1===t.editable&&(i.editable=!1),t._inputs&&t._inputs.forEach((({id:e,title:t,schema:n},o)=>{i.add_InputPin({hostId:e,title:t,schema:n})})),t.inputs&&t.inputs.forEach((({id:e,title:t,schema:n,editable:o},r)=>{i.addInputPin({hostId:e,title:t,schema:n,editable:o})})),t._outputs&&t._outputs.forEach((({id:e,title:t,schema:n},o)=>{i.add_OutputPin({hostId:e,title:t,schema:n})})),t.outputs&&t.outputs.forEach((({id:e,title:t,schema:n,editable:o},r)=>{i.addOutputPin({hostId:e,title:t,schema:n,editable:o})})),e.push(i),i.addIODiagram({title:n})}})),e.length>0&&(this.frames=e)}}setAutoRun(e){this.runtime._autoRun=e}hasError(){var e;if(this.diagramModel&&!this.diagramModel.isGlobal&&!this.diagramModel.isFn){let t,n=this.diagramModel.parent;for(;n;){if(n===this.parent){t=!0;break}n=null===(e=n.parent)||void 0===e?void 0:e.parent}if(!t)return"当前区域不可见"}}isValid(){return!(this.parent instanceof a.g&&!this.parent.hasChildCom(this))}isAutoRun(){return this._autoRun}isRunning(){return!!s.tk.find((e=>{if(e.conAry.find((e=>e.exe)))return!0}),...this.getInputsAll())}isSceneOpen(){return this.runtime.def.namespace===d.Vm.coms.scenes}isFx(){return this.runtime.def.namespace===d.Vm.coms.fn}isVar(){return this.runtime.def.namespace===d.Vm.coms.var}isGlobalVar(){return this.isVar()&&this.parent instanceof p.Z}isFrameIn(){return this.runtime.def.namespace===d.Vm.coms.frameIn}isFrameOut(){return this.runtime.def.namespace===d.Vm.coms.frameOut}isVisible(){let e=!1;if(this.isVar()&&0===this.getInputsAllAry().length)return!0;const t=this.runtime.hasUI();if(this.isAutoRun()&&!t)e=!0;else if(this.forkedFrom&&this.diagramModel.startWithCom===this)e=!0;else{const t=this.getInputsAll(),n=this.configPins;s.tk.find((e=>{if(e.conAry.length>0){return e.conAry.find((e=>{const t=e.startPin,n=t.parent;return!(n instanceof i)||(!(!n.isVar()||"changed"!==t.hostId)||(!!n.isVisible()||void 0))}))}}),...t,n,this.timerInputPin)&&(e=!0)}return e}get inputJoints(){let e=[];return this.frames&&this.frames.forEach((t=>{e=e.concat(t.inputJoints)})),e}get outputJoints(){let e=[];return this.frames&&this.frames.forEach((t=>{e=e.concat(t.outputJoints)})),e}searchPin(e){return s.tk.find((t=>t.id===e),...this.getInputsAll(),...this.getOutputsAll())}searchPinByHostId(e,t){return"inputs"===t||"input"===t?s.tk.find((t=>t.hostId===e),...this.getInputsAll(),this.timerInputPin):"outputs"===t||"output"===t?s.tk.find((t=>t.hostId===e),...this.getOutputsAll()):s.tk.find((t=>t.hostId===e),...this.getInputsAll(),...this.getOutputsAll())}exist(){return!(this.parent instanceof a.g)||this.parent.comAry.find((e=>e.id===this.id))}sayHi(){}addFrame(e,t,n,i){this.frames||(this.frames=[]);const o=new a.g({id:e,title:t,rootF:i});return o.parent=this,n&&(o.name=n),this.frames.push(o),this.frames[this.frames.length-1]}removeFrame(e){if(this.frames){let t;this.frames.find(((n,i)=>{n.id===e&&(t=i)})),void 0!==t&&this.frames.splice(t,1)}}getFrame(e){return this.frames?this.frames.find((t=>t.id===e)):void 0}get root(){let e=this;for(;e.parent&&(e=e.parent,!(e instanceof a.g&&e._rootF)););return e}searchCom(e){if(this.id===e)return this;let t;return this.frames&&this.frames.find((n=>{if(t=n.searchCom(e),t)return!0})),t}searchFrame(e){let t;return this.frames&&this.frames.find((n=>{if(t=n.searchFrame(e),t)return!0})),t}setTimerInputPin(){this.timerInputPin||(this.timerInputPin=new r.O({type:"timer",direction:"input",hostId:"_timer",title:"执行",schema:{type:"any"},deletable:!0}),this.timerInputPin.parent=this)}removeTimerInputPin(){this.timerInputPin&&(this.timerInputPin.destroy(),this.timerInputPin=void 0)}addConfigPin(e){const{hostId:t,title:n,schema:i,extBinding:o,editor:s}=e,a=this.configPins.find((e=>e.hostId===t));if(a)return a;const l=new r.O({type:"config",direction:"config",hostId:t,title:n,desc:"",schema:i,deletable:!1,extBinding:o,editor:s});return l.parent=this,this.configPins.push(l),l}removeConfigPin(e){let t;this.configPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&this.configPins.splice(t,1)}add_InputPin(e){const{hostId:t,title:n,schema:i,conMax:o,rels:s}=e,a=this._inputPins.find((e=>e.hostId===t));if(a)return a;const l=new r.O({type:"normal",direction:"input",hostId:t,title:n,schema:i,conMax:o,isPrivate:!0,deletable:!1,rels:s});return l.parent=this,this._inputPins.push(l),this._inputPins[this._inputPins.length-1]}addInputPin(e){const{hostId:t,title:n,wrap:i,schema:o,type:s,editable:a,deletable:l,conMax:c,rels:d}=e,u=this.inputPins.find((e=>e.hostId===t));if(u)return u;const p=new r.O({type:s||"normal",direction:"input",hostId:t,title:n,wrap:i,schema:o,editable:a,conMax:c,deletable:l,rels:d});return p.parent=this,this.inputPins.push(p),p}addInputPinInModel({hostId:e,title:t,schema:n,editable:i,deletable:o,conMax:a}){this.inputPinsInModel||(this.inputPinsInModel=[]);const l=s.tk.find((t=>t.hostId===e),this.inputPinsInModel,this.inputPins);if(l)return l;const c=new r.O({type:"normal",direction:"input",hostId:e,title:t,schema:n,conMax:a,editable:i,deletable:o});c.parent=this;const d=this.inputPinsInModel;d.push(c);const u=this.runtime.model;return u.inputAry||(u.inputAry=[]),u.inputAry.push({hostId:e,title:t,schema:n,conMax:a}),d[d.length-1]}addInputPinExt({hostId:e,title:t,schema:n}){const i=this.inputPinExts.find((t=>t.hostId===e));if(i)return i;const o=new r.O({type:"ext",direction:"input",hostId:e,title:t,schema:n,deletable:!1});return o.parent=this,this.inputPinExts.push(o),o}add_OutputPin(e){const{hostId:t,title:n,schema:i,conMax:o}=e,s=this._outputPins.find((e=>e.hostId===t));if(s)return s;const a=new r.O({type:"normal",direction:"output",hostId:t,title:n,schema:i,conMax:o,isPrivate:!0,deletable:!1});return a.parent=this,this._outputPins.push(a),a}addOutputPin(e){const{hostId:t,title:n,wrap:i,schema:o,editable:s,conMax:a}=e,l=this.outputPins.find((e=>e.hostId===t));if(l)return l;const c=new r.O({type:"normal",direction:"output",hostId:t,title:n,wrap:i,schema:o,editable:s,conMax:a,deletable:!1});return c.parent=this,this.outputPins.push(c),c}addOutputPinInModel({hostId:e,title:t,schema:n,editable:i,deletable:o,conMax:a}){this.outputPinsInModel||(this.outputPinsInModel=[]);const l=s.tk.find((t=>t.hostId===e),this.outputPinsInModel,this.outputPins);if(l)return;const c=new r.O({type:"normal",direction:"output",hostId:e,title:t,schema:n,conMax:a,editable:i,deletable:o});c.parent=this;const d=this.outputPinsInModel;d.push(c);const u=this.runtime.model;return u.outputAry||(u.outputAry=[]),u.outputAry.push({hostId:e,title:t,schema:n,conMax:a}),d[d.length-1]}setOutputPinNext(){if(this.outputPinNexts||(this.outputPinNexts=[]),this.outputPinNexts.find((e=>"_next"===e.hostId)))return;const e=new r.O({type:"ext",direction:"output",hostId:"_next",title:"然后",schema:{type:"any"},deletable:!0});return e.parent=this,this.outputPinNexts.push(e),this.outputPinNexts[this.outputPinNexts.length-1]}addOutputPinExt({hostId:e,title:t,schema:n}){let i=this.inputPinExts.some((t=>t.hostId===e));if(i)return;const o=new r.O({type:"ext",direction:"output",hostId:e,title:t,schema:n,deletable:!1});return o.parent=this,this.outputPinExts.push(o),o}remove_InputPin(e){let t;const n=this._inputPins;n&&(n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1))}removeInputPin(e){let t;const n=this.inputPinsInModel;if(n){n.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),void 0!==t&&n.splice(t,1);const i=this.runtime.model.inputAry;i.find(((n,i)=>{n.hostId===e&&(t=i)})),void 0!==t&&i.splice(t,1)}}setInputPinTitle(e,t){s.tk.find((n=>{n.hostId==e&&(n.title=t)}),...this.getInputsAll()),this.runtime.model.inputAry.find((n=>{n.hostId===e&&(n.title=t)}))}setInputPinSchema(e,t){const n=this.inputPinsInModel;n&&(n.find((n=>{n.hostId==e&&(n.schema=t)})),this.runtime.model.inputAry.find((n=>{n.hostId==e&&(n.schema=t)})))}removeOutputPin(e){let t,n;const i=this.outputPinsInModel;if(i&&(i.find(((i,o)=>{i.hostId===e&&(n=i,i.destroy(),t=o)})),void 0!==t)){i.splice(t,1),t=void 0;this.runtime.model.outputAry.find(((i,o)=>{i.hostId===e&&(n=i,t=o)}))}if(n){const e=this.parent;e.diagramAry.find(((t,i)=>{const o=t.startWithCom;if(o&&o.forkedFrom===this&&o.outputPinsInModel.find((e=>{if(e.forkedFrom.hostId===n.hostId)return!0})))return t.destroy(),e.diagramAry.splice(i,1),!0}))}}setOutputPinTitle(e,t){s.tk.find((n=>{n.hostId==e&&(n.title=t)}),...this.getOutputsAll()),this.runtime.model.outputAry.find((n=>{n.hostId===e&&(n.title=t)}))}setOutputPinSchema(e,t){const n=this.outputPinsInModel;n&&(n.find((n=>{n.hostId==e&&(n.schema=t)})),this.runtime.model.outputAry.find((n=>{n.hostId==e&&(n.schema=t)})))}fork(e,t){return new(0,n(39920).default)(e,this,t)}getForkedAll(){const e=[],t=this;return function n(i){i.diagramAry&&i.diagramAry.forEach((n=>{n.comAry&&n.comAry.forEach((n=>{n.forkedFrom===t&&e.push(n)}))})),i.comAry&&i.comAry.forEach((e=>{e.frames&&e.frames.forEach((e=>{n(e)}))}))}(this.root),e}focus(){super.focus(),s.tk.each((e=>e.emphasize()),this.timerInputPin,this.configPins,...this.getInputsAll(),...this.getOutputsAll())}getInputInfo(e){const t=s.tk.find((t=>t.hostId===e),this.inputPins,this.inputPinsInModel,this.inputPinExts);if(t)return{id:t.id,title:t.title}}getInputsAll(){return[this.inputPins,this.inputPinsInModel,this.inputPinExts]}getInputsAllAry(){return[...this.inputPins,...this.inputPinsInModel,...this.inputPinExts]}getAllInputsLength(){return s.tk.length(...this.getInputsAll())}getOutputInfo(e){const t=s.tk.find((t=>t.hostId===e),this.outputPins,this.outputPinsInModel,this.outputPinExts);if(t)return{id:t.id,title:t.title}}getAllOutputsInfo(){const e=this.getOutputsAllAry();if(e.length>0)return e.map((e=>{const t=e.conAry;return{id:e.id,hostId:e.hostId,title:e.title,connections:t?t.map((e=>({id:e.id}))):void 0}}))}getOutputsAll(){return[this.outputPins,this.outputPinsInModel,this.outputPinExts,this.outputPinNexts]}getOutputsAllAry(){return[...this.outputPins,...this.outputPinsInModel,...this.outputPinExts,...this.outputPinNexts]}getAllOutputsLength(){return s.tk.length(...this.getOutputsAll())}getInputInfo(e,t){const n=this;if(!t)return{get(t){const i=n.forkedFrom||n;if(!t)return x(i,"input");{const n=y(i,t,"input");if(n)return v(n,{emitItem:e})}},add(e,t,i,o,r){let a=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,a=arguments[0].editable,o=arguments[0].deletable,r=arguments[0].conMax);const l=(0,s.Ne)(i);if(l)throw new Error(l);n.addInputPinInModel({hostId:e,title:t,schema:i,editable:a,deletable:o,conMax:r})},remove(e){n.removeInputPin(e)},setTitle(e,t){n.setInputPinTitle(e,t)},setSchema(t,i){const o=(0,s.Ne)(i);if(o)throw new Error(o);e.updatePinSchema("inputs",n.id,t,i)}};{const i=n.getFrame(t);if(i)return{get(t){const n=b(i,t,"input");if(n)return v(n,{emitItem:e})},add(e,t,n,o){"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,n=arguments[0].schema,o=arguments[0].conMax);const r=(0,s.Ne)(n);if(r)throw new Error(r);i.addInputPin({hostId:e,title:t,schema:n,deletable:!0,conMax:o})},remove(e){i.removeInputPin(e)},setTitle(e,t){const n=b(i,e,"input");n&&n.deletable&&(n.title=t)},setSchema(t,n){const o=(0,s.Ne)(n);if(o)throw new Error(o);const r=b(i,t,"input");r&&e.updateFramePinSchema("inputs",r,n)}}}}get_InputEditor(e,t){if(t){const n=this.getFrame(t);if(n)return{get(t){const i=b(n,t,"_input");if(i)return v(i,{emitItem:e})},add(e,t,i,o){"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax);const r=(0,s.Ne)(i);if(r)throw new Error(r);n.add_InputPin({hostId:e,title:t,schema:i,deletable:!0,conMax:o})},remove(e){n.remove_InputPin(e)},setTitle(e,t){const i=b(n,e,"_input");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.Ne)(i);if(o)throw new Error(o);const r=b(n,t,"_input");r&&e.updateFramePinSchema("_inputs",r,i)}}}}getInputEditor(e,t,n){const i=this;if(!t)return{get(t){const n=i.forkedFrom||i;if(!t)return x(n,"input");{const i=y(n,t,"input");if(i)return v(i,{emitItem:e})}},add(e,t,o,r,a){let l,c=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,o=arguments[0].schema,c=arguments[0].editable,r=arguments[0].deletable,a=arguments[0].conMax,l=arguments[0].desc);const d=(0,s.Ne)(o);if(d)throw new Error(d);n?i.addInputPin({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}):i.addInputPinInModel({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}),(0,f.AP)(i,1)},remove(t){i.removeInputPin(t),(0,f.AP)(i,1),e.removePin("inputs",i.id,t)},setTitle(e,t){i.setInputPinTitle(e,t)},setSchema(t,n){const o=(0,s.Ne)(n);if(o)throw new Error(o);e.updatePinSchema("inputs",i.id,t,n)}};{const n=i.getFrame(t);if(n)return{get(t){const i=b(n,t,"input");if(i)return v(i,{emitItem:e})},add(e,t,i,o){let r;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax,r=arguments[0].desc);const a=(0,s.Ne)(i);if(a)throw new Error(a);n.addInputPin({hostId:e,title:t,schema:i,desc:r,deletable:!1,conMax:o})},remove(e){n.removeInputPin(e)},setTitle(e,t){const i=b(n,e,"input");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.Ne)(i);if(o)throw new Error(o);const r=b(n,t,"input");r&&e.updateFramePinSchema("inputs",r,i)}}}}get_OutputEditor(e){const t=this;return{get(n){const i=t.forkedFrom||t;if(!n)return x(i,"_output");{const t=y(i,n,"_output");if(t)return v(t,{emitItem:e})}}}}getConfigEditor(e){const t=this;return{get(n){const i=t.forkedFrom||t;if(n){const t=i.configPins.find((e=>e.hostId===n));if(t)return v(t,{emitItem:e},"config")}},add({id:e,title:n,schema:i,binding:o,editor:r}){const a=(0,s.Ne)(i);if(a)throw new Error(a);t.addConfigPin({hostId:e,title:n,schema:i,extBinding:o,editor:r}),(0,f.AP)(t,1)},remove(e){t.removeConfigPin(e),(0,f.AP)(t,1)}}}getOutputEditor(e,t,n){const i=this;if(!t)return{get(t){const n=i.forkedFrom||i;if(!t)return x(n,"output");{const i=y(n,t,"output");if(i)return v(i,{emitItem:e})}},add(e,t,o,r,a){let l,c=!1;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,o=arguments[0].schema,c=arguments[0].editable,r=arguments[0].deletable,a=arguments[0].conMax,l=arguments[0].desc);const d=(0,s.Ne)(o);if(d)throw new Error(d);n?i.addOutputPin({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a}):i.addOutputPinInModel({hostId:e,title:t,desc:l,schema:o,editable:c,deletable:r,conMax:a})},remove(t){i.removeOutputPin(t),e.removePin("outputs",i.id,t)},setTitle(e,t){i.setOutputPinTitle(e,t)},setSchema(t,n){const o=(0,s.Ne)(n);if(o)throw new Error(o);e.updatePinSchema("outputs",i.id,t,n)}};{const n=i.getFrame(t);if(n)return{get(t){const i=b(n,t,"output");if(i)return v(i,{emitItem:e})},add(e,t,i,o){let r;"object"==typeof arguments[0]&&(e=arguments[0].id,t=arguments[0].title,i=arguments[0].schema,o=arguments[0].conMax,r=arguments[0].desc);const a=(0,s.Ne)(i);if(a)throw new Error(a);n.addOutputPin({hostId:e,title:t,desc:r,schema:i,deletable:!1,conMax:o})},remove(e){n.removeOutputPin(e)},setTitle(e,t){const i=b(n,e,"output");i&&i.deletable&&(i.title=t)},setSchema(t,i){const o=(0,s.Ne)(i);if(o)throw new Error(o);const r=b(n,t,"output");r&&e.updateFramePinSchema("outputs",r,i)}}}}blur(){super.blur(),s.tk.each((e=>e.emphasizeRecover()),this.configPins,this.timerInputPin,...this.getInputsAll(),...this.getOutputsAll()),this.frames&&this.frames.forEach((e=>e.blur()))}notifyBindings(e,t){const n=i=>{i.comAry&&i.comAry.forEach((i=>{const o=i.runtime.model.bindingsFrom;if(o){for(const n in o){if(o[n]===this.id){let o;if(t?o=i.runtime.model:i.runtime.cloned?o=i.runtime.cloned.model:console.warn(`组件[id=${i.id},namespace=${i.runtime.def.namespace}]还未创建，无法更新绑定值.`),o){const t=n.split(".");t.forEach(((n,i)=>{i===t.length-1?o[n]=e:o=o[n]}))}}}i.frames&&i.frames.forEach((e=>{n(e)}))}}))},i=this.root;i instanceof p.Z?i.frames.forEach((e=>{n(e)})):i instanceof a.g&&n(i)}_exeFrame_Input(e,t,n,i){const o=this.getFrame(e);if(o&&o._inputPins){const e=o._inputPins.find((e=>e.hostId===t));if(e&&"function"==typeof e._exe){let t=o._curScope_;if(i&&(t=t.findWithInstIdAndPath(i)),!t)throw new Error(`Scope ${i} not found.`);return e._exe(t,n)}}console.warn(`Frame input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_exeFrameInput(e,t,n,i){const o=this.getFrame(e);if(o&&o.inputPins){const r=o.inputPins.find((e=>e.hostId===t));if(r&&"function"==typeof r._exe){function s(){let e;e=i?o._allScopes_[i]:o._curScope_,r._exe(e,n)}return void(o._allScopes_?s():o.addExeTodo(s))}}console.warn(`Frame input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_setFrame_InputProxyFn(e,t,n,i){const o=this.runtime.topl.getFrame(e);if(o&&o._inputPins){const e=o._inputPins.find((e=>e.hostId===t));if(e)return void(i?(e._proxyForFn||(e._proxyForFn={}),e._proxyForFn[i]=n):e._proxyForFn=n)}console.warn(`Frame _input pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}_setFrameOutputProxyFn(e,t,n,i){const o=this.runtime.topl.getFrame(e);if(o&&o.outputPins){const e=o.outputPins.find((e=>e.hostId===t));if(e)return void(i?(e._proxyForFn||(e._proxyForFn={}),e._proxyForFn[i]=n):e._proxyForFn=n)}console.warn(`Frame output pin(hostId=${t}) in component(namespace=${this.runtime.def.namespace}) not found.`)}stopDebug(){this.frames&&this.frames.forEach((e=>{e.stopDebug()}))}clearDebugHints(){this.clearExe(),s.tk.each((e=>{e.clearDebugHints()}),...this.getInputsAll(),...this.getOutputsAll(),this.timerInputPin),this.frames&&this.frames.forEach((e=>{e.clearDebugHints()}))}setExe(e){this._exeInfo=e}clearExe(){this._exeInfo=void 0}toJSON(e){var t,n,i,o,r,s,a,l,d,u,p,f,m,h,g;if(e){const c={};if(c.id=this.id,c._type=this._type,c._autoRun=this._autoRun,(null===(t=this.configPins)||void 0===t?void 0:t.length)>0){const t=[];this.configPins.forEach((n=>{t.push(n.toJSON(e))})),c.configPins=t}if((null===(n=this.inputPinsInModel)||void 0===n?void 0:n.length)>0){const t=[];this.inputPinsInModel.forEach((n=>{t.push(n.toJSON(e))})),c.inputPinsInModel=t}if((null===(i=this.outputPinsInModel)||void 0===i?void 0:i.length)>0){const t=[];this.outputPinsInModel.forEach((n=>{t.push(n.toJSON(e))})),c.outputPinsInModel=t}if((null===(o=this.inputPins)||void 0===o?void 0:o.length)>0){const t=[];this.inputPins.forEach((n=>{t.push(n.toJSON(e))})),c.inputPins=t}if((null===(r=this.outputPins)||void 0===r?void 0:r.length)>0){const t=[];this.outputPins.forEach((n=>{t.push(n.toJSON(e))})),c.outputPins=t}if((null===(s=this.inputPinExts)||void 0===s?void 0:s.length)>0){const t=[];this.inputPinExts.forEach((n=>{t.push(n.toJSON(e))})),c.inputPinExts=t}if((null===(a=this.outputPinExts)||void 0===a?void 0:a.length)>0){const t=[];this.outputPinExts.forEach((n=>{t.push(n.toJSON(e))})),c.outputPinExts=t}if((null===(l=this.frames)||void 0===l?void 0:l.length)>0){const t=[];this.frames.forEach((n=>{t.push(n.toJSON(e))})),c.frames=t}return c}{const e={};if(e.id=this.id,e.style=(0,c.d9)(this.style),e._autoRun=this._autoRun,(null===(d=this.inputPinsInModel)||void 0===d?void 0:d.length)>0){const t=[];this.inputPinsInModel.forEach((e=>{t.push(e.toJSON())})),e.inputPinsInModel=t}if((null===(u=this.outputPinsInModel)||void 0===u?void 0:u.length)>0){const t=[];this.outputPinsInModel.forEach((e=>{t.push(e.toJSON())})),e.outputPinsInModel=t}if((null===(p=this.inputPins)||void 0===p?void 0:p.length)>0){const t=[];this.inputPins.forEach((e=>{t.push(e.toJSON())})),e.inputPins=t}if((null===(f=this.outputPins)||void 0===f?void 0:f.length)>0){const t=[];this.outputPins.forEach((e=>{t.push(e.toJSON())})),e.outputPins=t}if((null===(m=this.inputPinExts)||void 0===m?void 0:m.length)>0){const t=[];this.inputPinExts.forEach((e=>{t.push(e.toJSON())})),e.inputPinExts=t}if((null===(h=this.outputPinExts)||void 0===h?void 0:h.length)>0){const t=[];this.outputPinExts.forEach((e=>{t.push(e.toJSON())})),e.outputPinExts=t}if((null===(g=this.frames)||void 0===g?void 0:g.length)>0){const t=[];this.frames.forEach((e=>{t.push(e.toJSON())})),e.frames=t}return e}}destroy(e){super.destroy(),this.destroyAllConnections(),e||this.frames&&this.frames.forEach((e=>e.destroy())),this.parent.delete(this)}destroyAllConnections(){s.tk.each((e=>{e.conAry.map((e=>e)).forEach((e=>e.destroy()))}),this.configPins,...this.getInputsAll(),...this.getOutputsAll(),this.timerInputPin)}};function y(e,t,n){let i;if("input"===n){if(i=s.tk.find((e=>e.hostId==t),...e.getInputsAll()),!i){const n=[];if(s.tk.find((e=>{0===e.hostId.indexOf(`${t}.`)&&n.push(e)}),...e.getInputsAll()),n.length>0)return n}}else"_input"===n?i=e._inputPins.find((e=>e.hostId==t)):"output"===n?i=s.tk.find((e=>e.hostId==t),...e.getOutputsAll()):"_output"===n&&(i=e._outputPins.find((e=>e.hostId==t)));return i}function b(e,t,n){let i;return"_input"===n?i=e._inputPins.find((e=>e.hostId==t)):"input"===n?i=e.inputPins.find((e=>e.hostId==t)):"output"===n&&(i=e.outputPins.find((e=>e.hostId==t))),i}function v(e,{emitItem:t},n){if(e instanceof r.O)return{id:e.hostId,title:e.title,rels:e.rels,setTitle(t){e.title=t},get connectionCount(){var t;return null===(t=e.conAry)||void 0===t?void 0:t.length},get schema(){if(e.schema)return(0,s.I8)(e.schema)},setSchema(i){const o=(0,s.Ne)(i);if(o)throw new Error(o);if("_input"===n)e.schema=i;else{const n="input"===e.direction?"inputs":"outputs";e.parent instanceof g?t.updatePinSchema(n,e.parent.id,e.hostId,i):e.parent instanceof a.g&&t.updateFramePinSchema(n,e,i)}},setBinding(t){e.extBinding=t},remove(){e.parent instanceof g?"config"===n?e.parent.removeConfigPin(e.hostId):"_input"===n?e.parent.remove_InputPin(e.hostId):e.isDirectionOfInput()?e.parent.removeInputPin(e.hostId):e.parent.removeOutputPin(e.hostId):e.parent instanceof a.g&&("_input"===n?e.parent.remove_InputPin(e.hostId):e.isDirectionOfInput()?e.parent.removeInputPin(e):e.parent.removeOutputPin(e))},setRels(t){e.rels=t}};Array.isArray(e)}function x(e,t){const n=[];if("_input"===t)return e._inputPins&&e._inputPins.forEach((e=>{n.push({id:e.hostId,title:e.title})})),n;if("_output"===t)return e._outputPins&&e._outputPins.forEach((e=>{n.push({id:e.hostId,title:e.title})})),n;let i="input"==t?e.inputPins:e.outputPins;return i&&i.forEach((e=>{n.push({id:e.hostId,title:e.title})})),i="input"==t?e.inputPinsInModel:e.outputPinsInModel,i&&i.forEach((t=>{n.push({id:t.hostId,title:t.title,setTitle(e){t.title=e},setSchema(e){t.schema=e},get connectionCount(){var e;return null===(e=t.conAry)||void 0===e?void 0:e.length},remove(){e.removeOutputPin(t.hostId)}})})),n}m([c.jj,h("design:type",Object),h("design:paramtypes",[])],g.prototype,"model",null),m([c.jj,h("design:type",Object)],g.prototype,"error",void 0),m([c.jj,h("design:type",Object)],g.prototype,"debugProxy",void 0),g=i=m([(0,c.iV)(u.it+"topl.ToplComModel"),h("design:paramtypes",[Object,"function"==typeof(o=void 0!==d.pD&&d.pD)?o:Object,Object])],g)},39920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(83446),o=n(71442),r=n(22270),s=n(23037),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.n{set io(e){e&&(this.ioc=e)}get ioProxyForCall(){return this.forkedFrom.ioProxyForCall}setOutputPinNext(){this.forkedFrom.setOutputPinNext(),this.ioc.outputs={_next:!0}}isVisible(){return!!this.forkedFrom&&super.isVisible()}isGlobalVar(){return this.forkedFrom.isGlobalVar()}hasError(){var e;if(!this._startInDiagram&&this.diagramModel&&!this.diagramModel.isFn){let t,n=this.diagramModel.parent;const i=this.forkedFrom;if(!i)return"不存在";for(;n;){if(n===i.parent){t=!0;break}n=null===(e=n.parent)||void 0===e?void 0:e.parent}if(!t){if("function"==typeof i.isGlobalVar&&i.isGlobalVar())return;return"当前区域不可见"}}}hasInvalidIOC(e,t){if(this.ioc&&"object"==typeof this.ioc){let n=(e,t)=>({type:t,hostId:e});if(e){if("input"===t){if(!this.forkedFrom.searchPinByHostId(e,"inputs"))return n(e,"input")}else if(!this.forkedFrom.searchPinByHostId(e,"outputs"))return n(e,"output")}else{let e=this.ioc.inputs;if(e)for(let t in e)if(!this.forkedFrom.searchPinByHostId(t,"inputs"))return n(t,"input");if(e=this.ioc.outputs,e)for(let t in e)if(!this.forkedFrom.searchPinByHostId(t,"outputs"))return n(t,"output")}}}getFilteredPins(){if("all-outputs"===this.ioc)return{outputs:s.tk.merge(...this.forkedFrom.getOutputsAll())};if(this.ioc){const e={},t=this.ioc.configs;t&&this.forkedFrom.configPins&&(e.configs=this.forkedFrom.configPins.filter((e=>{if(t[e.hostId])return e})));const n=this.ioc.inputs;if(n){const t=s.tk.merge(...this.forkedFrom.getInputsAll());t&&(e.inputs=t.filter((e=>{if(n[e.hostId])return e})))}const i=this.ioc.outputs;if(i){const t=s.tk.merge(...this.forkedFrom.getOutputsAll());t&&(e.outputs=t.filter((e=>{if(i[e.hostId])return e})))}return e}}isRunning(){return!(this.runtime.hasUI()||!this.isAutoRun())||!!s.tk.find((e=>{if(e.conAry.find((e=>e.exe)))return!0}),...this.getInputsAll())}get isSingleton(){return this.forkedFrom.isSingleton}get renderKey(){return this._key||(this._key=(0,i.Vj)()),this._key}isStartInDiagram(){return this._startInDiagram}get frames(){return this.forkedFrom.frames}exist(){return!!this.parent.searchCom(this.id)}constructor(e,t,n){if(super(void 0),e)if(delete this.runtime,this.parent=e,this.forkedFrom=t,"all-outputs"===n)this.ioc=n;else if("object"==typeof n){const e={configs:{},inputs:{},outputs:{}};Array.isArray(n.configs)?n.configs.forEach((t=>e.configs[t]=!0)):"object"==typeof n.configs&&(e.configs=n.configs),Array.isArray(n.inputs)?n.inputs.forEach((t=>e.inputs[t]=!0)):"object"==typeof n.inputs&&(e.inputs=n.inputs),Array.isArray(n.outputs)?n.outputs.forEach((t=>e.outputs[t]=!0)):"object"==typeof n.outputs&&(e.outputs=n.outputs),this.ioc=e}}get title(){return this.forkedFrom.title}get runtime(){return this.forkedFrom.runtime}synchronizeConfigs(){this.forkedFrom&&u(this,"configPins")}synchronizeInputs(...e){this.forkedFrom&&((null==e?void 0:e.length)>0?e.forEach((e=>{u(this,e)})):(u(this,"inputPins"),u(this,"inputPinsInModel"),u(this,"inputPinExts")))}synchronizeOutputs(){this.forkedFrom&&(u(this,"outputPins"),u(this,"outputPinsInModel"),u(this,"outputPinExts"),u(this,"outputPinNexts"))}synchronizeRelOutputs(e,t){const n=this.forkedFrom;if(n){if(!t.getComDef(this.runtime.def))return;if(e&&e.length>0){e.forEach((e=>{if(!this.searchPinByHostId(e,"outputs")){const t=n.searchPinByHostId(e,"outputs").fork(this);this.outputPins.push(t)}}));const t=this.outputPins.filter(((t,n)=>e.includes(t.hostId)));t.length!==this.outputPins.length&&(this.outputPins=t)}else this.outputPins.length>0&&(this.outputPins=[])}}toJSON(e){const t=this.runtime,n={};n.id=this.id,n._key=this.renderKey,n.forkedFrom=this.forkedFrom.id,n.def=t.def,n.title=t.title,e||(n.model={data:(0,i.d9)(t.model.data),script:(0,i.d9)(t.model.script),style:t.model.style.clone()});const o={style:(0,i.d9)(this.style)};return this.ioc&&(o.ioc=(0,i.d9)(this.ioc)),n.topl=o,n}hadDestroyed(){if(!super.hadDestroyed())return this.forkedFrom.hadDestroyed()}destroy(e){super.destroy(!0)}};c=a([(0,i.iV)(o.it+"topl.ToplComModelForked"),l("design:paramtypes",[Object,Object,Object])],c);const d=c;function u(e,t){const n=e[t],i=e.forkedFrom[t];if(!i)return;const o=e.ioc;let r;if(t.startsWith("config")?(r=!1,"object"==typeof o&&o.configs&&(r=o.configs)):t.startsWith("input")?"all-outputs"===o?r=!1:"object"==typeof o&&o.inputs&&(r=o.inputs):"all-outputs"===o?r=!0:"object"==typeof o&&o.outputs&&(r=o.outputs),!1===r)return;if("object"==typeof r){if(Object.keys(r).length<=0)return;if(!i.find((e=>r[e.hostId])))return void(e[t].length>0&&(e[t]=[]))}const s=()=>{const t=[];return i.forEach((n=>{(!0===r||r&&r[n.hostId])&&t.push(n.fork(e))})),t};if(!0===r){if(i.length!==n.length){const o=n.filter(((e,t)=>{if(i.find((t=>t.id==e.id)))return e}));i.forEach((t=>{o.find((e=>e.id==t.id))||o.push(t.fork(e))})),e[t]=o}}else if(n.length<=0)e[t]=s();else{n.find(((e,t)=>{if(!i.find((t=>e.forkedFrom===t)))return!0}))&&(e[t]=s())}}},98298:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(8209),o=n(90359),r=n(90359);function s(e){return r.createElement(a,{comContext:e})}function a({comContext:e}){const{model:t,comDef:n}=e,[,s]=(0,o.useState)(0),a=(0,o.useCallback)((e=>{t.addConfigPin({hostId:e.id,title:e.title,schema:e.schema}),s(Math.random)}),[]),l=(0,o.useCallback)((e=>{t.removeConfigPin(e.id),s(Math.random)}),[]),c=n.configs;if(c){const e=t.configPins;return r.createElement("div",{className:i.Z.cfgs},r.createElement("div",null,"配置项"),c.map((t=>{const n=!!e.find((e=>e.hostId===t.id));return r.createElement("div",{key:t.id,className:i.Z.item},r.createElement("input",{type:"checkbox",checked:n,value:"",onChange:e=>{e.target.checked?a(t):l(t)}}),t.title)})))}return null}},47837:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(34549),o=n(83446),r=n(90359),s=n(71442),a=n(38109),l=n(90359);function c({type:e,pins:t,hideTitle:n,viewContext:r}){const{emitComponent:s,context:a}=r;function c(e){s.focus(e),e.hint=void 0}const u=(0,o.vc)((()=>{const e=[];return t.def&&t.def.forEach(((t,n)=>{e.push(d(r,t,c))})),t.inModel&&t.inModel.forEach(((t,n)=>{e.push(d(r,t,c))})),t.ext&&t.ext.forEach(((t,n)=>{e.push(d(r,t,c))})),e.length<=0&&e.push(l.createElement("div",{key:"empty",className:i.Z.empty},"[无]")),e})),p="config"===e?"配置项":"input"===e?"输入项":"输出项";return l.createElement("div",{className:`${i.Z.main} ${"config"===e?i.Z.config:"input"===e?i.Z.input:i.Z.output}`},n?null:l.createElement("div",{style:{color:"#777"}},p),u)}function d(e,t,n){const{context:o,emitComponent:c}=e;let d;const u=o.isDebugMode();u&&(d=(t.forkedFrom||t).exe);const p=t.getSchemaDesc(),f=(0,s.a0)(p.type);return l.createElement(r.Fragment,{key:t.id},l.createElement("div",{className:i.Z.title,onMouseEnter:e=>t.hint=!0,onMouseLeave:e=>t.hint=void 0,onClick:e=>n(t)},l.createElement("i",{style:{borderColor:f.strokeColor,backgroundColor:f.fillColor}}),l.createElement("span",{className:i.Z.tt},t.title)),l.createElement("div",{className:i.Z.type},l.createElement("div",{className:i.Z.desc},l.createElement("span",{className:i.Z.prop},"类型"),t._schemaFollow?l.createElement("span",{className:i.Z.label},"(跟随连接)"):null),l.createElement("div",{className:i.Z.schema},l.createElement(a.Z,{key:t.schema.type,options:{readOnly:!t.editable||u},value:{get:()=>t.schema,set(e){c.updatePinSchema(t.isDirectionOfInput()?"inputs":"outputs",t.parent.id,t.hostId,e)}}}))),d?l.createElement("div",{className:i.Z.exeVal},l.createElement("div",null,"当前值"),l.createElement("textarea",{value:JSON.stringify(d.val,null,4),readOnly:!0})):null)}},3005:(e,t,n)=>{n.d(t,{U:()=>d,e:()=>u});var i=n(79127),o=n(41460),r=n(8821),s=n(47837),a=n(98298),l=n(42524),c=n(90359);function d(e,t){var n;const{model:d,comDef:p,viewContext:f}=e,{context:m,emitLogs:h,emitModule:g,emitComponent:y,emitSnap:b,emitScenes:v}=f,x=d.runtime;let w=[];const E=u({context:m,model:d,emitComponent:y,emitSnap:b,emitLogs:h}),A=(0,o.V)(e,E,{reFocus:t,onValueChanged(e){}}),_=m.isDebugMode();let C;if((null==A?void 0:A.length)>0&&A[0]instanceof i.Af.Category)w=A,C=A[0];else{C=new i.Af.Category({title:x.title||p.title,setTitle(e){const t=b.start("itemTitle",{target:d});x.title=e,d.ioProxy&&(d.ioProxy.setTitle(e),d.ioProxy.isRootFrame()&&v.setTitle(d.ioProxy.id,e)),t.commit()}}),w.push(C);const e=new i.Af.Group;if(C.addGroup(e),e.addItem((0,o.B)(E,{title:"控制执行",type:"switch",description:"有信号到达时才执行当前节点",value:{get:()=>d.timer,set(e,t){d.timer=t,t?d.setTimerInputPin():d.removeTimerInputPin(),setTimeout((()=>{(0,l.AP)(d,f.scale,!1)}))}}})),null==A?void 0:A.length){const e=new i.Af.Group;e.addItems(A),C.addGroup(e)}}if(_){if(d.isVar()&&x.cloned){const e=new i.Af.Group;C.addGroup(e),e.addItem((0,o.B)(E,{title:"当前值",type:"textarea",options:{readonly:!0},value:{get(){const e=x.cloned.model.data;let t=e.val;return void 0===t&&(t=e.initValue),JSON.stringify(t,null,4)}}}))}const t=new i.Af.Group;C.addGroup(t),(null===(n=d.configPins)||void 0===n?void 0:n.length)>0&&t.addItem(new i.Af.RenderItem("配置项",(function(){return c.createElement(s.Z,{type:"config",pins:{def:d.configPins},viewContext:f})}))),d.getAllInputsLength()>0&&t.addItem(new i.Af.RenderItem("输入项",(function(){return c.createElement(s.Z,{type:"input",pins:{def:d.inputPins,inModel:d.inputPinsInModel,ext:d.inputPinExts},viewContext:f})}))),d.getAllOutputsLength()>0&&t.addItem(new i.Af.RenderItem("输出项",(function(){return c.createElement(s.Z,{type:"output",pins:{def:d.outputPins,inModel:d.outputPinsInModel,ext:d.outputPinExts},viewContext:f})}))),t.addItem((0,a.Z)(e))}else{if(d.isFx()){const e=d.ioProxy.inputPins.filter((e=>e.isTypeOfConfig()));if((null==e?void 0:e.length)>0){const t=C.groups[C.groups.length-1];e.forEach((e=>{e.editor&&t.addItem((0,o.B)(E,{title:e.title,type:e.editor.type,value:{get({data:t}){if(t.configs)return t.configs[e.hostId]},set({data:t},n){t.configs||(t.configs={}),t.configs[e.hostId]=n}}}))}))}}if(d.isVar()){C.groups[C.groups.length-1].addItem((0,o.B)(E,{title:"初始值",type:"_schemaValue",desc:"变量最初的取值",options:({outputs:e})=>({schema:e.get("return").schema}),value:{get:({data:e})=>e.initValue,set({data:e},t){e.initValue=t}}}))}}const I=new i.Af.Group;return I.fixedAt="bottom",C.addGroup(I),x.def.namespace===i.Vm.coms.module&&I.addItem((0,o.B)(E,{title:"打开",type:"button",value:{set(e,t){const n=d.frames?d.frames[0]:void 0;g.load({instId:d.id,title:x.title||p.title,frame:n}),y.blur()}}})),I.addItem((0,r.Z)(e)),w}function u({context:e,model:t,emitComponent:n,emitSnap:i,emitLogs:o}){return{model:t,emitSnap:i,emitLogs:o,title:t.runtime.title,setTitle(e){"string"==typeof e&&""!==e.trim()&&(t.runtime.title=e.trim())},get data(){return t.data},get input(){return this.inputs},get output(){return this.outputs},inputs:t.getInputEditor(n),outputs:t.getOutputEditor(n),configs:t.getConfigEditor(n),isAutoRun:()=>t._autoRun,setAutoRun(e){"boolean"==typeof e&&t.setAutoRun(e)},setIcon(e){"string"==typeof e&&(t.icon=e)},setDesc(e){t.description="string"==typeof e?e:void 0},getChildByName(e){let n;const i=t.frames;if(i&&i.find((t=>{if(n=t.comAry.find((t=>t.name===e)),n)return!0})),!n){const i=t.parent;i&&(n=i.comAry.find((t=>t.name===e)))}if(n)return{id:n.id,title:n.title,def:n.runtime.def,data:n.data}},get env(){var t;return null===(t=e.configs.com)||void 0===t?void 0:t.env},get style(){return t.runtime.model.style},get slots(){return{get(e){if(e){const i=t.getFrame(e);if(i)return{id:i.id,title:i.title,get inputs(){return t.getInputEditor(n,e)},get outputs(){return t.getOutputEditor(n,e)}}}}}},cancelError(){t._exeInfo=void 0}}}},8821:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(47977),o=n(79127),r=n(90359),s=n(90359);function a(e){return s.createElement(l,{comContext:e})}function l({comContext:e}){const{model:t,comDef:n,viewContext:a}=e,{emitComponent:l}=a,c=t.runtime.upgrade,[d,u]=(0,r.useState)(!1);return s.createElement("div",{className:`${i.Z.comInfo}`},s.createElement("div",{className:i.Z.items},s.createElement("span",{className:i.Z.author},"作者 : ",n.author),s.createElement("span",{className:i.Z.version},"版本号 : ",t.runtime.def.version),c&&!d?s.createElement("div",{className:`${i.Z.upgrade}`},s.createElement("div",null,o.PJ.alert,s.createElement("span",null,"发现新版本",c.version," ")),s.createElement("div",null,s.createElement("button",{onClick:()=>{l.upgrade(t),u(t.runtime.def.version==n.version)}},"升级"),s.createElement("button",{onClick:()=>{l.upgrade(t,"all"),u(t.runtime.def.version==n.version)}},"升级全部"))):null))}},42524:(e,t,n)=>{n.d(t,{AP:()=>a,pS:()=>l});var i=n(22270),o=n(44780),r=n(23037),s=n(83446);const a=function(e,t,n){Promise.resolve().then((()=>{c(e,t,n)}))},l=function(e,t,n){requestAnimationFrame((()=>{c(e,t,n)}))};function c(e,t,n){if(e instanceof i.n){let i;if(!e.diagramModel||!e.diagramModel.$el)return;i=(0,s.dL)(e.diagramModel.$el),e.timerInputPin&&d(i,e.timerInputPin,t,n),e.configPins&&e.configPins.forEach((e=>{d(i,e,t,n)})),r.tk.each((e=>{d(i,e,t,n)}),...e.getInputsAll()),r.tk.each((e=>{u(i,e,t,n)}),...e.getOutputsAll())}else if(e instanceof o.g){if(!e.diagramAry[0].$el)return;const i=(0,s.dL)(e.diagramAry[0].$el);r.tk.each((e=>{u(i,e,t,n)}),e.inputPins),r.tk.each((e=>{d(i,e,t,n)}),e.outputPins)}}function d(e,t,n,i){if(!t.hadDestroyed()&&!t.isDisabled()){const o=t.$el;if(!o)return;const r=(0,s.dL)(o);if(!r)return;let a;a=t.isTypeOfConfig()?{temp:i,x:Math.round((r.x-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()}:{temp:i,x:Math.round((r.x-o.width()/2-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()},t.conAry.forEach((e=>{e.finishPo=a}))}}function u(e,t,n,i){if(!t.hadDestroyed()&&!t.isDisabled()){const o=t.$el,r=(0,s.dL)(o);if(r){const s={temp:i,x:Math.round((r.x+o.width()/2-e.x)/n)+.5,y:Math.round((r.y-e.y)/n)+.5,j:t.getJoinerWidth()};t.conAry.forEach((e=>{e.startPo=s}))}}}},27965:(e,t,n)=>{n.d(t,{P:()=>c});n(88047);var i=n(83446),o=(n(18132),n(40741)),r=n(71442),s=(n(90359),n(46383)),a=(n(90359),function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}),l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends o.Z{constructor(e,t,n){super(),e&&(this.conModel=e,this.content=t,this.po=n,this.refreshRatio())}refreshRatio(){let e=0,t=0;const n=10,{x:i,y:o}=this.po;(0,s.tF)(this.conModel.points,((r,{x:s,y:a},l)=>{"h"===r?(Math.abs(o-a)<=n&&(Math.min(s,l.x,i)!==o&&Math.max(s,l.x,i)!==i||Math.abs(Math.min(s,l.x)-i)<=n||Math.abs(Math.max(s,l.x)-i)<=n)&&(t=e+i-Math.min(s,l.x)),e+=Math.abs(s-l.x)):(Math.abs(i-s)<=n&&(Math.min(a,l.y,o)!==o&&Math.max(a,l.y,o)!==o||Math.abs(Math.min(a,l.y)-o)<=n||Math.abs(Math.max(a,l.y)-o)<=n)&&(t=e+o-Math.min(a,l.y)),e+=Math.abs(a-l.y))}));let r=t/this.conModel.length;(r>=1||0==r)&&(r=.5),this.ratio=r}focus(){this.state.focus()}blur(){this.state.enable()}};c=a([(0,i.iV)(r.it+"topl.con.CommentModel"),l("design:paramtypes",[Object,String,Object])],c)},5962:(e,t,n)=>{n.d(t,{o:()=>w});var i,o,r,s,a=n(83446),l=n(40741),c=n(14509),d=n(44780),u=n(33029),p=n(5583),f=n(71442),m=n(25067),h=n(46383),g=n(27965),y=n(22270),b=n(56258),v=(n(23037),function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}),x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let w=i=class extends l.Z{get startPinParentKey(){return this.startPin.parent._key}get finishPinParentKey(){return this.finishPin.parent._key}constructor(e){if(super(),this._type=c.t_.CONNECTION,this._ing=!1,this.commentAry=[],e){const{startPin:t,finishPin:n,_startPo:i,_finishPo:o,errorInfo:r}=e;this.startPin=t,this.finishPin=n,this.errorInfo=r,this._startPo=i,this._finishPo=o}}activeBreakPoint(){this.isBreakpoint&&(this._breakpointActive=!0)}disableBreakPoint(){this.isBreakpoint&&(this._breakpointActive=!1)}emphasize(){this.opacity=1}emphasizeRecover(){this.opacity=void 0}get startPo(){return this._startPo}set startPo(e){(0,h.ex)(this._startPo,e)||(this._startPo=e)}get finishPo(){return this._finishPo}set finishPo(e){(0,h.ex)(this._finishPo,e)||(this._finishPo=e)}connecting(){this._ing=!0}connectFinish(){this._ing=!1}get conSelf(){var e,t;return(null===(e=this.startPin)||void 0===e?void 0:e.parent)===(null===(t=this.finishPin)||void 0===t?void 0:t.parent)}get titlePo(){if(this._startPo&&this._finishPo)return{x:Math.min(this._finishPo.x,this._startPo.x)+Math.abs(this._finishPo.x-this._startPo.x)/2,y:Math.min(this._finishPo.y,this._startPo.y)+Math.abs(this._finishPo.y-this._startPo.y)/2}}isVisible(){const e=this.startPin.parent;return!(e instanceof y.n)||(!!e.isVar()||this.startPin.parent.isVisible())}static create(e,t,n,o){const r=new i;return e&&(r.startPin=e,n&&(e instanceof u.O?e.addCon(r):e.to=r)),t&&(r.startPo=Object.assign({j:10},t)),n&&(r.finishPin=n,n instanceof u.O?n.addCon(r):n.from=r),o&&(r.finishPo=Object.assign({j:10},o)),e&&n&&(r.title=`从 ${e.title} 到 ${n.title} 的连接`),r}enable(){this.state.enable()}disable(){this.state.disable()}focus(){this.state.isDisabled()||this.state.isFocused()||(this.state.focus(),this.startPin.focus(!0),this.finishPin.focus(!0))}blur(){this.state.isFocused()&&(super.blur(),this.startPin.blur(),this.finishPin.blur(),this.commentAry&&this.commentAry.forEach((e=>{e.blur()})))}addComment(e,{x:t,y:n}){const i=new g.P(this,e,{x:t,y:n});return this.commentAry.push(i),i.focus(),i}removeComment(){this.commentAry=this.commentAry.filter((e=>!e.state.isFocused()))}reset(){let e=(0,h.Nt)(this._startPo,this._finishPo,"z",this.conSelf);this.refactorPoints(e)}clearDebugHints(){this.exe=void 0,this._breakpointActive=!1,this.exeScope=void 0;const{startPin:e,finishPin:t}=this;e instanceof b.default&&e.clearDebugHints(),t instanceof b.default&&t.clearDebugHints()}calControllers(){const e=[],t=this.points;return t.forEach(((n,i)=>{if(i>1&&i<t.length-1){let o=t[i-1];o.x==n.x?e.push({type:"v",endPoints:[o,n],allPoints:t}):e.push({type:"h",endPoints:[o,n],allPoints:t})}})),(0,h.Q0)(e),e}refreshComments(){if(this.commentAry.length>0){const e=this.length;let t,n=0;(0,h.tF)(this.points,((i,{x:o,y:r},s)=>{"h"===i?(t=Math.abs(o-s.x),this.commentAry.forEach((i=>{const a=e*i.ratio;if(n<a&&a<n+t){let e;e=o<s.x?Math.max(o,s.x)-(a-n):Math.min(o,s.x)+(a-n),i.po={x:e,y:r}}})),n+=t):(t=Math.abs(r-s.y),this.commentAry.forEach((i=>{const a=e*i.ratio;if(n<a&&a<n+t){let e;e=r<s.y?Math.max(r,s.y)-(a-n):Math.min(r,s.y)+(a-n),i.po={x:o,y:e}}})),n+=t)}))}}refactorPoints(e){e=e.map((e=>(0,h.Vw)(e,!0)));let t=0,n=function(e){let t=[];return e.length,e.length<=3?(e=e.map(((t,n)=>0==n||n==e.length-1?(0,h.Vw)(t):t)))[0].y==e[e.length-1].y?[e[0],e[e.length-1]]:e:e.length<=4&&Math.abs(e[0].x-e[e.length-1].x)<=15?e.map(((t,n)=>0==n||n==e.length-1?(0,h.Vw)(t):t)):(e.forEach(((e,n)=>{if(0==n)return void t.push(e);const i=t[t.length-1];let o=i.x-e.x,r=i.y-e.y;0==o&&0==r||t.push(e)})),t)}(e);n.forEach(((e,i)=>{if(i>0){let o=n[i-1];o.x==e.x?t+=Math.abs(o.y-e.y):t+=Math.abs(o.x-e.x)}})),this.length=t,this.points=n}toJSON(e){const t=this.startPin,n=this.finishPin;if(e){let e,i;e=t.parent instanceof d.g?"frame":t.parent instanceof y.n?"com":"diagram",i=n.parent instanceof d.g?"frame":n.parent instanceof y.n?"com":"diagram";let o,r={id:t.id,hostId:t.hostId,parentType:e,parentId:t.parent.id};return o="diagram"===i?{id:n.id,hostId:n.hostId,parentType:"frame",parentId:n.parent.parent.id}:{id:n.id,hostId:n.hostId,parentType:i,parentId:n.parent.id},{id:this.id,_type:this._type,title:this.title,parent:{id:this.parent.id},startPinParentKey:this.startPinParentKey,finishPinParentKey:this.finishPinParentKey,startPin:r,finishPin:o}}{let e;if(t instanceof p.U){const n=t.parent.parent;e={type:"frame",id:t.parent.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}else if(t.parent instanceof y.n){const n=t.parent;e={type:"com",id:n.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}else{const n=t.parent.parent;e={type:"frame",id:t.parent.id,comId:n.id,_key:n._key,comNS:n.runtime.def.namespace}}const i={id:t.id,hostId:t.hostId,title:t.title,type:this.startPin instanceof u.O?"pin":"joint",parent:e};let o;if(n instanceof p.U){const e=n.parent.parent;o={type:"frame",id:n.parent.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}else if(n.parent instanceof y.n){const e=n.parent;o={type:"com",id:e.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}else{const e=n.parent.parent;o={type:"frame",id:n.parent.id,comId:e.id,_key:e._key,comNS:e.runtime.def.namespace}}return{from:i,to:{id:n.id,hostId:n.hostId,title:n.title,type:n instanceof u.O?"pin":"joint",parent:o},parent:{id:this.parent.id},errorInfo:(0,a.d9)(this.errorInfo),_points:(0,a.d9)(this._points),_startPo:(0,a.d9)(this._startPo),_finishPo:(0,a.d9)(this._finishPo)}}}destroy(){super.destroy(),this.parent.delete(this),this.startPin instanceof u.O&&this.startPin.deleteCon(this),this.finishPin instanceof u.O&&this.finishPin.deleteCon(this)}};v([a.jj,x("design:type",Object)],w.prototype,"opacity",void 0),v([a.jj,x("design:type","function"==typeof(o=void 0!==m._&&m._)?o:Object)],w.prototype,"_startPo",void 0),v([a.jj,x("design:type","function"==typeof(r=void 0!==m._&&m._)?r:Object)],w.prototype,"_finishPo",void 0),v([a.jj,x("design:type",Boolean)],w.prototype,"_breakpointActive",void 0),v([a.jj,x("design:type",Object)],w.prototype,"exe",void 0),v([a.jj,x("design:type","function"==typeof(s=void 0!==c.uo&&c.uo)?s:Object)],w.prototype,"exeScope",void 0),v([a.jj,x("design:type",Array)],w.prototype,"exeTodo",void 0),w=i=v([(0,a.iV)(f.it+"topl.ConModel"),x("design:paramtypes",[Object])],w)},25067:()=>{},46383:(e,t,n)=>{n.d(t,{Nt:()=>l,Q0:()=>a,Vw:()=>o,ex:()=>s,tF:()=>r});var i=n(23037);function o(e,t){return Object.assign({},e,t?null:{id:(0,i.Vj)(),fixed:!1})}function r(e,t){let n;e.forEach((e=>{if(!n)return void(n=e);const{x:i,y:o,d:r}=e;i===n.x&&o===n.y||(o===n.y?t("h",e,n):i===n.x&&t("v",e,n),n=e)}))}function s(e,t){return!e&&!t||!(!e||!t||e.x!==t.x||e.y!==t.y)}function a(e){e.forEach((e=>{let t=e.endPoints;e.x=t[0].x+(t[1].x-t[0].x)/2,e.y=t[0].y+(t[1].y-t[0].y)/2}))}function l(e,t,n="z",o){if(!e||!t)return;e=Object.assign({j:0},e);let r=(t=Object.assign({j:0},t)).x-e.x,s=t.y-e.y,a=Math.abs(t.x-e.x),l=Math.abs(t.y-e.y),c=o?Math.max(Math.floor(l/2),50):Math.floor(l/2),d=[];if(r>e.j+t.j){let i=(a-e.j-t.j)/2;s>0?"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j+i,y:e.y},{x:e.x+e.j+i,y:e.y+l},{x:t.x-t.j,y:e.y+l},{x:t.x,y:e.y+l}]:"-|"===n?d=[{x:e.x,y:e.y},{x:t.x,y:e.y},{x:t.x,y:e.y+l}]:"|-"===n&&(d=[{x:e.x,y:e.y},{x:e.x,y:e.y+l},{x:t.x-t.j,y:e.y+l},{x:t.x,y:e.y+l}]):"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j+i,y:e.y},{x:e.x+e.j+i,y:e.y-l},{x:t.x-t.j,y:e.y-l},{x:t.x,y:e.y-l}]:"-|"===n?d=[{x:e.x,y:e.y},{x:t.x-30,y:e.y},{x:t.x-30,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]:"|-"===n&&(d=[{x:e.x,y:e.y},{x:e.x,y:e.y-l},{x:t.x-t.j,y:e.y-l},{x:t.x,y:e.y-l}])}else if(r>0){let i=e.j+t.j-r;d=s>0?"-|"===n?[{x:e.x,y:e.y},{x:t.x,y:e.y},{x:t.x,y:e.y+l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y+c},{x:e.x+e.j-i,y:e.y+c},{x:e.x+e.j-i,y:e.y+l},{x:t.x,y:e.y+l}]:"-|"===n?[{x:e.x,y:e.y},{x:t.x-30,y:e.y},{x:t.x-30,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-c},{x:e.x+e.j-i,y:e.y-c},{x:e.x+e.j-i,y:e.y-l},{x:t.x,y:e.y-l}]}else a+=e.j+t.j-1,s>0?d="-|"===n?[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-20},{x:t.x,y:e.y-20},{x:t.x,y:e.y+l}]:[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y+c},{x:e.x+e.j-a-1,y:e.y+c},{x:e.x+e.j-a-1,y:e.y+l},{x:t.x,y:e.y+l}]:"z"===n?d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-c},{x:e.x+e.j-a-1,y:e.y-c},{x:e.x+e.j-a-1,y:e.y-l},{x:t.x,y:e.y-l}]:"-|"===n&&(d=[{x:e.x,y:e.y},{x:e.x+e.j,y:e.y},{x:e.x+e.j,y:e.y-l-50},{x:t.x,y:e.y-l-50},{x:t.x,y:e.y-l}]);let u=(0,i.Vj)();return d=d.filter(((e,t)=>{let n;if(t>0){let i=d[t-1];e.x===i.x&&e.y===i.y||(n=e)}else n=e;return n&&(n.id=u+t),n})),d}},35401:(e,t,n)=>{n.d(t,{DB:()=>r,Dd:()=>o,Dk:()=>i});const i=0,o=10,r=[{hostId:"show",title:"显示",schema:{type:"any"}},{hostId:"hide",title:"隐藏",schema:{type:"any"}},{hostId:"showOrHide",title:"显示/隐藏",schema:{type:"any"}}]},71442:(e,t,n)=>{n.d(t,{a0:()=>l,it:()=>r,jY:()=>o,nM:()=>a,tD:()=>s});var i=n(79127);const o="topl",r="xg.desn.designer.stageview.",s=":root",a=0,l=function(e){return i.NE.find((t=>t.type==(e||"unknown")))}},17604:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(35444),o=n(83446),r=n(90359),s=n.n(r),a=n(79127),l=n(23037),c=n(15942),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class u{}function p({schema:e,updateSchema:t}){const n=(0,o.mA)(u,(t=>{t({schema:e})}),[e]),p=(0,o.mA)(a.cA.Message,{expectTo:"parents"}),f=(0,o.mA)(a.cA.Views,{expectTo:"parents"}),m=(0,o.N7)(a.zz,{from:"parents"}),h=(0,r.useCallback)((()=>{f.popView("编辑类型..",(({close:e})=>s().createElement(c.Z,{schema:n.schema,updateSchema:e=>{n.schema=e,t(e)},close:e})),{width:450,beforeEditView:!0})}),[]),g=(0,r.useCallback)((()=>d(this,void 0,void 0,(function*(){try{(0,l.JG)(JSON.stringify(n.schema)),p.info("已复制到剪切板")}catch(e){console.error("Failed to copy: ",e)}}))),[]);return s().createElement("div",{className:i.Z.schema},s().createElement(b,{val:n.schema,xpath:"",root:!0}),t&&!m.isDebugMode()?s().createElement("button",{className:i.Z.btnEdit,onClick:h},"编辑"):s().createElement("button",{className:i.Z.btnCopy,onClick:g},"复制"))}function f({items:e}){return e?s().createElement(b,{val:e}):null}function m({items:e,xpath:t}){if(e){(0,r.useCallback)((()=>{}),[]);return s().createElement(s().Fragment,null,e.map(((e,n)=>{const i=void 0!==t?`${t}/${n}`:void 0;return s().createElement(b,{key:n,val:e,xpath:i})})))}}function h({properties:e,xpath:t}){if(e)return s().createElement(s().Fragment,null,Object.keys(e).map((n=>{const i=void 0!==t?`${t}/${n}`:void 0;return s().createElement(b,{key:n,val:e[n],xpath:i,keyName:n})})))}function g({properties:e,xpath:t}){if(e&&e.key&&e.value)return s().createElement(s().Fragment,null,s().createElement(b,{val:e.key,xpath:t,keyName:"索引"}),s().createElement(b,{val:e.value,xpath:t,keyName:"值"}))}function y({items:e,xpath:t}){if(e){const t=(0,r.useCallback)((()=>{}),[]);return e.map(((e,n)=>{const o=v(e.type);let r;return r="string"===e.type?`"${e.value}"`:e.value,s().createElement("div",{key:n,className:`${i.Z.item}`},s().createElement("div",{className:i.Z.keyName,onMouseDown:t},r,s().createElement("span",{className:i.Z.typeName,style:{color:o.strokeColor}},"(",(0,l.XQ)(e),")")))}))}}function b({val:e,keyName:t,xpath:n,root:o}){let a;"array"===e.type?a=s().createElement(f,{items:e.items}):"tuple"===e.type?a=s().createElement(m,{items:e.items}):"object"===e.type?a=s().createElement(h,{properties:e.properties,xpath:n}):"indexObject"===e.type?a=s().createElement(g,{properties:e.properties,xpath:n}):"enum"===e.type&&(a=s().createElement(y,{items:e.items,xpath:n}));const c=(0,r.useCallback)((()=>{}),[]),d=v(e.type);if(d)return s().createElement("div",{key:t,className:`${i.Z.item} ${o?i.Z.rootItem:""}`},s().createElement("div",{className:i.Z.keyName,onMouseDown:c},t,s().createElement("span",{className:i.Z.typeName,style:{color:d.strokeColor}},"(",(0,l.XQ)(e),")")),a)}function v(e){return a.NE.find((t=>t.type==(e||"unknown")))}},97755:(e,t,n)=>{n.d(t,{E:()=>o});var i=n(90359);const o=i.createElement("svg",{viewBox:"0 0 1027 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},i.createElement("path",{d:"M321.828571 226.742857c-14.628571-14.628571-36.571429-14.628571-51.2 0L7.314286 482.742857c-14.628571 14.628571-14.628571 36.571429 0 51.2l256 256c14.628571 14.628571 36.571429 14.628571 51.2 0 14.628571-14.628571 14.628571-36.571429 0-51.2L87.771429 512l234.057142-234.057143c7.314286-14.628571 7.314286-36.571429 0-51.2z m263.314286 0c-14.628571 0-36.571429 7.314286-43.885714 29.257143l-131.657143 497.371429c-7.314286 21.942857 7.314286 36.571429 29.257143 43.885714s36.571429-7.314286 43.885714-29.257143l131.657143-497.371429c7.314286-14.628571-7.314286-36.571429-29.257143-43.885714z m431.542857 256l-256-256c-14.628571-14.628571-36.571429-14.628571-51.2 0-14.628571 14.628571-14.628571 36.571429 0 51.2L936.228571 512l-234.057142 234.057143c-14.628571 14.628571-14.628571 36.571429 0 51.2 14.628571 14.628571 36.571429 14.628571 51.2 0l256-256c14.628571-14.628571 14.628571-43.885714 7.314285-58.514286z",fill:""}))},74271:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(83446),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class s{constructor(){this.editMode="graph"}switchEditMode(){this.editMode="graph"===this.editMode?"json":"graph"}}o([i.oQ,r("design:type",Object)],s.prototype,"schema",void 0)},66365:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n.n(i),r=n(16805);function s({items:e}){return e?o().createElement(r.Z,{val:e}):null}},86384:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(90359),o=n.n(i),r=n(19885),s=n(79127);function a({items:e,xpath:t}){const[n,a]=(0,i.useState)({err:void 0,item:void 0}),l=(0,i.useCallback)(((e,t)=>{a({err:e,item:t})}),[]),c=(0,i.useCallback)(((e,t)=>{t.type=e.currentTarget.value,l()}),[]),d=(0,i.useCallback)(((t,n)=>{const i=t.currentTarget.value;""!==i?e.find((e=>{if(e!==n&&e.value===i)return!0}))?l("枚举值重复定义",n):i!==n.value&&("number"!==n.type||i.match(/^[1-9][0-9]*$/gi)?(n.value=i,l()):l("枚举值需要为数字",n)):l("枚举值不可为空",n)}),[]),u=(0,i.useCallback)((t=>{e.splice(t,1),l()}),[n]),p=(0,i.useCallback)((()=>{n.err||(e.push({type:"string",value:""}),l())}),[n]);return o().createElement(o().Fragment,null,e&&e.map(((e,t)=>{const i=n.item===e&&n.err;return o().createElement("div",{key:t,className:`${r.Z.item}`},o().createElement("div",{className:r.Z.keyName},o().createElement("input",{className:i?r.Z.errInput:"",type:"text",defaultValue:e.value,onChange:void 0,onBlur:t=>d(t,e),placeholder:"请输入枚举值",ref:t=>{t&&""===e.value&&t.focus()}}),o().createElement("span",{className:r.Z.typeName},o().createElement("select",{value:e.type,onChange:t=>c(t,e)},o().createElement("option",{label:"字符",value:"string"}),o().createElement("option",{label:"数字",value:"number"}))),o().createElement("span",{className:r.Z.btnIcon,onClick:e=>u(t)},s.PJ.garbage),i?o().createElement("div",{className:r.Z.err},n.err):null))})),o().createElement("div",{className:`${r.Z.adder}`,onClick:p},"+"))}},41420:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n.n(i),r=n(16805);function s({properties:e,xpath:t}){return o().createElement(o().Fragment,null,o().createElement(r.Z,{keyName:"key",properties:e,keyReadonly:!0,val:e.key,xpath:`${t}/key`}),o().createElement(r.Z,{keyName:"value",properties:e,keyReadonly:!0,val:e.value,xpath:`${t}/value`}))}},16805:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(90359),o=n.n(i),r=n(83446),s=n(19885),a=n(79127),l=n(75643),c=n(74271),d=n(56102);function u({val:e,keyName:t,keyReadonly:n,properties:u,xpath:p,root:f}){var m;const h=(0,r.N7)(c.Z,{from:"parents"}),[g,y]=(0,i.useState)({key:t,type:e.type,err:void 0}),b=(0,i.useRef)(),v=(0,i.useCallback)((e=>{y(Object.assign({},g,e))}),[g]),x=(0,i.useCallback)((t=>{const n=t.currentTarget.value;e.type=n,v({key:g.key,type:n})}),[g]),w=(0,i.useCallback)((()=>{const e=b.current;if(e){const n=e.value;if(!u[g.key])return;""!==n?n!==g.key&&(n.match(/^[\u4E00-\u9FA5a-zA-Z_]+[\u4E00-\u9FA50-9a-zA-Z_]*$/)?u&&(u[n]?v({err:"字段名重复定义"}):(u[n]=u[t],delete u[t],v({key:n,type:g.type,err:void 0}))):v({err:"字段名命名规则:以字母开头，字母、数字、下划线的组合"})):v({err:"字段名不可为空"})}}),[g]);(0,r.vc)((()=>{h.haveErr&&w()}));const E=(0,i.useCallback)((()=>{requestAnimationFrame((()=>{delete u[g.key],y(null)}))}),[g]);if(null===g)return;const A=(0,d.v)({val:e,xpath:p});return o().createElement("div",{key:g.key,className:`${s.Z.item} ${f?s.Z.rootItem:""}`},o().createElement("div",{className:s.Z.keyName},void 0!==g.key?o().createElement("input",{key:g.key,className:g.err?s.Z.errInput:"",type:"text",defaultValue:g.key,readOnly:n,onChange:void 0,onBlur:w,placeholder:"请输入字段名称",ref:e=>{e&&(b.current=e,""===g.key&&e.focus())}}):null,o().createElement("span",{className:s.Z.typeName},o().createElement("select",{value:g.type,onChange:x},o().createElement(o().Fragment,null,l.Z.map((e=>o().createElement("option",{key:e.value,label:e.label,value:e.value}))),(null===(m=g.type)||void 0===m?void 0:m.match(/any|unknown/g))?o().createElement("option",{key:g.type,value:g.type,label:"选择有效类型"}):null))),u?o().createElement("span",{className:s.Z.btnIcon,onClick:E},a.PJ.garbage):null,g.err?o().createElement("div",{className:s.Z.err},g.err):null),A)}},22576:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(90359),o=n.n(i),r=n(19885),s=n(16805);function a({properties:e,xpath:t}){const[n,a]=(0,i.useState)(!0),l=(0,i.useCallback)((()=>{e[""]={type:"string"},a(!n)}),[n]);return o().createElement(o().Fragment,null,e&&Object.keys(e).map(((n,i)=>{const r=void 0!==t?`${t}/${n}`:void 0;return o().createElement(s.Z,{key:""===n?Math.random():`${n}-${i}`,keyName:n,properties:e,val:e[n],xpath:r})})),o().createElement("div",{className:`${r.Z.adder}`,onClick:l},"+"))}},1180:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(90359),o=n.n(i),r=n(19885),s=n(75643),a=n(79127),l=n(56102);function c({items:e,xpath:t}){const[n,s]=(0,i.useState)(!0),a=(0,i.useCallback)((()=>{e.push({type:"string"}),s(!n)}),[n]);return o().createElement(o().Fragment,null,e&&e.map(((n,i)=>{const r=void 0!==t?`${t}/${i}`:void 0;return o().createElement(d,{key:i,item:n,remove:t=>{const n=e.indexOf(t);e.splice(n,1)},xpath:r})})),o().createElement("div",{className:`${r.Z.adder}`,onClick:a},"+"))}function d({item:e,remove:t,xpath:n}){const[c,d]=(0,i.useState)({item:void 0,err:void 0}),u=(0,i.useCallback)((e=>{d(Object.assign({},c,e))}),[c]),p=(0,i.useCallback)((t=>{const n=t.currentTarget.value;e.type=n,u({})}),[c]),f=(0,i.useCallback)((()=>{t(e),d(null)}),[c]);if(null===c)return;const m=(0,l.v)({val:e,xpath:n});return o().createElement("div",{className:`${r.Z.item}`},o().createElement("div",{className:r.Z.keyName},o().createElement("span",{className:r.Z.typeName},o().createElement("select",{value:e.type,onChange:p},o().createElement(o().Fragment,null,s.Z.map((e=>o().createElement("option",{key:e.value,label:e.label,value:e.value})))))),o().createElement("span",{className:r.Z.btnIcon,onClick:f},a.PJ.garbage),c.err?o().createElement("div",{className:r.Z.err},c.err):null),m)}},15942:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(19885),o=n(83446),r=n(90359),s=n.n(r),a=n(16805),l=n(74271),c=n(23037),d=n(97755);let u;function p({schema:e,updateSchema:t,close:n}){const p=(0,o.d9)(e||{type:"object",properties:{}}),m=(0,r.useRef)();u=(0,o.mA)(l.Z,(e=>{e({schema:p})}),{to:"children"});const h=(0,r.useCallback)((()=>{const e=u.schema,i=m.current.querySelectorAll("input[type=text]");if(i)for(let e=0;e<i.length;e++){if(""===i[e].value)return void(u.haveErr=!0)}const o=e=>{if("object"===e.type){if(delete e.items,e.properties)if(Object.keys(e.properties).length<=0)delete e.properties;else for(let t in e.properties)o(e.properties[t])}else if("array"===e.type&&(delete e.properties,e.items))if("object"!==e.items.type&&delete e.items.properties,Object.keys(e.items).length<=0)delete e.items;else for(let t in e.items)o(e.items[t]);(0,c.Wu)(e)&&(delete e.items,delete e.properties)};o(e),t(e),n()}),[]);return s().createElement("div",{className:i.Z.editor},s().createElement("div",{className:i.Z.toolbar},s().createElement("button",{onClick:h},"确定"),s().createElement("span",{className:`${i.Z.code} ${"json"===u.editMode?i.Z.focus:""}`,onClick:u.switchEditMode},d.E)),s().createElement("div",{className:i.Z.schema,ref:m},"graph"===u.editMode?s().createElement(a.Z,{val:u.schema,xpath:"",root:!0}):s().createElement(f,{val:u.schema})),s().createElement("div",{className:i.Z.desc},s().createElement("p",{style:{fontStyle:"normal"}},"[使用说明]"),s().createElement("p",null,"1.选择不同的类型进行编辑，对象与列表类型的内容可以为空."),s().createElement("p",null,"2.字段名称必须以字母开头，内容为字母与数字的组合.")))}function f({val:e}){const[t,n]=(0,r.useState)(JSON.stringify(e,null,2)),a=(0,r.useCallback)((e=>{n(e.target.value)}),[]),l=(0,r.useCallback)((()=>{try{const e=JSON.parse(t);u.schema=e}catch(e){console.warn(e)}}),[t]);return s().createElement("textarea",{className:i.Z.jsonEditor,value:t,onChange:a,onBlur:l,onKeyDown:(0,o.Ft)((()=>{})).stop,onMouseDown:(0,o.Ft)((()=>{})).stop})}},75643:(e,t,n)=>{n.d(t,{Z:()=>i});const i=[{label:"任意",value:"any"},{label:"数字",value:"number"},{label:"字符",value:"string"},{label:"布尔",value:"boolean"},{label:"对象",value:"object"},{label:"数组",value:"array"},{label:"索引对象",value:"indexObject"},{label:"元组",value:"tuple"},{label:"枚举",value:"enum"}]},56102:(e,t,n)=>{n.d(t,{v:()=>d});var i=n(66365),o=n(22576),r=n(41420),s=n(86384),a=n(1180),l=n(90359),c=n.n(l);function d({val:e,xpath:t}){let n;if("array"===e.type)e.items?Array.isArray(e.items)&&(e.items={}):e.items={},n=c().createElement(i.Z,{items:e.items});else if("object"===e.type)e.properties||(e.properties={}),n=c().createElement(o.Z,{properties:e.properties,xpath:t});else if("indexObject"===e.type){if(e.properties){const t=e.properties;Object.keys(t).forEach((e=>{"key"===e&&"value"===e||delete t[e]})),t.key||(t.key={type:"string"}),t.value||(t.value={type:"string"})}else e.properties={key:{type:"string"},value:{type:"string"}};n=c().createElement(r.Z,{properties:e.properties,xpath:t})}else"enum"===e.type?(e.items||(e.items=[]),n=c().createElement(s.Z,{items:e.items,xpath:t})):"tuple"===e.type&&(e.items&&Array.isArray(e.items)||(e.items=[]),n=c().createElement(a.Z,{items:e.items,xpath:t}));return n}},38109:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(17604),o=n(90359);function r({value:e,options:t}){const n=e.get()||{type:"unknown"},r=null==t?void 0:t.readOnly;return o.createElement(i.Z,{schema:n,updateSchema:r?void 0:t=>{e.set(t)}})}},36781:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(26446),o=n(83446),r=n(90359),s=n(79127),a=n(23037),l=n(90359),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=":root",p={type:"string"};class f{constructor(){this.vals={}}getValue(e,t){let n=this.vals;const i=e.split("/");return i.forEach(((e,o)=>{let r,s=n[e];null!=s&&(n=s,r=!0),o===i.length-1&&(r||(void 0!==t?(n[e]=t,n=n[e]):n=s))})),null!=n?n:""}setValue(e,t){const n=e.split("/");let i=this.vals;n.forEach(((e,o)=>{if(o===n.length-1)if(Array.isArray(i)){const n=parseInt(e);n>=i.length&&(i.length=n+1),i[n]=t}else i[e]=t;else i=Array.isArray(i)?i[parseInt(e)]:i[e]}))}complete(){this.value.set(this.vals[u])}}function m({title:e,value:t,options:n,ele:s,containerEle:c}){let d=t.get();null==d&&(d=h(null==n?void 0:n.schema));const m=(0,o.mA)(f,(e=>{e({schema:null==n?void 0:n.schema,value:t,vals:{[u]:void 0!==d?d:{}}})}),[null==n?void 0:n.schema]);function b({name:e,schema:t,xpath:n,root:o}){if("array"===t.type)return function(e,t,n,o){const s=m.getValue(e,[]),a=(0,r.useCallback)((()=>{const t=h(n);m.setValue(`${e}/${s.length}`,g(n,t))}),[]),c=y("array");return l.createElement("div",{className:`${i.Z.item} ${o?i.Z.rootItem:""}`},l.createElement("div",{className:i.Z.toolbar},t?l.createElement("span",null,t):null,l.createElement("label",{style:{color:c.strokeColor}},"(列表)"),l.createElement("button",{onClick:a},"+")),Array.isArray(s)&&s.map(((t,i)=>l.createElement(b,{key:i,schema:n,xpath:`${e}/${i}`}))))}(n,e,t.items||p,o);if("object"===t.type)return function(e,t,n,o){if(n){const r=y("object");return l.createElement("div",{className:`${i.Z.item} ${o?i.Z.rootItem:""}`},l.createElement("div",{className:i.Z.toolbar},t?l.createElement("span",null,t):null,l.createElement("label",{style:{color:r.strokeColor}},"(对象)")),Object.keys(n).map((t=>{const i=void 0!==e?`${e}/${t}`:void 0;return l.createElement(b,{key:t,name:t,schema:n[t],xpath:i})})))}}(n,e,t.properties,o);const s=y(t.type);return l.createElement("div",{className:`${i.Z.item} ${o?i.Z.rootItem:""}`},l.createElement("div",{className:i.Z.keyName},l.createElement("span",null,e),l.createElement("div",{className:i.Z.value},l.createElement("input",{type:"number"===t.type?"number":"text",value:m.getValue(n),onChange:e=>{m.setValue(n,g(t,e.target.value))},onBlur:e=>{m.complete()},onKeyDown:e=>{13===e.keyCode&&m.complete()}}),l.createElement("span",{className:i.Z.typeName,style:{color:s.strokeColor}},"(",function(e){switch(e){case"number":return"数字";case"string":return"字符";case"boolean":return"布尔";case"object":return"对象";case"array":return"列表"}}(t.type),")"))))}return(0,a.xn)(m.schema)?l.createElement("div",{className:i.Z.returnParams},l.createElement("div",null,l.createElement(b,{schema:m.schema,val:m.vals,xpath:u,root:!0}))):l.createElement("div",{className:i.Z.null},"（类型声明为空或无效）")}function h(e){switch(e.type){case"number":return 0;case"string":return"字符";case"boolean":return!0;case"object":{const t={},n=e.properties;return n&&Object.keys(n).forEach((e=>{t[e]=h(n[e])})),t}case"array":return[]}}function g(e,t){switch(e.type){case"number":return Number(t);case"string":return String(t);case"boolean":return Boolean(t)}return t}function y(e){return s.NE.find((t=>t.type==(e||"unknown")))}c([o.oQ,d("design:type",Object)],f.prototype,"schema",void 0)},90929:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n.n(i),r=n(1773),s=n(83446),a=n(79127);function l({tvCtx:e,value:t,options:n}){const l=(0,s.mA)(a.cA.Views,{expectTo:"parents"}),c=(0,s.mA)({passed:void 0,diagram:t.get()}),d=e.viewModel.getFxFrameAry().map((e=>{if(e.diagramAry.length>0)return e.diagramAry[0]})).filter((e=>e)),u=(0,i.useCallback)((()=>{l.popView("选择Fx卡片..",(({close:e})=>{let n=[];return d&&(n=d.map((n=>{var i;return o().createElement("div",{key:n.id,className:`${r.Z.page} ${(null===(i=c.diagram)||void 0===i?void 0:i.id)===n.id?r.Z.focus:""}`,onClick:i=>function(n){t.set(n),c.diagram=n,e()}(n)},o().createElement("div",{className:r.Z.icon}),o().createElement("div",{className:r.Z.title},o().createElement("div",{className:r.Z.title},n.title)))}))),o().createElement("div",{className:r.Z.pageList},n)}),{width:350,beforeEditView:!0})}),[]);let p;return c.diagram&&d&&(p=d.find((e=>e.id===c.diagram.id))),o().createElement("div",{className:`${r.Z.editor} ${r.Z[null==n?void 0:n.type]}`,onClick:u},o().createElement("span",null,"前置拦截:"),o().createElement("span",{className:r.Z.tt},p?`${p.title}`:"[空] 点击选择.."),p?o().createElement("span",{className:r.Z.type},p.icon):null)}},47871:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(79127),o=n(38109),r=n(36781),s=n(90359);const a={};function l(e){const{viewModel:t,context:n,emitLogs:i}=e;return{get(e){const{type:t,options:n,ele:i}=e,o=a[t.toUpperCase()];if(o)return o(e)}}}function c(e,t){a[e.toUpperCase()]=function(e){return s.createElement(t,Object.assign({},e))}}c(i.$U.SCHEMA,o.Z),c(i.$U.SCHEMA_VALUE,r.Z)},18132:(e,t,n)=>{n.d(t,{H4:()=>i.H,HY:()=>o.Z});var i=n(35821),o=n(90929)},35821:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(83446),o=n(64130),r=n(90359),s=n(90359);function a({x:e,y:t,value:n}){const a=(0,r.useRef)(),l=(0,i.mA)(class{constructor(){this.value=n.get()}}),c=(0,r.useCallback)((e=>{l.value=e.target.value}),[]),d=(0,r.useCallback)((e=>{n.set(l.value)}),[]);return(0,r.useEffect)((()=>{a.current.focus()})),s.createElement("div",{className:o.Z.text,style:{left:e,top:t}},s.createElement("textarea",{ref:e=>a.current=e,value:l.value,onChange:c,onBlur:d,onKeyDown:e=>{13===e.keyCode&&d(e)}}))}},43138:(e,t,n)=>{n.d(t,{BJ:()=>h,Ky:()=>y,S1:()=>b,ft:()=>g,l:()=>m});var i=n(22270),o=n(3005),r=n(23037),s=n(44780),a=n(79127),l=n(56976),c=n(56258);let d,u,p,f;function m(e){return p(...arguments)}function h(e,t){return f(...arguments)}function g(e){return d(e)}function y(e){return u(e)}function b(e){const{context:t,emitComponent:n,emitView:m,emitSnap:h,emitLogs:g}=e;function y(e,r,s){const l=e.parent;if(l instanceof i.n){const i=t.getComDef(l.runtime.def);if(i&&i.editors){let c;c="inputs"===s?i.editors[a.AX.SLOT_INPUT_UPDATED]:i.editors[a.AX.SLOT_OUTPUT_UPDATED],"function"==typeof c&&c((0,o.e)({context:t,model:l,emitComponent:n,emitSnap:h,emitLogs:g}),e.id,{id:r.hostId,title:r.title,schema:r.schema})}}}function b(e,i,s){const l=e.parent;if(l&&l.runtime){let c=t.getComDef(l.runtime.def);if(c.editors){let d;d="input"===s?c.editors[a.AX.SLOT_INPUT_DIS_CONNECTED]:c.editors[a.AX.SLOT_OUTPUT_DIS_CONNECTED];const u=i.startPin,p=i.finishPin;"function"==typeof d&&d((0,o.e)({context:t,model:l,emitComponent:n,emitSnap:h,emitLogs:g}),{id:u.hostId,title:u.title,schema:(0,r.I8)(u.schema),conCount:u.conAry.length},e.id,{id:p.hostId,title:p.title,schema:(0,r.I8)(p.schema),conCount:p.conAry.length})}}}function v(e,i,s){const l=e.parent;if(l&&l.runtime){let c=t.getComDef(l.runtime.def);if(c.editors){let d;d="input"===s?c.editors[a.AX.SLOT_INPUT_CONNECTED]:c.editors[a.AX.SLOT_OUTPUT_CONNECTED];const u=i.startPin,p=i.finishPin;"function"==typeof d&&d((0,o.e)({context:t,model:l,emitComponent:n,emitSnap:h,emitLogs:g}),{id:u.hostId,title:u.title,schema:(0,r.I8)(u.schema),conCount:u.conAry.length},e.id,{id:p.hostId,title:p.title,schema:(0,r.I8)(p.schema),conCount:p.conAry.length})}}}function x(e,s,l){const c=s.startPin,d=c.parent,u=d instanceof i.n,p=s.finishPin,f=p.parent,m=f instanceof i.n,y=t.getComDef(e.runtime.def);if(y&&y.editors){let i;if(i="input"===l?y.editors[a.AX.INPUT_DIS_CONNECTED]:y.editors[a.AX.OUTPUT_DIS_CONNECTED],"function"==typeof i)return i((0,o.e)({context:t,model:e,emitComponent:n,emitSnap:h,emitLogs:g}),{id:c.hostId,title:c.title,schema:(0,r.I8)(c.schema),parent:{type:u?"com":"frame",namespace:u?d.runtime.def.namespace:null}},{id:p.hostId,title:p.title,schema:(0,r.I8)(p.schema),parent:{type:m?"com":"frame",namespace:m?f.runtime.def.namespace:null}})}}function w(e,s,l){const c=s.startPin,d=c.parent,u=d instanceof i.n,p=s.finishPin,f=p.parent,m=f instanceof i.n,y=t.getComDef(e.runtime.def);if(y&&y.editors){let i;if(i="input"===l?y.editors[a.AX.INPUT_CONNECTED]:y.editors[a.AX.OUTPUT_CONNECTED],"function"==typeof i)return i((0,o.e)({context:t,model:e,emitComponent:n,emitSnap:h,emitLogs:g}),{id:c.hostId,title:c.title,schema:(0,r.I8)(c.schema),parent:{type:u?"com":"frame",namespace:u?d.runtime.def.namespace:null}},{id:p.hostId,title:p.title,schema:(0,r.I8)(p.schema),parent:{type:m?"com":"frame",namespace:m?f.runtime.def.namespace:null}})}}p=function(e){const r=e.parent;r instanceof i.n&&function(e,i){const r=t.getComDef(e.runtime.def);if(r&&r.editors){let s;s=i.isDirectionOfInput()?r.editors[a.AX.INPUT_REMOVED]:r.editors[a.AX.OUTPUT_REMOVED],"function"==typeof s&&s((0,o.e)({context:t,model:e,emitComponent:n,emitSnap:h,emitLogs:g}),{id:i.hostId,title:i.title,schema:i.schema})}}(r,e)},f=function(e,r){const d=e.parent;if(d instanceof i.n)!function(e,i,r){const s=t.getComDef(e.runtime.def);if(s&&s.editors){let l;l="inputs"===r?s.editors[a.AX.INPUT_UPDATED]:s.editors[a.AX.OUTPUT_UPDATED],"function"==typeof l&&l((0,o.e)({context:t,model:e,emitComponent:n,emitSnap:h,emitLogs:g}),{id:i.hostId,title:i.title,schema:i.schema})}}(d,e,r);else if(d instanceof s.g)y(d,e,r);else if(d instanceof l.Z&&e instanceof c.default){const t=e.forkedFrom.parent;t.parent&&y(t,e,r)}},d=function(e){const t=e.startPin.parent,n=e.finishPin,o=n.parent;if(t instanceof i.n?w(t,e,"output"):t instanceof s.g&&v(t,e,"output"),o instanceof i.n)w(o,e,"input");else if(o instanceof s.g)v(o,e,"input");else if(o instanceof l.Z&&n instanceof c.default){v(n.forkedFrom.parent,e,"input")}},u=function(e){const t=e.startPin.parent,n=e.finishPin,o=n.parent;if(t instanceof i.n?x(t,e,"output"):t instanceof s.g&&b(t,e,"output"),o instanceof i.n)x(o,e,"input");else if(o instanceof s.g)b(o,e,"input");else if(o instanceof l.Z&&n instanceof c.default){b(n.forkedFrom.parent,e,"input")}}}},36409:(e,t,n)=>{n.d(t,{z:()=>c});var i=n(79127),o=n(22270),r=n(87808),s=n(35401),a=n(81120),l=n(91952);function c(e,t){if(!t||"object"!=typeof t)return;const{viewModel:n,curDiagramModel:c,curFrameModel:d,emitComponent:u}=e,{state:p,seedModel:f,json:m,toComId:h,toSlotId:g,deletable:y,debugProxy:b}=t;if("finish"===p){const{context:c}=e;let p,y;if(h&&g){const e=n.searchCom(h);p=e.getFrame(g),p||(p=e.parent)}else g&&(p=n.searchFrame(g));if(p||(p=d),f instanceof i.cR)y=p.addComponent(f.topl);else{const e=f.def;if(f.init({cancel(){requestAnimationFrame((()=>{u.delete(y),u.focus(void 0)}))}}),f instanceof i.Bn){y=new l.H(f);const e=n.frames.find((e=>e.id===f.slotId));y.ioProxyForCall={frame:e}}else{y=new o.n(f);const t=p.searchComByDef(e);y.runtime.title=t.length>0?e.title+t.length:e.title}(y.runtime.hasUI()||t.autorun)&&y.setAutoRun(!0),m&&(0,r.G)(m,y,void 0),"object"==typeof b&&(y.debugProxy=b),c.isDesnMode()&&c.configs.geoView&&y.runtime.hasUI()&&!y.asRoot&&s.DB.forEach((e=>{y.addInputPinExt({hostId:e.hostId,title:e.title,schema:e.schema})}));const d=f.runtime.model.style;d&&d.left?y.style.left=(0,a.vg)(d.left):y.style.left=(0,a.vg)(100+100*Math.random()),d&&d.top?y.style.top=(0,a.vg)(d.top):y.style.top=(0,a.vg)(100+100*Math.random()),y.runtime.topl=y;const h=p.addComponent(y);c.isDesnMode()||(p.addDebugTempCom(y),c.useLatestFeatures&&h.runtime.hasUI()&&p.addDiagramWithStartCom(h.runtime.title,h))}return y}}},56434:(e,t,n)=>{n.d(t,{B:()=>o,o:()=>r});var i=n(43138);function o(e,t){(0,i.ft)(t),setTimeout((e=>{t.parent&&t.parent.connections.changed()}))}function r(e,t){(0,i.Ky)(t)}},23112:(e,t,n)=>{n.d(t,{d:()=>a});var i=n(44780),o=n(22270),r=n(86409),s=n(39920);function a(e){const{viewModel:t,emitLogs:n,emitScenes:a,emitComponent:l,emitMessage:c}=e;return{init(t){e.debugger=Object.assign(Object.assign({},e.debugger),t)},resume(){const t=e.debugger;t.breakNow=void 0,t.resume()},log(d,u,p,f,m){let h,g,y;const b=f.sceneId,v=t.getFrame(b);if(m){e.debugger.breakNow=!0;const n=f.conId;if(n){const i=t.searchCon(n);i&&i.parent instanceof r.Vm&&e.setCurDiagram(i.parent)}}let x,w,E;try{if("com"===u){const n=t.searchCom(f.id);if(!n)return;let o;if(n&&n.runtime&&(y=`${n.runtime.title} | `),x=n,"output"===p){const{id:r,pinHostId:s,val:l,fromCon:c,notifyAll:d}=f;E=c;const u=e=>{if(!e.isPrivate){if(c){const{id:n,comId:i,finishPinParentKey:o}=c;(e=t.searchCon(n).finishPin.parent.searchPinByHostId(s,p))&&(e.exe={val:l,from:c},e.state.running())}else e.exe={val:l},e.state.running();h=`%c 输出 %c ${y}${e.title}  `,g=["color:#FFF;background:#fa6400","",l],e.conAry&&e.conAry.forEach((e=>{const t=e.finishPin;m?e.activeBreakPoint():(t.exe={val:l},t.state.running(),e.exe={val:l},e.disableBreakPoint())}))}};if(d){o=n.searchPinByHostId(s,p),o&&u(o);const t=e.curFrameModel.searchForkedComAry(n);t&&t.forEach((e=>{o=e.searchPinByHostId(s,p),o&&u(o)}))}else{o=n.searchPinByHostId(s,p),o&&u(o);const t=n.root;t instanceof i.g&&!t.isTypeOfFx()&&t!==e.curFrameModel&&a.switch(t.id)}}else if("input"===p){const{id:t,pinHostId:i,val:r,frameKey:s,finishPinParentKey:a}=f;if(a){const t=e.curFrameModel.searchComInDiagramsBy_key(a);t&&(o=t.searchPinByHostId(i,p))}else o=n.searchPinByHostId(i,p);o&&!o.isPrivate&&o.conAry.length>0&&(o.exe={val:r},o.state.running(),h=`%c 输入 %c ${y}${o.title}  `,g=["color:#FFF;background:#000","",r],o.conAry.forEach((e=>{e.disableBreakPoint(),e.exe||(e.exe={val:r})})))}w=o}else if("frame"===u){const{comId:n,frameId:i,pinHostId:o,val:r}=f;let s;if("_rootFrame_"===i)s=v;else if(n){s=e.curFrameModel.searchCom(n).searchFrame(i)}else s=t.searchFrame(i);if(b&&!v.isTypeOfFx()&&a.switch(b),s){x=s;const e=s.searchMyPinByHostId(o,p);e&&(e.exe={val:r},e.state.running(),e.conAry&&e.conAry.forEach((e=>{m?e.activeBreakPoint():e.exe={val:r}})),"input"===p?(h=`%c 输入 %c ${e.title}  `,g=["color:#FFF;background:#000","",r]):(h=`%c 输出 %c ${e.title}  `,g=["color:#FFF;background:#fa6400","",r])),w=e}}}catch(e){console.error(e)}h&&n.info(h,...g,(()=>({from:x})),(()=>{if(w){const e=e=>{setTimeout((()=>{l.focus(e)}))};if(w.parent instanceof o.n){const n=w.parent;if(n.runtime.hasUI()){let i;if(n instanceof s.default)i=n.diagramModel,i&&(l.focus(i),e(n));else if(w.isDirectionOfOutput())if(E){const n=t.searchCon(E.id);if(n){const t=n.finishPin.parent;i=t.diagramModel,i?(l.focus(i),e(t)):c.info("未找到流程卡片.")}}else{i=n.parent.diagramAry.find((e=>{const t=e.startWithCom;if(t&&t.forkedFrom===n&&t.ioc.outputs[w.hostId])return!0})),i?(l.focus(i),e(i.startWithCom.outputPins[0])):c.info("未找到流程卡片.")}}else{const t=w.parent.diagramModel;l.focus(t),e(w.parent)}}else if(w.parent instanceof i.g){const t=w.parent.diagramAry;t.length>0&&l.focus(t[0]),e(w)}}}))}}}},27723:(e,t,n)=>{n.d(t,{c:()=>u});var i=n(79127),o=n(44780),r=n(56976),s=n(22270),a=n(39920),l=n(43138),c=n(23037),d=n(34252);function u(e,t){var n;const{viewModel:u,curFrameModel:p,curDiagramModel:f,emitLogs:m,emitComponent:h}=e,g=p;if(t)if(t instanceof o.g)t.parent?t.parent.delete(t):(u.deleteFrame(t),t===e.curFrameModel&&e.switchFrame(void 0));else if(t instanceof r.Z)t.parent.delete(t),e.clearCurDiagram();else if(t instanceof d.P)f.delete(t);else if(t.runtime||t instanceof s.n){let y;if(t instanceof s.n)y=t;else if(y=u.searchCom(t.id),!y)return m.warn(`组件(${null===(n=t.runtime.def)||void 0===n?void 0:n.namespace},id=${t.id})在逻辑视图中不存在.`),!0;const b=g.getRoot(),v=y instanceof a.default;if(!v&&y.runtime.def.namespace!==i.Vm.coms.module){const x=e=>{e.diagramAry&&e.diagramAry.forEach((e=>{h.delete(e)}));let t=0,n=2*e.comAry.length;for(;e.comAry.length&&(h.delete(e.comAry[0]),!(t++>=n)););};y.frames&&y.frames.forEach((e=>x(e)));const w=e=>{e.diagramAry&&(e.diagramAry.forEach((e=>{const t=e.comAry.filter(((e,t)=>!(e instanceof a.default&&e.forkedFrom===y)));t.length!==e.comAry.length&&(e.comAry=t)})),e.comAry.forEach(((e,t)=>{e.frames&&e.frames.forEach((e=>{w(e)}))}))),e.frameAry&&e.frameAry.forEach((e=>{w(e)}))};w(b)}if(c.tk.each((e=>{e.conAry.map((e=>e)).forEach((e=>{(0,l.Ky)(e)}))}),...y.getInputsAll(),...y.getOutputsAll(),y.timerInputPin),y.diagramModel&&y.diagramModel.delete(y),v)y.destroy();else{const E=g.searchDiagramByStartCom(y);E&&E.forEach((t=>{e.isCurDiagram(t.id)&&e.clearCurDiagram(),g.delete(t)})),y.destroy()}if(y.isSingleton&&!v){function A(e){e.frameAry.forEach((e=>{A(e)})),e.diagramAry.forEach((e=>{e.comAry=e.comAry.filter(((e,t)=>{if(!(e instanceof a.default&&e.forkedFrom.id===y.id))return!0}))}))}A(b)}y.diagramModel&&y.diagramModel.connections.changed()}else t.destroy();return!0}},12805:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(49136),o=n(33397),r=n(23037);function s(e){const{viewModel:t,curFrameModel:n,curDiagramModel:s,emitLogs:a,emitComponent:l}=e,c=n;return{hasScript:(t,n,o)=>(0,i.C1)(e,t,n,o),focusScript:(t,n,o)=>(0,i.JM)(e,t,n,o),bindScript:(t,n,o)=>(0,i.WQ)(e,t,n,o),createScript(t){let n;const i=[];function s(e){const{from:a,to:d}=i[i.length-1];n||(n=e.searchCom(a.comId)),(0,o.fq)((()=>{var o;const a=null===(o=n.outputPins)||void 0===o?void 0:o[0];if(null==a?void 0:a.$el){const o=c.searchCom(d.comId),u=o.searchPinByHostId(d.hostId,"inputs"),p={inputs:[d.hostId],outputs:u.rels},f=200*i.length,m=e.addCom(o,{x:f,y:100},p);n=m;const h=r.tk.find((e=>e.hostId===d.hostId),...m.getInputsAll());if(h&&h.$el){const t=e.addConnection(a,h);l.connected(t)}return i.length<t.length&&(i.push(t[i.length]),s(e)),!0}}))}(0,o.fq)((()=>{const n=e.curDiagramModel;if(n)return i.push(t[0]),s(n),!0}))}}}},54599:(e,t,n)=>{function i(e){const{viewModel:t,context:n,emitLogs:i}=e;return{changed(e){t.frames.forEach((function t(o){o.frameAry.forEach((e=>{t(e)})),o.comAry.forEach((o=>{const r=n.getComDef(o.runtime.def);if(!r)return;const s=r.editors;if(s){const t=s["@envChanged"];if("function"==typeof t){const n=o.runtime.model;t({data:n.data,env:e,throwError(){let e,t;for(let n=0;n<arguments.length;n++){const i=arguments[n];"string"==typeof i?e=i:"object"==typeof i&&i instanceof Error&&(t=i)}(e||t)&&(requestAnimationFrame((n=>{o._exeInfo={errorMsg:e||t.message}})),i.error(n.title||r.title,e),t&&console.error(t))},cancelError(){o._exeInfo=void 0}})}}o.frames&&o.frames.forEach(t)}))}))}}}n.d(t,{o:()=>i})},37363:(e,t,n)=>{function i(e){const{viewModel:t,emitComponent:n,emitScenes:i}=e;return{onError(e,n,i){if("com"===e){const{comId:e}=n,o=t.searchCom(e);o&&o.setExe({errorMsg:i.message})}},getUpgradeInfo(e){const n=[];const i=t.searchFrame(e);return i&&function e(t){t.frameAry&&t.frameAry.forEach((t=>{e(t)})),t.comAry&&t.comAry.forEach((t=>{const i=t.runtime;!i.hasUI()&&i.upgrade&&n.push({title:i.title,version:i.upgrade.version,com:t}),t.frames&&t.frames.forEach((t=>{e(t)}))}))}(i),n},getFrame:e=>t.searchFrame(e),bindFrame({id:e,title:n,type:i,_inputs:o,inputs:r,outputs:s,events:a}){const l=t.addFrame({id:e,title:n,type:i});return l.addIODiagram({title:n}),o&&o.forEach((e=>{l.add_InputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),r&&r.forEach((e=>{l.addInputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),s&&s.forEach((e=>{l.addOutputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema,editable:e.editable})})),a&&a.forEach((e=>{l.addOutputPin(Object.assign(Object.assign({},e),{hostId:e.id,type:"event"}))})),l},focusFrame(n){const i=t.frames[n];if(i)return e.switchFrame(i),i.diagramAry?e.setCurDiagram(i.diagramAry[0]):e.setCurDiagram(void 0),!0},delete(n){const i=t.getFrame(n);i&&(t.deleteFrame(i),i.destroy(),e.switchFrame(void 0))},cutComToMe(n,i,o){const r=e.curFrameModel,s=t.searchCom(n);let a;if(i){a=t.searchCom(i).getFrame(o)}else a=r;if(s.parent!==a)return a.cutIn(s,!0)},getAllOutputs(e,n){const i=t.getFrame(e);if(i)return i.outputPins.map((e=>{if(!n||e.type===n)return{id:e.id,title:e.title,type:e.type}})).filter((e=>e))},hasDiagram(e,n){const i=t.getFrame(e);if(i){if(i.getDiagramByOutput(n))return!0}},bindDiagram(e,i){const o=t.getFrame(e);if(o){if(!o.getDiagramByOutput(i)){const e=o.outputPins.find((e=>e.id===i)),t=o.addDiagramWithOutput(`${o.title}-${e.title}`,e);return requestAnimationFrame((e=>{n.focus(t)})),{id:t.id,title:t.title}}}},focusDiagram(e,i){const o=t.getFrame(e);if(o){const e=o.getDiagramByOutput(i);e&&requestAnimationFrame((t=>{n.focus(e)}))}}}}n.d(t,{o:()=>i})},13819:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(90359),o=n.n(i),r=n(20618),s=n(83446);function a({comId:e,slotId:t,outputId:n,complete:a,close:l,topViewCtx:c}){const{viewModel:d,curFrameModel:u}=c,p=(0,s.vc)((()=>{const e=[];return u.frameAry.forEach(((t,n)=>{t.diagramAry.forEach((t=>{t.isFn&&e.push(o().createElement("div",{key:t.id,className:r.Z.card,onClick:e=>{l(),a(t)}},o().createElement("span",null,t.title)))}))})),e})),f=(0,i.useCallback)((()=>{u.addFxDiagram()}),[]);return o().createElement("div",{className:r.Z.view},o().createElement("div",{className:r.Z.toolbar}),o().createElement("div",{className:r.Z.content},p,o().createElement("div",{className:r.Z.adder,onClick:f},o().createElement("span",null,"+"),"新建Fx卡片")))}},18236:(e,t,n)=>{n.d(t,{j:()=>s});var i=n(90359),o=n.n(i),r=n(13819);function s(e){const{viewModel:t,emitView:n,emitComponent:i,emitSnap:s,curFrameModel:a}=e;return{hadBindWithCom(e,t){const n=a.searchCom(e);if(!n)return;const i=n.searchPinByHostId(t,"outputs");if(!i)return;const o=i.proxyPin;if(o){const e=o.parent.diagramAry[0];return{id:e.id,title:e.title}}},bindWithCom(t,i){const l=a.searchCom(t);if(!l)return;const c=l.searchPinByHostId(i,"outputs");c&&n.popView("选择Fx流程卡片..",(({close:n})=>o().createElement(r.Z,{topViewCtx:e,comId:t,outputId:i,complete:e=>{const t=s.start("绑定Fx流程卡片");c.proxyPin=e.parent.inputPins[0],t.commit()},close:n})),{width:350,beforeEditView:!0})},focusWithCom(t,o){const r=a.searchCom(t);if(!r)return;const s=r.searchPinByHostId(o,"outputs");if(!s)return;const l=s.proxyPin;if(!l)return;n.recoverSize(e.viewId);const c=l.parent.diagramAry[0];i.focus(c)},removeWithCom(e,t){const n=a.searchCom(e);if(!n)return;const i=n.searchPinByHostId(t,"outputs");i&&(i.proxyPin=void 0)},hadBindWithSlot(e,t){},bindWithSlot(e,t){}}}},9061:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(47837),o=n(46075),r=n(90359);function s(e,t){return r.createElement("div",{className:o.Z.info},r.createElement("div",{className:o.Z.tt},"输入项"),r.createElement(i.Z,{type:"input",hideTitle:!0,pins:{def:e.inputPins,inModel:e.inputPinsInModel,ext:e.inputPinExts},viewContext:t}),r.createElement("div",{className:o.Z.tt},"输出项"),r.createElement(i.Z,{type:"output",hideTitle:!0,pins:{def:e.outputPins,inModel:e.outputPinsInModel,ext:e.outputPinExts},viewContext:t}))}},98265:(e,t,n)=>{n.d(t,{Fk:()=>E,V_:()=>w,dG:()=>b.d,dI:()=>h.d,jq:()=>y.j,oN:()=>v.o,ok:()=>g.o,yS:()=>x.y});var i=n(22270),o=n(79127),r=n(3005),s=n(56976),a=n(36409),l=n(82764),c=n(27723),d=n(43138),u=n(56434),p=n(66497),f=n(9061),m=n(12805),h=n(35565),g=n(54599),y=n(18236),b=n(23112),v=n(37363),x=n(33296);function w(e){(0,d.S1)(e);const{context:t,viewModel:n,emitComponent:i}=e;return{getSlotJointsInfo(e,t){const i=n.searchCom(e);if(i&&t){const e=i.getFrame(t);if(e){const t={};return e.inputJoints&&(t.inputJoints=e.inputJoints.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),e.outputJoints&&(t.outputJoints=e.outputJoints.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),t}}},getSlotIOInfo(e,t){var i;const r=n.searchCom(e);if(r&&t){let e;if(e=r.runtime.def.namespace===o.Vm.coms.module?null===(i=r.ioProxyForCall)||void 0===i?void 0:i.frame:r.getFrame(t),e){const t={};return e.inputPins&&(t.configs=e.inputPins.map((e=>{if(e.isTypeOfConfig())return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema,editor:e.editor}})).filter((e=>e))),e.inputPins&&(t.inputs=e.inputPins.map((e=>{if(!e.isTypeOfConfig())return{id:e.id,hostId:e.hostId,title:e.title,schema:e.schema}})).filter((e=>e))),e.outputPins&&(t.outputs=e.outputPins.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),t}}},getSlot_IOInfo(e,t){const i=n.searchCom(e);if(i&&t){const e=i.getFrame(t);if(e){const t={};return e._inputPins&&(t._inputs=e._inputPins.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),e._outputPins&&(t._outputs=e._outputPins.map((e=>({id:e.id,hostId:e.hostId,title:e.title,schema:e.schema})))),t}}},getInputInfo(e,t){const i=n.searchCom(e);if(i){const e=i.getInputPinModel(t);if(e)return{id:e.id,title:e.title}}},getOutputInfo(e,t){const i=n.searchCom(e);if(i){const e=i.getOutputPinModel(t);if(e)return{id:e.id,title:e.title}}},get_InputEditor(e,t){const o=n.searchCom(e);if(o)return o.get_InputEditor(i,t)},getInputEditor(e,t){const o=n.searchCom(e);if(o)return o.getInputEditor(i,t)},get_OutputEditor(e){const t=n.searchCom(e);if(t)return t.get_OutputEditor(i)},getOutputEditor(e,t){const o=n.searchCom(e);if(o)return o.getOutputEditor(i,t)}}}function E(e){const{context:t,viewModel:n,emitLogs:d,emitComponent:h,emitSnap:g,setCurDiagram:y,curFrameModel:b}=e,v=(0,m.r)(e);return Object.assign(Object.assign({},v),{getDocs(t){const i=n.searchCom(t);if(void 0!==i)return(0,f.Z)(i,e)},exist:e=>void 0!==n.searchCom(e.id)?{id:e.id,result:!0,info:void 0}:{id:e.id,result:!1,info:`组件 ${e.title}(namespace=${e.def.namespace}) 在逻辑视图中未找到,会导致该组件在运行时无法渲染.`},add:t=>(0,a.z)(e,t),addSlot({comId:e,id:t,title:i,type:o,schema:r,inputs:s,outputs:a}){if(o&&"scope"===o){const o=n.searchCom(e),r=o.addFrame(t,i);r.addIODiagram({title:`${o.runtime.title} ${"| "+i}`}),s&&s.forEach((e=>{r.addInputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})})),a&&a.forEach((e=>{r.addOutputPin({type:"normal",hostId:e.id,title:e.title,schema:e.schema})}))}return!0},sayHi(e,i){if(t.isDebugMode()||"toplView"===i)return;const o=n.searchCom(e);if(o&&o.frames){const e=o.frames[0].diagramAry[0];y(e),e.parent.blur(),e.state.enable(),h.reFocus(e)}},setSlotTitle(e,t,i){const o=n.searchCom(e);if(o.getFrame(t))return o.getFrame(t).title=i,!0},removeSlot(e,t){const i=n.searchCom(e),o=i.getFrame(t);return o&&o.diagramAry&&o.diagramAry.forEach((e=>{h.delete(e)})),i.removeFrame(t),!0},move(e,t,n){},changeOrder(e,t){const i=n.searchCom(e.id);i.parent.changeOrder(i,t)},cutToSlot(t,i,o,r){const s=e.curFrameModel,a=n.searchCom(t),l=o!==n.id;let c;if(null==i)c=s;else if(s._rootF&&s.parent&&s.parent.id===i)c=s;else{const e=n.searchCom(i);c=e.getFrame(o),c||(c=e.parent)}return c.cutIn(a,l)},delete:t=>(0,c.c)(e,t),focus(t){if(e.assitWith&&(e.assitWith=void 0),!t)return n.blur(),!0;if(!(t instanceof i.n)&&t instanceof o.M_&&t.runtime){e.showAboutComId=t.runtime.id;const i=n.searchCom(t.runtime.id);if(i){const t=i.root;e.switchFrame(t)}}else if(t instanceof s.Z)e.setCurDiagram(t);else if(e.curFrameModel){return e.curFrameModel.focusItem(t)}},reFocus(t){t instanceof s.Z&&e.setCurDiagram(t)},focusFork:e=>{if(!e)return;const o=t.getComDef(e.runtime.def),{rtType:r}=o;if(r&&null===r.match(/react|vue/gi))return!1;if(e instanceof i.n)return n.state.disable(),!1;n.state.enable();let s=n.searchCom(e.id);return s?(h.focus(s),!0):void 0},blur(e){if(n.state.isDisabled())return!1;n.blur(e)},hintPins(t){const n=e.curFrameModel;let i=!1;if(t.schema){const e=n.findPinAryBySchema(t);e.length>0&&(i=!0,e.forEach((e=>{e.hint=!0})))}return i},assistWithPin(t,n,{x:i,y:o},r){e.assitWith={type:"inputs",pinModel:t,diagramModel:n,position:{x:i,y:o},options:r}},connected:t=>(0,u.B)(e,t),disConnected:t=>(0,u.o)(e,t),updatePinSchema:(t,n,i,o)=>(0,p.jS)(e,t,n,i,o),updateFramePinSchema:(t,n,i)=>(0,p.zG)(e,t,n,i),paste:t=>(0,l.Z)(t,e),notifyPinRemoved:e=>(0,p.Vg)(e),notifyDomainModelUpdated(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.AX.DOMAIN_MODEL_UPDATED];if("function"==typeof l){l((0,r.e)({context:t,model:n,emitComponent:h,emitSnap:g,emitLogs:d}),{domainModel:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyDomainModelRemoved(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.AX.DOMAIN_MODEL_REMOVED];if("function"==typeof l){l((0,r.e)({context:t,model:n,emitComponent:h,emitSnap:g,emitLogs:d}),{domainModel:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyConnectorUpdated(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.AX.CONNECTOR_UPDATED];if("function"==typeof l){l((0,r.e)({context:t,model:n,emitComponent:h,emitSnap:g,emitLogs:d}),{connector:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))},notifyConnectorRemoved(e){function i(n){n.comAry.forEach((n=>{var s;const a=t.getComDef(n.runtime.def),l=null===(s=null==a?void 0:a.editors)||void 0===s?void 0:s[o.AX.CONNECTOR_REMOVED];if("function"==typeof l){l((0,r.e)({context:t,model:n,emitComponent:h,emitSnap:g,emitLogs:d}),{connector:e})}n.frames&&n.frames.forEach((e=>{i(e)}))})),n.frameAry&&n.frameAry.forEach((e=>{i(e)}))}n.frames.forEach((e=>{i(e)}))}})}},33296:(e,t,n)=>{function i(e){const{context:t,viewModel:n,emitComponent:i}=e;return{getAll(){const e=[];return n.frames.forEach((t=>{o(e,t)})),e}}}function o(e,t){t.frameAry.forEach((t=>{o(e,t)})),t.diagramAry.forEach((t=>{t.labelAry&&e.push({title:t.title,type:"diagram",typeLabel:"Fx卡片",labelAry:t.labelAry})}))}n.d(t,{y:()=>i})},82764:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(23037),o=n(39920);function r(e,t){const{viewModel:n,curFrameModel:r,getCurDiagram:s,emitLogs:a,emitMessage:l}=t,c=s();if(!c)return;const d=(e="组件数据错误.")=>{a.error("组件数据错误."),l.error("组件数据错误.")},{from:u,rt:p,toplComForked:f}=e;if(f){const e=n.searchCom(u),t={left:void 0,top:void 0};if(e)t.left=e.style.left+20,t.top=e.style.top+40;else{const[e,n]=(0,i.B5)(20,100);t.left=100+e,t.top=100+n}m(f,t)}else if(p)if(Array.isArray(p)){p.forEach(((e,t)=>{if(e instanceof o.default){const t=e.style;t.left+=20,t.top+=40,m(e)}else{const i=e.topl;if(i){const e=n.searchCom(u[t]),o=i.style;o.left+=20,o.top+=40,h(i,e)}}}));const t=e.conAry;if(t){const e=s();setTimeout((n=>{t.forEach((t=>{const{from:n,to:i}=t,r=p[n.comIndex],s=p[i.comIndex];let a,l;if(a=r instanceof o.default?e.searchComByKey(r._key):e.searchCom(r.id),l=s instanceof o.default?e.searchComByKey(s._key):e.searchCom(s.id),a&&l){const t=a.searchPinByHostId(n.pinHostId,"outputs"),o=l.searchPinByHostId(i.pinHostId,"inputs");e.addConnection(t,o)}}))}))}}else{const e=p.topl;if(e){const t=n.searchCom(u),o={left:void 0,top:void 0};if(t)o.left=t.style.left+20,o.top=t.style.top+40;else{const[e,t]=(0,i.B5)(20,100);o.left=100+e,o.top=100+t}h(e,t,o)}}function m(e,t){let o;return e.forkedFrom?(e._key=(0,i.Vj)(),o=n.searchCom(e.forkedFrom.id),o?(e.forkedFrom=o,e.parent=c,e.inputPins&&e.inputPins.forEach((e=>{var t;if(e.forkedFrom){if(!(null===(t=e.forkedFrom)||void 0===t?void 0:t.id))return d();e.forkedFrom=o.searchPin(e.forkedFrom.id)}})),e.outputPins&&e.outputPins.forEach((e=>{var t;if(e.forkedFrom){if(!(null===(t=e.forkedFrom)||void 0===t?void 0:t.id))return d();e.forkedFrom=o.searchPin(e.forkedFrom.id)}})),void c.addCom(e,t?{x:t.left,y:t.top}:void 0)):d()):d()}function h(e,t,i){var o,a;if(e.isAutoRun()&&!e.runtime.hasUI()&&!c.isGlobal)return void l.error(`当前流程卡片不支持组件(${e.runtime.title})作为起点.`);let d;if(d=t&&t.root===r?e.runtime.hasUI()?t.parent:s().parent:r,t&&e.inputPins&&e.inputPins.forEach((e=>{const n=t.inputPins.find((e=>e.id==e.id));n.proxyPinValue&&(e.proxyPinValue=n.proxyPinValue)})),null===(o=e.ioProxy)||void 0===o?void 0:o.frameId){const t=n.searchFrame(e.ioProxy.frameId);t&&(e.ioProxy=t),e.inputPinsInModel&&e.inputPinsInModel.forEach((e=>{var t;if(null===(t=e.proxyPin)||void 0===t?void 0:t.frameId){const t=n.searchFrame(e.proxyPin.frameId);t&&(e.proxyPin=t.inputPins.find((t=>t.id===e.proxyPin.id)))}}))}if(null===(a=e.ioProxyForCall)||void 0===a?void 0:a.frameId){const t=n.searchFrame(e.ioProxyForCall.frameId);t&&(e.ioProxyForCall.frame=t),e.ioProxyForCall.frameId=void 0}e.parent=d,d.comAry.push(e),e.runtime.hasUI()||c&&c.addCom(e,i?{x:i.left,y:i.top}:void 0)}}},87808:(e,t,n)=>{n.d(t,{G:()=>i});n(33029),n(79127),n(5962),n(56976);function i(e,t,n){const i=e.topl;if(i&&(i._autoRun&&t.setAutoRun(!0),Array.isArray(i.inputPinsInModel)&&i.inputPinsInModel.forEach((e=>{const i=t.addInputPinInModel({hostId:e.hostId,title:e.title,schema:e.schema,editable:e.editable,deletable:!0});i&&(i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin}))})),Array.isArray(i.outputPinsInModel)&&i.outputPinsInModel.forEach((i=>{e._baseModel;const o=t.addOutputPinInModel({hostId:i.hostId,title:i.title,schema:i.schema,editable:i.editable,deletable:!0});o&&(o.id=i.id,i.proxyPin&&n.proxyPins.push({pin:o,proxy:i.proxyPin}))})),Array.isArray(i.inputPins)&&i.inputPins.forEach((e=>{const i=t.addInputPin({hostId:e.hostId,title:e.title,schema:e.schema,editable:e.editable,rels:e.rels});i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin})})),Array.isArray(i.outputPins)&&i.outputPins.forEach((e=>{const i=t.addOutputPin({hostId:e.hostId,title:e.title,editable:e.editable,schema:e.schema});i.id=e.id,e.proxyPin&&n.proxyPins.push({pin:i,proxy:e.proxyPin})})),Array.isArray(i.inputPinExts)&&i.inputPinExts.forEach((e=>{t.addInputPinExt({hostId:e.hostId,title:e.title,schema:e.schema}).id=e.id})),Array.isArray(i.outputPinExts)&&i.outputPinExts.forEach((e=>{t.addOutputPinExt({hostId:e.hostId,title:e.title,schema:e.schema}).id=e.id})),i.style))for(let e in i.style)t.style[e]=i.style[e]}},66497:(e,t,n)=>{n.d(t,{Vg:()=>c,jS:()=>d,zG:()=>u});var i=n(79127),o=n(3005),r=n(23037),s=n(83446),a=n(22270),l=n(43138);function c(e){(0,l.l)(e)}function d(e,t,n,i,o){const{viewModel:a,context:c,emitComponent:d,emitSnap:u,emitLogs:p}=e,f=a.searchCom(n);if(f){const e=f.searchPinByHostId(i,t);e.schema=o,(0,l.BJ)(e,t),"inputs"===t?e.conAry&&e.conAry.forEach((t=>{t.startPin._schemaFollow&&(0,r.xn)(e.schema)&&(t.startPin.schema=(0,s.d9)(e.schema),(0,l.BJ)(t.startPin,"outputs"))})):"outputs"===t&&e.conAry&&e.conAry.forEach((t=>{var n;(null===(n=t.finishPin)||void 0===n?void 0:n._schemaFollow)&&(0,r.xn)(e.schema)&&(t.finishPin.schema=(0,s.d9)(e.schema),(0,l.BJ)(t.finishPin,"inputs"))}))}}function u(e,t,n,l){const{viewModel:c,context:d,emitComponent:u,emitSnap:p,emitLogs:f}=e;function m(e){const t=e.parent;if(t instanceof a.n){const n=d.getComDef(t.runtime.def);if(null==n?void 0:n.editors){const r=n.editors[i.AX.INPUT_UPDATED];"function"==typeof r&&r((0,o.e)({context:d,model:t,emitComponent:u,emitSnap:p,emitLogs:f}),{id:e.hostId,title:e.title,schema:e.schema})}}}n.schema=l,"_inputs"===t||("inputs"===t?n.conAry&&n.conAry.forEach((e=>{e.startPin._schemaFollow&&(0,r.xn)(n.schema)&&(e.startPin.schema=(0,s.d9)(n.schema),m(e.startPin))})):"outputs"===t&&n.conAry&&n.conAry.forEach((e=>{var t;(null===(t=e.finishPin)||void 0===t?void 0:t._schemaFollow)&&(0,r.xn)(n.schema)&&(e.finishPin.schema=(0,s.d9)(n.schema),m(e.finishPin))})));const h=n.parent,g=h.parent;if(g instanceof a.n){const e=d.getComDef(g.runtime.def);if(e.editors){let r;r="inputs"===t?e.editors[i.AX.SLOT_INPUT_UPDATED]:e.editors[i.AX.SLOT_OUTPUT_UPDATED],"function"==typeof r&&r((0,o.e)({context:d,model:g,emitComponent:u,emitSnap:p,emitLogs:f}),h.id,{id:n.hostId,title:n.title,schema:n.schema})}}}},35565:(e,t,n)=>{n.d(t,{d:()=>o});var i=n(91275);function o(e){const{viewModel:t}=e;return{setTitle(e,n,i){if("toplView"!==i){const i=t.getFrame(e);if(i){i.title=n;const e=i.getGlobalDiagram();e&&(e.title=n)}}},switch(n){const i=t.getFrame(n);i&&e.switchFrame(i)},debug(n,o,r,s){if("toplView"!==s){const o=t.getFrame(n);(0,i.KH)(o,e,"start")}},close(t){e.clearCurFrameModel()}}}},49136:(e,t,n)=>{function i(e,t,n,i){const o=e.curFrameModel;if(!o)return;const r=o.searchCom(t);if(!r)return;const s=r.parent;if(0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const[t,n]=e;if(r.getFrame(t)){if(s.getDiagramForJoint(n))return!0}}}else{const e=s.getDiagramByCom(r,n);if(e)return!0;if(!e&&r.frames&&r.frames.find((e=>e.getDiagramByCom(r,n))))return!0}}function o(e,t,n,i){const{viewModel:o,context:r,curFrameModel:s,emitComponent:a,emitView:l,emitSnap:c,emitLogs:d}=e,u=s.searchCom(t),p=u.parent;let f;if(0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const[t,n]=e,i=u.getFrame(t);i&&(f=p.editDiagramForJoint(i,n))}}else{let e;e=i?u.getFrame(i):u.parent,f=e.editDiagramForFrame(u,n)}l.recoverSize(e.viewId),a.focus(f)}function r(e,t,n,i){const{viewModel:o,context:r,curFrameModel:s,emitComponent:a,emitView:l,emitSnap:c,emitLogs:d}=e,u=s.searchCom(t);if(l.recoverSize(e.viewId),0===n.indexOf("joint:")){const e=n.substring(6).split("/");if(2===e.length){const t=u.parent,[n,i]=e,o=u.getFrame(n);if(o){const e=t.editDiagramForJoint(o,i);if(e)return a.focus(e),{id:e.id,title:e.title}}}}else{let e;if(e=i?u.getFrame(i):u.parent,e){const t=e.editDiagramForFrame(u,n);if(t)return a.focus(t),{id:t.id,title:t.title}}}}n.d(t,{C1:()=>i,JM:()=>o,WQ:()=>r})},78694:(e,t,n)=>{n.d(t,{g:()=>r});var i=n(79127),o=n(22270);function r(e){const{context:t,viewModel:n,emitComponent:r}=e;return{getAll:()=>s(n),getAllBaseOn(e){const t=n.searchCom(e).parent;if(t)return a(t,n)},get(e){const t=n.getVarComponent(e);if(t)return{id:t.id,title:t.runtime.title}},add({title:e,schema:r,initValue:s,slotId:a}){var l;const c=()=>{const n=t.getComDef({namespace:i.Vm.coms.var}),r=new i.u5(n,!1,e),s=new o.n(r);s.runtime.topl=s,s.isSingleton=!0;const a={type:"string"};return s.outputPins.forEach((e=>{e.schema=a})),s};if(a){const t=n.getMainModuleFrame();if(t.getSingletonComAry(i.Vm.coms.var).find((t=>t.runtime.title===e)))return;{const e=c();return t.addComponent(e).id}}{if(null===(l=n.varComAry)||void 0===l?void 0:l.find((t=>t.runtime.title===e)))return;const t=c();return n.addVarComponent(t).id}},update(e,{title:t,schema:i,initValue:o}){const r=n.searchCom(e);if(r)return r.runtime.title=t,r.runtime.model.data.initValue=o,r.outputPins.forEach((e=>{e.schema=i})),!0},remove(e){const t=n.searchCom(e);if(t)return r.delete(t),!0},notifyBindings(e,t,i){const o=n.searchCom(e);o&&o.notifyBindings(t,i)}}}function s(e){const t=e.varComAry;if(t&&t.length>0){return{varAry:t.map((e=>{const t=e.runtime;return{id:e.id,title:t.title,initValue:t.model.data.initValue}}))}}}function a(e,t){const n=e.getSingletonComAry(i.Vm.coms.var).map((e=>{const t=e.runtime;return{id:e.id,title:t.title,initValue:t.model.data.initValue}}));if(e.parent instanceof o.n){const i=e.parent.parent;if(i)return{title:e.title,parent:a(i,t),varAry:n}}else if(!e.parent){const i=s(t);if(i)return{title:e.title,parent:i,varAry:n}}return{title:e.title,varAry:n}}},44780:(e,t,n)=>{n.d(t,{g:()=>w});var i,o,r,s,a=n(33029),l=n(22270),c=n(5962),d=n(23037),u=n(40741),p=n(5583),f=n(14509),m=n(79127),h=n(83446),g=n(71442),y=n(81120),b=n(56976),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let w=i=class extends u.Z{get connections(){const e=this;return{isChanging:()=>e._connections.changing,isChanged:()=>e._connections.changed,changing(){e._connections.changing=!0},changed(){e._connections.changed=!0},refactored(){e._connections.changing=void 0,e._connections.changed=void 0}}}get conAry(){let e=[];return this.diagramAry&&this.diagramAry.forEach((t=>{e=e.concat(t.conAry)})),e}constructor(e){if(super(),this._type=f.t_.FRAME,this.style={left:null,top:null},this.editable=!0,this.isFrame=!0,this.frameAry=[],this.inputPins=[],this._inputPins=[],this.outputPins=[],this._outputPins=[],this.inputJoints=[],this.outputJoints=[],this.comAry=[],this.diagramAry=[],this.comsAddedInDebug=[],this._connections={changed:!0,changing:void 0},this.focusModelAry=[],this.zIndexCur={con:0,com:100},e){const{id:t,name:n,title:i,catalogId:o,type:r,deletable:s,debuggable:a,rootF:l,asDefault:c}=e;t&&(this.id=t),i&&(this.title=i),n&&(this.name=n),"boolean"==typeof l&&(this._rootF=l),o&&(this.catalogId=o),this.type=r,this._defaultF=c,this.deletable=s,this.debuggable=a}}get root(){return this.getRoot((e=>e instanceof i&&e._rootF||e._rootF))}isRootFrame(){return!this.parent}setAsDefault(){this._defaultF=!0}isDefault(){return this._defaultF}isTypeOfFx(){return"fx"===this.type}isTypeOfPopup(){return"popup"===this.type}isTypeOfDefinedCom(){return"definedCom"===this.type}isTypeOfModule(){return"module"===this.type}setTitle(e){this.title=e,this.diagramAry.find((t=>{if(t.isGlobal)return t.title=e,!0}))}addExeTodo(e){this.exeTodo||(this.exeTodo=[]),this.exeTodo.push(e)}exist(){return!0}addDebugTempCom(e){(0,h.ID)(e),this.comsAddedInDebug.push(e)}clearAllTempComs(){this.comsAddedInDebug.forEach((e=>{if(this.diagramAry){let t;this.diagramAry.find(((n,i)=>{if(n.startWithCom&&n.startWithCom.forkedFrom===e)return t=i,!0})),void 0!==t&&this.diagramAry.splice(t,1)}this.delete(e)}))}addFrame({id:e,title:t,type:n,catelogId:o,deletable:r,debuggable:s}){const a=new i({id:e,title:t,catelogId:o,type:n,deletable:r,debuggable:s});return a.parent=this,this.frameAry.push(a),this.frameAry[this.frameAry.length-1]}addDiagramWithStartCom(e,t,n,i){const o=new b.Z(this,e,"startCom",{io:n,startFrom:t,isBlueprint:i});let r=0,s=0;if(this.diagramAry.length>0){const e=this.diagramAry[this.diagramAry.length-1];r=e.style.left,s=e.style.top+e.style.height+50}return o.style.left=r,o.style.top=s,this.diagramAry.push(o),this.diagramAry[this.diagramAry.length-1]}addDiagramWithOutput(e,t){const n=new b.Z(this,e,"startOutput",{outputPin:t});return this.diagramAry.push(n),this.diagramAry[this.diagramAry.length-1]}addDiagramWithFrame(e,t,n){const i=new b.Z(this,e,"startFrame",{startFrom:t,outputJoint:n});let o=0,r=0;if(this.diagramAry.length>0){const e=this.diagramAry[this.diagramAry.length-1];o=e.style.left,r=e.style.top+e.style.height+50}return i.style.left=o,i.style.top=r,this.diagramAry.push(i),this.diagramAry[this.diagramAry.length-1]}addIODiagram(e){const t=new b.Z(this,e.title,"normal");return t.isGlobal=!0,t.showIO=!0,this.diagramAry.push(t),this.diagramAry[this.diagramAry.length-1]}addVarDiagram(e){let t=new b.Z(this,e.title,"normal");return this.diagramAry.push(t),t=this.diagramAry[this.diagramAry.length-1],t.isVar=!0,t.varCom=e,t}addFxDiagram(){let e=0;this.frameAry.forEach((t=>{t.diagramAry.length>0&&(e+=t.diagramAry.filter((e=>e.isFn)).length)}));let t=new i;t.parent=this,this.frameAry.push(t),t=this.frameAry[this.frameAry.length-1],t.addInputPin({type:"normal",hostId:"param0",title:"输入项",schema:{type:"unknown"},editable:!0});const n=new b.Z(t,`${this.title}的Fx卡片${e}`,"normal");return n.isFn=!0,t.diagramAry.push(n),t.diagramAry[t.diagramAry.length-1]}removeDiagram(e){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}getGlobalDiagram(){return this.diagramAry.find((e=>e.isGlobal))}getFocusedDiagram(){let e;return this.diagramAry&&(e=this.diagramAry.find((e=>e.state.isFocused()))),e||this.frameAry.find((t=>{const n=t.getFocusedDiagram();if(n)return e=n,!0})),e}searchDiagramByFxRef(e,t){this.diagramAry&&this.diagramAry.forEach((n=>{n.comAry.find((e=>{if(e.ioProxy===t)return!0}))&&e.push(n)})),this.frameAry&&this.frameAry.forEach((n=>{n.searchDiagramByFxRef(e,t)})),this.comAry&&this.comAry.forEach((n=>{n.frames&&n.frames.forEach((n=>{n.searchDiagramByFxRef(e,t)}))}))}searchDiagramByPin(e){if(this.diagramAry)return this.diagramAry.filter(((t,n)=>{if(t.comAry.find((t=>!!d.tk.find((t=>t.id===e.id),...t.getInputsAll())||(!!d.tk.find((t=>t.id===e.id),...t.getOutputsAll())||void 0))))return!0}))}searchDiagramByStartCom(e){if(this.diagramAry)return this.diagramAry.filter(((t,n)=>{if(t.startWithCom&&t.startWithCom.forkedFrom===e)return!0}))}addInputJoint(e){const{id:t,hostId:n,title:i,schema:o,icon:r}=e,s=this.inputJoints.some((e=>e.hostId===n));if(s)return;const l=new a.O({type:"joint",direction:"inner-output",id:t,hostId:n,title:i,schema:o,icon:r,deletable:!0});return l.parent=this,this.inputJoints.push(l),l}downwardJoint(e){const t=this.inputJoints.indexOf(e)>=0?this.inputJoints:this.outputJoints;if(t.length>1){const n=t.indexOf(e);if(n<t.length-1){const e=n,i=n+1;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}upwardJoint(e){const t=this.inputJoints.indexOf(e)>=0?this.inputJoints:this.outputJoints;if(t.length>1){const n=t.indexOf(e);if(n>0){const e=n-1,i=n;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}addOutputJoint(e){const{id:t,hostId:n,title:i,schema:o,icon:r}=e,s=this.outputJoints.some((e=>e.hostId===n));if(s)return;const l=new a.O({type:"joint",direction:"inner-input",id:t,hostId:n,title:i,schema:o,icon:r,deletable:!0});return l.parent=this,this.outputJoints.push(l),l}removeInputJoint(e){let t;this.inputJoints.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.inputJoints.splice(t,1)}renameInputJoint(e,t){this.inputJoints.find((n=>{n.hostId===e&&(n.title=t)}))}setInputJointSchema(e,t){this.inputJoints.find((n=>{n.hostId===e&&(n.schema=t)}))}removeOutputJoint(e){let t;this.outputJoints.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.outputJoints.splice(t,1)}renameOutputJoint(e,t){this.outputJoints.find((n=>{n.hostId===e&&(n.title=t)}))}setOutputJointSchema(e,t){this.outputJoints.find((n=>{n.hostId===e&&(n.schema=t)}))}add_InputPin(e){const{id:t,hostId:n,title:i,params:o,schema:r,conMax:s,rels:l}=e,c=this._inputPins.find((e=>e.hostId===n));if(c)return c;const d=new a.O({type:"normal",direction:"inner-output",id:t,hostId:n,title:i,params:o,schema:r,conMax:s,deletable:!1,isPrivate:!0,rels:l});return d.parent=this,this._inputPins.push(d),d}addInputPin(e,t){const{type:n,typeTitle:i,fromPlugin:o,id:r,hostId:s,title:l,desc:c,wrap:d,schema:u,icon:p,conMax:f,editable:m,deletable:h,extValues:g}=e,y=this.inputPins.some((e=>e.hostId===s));if(y)return;const b=new a.O({type:n||"normal",fromPlugin:o,direction:"inner-output",id:r,hostId:s,title:l,desc:c,typeTitle:i,wrap:d,schema:u,icon:p,conMax:f,editable:m,deletable:h,extValues:g});if(b.parent=this,t?this.inputPins.unshift(b):this.inputPins.push(b),this._rootF&&this.parent){this.parent.addInputPin({hostId:s,title:l,schema:u})}return b}downwardPin(e){const t=this.inputPins.indexOf(e)>=0?this.inputPins:this.outputPins;if(t.length>1){const n=t.indexOf(e);if(n<t.length-1){const e=n,i=n+1;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}upwardPin(e){const t=this.inputPins.indexOf(e)>=0?this.inputPins:this.outputPins;if(t.length>1){const n=t.indexOf(e);if(n>0){const e=n-1,i=n;return t[e]=t.splice(i,1,t[e])[0],!0}}return!1}add_OutputPin(e){const{id:t,hostId:n,title:i,params:o,schema:r,conMax:s}=e,l=this._outputPins.find((e=>e.hostId===n));if(l)return l;const c=new a.O({type:"normal",direction:"inner-input",id:t,hostId:n,title:i,params:o,schema:r,conMax:s,isPrivate:!0,deletable:!1});return c.parent=this,this._outputPins.push(c),c}addOutputPin(e){const{id:t,hostId:n,title:i,desc:o,type:r,wrap:s,schema:l,icon:c,conMax:d,editable:u,deletable:p}=e,f=this.outputPins.some((e=>e.hostId===n));if(f)return;const m=new a.O({type:r||"normal",direction:"inner-input",id:t,hostId:n,title:i,desc:o,wrap:s,schema:l,icon:c,conMax:d,editable:u,deletable:p});if(m.parent=this,this.outputPins.push(m),this._rootF&&this.parent){this.parent.addOutputPin({hostId:n,title:i,schema:l})}return m}remove_InputPin(e){let t;this._inputPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this._inputPins.splice(t,1)}removeInputPin(e){let t;if(this.inputPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.inputPins.splice(t,1),this._rootF&&this.parent){this.parent.removeInputPin(e)}}renameInputPin(e,t){if(this.inputPins.find((n=>{n.hostId===e&&(n.title=t)})),this._rootF&&this.parent){this.parent.setInputPinTitle(e,t)}}setInputPinSchema(e,t){if(this.inputPins.find((n=>{n.hostId===e&&(n.schema=t)})),this._rootF&&this.parent){this.parent.setInputPinSchema(e,t)}}removeOutputPin(e){let t;if(this.outputPins.find(((n,i)=>{n.hostId===e&&(n.destroy(),t=i)})),this.outputPins.splice(t,1),this._rootF&&this.parent){this.parent.removeOutputPin(e)}}renameOutputPin(e,t){if(this.outputPins.find((n=>{n.hostId===e&&(n.title=t)})),this._rootF&&this.parent){this.parent.setOutputPinTitle(e,t)}}setOutputPinSchema(e,t){if(this.outputPins.find((n=>{n.hostId===e&&(n.schema=t)})),this._rootF&&this.parent){this.parent.setOutputPinSchema(e,t)}}addComponent(e){return this.comAry.find((t=>t.id===e.id))?e:(e.parent=this,e.runtime.topl||(e.runtime.topl=e),this.comAry.push(e),this.comAry[this.comAry.length-1])}addConnection(...e){let t;e[0]instanceof c.o?t=e[0]:e.length>=2&&e[0]instanceof a.O&&e[0]instanceof a.O&&(t=(0,y._B)(e[0],e[1],this.$el)),t.parent=this;return e.find((e=>"boolean"==typeof e&&e))?(this.conTemp=t,this.conTemp):(this.conAry.push(t),this.conAry[this.conAry.length-1])}getSingletonComAry(e){return e?this.comAry.filter((t=>{if(t.isSingleton&&t.runtime.def.namespace===e&&!t.forkedFrom)return t})):this.comAry.filter((e=>e.isSingleton&&!e.forkedFrom))}changeOrder(e,t){const n=[];return this.comAry.forEach(((i,o)=>{o==t&&n.push(e),i.id!==e.id&&n.push(i)})),t==this.comAry.length&&n.push(e),this.comAry=n,e.parent=this,this.comAry[t]}copyIn(e,t){let n,i=new l.n(e);if(this.state.isHovering()&&(this.state.hoverRecover(),n=!0),n){let t=(0,d.bt)(e.$el),n=(0,d.bt)(this.$el);i.style.left=t.x-n.x,i.style.top=t.y-n.y}else if(t){let[e,t]=(0,d.B5)(20,80);i.style.left=e,i.style.top=t}else i.style.left=void 0!==i.style.left?i.style.left:20,i.style.top=void 0!==i.style.top?i.style.top:20;return this.comAry.push(i),i.parent=this,this.focusItem(i),i}cutIn(e,t){let n;if(this.state.isHovering()&&(this.state.hoverRecover(),n=!0),e&&e instanceof l.n){const i=e;if(i.parent!==this){if(n){let e=(0,d.bt)(i.$el),t=(0,d.bt)(this.$el);i.style.left=e.x-t.x,i.style.top=e.y-t.y}else if(t){let[e,t]=(0,d.B5)(20,50);i.style.left=e,i.style.top=t}else i.style.left=void 0!==i.style.left?i.style.left:20,i.style.top=void 0!==i.style.top?i.style.top:20;const e=i.parent;e.diagramAry.forEach(((t,n)=>{t.startWithCom&&t.startWithCom.forkedFrom===i&&(e.release(t),t.comAry.forEach((t=>{t.runtime.hasUI()||t.runtime.def.namespace===m.Vm.coms.frameOutput||(e.release(t),t.parent=this,this.comAry.push(t))})),t.parent=this,this.diagramAry.push(t))})),e.release(i),this.comAry.push(i),i.parent=this}return e}}hasChildCom(e){return void 0!==this.comAry.find((t=>t.id==e.id))}hasCom(e){return void 0!==this.searchCom(e.id)}searchComByRefId(e){let t;return this.comAry&&this.comAry.find((n=>n.runtime.refId==e?(t=n,!0):n.frames?n.frames.find((n=>{if(t=n.searchComByRefId(e),t)return!0})):void 0)),t}searchCom(e,t){let n;return this.comAry&&this.comAry.find((i=>i.id==e?(n=i,!0):i.frames?i.frames.find((i=>{if(n=i.searchCom(e,t),n)return!0})):void 0)),!n&&this.frameAry&&this.frameAry.find((i=>{if(n=i.searchCom(e,t),n)return!0})),!n&&t&&this.diagramAry.find((t=>{if(n=t.searchCom(e),n)return!0})),n}searchComByDef(e,t){return t=t||[],this.comAry&&this.comAry.find((n=>{n.runtime.def.namespace===e.namespace&&t.push(n),n.frames&&n.frames.forEach((n=>{const i=n.searchComByDef(e);i&&(t=t.concat(i))}))})),this.frameAry&&this.frameAry.find((n=>{const i=n.searchComByDef(e);i&&(t=t.concat(i))})),t}searchComInDiagrams(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchCom(e),t)return t})),!t&&this.frameAry&&this.frameAry.find((n=>{if(t=n.searchComInDiagrams(e),t)return t})),t}searchForkedComAry(e,t){return t||(t=[]),this.diagramAry&&this.diagramAry.forEach((n=>{n.searchForkedComAry(e,t)})),this.frameAry&&this.frameAry.forEach((n=>{n.searchForkedComAry(e,t)})),this.comAry&&this.comAry.forEach((n=>{n.frames&&n.frames.forEach((n=>{n.searchForkedComAry(e,t)}))})),t}searchComInDiagramsBy_key(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchComBy_key(e),t)return t})),!t&&this.frameAry&&this.frameAry.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return t})),!t&&this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchComInDiagramsBy_key(e),t)return t}))})),t}searchCon(e){let t;return this.diagramAry&&this.diagramAry.find((n=>{if(t=n.searchConById(e),t)return t})),t||this.frameAry&&this.frameAry.find((n=>{if(t=n.searchCon(e),t)return t})),t||this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchCon(e),t)return t}))})),t}searchFrame(e){if(this.id===e)return this;if(this.frameAry){const t=this.frameAry.find((t=>{if(t.id===e)return!0}));if(t)return t}let t;return this.comAry&&this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchFrame(e),t)return!0}))})),t}searchDiagram(e){if(this.diagramAry){const t=this.diagramAry.find((t=>{if(t.id===e)return!0}));if(t)return t}let t;return this.frameAry&&(this.frameAry.find((n=>{if(t=n.searchDiagram(e),t)return!0})),t)||this.comAry&&(this.comAry.find((n=>{n.frames&&n.frames.find((n=>{if(t=n.searchDiagram(e),t)return!0}))})),t)?t:void 0}findItemByPo({x:e,y:t,w:n,h:i},o){let r;if(n=n||5,i=i||5,this.comAry.find((s=>{s.id!==o.id&&s.frames&&s.frames.forEach((s=>{if(s.$el){let a=(0,d.bt)(s.$el),l=s.$el.offsetWidth,c=s.$el.offsetHeight;if(Math.max(e+n,a.x+l)-Math.min(e,a.x)<n+l&&Math.max(t+i,a.y+c)-Math.min(t,a.y)<i+c)return(r=s.findItemByPo({x:e,y:t,w:n,h:i},o))||(r=s),!0}}))})),r)return r}active(){this.inputJoints.forEach((e=>{e.from.enable()})),this.outputJoints.forEach((e=>{e.to.enable()}))}inactive(){this.inputJoints.forEach((e=>{e.from.disable()})),this.outputJoints.forEach((e=>{e.to.disable()}))}cleanHintedPinAry(){this.hintPinModelAry&&this.hintPinModelAry.forEach((e=>{e.hint=void 0}))}focusItem(e){this.cleanHintedPinAry(),e instanceof i||"object"==typeof e&&(Array.isArray(e)?(this.blur(),e.forEach((e=>{e&&e.focus()})),this.focusModelAry=this.focusModelAry.concat(e)):e instanceof u.Z||e instanceof l.n||"function"==typeof e.focus&&!(e instanceof m.M_)?(this.blur(),e.focus(),this.focusModelAry.push(e)):"function"==typeof e.focus&&(e.focus(),this.focusModelAry.push(e)))}blur(e){if(this.focusModelAry)if(e){const t=this.focusModelAry.indexOf(e);t>=0&&this.focusModelAry.splice(t,1)}else this.focusModelAry.forEach((e=>{e&&"function"==typeof e.blur&&e.blur()})),this.focusModelAry=[];this.cleanHintedPinAry()}getDiagramByOutput(e){return this.diagramAry.find((t=>{if(t.startWithOutput&&t.startWithOutput.hostId===e)return!0}))}getVarDiagram(e){return this.diagramAry.find((t=>{if(t.isVar&&t.varCom.id===e)return!0}))}getDiagramByCom(e,t){return this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}))}getDiagramForJoint(e){return this.diagramAry.find((t=>{var n,i;if((null===(i=null===(n=t.startWithJoint)||void 0===n?void 0:n.outputJoint)||void 0===i?void 0:i.from.id)===e)return!0}))}getDiagramByRefId(e,t){const n=this.searchComByRefId(e);if(!n)return;return this.diagramAry.find((e=>{const i=e.startWithCom;if(i&&i.id===n.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}))}editDiagramForJoint(e,t){if(t){const n=this.diagramAry.find((e=>{var n,i;if((null===(i=null===(n=e.startWithJoint)||void 0===n?void 0:n.outputJoint)||void 0===i?void 0:i.from.id)===t)return!0}));if(n)return n;{const n=e.outputJoints.find((e=>e.id===t));if(n){const t=`${e.title} > ${n.title}`;return this.addDiagramWithFrame(t,e,n)}}}}editDiagramForComId(e,t,n){const i=this.searchCom(e);if(!i)throw new Error(`未找到组件(id=${e}).`);if(!t){const t=this.diagramAry.find((t=>{const n=t.startWithCom;if(n&&n.id===e)return!0}));return t||this.addDiagramWithStartCom(i.runtime.title,i,void 0,n)}{const o=this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}));if(o)return o;{const e=i.getOutputInfo(t);if(e){const o=`${i.runtime.title} > ${e.title}`;return this.addDiagramWithStartCom(o,i,{outputs:[t]},n)}}}}editDiagramForFrame(e,t,n){const i=this.diagramAry.find((n=>{const i=n.startWithCom;if(i&&i.id===e.id&&"object"==typeof i.ioc&&i.ioc.outputs&&t in i.ioc.outputs)return!0}));if(i)return i;{const i=e.getOutputInfo(t);if(i){const o=`${e.runtime.title} > ${i.title}`;return this.addDiagramWithStartCom(o,e,{outputs:[t]},n)}}}findPinAryBySchema(e){const t=e.isDirectionOfInput(),n=[];return this.comAry.find((i=>{t?d.tk.each((t=>{e.hadConToPin(t)||!0!==canConnectTo(e,t)||n.push(t)}),...i.getOutputsAll()):d.tk.each((t=>{e.hadConToPin(t)||!0!==canConnectTo(e,t)||n.push(t)}),...i.getInputsAll())})),this.cleanHintedPinAry(),this.hintPinModelAry=n,n}searchMyPinByHostId(e,t){return"input"===t?this.outputPins.find((t=>t.hostId===e)):this.inputPins.find((t=>t.hostId===e))}searchPin(e){let t=this.inputPins.find((t=>t.id===e));return t||(t=this.outputPins.find((t=>t.id===e))),t||this.comAry.find((n=>(t=d.tk.find((t=>t.id===e),...n.getInputsAll()),!!t||(t=d.tk.find((t=>t.id===e),...n.getOutputsAll()),!!t||void 0)))),t}searchJoint(e){let t=d.tk.find((t=>t.id===e),this.inputJoints,this.outputJoints);return t||this.comAry.find((n=>{if(n.frames)return n.frames.find((n=>{if(t=n.searchJoint(e),t)return!0}))})),t}deleteMySelf(){this.diagramAry&&(this.diagramAry=[])}delete(e){const t=(n,i)=>{let o;return n.find(((t,n)=>{if(t.id===e.id)return o=n,!0})),o>=0?(n.splice(o,1),!0):i?n.find((e=>{e.frames&&e.frames.find((e=>{if(e.comAry)return t(e.comAry,!0)}))})):void 0};if(e instanceof l.n){if(e.forkedFrom)return;t(this.comAry,!0)}else e instanceof c.o?this.conTemp&&this.conTemp.id===e.id?this.conTemp=void 0:t(this.conAry):e instanceof a.O?t(this.inputPins)||t(this.outputPins):e instanceof p.U?t(this.inputJoints)||t(this.outputJoints):e instanceof b.Z?(e.destroy(),t(this.diagramAry)):e instanceof i&&(e.destroy(),t(this.frameAry))}release(e){if(e instanceof l.n){let t=[];this.comAry.forEach((n=>{n.id!=e.id&&t.push(n)})),this.comAry=t}else if(e instanceof b.Z){const t=this.diagramAry.indexOf(e);t>=0&&this.diagramAry.splice(t,1)}}refreshInnerCons(e,t,n){let i=(0,h.dL)(e.$el),o=n=>{let i=n.$el;if(!i)return;let o=(0,h.dL)(i,e.$el),r={temp:t,x:Math.round(o.x-i.width()/2)+.5,y:Math.round(o.y)+.5,j:n.getJoinerWidth()};n.conAry.forEach((e=>{e.finishPo=r}))},r=e=>{let n=e.$el;if(!n)return;let o=(0,h.dL)(n),r={temp:t,x:Math.round(o.x+n.width()/2-i.x)+.5,y:Math.round(o.y-i.y)+.5,j:e.getJoinerWidth()};e.conAry.forEach((e=>{e.startPo=r}))};n&&"input"!=n||(this.inputPins.forEach(r),this.inputJoints.forEach(r)),n&&"output"!=n||(this.outputPins.forEach(o),this.outputJoints.forEach(o))}applyZIndex(e){return e instanceof l.n?(this.zIndexCur.com++,this.zIndexCur.com):e instanceof c.o?(this.zIndexCur.con++,this.zIndexCur.con):void 0}getSummaryInfo(){let e=0,t=0;return this.diagramAry.forEach((n=>{n.conAry.length>0&&t++,e+=n.comAry.length})),this.frameAry&&this.frameAry.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.diagrams})),this.comAry&&this.comAry.forEach((n=>{(null==n?void 0:n.frames)&&n.frames.forEach((n=>{const i=n.getSummaryInfo();e+=i.coms,t+=i.diagrams}))})),{coms:e,diagrams:t}}forEachCom(e){this.comAry&&this.comAry.forEach((t=>{const n=t.runtime.toJSON(!0,"topl");e(n),t.frames&&t.frames.forEach((t=>{t.forEachCom(e)}))}))}toJSON(e){var t,n,i,o,r;if(e){const s={};if(s.id=this.id,s._type=this._type,s.title=this.title,s.name=this.name,this.parent&&(s.parent={id:this.parent.id}),this.frameAry){const t=[];this.frameAry.forEach((n=>{t.push(n.toJSON(e))})),s.frameAry=t}if(this.comAry){const t=[];this.comAry.forEach((n=>{t.push(n.runtime.toJSON(e,"topl"))})),s.comAry=t}if((null===(t=this.inputPins)||void 0===t?void 0:t.length)>0){const t=[];this.inputPins.forEach((n=>{t.push(n.toJSON(e))})),s.inputPins=t}if((null===(n=this.inputJoints)||void 0===n?void 0:n.length)>0){const e=[];this.inputJoints.forEach((t=>{e.push(t.toJSON())})),s.inputJoints=e}if((null===(i=this.outputPins)||void 0===i?void 0:i.length)>0){const t=[];this.outputPins.forEach((n=>{t.push(n.toJSON(e))})),s.outputPins=t}if((null===(o=this.outputJoints)||void 0===o?void 0:o.length)>0){const e=[];this.outputJoints.forEach((t=>{e.push(t.toJSON())})),s.outputJoints=e}if((null===(r=this.diagramAry)||void 0===r?void 0:r.length)>0){const t=[],n=[];this.diagramAry.forEach((i=>{if(i.conAry){const o=[];i.conAry.forEach((t=>{t.invalid||(o.push(t.toJSON(e)),n.push(t.toJSON(e)))})),t.push({id:i.id,title:i.title,conAry:o})}})),n.length>0&&(s.conAry=n),t.length>0&&(s.diagramAry=t)}return s}{const e={};if(e.id=this.id,e.title=this.title,this.parent&&(e.parent={id:this.parent.id}),e.name=this.name,e._rootF=this._rootF,e.style=(0,h.d9)(this.style),this.comAry){const t=[];this.comAry.forEach((e=>{t.push(e.runtime.toJSON("topl"))})),e.comAry=t}if(this.inputPins){const t=[];this.inputPins.forEach((e=>{t.push(e.toJSON())})),e.inputPins=t}if(this.inputJoints){const t=[];this.inputJoints.forEach((e=>{t.push(e.toJSON())})),e.inputJoints=t}if(this.outputPins){const t=[];this.outputPins.forEach((e=>{t.push(e.toJSON())})),e.outputPins=t}if(this.outputJoints){const t=[];this.outputJoints.forEach((e=>{t.push(e.toJSON())})),e.outputJoints=t}if(this.conAry){const t=[];this.conAry.forEach((e=>{t.push(e.toJSON())})),e.conAry=t}if(this.diagramAry.length>0){const t=[];this.diagramAry.forEach((e=>{t.push(e.toJson())})),e.diagramAry=t}return e}}destroy(){super.destroy()}stopDebug(){this.clearDebugHints(),this.comAry.forEach((e=>{e.stopDebug()})),this._curScope_=void 0,this._allScopes_=void 0}clearDebugHints(){this.inputPins.forEach((e=>{e.clearDebugHints()})),this.outputPins.forEach((e=>{e.clearDebugHints()})),this.diagramAry.forEach((e=>{e.clearDebugHints()})),this.frameAry.forEach((e=>{e.clearDebugHints()})),this.comAry.forEach((e=>{e.clearDebugHints()})),this.exeTodo=void 0}};v([h.jj,x("design:type","function"==typeof(o=void 0!==c.o&&c.o)?o:Object)],w.prototype,"conTemp",void 0),v([h.jj,x("design:type",Array)],w.prototype,"comsAddedInDebug",void 0),v([h.jj,x("design:type",Array)],w.prototype,"exeTodo",void 0),v([h.jj,x("design:type",Object)],w.prototype,"_connections",void 0),v([h.jj,x("design:type","function"==typeof(r="undefined"!=typeof Array&&Array)?r:Object)],w.prototype,"focusModelAry",void 0),v([h.jj,x("design:type",Array)],w.prototype,"hintPinModelAry",void 0),v([h.jj,x("design:type","function"==typeof(s=void 0!==f.uo&&f.uo)?s:Object)],w.prototype,"_curScope_",void 0),v([h.jj,x("design:type",Object)],w.prototype,"_allScopes_",void 0),w=i=v([(0,h.iV)(g.it+"topl.FrameModel"),x("design:paramtypes",[Object])],w)},34252:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(83446),o=n(71442),r=n(40741),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.Z{constructor(e,t,n){super(),this.width=100,e&&(this.conModel=e,this.content=t,this.po=n)}focus(){this.state.focus()}blur(){this.state.enable()}};s([i.jj,a("design:type",Boolean)],l.prototype,"_focused",void 0),l=s([(0,i.iV)(o.it+"topl.frame.CommentModel"),a("design:paramtypes",[Object,String,Object])],l)},56976:(e,t,n)=>{n.d(t,{Z:()=>w});var i,o=n(83446),r=n(79127),s=n(22270),a=n(5962),l=n(33029),c=n(81120),d=n(23037),u=n(71442),p=n(18204),f=n(44780),m=n(34252),h=n(22585),g=n(56258),y=n(9652),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let x=class extends p.Z{set startFrom(e){e&&(this.startWithCom=e)}refreshUpdateTime(){this.updateTime=(new Date).getTime(),this.updated=!0}get title(){if(this.startWithCom&&this.startWithCom.runtime.def.namespace===r.Vm.coms.module&&this.startWithCom.outputPins.length>0){const e=this.startWithCom.outputPins[0];if(e instanceof g.default&&e.forkedFrom){const t=e.forkedFrom.proxyPin;if(t)return`${this.startWithCom.runtime.title} > ${t.title}`}}if(this._title)return this._title;if(this.startWithCom){const e=this.startWithCom.title;if(e)return e}return"未命名"}set title(e){this._title=e}get connections(){const e=this;return{isChanging:()=>e._connections.changing,isChanged:()=>e._connections.changed,changing(){e._connections.changing=!0},changed(){e._connections.changed=!0},refactored(){e._connections.changing=void 0,e._connections.changed=void 0}}}constructor(e,t,n,i){var o,r;if(super(),this.comAry=[],this.outputPins=[],this.outputJoints=[],this.conAry=[],this.commentAry=[],this.style={visible:!1,left:null,top:null,height:400,width:700},this._connections={changed:!0,changing:void 0},e){if(this.parent=e,(null==i?void 0:i.isBluePrint)&&(this.isBluePrint=!0),"startOutput"===n)this.startWithOutput=i.outputPin;else{const t=null==i?void 0:i.startFrom;if(t)if("startCom"===n){const n=t,s=this.addCom(n,{x:50,y:26},i.io||"all-outputs");if(this.startWithCom=s,s.forkedFrom){s._startInDiagram=!0;const t=null===(o=n.frames)||void 0===o?void 0:o.find((t=>t===e));if(t){const e=null===(r=i.io)||void 0===r?void 0:r.outputs;e&&e.forEach((e=>{n.searchPinByHostId(e,"outputs").runInFrameId=t.id}))}}}else"startFrame"===n&&(this.startWithJoint=t)}this.title=t,this.createTime=(new Date).getTime()}}get root(){let e=this;for(;e.parent&&(e=e.parent,!(e instanceof f.g&&e._rootF)););return e}tidyUp(){(0,y.Y)(this)}setStart(e){const t=this.addCom(e,{x:50,y:26});return t.forkedFrom&&(t._startInDiagram=!0),t}getGroup(e){var t;return null===(t=this.groupAry)||void 0===t?void 0:t.find((t=>t.id===e))}addGroup(e){if(e.length>1){const t=new h.Z(e);return this.groupAry||(this.groupAry=[]),this.groupAry.push(t),this.groupAry[this.groupAry.length-1]}}removeGroup(e){if(e.comAry.forEach((e=>{e.groupId=void 0})),this.groupAry){const t=this.groupAry.indexOf(e);t>=0&&this.groupAry.splice(t,1)}}addCom(e,t,n){if(n){const i=e.fork(this,n);t&&(i.style.left=Math.round(t.x),i.style.top=Math.round(t.y)),i.diagramModel=this,this.comAry.push(i)}else e.diagramModel=this,e.forkedFrom||this.parent.addComponent(e),t&&(e.style.left=Math.round(t.x),e.style.top=Math.round(t.y)),this.comAry.push(e);return this.comAry[this.comAry.length-1]}addConnection(...e){let t;e[0]instanceof a.o?t=e[0]:e.length>=2&&e[0]instanceof l.O&&e[0]instanceof l.O&&(t=(0,c._B)(e[0],e[1],this.$el)),t.parent=this;return e.find((e=>"boolean"==typeof e&&e))?(t.isTemp=!0,this.conTemp=t,this.conTemp):(this.conAry.push(t),this.conAry[this.conAry.length-1])}searchCom(e){return this.comAry.find((t=>t.id===e))}searchComBy_key(e){return this.comAry.find((t=>t._key===e))}searchComByKey(e){return this.comAry.find((t=>t._key===e))}searchForkedComAry(e,t=[]){this.comAry.forEach((n=>{n.forkedFrom===e&&t.push(n)}))}searchCon(e,t){if(this.conAry)return this.conAry.find((n=>n.startPin.id===e&&n.finishPin.id===t))}searchConById(e){if(this.conAry)return this.conAry.find((t=>t.id===e))}addComment(e,{x:t,y:n}){const i=new m.P(this,e,{x:t,y:n});return this.commentAry.push(i),i}removeComment(){this.commentAry=this.commentAry.filter((e=>!e.state.isFocused()))}refreshInnerCons(e,t,n){(0,o.dL)(e.$el);let i=n=>{let i=n.$el,r=(0,o.dL)(i,e.$el),s={temp:t,x:Math.round(r.x-i.width()/2)+.5,y:Math.round(r.y)+.5,j:n.getJoinerWidth()};n.conAry.forEach((e=>{e.finishPo=s}))};n&&"output"!=n||this.outputPins.forEach(i)}formatView(){this.conAry.length>0&&this.conAry.forEach((e=>{const t=e.startPin,n=e.finishPin;console.log(t.order,n.order)}))}delete(e){const t=t=>{let n=t.indexOf(e);return n>=0?t.filter(((e,t)=>t!==n)):t};if(e instanceof s.n)this.comAry=t(this.comAry),e.runtime.hasUI()||e.isSingleton||this.parent.delete(e);else if(e instanceof a.o)this.conTemp&&this.conTemp.id===e.id?this.conTemp=void 0:this.conAry=t(this.conAry);else if(e instanceof m.P&&this.commentAry){const t=this.commentAry.indexOf(e);t>=0&&this.commentAry.splice(t,1)}}exist(){return!0}clearDebugHints(){this.state.enable()}destroy(){super.destroy(),this.comAry&&this.comAry.forEach((e=>{e.forkedFrom?(d.tk.each((e=>{e.conAry&&e.conAry.forEach((t=>{e.forkedFrom.deleteCon(t)}))}),...e.getInputsAll()),d.tk.each((e=>{e.conAry&&e.conAry.forEach((t=>{e.forkedFrom.deleteCon(t)}))}),...e.getOutputsAll())):this.parent.delete(e)}))}toJson(){const e={};if(e.id=this.id,e.title=this.title,e.showIO=this.showIO,e.style=(0,o.d9)(this.style),this.startWithCom&&(this.startWithCom.forkedFrom?e.startCom=this.startWithCom.toJSON(!0):e.startCom=(0,o.d9)(this.startWithCom)),this.comAry){const t=[];this.comAry.forEach((e=>{e.forkedFrom?t.push(e.toJSON(!0)):t.push(e.id)})),e.comAry=t}if(this.conAry){const t=[];this.conAry.forEach((e=>{t.push(e.toJSON())})),e.conAry=t}return e}};b([o.le,v("design:type","function"==typeof(i=void 0!==a.o&&a.o)?i:Object)],x.prototype,"conTemp",void 0),b([o.jj,v("design:type",Boolean)],x.prototype,"updated",void 0),b([o.jj,v("design:type",Array)],x.prototype,"focusedComAry",void 0),b([o.jj,v("design:type",Object)],x.prototype,"_connections",void 0),x=b([(0,o.iV)(u.it+"topl.DiagramModel"),v("design:paramtypes",[Object,String,String,Object])],x);const w=x},22585:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(83446),o=n(71442),r=n(18204),s=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends r.Z{constructor(e){super(),this.comAry=[],this.style={},e&&(this.comAry=e,this.comAry.forEach((e=>{e.groupId=this.id})),this.refresh())}refresh(){let e=1e4,t=1e4,n=0,i=0;this.comAry.forEach((o=>{const r=o.$el;let s=0;o.getInputsAllAry().forEach((e=>{const t=e.$el.getClientRect();s=Math.max(s,t.width)}));let a=0;o.getOutputsAllAry().forEach((e=>{const t=e.$el.getClientRect();a=Math.max(a,t.width)})),e=Math.min(e,r.x()-s),t=Math.min(t,r.y()),n=Math.max(n,r.x()+r.width()+a),i=Math.max(i,r.y()+r.height())}));const o=n-e,r=i-t;this.style={x:e-15+.5,y:t-15+.5,w:o+30,h:r+30,color:"rgba(246,182,18,0.3)"}}};l=s([(0,i.iV)(o.it+"topl.GroupModel"),a("design:paramtypes",[Array])],l);const c=l},33397:(e,t,n)=>{n.d(t,{AF:()=>c,Rx:()=>s,Tk:()=>a,fq:()=>l});var i=n(22270),o=n(79127),r=n(44780);function s(e){const{context:t,tplContext:n,keywords:o}=e;if(!e.curFrameModel)return[];const s=[e.curFrameModel];let a=e.curFrameModel.parent;return a instanceof r.g||a instanceof i.n&&(a=a.parent),a&&function e(t){var n;s.push(t);const i=null===(n=t.parent)||void 0===n?void 0:n.parent;i&&e(i)}(a),s.reverse()}function a(e){let t;return t=Array.isArray(e)?e.filter((e=>e))[0]:e,t}function l(e,t,n=0){!e()&&n<500?requestAnimationFrame((()=>l(e,t,++n))):"function"==typeof t&&t()}function c(e,t,n){const{style:r,pinModel:s,diagramModel:c,context:d,tplContext:u,onComplete:p}=t,{viewModel:f,curDiagramModel:m,emitComponent:h}=u,g=c.parent;if(e.singleton&&f.frames[0].comAry.find((t=>{var n,i;return(null===(i=null===(n=t.runtime)||void 0===n?void 0:n.def)||void 0===i?void 0:i.namespace)===e.namespace})))return void u.emitMessage.warn(`${e.title}已存在，不能重复添加`);const y=new o.u5(e,n),b=g.parent,v=u.emitSnap.start("添加组件",{target:c}),x=a(h.add({seedModel:y,toComId:b&&b instanceof i.n?b.id:void 0,toSlotId:g.id,state:"finish"})),w=c.$el.getStage().getScaleX();let E=r.left,A=r.top;r.left<0&&(E=50),r.left>m.style.width&&(E=m.style.width-50),r.top<0&&(A=30),r.top>m.style.height&&(A=m.style.height-50);const _={x:E/w,y:A/w},C=c.addCom(x,_);if(s){const e=C.getInputsAllAry();e&&e.length>0?l((t=>{const n=e[0];if(n&&n.$el){const e=c.addConnection(s,n);return h.connected(e),h.focus(C),v.commit(),p&&p(),!0}})):v.cancel()}else p&&p(),v.commit(),setTimeout((e=>{h.focus(C)}))}},9652:(e,t,n)=>{n.d(t,{Y:()=>s});var i=n(22270),o=n(83446),r=n(42524);function s(e){if(e.comAry){if((e.isFn||e.isGlobal||e.isVar)&&e.parent.inputPins.length>0&&e.parent.inputPins.forEach((t=>{a(t,e)})),e.startWithCom){const t=e.startWithCom.getOutputsAllAry();t&&t.forEach((t=>{a(t,e)}))}e.comAry.forEach((e=>{if(e.isAutoRun()&&!e.runtime.hasUI()){const t=[];d(e,t),t.length>0&&t.forEach((e=>{setTimeout(e.fn)}))}}))}}function a(e,t){if(!e.$el)return;let n=(0,o.dL)(e.$el,t.$el).y-10;if(e.conAry.length>0){const t=[];e.conAry.forEach(((e,o)=>{n+=50*o;const{startPin:r,finishPin:s}=e;if(!s)return;const a=s.parent;a instanceof i.n&&t.push((t=>({com:a,fn(){l(e,{top:t})}}))(n))})),e.conAry.forEach(((e,n)=>{const{startPin:o,finishPin:r}=e;if(!r)return;const s=r.parent;s instanceof i.n&&d(s,t)})),t.length>0&&t.forEach((e=>{setTimeout(e.fn)}))}}function l(e,t){const{startPin:n,finishPin:i}=e,s=e.parent,a=(0,o.dL)(n.$el,s.$el),l=n.$el.getClientRect(),c=i.$el.getClientRect(),d=i.parent;d.style.left=a.x+l.width+30+c.width,(null==t?void 0:t.top)&&(d.style.top=t.top),(0,r.AP)(d,1);const u=d.$el.getClientRect(),p=d.style.left+u.width;p>s.style.width+100&&(s.style.width=p+100)}function c(e,t){const n=e.conAry;if(n){const e=[];return n.forEach((n=>{const{startPin:o,finishPin:r}=n,s=r.parent;if(s instanceof i.n){if(s===t)return void e.push(r);if(s.runtime.hasUI()){const n=r.rels;if(n){const i=s.getOutputsAllAry().filter((e=>n.find((t=>{if(e.hostId===t)return!0}))));i&&i.forEach((n=>{c(n,t).length>0&&e.push(r)}))}}else{const n=s.getOutputsAllAry();n&&n.find((n=>{c(n,t).length>0&&e.push(r)}))}}})),e}}function d(e,t){const n=e.diagramModel,r=e.getOutputsAllAry();r&&r.forEach(((r,s)=>{if(r.conAry){const a=r.conAry.sort(((e,t)=>{const{startPin:n,finishPin:o}=e,r=o.parent;if(r instanceof i.n){return c(n,r).length}return 0}));"输出项0"===r.title&&console.log(a),a.forEach(((r,a)=>{const{startPin:c,finishPin:u}=r,p=u.parent;if(p instanceof i.n){t.find((e=>e.com===p))?t.push({com:p,fn(){l(r)}}):t.push({com:p,fn(){let t=(0,o.dL)(e.$el,n.$el).y;t+=50*a+50*s,l(r,{top:t})}}),d(p,t)}}))}}))}},86409:(e,t,n)=>{n.d(t,{EA:()=>s.default,Gu:()=>d.Gu,ON:()=>c.O,Vm:()=>l.Z,ei:()=>o.Z,fi:()=>i.Z,go:()=>a.g,nW:()=>r.n,yC:()=>u.Z});var i=n(25495),o=n(12190),r=n(22270),s=n(39920),a=n(44780),l=n(56976),c=n(33029),d=(n(5962),n(16531)),u=n(30720)},5583:(e,t,n)=>{n.d(t,{U:()=>c});var i=n(83446),o=n(40741),r=n(14509),s=n(71442),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends o.Z{isDisabled(){return this._disabled}toJson(){const e={};return e.id=this.id,e.position=(0,i.d9)(this.position),e.type=this.type,e.order=this.order,e}constructor(e,t,n){super(),this._type=r.t_.JOINT,this.position={},this.order=0,this.exeValue=null,this.type=e,this.position={y:t},this.order=n}getJoinerWidth(){return 15*(this.order+1)}focus(){this.state.isFocused()||(super.focus(),this.from&&this.from.focus(),this.to&&this.to.focus())}blur(){this.state.isFocused()&&(super.blur(),this.from&&(this.from.blur(),this.from.startPin.blur(),this.from.finishPin.blur()),this.to&&(this.to.blur(),this.to.startPin.blur(),this.to.finishPin.blur()))}hoverExeval(e){this.exeValue=e,this.state.running()}hoverAllCon(){this.from.focus(),this.to.focus()}clearDebugHints(){this.state.enable(),this.exeValue=void 0}destroy(){const e=this.from,t=this.to;e&&(this.from=void 0,e.destroy()),t&&(this.to=void 0,t.destroy()),this.parent.delete(this)}};a([i.jj,l("design:type",Object)],c.prototype,"exeValue",void 0),c=a([(0,i.iV)(s.it+"topl.JointModel"),l("design:paramtypes",[String,Number,Number])],c)},33029:(e,t,n)=>{n.d(t,{O:()=>u});var i,o=n(83446),r=n(40741),s=n(14509),a=n(71442),l=n(23037),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let u=i=class extends r.Z{get schema(){return this.proxyPinValue&&this.isDirectionOfOutput()?this.proxyPinValue.schema:this.proxyPin&&this.proxyPin.schema?this.proxyPin.schema:(this._schema&&this._schema.type||(this._schema={type:"unknown"}),this._schema||{type:"unknown"})}set schema(e){this._schema=e}constructor(e){if(super(),this._type=s.t_.PIN,this.type="normal",this.deletable=!1,this.conAry=[],this.hover=!1,this._notifyView=!1,e){const{type:t,typeTitle:n,fromPlugin:i,direction:o,isPrivate:r,id:s,hostId:a,title:c,desc:d,wrap:u,schema:p,icon:f,conMax:m,editable:h,deletable:g,rels:y,forRef:b,extValues:v,extBinding:x,editor:w}=e;s&&(this.id=s),"boolean"==typeof r&&(this.isPrivate=r),this.type=t,this.typeTitle=n,this.fromPlugin=i,this.direction=o,this.hostId=a,this.title=c||"未命名",this.description=d;const E=(0,l.Ne)(p);if(E)throw new Error(E);this.wrap=u,this.schema=p,"follow"===p.type&&(this._schemaFollow=!0),p.editable&&(this._schemaEditable=!0),this.forRef=b,this.icon=f,this.extValues=v,this.extBinding=x,this.editor=w,void 0!==m&&(this.conMax=m),this.editable=h,void 0!==g&&(this.deletable=g),this.isDirectionOfInput()&&y&&(this.rels=y)}}listenNotify(){return this._notifyView}refreshView(){this._notifyView=!this._notifyView}setDisabled(e){e&&(this.conAry&&this.conAry.forEach((e=>{e.destroy()})),this.conAry=[]),this._disabled=e}isDisabled(){return this._disabled}isTypeOfTimer(){return this.type.match(/^timer$/gi)}isTypeOfConfig(){return this.type.match(/^config$/gi)}isTypeOfNormal(){return this.type.match(/^normal$/gi)}isTypeOfExt(){return null!==this.type.match(/^ext$/gi)}isTypeOfEvent(){return null!==this.type.match(/^event$/gi)}isTypeOfJoint(){return this.type.match(/^joint$/gi)}isDirectionOfInput(){return null!==this.direction.match(/^input|inner-output$/gi)}isDirectionOfOutput(){return null!==this.direction.match(/^output|inner-input$/gi)}getSchemaDesc(){if(!this.schema)return{type:"unknown",label:"未定义"};{const e=this.schema.type;switch(e){case"any":return{type:e,label:"任意"};case"boolean":return{type:e,label:"布尔"};case"string":return{type:e,label:"字符"};case"number":return{type:e,label:"数字"};case"array":return{type:e,label:"数组",properties:this.schema.items};case"object":return{type:e,label:"对象",properties:this.schema.properties};case"follow":return{type:e,label:"跟随"};default:return{type:"unknown",label:"未定义"}}}}addEmitPin(e){this.emitPinAry||(this.emitPinAry=[]),this.emitPinAry.find((e=>e.hostId!=e.hostId))||this.emitPinAry.push(e)}addCon(e){this.conAry.push(e)}hadConToPin(e){return!(!this.conAry||!e.conAry)&&void 0!==this.conAry.find((t=>void 0!==e.conAry.find((e=>e.id==t.id))))}deleteCon(e){let t;this.conAry.find(((n,i)=>{if(n.id===e.id)return t=i,!0})),"number"==typeof t&&this.conAry.splice(t,1),this.blur(),this._schemaFollow&&this.conAry.length<=0&&(this.schema={type:"follow"},this.proxyPin&&this.proxyPin._schemaFollow&&(this.proxyPin.schema={type:"follow"}))}emphasize(){this.emphasized=!0,this.conAry&&this.conAry.forEach((e=>{e.emphasize()}))}emphasizeRecover(){this.emphasized&&(this.emphasized=!1,this.conAry&&this.conAry.forEach((e=>{e.emphasizeRecover()})))}focus(e){this.state.isFocused()||super.focus()}hoverExeval(e,t){this._anchor=!0}blur(){this.state.isFocused()&&(super.blur(),this.conAry.forEach((e=>{e.blur(),e.startPin.blur(),e.finishPin.blur()}))),this._anchor=void 0}get order(){return function(e){let t=e.$el;if(t.parent){return[].indexOf.call(t.parent.children,t)}return 0}(this)}getJoinerWidth(){if(this.title){const e=this.title.replace(/[\u0391-\uFFE5]/g,"aa").length;return Math.max(5.4*e+14,i.joinerWidth)}}fork(e){const t=new(0,n(56258).default);return t.id=this.id,t.parent=e,t.forkedFrom=this,t}toJSON(e){var t,n;if(e){const e={};if(e.id=this.id,e._type=this._type,e.type=this.type,e.icon=this.icon,e.direction=this.direction,e.hostId=this.hostId,e.title=this.title,this.proxyPin&&(e.proxyPin={id:this.proxyPin.id}),this.proxyForPin&&(e.proxyForPin={id:this.proxyForPin.id}),e.conMax=this.conMax,e.editable=this.editable,e.deletable=this.deletable,e.dummyData=this.dummyData,e.rels=this.rels,e.forRef=this.forRef,(null===(t=this.conAry)||void 0===t?void 0:t.length)>0){const t=this.conAry.map((e=>{if(!e.invalid)return e.id})).filter((e=>e));t.length>0&&(e.conAry=t)}return e.extValues=this.extValues,e.extBinding=this.extBinding,e}{const e={};if(e.id=this.id,e._type=this._type,e.type=this.type,e.icon=this.icon,e.direction=this.direction,e.hostId=this.hostId,e.title=this.title,this.proxyPin&&(e.proxyPin={id:this.proxyPin.id}),this.proxyForPin&&(e.proxyForPin={id:this.proxyForPin.id}),this.schema&&(e.schema=(0,o.d9)(this.schema)),e.conMax=this.conMax,e.editable=this.editable,e.deletable=this.deletable,e.dummyData=this.dummyData,e.rels=this.rels,e.forRef=this.forRef,(null===(n=this.conAry)||void 0===n?void 0:n.length)>0){const t=this.conAry.map((e=>{if(!e.invalid)return e.id})).filter((e=>e));t.length>0&&(e.conAry=t)}return e.extValues=this.extValues,e.extBinding=this.extBinding,e}}destroy(){super.destroy(),this.conAry.forEach((e=>e.destroy()))}clearDebugHints(){this.state.enable(),this.exe=void 0,this._anchor=void 0,this.conAry&&!this.forkedFrom&&this.conAry.forEach((e=>{e.clearDebugHints()}))}};u.joinerWidth=10,c([o.jj,d("design:type",Object)],u.prototype,"_proxyForFn",void 0),c([o.jj,d("design:type",Boolean)],u.prototype,"hover",void 0),c([o.jj,d("design:type",Boolean)],u.prototype,"hint",void 0),c([o.jj,d("design:type",Boolean)],u.prototype,"emphasized",void 0),c([o.jj,d("design:type",Object)],u.prototype,"exe",void 0),c([o.jj,d("design:type",Boolean)],u.prototype,"_anchor",void 0),c([o.jj,d("design:type",Boolean)],u.prototype,"_notifyView",void 0),u=i=c([(0,o.iV)(a.it+"topl.PinModel"),d("design:paramtypes",[Object])],u)},56258:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(83446),o=n(71442),r=n(33029),s=n(5962),a=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends r.O{constructor(){super(),delete this.title,delete this.schema,delete this.type,delete this.direction,delete this.hostId}set title(e){this.forkedFrom&&(this.forkedFrom.title=e)}get title(){return this.forkedFrom.title}get forkedParentId(){return this.parent.id}get schema(){return this.forkedFrom.schema}set schema(e){this.forkedFrom&&(this.forkedFrom.schema=e)}get _schemaFollow(){if(this.forkedFrom)return this.forkedFrom._schemaFollow}get extBinding(){return this.forkedFrom.extBinding}get type(){return this.forkedFrom.type}get direction(){return this.forkedFrom.direction}get icon(){return this.forkedFrom.icon}get hostId(){return this.forkedFrom.hostId}get rels(){return this.forkedFrom.rels}get editable(){return this.forkedFrom.editable}get deletable(){return this.forkedFrom.deletable}get _exe(){return this.forkedFrom._exe}isRunning(){let e=this.exe||this.forkedFrom.exe;if(e){const{val:t,from:n}=e;if(this.isDirectionOfInput()&&n instanceof s.o&&n.finishPin===this)return!0}return!1}addCon(e){super.addCon(e),this.forkedFrom.addCon(e)}deleteCon(e){super.deleteCon(e),this.forkedFrom.deleteCon(e)}hadDestroyed(){return this.forkedFrom.hadDestroyed()}};a([i.jj,l("design:type",Object),l("design:paramtypes",[])],c.prototype,"_exe",null),c=a([(0,i.iV)(o.it+"topl.PinModelForked"),l("design:paramtypes",[])],c);const d=c},30720:(e,t,n)=>{let i;function o(e){i=e}function r({keyword:e}){const{viewModel:t,emitFrame:n,emitLogs:o}=i;if(!t||!t.frames)return;const r=[];return t.frames.forEach((t=>{const n=[];s({rtn:n,frame:t,keyword:e}),n.length>0&&r.push({id:t.id,title:t.title,results:n})})),r.length>0?r:void 0}function s({rtn:e,frame:t,keyword:n}){t.diagramAry&&t.diagramAry.forEach((t=>{t.title.indexOf(n)>=0&&e.push({type:"diagram",id:t.id,title:t.title,focus(){i.emitComponent.focus(t)}})})),t.frameAry&&t.frameAry.forEach((t=>{s({rtn:e,frame:t,keyword:n})})),t.comAry&&t.comAry.forEach((t=>{t.runtime.title.indexOf(n)>=0&&e.push({type:"com",id:t.id,title:t.runtime.title,focus(){t.diagramModel&&(i.emitComponent.focus(t.diagramModel),setTimeout((e=>{i.emitComponent.focus(t)})))}}),t.frames&&t.frames.forEach((t=>{s({rtn:e,frame:t,keyword:n})}))}))}n.d(t,{S:()=>o,Z:()=>r})},41460:(e,t,n)=>{n.d(t,{B:()=>c,V:()=>s});var i=n(79127),o=n(71442),r=i.Af.Group;function s(e,t,n){var r,s;const{comDef:c,model:d}=e;if(c.editors){const e=c.rtType&&c.rtType.match(/js|scratch/gi)?c.editors:c.editors.logic;if(e){let u=[];const p=e[o.tD];if(p)if("function"==typeof p){const e=[];e.push({type:"default",title:null,items:[]}),e.push({type:"normal",title:null,items:null}),e.push({type:"normal",title:null,items:null}),p(t,e[0],e[1],e[2]);const o=d.runtime.title||c.title,f=new i.Af.Category({title:o,setTitle(e){d.runtime.title=e}});if(u.push(f),e[0].items){a(f,l(e[0].items,t,n))}if((null===(r=e[1].items)||void 0===r?void 0:r.length)>0){const o=new i.Af.Category(e[1].title||"无标题");u.push(o);a(o,l(e[1].items,t,n))}if((null===(s=e[2].items)||void 0===s?void 0:s.length)>0){const n=new i.Af.Category(e[2].title||"无标题");u.push(n);a(n,l(e[2].items,t))}}else Array.isArray(p)&&(u=l(p,t,n));return u}}}function a(e,t){if(t){const n=new i.Af.Group;n.addItems(t),n.items&&e.addGroup(n)}}function l(e,t,n){const o=[];return e.forEach((e=>{if(null===e||"object"==typeof e&&!e.type)o.push(new i.Af.SeperatorItem);else if(e.type)o.push(c(t,e,n));else if(Array.isArray(e.items)){let i;"function"==typeof e.ifVisible&&(i=()=>{const n=e.ifVisible(t);return"boolean"==typeof n&&n});const s=new r({title:e.title,description:e.description,ifVisible:i});e.items.forEach((e=>{("function"==typeof e||e.type)&&s.addItem(c(t,e,n))})),s.items&&s.items.length>0&&o.push(s)}})),o}function c(e,t,n){const o=e.model;let r,s;if(n&&(r=n.reFocus,s=n.onValueChanged),"function"==typeof t)return new i.Af.FunctionItem((function(){t(e)}));if("object"==typeof t){let n,a=t.options;if("function"==typeof a)try{a=function(){return t.options(e)}}catch(e){return console.error(e),new i.Af.ErrorItem({title:"编辑项错误",description:e.stack})}return"function"==typeof t.ifVisible&&(n=()=>{const n=t.ifVisible(e);return"boolean"==typeof n&&n}),new i.Af.EditItem({title:t.title,type:t.type,description:t.description||t.desc,value:function(){let n;return{get(){try{n=(t.value&&t.value.get||(()=>{}))(e),n=null==n?null:n}catch(n){return console.error(n),void e.emitMessage.error(`编辑器(${t.title}.value.get)发生错误.`,n.message)}return n},set(i){if(n!==i){const a=e.emitSnap.start("Change value",{target:o});try{(t.value&&t.value.set||(()=>{}))(e,i),a.commit(),n=i,r&&setTimeout(r)}catch(n){return a.cancel(),console.error(n),void e.emitMessage.error(`编辑器(${t.title}.value.set)发生错误.`,n.message)}"function"==typeof s&&s(i)}}}}(),options:a,ifVisible:n,edtContext:e})}throw new Error("Invalid typeof editor(function or object expect)")}},16531:(e,t,n)=>{n.d(t,{Gu:()=>d,S1:()=>c});var i=n(44780),o=n(79127),r=n(22270),s=n(39920),a=n(23037);let l;function c(e){l=e}function d(){const{viewModel:e,emitLogs:t,emitComponent:n}=l,c=new WeakMap,d=[];function u(e){if(e.hasUI()){if(n.exist(e).find((e=>!e.result)))return!1}return!0}function p(t){return!!e.frames.find((e=>e===t))}function f(e){if(c.get(e))return;c.set(e,!0),e.parent instanceof r.n&&(e.inputPins&&e.inputPins.forEach((e=>{e.deletable&&delete e.deletable})),e.outputPins&&e.outputPins.forEach((e=>{e.deletable&&delete e.deletable})));const t=e.parent;if(t){if(t instanceof r.n){if(!u(t.runtime))return d.push(`清除无效Frame ${e.title}.`),!1}else if(t instanceof i.g)if(t.parent instanceof r.n){if(!u(t.parent.runtime))return d.push(`清除无效Frame ${e.title}.`),!1}else if(t.parent instanceof i.g&&!p(e.parent))return d.push(`清除无效Frame ${e.title}.`),!1}else if(!p(e))return d.push(`清除无效Frame ${e.title}.`),!1;if(e.diagramAry){const t=e.diagramAry.filter((t=>{if(!t.parent)return d.push(`流程卡片 ${t.title} 已删除.`),!1;if(t.hadDestroyed())return d.push(`流程卡片 ${t.title} 已删除.`),!1;if(t.parent!==e)return d.push(`流程卡片 ${t.title} 已删除.`),!1;if(t.showIO&&t.parent.parent&&!t.parent.parent.exist())return d.push(`流程卡片 ${t.title} 对应的父组件已被删除.`),!1;if(t.startWithCom){const i=t.startWithCom;if(n.exist(i.runtime).find((e=>!e.result)))return d.push(`流程卡片 ${t.title} 起点对应的组件已被删除.`),!1;if(i instanceof s.default&&i.forkedFrom.parent!==e){const e=i.forkedFrom.parent;return e.diagramAry.find((e=>e===t))||(t.parent=e,e.diagramAry.push(t)),d.push(`流程卡片 ${t.title} 位置出错.`),!1}}if(t.comAry){const n=t.comAry.filter(((t,n)=>{if(t instanceof s.default){const n=t.forkedFrom;if(!(n instanceof r.n))return t.destroyAllConnections(),d.push("清除残余组件."),!1;if(n.parent===e&&e.comAry.indexOf(n)<0)return d.push(`清除残余组件 ${n.runtime.title}.`),!1}return t}));n.length!==t.comAry.length&&(t.comAry=n)}if(t.conAry){const e=t.conAry.filter((e=>{const t=e.finishPin.parent;return!(t instanceof r.n&&t.diagramModel&&!t.diagramModel.comAry.includes(t))||(d.push(`清除无效连接 ${e.title}.`),!1)}));e.length!==t.conAry.length&&(t.conAry=e)}return t}));t.length!==e.diagramAry.length&&(e.diagramAry=t)}if(e.comAry){const t=[],n=e.comAry.filter(((n,l)=>{if(!(n instanceof r.n))return n instanceof o.u5?d.push(`组件 ${n.runtime.title} 类型错误.`):d.push("交互视图中发现未知组件."),!1;if(n.ioProxy){const e=f(n.ioProxy);"boolean"!=typeof e||e||(n.ioProxy=void 0)}if(n instanceof s.default){const i=n.forkedFrom;return i.parent===e&&e.comAry.indexOf(i)<0&&(i.runtime.topl=i,t.push(i)),d.push(`组件 ${n.runtime.title} 类型错误.`),!1}return n.runtime.topl!==n&&(n.runtime.topl=n,d.push(`组件 ${n.runtime.title} 类型错误.`)),n.parent!==e?(d.push(`组件 ${n.runtime.title} 类型错误.`),!1):n.runtime.hasUI()&&!u(n.runtime)?(d.push(`清除残余组件 ${n.runtime.title}.`),!1):(a.tk.each((e=>{if(e.proxyPin||e.proxyForPin){const t=e.proxyPin||e.proxyForPin;if(t.parent instanceof i.g){const n=f(t.parent);"boolean"!=typeof n||n||(e.proxyPin?e.proxyPin=void 0:e.proxyForPin&&(e.proxyForPin=void 0))}}if(e.conAry){e.conAry.find((e=>{if(!e.finishPin||!e.parent.parent)return!0}))&&(d.push(`组件 ${n.runtime.title} 对应的输入连接有误.`),e.conAry=e.conAry.filter((e=>{if(e.finishPin&&e.parent.parent)return!0})))}}),...n.getInputsAll()),a.tk.each((e=>{if(e.proxyPin||e.proxyForPin){const t=e.proxyPin||e.proxyForPin;if(t.parent instanceof i.g){const n=f(t.parent);"boolean"!=typeof n||n||(e.proxyPin?e.proxyPin=void 0:e.proxyForPin&&(e.proxyForPin=void 0))}}if(e.conAry){e.conAry.find((e=>{if(!e.finishPin||!e.parent.parent)return!0}))&&(d.push(`组件 ${n.runtime.title} 对应的输出连接有误.`),e.conAry=e.conAry.filter((e=>{if(e.finishPin&&e.parent.parent)return!0})))}}),...n.getOutputsAll()),n.frames&&n.frames.forEach((e=>{f(e)})),n)})).map((e=>e));n.length!==e.comAry.length&&(e.comAry=n),t.length>0&&t.forEach((t=>e.comAry.push(t)))}}e.frames.forEach((e=>{f(e)})),d.length>0?t.warn(`共修复${d.length} 项:${d.join("\n")}`):t.info("未发现错误")}},1842:(e,t,n)=>{n.d(t,{$L:()=>a,A2:()=>c,PF:()=>s,U6:()=>i,ZK:()=>d,jR:()=>l,pO:()=>o,qI:()=>r});const i="_rxui_meta_",o="_hc_",r="_hc_from_",s="_ignore_",a="_ignore_but_snapshot_",l="_ignore_observable_",c="_ignore_me_",d="function"==typeof HTMLElement?HTMLElement:function(){};"function"==typeof SVGElement&&SVGElement},51073:(e,t,n)=>{function i(e){function t(t){e&&e(t)}return t.stop=function(e){var n;"function"==typeof e.stopPropagation?e.stopPropagation():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.stopPropagation)&&(e.evt.stopPropagation(),e.cancelBubble=!0),t(e)},t.prevent=function(e){var n;"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.preventDefault)&&e.evt.preventDefault(),t(e)},t.stop.prevent=function(e){var n;"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof(null===(n=e.evt)||void 0===n?void 0:n.preventDefault)&&e.evt.preventDefault(),t.stop(e)},t}n.d(t,{F:()=>i})},58602:(e,t,n)=>{n.d(t,{bt:()=>s,dL:()=>a,qw:()=>r});var i=n(50991),o=n(1842);const r=function(e,t,n){return e.evt instanceof MouseEvent?function(e,t,n){const o=e.currentTarget,s=o.getStage(),l=a(o),c=document.body.scrollTop||document.documentElement.scrollTop,d=document.body.scrollLeft||document.documentElement.scrollLeft,u={x:l.x,y:l.y,w:o.width(),h:o.height()};e=e.evt;const p=e.pageX-u.x,f=e.pageY-u.y;let m,h,g,y,b;const v={x:0,y:0};if(!t)return u;{i.E.curRT.setInfoIdForDelay();const e=(e,n)=>{const i=e.pageX-p-u.x,r=e.pageY-f-u.y,s=e.pageX-p-m||0,a=e.pageY-f-h||0;if(m=e.pageX-p,h=e.pageY-f,g=e.pageX-v.x-d,y=e.pageY-v.y-c,n||0!=s||0!=a)return b=n?"finish":b?"moving":"start",t({po:{x:m,y:h},epo:{ex:g,ey:y},dpo:{dx:s,dy:a},adpo:{adx:i,ady:r},targetStyle:u},b,o)};let a=!1;s.on("mousemove",(t=>{if(r.cancel)return r.cancel=void 0,b=void 0,void l(t,!0);a||(a=!0,r.event=t);try{!1===e(t.evt)&&(b=void 0,l(t,!0))}catch(e){console.error(e)}}));const l=(t,o)=>{setTimeout((()=>r.event=void 0)),o||b||"function"==typeof(null==n?void 0:n.default)&&setTimeout((e=>{n.default()}));try{const n=i.E.applyBatch();b&&e(t.evt||t,"finish"),n.commit()}catch(e){throw e}finally{s.off("mousemove"),s.off("mouseup"),i.E.curRT.clearDelay()}};s.on("mouseup",l)}}(...arguments):function(e,t,n){const o=(null==n?void 0:n.document)||document,a=e.currentTarget,l=a.offsetWidth,c=a.offsetHeight,d=3==arguments.length&&n&&n.relDom,u=(3==arguments.length&&n&&n.zoom,s(a,d)),p=d?s(d):{x:0,y:0},f=document.body.scrollTop||document.documentElement.scrollTop,m=document.body.scrollLeft||document.documentElement.scrollLeft,h=e.pageX-u.x,g=e.pageY-u.y;let y,b,v,x;const w={};if(!t)return u;{i.E.curRT.setInfoIdForDelay();const e=e=>{const n=e.pageX-h-u.x,i=e.pageY-g-u.y,o=e.pageX-h,r=e.pageY-g,s=o-y,d=r-b;y=e.pageX-h,b=e.pageY-g,v=e.pageX-p.x-m,x=e.pageY-p.y-f,"finish"===w.now?t({po:{x:y,y:b},epo:{ex:v,ey:x},dpo:{dx:0,dy:0},adpo:{adx:n,ady:i},targetStyle:{x:u.x,y:u.y,w:l,h:c}},w.now,a):0==s&&0==d||(w.now=w.now?"moving":"start",t({po:{x:y,y:b},epo:{ex:v,ey:x},dpo:{dx:s,dy:d},adpo:{adx:n,ady:i},targetStyle:{x:u.x,y:u.y,w:l,h:c}},w.now,a))},n=t=>{setTimeout((()=>r.event=void 0));try{const n=i.E.applyBatch();w.now&&(w.now="finish",e(t)),n.commit()}catch(e){throw e}finally{w.now=void 0,o.onmousemove=null,o.onmouseup=null,o.oncontextmenu=null,i.E.curRT.clearDelay()}};let s=!1;o.onmousemove=t=>{s||(s=!0,r.event=t,o.oncontextmenu=e=>(n(e),e.preventDefault(),!1));try{e(t)}catch(e){console.error(e)}},o.onmouseup=n}}(...arguments)};function s(e,t){const n=document.body.scrollTop||document.documentElement.scrollTop,i=document.body.scrollLeft||document.documentElement.scrollLeft;if(t){const o=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:o.left-r.left+i,y:o.top-r.top+n,w:e.offsetWidth,h:e.offsetHeight}}{const t=e.getBoundingClientRect();return{x:t.left+i,y:t.top+n,w:e.offsetWidth,h:e.offsetHeight}}}function a(e,t){if(t){const n=e.getAbsolutePosition(),i=t.getAbsolutePosition();return{x:n.x-i.x,y:n.y-i.y,w:e.width(),h:e.height()}}{const t=e.getAbsolutePosition(),n=e.getStage();if(n&&n.content instanceof o.ZK){const i=n.content.getBoundingClientRect();return{x:t.x+i.left,y:t.y+i.top,w:e.width(),h:e.height()}}}}},83446:(e,t,n)=>{n.d(t,{$i:()=>f.$i,$w:()=>f.$w,CV:()=>a.Z,Ft:()=>h.F,GQ:()=>b,ID:()=>f.ID,KX:()=>u.KX,Ku:()=>r.Ku,LO:()=>r.ZP,MC:()=>u.MC,N7:()=>s.Z,Vj:()=>g.Vj,Yw:()=>u.Yw,bt:()=>m.bt,d9:()=>f.d9,dL:()=>m.dL,iV:()=>p.iV,jj:()=>p.jj,le:()=>p.le,mA:()=>i.Z,oQ:()=>d.o,pI:()=>y,qw:()=>m.qw,sY:()=>l.ZP,so:()=>l.so,vB:()=>f.vB,vc:()=>o.Z,vq:()=>x,xN:()=>v,zD:()=>f.zD});var i=n(46798),o=n(22976),r=(n(42124),n(94062),n(25915)),s=n(51840),a=n(66113),l=(n(96978),n(7167),n(56719)),c=n(50991),d=n(93803),u=(n(4804),n(76031)),p=(n(59416),n(44932)),f=n(92034),m=n(58602),h=n(51073),g=n(39301);const y=c.E.stopWatch,b=c.E.keepWatch,v=c.E.stopUpdate,x=c.E.updateLater},50091:(e,t,n)=>{n.d(t,{d:()=>s});var i=n(1842),o=n(39301),r=n(25915);function s(e,t){if(void 0===e)return e;const n=[];return function e(s){if("object"!=typeof(s=(0,r.Ku)(s))||!s)return s;for(let e=0;e<n.length;e++)if(n[e].target===s)return n[e].copyTarget;let a={};if(Array.isArray(s)&&(a=[]),n.push({target:s,copyTarget:a}),Array.isArray(s))Object.keys(s).forEach((t=>{/^__.+__$/g.test(t)||a[t]||(a[t]=e(s[t]))}));else{if(s instanceof FormData)return s;if(s instanceof RegExp);else{let n=(0,o.gU)(s);if(n.length>0){const r=s[i.PF];n.forEach((n=>{if(n!==i.pO&&(t||!r||!r[n])){const t=(0,o.w7)(s,n);t&&t.get?Object.defineProperty(a,n,{get:()=>e(s[n])}):a[n]=e(s[n])}}))}}}return a}(e)}},44932:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W6:()=>SerializedReg,cx:()=>searchForMeta,iV:()=>Serializable,jj:()=>Ignore,le:()=>IgnoreButSnapshot});var _util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39301),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1842);const SerializedReg=(0,_util__WEBPACK_IMPORTED_MODULE_0__.k)("_rxui_serializedReg_",{});function After(e){return function(t,n,i){setMeta(t.constructor,"aop-after",n,e)}}function Ignore(e,t){let n=Object.getOwnPropertyDescriptor(e,_constants__WEBPACK_IMPORTED_MODULE_1__.PF);if(n)n.value[t]=!0;else{let n,i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(i,_constants__WEBPACK_IMPORTED_MODULE_1__.PF),!n);)i=Object.getPrototypeOf(i);const o=Object.assign({},n&&n.value);Object.defineProperty(e,_constants__WEBPACK_IMPORTED_MODULE_1__.PF,{value:o,writable:!0}),o[t]=!0}}function IgnoreButSnapshot(e,t){let n=Object.getOwnPropertyDescriptor(e,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP);if(n)n.value[t]=!0;else{let n,i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(i,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP),!n);)i=Object.getPrototypeOf(i);const o=Object.assign({},n&&n.value);Object.defineProperty(e,_constants__WEBPACK_IMPORTED_MODULE_1__.META_IGNORE_BUT_SNAPSHOP,{value:o,writable:!0}),o[t]=!0}}function Serializable(e){if(1==arguments.length){const e=arguments[0];if("function"==typeof e)return hashcodeFn(e);if("string"==typeof e)return function(t){return hashcodeFn(t,e)};if("object"==typeof e&&"string"==typeof e.name){let{name:t,load:n}=e;return function(e){return hashcodeFn(e,t,n)}}throw new Error("@Serializable's param error.")}throw new Error("@Serializable should be used to decorate class only.")}function searchForMeta(e){let t;const n=e.constructor&&e.constructor[_constants__WEBPACK_IMPORTED_MODULE_1__.U6],i=Object.getPrototypeOf(e),o=i&&searchForMeta(i);return o?(t=Object.assign({},n||{}),Object.keys(o).forEach((e=>{t[e]=n&&n[e]?Object.assign({},o[e],n[e]):Object.assign({},o[e])})),t):n}function hashcodeFn(fn,name,load){if("string"==typeof name&&SerializedReg[name])throw new Error(`${name} had been registered.`);let fnName=name?(0,_util__WEBPACK_IMPORTED_MODULE_0__.CN)(fn,name):fn.name;const getUid=_util__WEBPACK_IMPORTED_MODULE_0__.Vj;let proxyFn=null,proto;return eval(`\n    proxyFn = function ${fnName}() {//Proxied and named\n      try {\n        const _this = new fn(...arguments)\n\n        Object.defineProperty(_this, '${_constants__WEBPACK_IMPORTED_MODULE_1__.pO}', {\n          value: getUid('${fnName}_'),\n          writable: true,\n          enumerable: false\n        })\n\n        Object.setPrototypeOf(_this, proto)\n        return _this\n      } catch (ex) {//not support ES6?\n        throw ex\n\n        // var args = []\n        //\n        // for(var i=0;i<arguments.length;i++){\n        //   args.push(arguments[i])\n        // }\n        // fn.apply(this,args)\n        //\n          // Object.defineProperty(this, '${_constants__WEBPACK_IMPORTED_MODULE_1__.pO}', {\n          //     value:getUid('${fnName}_'),\n        //     writable: true,\n        //     enumerable:false\n        // })\n      }\n    }\n    proto = {\n      constructor: proxyFn\n    }\n    var statics = Object.getOwnPropertyNames(fn)\n    var regc = /^(length|name|prototype)$/gi\n    for (var i = 0; i < statics.length; i++) {\n      var nm = statics[i]\n      if (!nm.match(regc)) {\n        proxyFn[nm] = fn[nm]\n      }\n    }\n    Object.setPrototypeOf(proto, fn.prototype)\n    proxyFn.prototype = proto\n  `),"string"==typeof name&&(SerializedReg[name]={proto:proxyFn,load},setMeta(proxyFn,"serialized","name",name)),proxyFn}function setMeta(e,t,n,i){const o=Object.getOwnPropertyNames(e).filter((e=>e==_constants__WEBPACK_IMPORTED_MODULE_1__.U6)),r=0==o.length?e[_constants__WEBPACK_IMPORTED_MODULE_1__.U6]={}:e[_constants__WEBPACK_IMPORTED_MODULE_1__.U6];(r[t]||(r[t]={}))[n]=i||e[n]}},41168:(e,t,n)=>{n.d(t,{$:()=>c});var i=n(96055),o=n(39301),r=n(1842),s=n(44932),a=n(25915);const l="_observable_";function c(e,t={}){const n=(e,t,n)=>n;if("string"==typeof e){if(i.VL[e])return d(i.VL[e],n,Object.assign(t,{noFunction:!0}))}else if(e&&"object"==typeof e)return d(e,n,Object.assign(t,{noFunction:!0}))}function d(e,t,n={}){const{noFunction:c,uncompressed:d,map:p}=n;let f={},m={},h={C:[],W:d?void 0:{}},g=0;let y={},b=0;function v(e){if(d)return e;let t=y[e];return void 0===t&&(y[e]=t=b+++""),t}const x={D:h,refs:f,def:function(e){let n=[];function y(e){if("object"!=typeof e||!e)return e;const y=(0,a.Ku)(e);if(u(y))return;if(y[r.pO]){const e=v(y[r.pO]);if(f[e])return{[i.Xc]:e};if(m[e])return{[i.Xc]:e}}let b={};if(Array.isArray(y)&&(b=[]),y[r.pO]&&(m[v(y[r.pO])]=!0),Array.isArray(y)){const e=[];Object.keys(y).forEach((i=>{try{if(i.match(/^__.+__$/g)||b[i])return}catch(e){}let o=y[i];o=(0,a.Ku)(o),u(o)?(e.push(i),b[i]=void 0):n.push((e=>{b[i]=e(t(y,i,o))}))})),e.length>0&&e.forEach((e=>b.splice(e,1)))}else{let u=(0,o.gU)(y);if(u.length>0){const s=e[r.PF],l=e[r.$L];u.forEach((u=>{if(u===r.PF||u===r.$L||u===r.jR||"_from_"===u||"_hc_temp_"===u)return;const f=(0,o.w7)(e,u);if((!f||!f.get||f.set)&&!(s&&s[u]||l&&l[u])){let e=y[u];if(e=(0,a.Ku)(e),!c||c&&"function"!=typeof e&&!(0,o.K6)(e))if("function"==typeof p&&(e=p(y,u,e)),u!==r.pO&&u!==i.AB){const i=function(e){if(d)return e;if(/^[0-9]+$/.test(e))return e;if(/^u_/.test(e))return e;let t=h.W[e];return void 0===t&&(h.W[e]=t="_"+g+++"_"),t}(u);n.push((n=>{b[i]=n(t(y,u,e))}))}else b[u]=e}}))}!0===y[l]&&(b[l]=!0);const f=(0,s.cx)(y);let m;if(f&&(m=f.serialized)){h.C.find((e=>e===m.name));let e=h.C.indexOf(m.name);-1===e&&(h.C.push(m.name),e=h.C.length-1),b[i.AB]=e}else if(y[r.pO])throw new Error("Invalid data format.")}if(b[r.pO]){const e=v(b[r.pO]);return f[e]=b,delete b[r.pO],{[i.Xc]:e}}return b}const b=y(e);for(let e=0;e<n.length;e++)n[e](y);return n=void 0,b}(e)};return m=void 0,x}function u(e){return e&&"object"==typeof e&&e[r.A2]}},95910:(e,t,n)=>{n.d(t,{I:()=>o});var i=n(1842);function o(e){"object"==typeof e&&(e[i.A2]=!0)}},92034:(e,t,n)=>{n.d(t,{$i:()=>r.$,$w:()=>o.$,ID:()=>a.I,d9:()=>s.d,vB:()=>i.v,zD:()=>i.z});var i=n(7788),o=n(41168),r=(n(4804),n(67448)),s=n(50091),a=n(95910)},7788:(e,t,n)=>{n.d(t,{v:()=>m,z:()=>f});var i=n(96055),o=n(44932),r=n(39301),s=n(1842),a=n(50991),l=n(25915);let c,d,u=i.AB,p=i.Xc;function f(e,t){if("object"!=typeof e)throw new Error("Invalid data format.");(0,l.bi)(e)&&(e=(0,l.Ku)(e)),(null==t?void 0:t.newJSON)&&(e=JSON.parse(JSON.stringify(e)));const n=a.E.applyBatch(),o={};for(let n in e){const r=e[n];if(null==t?void 0:t.notMerge){const e=m(r);o[n]=e}else m(r,{merge(e){const t=i.VL[n];void 0!==t?o[n]=h(e,t):i.qj[n]=t=>{const i=a.E.applyBatch();o[n]=h(e,t),i.cancel()}}})}return n.commit(),o}function m(e,t={}){if(!e||"object"!=typeof e||"object"!=typeof e.def||"object"!=typeof e.refs)return e;const{merge:n}=t,{def:r,refs:s,D:a,consts:l}=e;if(l)u="_from_",p="_ref_",c={C:l.froms,W:{}};else if(a)if(a.W){const e={};Object.keys(a.W).forEach((t=>{e[a.W[t]]=t})),a.W=e,c=a}else c=Object.assign({W:{}},a);else c={C:{},W:{}};d={refs:s,didMap:{}},Object.keys(s).forEach((e=>{let t,n=s[e];if(void 0!==(t=n[u])){t=c.C[t]||t;const r=o.W6[t];if(!r)return;if(!r||!r.proto)throw new Error("Invalid data format.");{const o=y(r.proto);o[u]=t,o[i.dl]=n,s[e]=o}}}));const f=r;if(!n)return g(f);n(f)}function h(e,t){const n=g(e,t);return n&&"object"==typeof n&&t?(Object.keys(n).forEach((e=>{let i=n[e];t[e]=i})),t):n}function g(e,t){const{refs:n,didMap:a}=d;let l=[];function f(e,t){if(Array.isArray(e))return e.forEach(((t,n)=>{l.push((i=>{e[n]=i(t)}))})),e;let d=e;if("object"==typeof d&&d){if(d[s.pO])return a[d[s.pO]]=t||d,t||d;const e=d[p];if("string"==typeof e){if(!t&&a[e])return a[e];d=n[e],a[e]=t||d}let f,m;if(m=d[u]){if(f=o.W6[m],!f)return{};if(!f||!f.proto)throw new Error("Invalid data format.")}delete d[u];let h=d[i.dl];if(void 0===h&&f&&(h=d,d=y(f.proto)),h){delete d[i.dl],delete h[u];let e=(0,r.gU)(h);if(e.length>0){const t=h[s.PF],n=h[s.$L];e.forEach((e=>{let i=c.W[e],o=h[e];if(i?(h[e]=void 0,delete h[e]):i=e,e===s.PF||e===s.$L)return;const a=(0,r.w7)(d,i);a&&a.get&&!a.set||t&&t[i]||n&&n[i]||t&&t[i]||n&&n[i]||l.push((e=>{const t=e(o);try{let e;if(f&&"function"==typeof(e=f.load)){let n=e(d,i,t);void 0!==n&&(d[i]=n)}else try{d[i]=t}catch(e){throw e}}catch(e){throw e}}))}))}}else{let e=(0,r.gU)(d);if(e.length>0){const t=d[s.PF],n=d[s.$L];e.forEach((e=>{let i=c.W[e],o=d[e];if(i?(d[e]=void 0,delete d[e]):i=e,e===s.PF||e===s.$L)return;const a=(0,r.w7)(d,i);a&&a.get&&!a.set||t&&t[i]||n&&n[i]||t&&t[i]||n&&n[i]||l.push((e=>{const t=e(o);let n;const s=(0,r.w7)(d,i);if(!s||!s.get||s.set)if(f&&"function"==typeof(n=f.load)){let e=n(d,i,t);void 0!==e&&(d[i]=e)}else try{d[i]=t}catch(e){throw e}}))}))}}}return d}const m=f(e,t);for(let e=0;e<l.length;e++)l[e]((e=>f(e)));return l=void 0,m}function y(e){return new e}},67448:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(39301),o=n(1842),r=n(96055);function s(e){if(!e[o.pO])throw new Error(`Model must has ${o.pO} property.`);let t=!1,n={},s=r=>{if("object"==typeof r&&null!==r){if(r[o.pO]==e[o.pO])return!0;if(n[r[o.pO]])return;n[r[o.pO]]=!0;(0,i.gU)(r).forEach((e=>{const n=(0,i.w7)(r,e);if(n&&n.get&&!n.set)return;let o=r[e];Array.isArray(o)?(o=o.map((e=>s(e)?void(t=!0):e)),t&&(r[e]=o.filter((e=>void 0!==e)))):s(o)&&(t=!0,r[e]=void 0)}))}};return Object.keys(r.VL).forEach((e=>{s(r.VL[e])})),n=void 0,t}},96055:(e,t,n)=>{n.d(t,{AB:()=>o,VL:()=>s,Xc:()=>i,dl:()=>r,qj:()=>a});const i="_R_",o="_F_",r="_merge_data_",s={},a={}},4804:(e,t,n)=>{n.d(t,{h:()=>r});var i=n(44932),o=n(96055);function r(e,t,n){var r;if(n&&"function"==typeof n){const e=(0,i.cx)(t);if(!(null===(r=null==e?void 0:e.serialized)||void 0===r?void 0:r.name))throw new Error("No @Serializable({name:string}|string) decorator on "+n)}const s=o.qj[e];void 0!==s&&s(t),o.VL[e]=t}},93803:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(1842);function o(e,t){let n=Object.getOwnPropertyDescriptor(e,i.jR);if(n)n.value[t]=!0;else{let n,o=Object.getPrototypeOf(e);for(;o&&o!==Object.prototype&&(n=Object.getOwnPropertyDescriptor(o,i.jR),!n);)o=Object.getPrototypeOf(o);const r=Object.assign({},n&&n.value);Object.defineProperty(e,i.jR,{value:r,writable:!0}),r[t]=!0}}},85468:(e,t,n)=>{n.d(t,{W:()=>i});class i extends Error{}},40879:(e,t,n)=>{n.d(t,{M:()=>i});const i=["onContextMenu","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onDrop","onDrag","onDragStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragExit","onTouchStart","onTouchEnd","onTouchMove","onTouchCancel","onKeyPress","onKeyDown","onKeyUp","onCopy","onCut","onPaste","onChange","onInput","onSubmit","onFocus","onBlur","onScroll"]},7167:(e,t,n)=>{n(25915)},96978:(e,t,n)=>{n(39301),n(25915)},66113:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n(50991),r=n(85468);function s(e,t,n,s){const a=[...arguments];if(!(n=a.find((e=>"object"==typeof e)))||"object"!=typeof n||!n.from)throw new Error("invalid argument config,expect pipe(typeClass, impl, config: {from:'parents'|'children'}).");let l;s=a.find((e=>Array.isArray(e))),l=n&&(n.from||(null==n?void 0:n.expectTo))?(0,i.useRef)():{};let c=!l.current;if(void 0===l||!l.current){if(arguments.length<0)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");if("function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");const d={watcherPushed:{}};let u;function p(t,i){let o;try{o=function(e,t,n,i,o){if(e+="Ary","parents"===n){let r,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t)return r=e.proxy,!0})));)s=s.parent;if(void 0!==r)return r[o]}else if("children"===n){const s=[],a=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t){let t;try{t=e.proxy[o]}catch(e){if(!(e instanceof r.W))throw e}if(void 0!==t)return s.push(t),!0}}))||a(i.children)}))},l=i.children;if(a(l),s.length>0)return s;throw new Error(`No implements found for(${o})`)}}("implement",e,n.expectTo,u,t)}catch(e){o=[]}if(!Array.isArray(o)){if("function"!=typeof o)throw new Error("ExpectTo's value must be a Function type.");o=[o]}return i&&o.push(i),o.length>0?(...e)=>{const t=[];o.forEach((n=>{t.push(n(...e))}));const n=t.filter((e=>void 0!==e));return 0===n.length?void 0:1==n.length?n[0]:n}:()=>{}}"function"==typeof t&&o.E.stopWatch((e=>{const n=t((e=>{if(e&&"object"==typeof e)return d.implVal=e,!0}));"object"==typeof n&&(d.implVal=n)}));const f=new Proxy({},{get(e,t){if("toString"===t||"valueOf"===t||"$$typeof"===t||"constructor"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag||t===Symbol.iterator)return e[t];if(d.implVal){let e=d.implVal[t];if(void 0!==e){if(null==n?void 0:n.expectTo){if("function"!=typeof e)throw new Error("ExpectTo's value must be a Function type.");return p(t,e)}return e}}return(null==n?void 0:n.expectTo)?p(t):void 0},set:(t,i,o)=>(function(e,t,n,i,o,r){if(e+="Ary","parents"===n){let n=i.parent;for(;n&&(!n[e]||!n[e].find((e=>{if(e.type===t)return e.proxy[o]=r})));)n=n.parent}else if("children"===n){const n=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.type===t)return e.proxy[o]=r,!0}))||n(i.children)}))},s=i.children;n(s)}else"self"===n&&i.subjectAry&&i.subjectAry.find((e=>{if("self"===e.direction&&e.type===t)return e.proxy[o]=r,!0}))}("subject",e,n.from,u,i,o),!0)});u=o.E.regListener("implement",{type:e,direction:n.from,proxy:f}),d.proxy=f,l.current=d}if(s){const m=[...s],h=(0,i.useCallback)((()=>{if(s&&!c){const e=l.current.implVal;"function"==typeof t&&o.E.stopWatch((n=>{t((t=>{if(t&&"object"==typeof t){for(let n in t)e[n]=t[n];return!0}}))}))}}),m);(0,i.useEffect)(h,m)}return l.current.proxy}},25915:(e,t,n)=>{n.d(t,{Ku:()=>y,Yl:()=>v,ZP:()=>h,bi:()=>b});var i=n(50991),o=n(39301),r=n(59416),s=n(1842),a=n(85468),l=n(44932);const c="__observable__",d="__original__",u="__isExpectTo__",p="__pushWatch__",f=new WeakMap,m=new WeakMap;function h(e,t=e,n,p){if("function"==typeof e&&(e=new e),"object"!=typeof e||!e)return e;let h,v;"object"==typeof n&&(n.to||(h=n.expectTo),Array.isArray(n.ignore)&&(v=n.ignore));return function e(n,x,w="",E){if(b(n))return n;if("object"==typeof n&&"_isVue"in n)return n;const A={},_={get(e,t,n){let i;if("function"==typeof t)[e]in A?i=A[e]:A[e]=i=n();else{if(b(t))return t;i=f.get(t),void 0===i&&f.set(t,i=n())}return i}};E&&m.set(n,`${(0,o.Gv)(x.source)}_${E}`);const C={source:n,proxy:void 0,parent:x},I=i.E.applyAgent(w),M=new Proxy(n,{has:(e,t)=>t===c||t===d||t in e,get(i,f,m){if(i instanceof RegExp)return i[f];if(f===c)return!0;if("toString"===f||"toJSON"===f||"valueOf"===f||"$$typeof"===f||"constructor"===f||(0,o.yk)(f))return i[f];if(f===d)return d in i?i[d]:y(n);if(f===u)return h;let b;const E=(0,o.w7)(i,f);if(b=E&&E.get?E.get.call(m):i[f],b){if(b instanceof RegExp)return b;if(b instanceof FormData)return b;if(b instanceof Document||b instanceof DocumentFragment||b instanceof XMLDocument||b instanceof Image||b instanceof HTMLImageElement||b instanceof HTMLCanvasElement||b instanceof HTMLVideoElement||b instanceof HTMLAudioElement||b instanceof HTMLIFrameElement||b instanceof HTMLScriptElement||b instanceof HTMLStyleElement||b instanceof HTMLLinkElement||b instanceof Event)return b}const A=i[s.jR];if(A&&A[f])return y(b);const M=w+(f.match(/^\d+$/)?`[${f}]`:"."+f);if(void 0!==b||!h||""!==w){if("function"==typeof b){let e;return e=Array.isArray(i)?/^(splice)$/gi.test(f)?_.get(f,b,(()=>(...e)=>{var t;if(r.u){const n=null===(t=w.match(/\.([^\.]+)$/))||void 0===t?void 0:t[1];let o=x.source[s.PF];if(!(o&&o[n])){const[t,n,...o]=e,s=i.slice(t,t+n);let a;return r.u.setUndo(m,"before@splice",{start:t,now:{deleteCount:o.length,replaced:s},pre:{deleteCount:n,replaced:o}}),r.u.sleep((()=>{a=b.call(m,...e)})),a}return b.call(m,...e)}return b.call(m,...e)})):/^(indexOf)$/gi.test(f)?(...e)=>{const t=e.map((e=>y(e))),n=i.map((e=>y(e)));return b.call(n,...t)}:b:_.get(f,b,(()=>(...e)=>{try{if(i instanceof Date||i instanceof Set||i instanceof Map)return i[f].call(i,...e);try{const t=(0,l.cx)(i),n=i[f].call(m,...e);if(t){const e=t["aop-after"];if(e&&"object"==typeof e){const t=e[f];if(t){const e=m[t];"function"==typeof e&&e.call(m)}}}return n}catch(t){if(t instanceof TypeError)return i[f](...e);throw t}}catch(e){throw e}})),e}return I.push(M,f),v&&-1!==v.indexOf(f)?b:"object"==typeof b&&b&&!((0,o.K6)(b)||b instanceof RegExp||b.$$typeof||b.nodeType&&b._id)?_.get(f,b,(()=>{let t;return g(i)&&!(0,o.Bh)(i,f)&&(t=f),e(b,C,M,t)})):b}if(I.push(M,f),p){const e=function(e,t,n){if("parents"===n.direction){let i,o=n.node.parent;for(;o&&(!o.implementAry||!o.implementAry.find((n=>{if(n.type===e&&"children"===n.direction){try{i=n.proxy[t]}catch(e){if(!(e instanceof a.W))throw e}if(void 0!==i)return!0}})));)o=o.parent;if("function"==typeof i)return i}else if("children"===n.direction){const i=[],o=n=>{n&&n.length>0&&n.forEach((n=>{n.implementAry&&n.implementAry.find((n=>{if(n.type===e){let e;try{e=n.proxy[t]}catch(e){if(!(e instanceof a.W))throw e}if(void 0!==e)return i.push(e),!0}}))||o(n.children)}))},r=n.node.children;if(o(r),i.length>0)return i}}(t,f,p());return Array.isArray(e)?(...t)=>{const n=[];e.forEach((e=>{n.push(e(...t))}));const i=n.filter((e=>void 0!==e));return 0===i.length?void 0:1==i.length?i[0]:i}:e}},set(e,t,n,i){if("__proto__"===t)return e[t]=n,!0;const s=e[t];if(s!==n||Array.isArray(e)&&t&&"length"===t){const a=w+(t.match(/^\d+$/)?`[${t}]`:"."+t);if(r.u&&g(e)&&!(0,o.K6)(s)){(0,o.Bh)(e,t,!0)||r.u.ifReally&&!r.u.ifReally(e,t,n,a)||r.u.setUndo(i,t,s)}const l=(0,o.w7)(e,t);l&&l.set?l.set.call(i,n):e[t]=n,I.update(a,t,n)}return!0}});return C.proxy=M,M}(e,void 0,(null==n?void 0:n.parentNamespace)||"",!1)}function g(e){return s.pO in e||m.has(e)}function y(e,t){const n="object"==typeof e&&e&&e[d]||e;return t&&"object"==typeof n&&n?n[t]:n}function b(e){return"object"==typeof e&&e&&[c]in e}function v(e){b(e.target)&&e.target[p](e)}},51840:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(90359),o=n(50991),r=n(25915),s=n(85468);function a(e,t,n,a){const l=[...arguments];let c;if(n=l.find((e=>"object"==typeof e)),a=l.find((e=>Array.isArray(e))),n&&n.from)c=(0,i.useRef)();else if(c={},a)throw new Error("Updater can not be used here.");let d=!c.current;if(void 0===c||!c.current){if(arguments.length<0)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");if("function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T).");const i={watcherPushed:{}};let a;if("function"==typeof t){const e=t((e=>{if(e&&"object"==typeof e)return i.implVal=e,!0}));"object"==typeof e&&(i.implVal=e)}const l=new Proxy({},{has(e,t){return this.get(e,t)},get(t,l){if("toString"===l||"valueOf"===l||"$$typeof"===l||"constructor"===l||l===Symbol.toPrimitive||l===Symbol.toStringTag||l===Symbol.iterator)return t[l];if(i.implVal){let e=i.implVal[l];if(void 0!==e)return e}if(null==n?void 0:n.from){const t=function(e,t,n,i,o){if(e+="Ary","parents"===n){let r,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t)return r=e.proxy,!0})));)s=s.parent;if(void 0!==r)return r[o]}else if("children"===n){const r=[],a=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.direction!==n&&"self"!==e.direction&&e.type===t){let t;try{t=e.proxy[o]}catch(e){if(!(e instanceof s.W))throw e}if(void 0!==t)return r.push(t),!0}}))||a(i.children)}))},l=i.children;if(a(l),r.length>0)return r;throw new Error(`No implements found for(${o})`)}}("subject",e,null==n?void 0:n.from,a,l);let o;if(!i.watcherPushed[l]&&(0,r.bi)(t)&&"object"==typeof n.watch&&(o=n.watch)){i.watcherPushed[l]=!0;const e=new RegExp(`^${l}.(.+)$`);o.on.match(e)&&(0,r.Yl)({target:t,on:o.on.replace(e,"$1"),exe:o.exe,node:a})}return t}{const t=o.E.curRT.getNode();if(t&&t.subjectAry){let n;return t.subjectAry.find((t=>{if("self"===t.direction&&t.type===e)return n=t.proxy[l],!0})),n}}},set(t,i,r){let s=a,l=null==n?void 0:n.from;return l||(l="self",s=o.E.curRT.getNode()),s&&function(e,t,n,i,o,r){if(e+="Ary","parents"===n){let n,s=i.parent;for(;s&&(!s[e]||!s[e].find((e=>{e.type===t&&(n=e)})));)s=s.parent;if(n)n.proxy[o]=r}else if("children"===n){let n;const s=i=>{i&&i.length>0&&i.forEach((i=>{i[e]&&i[e].find((e=>{if(e.type===t)return n=e,!0}))||s(i.children)}))},a=i.children;s(a),n&&(n.proxy[o]=r)}else"self"===n&&i.subjectAry&&i.subjectAry.find((e=>{if("self"===e.direction&&e.type===t)return e.proxy[o]=r,!0}))}("subject",e,l,s,i,r),!0}});n&&n.from&&(a=o.E.regListener("observer",{type:e,direction:n.from,proxy:l}),o.E.regListener("subject",{type:e,direction:"self",proxy:l})),i.proxy=l,c.current=i}if(a){const e=[...a],n=(0,i.useCallback)((()=>{if(a&&!d){const e=c.current.implVal;"function"==typeof t&&t((t=>{if(t&&"object"==typeof t){for(let n in t)e[n]=t[n];return!0}}))}}),e);(0,i.useEffect)(n,e)}return c.current.proxy}},56719:(e,t,n)=>{n.d(t,{ZP:()=>A,is:()=>g,q5:()=>f,so:()=>_});var i=n(90359),o=n.n(i),r=n(50991),s=n(24318),a=n(49001),l=n(40879),c=n(39301);const{ReactCurrentDispatcher:d,ReactCurrentOwner:u}=o().__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p="_cur_parent_info_",f="_parent_info_",m="_render_in_node_info_",h="__enhanced__",g=(0,c.k)("CurrentNodeInfo",{});let y,b,v,x;const w=o().createContext(!1),E=function(...e){return C(s.render,...e)};E.test=function(e,t){return C(s.render,t)};const A=E,_=(o().createContext(void 0),function(...e){const t=(0,a.s)(...e);return{unmount:(...e)=>t.unmount.call(t,...e),render:(...e)=>C(t,...e)}});function C(e,...t){if(v||(v=o().forwardRef,o().forwardRef=x=function(e){if(!("function"!=typeof e||e.prototype&&(e.prototype instanceof o().Component||void 0!==e.prototype.isReactComponent))){const t=I(e,!0);return v(t)}return v(e)}),y||(y=o().createElement,o().createElement=b=function(...e){if(!g.current&&!w.Consumer._currentValue)return y(...e);let t;if(e.length>0&&"function"==typeof(t=e[0])){if(!t.prototype||!(t.prototype instanceof o().Component)&&void 0===t.prototype.isReactComponent){const n=I(t);e.splice(0,1,n);const i=e[1]||{};if(!i[f])try{Object.defineProperty(i,f,{value:o().createElement[p],writable:!1,enumerable:!0,configurable:!1})}catch(e){console.info(`Object.defineProperty 'PARENT_NODE_INFO' error,in object ${i}.`)}e.splice(1,1,i)}return y(...e)}if("string"==typeof e[0]){const t=e[1];if(t){const e=o().createElement[m];if(e){const n=e.id;l.M.forEach((e=>{const i=t[e];"function"==typeof i&&(t[e]=function(...e){let t;return r.E.curRT.setNodeInfoId(n),(0,s.unstable_batchedUpdates)((()=>{try{t=i(...e)}finally{}})),r.E.curRT.clear(),t})}))}}}return y(...e)}),t.length>0){let e=t[0];if(e){if("function"==typeof e){o().createElement=y;try{e=e()}catch(e){throw e}finally{o().createElement=b}}const n=e.type,i=e.props;if(n){const r=I(n),s=e.key?{key:e.key,ref:e.ref}:{ref:e.ref},a=o().createElement(w.Provider,{value:!0},o().createElement(r,Object.assign(s,i)));t.splice(0,1,a)}}}if("function"==typeof e){return e.call(void 0,...t)}if("object"==typeof e){return e.render.call(e,...t)}}function I(e,t){let n=!1,o=e[h];if(!o){"object"==typeof e&&e.$$typeof===Symbol.for("react.forward_ref")&&(n=!0),n?(e.render=M(e.render,!1),o=(0,i.memo)(e)):o=t?M(e,!1):M(e);try{e[h]=o}catch(e){}}if(!t){const t=Object.getOwnPropertyNames(e);t&&t.forEach((t=>{try{o[t]=e[t]}catch(e){console.error(e)}}))}return o}function M(e,t=!0){function n(t,s){const a=(0,i.useMemo)((()=>{const n={id:(0,c.Vj)(),version:0,name:e.name,component:e,parent:r.E.searchNode(t[f]),props:t,responsives:new Set,children:[],subjectAry:[],observerAry:[],implementAry:[]};return r.E.regNode(n),n}),[]),l=g.current;g.current=a,o().createElement[p]=a.id,o().createElement[m]=a;let u={_from_:"render",hoc:n,nodeInfo:a,update:k(),_curSnap:void 0,getSnap(){if(!this._curSnap){const e=this;this._curSnap={_snap_:!0,version:e.nodeInfo.version,_from_:e._from_,hoc:e.hoc,nodeInfo:e.nodeInfo,update:e.update,getSnap:()=>e._curSnap}}return this._curSnap},updateSnap(){this._curSnap&&(this._curSnap.invalid=!0,this._curSnap=void 0)}};(0,i.useEffect)((()=>()=>{r.E.cleanUpdater(u),u=void 0}),[]),r.E.setCurUpdater(u);const h=d.current;let y,b;if(h){const e=h.useMemo;if(y=h.useEffect,a){if(e&&!e._rxui_){const n=function(n,i){return e((function(...e){let i;try{i=r.E.stopWatch((()=>n(...e)))}catch(e){P("useMemo",t,e)}return i}),i)};n._rxui_=!0,h.useMemo=n}if(y&&!y._rxui_){const e=function(e,n){return y((function(...n){let i;r.E.curRT.setNodeInfoId(a.id);try{i=e(...n)}catch(e){P("useEffect",t,e)}finally{r.E.curRT.clear()}return i}),n)};e._rxui_=!0,h.useEffect=e}}}try{b=e(t,s)}catch(e){b=P("render",t,e)}return null==b&&(b=o().createElement(o().Fragment)),y&&(h.useEffect=y),g.current=l,o().createElement[m]=a.parent,b}return n.displayName=e.displayName||e.name,t?(0,i.memo)(n):n}function P(e,t,n){if(!t||"function"!=typeof t._onError_&&"function"!=typeof t._onerror_){const i=t[f];if(i){const t=r.E.searchNode(i);if(null==t?void 0:t.props)return P(e,t.props,n)}throw n}return(t._onError_||t._onerror_)(n,e)}function k(){const[e,t]=(0,i.useState)(0);return(0,i.useCallback)((e=>{t((e=>e+1))}),[])}},50991:(e,t,n)=>{n.d(t,{E:()=>f});var i=n(56719),o=n(39301),r=n(24318);const s=(0,o.k)("nodes",{});let a,l,c=null;const d=(0,o.k)("IgnoreRx",{stopWatcher:void 0,updateLater:void 0,stopUpdate:void 0});let u=(0,o.k)("curUpdater",{cur:void 0});const p=(0,o.k)("batchStack",[]);var f;function m(e,t){return e&&t&&e.nodeInfo&&t.nodeInfo&&e.nodeInfo.id===t.nodeInfo.id&&e.hoc===t.hoc}!function(e){function t(e){return s[e]}function n(e,t){var i;null===(i=e.responsives)||void 0===i||i.forEach((t=>{t.forEach(((n,i)=>{n.nodeInfo&&!n.nodeInfo.invalid&&n.nodeInfo.id!==e.id||t.splice(i,1)}))}));const o=s[e.id];if(o){if(o.parent){const t=o.parent.children;t.forEach(((n,i)=>{n.id===e.id&&t.splice(i,1)}))}o.children&&o.children.forEach((e=>{n(e)})),s[e.id]=null,delete s[e.id]}e.component=null,e.invalid=!0,e.props=null}e.curRT={setNodeInfoId(e){a=e},setInfoIdForDelay(){l=a},getNode(){const e=i.is.current;if(e)return s[e.id];if(a){const e=s[a];if(e)return e}return l?s[l]:void 0},clear(){a=null},clearDelay(){l=null}},e.regNode=function(e){if(s[e.id]=e,c){let n,i=e.parent;if(i){if(i.invalid)return;n=t(i.id),e.parent=n,n.children.push(e)}}else c=e},e.regListener=function(e,n){const o=i.is.current;if(!o)throw new Error("CurrentNodeInfo.current is undefined.");const r=t(o.id);return n&&r[e+"Ary"].push(n),r},e.getCurNode=function(){const e=i.is.current;if(!e)throw new Error("CurrentNodeInfo not found.");return t(e.id)},e.searchNode=t,e.setCurUpdater=function(e){u&&(u.cur=e)},e.getCurUpdater=function(){if(u)return u.cur},e.stopWatch=function(e){if("function"==typeof e){d.stopWatcher=!0;try{return e((()=>{d.stopWatcher=void 0}))}finally{d.stopWatcher=void 0}}},e.keepWatch=function(e){if("function"==typeof e){const t=d.stopWatcher;d.stopWatcher=void 0;try{return e((()=>{d.stopWatcher=t}))}finally{d.stopWatcher=t}}},e.updateLater=function(e){if("function"==typeof e){d.updateLater=[];try{const t=d.updateLater;return e({ary:t,bat(e){d.updateLater=void 0,(0,r.unstable_batchedUpdates)((()=>{e()}))},updateAll(){d.updateLater=void 0,(0,r.unstable_batchedUpdates)((()=>{t.forEach((e=>{e.update()}))}))}})}finally{}}},e.stopUpdate=function(e){if("function"==typeof e){d.stopUpdate=!0;try{return e((()=>{d.stopUpdate=void 0}))}finally{d.stopUpdate=void 0}}},e.igonreObservableBefore=function(){u={}},e.cleanUpdater=function(e){try{e.updateSnap(),n(e.nodeInfo),e.nodeInfo&&(e.nodeInfo=null),e.hoc=null,e.update=null}catch(e){console.error(e)}},e.applyBatch=function(){const e=[];return p.push(e),{commit(){p.pop(),e.forEach((e=>{e&&e.nodeInfo&&!e.nodeInfo.invalid&&e.update(e)}))},cancel(){p.pop()}}};const o=function(){let e,t=[];return{clear(){t=[]},push(n){t.find((e=>m(e,n)))||t.push(n.getSnap()),e||(e=1,Promise.resolve().then((()=>{e=void 0,t.forEach(((e,n)=>{t[n]=void 0,e&&e.nodeInfo&&!e.nodeInfo.invalid&&(e.invalid?console.log("updater.invalid",e):e.update())})),t=t.filter((e=>e))})))}}}();e.applyAgent=function(t){const n={_parentNS_:t},i={push(t,i){if(d.stopWatcher)return;let o=n[i];o||(o=n[i]=[]);const r=e.getCurUpdater();if(r){let e;r.nodeInfo,r.nodeInfo.responsives.add(o),o.find(((t,n)=>{if(m(t,r))return e=n,!0}))?e>=0&&(o[e]=r.getSnap()):o.push(r.getSnap())}},update(t,i,s){if(d.stopUpdate)return;const l=t+"="+("function"==typeof s?"function":"object"==typeof s?"{..}":s),c=p[p.length-1];if(c){const e=n[i];e&&e.length>0&&e.forEach((e=>{!e.nodeInfo||e.nodeInfo.invalid||c.find((t=>m(t,e)))||(e.watch=`[${e.nodeInfo.id}]${l}`,c.push(e))}))}else if(d.updateLater){let t=n[i];if(t)try{t.forEach(((n,i)=>{if(n&&n.nodeInfo&&!n.nodeInfo.invalid&&!n.invalid){n.watch=`[${n.nodeInfo.id}]${l}`;const t=e.getCurUpdater();if(t&&t===n)return;return t&&t.nodeInfo.id!==n.nodeInfo.id?a&&a===n.nodeInfo.id?d.updateLater.push({nodeInfo:n.nodeInfo,update:function(){n.update(n)}}):o.push(n):d.updateLater.push({nodeInfo:n.nodeInfo,update:function(){n.update(n)}}),n}t.splice(i,1)})),0===n[i].length&&(n[i]=void 0,delete n[i])}catch(e){console.error(e)}}else{let t=n[i];if(t)try{(0,r.unstable_batchedUpdates)((()=>{t.forEach(((n,i)=>{if(n&&n.nodeInfo&&!n.nodeInfo.invalid&&!n.invalid){n.watch=`[${n.nodeInfo.id}]${l}`;const t=e.getCurUpdater();if(t&&t===n)return;return t&&t.nodeInfo.id!==n.nodeInfo.id?(a&&n.nodeInfo.id,n.update(n)):n.update(n),n}t.splice(i,1)}))})),0===n[i].length&&(n[i]=void 0,delete n[i])}catch(e){console.error(e)}}}};return i}}(f||(f={}))},59416:(e,t,n)=>{n.d(t,{C:()=>s,u:()=>r});var i=n(50991);const o=/^before\@splice$/;let r;function s(e){return r=new a(e),r}class a{resetUndoStates(){this._undo.states=[]}resetRedoStates(){this._redo.states=[]}constructor(e){this._undo={states:[]},this._redo={states:[]},this.title=e.title,this.ifReally=e.ifReally,this.onUndo=e.onUndo,this.onRedo=e.onRedo,this.listener=e.listener}pause(){this.paused=!0}resume(){this.paused=void 0}setUndo(e,t,n,i){this.sleeping||this.paused||this.set(e,t,n,this._undo)&&this.listener&&(void 0!==i&&!0!==i||this.listener(e,t,n))}setRedo(e,t,n,i){this.sleeping||this.paused||this.set(e,t,n,this._redo)&&this.listener&&(void 0!==i&&!0!==i||this.listener(e,t,n))}sleep(e){this.sleeping=!0;try{"function"==typeof e&&e()}catch(e){throw e}finally{this.sleeping=!1}}dump(){return r=null,this}undo(e){r=null;const t=i.E.applyBatch();try{this._undo.states.reverse().forEach((({obj:e,prop:t,val:n})=>{let i;if(Array.isArray(e)&&"length"===t)i=n;else if(l(t)){const{start:e,now:t,pre:o}=n;i={start:e,now:o,pre:t}}else i=e[t];this.setRedo(e,t,i,!1),this.setVal(e,t,n)})),t.commit(),this.resetUndoStates(),"function"==typeof this.onUndo&&this.onUndo(e)}catch(e){console.error(e),t.cancel()}}redo(){r=null;const e=i.E.applyBatch();try{this._redo.states.reverse().forEach((({obj:e,prop:t,val:n})=>{let i;if(l(t)){const{start:e,now:t,pre:o}=n;i={start:e,now:o,pre:t}}else i=e[t];this.setUndo(e,t,i,!1),this.setVal(e,t,n)})),e.commit(),this.resetRedoStates(),"function"==typeof this.onRedo&&this.onRedo()}catch(t){console.error(t),e.cancel()}}cancel(){r=null}set(e,t,n,i){return i.states.push({obj:e,prop:t,val:n}),!0}setVal(e,t,n){if(Array.isArray(e)){const i=e;if(l(t)){const{start:e,now:t,pre:o}=n;i.splice(e,t.deleteCount,...t.replaced)}else t.match(/^\d+$/)&&void 0===n?e.splice(parseInt(t),1):"length"===t?e.length===n&&(e[t]=n):e[t]=n}else e[t]=n;this.listener&&this.listener(e,t,n)}}function l(e){return e.match(o)}},76031:(e,t,n)=>{n.d(t,{KX:()=>c,MC:()=>m,Yw:()=>l});var i=n(59416),o=n(25915);const r=(s=[{}],{push(e){s.length>=30&&s.shift(),s.push(e)},handler:(0,o.ZP)({name:"Undo",get size(){return s.length},exe(){if(s.length<=1)return;const e=s.pop();e.undo(),a.push(e)}})});var s;const a=(e=>({clear(){e.splice(1,e.length-1)},push(t){e.push(t)},handler:(0,o.ZP)({name:"Redo",get size(){return e.length},exe(){if(e.length<=1)return;const t=e.pop();t.redo(),r.push(t)}})}))([{}]),l=r.handler,c=a.handler;let d,u,p;function f(e){setTimeout((e=>{if(d){const e=d.until-((new Date).getTime()-d.from);e<=0?(r.push(d.dump),d=void 0):f(e)}}),e)}function m(e){if(d)if(u!==e.title)r.push(d.dump),d=void 0,u=void 0;else{if(!(d.until>0&&(new Date).getTime()-d.from>d.until))return{on(e){},wait(){},pause(){},pauseNext(){},resume(){},commit(e){if(d.until<0)e&&e.wait?(d.from=(new Date).getTime(),f(d.until)):(r.push(d.dump),d=void 0);else{let t=d.until-((new Date).getTime()-d.from);if(t<=0)return r.push(d.dump),void(d=void 0);e&&e.wait&&(d.from=(new Date).getTime(),t=d.until),f(t)}t.commit(),a.clear()},cancel(){u=void 0,t.undo()}};r.push(d.dump),d=void 0}if(u=e.title,p){const e=new Object;return Object.setPrototypeOf(e,p),e.commit=function(){},e.cancel=function(){},e}let t=(0,i.C)(e),n=!1;return p={on(e){},wait(){if(!d){const e=t.dump();d={from:(new Date).getTime(),until:-1,dump:e}}},pause(){t.pause()},pauseNext(){n?t.pause():n=!0},resume(){n=!1,t.resume()},commit(e){p=void 0,n=!1,t.resume();const i=t.dump();return e&&e.wait?d={from:(new Date).getTime(),until:e.wait,dump:i}:(u=void 0,r.push(i)),a.clear(),!0},cancel(){if(p=void 0,u)return u=void 0,t.undo(!0),!0}},p}},22976:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(90359),o=n(50991),r=n(56719);function s(e){const[,t]=(0,i.useState)(),n=o.E.getCurUpdater(),s=(0,i.useMemo)((()=>({c:0,fn:e,updater:{_from_:"useComputed",hoc:e,nodeInfo:r.is.current,update:function(){t(s.c++)},_curSnap:void 0,getSnap(){if(!this._curSnap){const e=this;this._curSnap={version:e.nodeInfo.version,_snap_:!0,_from_:e._from_,hoc:e.hoc,nodeInfo:e.nodeInfo,update:e.update,getSnap:()=>e._curSnap}}return this._curSnap},updateSnap(){this._curSnap}}})),[]),a=(0,i.useMemo)((()=>{const t=s.updater;let i;o.E.setCurUpdater(t),t.updateSnap();try{i=o.E.keepWatch(e)}catch(e){if(!t.nodeInfo||!t.nodeInfo.props)throw e;l("render",t.nodeInfo.props,e)}finally{o.E.setCurUpdater(n)}return i}),[s.c]);return(0,i.useEffect)((()=>()=>{o.E.cleanUpdater(s.updater)}),[]),a}const a=new WeakMap;function l(e,t,n){if(a.has(n))return console.error(n),void setTimeout((e=>a.delete(n)));if(a.set(n,!0),!t||"function"!=typeof t._onError_&&"function"!=typeof t._onerror_){const i=t[r.q5];if(i){const t=o.E.searchNode(i);if(null==t?void 0:t.props)return l(e,t.props,n)}throw n}return(t._onError_||t._onerror_)(n,e)}},46798:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(90359),o=n(50991),r=n(25915),s=n(4804);const a="__observable_proxy__";function l(e,t,n,a,l){const u=[...arguments];n=u.find((e=>"object"==typeof e?e:void 0));const p=(0,i.useRef)(null);let f=!p.current;if(f){if(arguments.length<1)throw new Error("invalid arguments,expect <T>(class:new ()=>T|T).");if("object"!=typeof e&&"function"!=typeof e||!e)throw new Error("invalid arguments,expect <T>(class:new ()=>T|T).");let i;i="function"==typeof e?new e:e;let a=null;const l=(0,r.ZP)(i,e,n,(()=>a));if("function"==typeof t&&o.E.stopWatch((e=>{t((t=>{if(e(),t&&"object"==typeof t)return c(t,l),!0}))})),"object"==typeof n){if(n.to){const t=d(e,l,n.to);t&&(a=t)}else if(n.expectTo){const t=d(e,l,n.expectTo);t&&(a=t)}"function"==typeof n.init&&n.init((0,r.Ku)(l))}d(e,l,"self");const f=u.find((e=>"string"==typeof e?e:void 0));f&&(0,s.h)(f,l,e),p.current=l}l=u.find((e=>Array.isArray(e)))||[];const m=[...l],h=(0,i.useCallback)((()=>{if(l&&!f){const i=p.current;if("function"!=typeof e)for(let t in e){const n=e[t];i[t]=n}else"function"==typeof t&&o.E.stopWatch((e=>{t((t=>{if(e(),t&&"object"==typeof t){for(let e in t)i[e]=t[e];return!0}}))}));"function"==typeof(null==n?void 0:n.init)&&n.init((0,r.Ku)(i))}}),m);return(0,i.useMemo)(h,m),p.current}function c(e,t){const n=Object.getOwnPropertyNames(e);n&&n.forEach((n=>{const i=e[n];"function"==typeof i?"constructor"!==n&&(t[n]=i):t[n]=i}));const i=Object.getPrototypeOf(e);i&&i!==Object.prototype&&c(i,t)}function d(e,t,n){if("string"!=typeof n||!/^(children|parents|self)$/gi.test(n))throw new Error("direction = 'children'|'parents' expect.");const i=new Proxy({},{has:(e,t)=>t===a||t in e,get:(e,n)=>t[n],set:(e,n,i)=>(t[n]=i,!0)}),r=o.E.regListener("subject",{type:e,direction:n,proxy:i});if(r&&"self"!==n)return{direction:n,node:r}}},94062:(e,t,n)=>{n(90359)},42124:(e,t,n)=>{n(25915),n(90359),n(50991)},39301:(e,t,n)=>{n.d(t,{Bh:()=>r,CN:()=>c,Gv:()=>s,K6:()=>a,Vj:()=>l,gU:()=>d,k:()=>h,w7:()=>u,yk:()=>f});var i=n(26781),o=n(1842);function r(e,t,n){if(n){const n=e[o.$L];if(n&&n[t])return!1;const i=e[o.PF];if(i)return i[t]}else{const n=e[o.PF];if(n)return n[t];const i=e[o.$L];if(i)return i[t]}return!1}function s(e){return e[o.pO]||e[o.qI]}function a(e){if("function"==typeof HTMLElement)return e instanceof HTMLElement;e&&"object"==typeof e&&(1===e.nodeType||9===e.nodeType)&&e.nodeName}function l(e="u_",t=5){return e+(0,i.x0)(t).replace(/-/gi,"_")}function c(e,t){let n;if("string"==typeof t){let e=t.lastIndexOf(".");n=-1!==e?t.substring(e+1):t}else n=e.name;return n.replace(/[^\w]/gi,"_")}function d(e,t){let n=[];do{if(e==Object.prototype||e==Function.prototype)break;try{n=n.concat(Object.getOwnPropertyNames(e))}catch(e){console.error(e)}}while(e=Object.getPrototypeOf(e));return n.filter((n=>{if(!t||t&&"function"!=typeof e[n])return"constructor"!=n&&!/^__.+/g.test(n)}))}function u(e,t){let n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){let i=e;for(;void 0===n&&null!=(i=Object.getPrototypeOf(i))&&i!==Object.prototype;)n=Object.getOwnPropertyDescriptor(i,t)}return n}const p="[object Symbol]";function f(e){return"symbol"==typeof e||function(e){return"object"==typeof e&&null!==e}(e)&&Object.prototype.toString.call(e)===p}const m={};function h(e,t){const i="object"==typeof window?window:"object"==typeof n.g?n.g:m;let o;if(i){let n=i.__rxui__;void 0===n&&(n=i.__rxui__={}),o=n[e]?n[e]:n[e]=t}else o=t;return o}},28602:e=>{e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRDN0YyREVEMzE2OTExRTI4OTgzRTlDNEE1QzA1NTcyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRDN0YyREVFMzE2OTExRTI4OTgzRTlDNEE1QzA1NTcyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEM3RjJERUIzMTY5MTFFMjg5ODNFOUM0QTVDMDU1NzIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEM3RjJERUMzMTY5MTFFMjg5ODNFOUM0QTVDMDU1NzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAB5AH0DAREAAhEBAxEB/8QAaAABAQEBAQAAAAAAAAAAAAAAAQIAAwcBAQEBAAAAAAAAAAAAAAAAAAABAhAAAQMDAwMEAgMBAQAAAAAAAQARITFBAlFxEvBhgaGxwSIyQpHR4VLSEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8A95FX+FpAPxL66IDJnMxsgkANW2iCocbaIJiJ9EDiA4/pBWI+p/pAgFsoQYECyDYkNlpHugMm49aIM540vruqM5j621GigCexpqgJ0QV+yDW8oNkA/WqAb67hAjH7IBg4hBgC+wQUMTwKCQ89WQBxJYt06DcWxMC3ugcsTSOggwgUFdd0GBgbFBsXaEGnk8UQWchykoBx2qg2TSXHRVED8RIooKx3ogCziQg16oKgYVqR8oJDMUD9WG3zug2XHW/zugMiBdBiYugCYZjRBWLcDBQZg9Dogcnd46KANPKDEGo9+6AHJhNtUFgu8mmqCPs4n1VCCdT/AD3UFP8AUSaoJjiXJqgxZgO2iDZN6oJLG5qgTxYVQYswg07oKBHAxprqgHHL8enQBAq+rqg4Y6j+EDwxmbaKDccPTsgoYY+hQTwxifZAjHCN/lAnDHgIVGYMwF+6gk0EW7oEifPV0EtD90C/sgTkWDaIMMsuICDTy8/KDFxjXVBWOWViEGOWXE0ognLlNDHZA4vysgSci1KIJlxT01QY0FEGYM8O6DQLBAkzS6CXil0GccSZvZAjgwk0Njogfq2LH3QMPWX+UEFuR2rKCgaboJydBbfU+boJyEYn57IMH5f6grIFxsboJYPlN9eyDDi1dVRmxc/YKDBv+rINkPtXp0A5ZBJ1690FBnEGgt/qAhnQJA5FggWHLyUAWeEF2Ox90EZUHVkDjXrVA5PHlBM8smevwgS7UN/hAESXHogzQgcgQX7qhIPGg9f6UEHEtT3QaQRsNUA2XHwg6ABzN0GDOZ1QSTogsEsdj7oIL/WYQbF3CCi54+fdBH2mboKPJjPv2QByyo99CgAcpPbugcnYlroNyyONEGfJqIMTQdkC318fKDOeRi6ABPExqgwd7UQUKVFCgxaJFEE4uwkILh8ZF0AGrCBfE8kBBNv4VGGL45U6Kg2WH1NPTRBji2NkGZgNkEkyK0VBa/8AHdQWMprG6AB+pkVQGVTIQT5FEFUImyAmJCDY1EoKx/EygRlGUoMCLlBsWbKenQGQHHrRBnHHzpuqM4iDTTsoAkWemiA8ILnlVAW8oNkJQS31pUIKAPJANIQYA6WQViMuBKAByms/0gku4r0UGD8TW1+6ByBox6CBEC9VQOWGxUGFKOg08qQyCz+SAYeqDZAv/vdBM8RsgcXKDEEEb6oCQUFUw3I+UAKFBmAAm2vfZBsh36fZAZboMSOyCScWbtogvE48DM7ICHr6KishLt06gkiKXQYg6e2qDB2EW0CChL7aBBJBcR6BUI6gKCv1FK6boJYcTIqgxZhSnfVBsh7oJyAN76IEswlBjxYTZBWOWPAzp7oB8eV6/KDEEy9e6onhkb31UDwLGbd0G4a5W7oKGPexQTwdvt7oEYhx9r99UCcRwElUYgNrOqgk0Faa/wCIEifKCWDP3QLj0QJyDDZAjI8RCAnl5+UE5UO5QAqqLF9lAD4QXjQ7JBBoEDjbq6Cj+AVB/wClAGnhBjXyg369d0AECP12KDGyDft5+UH/2Q=="},2721:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__2721__},15041:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__15041__},90359:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__90359__},24318:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__24318__},26781:(e,t,n)=>{n.d(t,{x0:()=>i});let i=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},56628:e=>{e.exports=JSON.parse('{"deprecated":true,"visibility":false,"title":"连接器","namespace":"mybricks.core-comlib.connector","author":"MyBricks","author_name":"MyBricks","version":"1.0.0","description":"连接器","runtime":"./runtime.ts","editors":"./editors.tsx","icon":"./icon.svg","rtType":"js-autorun","inputs":[{"id":"call","rels":["then","catch"],"title":"调用","schema":{"type":"object"}}],"outputs":[{"id":"then","title":"结果","schema":{"type":"unknown"}},{"id":"catch","title":"发生错误","schema":{"type":"string"}}]}')},7031:e=>{e.exports=JSON.parse('{"visibility":false,"title":"打开对话框","namespace":"mybricks.core-comlib.scenes","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"切换场景","icon":"./icon.png","runtime":"./runtime.ts","data":"./data.json","rtType":"js","inputs":[{"id":"open","title":"打开","schema":{"type":"any"}}]}')},2198:e=>{e.exports=JSON.parse('{"_sceneId":null,"_sceneShowType":null,"openType":"blank"}')},42164:e=>{e.exports=JSON.parse('{"title":"类型转换","visibility":false,"namespace":"mybricks.core-comlib.type-change","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"类型转换","icon":"./icon.png","runtime":"./rt.tsx","editors":"./editors.tsx","rtType":"js","inputs":[{"id":"from","title":"从","schema":{"type":"follow"},"rels":["to"]}],"outputs":[{"id":"to","title":"到","schema":{"type":"follow"},"conMax":1,"editable":true}]}')},36282:e=>{e.exports=JSON.parse('{"visibility":false,"title":"变量","namespace":"mybricks.core-comlib.var","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"变量","icon":"./icon.png","data":"./data.json","runtime":"./Var.tsx","editors":"./editors.tsx","rtType":"js","inputs":[{"id":"get","title":"读取","schema":{"type":"any"},"rels":["return"]},{"id":"set","title":"赋值","schema":{"type":"follow"},"rels":["return"]},{"id":"reset","title":"重置","schema":{"type":"any"}}],"outputs":[{"id":"return","title":"完成","schema":{"type":"unknown"}},{"id":"changed","title":"当值发生变化","schema":{"type":"unknown"}}]}')},1752:e=>{e.exports={}},71412:e=>{e.exports=JSON.parse('{"title":"Fn计算","namespace":"mybricks.core-comlib.fn","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"Fn计算","icon":"./icon.png","runtime":"./Fn.tsx","rtType":"js","visibility":false}')},85593:e=>{e.exports=JSON.parse('{"visibility":false,"title":"作用域输入","namespace":"mybricks.core-comlib.frame-input","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"作用域输入","rtType":"js","runtime":"./runtime.ts","editors":"./editor.tsx","inputs":[{"id":"getCurValue","title":"获取","schema":{"type":"any"},"rels":["return"]}],"outputs":[{"id":"return","title":"结果","schema":{"type":"follow"}}]}')},37941:e=>{e.exports=JSON.parse('{"visibility":false,"title":"输出","namespace":"mybricks.core-comlib.frame-output","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"作用域输出","rtType":"js","runtime":"./runtime.ts","editors":"./editor.tsx","inputs":[{"id":"output","title":"输出","schema":{"type":"any"}}]}')},36964:e=>{e.exports=JSON.parse('{"title":"模块","namespace":"mybricks.core-comlib.module","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"模块","icon":"./icon.png","data":"./data.json","runtime":"./runtime.tsx","editors":"./editors.ts"}')},63339:e=>{e.exports={}},83417:e=>{e.exports=JSON.parse('{"title":"选区","namespace":"mybricks.core-comlib.selection","author":"CheMingjun","author_name":"车明君","version":"1.0.0","description":"选区","runtime":"./runtime.tsx","editors":"./editors.ts"}')},4147:e=>{e.exports=JSON.parse('{"u2":"@mybricks/designer-spa","i8":"1.3.76"}')},71211:e=>{e.exports={}},90782:e=>{e.exports={i8:"1.0.16"}}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".index.min.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="mybricks:",__webpack_require__.l=(e,t,n,i)=>{if(inProgress[e])inProgress[e].push(t);else{var o,r;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=s[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){o=l;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var c=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var i=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),r&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!e;)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={179:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=o);var r=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(r,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,s,a]=n,l=0;if(r.some((t=>0!==e[t]))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);if(a)a(__webpack_require__)}for(t&&t(n);l<r.length;l++)o=r[l],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmybricks=self.webpackChunkmybricks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SPADesigner:()=>SPADesigner,command:()=>_command__WEBPACK_IMPORTED_MODULE_3__,createObservable:()=>createObservable});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90359),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83446),_Designer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64655),_command__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94755),_package_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4147),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24318),react_dom__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);if(!react__WEBPACK_IMPORTED_MODULE_0___default()||!react__WEBPACK_IMPORTED_MODULE_0___default().version.startsWith("17.")&&!react__WEBPACK_IMPORTED_MODULE_0___default().version.startsWith("18."))throw new Error("React not found or version is not 17.x or 18.x");const{useMemo,forwardRef,version:ReactVersion}=react__WEBPACK_IMPORTED_MODULE_0___default();console.log(`%c ${_package_json__WEBPACK_IMPORTED_MODULE_4__.u2} %c@${_package_json__WEBPACK_IMPORTED_MODULE_4__.i8}`,"color:#FFF;background:#fa6400","","");const SPADesigner=forwardRef(((e,t)=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DesignerRender,Object.assign({},e,{_ref:t}))));function createObservable(e){if("object"==typeof e&&e)return(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__.LO)(e)}function DesignerRender({config:e,onMessage:t,onLoad:n,onEdit:i,onClick:o,onDebug:r,_ref:s}){const a=deepAssign({geoView:{type:"pc",nav:{float:!0},theme:{css:["https://f2.beckwai.com/udata/pkg/eshop/fangzhou/pub/pkg/antd-4.21.6/antd.min.css"]}}},e||{}),l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{ReactVersion.startsWith("18.")?l.current.unmount():(0,react_dom__WEBPACK_IMPORTED_MODULE_5__.unmountComponentAtNode)(c.current)}),[]);return useMemo((()=>react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},ref:e=>{e&&(c.current=e,ReactVersion.startsWith("18.")?(l.current=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__.so)(e),l.current.render(react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Designer__WEBPACK_IMPORTED_MODULE_2__.Z,{config:a,onLoad:n,onEdit:i,onMessage:t,onClick:o,onDebug:r,ref:e=>{"function"==typeof s?s(e):"object"==typeof s&&(s.current=e)}}))):l.current=(0,_mybricks_rxui__WEBPACK_IMPORTED_MODULE_1__.sY)(react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Designer__WEBPACK_IMPORTED_MODULE_2__.Z,{config:a,onLoad:n,onEdit:i,onMessage:t,onClick:o,onDebug:r,ref:e=>{"function"==typeof s?s(e):"object"==typeof s&&(s.current=e)}}),e))}})),[])}function callConnectorHttp({script,params}){return new Promise(((resolve,reject)=>{try{const fn=eval(`(${script})`);fn(params,{then:resolve,onError:reject},{ajax(e){let t,n,i=e.url;if("GET"===e.method.toUpperCase()){if(params){let e=[];for(let t in params)e.push(t+"="+params[t]);i+=`?${e.join("&")}`}}else"POST"===e.method.toUpperCase()&&params&&(n=JSON.stringify(params),t={"Content-Type":"application/json"});return new Promise(((o,r)=>{window.fetch(i,{method:e.method,body:n,headers:t}).then((e=>{if(String(e.status).match(/^2\d{2}$/g))if(e&&"function"==typeof e.json)try{return e.json()}catch(e){r(e.message)}else o("");else r(`服务连接错误（状态码 ${e.status}）`)})).then((e=>{o(e)})).catch((e=>{r(e.message)}))}))}})}catch(e){reject("连接器script错误.")}}))}function deepAssign(){var e=Array.from(arguments);return e.reduce((function e(t,n){t||(t=Array.isArray(n)?[]:{});if(n&&"object"==typeof n)for(let i in n)n.hasOwnProperty(i)&&(n[i]&&Array.isArray(n[i])?t[i]=n[i]:n[i]&&"object"==typeof n[i]?t[i]=e(t[i],n[i]):t[i]=n[i]);return t}),e[0])}})(),__webpack_exports__})()));