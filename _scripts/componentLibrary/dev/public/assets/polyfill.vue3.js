!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("react"),require("vue"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","vue","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).React,e.vue,e.ReactDOM)}(this,(function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var a=o(e),i=n(e),u=n(r);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function _(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var j={react:{componentWrap:"div",slotWrap:"div",componentWrapAttrs:{__use_react_component_wrap:"",style:{all:"unset"}},slotWrapAttrs:{__use_react_slot_wrap:"",style:{all:"unset"}},vueNamedSlotsKey:["node:"]},vue:{componentWrapHOC:function(t){return function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).portals,n=void 0===r?[]:r;return a.createElement(e.Fragment,null,t,n.map((function(e){var t=e.Portal,r=e.key;return a.createElement(t,{key:r})})))}},componentWrapAttrs:{"data-use-vue-component-wrap":"",style:{width:"100%",height:"100%"}},slotWrapAttrs:{"data-use-vue-slot-wrap":"",style:{all:"unset"}}}};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{react:{},vue:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,r=arguments.length>2?arguments[2]:void 0;e.vue||(e.vue={}),e.react||(e.react={});var n=[t,c(c({},e),{},{react:c(c(c({},t.react),e.react),{},{componentWrapAttrs:c(c({},t.react.componentWrapAttrs),e.react.componentWrapAttrs),slotWrapAttrs:c(c({},t.react.slotWrapAttrs),e.react.slotWrapAttrs)}),vue:c(c(c({},t.vue),e.vue),{},{componentWrapAttrs:c(c({},t.vue.componentWrapAttrs),e.vue.componentWrapAttrs),slotWrapAttrs:c(c({},t.vue.slotWrapAttrs),e.vue.slotWrapAttrs)})})];return r&&n.unshift({}),Object.assign.apply(this,n)}var A=["getElementById","getElementsByClassName","getElementsByTagName","getElementsByTagNameNS","querySelector","querySelectorAll"],I={Document:{},Element:{}};function V(e){Object.keys(I).forEach((function(t){A.forEach((function(r){var n=window[t].prototype[r];I[t][r]=n,window[t].prototype[r]=function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];var i=n.apply(this,o);return i&&(i.constructor!==NodeList||i.constructor===NodeList&&i.length>0)?i:Element.prototype[r].apply(e,o)}}))}))}function k(){Object.keys(I).forEach((function(e){A.forEach((function(t){window[e].prototype[t]=I[e][t]}))}))}var $=["ref"],T=["key"],W=["hashList"],N=parseInt(e.version);var D=function(e){y(r,e);var t=S(r);function r(e){return f(this,r),t.call(this,e)}return _(r,[{key:"render",value:function(){var e=this.props.component,t=this.props.passedProps;t.ref;var r=g(t,$);return a.createElement(e,r,this.props.children)}}]),r}(a.Component);function F(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.__esModule&&e.default&&(e=e.default),n.isSlots&&(e=e()),n=w(n,void 0,!0),{originReactComponent:e,setup:function(r,o){if(!n.isSlots){var a={},i=t.reactive({}),u=t.getCurrentInstance(),s=n.useInjectPropsFromWrapper||e.__veauryInjectPropsFromWrapper__;if("function"==typeof s){var c=s.call(u.proxy,r);"function"!=typeof c?(Object.assign(i,c),a.__veauryInjectedProps__=i):u.proxy.__veauryInjectedComputed__=c}return a}},data:function(){return{VEAURY_Portals:[]}},created:function(){this.__veauryPortalKeyPool__=[],this.__veauryMaxPortalCount__=0},computed:{__veauryInjectedProps__:function(){var e;return null===(e=this.__veauryInjectedComputed__)||void 0===e?void 0:e.call(this)}},render:function(){var e=t.h(n.react.componentWrap,c({ref:"react"},n.react.componentWrapAttrs||{}),this.VEAURY_Portals.map((function(e){var r=e.Portal,n=e.key;return r(t.h,n)})));return this.__veauryCheckReactSlot__(this.$slots),e},methods:{__veauryCheckReactSlot__:function(e){var r=this;function n(e,t,r){if(t[r])return e[r]=t[r],!0}Object.keys(e).forEach((function(o){try{var a=e[o],i=a.apply(r,a.__reactArgs||[{}]);if(a.__trueChildren=i,i.forEach((function(e){e.children&&r.__veauryCheckReactSlot__(e.children)})),1===i.length){var u,s=i[0];if(n(a,s,"reactSlot"))return;if(n(a,s,"reactFunction"))return;if(s.type===t.Fragment&&1===(null===(u=s.children)||void 0===u?void 0:u.length)){var c=s.children[0];if(n(a,c,"reactSlot"))return;n(a,c,"reactFunction")}}}catch(e){}}))},__veauryPushVuePortal__:function(e){var t=this.__veauryPortalKeyPool__.shift()||this.__veauryMaxPortalCount__++;this.VEAURY_Portals.push({Portal:e,key:t})},__veauryRemoveVuePortal__:function(e){var t,r=this.VEAURY_Portals.find((function(r,n){if(r.Portal===e)return t=n,!0}));this.__veauryPortalKeyPool__.push(r.key),this.VEAURY_Portals.splice(t,1)},__veauryGetScopeSlot__:function(e,t,r){var o=this;function a(a){function i(){for(var r=this,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];if(e.reactFunction)return e.reactFunction.apply(this,u);if(n.defaultSlotsFormatter){var f=e.apply(this,u);return f.__top__=o,(f=n.defaultSlotsFormatter(f,o.__veauryVueInReactCall__,t))instanceof Array||l(f).indexOf("string","number")>-1?f=R(f):"object"===l(f)&&(f=c({},f)),f}return re(a((function(){return e.apply(r,u)})),c(c({},n),{},{isSlots:!0,wrapInstance:o})).render()}return n.pureTransformer&&r?i.vueFunction=r:i.vueFunction=e,i}return a.__scopedSlot=!0,a},__veaurySyncUpdateProps__:function(e){this.__veauryReactInstance__&&this.__veauryReactInstance__.setState(e)},__veauryMountReactComponent__:function(t,o){var i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p={},h=[],m=this.$.vnode.scopeId;m&&(p[m]="",h.push(m));var O,P,E={},C={};if(!t||t&&null!=o&&o.slot){var j=function(e){var t;if(!i.$slots.hasOwnProperty(e)||null==i.$slots[e])return 0;var r=n.react.vueNamedSlotsKey.find((function(t){return 0===e.indexOf(t)}));if(r||"default"===e){var o=e.replace(new RegExp("^".concat(r)),"");return E[o]=i.$slots[e],E[o].__slot=!0,0}C[e]=i.__veauryGetScopeSlot__(i.$slots[e],h,null===(t=i.$.vnode)||void 0===t||null===(t=t.children)||void 0===t?void 0:t[e])};for(var w in this.$slots||{})j(w)}(!t||t&&null!=o&&o.slot)&&(P=c({},E),O=P.default,delete P.default),this.__veauryLast__=this.__veauryLast__||{},this.__veauryLast__.slot=this.__veauryLast__.slot||{},this.__veauryLast__.attrs=this.__veauryLast__.attrs||{};var A={slot:function(){i.__veauryLast__.slot=c(c(c({},O?{children:O}:{children:null}),P),C)},attrs:function(){i.__veauryLast__.attrs=i.$attrs}};if(o&&Object.keys(o).forEach((function(e){return A[e]()})),t){var I=function(){i.__veauryReactInstance__&&i.__veauryReactInstance__.setState((function(e){return Object.keys(e).forEach((function(t){n.isSlots&&"children"===t||delete e[t]})),c(c(c(c({},i.__veauryCache__),i.__veauryInjectedProps__),!n.isSlots&&i.__veauryLast__.slot),i.__veauryLast__.attrs)})),i.__veauryCache__=null};this.microTaskUpdate&&(this.__veauryCache__||this.$nextTick((function(){I(),i.microTaskUpdate=!1}))),this.macroTaskUpdate&&(clearTimeout(this.updateTimer),this.updateTimer=setTimeout((function(){clearTimeout(i.updateTimer),I(),i.macroTaskUpdate=!1}))),this.__veauryCache__=c(c({},this.__veauryCache__||{}),c(c(c(c({},s),this.$attrs.class?{className:this.$attrs.class}:{}),c({},p)),{},{hashList:h},this.$attrs.style?{style:this.$attrs.style}:{})),this.macroTaskUpdate||this.microTaskUpdate||I()}else{A.slot(),A.attrs();var V=function(e,t,r){var n;return n=function(n){y(i,n);var o=S(i);function i(n){var a;return f(this,i),(a=o.call(this,n)).state=c(c({},n),t.isSlots?{children:e}:{}),a.setRef=a.setRef.bind(b(a)),a.vueInReactCall=a.vueInReactCall.bind(b(a)),a.__veauryVueWrapperRef__=r,r.__veauryVueInReactCall__=a.vueInReactCall,a}return _(i,[{key:"reactPropsLinkToVueInstance",value:function(e){Object.keys(e).forEach((function(t){r[t]||(r[t]=e[t])})),Object.getOwnPropertyNames(e.__proto__).filter((function(e){return["constructor","render"].indexOf(e)<0})).forEach((function(t){r[t]||(r[t]=e[t])}))}},{key:"setRef",value:function(e){var t=this;e&&(r.__veauryReactRef__=e,this.reactPropsLinkToVueInstance(e),Promise.resolve().then((function(){return t.reactPropsLinkToVueInstance(e)})),this.setRef.current=e,e.__veauryVueWrapperRef__=r)}},{key:"createSlot",value:function(e){return{originVNode:e,inheritAttrs:!1,__fromReactSlot:!0,render:function(){var t,r,n,o;if((e=(null===(t=this.$slots)||void 0===t||null===(r=t.default)||void 0===r?void 0:r.call(t))||e)instanceof Function&&(e=e(this)),1===(null===(n=e)||void 0===n?void 0:n.length)&&null!==(o=e[0])&&void 0!==o&&o.data){var a=this.$attrs;a.key;var i=g(a,T);e[0].props=c(c({},i),e[0].props)}return e}}}},{key:"componentWillUnmount",value:function(){r.__veauryReactRef__&&(r.__veauryReactRef__.__veauryVueWrapperRef__=null,r.__veauryReactRef__=null)}},{key:"vueInReactCall",value:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>2?arguments[2]:void 0)&&e&&e[0]?e.map((function(e,a){var i;return re(n.createSlot(e instanceof Function?e:[e]),c(c(c({},t),o),{},{isSlots:!0,wrapInstance:r})).render({key:(null==e||null===(i=e.data)||void 0===i?void 0:i.key)||a})})):re(this.createSlot(e),c(c(c({},t),o),{},{isSlots:!0,wrapInstance:r})).render()}},{key:"render",value:function(){var n=this,o=this.state,u=o.hashList,s=g(o,W),f={},p={},_=function(e){if(!s.hasOwnProperty(e)||null==s[e])return 0;if(s[e].__slot){if(s[e].reactSlot)s[e]=s[e].reactSlot;else{var o=s[e];t.defaultSlotsFormatter&&s[e].__trueChildren?(s[e].__top__=n.__veauryVueWrapperRef__,s[e]=t.defaultSlotsFormatter(s[e].__trueChildren,n.vueInReactCall,u),s[e]instanceof Array?s[e]=R(s[e]):["string","number"].indexOf(l(s[e]))>-1?s[e]=[s[e]]:"object"===l(s[e])&&(s[e]=c({},s[e]))):s[e]=c({},re(n.createSlot(s[e]),c(c({},t),{},{isSlots:!0,wrapInstance:r})).render()),s[e].vueFunction=o}return f[e]=s[e],0}s[e].__scopedSlot&&(s[e]=s[e](n.createSlot),p[e]=s[e])};for(var v in s)_(v);var y={};if(y.ref=this.setRef,t.isSlots)return this.state.children||this.props.children;var h=s;t.defaultPropsFormatter&&(h=t.defaultPropsFormatter(s,this.vueInReactCall,u));var m=c(c(c({},h),f),p);return Object.getPrototypeOf(e)!==Function.prototype&&("object"!==l(e)||e.render)||i.catchVueRefs()?(Object.getPrototypeOf(e)===Function.prototype&&delete y.ref,a.createElement(e,d({},m,y))):a.createElement(D,d({passedProps:m,component:e},y),m.children)}}],[{key:"catchVueRefs",value:function(){if(!r.$parent)return!1;for(var e in r.$parent.$refs)if(r.$parent.$refs[e]===r)return!0;return!1}}]),i}(a.Component),v(n,"displayName","applyReact_".concat(e.displayName||e.name||"Component")),n}(e,n,this),k=a.createElement(V,d({},this.$attrs,this.__veauryInjectedProps__,{children:O},P,C,this.$attrs.class?{className:this.$attrs.class}:{},p,{hashList:h},this.$attrs.style?{style:this.$attrs.style}:{},{ref:function(e){return i.__veauryReactInstance__=e}})),$=this.$refs.react,F=n.wrapInstance;if(F)(F=n.wrapInstance).__veauryVueWrapperRef__=this;else for(var U=this.$parent;U;){if(U.parentReactWrapperRef){F=U.parentReactWrapperRef;break}if(U.reactWrapperRef){F=U.reactWrapperRef;break}U=U.$parent}if(F)return this.parentReactWrapperRef=F,this.reactPortal=function(){return r.createPortal(k,$)},void F.pushReactPortal(this.reactPortal);if(N>17)return void 0!==u.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED&&(u.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint=!0),this.__veauryReactApp__=u.default.createRoot($),void this.__veauryReactApp__.render(k);u.default.render(k,$)}}},mounted:function(){var e=this;this.__VEAURY_IGNORE_STRANGE_UPDATE__=!0,Promise.resolve().then((function(){e.__VEAURY_IGNORE_STRANGE_UPDATE__=!1})),clearTimeout(this.updateTimer),this.__veauryMountReactComponent__()},beforeUnmount:function(){var e;if(clearTimeout(this.updateTimer),this.reactPortal)return V(this.$refs.react),null===(e=this.parentReactWrapperRef)||void 0===e||e.removeReactPortal(this.reactPortal),void k();V(this.$refs.react),N>17?this.__veauryReactApp__.unmount():u.default.unmountComponentAtNode(this.$refs.react),k()},updated:function(){this.__VEAURY_IGNORE_STRANGE_UPDATE__||this.__veauryMountReactComponent__(!0,{slot:!0})},inheritAttrs:!1,watch:{$attrs:{handler:function(){this.__veauryMountReactComponent__(!0,{attrs:!0})},deep:!0},__veauryInjectedProps__:{handler:function(){this.__veauryMountReactComponent__(!0,{attrs:!0})},deep:!0}}}}var U=new Set(["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onChange","onInput","onInvalid","onReset","onSubmit","onError","onLoad","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onLoad","onError","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onToggle"]);function x(e,t,r){var n={};return r.forEach((function(e){n[e]=!0})),e[("modelValue"===t?"model":t)+"Modifiers"]=n}function L(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"v-model",a=t;if(!(a instanceof Array))throw Error("[error:veaury] Parameter type error from '".concat(o,"', a single v-model is an array, such as [val, setter, argumentKey, modifiers] or [val, setter, modifiers]"));if("function"!=typeof a[1])throw Error("[error:veaury] Parameter type error from '".concat(o,"', a single v-model is an array, the second element of the array must be a setter function"));var i=a[1];"string"==typeof a[2]?(r=a[2],a[3]instanceof Array&&x(e,r,a[3])):a[2]instanceof Array&&x(e,r,a[2]);var u=e["onUpdate:"+r];e["onUpdate:"+r]="function"==typeof u?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u.apply(n,t),i.apply(n,t)}:i,e[r]=a[0]}function M(e){var t=this,r={},n=c({},e);return Object.keys(e).forEach((function(o){var a=o.match(/^onUpdate-([^-]+)/);if(a){delete n[o];var i=r["onUpdate:".concat(a[1])];r["onUpdate:".concat(a[1])]="function"==typeof i?function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];i.apply(t,n),e[o].apply(t,n)}:e[o]}else{if(a=o.match(/^v-model($|:([^:]+)|-([^:]+))/)){var u=a[2]||a[3]||"modelValue";return L(r,e[o],u),void delete n[o]}if("v-models"===o){if("object"!==l(e[o])||e[o]instanceof Array)throw Error("[error:veaury] The parameter 'v-models' must be an object type, such as {[argumentKey]: singleVModel}");var s=e[o];Object.keys(s).forEach((function(e){L(r,s[e],e,"v-models")})),delete n[o]}}})),c(c({},n),r)}var K=function(){function e(){f(this,e),v(this,"pool",new Set)}return _(e,[{key:"getRandomId",value:function(e){var t=e+(Math.random()+"").substr(2);return this.pool.has(t)?this.getRandomId(e):(this.pool.add(t),t)}}]),e}();function Y(e,t){var r,n,o=e.node;if("function"==typeof o&&(o=o()),null!==(r=t)&&void 0!==r&&r.current||"function"==typeof t||null!==(n=t)&&void 0!==n&&n.toString().match(/^function/)||(t=null),["string","number"].indexOf(l(o))>-1)return o;if(o instanceof Array){if(1!==o.length)return o;o=o[0]}return c(c({},o),{},{ref:t})}var B=F(Y);function G(e){return t.h(B,{node:function(){return e.node}})}G.originReactComponent=e.forwardRef(Y);var q=["component","node"],H=["component","$slots","children","class","style"],z=["className","classname"],Z="veaury-options",J=new K;function Q(e){if(e)return Object.keys(e).forEach((function(t){var r=e[t];null!=r&&("function"==typeof r?(e[t]=r,e[t].reactFunction=r):(e[t]=function(){return r},e[t].reactSlot=r),r.vueFunction&&(e[t].vueFunction=r.vueFunction))})),e}function X(e){var t;return null===(t=e.node)||void 0===t?void 0:t.call(e)}var ee=a.forwardRef((function(e,t){var r=e.component,n=e.node,o=g(e,q);if(null==r&&null==n)return null;if(null!=n){if(n.$$typeof||"string"==typeof n||"number"==typeof n)return n;if("function"!=typeof n){var i=n;n=function(){return i}}}r=r||X;var u,s=w(o[Z]||{},void 0,!0),l=s.useInjectPropsFromWrapper||r.__veauryInjectPropsFromWrapper__;return s.isSlots||"function"==typeof l&&(u=l(o)),a.createElement(te,d({},c(c(c(c({component:r},n?{node:n}:{}),o),u),{},v({},Z,s)),{ref:t}))})),te=function(e){y(n,e);var r=S(n);function n(e){var t;return f(this,n),(t=r.call(this,e)).state={portals:[]},t.__veauryPortalKeyPool__=[],t.__veauryMaxPortalCount__=0,t.__veauryCurrentVueComponent__=e.component,t.__veauryCreateVueInstance__=t.__veauryCreateVueInstance__.bind(b(t)),t.__veauryVueComponentContainer__=t.createVueComponentContainer(),t}return _(n,[{key:"pushReactPortal",value:function(e){var t=this.state.portals,r=this.__veauryPortalKeyPool__.shift()||this.__veauryMaxPortalCount__++;t.push({Portal:e,key:r}),this.setState({portals:t})}},{key:"removeReactPortal",value:function(e){var t,r=this.state.portals,n=r.find((function(r,n){if(r.Portal===e)return t=n,!0}));this.__veauryPortalKeyPool__.push(n.key),r.splice(t,1),this.__veauryVueRef__&&this.setState({portals:r})}},{key:"createVueComponentContainer",value:function(){var e=this,t={},r=this.props[Z];return r.isSlots?(Object.keys(this.props).forEach((function(r){U.has(r)&&"function"==typeof e.props[r]&&(t[r]=e.props[r])})),r.vue.slotWrapAttrs&&(t=c(c({},t),r.vue.slotWrapAttrs))):r.vue.componentWrapAttrs&&(t=c(c({},t),r.vue.componentWrapAttrs)),r.vue.componentWrapHOC(a.createElement("div",d({},r.vue.componentWrapAttrs,{ref:this.__veauryCreateVueInstance__,key:null})),t)}},{key:"shouldComponentUpdate",value:function(e,t,r){var n=this;if(e===this.props)return!0;var o=e.component;e[Z];var a=e["v-slots"],i=void 0===a?null:a,u=e.children,s=g(e,["component",Z,"v-slots","children"].map(C));if(this.__veauryCurrentVueComponent__!==o&&this.updateVueComponent(o),o.__fromReactSlot)return!0;if(this.__veauryVueInstance__){u&&(i||(i={}),"object"!==l(u)||u instanceof Array||u.$$typeof?i.default=u:i=u);var c=this.__veauryVueInstance__.$data.$slots;return c&&Object.keys(c).forEach((function(e){delete c[e]})),i&&(c||(this.__veauryVueInstance__.$data.$slots={}),Object.assign(this.__veauryVueInstance__.$data.$slots,Q(i))),Object.keys(this.__veauryVueInstance__.$data).forEach((function(e){"$slots"!==e&&delete n.__veauryVueInstance__.$data[e]})),this.__veauryVueInstance__&&Object.assign(this.__veauryVueInstance__.$data,M(s)),!0}}},{key:"componentWillUnmount",value:function(){this.vuePortal?this.parentVueWrapperRef.__veauryRemoveVuePortal__(this.vuePortal):(this.__veauryVueInstance__&&this.__veauryVueInstance__.$.appContext.app.unmount(),J.pool.delete(this.__veauryVueTargetId__))}},{key:"__veauryCreateVueInstance__",value:function(e){var r=this,n=this,o=this.props;o.component;var a=o[Z],i=o.children,u=o["v-slots"],s=void 0===u?{}:u,f=g(o,["component",Z,"children","v-slots"].map(C));function p(e){this.__veauryVueInstance__||(this.__veauryVueInstance__=e)}i&&("object"!==l(i)||i instanceof Array||i.$$typeof?s.default=i:s=i),(s=Q(s))&&(f.$slots=s),p=p.bind(this);var _=c({},M(f)),v={data:function(){return a.isSlots?{children:n.__veauryCurrentVueComponent__.originVNode}:_},created:function(){this.reactWrapperRef=n,p(this)},methods:{reactInVueCall:function(e){return(arguments.length>2?arguments[2]:void 0)&&e&&e[0]?e.map((function(e,r){var n;return t.h(G,{node:e,key:(null==e||null===(n=e.data)||void 0===n?void 0:n.key)||r})})):t.h(G,{node:e})},getScopedSlots:function(e,t){var r=this;this.getScopedSlots.__scopeSlots||(this.getScopedSlots.__scopeSlots={});var o=c({},t),i=function(t){if(!o.hasOwnProperty(t))return 0;var i,u=o[t];if(null==u)return 0;o[t]=(i=u,function(){for(var o,u,s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];if(i.vueFunction)return i.vueFunction.apply(r,l);var p=i.reactSlot,_=i.reactFunction,v=p||(null==_?void 0:_.apply(r,l)),d=a.defaultSlotsFormatter;return null!==(o=r.getScopedSlots.__scopeSlots[t])&&void 0!==o&&null!==(o=o.component)&&void 0!==o&&null!==(o=o.ctx)&&void 0!==o&&o.__veauryReactInstance__?(u=r.getScopedSlots.__scopeSlots[t],Promise.resolve().then((function(){var e;null===(e=u)||void 0===e||null===(e=e.component)||void 0===e||null===(e=e.ctx)||void 0===e||null===(e=e.__veauryReactInstance__)||void 0===e||e.setState({children:i.apply(r,l)})}))):(u=d&&v?[d(v,r.reactInVueCall)]:e(F((function(){return i.apply(r,l)}),c(c({},a),{},{isSlots:!0,wrapInstance:n}))),r.getScopedSlots.__scopeSlots[t]=u),i.reactFunction?(u.reactFunction=i.reactFunction,u):i.reactSlot?(u.reactSlot=i.reactSlot,u):u}),o[t].reactFunction=u};for(var u in o)i(u);return o}},mounted:function(){e.removeAttribute("id"),n.__veauryVueRef__=this.$refs.use_vue_wrapper,this.$refs.use_vue_wrapper.reactWrapperRef=n},beforeUnmount:function(){n.__veauryVueRef__=null,this.$refs.use_vue_wrapper.reactWrapperRef=null},render:function(){var e=this,r=this.$data;r.component;var o=r.$slots;r.children;var i,u,s,l,f=r.class,p=r.style,_=g(r,H),v=this.getScopedSlots(t.h,c({},o)),d=_.className,y=_.classname,h=g(_,z),m={};return Object.keys(v).forEach((function(e){var t=v[e];m[e]="function"==typeof t?t:function(){return t}})),t.h((i=n.__veauryCurrentVueComponent__,u=this,"string"==typeof i&&u&&(i=null===(s=u.$)||void 0===s||null===(s=s.appContext)||void 0===s||null===(s=s.app)||void 0===s||null===(l=s.component)||void 0===l?void 0:l.call(s,i)),i),c(c(c(c({},h),f||d||y?{class:f||d||y}:{}),p?{style:p}:{}),{},{ref:"use_vue_wrapper"}),c({},a.isSlots&&this.children?{default:"function"==typeof this.children?this.children:function(){return e.children}}:c({},m)))}};if(e){var d=J.getRandomId("__vue_wrapper_container_");e.id=d,this.__veauryVueTargetId__=d;var y=a.wrapInstance;if(y?(y=a.wrapInstance).reactWrapperRef=n:y=function(e,t){for(var r,n,o=null===(r=t=(null==e?void 0:e._reactInternals)||(null==e?void 0:e._reactInternalFiber)||t)||void 0===r?void 0:r.return;o;){var a=o.stateNode;if(n=(null==a?void 0:a.parentVueWrapperRef)||(null==a?void 0:a.__veauryVueWrapperRef__))return n;o=o.return}}(this),y&&document.getElementById(d))return this.parentVueWrapperRef=y,this.vuePortal=function(e,n){return e(t.Teleport,{to:"#"+d,key:d},[e(Object.assign(v,{router:r._router}))])},void y.__veauryPushVuePortal__(this.vuePortal);var h=t.createApp(v);"function"==typeof a.beforeVueAppMount&&a.beforeVueAppMount(h),this.__veauryVueInstance__=h.mount(e)}}},{key:"updateVueComponent",value:function(e){this.__veauryVueInstance__&&(e.__fromReactSlot?this.__veauryVueInstance__.children="function"==typeof e.originVNode?e.originVNode:function(){return e.originVNode}:(this.__veauryCurrentVueComponent__=e,this.__veauryVueInstance__.$forceUpdate()))}},{key:"render",value:function(){return a.createElement(this.__veauryVueComponentContainer__,{portals:this.state.portals})}}]),n}(a.Component);function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||console.warn("Component must be passed in applyVueInReact!"),e.__esModule&&e.default&&(e=e.default);var r=a.forwardRef((function(r,n){return a.createElement(ee,d({},r,{component:e,ref:n},v({},Z,t)))}));return r.originVueComponent=e,r}function ne(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))}function oe(e){if(!e)return{};if("string"==typeof e)return(e=e.trim()).split(/\s*;\s*/).reduce((function(e,t){return t?(2!==(t=t.split(/\s*:\s*/)).length||Object.assign(e,v({},ne(t[0]),t[1])),e):e}),{});if("object"===l(e)){var t={};return Object.keys(e).forEach((function(r){t[ne(r)]=e[r]})),t}return{}}function ae(e){return e?e instanceof Array?e:"string"==typeof e?(e=e.trim()).split(/\s+/):"object"===l(e)?Object.keys(e).filter((function(t){return!!e[t]})):[]:[]}new K;var ie=["ref"];function ue(e){return e.type===t.Text}function se(e,t){var r;return(null===(r=e.dirs)||void 0===r?void 0:r.length)>0?a.createElement(ce,{vnode:e},t):t}new K;var ce=function(e){y(r,e);var t=S(r);function r(e){var n;return f(this,r),(n=t.call(this,e)).state={prevVnode:null,savedDirectives:[],ref:null,prevProps:e},n}return _(r,[{key:"findDirectiveName",value:function(e){var t=e.dir,r=-1;return[this.state.savedDirectives.find((function(e,n){if(e.dir===t)return r=n,!0})),r]}},{key:"doDirective",value:function(){var e=this,t=this.state,r=t.savedDirectives,n=t.ref;if(!n){var o=this._reactInternals||this._reactInternalFiber;for(n=o.child;n&&5!==n.tag;)n=n.child;if(!n)return;n=n.stateNode}var a=this.props.vnode,i=a.dirs;i&&(i.forEach((function(t){if(t){var o=O(e.findDirectiveName(t),2),i=o[0],u=o[1],s=t.dir,l=s.created,f=s.beforeMount,p=s.mounted,_=s.beforeUpdate,v=s.updated;if(!i){r.push(t);var d=[n,t,a,null];return null==l||l.apply(null,d),null==f||f.apply(null,d),null==p||p.apply(null,d),void(t.oldValue=t.value)}r[u]=c(c(c({},i),t),{},{oldValue:i.oldValue});var y=[n,r[u],a,e.state.prevVnode];null==_||_.apply(null,y),null==v||v.apply(null,y),r[u].oldValue=t.value}})),this.setState({prevVnode:c({},a),savedDirectives:r,ref:n}))}},{key:"componentDidMount",value:function(){this.doDirective()}},{key:"componentDidUpdate",value:function(e){e.vnode!==this.props.vnode&&this.doDirective()}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.vnode,r=this.state,n=r.savedDirectives,o=r.ref,a=r.prevVnode,i=t.dirs;i&&(i.forEach((function(r){if(r){var i=O(e.findDirectiveName(r),2),u=i[0],s=i[1];if(u){var l=r.dir,f=l.beforeUnmount,p=l.unmounted;n[s]=c(c({},u),r);var _=[o,u,t,a];null==f||f.apply(null,_),null==p||p.apply(null,_)}}})),this.setState({prevVnode:c({},t),savedDirectives:n}))}},{key:"render",value:function(){var e=this.props;return e.vnode,e.children}}]),r}(a.Component);function le(e){var t,r,n;if("function"==typeof(null===(t=e.type)||void 0===t?void 0:t.originReactComponent)&&!function(e,t){if("function"!=typeof e)return!1;var r=e.toString();return void 0!==e.prototype&&e.prototype.constructor===e&&("class"==r.slice(0,5)||Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(r)&&(!(!t||!/^function\s+[A-Z]/.test(r))||!!/\b\(this\b|\bthis[\.\[]\b/.test(r)&&(!(t&&!/classCallCheck\(this/.test(r))||/^function\sdefault_\d+\s*\(/.test(r))))}(null===(r=e.type)||void 0===r?void 0:r.originReactComponent))return null;var o=null===(n=e.ref)||void 0===n?void 0:n.r;if(o&&"string"==typeof o){var a=o;o=function(t){var r;if(t){if(e.ref.i.refs){var n=c({},e.ref.i.refs);n[a]=t,e.ref.i.refs=n}void 0!==(null===(r=e.ref.i.setupState)||void 0===r?void 0:r[a])&&(e.ref.i.setupState[a]=t)}},o=new Proxy(o,{get:function(e,t){return e[t]},set:function(t,r,n){var o;if(null!==(o=e.ref.i.refs)&&void 0!==o&&o[a]){var i=c({},e.ref.i.refs);i[r]=n,e.ref.i.refs=i}return n}})}return o}function fe(e,t){return!t||t instanceof Array&&0===t.length||("string"==typeof t&&(t=[t]),(e=c({},e)).props=c({},e.props),t.forEach((function(t){e.props[t]=""}))),e}var pe=["style","class"];function _e(e,r,n,o,a,u,s){if("all"===r||r instanceof Array||(r=r?[r]:[]),e.type===t.Fragment)return a(e.children,n,u);if("string"==typeof e.type&&("all"===r||r.indexOf(e.type)>-1)){var f=le(e),p=e.props||{},_=p.style,v=p.class,d=c(c({},g(p,pe)),{},{style:oe(_),className:Array.from(new Set(ae(v))).join(" ")},f?{ref:f}:{}),y=e.children||d.children;return y&&((y=["string","number"].indexOf(l(y))>-1?[y]:R(y)).__top__=s),se(e,fe(i.default.createElement(e.type,d,a(y,n,u)),e.scopeId))}return n([e],null,o)}function ve(e,t,r){return e instanceof Array&&1===e.length&&(e=e[0]),!(e instanceof Array)&&null==e.key&&t.length>1&&((e=c({},e)).key="_key_".concat(r)),e}function de(e){var r=e.reactComponents,n=e.domTags,o=e.division,a=void 0===o||o;return function e(o,u,s){if(o&&o.forEach){var l=[];return o.forEach((function(f,p){var _;if(f&&f.type!==t.Comment)if(null!==(_=f.type)&&void 0!==_&&_.originReactComponent){var v,d=f.type.originReactComponent;if("all"===r||r instanceof Array||(r=[r]),"all"===r||r.indexOf(d)>-1){f.__top__=o.__top__;var y=function(e,t,r,n,o){var a=e.props||{};a.ref;var i=g(a,ie),u={};Object.keys(e.children||{}).forEach((function(t){var a=e.children[t],i=j.react.vueNamedSlotsKey.find((function(e){return 0===t.indexOf(e)}));if(i||"default"===t){var s=t.replace(new RegExp("^".concat(i)),"").replace(/^default$/,"children");u[s]=n(a(),r,o)}else u[t]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return a.__reactArgs=t,n(a.apply(this,t),r,o)}}));var s={},l=oe(i.style),f=Array.from(new Set(ae(i.class))).join(" ");return Object.keys(l).length>0&&(s.style=l),""!==f&&(s.className=f),Object.assign(i,c(c({},s),u)),delete i.class,i}(f,"_key_".concat(p),u,e,s),h=le(f);f.children&&(f.children.__top__=o.__top__),v=se(f,i.default.createElement(d,c(c(c({},function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}(y,f,d)),f.__extraData?f.__extraData:{}),h?{ref:h}:{})))}else v=ue(f)?f.text:_e(f,n,u,a,e,s);fe(v=ve(v,o,p),f.scopeId),l.push(v)}else{if(f.$$typeof||"string"==typeof f||"number"==typeof f)return void l.push(f);if(ue(f))return void(""!==f.children.trim()&&l.push(f.children.trim()));if(f.type){var m=_e(f,n,u,a,e,s,o.__top__);fe(m=ve(m,o,p),f.scopeId),l.push(m)}}})),1===l.length?l[0]:l}return o}}de({reactComponents:"all",domTags:"all"}),de({reactComponents:"all",domTags:"all"});var ye=["ref","children","v-slots"];function he(e){var t=e.ref;if(t){if("object"===l(t))return t=function(t){e.ref.current=t};if("function"==typeof t)return t}}var me=["style","class","children"];function ge(r,n,o,a,i,u){var s;if("all"===n||n instanceof Array||(n=n?[n]:[]),r.type===e.Fragment)return i(null===(s=r.props)||void 0===s?void 0:s.children,o);if("string"==typeof r.type&&("all"===n||n.indexOf(r.type)>-1)){var f=he(r),p=r.props||{},_=p.style,v=p.class,d=p.children,y=g(p,me),h=Array.from(new Set(ae(v))).join(" "),m=oe(_),b=c(c(c(c({},y),0===Object.keys(m).length?{}:{style:m}),h?{className:h}:{}),f?{ref:f}:{});0===Object.keys(b).length&&(b=null);var S=d;return S&&((S=["string","number"].indexOf(l(S))>-1?[S]:S instanceof Array?R(S):c({},S)).__top__=u),t.h(r.type,b,i(S,o))}return o([r],null,a)}function be(e){var r=e.vueComponents,n=e.domTags,o=e.division,a=void 0===o||o;return function e(o,i){if(null==o)return o;o instanceof Array||(o=[o]);var u=[];return o.forEach((function(s,f){var p;if(null!==(p=s.type)&&void 0!==p&&p.originVueComponent||s.type===ee){var _,v=s.type.originVueComponent;if(s.type===ee){if(!s.props.component)return void u.push(s.props.node);v=s.props.component,s=c({},s);var d=c({},s.props);delete d.component,s.props=d}if("all"===r||r instanceof Array||(r=[r]),"all"===r||r.indexOf(v)>-1){(s=c({},s)).__top__=o.__top__;var y=function(e,t,r,n,o){var a=e.props||{};a.ref;var i=a.children,u=a["v-slots"],s=void 0===u?{}:u,f=g(a,ye);i&&("object"!==l(i)||i instanceof Array||i.$$typeof?s.default=i:s=i);var p=null;Object.keys(s||{}).forEach((function(e){var t=s[e];p||(p={}),p[e]=function(){if("function"==typeof t){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];t=t.apply(this,a)}return n(t,r,o)}}));var _={},v=oe(f.style),d=Array.from(new Set(ae(f.className))).join(" ");return Object.keys(v).length>0&&(_.style=v),""!==d&&(_.class=d),Object.assign(f,c({},_)),delete f.className,{props:f=M(f),slots:p}}(s,"_key_".concat(f),i,e),h=y.props,m=y.slots;he(s),s.children&&(s.children.__top__=o.__top__),_=t.h(v,c({},h),m)}else _=ge(s,n,i,a,e);u.push(_)}else{if(s.__v_isVNode||"string"==typeof s||"number"==typeof s)return void u.push(s);if(s.type){var b=ge(s,n,i,a,e,o.__top__);u.push(b)}}})),1===(u=u.flat(1/0)).length?u[0]:u}}var Se=be({vueComponents:"all",domTags:"all"});function Oe(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.globalName;var r=t.combinedOption;return t.transparentApi,re(e,r||{})}(e,{combinedOption:c({pureTransformer:!0,defaultSlotsFormatter:Se},t)})}be({reactComponents:"all",domTags:"all"}),new K;var Re=function(e){var t,r,n=e.slots,o=e.name,a=e.params,u=void 0===a?{}:a;return i.default.createElement(i.default.Fragment,null,null===(t=n[o])||void 0===t||null===(r=t.render)||void 0===r?void 0:r.call(t,u))},Pe=function(t){return e.useMemo((function(){return new Proxy({},{has:function(e,r){return r in t},ownKeys:function(e){return Reflect.ownKeys(t)},get:function(e,r){return r===Symbol.toPrimitive?function(){return"{}"}:t[r]}})}),[t])};window.VUEHoc=function(e){var t=Oe(e,{});return function(e){var r=e.data,n=e.outputs,o=e.inputs,a=e.slots;e.style;var u=e.env,s=e._env,l=e.logger,f=e.title,p=e.id,_={},v={},y=function(e){Object.prototype.hasOwnProperty.call(a,e)&&(_[e]=function(t){return console.warn(t),i.default.createElement(Re,{slots:a,name:e,params:t})},v[e]=a[e],v[e].size)};for(var h in a)y(h);var m=Pe(o),g=Pe(n),b={id:p,title:f,env:Pe(u),_env:s,logger:l,data:c({},r),outputs:g,inputs:m,slots:v};return i.default.createElement(t,d({},b,{"v-slots":_}))}}}));
